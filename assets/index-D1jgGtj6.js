var Lx=o=>{throw TypeError(o)};var dd=(o,e,t)=>e.has(o)?Lx("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(o):e.set(o,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const _ of document.querySelectorAll('link[rel="modulepreload"]'))c(_);new MutationObserver(_=>{for(const ee of _)if(ee.type==="childList")for(const we of ee.addedNodes)we.tagName==="LINK"&&we.rel==="modulepreload"&&c(we)}).observe(document,{childList:!0,subtree:!0});function t(_){const ee={};return _.integrity&&(ee.integrity=_.integrity),_.referrerPolicy&&(ee.referrerPolicy=_.referrerPolicy),_.crossOrigin==="use-credentials"?ee.credentials="include":_.crossOrigin==="anonymous"?ee.credentials="omit":ee.credentials="same-origin",ee}function c(_){if(_.ep)return;_.ep=!0;const ee=t(_);fetch(_.href,ee)}})();function Xv(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var x0={exports:{}},fd={},w0={exports:{}},ui={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ug;function Nx(){if(Ug)return ui;Ug=1;var o=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),ee=Symbol.for("react.provider"),we=Symbol.for("react.context"),Fe=Symbol.for("react.forward_ref"),nt=Symbol.for("react.suspense"),st=Symbol.for("react.memo"),yt=Symbol.for("react.lazy"),kt=Symbol.iterator;function We(T){return T===null||typeof T!="object"?null:(T=kt&&T[kt]||T["@@iterator"],typeof T=="function"?T:null)}var ue={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},n=Object.assign,r={};function A(T,B,O){this.props=T,this.context=B,this.refs=r,this.updater=O||ue}A.prototype.isReactComponent={},A.prototype.setState=function(T,B){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,B,"setState")},A.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function k(){}k.prototype=A.prototype;function b(T,B,O){this.props=T,this.context=B,this.refs=r,this.updater=O||ue}var w=b.prototype=new k;w.constructor=b,n(w,A.prototype),w.isPureReactComponent=!0;var N=Array.isArray,M=Object.prototype.hasOwnProperty,f={current:null},d={key:!0,ref:!0,__self:!0,__source:!0};function j(T,B,O){var R,E={},v=null,i=null;if(B!=null)for(R in B.ref!==void 0&&(i=B.ref),B.key!==void 0&&(v=""+B.key),B)M.call(B,R)&&!d.hasOwnProperty(R)&&(E[R]=B[R]);var a=arguments.length-2;if(a===1)E.children=O;else if(1<a){for(var y=Array(a),h=0;h<a;h++)y[h]=arguments[h+2];E.children=y}if(T&&T.defaultProps)for(R in a=T.defaultProps,a)E[R]===void 0&&(E[R]=a[R]);return{$$typeof:o,type:T,key:v,ref:i,props:E,_owner:f.current}}function L(T,B){return{$$typeof:o,type:T.type,key:B,ref:T.ref,props:T.props,_owner:T._owner}}function H(T){return typeof T=="object"&&T!==null&&T.$$typeof===o}function x(T){var B={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(O){return B[O]})}var S=/\/+/g;function q(T,B){return typeof T=="object"&&T!==null&&T.key!=null?x(""+T.key):B.toString(36)}function ve(T,B,O,R,E){var v=typeof T;(v==="undefined"||v==="boolean")&&(T=null);var i=!1;if(T===null)i=!0;else switch(v){case"string":case"number":i=!0;break;case"object":switch(T.$$typeof){case o:case e:i=!0}}if(i)return i=T,E=E(i),T=R===""?"."+q(i,0):R,N(E)?(O="",T!=null&&(O=T.replace(S,"$&/")+"/"),ve(E,B,O,"",function(h){return h})):E!=null&&(H(E)&&(E=L(E,O+(!E.key||i&&i.key===E.key?"":(""+E.key).replace(S,"$&/")+"/")+T)),B.push(E)),1;if(i=0,R=R===""?".":R+":",N(T))for(var a=0;a<T.length;a++){v=T[a];var y=R+q(v,a);i+=ve(v,B,O,y,E)}else if(y=We(T),typeof y=="function")for(T=y.call(T),a=0;!(v=T.next()).done;)v=v.value,y=R+q(v,a++),i+=ve(v,B,O,y,E);else if(v==="object")throw B=String(T),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return i}function ke(T,B,O){if(T==null)return T;var R=[],E=0;return ve(T,R,"","",function(v){return B.call(O,v,E++)}),R}function Se(T){if(T._status===-1){var B=T._result;B=B(),B.then(function(O){(T._status===0||T._status===-1)&&(T._status=1,T._result=O)},function(O){(T._status===0||T._status===-1)&&(T._status=2,T._result=O)}),T._status===-1&&(T._status=0,T._result=B)}if(T._status===1)return T._result.default;throw T._result}var ge={current:null},J={transition:null},Q={ReactCurrentDispatcher:ge,ReactCurrentBatchConfig:J,ReactCurrentOwner:f};function K(){throw Error("act(...) is not supported in production builds of React.")}return ui.Children={map:ke,forEach:function(T,B,O){ke(T,function(){B.apply(this,arguments)},O)},count:function(T){var B=0;return ke(T,function(){B++}),B},toArray:function(T){return ke(T,function(B){return B})||[]},only:function(T){if(!H(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},ui.Component=A,ui.Fragment=t,ui.Profiler=_,ui.PureComponent=b,ui.StrictMode=c,ui.Suspense=nt,ui.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q,ui.act=K,ui.cloneElement=function(T,B,O){if(T==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+T+".");var R=n({},T.props),E=T.key,v=T.ref,i=T._owner;if(B!=null){if(B.ref!==void 0&&(v=B.ref,i=f.current),B.key!==void 0&&(E=""+B.key),T.type&&T.type.defaultProps)var a=T.type.defaultProps;for(y in B)M.call(B,y)&&!d.hasOwnProperty(y)&&(R[y]=B[y]===void 0&&a!==void 0?a[y]:B[y])}var y=arguments.length-2;if(y===1)R.children=O;else if(1<y){a=Array(y);for(var h=0;h<y;h++)a[h]=arguments[h+2];R.children=a}return{$$typeof:o,type:T.type,key:E,ref:v,props:R,_owner:i}},ui.createContext=function(T){return T={$$typeof:we,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},T.Provider={$$typeof:ee,_context:T},T.Consumer=T},ui.createElement=j,ui.createFactory=function(T){var B=j.bind(null,T);return B.type=T,B},ui.createRef=function(){return{current:null}},ui.forwardRef=function(T){return{$$typeof:Fe,render:T}},ui.isValidElement=H,ui.lazy=function(T){return{$$typeof:yt,_payload:{_status:-1,_result:T},_init:Se}},ui.memo=function(T,B){return{$$typeof:st,type:T,compare:B===void 0?null:B}},ui.startTransition=function(T){var B=J.transition;J.transition={};try{T()}finally{J.transition=B}},ui.unstable_act=K,ui.useCallback=function(T,B){return ge.current.useCallback(T,B)},ui.useContext=function(T){return ge.current.useContext(T)},ui.useDebugValue=function(){},ui.useDeferredValue=function(T){return ge.current.useDeferredValue(T)},ui.useEffect=function(T,B){return ge.current.useEffect(T,B)},ui.useId=function(){return ge.current.useId()},ui.useImperativeHandle=function(T,B,O){return ge.current.useImperativeHandle(T,B,O)},ui.useInsertionEffect=function(T,B){return ge.current.useInsertionEffect(T,B)},ui.useLayoutEffect=function(T,B){return ge.current.useLayoutEffect(T,B)},ui.useMemo=function(T,B){return ge.current.useMemo(T,B)},ui.useReducer=function(T,B,O){return ge.current.useReducer(T,B,O)},ui.useRef=function(T){return ge.current.useRef(T)},ui.useState=function(T){return ge.current.useState(T)},ui.useSyncExternalStore=function(T,B,O){return ge.current.useSyncExternalStore(T,B,O)},ui.useTransition=function(){return ge.current.useTransition()},ui.version="18.3.1",ui}var Vg;function Gd(){return Vg||(Vg=1,w0.exports=Nx()),w0.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kg;function Zx(){if(Kg)return fd;Kg=1;var o=Gd(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,_=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ee={key:!0,ref:!0,__self:!0,__source:!0};function we(Fe,nt,st){var yt,kt={},We=null,ue=null;st!==void 0&&(We=""+st),nt.key!==void 0&&(We=""+nt.key),nt.ref!==void 0&&(ue=nt.ref);for(yt in nt)c.call(nt,yt)&&!ee.hasOwnProperty(yt)&&(kt[yt]=nt[yt]);if(Fe&&Fe.defaultProps)for(yt in nt=Fe.defaultProps,nt)kt[yt]===void 0&&(kt[yt]=nt[yt]);return{$$typeof:e,type:Fe,key:We,ref:ue,props:kt,_owner:_.current}}return fd.Fragment=t,fd.jsx=we,fd.jsxs=we,fd}var Gg;function qv(){return Gg||(Gg=1,x0.exports=Zx()),x0.exports}var ss=qv(),wn=Gd();const zx=Xv(wn);var jf={},E0={exports:{}},qs={},k0={exports:{}},_0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yg;function Bx(){return Yg||(Yg=1,function(o){function e(J,Q){var K=J.length;J.push(Q);e:for(;0<K;){var T=K-1>>>1,B=J[T];if(0<_(B,Q))J[T]=Q,J[K]=B,K=T;else break e}}function t(J){return J.length===0?null:J[0]}function c(J){if(J.length===0)return null;var Q=J[0],K=J.pop();if(K!==Q){J[0]=K;e:for(var T=0,B=J.length,O=B>>>1;T<O;){var R=2*(T+1)-1,E=J[R],v=R+1,i=J[v];if(0>_(E,K))v<B&&0>_(i,E)?(J[T]=i,J[v]=K,T=v):(J[T]=E,J[R]=K,T=R);else if(v<B&&0>_(i,K))J[T]=i,J[v]=K,T=v;else break e}}return Q}function _(J,Q){var K=J.sortIndex-Q.sortIndex;return K!==0?K:J.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var ee=performance;o.unstable_now=function(){return ee.now()}}else{var we=Date,Fe=we.now();o.unstable_now=function(){return we.now()-Fe}}var nt=[],st=[],yt=1,kt=null,We=3,ue=!1,n=!1,r=!1,A=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(J){for(var Q=t(st);Q!==null;){if(Q.callback===null)c(st);else if(Q.startTime<=J)c(st),Q.sortIndex=Q.expirationTime,e(nt,Q);else break;Q=t(st)}}function N(J){if(r=!1,w(J),!n)if(t(nt)!==null)n=!0,Se(M);else{var Q=t(st);Q!==null&&ge(N,Q.startTime-J)}}function M(J,Q){n=!1,r&&(r=!1,k(j),j=-1),ue=!0;var K=We;try{for(w(Q),kt=t(nt);kt!==null&&(!(kt.expirationTime>Q)||J&&!x());){var T=kt.callback;if(typeof T=="function"){kt.callback=null,We=kt.priorityLevel;var B=T(kt.expirationTime<=Q);Q=o.unstable_now(),typeof B=="function"?kt.callback=B:kt===t(nt)&&c(nt),w(Q)}else c(nt);kt=t(nt)}if(kt!==null)var O=!0;else{var R=t(st);R!==null&&ge(N,R.startTime-Q),O=!1}return O}finally{kt=null,We=K,ue=!1}}var f=!1,d=null,j=-1,L=5,H=-1;function x(){return!(o.unstable_now()-H<L)}function S(){if(d!==null){var J=o.unstable_now();H=J;var Q=!0;try{Q=d(!0,J)}finally{Q?q():(f=!1,d=null)}}else f=!1}var q;if(typeof b=="function")q=function(){b(S)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,ke=ve.port2;ve.port1.onmessage=S,q=function(){ke.postMessage(null)}}else q=function(){A(S,0)};function Se(J){d=J,f||(f=!0,q())}function ge(J,Q){j=A(function(){J(o.unstable_now())},Q)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(J){J.callback=null},o.unstable_continueExecution=function(){n||ue||(n=!0,Se(M))},o.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<J?Math.floor(1e3/J):5},o.unstable_getCurrentPriorityLevel=function(){return We},o.unstable_getFirstCallbackNode=function(){return t(nt)},o.unstable_next=function(J){switch(We){case 1:case 2:case 3:var Q=3;break;default:Q=We}var K=We;We=Q;try{return J()}finally{We=K}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(J,Q){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var K=We;We=J;try{return Q()}finally{We=K}},o.unstable_scheduleCallback=function(J,Q,K){var T=o.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?T+K:T):K=T,J){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=K+B,J={id:yt++,callback:Q,priorityLevel:J,startTime:K,expirationTime:B,sortIndex:-1},K>T?(J.sortIndex=K,e(st,J),t(nt)===null&&J===t(st)&&(r?(k(j),j=-1):r=!0,ge(N,K-T))):(J.sortIndex=B,e(nt,J),n||ue||(n=!0,Se(M))),J},o.unstable_shouldYield=x,o.unstable_wrapCallback=function(J){var Q=We;return function(){var K=We;We=Q;try{return J.apply(this,arguments)}finally{We=K}}}}(_0)),_0}var $g;function Fx(){return $g||($g=1,k0.exports=Bx()),k0.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xg;function Hx(){if(Xg)return qs;Xg=1;var o=Gd(),e=Fx();function t(l){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+l,re=1;re<arguments.length;re++)p+="&args[]="+encodeURIComponent(arguments[re]);return"Minified React error #"+l+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c=new Set,_={};function ee(l,p){we(l,p),we(l+"Capture",p)}function we(l,p){for(_[l]=p,l=0;l<p.length;l++)c.add(p[l])}var Fe=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nt=Object.prototype.hasOwnProperty,st=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yt={},kt={};function We(l){return nt.call(kt,l)?!0:nt.call(yt,l)?!1:st.test(l)?kt[l]=!0:(yt[l]=!0,!1)}function ue(l,p,re,Te){if(re!==null&&re.type===0)return!1;switch(typeof p){case"function":case"symbol":return!0;case"boolean":return Te?!1:re!==null?!re.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function n(l,p,re,Te){if(p===null||typeof p>"u"||ue(l,p,re,Te))return!0;if(Te)return!1;if(re!==null)switch(re.type){case 3:return!p;case 4:return p===!1;case 5:return isNaN(p);case 6:return isNaN(p)||1>p}return!1}function r(l,p,re,Te,Ke,at,Ot){this.acceptsBooleans=p===2||p===3||p===4,this.attributeName=Te,this.attributeNamespace=Ke,this.mustUseProperty=re,this.propertyName=l,this.type=p,this.sanitizeURL=at,this.removeEmptyString=Ot}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){A[l]=new r(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var p=l[0];A[p]=new r(p,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){A[l]=new r(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){A[l]=new r(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){A[l]=new r(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){A[l]=new r(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){A[l]=new r(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){A[l]=new r(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){A[l]=new r(l,5,!1,l.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function b(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var p=l.replace(k,b);A[p]=new r(p,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var p=l.replace(k,b);A[p]=new r(p,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var p=l.replace(k,b);A[p]=new r(p,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){A[l]=new r(l,1,!1,l.toLowerCase(),null,!1,!1)}),A.xlinkHref=new r("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){A[l]=new r(l,1,!1,l.toLowerCase(),null,!0,!0)});function w(l,p,re,Te){var Ke=A.hasOwnProperty(p)?A[p]:null;(Ke!==null?Ke.type!==0:Te||!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(n(p,re,Ke,Te)&&(re=null),Te||Ke===null?We(p)&&(re===null?l.removeAttribute(p):l.setAttribute(p,""+re)):Ke.mustUseProperty?l[Ke.propertyName]=re===null?Ke.type===3?!1:"":re:(p=Ke.attributeName,Te=Ke.attributeNamespace,re===null?l.removeAttribute(p):(Ke=Ke.type,re=Ke===3||Ke===4&&re===!0?"":""+re,Te?l.setAttributeNS(Te,p,re):l.setAttribute(p,re))))}var N=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),f=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),x=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),ke=Symbol.for("react.memo"),Se=Symbol.for("react.lazy"),ge=Symbol.for("react.offscreen"),J=Symbol.iterator;function Q(l){return l===null||typeof l!="object"?null:(l=J&&l[J]||l["@@iterator"],typeof l=="function"?l:null)}var K=Object.assign,T;function B(l){if(T===void 0)try{throw Error()}catch(re){var p=re.stack.trim().match(/\n( *(at )?)/);T=p&&p[1]||""}return`
`+T+l}var O=!1;function R(l,p){if(!l||O)return"";O=!0;var re=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(un){var Te=un}Reflect.construct(l,[],p)}else{try{p.call()}catch(un){Te=un}l.call(p.prototype)}else{try{throw Error()}catch(un){Te=un}l()}}catch(un){if(un&&Te&&typeof un.stack=="string"){for(var Ke=un.stack.split(`
`),at=Te.stack.split(`
`),Ot=Ke.length-1,br=at.length-1;1<=Ot&&0<=br&&Ke[Ot]!==at[br];)br--;for(;1<=Ot&&0<=br;Ot--,br--)if(Ke[Ot]!==at[br]){if(Ot!==1||br!==1)do if(Ot--,br--,0>br||Ke[Ot]!==at[br]){var Pr=`
`+Ke[Ot].replace(" at new "," at ");return l.displayName&&Pr.includes("<anonymous>")&&(Pr=Pr.replace("<anonymous>",l.displayName)),Pr}while(1<=Ot&&0<=br);break}}}finally{O=!1,Error.prepareStackTrace=re}return(l=l?l.displayName||l.name:"")?B(l):""}function E(l){switch(l.tag){case 5:return B(l.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return l=R(l.type,!1),l;case 11:return l=R(l.type.render,!1),l;case 1:return l=R(l.type,!0),l;default:return""}}function v(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case d:return"Fragment";case f:return"Portal";case L:return"Profiler";case j:return"StrictMode";case q:return"Suspense";case ve:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case x:return(l.displayName||"Context")+".Consumer";case H:return(l._context.displayName||"Context")+".Provider";case S:var p=l.render;return l=l.displayName,l||(l=p.displayName||p.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case ke:return p=l.displayName||null,p!==null?p:v(l.type)||"Memo";case Se:p=l._payload,l=l._init;try{return v(l(p))}catch{}}return null}function i(l){var p=l.type;switch(l.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=p.render,l=l.displayName||l.name||"",p.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return v(p);case 8:return p===j?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function a(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function y(l){var p=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function h(l){var p=y(l)?"checked":"value",re=Object.getOwnPropertyDescriptor(l.constructor.prototype,p),Te=""+l[p];if(!l.hasOwnProperty(p)&&typeof re<"u"&&typeof re.get=="function"&&typeof re.set=="function"){var Ke=re.get,at=re.set;return Object.defineProperty(l,p,{configurable:!0,get:function(){return Ke.call(this)},set:function(Ot){Te=""+Ot,at.call(this,Ot)}}),Object.defineProperty(l,p,{enumerable:re.enumerable}),{getValue:function(){return Te},setValue:function(Ot){Te=""+Ot},stopTracking:function(){l._valueTracker=null,delete l[p]}}}}function m(l){l._valueTracker||(l._valueTracker=h(l))}function C(l){if(!l)return!1;var p=l._valueTracker;if(!p)return!0;var re=p.getValue(),Te="";return l&&(Te=y(l)?l.checked?"true":"false":l.value),l=Te,l!==re?(p.setValue(l),!0):!1}function U(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function V(l,p){var re=p.checked;return K({},p,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:re??l._wrapperState.initialChecked})}function D(l,p){var re=p.defaultValue==null?"":p.defaultValue,Te=p.checked!=null?p.checked:p.defaultChecked;re=a(p.value!=null?p.value:re),l._wrapperState={initialChecked:Te,initialValue:re,controlled:p.type==="checkbox"||p.type==="radio"?p.checked!=null:p.value!=null}}function P(l,p){p=p.checked,p!=null&&w(l,"checked",p,!1)}function F(l,p){P(l,p);var re=a(p.value),Te=p.type;if(re!=null)Te==="number"?(re===0&&l.value===""||l.value!=re)&&(l.value=""+re):l.value!==""+re&&(l.value=""+re);else if(Te==="submit"||Te==="reset"){l.removeAttribute("value");return}p.hasOwnProperty("value")?le(l,p.type,re):p.hasOwnProperty("defaultValue")&&le(l,p.type,a(p.defaultValue)),p.checked==null&&p.defaultChecked!=null&&(l.defaultChecked=!!p.defaultChecked)}function X(l,p,re){if(p.hasOwnProperty("value")||p.hasOwnProperty("defaultValue")){var Te=p.type;if(!(Te!=="submit"&&Te!=="reset"||p.value!==void 0&&p.value!==null))return;p=""+l._wrapperState.initialValue,re||p===l.value||(l.value=p),l.defaultValue=p}re=l.name,re!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,re!==""&&(l.name=re)}function le(l,p,re){(p!=="number"||U(l.ownerDocument)!==l)&&(re==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+re&&(l.defaultValue=""+re))}var de=Array.isArray;function fe(l,p,re,Te){if(l=l.options,p){p={};for(var Ke=0;Ke<re.length;Ke++)p["$"+re[Ke]]=!0;for(re=0;re<l.length;re++)Ke=p.hasOwnProperty("$"+l[re].value),l[re].selected!==Ke&&(l[re].selected=Ke),Ke&&Te&&(l[re].defaultSelected=!0)}else{for(re=""+a(re),p=null,Ke=0;Ke<l.length;Ke++){if(l[Ke].value===re){l[Ke].selected=!0,Te&&(l[Ke].defaultSelected=!0);return}p!==null||l[Ke].disabled||(p=l[Ke])}p!==null&&(p.selected=!0)}}function pe(l,p){if(p.dangerouslySetInnerHTML!=null)throw Error(t(91));return K({},p,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function ne(l,p){var re=p.value;if(re==null){if(re=p.children,p=p.defaultValue,re!=null){if(p!=null)throw Error(t(92));if(de(re)){if(1<re.length)throw Error(t(93));re=re[0]}p=re}p==null&&(p=""),re=p}l._wrapperState={initialValue:a(re)}}function oe(l,p){var re=a(p.value),Te=a(p.defaultValue);re!=null&&(re=""+re,re!==l.value&&(l.value=re),p.defaultValue==null&&l.defaultValue!==re&&(l.defaultValue=re)),Te!=null&&(l.defaultValue=""+Te)}function be(l){var p=l.textContent;p===l._wrapperState.initialValue&&p!==""&&p!==null&&(l.value=p)}function Me(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ge(l,p){return l==null||l==="http://www.w3.org/1999/xhtml"?Me(p):l==="http://www.w3.org/2000/svg"&&p==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var qe,Ne=function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(p,re,Te,Ke){MSApp.execUnsafeLocalFunction(function(){return l(p,re,Te,Ke)})}:l}(function(l,p){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=p;else{for(qe=qe||document.createElement("div"),qe.innerHTML="<svg>"+p.valueOf().toString()+"</svg>",p=qe.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;p.firstChild;)l.appendChild(p.firstChild)}});function Pe(l,p){if(p){var re=l.firstChild;if(re&&re===l.lastChild&&re.nodeType===3){re.nodeValue=p;return}}l.textContent=p}var Re={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ze=["Webkit","ms","Moz","O"];Object.keys(Re).forEach(function(l){Ze.forEach(function(p){p=p+l.charAt(0).toUpperCase()+l.substring(1),Re[p]=Re[l]})});function Ie(l,p,re){return p==null||typeof p=="boolean"||p===""?"":re||typeof p!="number"||p===0||Re.hasOwnProperty(l)&&Re[l]?(""+p).trim():p+"px"}function Ee(l,p){l=l.style;for(var re in p)if(p.hasOwnProperty(re)){var Te=re.indexOf("--")===0,Ke=Ie(re,p[re],Te);re==="float"&&(re="cssFloat"),Te?l.setProperty(re,Ke):l[re]=Ke}}var xe=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Z(l,p){if(p){if(xe[l]&&(p.children!=null||p.dangerouslySetInnerHTML!=null))throw Error(t(137,l));if(p.dangerouslySetInnerHTML!=null){if(p.children!=null)throw Error(t(60));if(typeof p.dangerouslySetInnerHTML!="object"||!("__html"in p.dangerouslySetInnerHTML))throw Error(t(61))}if(p.style!=null&&typeof p.style!="object")throw Error(t(62))}}function u(l,p){if(l.indexOf("-")===-1)return typeof p.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var g=null;function z(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Y=null,te=null,ae=null;function ce(l){if(l=na(l)){if(typeof Y!="function")throw Error(t(280));var p=l.stateNode;p&&(p=wa(p),Y(l.stateNode,l.type,p))}}function ye(l){te?ae?ae.push(l):ae=[l]:te=l}function je(){if(te){var l=te,p=ae;if(ae=te=null,ce(l),p)for(l=0;l<p.length;l++)ce(p[l])}}function Be(l,p){return l(p)}function Qe(){}var rt=!1;function Ye(l,p,re){if(rt)return l(p,re);rt=!0;try{return Be(l,p,re)}finally{rt=!1,(te!==null||ae!==null)&&(Qe(),je())}}function tt(l,p){var re=l.stateNode;if(re===null)return null;var Te=wa(re);if(Te===null)return null;re=Te[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(Te=!Te.disabled)||(l=l.type,Te=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!Te;break e;default:l=!1}if(l)return null;if(re&&typeof re!="function")throw Error(t(231,p,typeof re));return re}var ht=!1;if(Fe)try{var gt={};Object.defineProperty(gt,"passive",{get:function(){ht=!0}}),window.addEventListener("test",gt,gt),window.removeEventListener("test",gt,gt)}catch{ht=!1}function Ue(l,p,re,Te,Ke,at,Ot,br,Pr){var un=Array.prototype.slice.call(arguments,3);try{p.apply(re,un)}catch(Rn){this.onError(Rn)}}var Ce=!1,Le=null,et=!1,ft=null,xt={onError:function(l){Ce=!0,Le=l}};function wt(l,p,re,Te,Ke,at,Ot,br,Pr){Ce=!1,Le=null,Ue.apply(xt,arguments)}function Rt(l,p,re,Te,Ke,at,Ot,br,Pr){if(wt.apply(this,arguments),Ce){if(Ce){var un=Le;Ce=!1,Le=null}else throw Error(t(198));et||(et=!0,ft=un)}}function It(l){var p=l,re=l;if(l.alternate)for(;p.return;)p=p.return;else{l=p;do p=l,(p.flags&4098)!==0&&(re=p.return),l=p.return;while(l)}return p.tag===3?re:null}function At(l){if(l.tag===13){var p=l.memoizedState;if(p===null&&(l=l.alternate,l!==null&&(p=l.memoizedState)),p!==null)return p.dehydrated}return null}function Xt(l){if(It(l)!==l)throw Error(t(188))}function tr(l){var p=l.alternate;if(!p){if(p=It(l),p===null)throw Error(t(188));return p!==l?null:l}for(var re=l,Te=p;;){var Ke=re.return;if(Ke===null)break;var at=Ke.alternate;if(at===null){if(Te=Ke.return,Te!==null){re=Te;continue}break}if(Ke.child===at.child){for(at=Ke.child;at;){if(at===re)return Xt(Ke),l;if(at===Te)return Xt(Ke),p;at=at.sibling}throw Error(t(188))}if(re.return!==Te.return)re=Ke,Te=at;else{for(var Ot=!1,br=Ke.child;br;){if(br===re){Ot=!0,re=Ke,Te=at;break}if(br===Te){Ot=!0,Te=Ke,re=at;break}br=br.sibling}if(!Ot){for(br=at.child;br;){if(br===re){Ot=!0,re=at,Te=Ke;break}if(br===Te){Ot=!0,Te=at,re=Ke;break}br=br.sibling}if(!Ot)throw Error(t(189))}}if(re.alternate!==Te)throw Error(t(190))}if(re.tag!==3)throw Error(t(188));return re.stateNode.current===re?l:p}function Gt(l){return l=tr(l),l!==null?Jt(l):null}function Jt(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var p=Jt(l);if(p!==null)return p;l=l.sibling}return null}var gr=e.unstable_scheduleCallback,Pt=e.unstable_cancelCallback,St=e.unstable_shouldYield,Zt=e.unstable_requestPaint,Tt=e.unstable_now,Lt=e.unstable_getCurrentPriorityLevel,Wt=e.unstable_ImmediatePriority,qt=e.unstable_UserBlockingPriority,sr=e.unstable_NormalPriority,cr=e.unstable_LowPriority,Sr=e.unstable_IdlePriority,Mr=null,zr=null;function pr(l){if(zr&&typeof zr.onCommitFiberRoot=="function")try{zr.onCommitFiberRoot(Mr,l,void 0,(l.current.flags&128)===128)}catch{}}var Ft=Math.clz32?Math.clz32:Or,or=Math.log,rr=Math.LN2;function Or(l){return l>>>=0,l===0?32:31-(or(l)/rr|0)|0}var Kr=64,Xr=4194304;function cn(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function en(l,p){var re=l.pendingLanes;if(re===0)return 0;var Te=0,Ke=l.suspendedLanes,at=l.pingedLanes,Ot=re&268435455;if(Ot!==0){var br=Ot&~Ke;br!==0?Te=cn(br):(at&=Ot,at!==0&&(Te=cn(at)))}else Ot=re&~Ke,Ot!==0?Te=cn(Ot):at!==0&&(Te=cn(at));if(Te===0)return 0;if(p!==0&&p!==Te&&(p&Ke)===0&&(Ke=Te&-Te,at=p&-p,Ke>=at||Ke===16&&(at&4194240)!==0))return p;if((Te&4)!==0&&(Te|=re&16),p=l.entangledLanes,p!==0)for(l=l.entanglements,p&=Te;0<p;)re=31-Ft(p),Ke=1<<re,Te|=l[re],p&=~Ke;return Te}function ur(l,p){switch(l){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dt(l,p){for(var re=l.suspendedLanes,Te=l.pingedLanes,Ke=l.expirationTimes,at=l.pendingLanes;0<at;){var Ot=31-Ft(at),br=1<<Ot,Pr=Ke[Ot];Pr===-1?((br&re)===0||(br&Te)!==0)&&(Ke[Ot]=ur(br,p)):Pr<=p&&(l.expiredLanes|=br),at&=~br}}function Nt(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function Ut(){var l=Kr;return Kr<<=1,(Kr&4194240)===0&&(Kr=64),l}function hr(l){for(var p=[],re=0;31>re;re++)p.push(l);return p}function jr(l,p,re){l.pendingLanes|=p,p!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,p=31-Ft(p),l[p]=re}function Cr(l,p){var re=l.pendingLanes&~p;l.pendingLanes=p,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=p,l.mutableReadLanes&=p,l.entangledLanes&=p,p=l.entanglements;var Te=l.eventTimes;for(l=l.expirationTimes;0<re;){var Ke=31-Ft(re),at=1<<Ke;p[Ke]=0,Te[Ke]=-1,l[Ke]=-1,re&=~at}}function Zr(l,p){var re=l.entangledLanes|=p;for(l=l.entanglements;re;){var Te=31-Ft(re),Ke=1<<Te;Ke&p|l[Te]&p&&(l[Te]|=p),re&=~Ke}}var Dr=0;function Fr(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var ln,Gr,Rr,Wr,Ur,rn=!1,an=[],Qr=null,In=null,Xn=null,go=new Map,bo=new Map,_o=[],wo="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ao(l,p){switch(l){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":In=null;break;case"mouseover":case"mouseout":Xn=null;break;case"pointerover":case"pointerout":go.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":bo.delete(p.pointerId)}}function co(l,p,re,Te,Ke,at){return l===null||l.nativeEvent!==at?(l={blockedOn:p,domEventName:re,eventSystemFlags:Te,nativeEvent:at,targetContainers:[Ke]},p!==null&&(p=na(p),p!==null&&Gr(p)),l):(l.eventSystemFlags|=Te,p=l.targetContainers,Ke!==null&&p.indexOf(Ke)===-1&&p.push(Ke),l)}function it(l,p,re,Te,Ke){switch(p){case"focusin":return Qr=co(Qr,l,p,re,Te,Ke),!0;case"dragenter":return In=co(In,l,p,re,Te,Ke),!0;case"mouseover":return Xn=co(Xn,l,p,re,Te,Ke),!0;case"pointerover":var at=Ke.pointerId;return go.set(at,co(go.get(at)||null,l,p,re,Te,Ke)),!0;case"gotpointercapture":return at=Ke.pointerId,bo.set(at,co(bo.get(at)||null,l,p,re,Te,Ke)),!0}return!1}function Oe(l){var p=Ki(l.target);if(p!==null){var re=It(p);if(re!==null){if(p=re.tag,p===13){if(p=At(re),p!==null){l.blockedOn=p,Ur(l.priority,function(){Rr(re)});return}}else if(p===3&&re.stateNode.current.memoizedState.isDehydrated){l.blockedOn=re.tag===3?re.stateNode.containerInfo:null;return}}}l.blockedOn=null}function ze(l){if(l.blockedOn!==null)return!1;for(var p=l.targetContainers;0<p.length;){var re=on(l.domEventName,l.eventSystemFlags,p[0],l.nativeEvent);if(re===null){re=l.nativeEvent;var Te=new re.constructor(re.type,re);g=Te,re.target.dispatchEvent(Te),g=null}else return p=na(re),p!==null&&Gr(p),l.blockedOn=re,!1;p.shift()}return!0}function $e(l,p,re){ze(l)&&re.delete(p)}function pt(){rn=!1,Qr!==null&&ze(Qr)&&(Qr=null),In!==null&&ze(In)&&(In=null),Xn!==null&&ze(Xn)&&(Xn=null),go.forEach($e),bo.forEach($e)}function Kt(l,p){l.blockedOn===p&&(l.blockedOn=null,rn||(rn=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,pt)))}function fr(l){function p(Ke){return Kt(Ke,l)}if(0<an.length){Kt(an[0],l);for(var re=1;re<an.length;re++){var Te=an[re];Te.blockedOn===l&&(Te.blockedOn=null)}}for(Qr!==null&&Kt(Qr,l),In!==null&&Kt(In,l),Xn!==null&&Kt(Xn,l),go.forEach(p),bo.forEach(p),re=0;re<_o.length;re++)Te=_o[re],Te.blockedOn===l&&(Te.blockedOn=null);for(;0<_o.length&&(re=_o[0],re.blockedOn===null);)Oe(re),re.blockedOn===null&&_o.shift()}var vr=N.ReactCurrentBatchConfig,Qt=!0;function Vt(l,p,re,Te){var Ke=Dr,at=vr.transition;vr.transition=null;try{Dr=1,Lr(l,p,re,Te)}finally{Dr=Ke,vr.transition=at}}function Er(l,p,re,Te){var Ke=Dr,at=vr.transition;vr.transition=null;try{Dr=4,Lr(l,p,re,Te)}finally{Dr=Ke,vr.transition=at}}function Lr(l,p,re,Te){if(Qt){var Ke=on(l,p,re,Te);if(Ke===null)Ar(l,p,Te,Jr,re),ao(l,Te);else if(it(Ke,l,p,re,Te))Te.stopPropagation();else if(ao(l,Te),p&4&&-1<wo.indexOf(l)){for(;Ke!==null;){var at=na(Ke);if(at!==null&&ln(at),at=on(l,p,re,Te),at===null&&Ar(l,p,Te,Jr,re),at===Ke)break;Ke=at}Ke!==null&&Te.stopPropagation()}else Ar(l,p,Te,null,re)}}var Jr=null;function on(l,p,re,Te){if(Jr=null,l=z(Te),l=Ki(l),l!==null)if(p=It(l),p===null)l=null;else if(re=p.tag,re===13){if(l=At(p),l!==null)return l;l=null}else if(re===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;l=null}else p!==l&&(l=null);return Jr=l,null}function gn(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Lt()){case Wt:return 1;case qt:return 4;case sr:case cr:return 16;case Sr:return 536870912;default:return 16}default:return 16}}var yn=null,dn=null,mn=null;function Hn(){if(mn)return mn;var l,p=dn,re=p.length,Te,Ke="value"in yn?yn.value:yn.textContent,at=Ke.length;for(l=0;l<re&&p[l]===Ke[l];l++);var Ot=re-l;for(Te=1;Te<=Ot&&p[re-Te]===Ke[at-Te];Te++);return mn=Ke.slice(l,1<Te?1-Te:void 0)}function eo(l){var p=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&p===13&&(l=13)):l=p,l===10&&(l=13),32<=l||l===13?l:0}function So(){return!0}function Qo(){return!1}function Fo(l){function p(re,Te,Ke,at,Ot){this._reactName=re,this._targetInst=Ke,this.type=Te,this.nativeEvent=at,this.target=Ot,this.currentTarget=null;for(var br in l)l.hasOwnProperty(br)&&(re=l[br],this[br]=re?re(at):at[br]);return this.isDefaultPrevented=(at.defaultPrevented!=null?at.defaultPrevented:at.returnValue===!1)?So:Qo,this.isPropagationStopped=Qo,this}return K(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var re=this.nativeEvent;re&&(re.preventDefault?re.preventDefault():typeof re.returnValue!="unknown"&&(re.returnValue=!1),this.isDefaultPrevented=So)},stopPropagation:function(){var re=this.nativeEvent;re&&(re.stopPropagation?re.stopPropagation():typeof re.cancelBubble!="unknown"&&(re.cancelBubble=!0),this.isPropagationStopped=So)},persist:function(){},isPersistent:So}),p}var On={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bn=Fo(On),Yn=K({},On,{view:0,detail:0}),vo=Fo(Yn),Ao,Yo,vi,Oi=K({},Yn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fi,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==vi&&(vi&&l.type==="mousemove"?(Ao=l.screenX-vi.screenX,Yo=l.screenY-vi.screenY):Yo=Ao=0,vi=l),Ao)},movementY:function(l){return"movementY"in l?l.movementY:Yo}}),bi=Fo(Oi),Qi=K({},Oi,{dataTransfer:0}),Ja=Fo(Qi),Ha=K({},Yn,{relatedTarget:0}),ks=Fo(Ha),ol=K({},On,{animationName:0,elapsedTime:0,pseudoElement:0}),Da=Fo(ol),As=K({},On,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),Ca=Fo(As),da=K({},On,{data:0}),Hi=Fo(da),Gi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ra={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ds={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ra(l){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(l):(l=Ds[l])?!!p[l]:!1}function Fi(){return Ra}var me=K({},Yn,{key:function(l){if(l.key){var p=Gi[l.key]||l.key;if(p!=="Unidentified")return p}return l.type==="keypress"?(l=eo(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?ra[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fi,charCode:function(l){return l.type==="keypress"?eo(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?eo(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),ot=Fo(me),mt=K({},Oi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ht=Fo(mt),Hr=K({},Yn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fi}),sn=Fo(Hr),Fn=K({},On,{propertyName:0,elapsedTime:0,pseudoElement:0}),ri=Fo(Fn),Mi=K({},Oi,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),Co=Fo(Mi),ai=[9,13,27,32],hi=Fe&&"CompositionEvent"in window,Ai=null;Fe&&"documentMode"in document&&(Ai=document.documentMode);var Wi=Fe&&"TextEvent"in window&&!Ai,us=Fe&&(!hi||Ai&&8<Ai&&11>=Ai),ds=" ",Bl=!1;function il(l,p){switch(l){case"keyup":return ai.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rs(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Ia=!1;function _s(l,p){switch(l){case"compositionend":return Rs(p);case"keypress":return p.which!==32?null:(Bl=!0,ds);case"textInput":return l=p.data,l===ds&&Bl?null:l;default:return null}}function oc(l,p){if(Ia)return l==="compositionend"||!hi&&il(l,p)?(l=Hn(),mn=dn=yn=null,Ia=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return us&&p.locale!=="ko"?null:p.data;default:return null}}var ic={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ml(l){var p=l&&l.nodeName&&l.nodeName.toLowerCase();return p==="input"?!!ic[l.type]:p==="textarea"}function gl(l,p,re,Te){ye(Te),p=Yr(p,"onChange"),0<p.length&&(re=new bn("onChange","change",null,re,Te),l.push({event:re,listeners:p}))}var al=null,fs=null;function ba(l){ir(l,0)}function ya(l){var p=Wa(l);if(C(p))return l}function Fl(l,p){if(l==="change")return p}var vl=!1;if(Fe){var Ls;if(Fe){var hs="oninput"in document;if(!hs){var Ns=document.createElement("div");Ns.setAttribute("oninput","return;"),hs=typeof Ns.oninput=="function"}Ls=hs}else Ls=!1;vl=Ls&&(!document.documentMode||9<document.documentMode)}function Sl(){al&&(al.detachEvent("onpropertychange",Cl),fs=al=null)}function Cl(l){if(l.propertyName==="value"&&ya(fs)){var p=[];gl(p,fs,l,z(l)),Ye(ba,p)}}function ps(l,p,re){l==="focusin"?(Sl(),al=p,fs=re,al.attachEvent("onpropertychange",Cl)):l==="focusout"&&Sl()}function La(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return ya(fs)}function sl(l,p){if(l==="click")return ya(p)}function Il(l,p){if(l==="input"||l==="change")return ya(p)}function ll(l,p){return l===p&&(l!==0||1/l===1/p)||l!==l&&p!==p}var fa=typeof Object.is=="function"?Object.is:ll;function pi(l,p){if(fa(l,p))return!0;if(typeof l!="object"||l===null||typeof p!="object"||p===null)return!1;var re=Object.keys(l),Te=Object.keys(p);if(re.length!==Te.length)return!1;for(Te=0;Te<re.length;Te++){var Ke=re[Te];if(!nt.call(p,Ke)||!fa(l[Ke],p[Ke]))return!1}return!0}function uo(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function Jo(l,p){var re=uo(l);l=0;for(var Te;re;){if(re.nodeType===3){if(Te=l+re.textContent.length,l<=p&&Te>=p)return{node:re,offset:p-l};l=Te}e:{for(;re;){if(re.nextSibling){re=re.nextSibling;break e}re=re.parentNode}re=void 0}re=uo(re)}}function Io(l,p){return l&&p?l===p?!0:l&&l.nodeType===3?!1:p&&p.nodeType===3?Io(l,p.parentNode):"contains"in l?l.contains(p):l.compareDocumentPosition?!!(l.compareDocumentPosition(p)&16):!1:!1}function Oo(){for(var l=window,p=U();p instanceof l.HTMLIFrameElement;){try{var re=typeof p.contentWindow.location.href=="string"}catch{re=!1}if(re)l=p.contentWindow;else break;p=U(l.document)}return p}function ia(l){var p=l&&l.nodeName&&l.nodeName.toLowerCase();return p&&(p==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||p==="textarea"||l.contentEditable==="true")}function xa(l){var p=Oo(),re=l.focusedElem,Te=l.selectionRange;if(p!==re&&re&&re.ownerDocument&&Io(re.ownerDocument.documentElement,re)){if(Te!==null&&ia(re)){if(p=Te.start,l=Te.end,l===void 0&&(l=p),"selectionStart"in re)re.selectionStart=p,re.selectionEnd=Math.min(l,re.value.length);else if(l=(p=re.ownerDocument||document)&&p.defaultView||window,l.getSelection){l=l.getSelection();var Ke=re.textContent.length,at=Math.min(Te.start,Ke);Te=Te.end===void 0?at:Math.min(Te.end,Ke),!l.extend&&at>Te&&(Ke=Te,Te=at,at=Ke),Ke=Jo(re,at);var Ot=Jo(re,Te);Ke&&Ot&&(l.rangeCount!==1||l.anchorNode!==Ke.node||l.anchorOffset!==Ke.offset||l.focusNode!==Ot.node||l.focusOffset!==Ot.offset)&&(p=p.createRange(),p.setStart(Ke.node,Ke.offset),l.removeAllRanges(),at>Te?(l.addRange(p),l.extend(Ot.node,Ot.offset)):(p.setEnd(Ot.node,Ot.offset),l.addRange(p)))}}for(p=[],l=re;l=l.parentNode;)l.nodeType===1&&p.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof re.focus=="function"&&re.focus(),re=0;re<p.length;re++)l=p[re],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var Hl=Fe&&"documentMode"in document&&11>=document.documentMode,Zs=null,bl=null,zs=null,yl=!1;function xl(l,p,re){var Te=re.window===re?re.document:re.nodeType===9?re:re.ownerDocument;yl||Zs==null||Zs!==U(Te)||(Te=Zs,"selectionStart"in Te&&ia(Te)?Te={start:Te.selectionStart,end:Te.selectionEnd}:(Te=(Te.ownerDocument&&Te.ownerDocument.defaultView||window).getSelection(),Te={anchorNode:Te.anchorNode,anchorOffset:Te.anchorOffset,focusNode:Te.focusNode,focusOffset:Te.focusOffset}),zs&&pi(zs,Te)||(zs=Te,Te=Yr(bl,"onSelect"),0<Te.length&&(p=new bn("onSelect","select",null,p,re),l.push({event:p,listeners:Te}),p.target=Zs)))}function aa(l,p){var re={};return re[l.toLowerCase()]=p.toLowerCase(),re["Webkit"+l]="webkit"+p,re["Moz"+l]="moz"+p,re}var Ui={animationend:aa("Animation","AnimationEnd"),animationiteration:aa("Animation","AnimationIteration"),animationstart:aa("Animation","AnimationStart"),transitionend:aa("Transition","TransitionEnd")},sa={},si={};Fe&&(si=document.createElement("div").style,"AnimationEvent"in window||(delete Ui.animationend.animation,delete Ui.animationiteration.animation,delete Ui.animationstart.animation),"TransitionEvent"in window||delete Ui.transitionend.transition);function ei(l){if(sa[l])return sa[l];if(!Ui[l])return l;var p=Ui[l],re;for(re in p)if(p.hasOwnProperty(re)&&re in si)return sa[l]=p[re];return l}var ha=ei("animationend"),Ss=ei("animationiteration"),Ol=ei("animationstart"),ut=ei("transitionend"),Ae=new Map,Xe="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Je(l,p){Ae.set(l,p),ee(p,[l])}for(var ct=0;ct<Xe.length;ct++){var bt=Xe[ct],_t=bt.toLowerCase(),Et=bt[0].toUpperCase()+bt.slice(1);Je(_t,"on"+Et)}Je(ha,"onAnimationEnd"),Je(Ss,"onAnimationIteration"),Je(Ol,"onAnimationStart"),Je("dblclick","onDoubleClick"),Je("focusin","onFocus"),Je("focusout","onBlur"),Je(ut,"onTransitionEnd"),we("onMouseEnter",["mouseout","mouseover"]),we("onMouseLeave",["mouseout","mouseover"]),we("onPointerEnter",["pointerout","pointerover"]),we("onPointerLeave",["pointerout","pointerover"]),ee("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ee("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ee("onBeforeInput",["compositionend","keypress","textInput","paste"]),ee("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ee("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ee("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jt="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(jt));function xr(l,p,re){var Te=l.type||"unknown-event";l.currentTarget=re,Rt(Te,p,void 0,l),l.currentTarget=null}function ir(l,p){p=(p&4)!==0;for(var re=0;re<l.length;re++){var Te=l[re],Ke=Te.event;Te=Te.listeners;e:{var at=void 0;if(p)for(var Ot=Te.length-1;0<=Ot;Ot--){var br=Te[Ot],Pr=br.instance,un=br.currentTarget;if(br=br.listener,Pr!==at&&Ke.isPropagationStopped())break e;xr(Ke,br,un),at=Pr}else for(Ot=0;Ot<Te.length;Ot++){if(br=Te[Ot],Pr=br.instance,un=br.currentTarget,br=br.listener,Pr!==at&&Ke.isPropagationStopped())break e;xr(Ke,br,un),at=Pr}}}if(et)throw l=ft,et=!1,ft=null,l}function er(l,p){var re=p[Di];re===void 0&&(re=p[Di]=new Set);var Te=l+"__bubble";re.has(Te)||(wr(p,l,2,!1),re.add(Te))}function kr(l,p,re){var Te=0;p&&(Te|=4),wr(re,l,Te,p)}var Ir="_reactListening"+Math.random().toString(36).slice(2);function _r(l){if(!l[Ir]){l[Ir]=!0,c.forEach(function(re){re!=="selectionchange"&&(mr.has(re)||kr(re,!1,l),kr(re,!0,l))});var p=l.nodeType===9?l:l.ownerDocument;p===null||p[Ir]||(p[Ir]=!0,kr("selectionchange",!1,p))}}function wr(l,p,re,Te){switch(gn(p)){case 1:var Ke=Vt;break;case 4:Ke=Er;break;default:Ke=Lr}re=Ke.bind(null,p,re,l),Ke=void 0,!ht||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(Ke=!0),Te?Ke!==void 0?l.addEventListener(p,re,{capture:!0,passive:Ke}):l.addEventListener(p,re,!0):Ke!==void 0?l.addEventListener(p,re,{passive:Ke}):l.addEventListener(p,re,!1)}function Ar(l,p,re,Te,Ke){var at=Te;if((p&1)===0&&(p&2)===0&&Te!==null)e:for(;;){if(Te===null)return;var Ot=Te.tag;if(Ot===3||Ot===4){var br=Te.stateNode.containerInfo;if(br===Ke||br.nodeType===8&&br.parentNode===Ke)break;if(Ot===4)for(Ot=Te.return;Ot!==null;){var Pr=Ot.tag;if((Pr===3||Pr===4)&&(Pr=Ot.stateNode.containerInfo,Pr===Ke||Pr.nodeType===8&&Pr.parentNode===Ke))return;Ot=Ot.return}for(;br!==null;){if(Ot=Ki(br),Ot===null)return;if(Pr=Ot.tag,Pr===5||Pr===6){Te=at=Ot;continue e}br=br.parentNode}}Te=Te.return}Ye(function(){var un=at,Rn=z(re),Bn=[];e:{var Dn=Ae.get(l);if(Dn!==void 0){var to=bn,fo=l;switch(l){case"keypress":if(eo(re)===0)break e;case"keydown":case"keyup":to=ot;break;case"focusin":fo="focus",to=ks;break;case"focusout":fo="blur",to=ks;break;case"beforeblur":case"afterblur":to=ks;break;case"click":if(re.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":to=bi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":to=Ja;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":to=sn;break;case ha:case Ss:case Ol:to=Da;break;case ut:to=ri;break;case"scroll":to=vo;break;case"wheel":to=Co;break;case"copy":case"cut":case"paste":to=Ca;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":to=Ht}var mo=(p&4)!==0,_a=!mo&&l==="scroll",$r=mo?Dn!==null?Dn+"Capture":null:Dn;mo=[];for(var Nr=un,nn;Nr!==null;){nn=Nr;var Wn=nn.stateNode;if(nn.tag===5&&Wn!==null&&(nn=Wn,$r!==null&&(Wn=tt(Nr,$r),Wn!=null&&mo.push(Vr(Nr,Wn,nn)))),_a)break;Nr=Nr.return}0<mo.length&&(Dn=new to(Dn,fo,null,re,Rn),Bn.push({event:Dn,listeners:mo}))}}if((p&7)===0){e:{if(Dn=l==="mouseover"||l==="pointerover",to=l==="mouseout"||l==="pointerout",Dn&&re!==g&&(fo=re.relatedTarget||re.fromElement)&&(Ki(fo)||fo[Go]))break e;if((to||Dn)&&(Dn=Rn.window===Rn?Rn:(Dn=Rn.ownerDocument)?Dn.defaultView||Dn.parentWindow:window,to?(fo=re.relatedTarget||re.toElement,to=un,fo=fo?Ki(fo):null,fo!==null&&(_a=It(fo),fo!==_a||fo.tag!==5&&fo.tag!==6)&&(fo=null)):(to=null,fo=un),to!==fo)){if(mo=bi,Wn="onMouseLeave",$r="onMouseEnter",Nr="mouse",(l==="pointerout"||l==="pointerover")&&(mo=Ht,Wn="onPointerLeave",$r="onPointerEnter",Nr="pointer"),_a=to==null?Dn:Wa(to),nn=fo==null?Dn:Wa(fo),Dn=new mo(Wn,Nr+"leave",to,re,Rn),Dn.target=_a,Dn.relatedTarget=nn,Wn=null,Ki(Rn)===un&&(mo=new mo($r,Nr+"enter",fo,re,Rn),mo.target=nn,mo.relatedTarget=_a,Wn=mo),_a=Wn,to&&fo)t:{for(mo=to,$r=fo,Nr=0,nn=mo;nn;nn=Br(nn))Nr++;for(nn=0,Wn=$r;Wn;Wn=Br(Wn))nn++;for(;0<Nr-nn;)mo=Br(mo),Nr--;for(;0<nn-Nr;)$r=Br($r),nn--;for(;Nr--;){if(mo===$r||$r!==null&&mo===$r.alternate)break t;mo=Br(mo),$r=Br($r)}mo=null}else mo=null;to!==null&&tn(Bn,Dn,to,mo,!1),fo!==null&&_a!==null&&tn(Bn,_a,fo,mo,!0)}}e:{if(Dn=un?Wa(un):window,to=Dn.nodeName&&Dn.nodeName.toLowerCase(),to==="select"||to==="input"&&Dn.type==="file")var xo=Fl;else if(ml(Dn))if(vl)xo=Il;else{xo=La;var Po=ps}else(to=Dn.nodeName)&&to.toLowerCase()==="input"&&(Dn.type==="checkbox"||Dn.type==="radio")&&(xo=sl);if(xo&&(xo=xo(l,un))){gl(Bn,xo,re,Rn);break e}Po&&Po(l,Dn,un),l==="focusout"&&(Po=Dn._wrapperState)&&Po.controlled&&Dn.type==="number"&&le(Dn,"number",Dn.value)}switch(Po=un?Wa(un):window,l){case"focusin":(ml(Po)||Po.contentEditable==="true")&&(Zs=Po,bl=un,zs=null);break;case"focusout":zs=bl=Zs=null;break;case"mousedown":yl=!0;break;case"contextmenu":case"mouseup":case"dragend":yl=!1,xl(Bn,re,Rn);break;case"selectionchange":if(Hl)break;case"keydown":case"keyup":xl(Bn,re,Rn)}var Mo;if(hi)e:{switch(l){case"compositionstart":var Wo="onCompositionStart";break e;case"compositionend":Wo="onCompositionEnd";break e;case"compositionupdate":Wo="onCompositionUpdate";break e}Wo=void 0}else Ia?il(l,re)&&(Wo="onCompositionEnd"):l==="keydown"&&re.keyCode===229&&(Wo="onCompositionStart");Wo&&(us&&re.locale!=="ko"&&(Ia||Wo!=="onCompositionStart"?Wo==="onCompositionEnd"&&Ia&&(Mo=Hn()):(yn=Rn,dn="value"in yn?yn.value:yn.textContent,Ia=!0)),Po=Yr(un,Wo),0<Po.length&&(Wo=new Hi(Wo,l,null,re,Rn),Bn.push({event:Wo,listeners:Po}),Mo?Wo.data=Mo:(Mo=Rs(re),Mo!==null&&(Wo.data=Mo)))),(Mo=Wi?_s(l,re):oc(l,re))&&(un=Yr(un,"onBeforeInput"),0<un.length&&(Rn=new Hi("onBeforeInput","beforeinput",null,re,Rn),Bn.push({event:Rn,listeners:un}),Rn.data=Mo))}ir(Bn,p)})}function Vr(l,p,re){return{instance:l,listener:p,currentTarget:re}}function Yr(l,p){for(var re=p+"Capture",Te=[];l!==null;){var Ke=l,at=Ke.stateNode;Ke.tag===5&&at!==null&&(Ke=at,at=tt(l,re),at!=null&&Te.unshift(Vr(l,at,Ke)),at=tt(l,p),at!=null&&Te.push(Vr(l,at,Ke))),l=l.return}return Te}function Br(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function tn(l,p,re,Te,Ke){for(var at=p._reactName,Ot=[];re!==null&&re!==Te;){var br=re,Pr=br.alternate,un=br.stateNode;if(Pr!==null&&Pr===Te)break;br.tag===5&&un!==null&&(br=un,Ke?(Pr=tt(re,at),Pr!=null&&Ot.unshift(Vr(re,Pr,br))):Ke||(Pr=tt(re,at),Pr!=null&&Ot.push(Vr(re,Pr,br)))),re=re.return}Ot.length!==0&&l.push({event:p,listeners:Ot})}var Sn=/\r\n?/g,Tn=/\u0000|\uFFFD/g;function xn(l){return(typeof l=="string"?l:""+l).replace(Sn,`
`).replace(Tn,"")}function En(l,p,re){if(p=xn(p),xn(l)!==p&&re)throw Error(t(425))}function Ln(){}var Zn=null,Kn=null;function $n(l,p){return l==="textarea"||l==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var ro=typeof setTimeout=="function"?setTimeout:void 0,Uo=typeof clearTimeout=="function"?clearTimeout:void 0,Ti=typeof Promise=="function"?Promise:void 0,Bi=typeof queueMicrotask=="function"?queueMicrotask:typeof Ti<"u"?function(l){return Ti.resolve(null).then(l).catch(Ei)}:ro;function Ei(l){setTimeout(function(){throw l})}function Vi(l,p){var re=p,Te=0;do{var Ke=re.nextSibling;if(l.removeChild(re),Ke&&Ke.nodeType===8)if(re=Ke.data,re==="/$"){if(Te===0){l.removeChild(Ke),fr(p);return}Te--}else re!=="$"&&re!=="$?"&&re!=="$!"||Te++;re=Ke}while(re);fr(p)}function Ni(l){for(;l!=null;l=l.nextSibling){var p=l.nodeType;if(p===1||p===3)break;if(p===8){if(p=l.data,p==="$"||p==="$!"||p==="$?")break;if(p==="/$")return null}}return l}function ti(l){l=l.previousSibling;for(var p=0;l;){if(l.nodeType===8){var re=l.data;if(re==="$"||re==="$!"||re==="$?"){if(p===0)return l;p--}else re==="/$"&&p++}l=l.previousSibling}return null}var $o=Math.random().toString(36).slice(2),Vo="__reactFiber$"+$o,Xo="__reactProps$"+$o,Go="__reactContainer$"+$o,Di="__reactEvents$"+$o,Oa="__reactListeners$"+$o,Ta="__reactHandles$"+$o;function Ki(l){var p=l[Vo];if(p)return p;for(var re=l.parentNode;re;){if(p=re[Go]||re[Vo]){if(re=p.alternate,p.child!==null||re!==null&&re.child!==null)for(l=ti(l);l!==null;){if(re=l[Vo])return re;l=ti(l)}return p}l=re,re=l.parentNode}return null}function na(l){return l=l[Vo]||l[Go],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function Wa(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(t(33))}function wa(l){return l[Xo]||null}var es=[],Cs=-1;function Ua(l){return{current:l}}function yi(l){0>Cs||(l.current=es[Cs],es[Cs]=null,Cs--)}function ci(l,p){Cs++,es[Cs]=l.current,l.current=p}var ja={},Ri=Ua(ja),ki=Ua(!1),Ea=ja;function Zi(l,p){var re=l.type.contextTypes;if(!re)return ja;var Te=l.stateNode;if(Te&&Te.__reactInternalMemoizedUnmaskedChildContext===p)return Te.__reactInternalMemoizedMaskedChildContext;var Ke={},at;for(at in re)Ke[at]=p[at];return Te&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=p,l.__reactInternalMemoizedMaskedChildContext=Ke),Ke}function Ko(l){return l=l.childContextTypes,l!=null}function Ji(){yi(ki),yi(Ri)}function ms(l,p,re){if(Ri.current!==ja)throw Error(t(168));ci(Ri,p),ci(ki,re)}function Bs(l,p,re){var Te=l.stateNode;if(p=p.childContextTypes,typeof Te.getChildContext!="function")return re;Te=Te.getChildContext();for(var Ke in Te)if(!(Ke in p))throw Error(t(108,i(l)||"Unknown",Ke));return K({},re,Te)}function fn(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||ja,Ea=Ri.current,ci(Ri,l),ci(ki,ki.current),!0}function hn(l,p,re){var Te=l.stateNode;if(!Te)throw Error(t(169));re?(l=Bs(l,p,Ea),Te.__reactInternalMemoizedMergedChildContext=l,yi(ki),yi(Ri),ci(Ri,l)):yi(ki),ci(ki,re)}var la=null,Va=!1,ts=!1;function cl(l){la===null?la=[l]:la.push(l)}function ac(l){Va=!0,cl(l)}function gs(){if(!ts&&la!==null){ts=!0;var l=0,p=Dr;try{var re=la;for(Dr=1;l<re.length;l++){var Te=re[l];do Te=Te(!0);while(Te!==null)}la=null,Va=!1}catch(Ke){throw la!==null&&(la=la.slice(l+1)),gr(Wt,gs),Ke}finally{Dr=p,ts=!1}}return null}var Fs=[],Hs=0,wl=null,Tl=0,Pa=[],ka=0,Ws=null,Is=1,Os="";function Us(l,p){Fs[Hs++]=Tl,Fs[Hs++]=wl,wl=l,Tl=p}function sc(l,p,re){Pa[ka++]=Is,Pa[ka++]=Os,Pa[ka++]=Ws,Ws=l;var Te=Is;l=Os;var Ke=32-Ft(Te)-1;Te&=~(1<<Ke),re+=1;var at=32-Ft(p)+Ke;if(30<at){var Ot=Ke-Ke%5;at=(Te&(1<<Ot)-1).toString(32),Te>>=Ot,Ke-=Ot,Is=1<<32-Ft(p)+Ke|re<<Ke|Te,Os=at+l}else Is=1<<at|re<<Ke|Te,Os=l}function El(l){l.return!==null&&(Us(l,1),sc(l,1,0))}function ul(l){for(;l===wl;)wl=Fs[--Hs],Fs[Hs]=null,Tl=Fs[--Hs],Fs[Hs]=null;for(;l===Ws;)Ws=Pa[--ka],Pa[ka]=null,Os=Pa[--ka],Pa[ka]=null,Is=Pa[--ka],Pa[ka]=null}var ea=null,Yi=null,_i=!1,Na=null;function Ts(l,p){var re=_l(5,null,null,0);re.elementType="DELETED",re.stateNode=p,re.return=l,p=l.deletions,p===null?(l.deletions=[re],l.flags|=16):p.push(re)}function rs(l,p){switch(l.tag){case 5:var re=l.type;return p=p.nodeType!==1||re.toLowerCase()!==p.nodeName.toLowerCase()?null:p,p!==null?(l.stateNode=p,ea=l,Yi=Ni(p.firstChild),!0):!1;case 6:return p=l.pendingProps===""||p.nodeType!==3?null:p,p!==null?(l.stateNode=p,ea=l,Yi=null,!0):!1;case 13:return p=p.nodeType!==8?null:p,p!==null?(re=Ws!==null?{id:Is,overflow:Os}:null,l.memoizedState={dehydrated:p,treeContext:re,retryLane:1073741824},re=_l(18,null,null,0),re.stateNode=p,re.return=l,l.child=re,ea=l,Yi=null,!0):!1;default:return!1}}function dl(l){return(l.mode&1)!==0&&(l.flags&128)===0}function jl(l){if(_i){var p=Yi;if(p){var re=p;if(!rs(l,p)){if(dl(l))throw Error(t(418));p=Ni(re.nextSibling);var Te=ea;p&&rs(l,p)?Ts(Te,re):(l.flags=l.flags&-4097|2,_i=!1,ea=l)}}else{if(dl(l))throw Error(t(418));l.flags=l.flags&-4097|2,_i=!1,ea=l}}}function lc(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;ea=l}function Wl(l){if(l!==ea)return!1;if(!_i)return lc(l),_i=!0,!1;var p;if((p=l.tag!==3)&&!(p=l.tag!==5)&&(p=l.type,p=p!=="head"&&p!=="body"&&!$n(l.type,l.memoizedProps)),p&&(p=Yi)){if(dl(l))throw Vs(),Error(t(418));for(;p;)Ts(l,p),p=Ni(p.nextSibling)}if(lc(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(t(317));e:{for(l=l.nextSibling,p=0;l;){if(l.nodeType===8){var re=l.data;if(re==="/$"){if(p===0){Yi=Ni(l.nextSibling);break e}p--}else re!=="$"&&re!=="$!"&&re!=="$?"||p++}l=l.nextSibling}Yi=null}}else Yi=ea?Ni(l.stateNode.nextSibling):null;return!0}function Vs(){for(var l=Yi;l;)l=Ni(l.nextSibling)}function Zo(){Yi=ea=null,_i=!1}function ni(l){Na===null?Na=[l]:Na.push(l)}var $c=N.ReactCurrentBatchConfig;function cc(l,p,re){if(l=re.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(re._owner){if(re=re._owner,re){if(re.tag!==1)throw Error(t(309));var Te=re.stateNode}if(!Te)throw Error(t(147,l));var Ke=Te,at=""+l;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===at?p.ref:(p=function(Ot){var br=Ke.refs;Ot===null?delete br[at]:br[at]=Ot},p._stringRef=at,p)}if(typeof l!="string")throw Error(t(284));if(!re._owner)throw Error(t(290,l))}return l}function Ul(l,p){throw l=Object.prototype.toString.call(p),Error(t(31,l==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":l))}function Vl(l){var p=l._init;return p(l._payload)}function ns(l){function p($r,Nr){if(l){var nn=$r.deletions;nn===null?($r.deletions=[Nr],$r.flags|=16):nn.push(Nr)}}function re($r,Nr){if(!l)return null;for(;Nr!==null;)p($r,Nr),Nr=Nr.sibling;return null}function Te($r,Nr){for($r=new Map;Nr!==null;)Nr.key!==null?$r.set(Nr.key,Nr):$r.set(Nr.index,Nr),Nr=Nr.sibling;return $r}function Ke($r,Nr){return $r=jc($r,Nr),$r.index=0,$r.sibling=null,$r}function at($r,Nr,nn){return $r.index=nn,l?(nn=$r.alternate,nn!==null?(nn=nn.index,nn<Nr?($r.flags|=2,Nr):nn):($r.flags|=2,Nr)):($r.flags|=1048576,Nr)}function Ot($r){return l&&$r.alternate===null&&($r.flags|=2),$r}function br($r,Nr,nn,Wn){return Nr===null||Nr.tag!==6?(Nr=p0(nn,$r.mode,Wn),Nr.return=$r,Nr):(Nr=Ke(Nr,nn),Nr.return=$r,Nr)}function Pr($r,Nr,nn,Wn){var xo=nn.type;return xo===d?Rn($r,Nr,nn.props.children,Wn,nn.key):Nr!==null&&(Nr.elementType===xo||typeof xo=="object"&&xo!==null&&xo.$$typeof===Se&&Vl(xo)===Nr.type)?(Wn=Ke(Nr,nn.props),Wn.ref=cc($r,Nr,nn),Wn.return=$r,Wn):(Wn=Ef(nn.type,nn.key,nn.props,null,$r.mode,Wn),Wn.ref=cc($r,Nr,nn),Wn.return=$r,Wn)}function un($r,Nr,nn,Wn){return Nr===null||Nr.tag!==4||Nr.stateNode.containerInfo!==nn.containerInfo||Nr.stateNode.implementation!==nn.implementation?(Nr=m0(nn,$r.mode,Wn),Nr.return=$r,Nr):(Nr=Ke(Nr,nn.children||[]),Nr.return=$r,Nr)}function Rn($r,Nr,nn,Wn,xo){return Nr===null||Nr.tag!==7?(Nr=tu(nn,$r.mode,Wn,xo),Nr.return=$r,Nr):(Nr=Ke(Nr,nn),Nr.return=$r,Nr)}function Bn($r,Nr,nn){if(typeof Nr=="string"&&Nr!==""||typeof Nr=="number")return Nr=p0(""+Nr,$r.mode,nn),Nr.return=$r,Nr;if(typeof Nr=="object"&&Nr!==null){switch(Nr.$$typeof){case M:return nn=Ef(Nr.type,Nr.key,Nr.props,null,$r.mode,nn),nn.ref=cc($r,null,Nr),nn.return=$r,nn;case f:return Nr=m0(Nr,$r.mode,nn),Nr.return=$r,Nr;case Se:var Wn=Nr._init;return Bn($r,Wn(Nr._payload),nn)}if(de(Nr)||Q(Nr))return Nr=tu(Nr,$r.mode,nn,null),Nr.return=$r,Nr;Ul($r,Nr)}return null}function Dn($r,Nr,nn,Wn){var xo=Nr!==null?Nr.key:null;if(typeof nn=="string"&&nn!==""||typeof nn=="number")return xo!==null?null:br($r,Nr,""+nn,Wn);if(typeof nn=="object"&&nn!==null){switch(nn.$$typeof){case M:return nn.key===xo?Pr($r,Nr,nn,Wn):null;case f:return nn.key===xo?un($r,Nr,nn,Wn):null;case Se:return xo=nn._init,Dn($r,Nr,xo(nn._payload),Wn)}if(de(nn)||Q(nn))return xo!==null?null:Rn($r,Nr,nn,Wn,null);Ul($r,nn)}return null}function to($r,Nr,nn,Wn,xo){if(typeof Wn=="string"&&Wn!==""||typeof Wn=="number")return $r=$r.get(nn)||null,br(Nr,$r,""+Wn,xo);if(typeof Wn=="object"&&Wn!==null){switch(Wn.$$typeof){case M:return $r=$r.get(Wn.key===null?nn:Wn.key)||null,Pr(Nr,$r,Wn,xo);case f:return $r=$r.get(Wn.key===null?nn:Wn.key)||null,un(Nr,$r,Wn,xo);case Se:var Po=Wn._init;return to($r,Nr,nn,Po(Wn._payload),xo)}if(de(Wn)||Q(Wn))return $r=$r.get(nn)||null,Rn(Nr,$r,Wn,xo,null);Ul(Nr,Wn)}return null}function fo($r,Nr,nn,Wn){for(var xo=null,Po=null,Mo=Nr,Wo=Nr=0,Ga=null;Mo!==null&&Wo<nn.length;Wo++){Mo.index>Wo?(Ga=Mo,Mo=null):Ga=Mo.sibling;var Li=Dn($r,Mo,nn[Wo],Wn);if(Li===null){Mo===null&&(Mo=Ga);break}l&&Mo&&Li.alternate===null&&p($r,Mo),Nr=at(Li,Nr,Wo),Po===null?xo=Li:Po.sibling=Li,Po=Li,Mo=Ga}if(Wo===nn.length)return re($r,Mo),_i&&Us($r,Wo),xo;if(Mo===null){for(;Wo<nn.length;Wo++)Mo=Bn($r,nn[Wo],Wn),Mo!==null&&(Nr=at(Mo,Nr,Wo),Po===null?xo=Mo:Po.sibling=Mo,Po=Mo);return _i&&Us($r,Wo),xo}for(Mo=Te($r,Mo);Wo<nn.length;Wo++)Ga=to(Mo,$r,Wo,nn[Wo],Wn),Ga!==null&&(l&&Ga.alternate!==null&&Mo.delete(Ga.key===null?Wo:Ga.key),Nr=at(Ga,Nr,Wo),Po===null?xo=Ga:Po.sibling=Ga,Po=Ga);return l&&Mo.forEach(function(Pc){return p($r,Pc)}),_i&&Us($r,Wo),xo}function mo($r,Nr,nn,Wn){var xo=Q(nn);if(typeof xo!="function")throw Error(t(150));if(nn=xo.call(nn),nn==null)throw Error(t(151));for(var Po=xo=null,Mo=Nr,Wo=Nr=0,Ga=null,Li=nn.next();Mo!==null&&!Li.done;Wo++,Li=nn.next()){Mo.index>Wo?(Ga=Mo,Mo=null):Ga=Mo.sibling;var Pc=Dn($r,Mo,Li.value,Wn);if(Pc===null){Mo===null&&(Mo=Ga);break}l&&Mo&&Pc.alternate===null&&p($r,Mo),Nr=at(Pc,Nr,Wo),Po===null?xo=Pc:Po.sibling=Pc,Po=Pc,Mo=Ga}if(Li.done)return re($r,Mo),_i&&Us($r,Wo),xo;if(Mo===null){for(;!Li.done;Wo++,Li=nn.next())Li=Bn($r,Li.value,Wn),Li!==null&&(Nr=at(Li,Nr,Wo),Po===null?xo=Li:Po.sibling=Li,Po=Li);return _i&&Us($r,Wo),xo}for(Mo=Te($r,Mo);!Li.done;Wo++,Li=nn.next())Li=to(Mo,$r,Wo,Li.value,Wn),Li!==null&&(l&&Li.alternate!==null&&Mo.delete(Li.key===null?Wo:Li.key),Nr=at(Li,Nr,Wo),Po===null?xo=Li:Po.sibling=Li,Po=Li);return l&&Mo.forEach(function(Rx){return p($r,Rx)}),_i&&Us($r,Wo),xo}function _a($r,Nr,nn,Wn){if(typeof nn=="object"&&nn!==null&&nn.type===d&&nn.key===null&&(nn=nn.props.children),typeof nn=="object"&&nn!==null){switch(nn.$$typeof){case M:e:{for(var xo=nn.key,Po=Nr;Po!==null;){if(Po.key===xo){if(xo=nn.type,xo===d){if(Po.tag===7){re($r,Po.sibling),Nr=Ke(Po,nn.props.children),Nr.return=$r,$r=Nr;break e}}else if(Po.elementType===xo||typeof xo=="object"&&xo!==null&&xo.$$typeof===Se&&Vl(xo)===Po.type){re($r,Po.sibling),Nr=Ke(Po,nn.props),Nr.ref=cc($r,Po,nn),Nr.return=$r,$r=Nr;break e}re($r,Po);break}else p($r,Po);Po=Po.sibling}nn.type===d?(Nr=tu(nn.props.children,$r.mode,Wn,nn.key),Nr.return=$r,$r=Nr):(Wn=Ef(nn.type,nn.key,nn.props,null,$r.mode,Wn),Wn.ref=cc($r,Nr,nn),Wn.return=$r,$r=Wn)}return Ot($r);case f:e:{for(Po=nn.key;Nr!==null;){if(Nr.key===Po)if(Nr.tag===4&&Nr.stateNode.containerInfo===nn.containerInfo&&Nr.stateNode.implementation===nn.implementation){re($r,Nr.sibling),Nr=Ke(Nr,nn.children||[]),Nr.return=$r,$r=Nr;break e}else{re($r,Nr);break}else p($r,Nr);Nr=Nr.sibling}Nr=m0(nn,$r.mode,Wn),Nr.return=$r,$r=Nr}return Ot($r);case Se:return Po=nn._init,_a($r,Nr,Po(nn._payload),Wn)}if(de(nn))return fo($r,Nr,nn,Wn);if(Q(nn))return mo($r,Nr,nn,Wn);Ul($r,nn)}return typeof nn=="string"&&nn!==""||typeof nn=="number"?(nn=""+nn,Nr!==null&&Nr.tag===6?(re($r,Nr.sibling),Nr=Ke(Nr,nn),Nr.return=$r,$r=Nr):(re($r,Nr),Nr=p0(nn,$r.mode,Wn),Nr.return=$r,$r=Nr),Ot($r)):re($r,Nr)}return _a}var W=ns(!0),s=ns(!1),I=Ua(null),G=null,se=null,_e=null;function he(){_e=se=G=null}function $(l){var p=I.current;yi(I),l._currentValue=p}function ie(l,p,re){for(;l!==null;){var Te=l.alternate;if((l.childLanes&p)!==p?(l.childLanes|=p,Te!==null&&(Te.childLanes|=p)):Te!==null&&(Te.childLanes&p)!==p&&(Te.childLanes|=p),l===re)break;l=l.return}}function De(l,p){G=l,_e=se=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&p)!==0&&(Ys=!0),l.firstContext=null)}function He(l){var p=l._currentValue;if(_e!==l)if(l={context:l,memoizedValue:p,next:null},se===null){if(G===null)throw Error(t(308));se=l,G.dependencies={lanes:0,firstContext:l}}else se=se.next=l;return p}var Ve=null;function lt(l){Ve===null?Ve=[l]:Ve.push(l)}function dt(l,p,re,Te){var Ke=p.interleaved;return Ke===null?(re.next=re,lt(p)):(re.next=Ke.next,Ke.next=re),p.interleaved=re,vt(l,Te)}function vt(l,p){l.lanes|=p;var re=l.alternate;for(re!==null&&(re.lanes|=p),re=l,l=l.return;l!==null;)l.childLanes|=p,re=l.alternate,re!==null&&(re.childLanes|=p),re=l,l=l.return;return re.tag===3?re.stateNode:null}var Ct=!1;function Mt(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yt(l,p){l=l.updateQueue,p.updateQueue===l&&(p.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function ar(l,p){return{eventTime:l,lane:p,tag:0,payload:null,callback:null,next:null}}function Bt(l,p,re){var Te=l.updateQueue;if(Te===null)return null;if(Te=Te.shared,(ji&2)!==0){var Ke=Te.pending;return Ke===null?p.next=p:(p.next=Ke.next,Ke.next=p),Te.pending=p,vt(l,re)}return Ke=Te.interleaved,Ke===null?(p.next=p,lt(Te)):(p.next=Ke.next,Ke.next=p),Te.interleaved=p,vt(l,re)}function zt(l,p,re){if(p=p.updateQueue,p!==null&&(p=p.shared,(re&4194240)!==0)){var Te=p.lanes;Te&=l.pendingLanes,re|=Te,p.lanes=re,Zr(l,re)}}function $t(l,p){var re=l.updateQueue,Te=l.alternate;if(Te!==null&&(Te=Te.updateQueue,re===Te)){var Ke=null,at=null;if(re=re.firstBaseUpdate,re!==null){do{var Ot={eventTime:re.eventTime,lane:re.lane,tag:re.tag,payload:re.payload,callback:re.callback,next:null};at===null?Ke=at=Ot:at=at.next=Ot,re=re.next}while(re!==null);at===null?Ke=at=p:at=at.next=p}else Ke=at=p;re={baseState:Te.baseState,firstBaseUpdate:Ke,lastBaseUpdate:at,shared:Te.shared,effects:Te.effects},l.updateQueue=re;return}l=re.lastBaseUpdate,l===null?re.firstBaseUpdate=p:l.next=p,re.lastBaseUpdate=p}function dr(l,p,re,Te){var Ke=l.updateQueue;Ct=!1;var at=Ke.firstBaseUpdate,Ot=Ke.lastBaseUpdate,br=Ke.shared.pending;if(br!==null){Ke.shared.pending=null;var Pr=br,un=Pr.next;Pr.next=null,Ot===null?at=un:Ot.next=un,Ot=Pr;var Rn=l.alternate;Rn!==null&&(Rn=Rn.updateQueue,br=Rn.lastBaseUpdate,br!==Ot&&(br===null?Rn.firstBaseUpdate=un:br.next=un,Rn.lastBaseUpdate=Pr))}if(at!==null){var Bn=Ke.baseState;Ot=0,Rn=un=Pr=null,br=at;do{var Dn=br.lane,to=br.eventTime;if((Te&Dn)===Dn){Rn!==null&&(Rn=Rn.next={eventTime:to,lane:0,tag:br.tag,payload:br.payload,callback:br.callback,next:null});e:{var fo=l,mo=br;switch(Dn=p,to=re,mo.tag){case 1:if(fo=mo.payload,typeof fo=="function"){Bn=fo.call(to,Bn,Dn);break e}Bn=fo;break e;case 3:fo.flags=fo.flags&-65537|128;case 0:if(fo=mo.payload,Dn=typeof fo=="function"?fo.call(to,Bn,Dn):fo,Dn==null)break e;Bn=K({},Bn,Dn);break e;case 2:Ct=!0}}br.callback!==null&&br.lane!==0&&(l.flags|=64,Dn=Ke.effects,Dn===null?Ke.effects=[br]:Dn.push(br))}else to={eventTime:to,lane:Dn,tag:br.tag,payload:br.payload,callback:br.callback,next:null},Rn===null?(un=Rn=to,Pr=Bn):Rn=Rn.next=to,Ot|=Dn;if(br=br.next,br===null){if(br=Ke.shared.pending,br===null)break;Dn=br,br=Dn.next,Dn.next=null,Ke.lastBaseUpdate=Dn,Ke.shared.pending=null}}while(!0);if(Rn===null&&(Pr=Bn),Ke.baseState=Pr,Ke.firstBaseUpdate=un,Ke.lastBaseUpdate=Rn,p=Ke.shared.interleaved,p!==null){Ke=p;do Ot|=Ke.lane,Ke=Ke.next;while(Ke!==p)}else at===null&&(Ke.shared.lanes=0);qc|=Ot,l.lanes=Ot,l.memoizedState=Bn}}function yr(l,p,re){if(l=p.effects,p.effects=null,l!==null)for(p=0;p<l.length;p++){var Te=l[p],Ke=Te.callback;if(Ke!==null){if(Te.callback=null,Te=re,typeof Ke!="function")throw Error(t(191,Ke));Ke.call(Te)}}}var lr={},nr=Ua(lr),Tr=Ua(lr),qr=Ua(lr);function pn(l){if(l===lr)throw Error(t(174));return l}function _n(l,p){switch(ci(qr,p),ci(Tr,l),ci(nr,lr),l=p.nodeType,l){case 9:case 11:p=(p=p.documentElement)?p.namespaceURI:Ge(null,"");break;default:l=l===8?p.parentNode:p,p=l.namespaceURI||null,l=l.tagName,p=Ge(p,l)}yi(nr),ci(nr,p)}function Nn(){yi(nr),yi(Tr),yi(qr)}function Un(l){pn(qr.current);var p=pn(nr.current),re=Ge(p,l.type);p!==re&&(ci(Tr,l),ci(nr,re))}function kn(l){Tr.current===l&&(yi(nr),yi(Tr))}var vn=Ua(0);function An(l){for(var p=l;p!==null;){if(p.tag===13){var re=p.memoizedState;if(re!==null&&(re=re.dehydrated,re===null||re.data==="$?"||re.data==="$!"))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===l)break;for(;p.sibling===null;){if(p.return===null||p.return===l)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var jn=[];function qn(){for(var l=0;l<jn.length;l++)jn[l]._workInProgressVersionPrimary=null;jn.length=0}var oo=N.ReactCurrentDispatcher,no=N.ReactCurrentBatchConfig,so=0,zn=null,Mn=null,Jn=null,Ro=!1,Do=!1,Eo=0,To=0;function ho(){throw Error(t(321))}function po(l,p){if(p===null)return!1;for(var re=0;re<p.length&&re<l.length;re++)if(!fa(l[re],p[re]))return!1;return!0}function zo(l,p,re,Te,Ke,at){if(so=at,zn=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,oo.current=l===null||l.memoizedState===null?sx:lx,l=re(Te,Ke),Do){at=0;do{if(Do=!1,Eo=0,25<=at)throw Error(t(301));at+=1,Jn=Mn=null,p.updateQueue=null,oo.current=cx,l=re(Te,Ke)}while(Do)}if(oo.current=lf,p=Mn!==null&&Mn.next!==null,so=0,Jn=Mn=zn=null,Ro=!1,p)throw Error(t(300));return l}function Xi(){var l=Eo!==0;return Eo=0,l}function Vn(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jn===null?zn.memoizedState=Jn=l:Jn=Jn.next=l,Jn}function Pn(){if(Mn===null){var l=zn.alternate;l=l!==null?l.memoizedState:null}else l=Mn.next;var p=Jn===null?zn.memoizedState:Jn.next;if(p!==null)Jn=p,Mn=l;else{if(l===null)throw Error(t(310));Mn=l,l={memoizedState:Mn.memoizedState,baseState:Mn.baseState,baseQueue:Mn.baseQueue,queue:Mn.queue,next:null},Jn===null?zn.memoizedState=Jn=l:Jn=Jn.next=l}return Jn}function yo(l,p){return typeof p=="function"?p(l):p}function Ho(l){var p=Pn(),re=p.queue;if(re===null)throw Error(t(311));re.lastRenderedReducer=l;var Te=Mn,Ke=Te.baseQueue,at=re.pending;if(at!==null){if(Ke!==null){var Ot=Ke.next;Ke.next=at.next,at.next=Ot}Te.baseQueue=Ke=at,re.pending=null}if(Ke!==null){at=Ke.next,Te=Te.baseState;var br=Ot=null,Pr=null,un=at;do{var Rn=un.lane;if((so&Rn)===Rn)Pr!==null&&(Pr=Pr.next={lane:0,action:un.action,hasEagerState:un.hasEagerState,eagerState:un.eagerState,next:null}),Te=un.hasEagerState?un.eagerState:l(Te,un.action);else{var Bn={lane:Rn,action:un.action,hasEagerState:un.hasEagerState,eagerState:un.eagerState,next:null};Pr===null?(br=Pr=Bn,Ot=Te):Pr=Pr.next=Bn,zn.lanes|=Rn,qc|=Rn}un=un.next}while(un!==null&&un!==at);Pr===null?Ot=Te:Pr.next=br,fa(Te,p.memoizedState)||(Ys=!0),p.memoizedState=Te,p.baseState=Ot,p.baseQueue=Pr,re.lastRenderedState=Te}if(l=re.interleaved,l!==null){Ke=l;do at=Ke.lane,zn.lanes|=at,qc|=at,Ke=Ke.next;while(Ke!==l)}else Ke===null&&(re.lanes=0);return[p.memoizedState,re.dispatch]}function oi(l){var p=Pn(),re=p.queue;if(re===null)throw Error(t(311));re.lastRenderedReducer=l;var Te=re.dispatch,Ke=re.pending,at=p.memoizedState;if(Ke!==null){re.pending=null;var Ot=Ke=Ke.next;do at=l(at,Ot.action),Ot=Ot.next;while(Ot!==Ke);fa(at,p.memoizedState)||(Ys=!0),p.memoizedState=at,p.baseQueue===null&&(p.baseState=at),re.lastRenderedState=at}return[at,Te]}function li(){}function gi(l,p){var re=zn,Te=Pn(),Ke=p(),at=!fa(Te.memoizedState,Ke);if(at&&(Te.memoizedState=Ke,Ys=!0),Te=Te.queue,hl(xi.bind(null,re,Te,l),[l]),Te.getSnapshot!==p||at||Jn!==null&&Jn.memoizedState.tag&1){if(re.flags|=2048,fl(9,ko.bind(null,re,Te,Ke,p),void 0,null),Ka===null)throw Error(t(349));(so&30)!==0||jo(re,p,Ke)}return Ke}function jo(l,p,re){l.flags|=16384,l={getSnapshot:p,value:re},p=zn.updateQueue,p===null?(p={lastEffect:null,stores:null},zn.updateQueue=p,p.stores=[l]):(re=p.stores,re===null?p.stores=[l]:re.push(l))}function ko(l,p,re,Te){p.value=re,p.getSnapshot=Te,oa(p)&&Ks(l)}function xi(l,p,re){return re(function(){oa(p)&&Ks(l)})}function oa(l){var p=l.getSnapshot;l=l.value;try{var re=p();return!fa(l,re)}catch{return!0}}function Ks(l){var p=vt(l,1);p!==null&&Rl(p,l,1,-1)}function Kl(l){var p=Vn();return typeof l=="function"&&(l=l()),p.memoizedState=p.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yo,lastRenderedState:l},p.queue=l,l=l.dispatch=ax.bind(null,zn,l),[p.memoizedState,l]}function fl(l,p,re,Te){return l={tag:l,create:p,destroy:re,deps:Te,next:null},p=zn.updateQueue,p===null?(p={lastEffect:null,stores:null},zn.updateQueue=p,p.lastEffect=l.next=l):(re=p.lastEffect,re===null?p.lastEffect=l.next=l:(Te=re.next,re.next=l,l.next=Te,p.lastEffect=l)),l}function Gl(){return Pn().memoizedState}function os(l,p,re,Te){var Ke=Vn();zn.flags|=l,Ke.memoizedState=fl(1|p,re,void 0,Te===void 0?null:Te)}function pa(l,p,re,Te){var Ke=Pn();Te=Te===void 0?null:Te;var at=void 0;if(Mn!==null){var Ot=Mn.memoizedState;if(at=Ot.destroy,Te!==null&&po(Te,Ot.deps)){Ke.memoizedState=fl(p,re,at,Te);return}}zn.flags|=l,Ke.memoizedState=fl(1|p,re,at,Te)}function Gs(l,p){return os(8390656,8,l,p)}function hl(l,p){return pa(2048,8,l,p)}function Pl(l,p){return pa(4,2,l,p)}function kc(l,p){return pa(4,4,l,p)}function Yl(l,p){if(typeof p=="function")return l=l(),p(l),function(){p(null)};if(p!=null)return l=l(),p.current=l,function(){p.current=null}}function _c(l,p,re){return re=re!=null?re.concat([l]):null,pa(4,4,Yl.bind(null,p,l),re)}function Xc(){}function yu(l,p){var re=Pn();p=p===void 0?null:p;var Te=re.memoizedState;return Te!==null&&p!==null&&po(p,Te[1])?Te[0]:(re.memoizedState=[l,p],l)}function sf(l,p){var re=Pn();p=p===void 0?null:p;var Te=re.memoizedState;return Te!==null&&p!==null&&po(p,Te[1])?Te[0]:(l=l(),re.memoizedState=[l,p],l)}function Vm(l,p,re){return(so&21)===0?(l.baseState&&(l.baseState=!1,Ys=!0),l.memoizedState=re):(fa(re,p)||(re=Ut(),zn.lanes|=re,qc|=re,l.baseState=!0),p)}function ox(l,p){var re=Dr;Dr=re!==0&&4>re?re:4,l(!0);var Te=no.transition;no.transition={};try{l(!1),p()}finally{Dr=re,no.transition=Te}}function Km(){return Pn().memoizedState}function ix(l,p,re){var Te=Oc(l);if(re={lane:Te,action:re,hasEagerState:!1,eagerState:null,next:null},Gm(l))Ym(p,re);else if(re=dt(l,p,re,Te),re!==null){var Ke=Ps();Rl(re,l,Te,Ke),$m(re,p,Te)}}function ax(l,p,re){var Te=Oc(l),Ke={lane:Te,action:re,hasEagerState:!1,eagerState:null,next:null};if(Gm(l))Ym(p,Ke);else{var at=l.alternate;if(l.lanes===0&&(at===null||at.lanes===0)&&(at=p.lastRenderedReducer,at!==null))try{var Ot=p.lastRenderedState,br=at(Ot,re);if(Ke.hasEagerState=!0,Ke.eagerState=br,fa(br,Ot)){var Pr=p.interleaved;Pr===null?(Ke.next=Ke,lt(p)):(Ke.next=Pr.next,Pr.next=Ke),p.interleaved=Ke;return}}catch{}finally{}re=dt(l,p,Ke,Te),re!==null&&(Ke=Ps(),Rl(re,l,Te,Ke),$m(re,p,Te))}}function Gm(l){var p=l.alternate;return l===zn||p!==null&&p===zn}function Ym(l,p){Do=Ro=!0;var re=l.pending;re===null?p.next=p:(p.next=re.next,re.next=p),l.pending=p}function $m(l,p,re){if((re&4194240)!==0){var Te=p.lanes;Te&=l.pendingLanes,re|=Te,p.lanes=re,Zr(l,re)}}var lf={readContext:He,useCallback:ho,useContext:ho,useEffect:ho,useImperativeHandle:ho,useInsertionEffect:ho,useLayoutEffect:ho,useMemo:ho,useReducer:ho,useRef:ho,useState:ho,useDebugValue:ho,useDeferredValue:ho,useTransition:ho,useMutableSource:ho,useSyncExternalStore:ho,useId:ho,unstable_isNewReconciler:!1},sx={readContext:He,useCallback:function(l,p){return Vn().memoizedState=[l,p===void 0?null:p],l},useContext:He,useEffect:Gs,useImperativeHandle:function(l,p,re){return re=re!=null?re.concat([l]):null,os(4194308,4,Yl.bind(null,p,l),re)},useLayoutEffect:function(l,p){return os(4194308,4,l,p)},useInsertionEffect:function(l,p){return os(4,2,l,p)},useMemo:function(l,p){var re=Vn();return p=p===void 0?null:p,l=l(),re.memoizedState=[l,p],l},useReducer:function(l,p,re){var Te=Vn();return p=re!==void 0?re(p):p,Te.memoizedState=Te.baseState=p,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:p},Te.queue=l,l=l.dispatch=ix.bind(null,zn,l),[Te.memoizedState,l]},useRef:function(l){var p=Vn();return l={current:l},p.memoizedState=l},useState:Kl,useDebugValue:Xc,useDeferredValue:function(l){return Vn().memoizedState=l},useTransition:function(){var l=Kl(!1),p=l[0];return l=ox.bind(null,l[1]),Vn().memoizedState=l,[p,l]},useMutableSource:function(){},useSyncExternalStore:function(l,p,re){var Te=zn,Ke=Vn();if(_i){if(re===void 0)throw Error(t(407));re=re()}else{if(re=p(),Ka===null)throw Error(t(349));(so&30)!==0||jo(Te,p,re)}Ke.memoizedState=re;var at={value:re,getSnapshot:p};return Ke.queue=at,Gs(xi.bind(null,Te,at,l),[l]),Te.flags|=2048,fl(9,ko.bind(null,Te,at,re,p),void 0,null),re},useId:function(){var l=Vn(),p=Ka.identifierPrefix;if(_i){var re=Os,Te=Is;re=(Te&~(1<<32-Ft(Te)-1)).toString(32)+re,p=":"+p+"R"+re,re=Eo++,0<re&&(p+="H"+re.toString(32)),p+=":"}else re=To++,p=":"+p+"r"+re.toString(32)+":";return l.memoizedState=p},unstable_isNewReconciler:!1},lx={readContext:He,useCallback:yu,useContext:He,useEffect:hl,useImperativeHandle:_c,useInsertionEffect:Pl,useLayoutEffect:kc,useMemo:sf,useReducer:Ho,useRef:Gl,useState:function(){return Ho(yo)},useDebugValue:Xc,useDeferredValue:function(l){var p=Pn();return Vm(p,Mn.memoizedState,l)},useTransition:function(){var l=Ho(yo)[0],p=Pn().memoizedState;return[l,p]},useMutableSource:li,useSyncExternalStore:gi,useId:Km,unstable_isNewReconciler:!1},cx={readContext:He,useCallback:yu,useContext:He,useEffect:hl,useImperativeHandle:_c,useInsertionEffect:Pl,useLayoutEffect:kc,useMemo:sf,useReducer:oi,useRef:Gl,useState:function(){return oi(yo)},useDebugValue:Xc,useDeferredValue:function(l){var p=Pn();return Mn===null?p.memoizedState=l:Vm(p,Mn.memoizedState,l)},useTransition:function(){var l=oi(yo)[0],p=Pn().memoizedState;return[l,p]},useMutableSource:li,useSyncExternalStore:gi,useId:Km,unstable_isNewReconciler:!1};function Ml(l,p){if(l&&l.defaultProps){p=K({},p),l=l.defaultProps;for(var re in l)p[re]===void 0&&(p[re]=l[re]);return p}return p}function Hh(l,p,re,Te){p=l.memoizedState,re=re(Te,p),re=re==null?p:K({},p,re),l.memoizedState=re,l.lanes===0&&(l.updateQueue.baseState=re)}var cf={isMounted:function(l){return(l=l._reactInternals)?It(l)===l:!1},enqueueSetState:function(l,p,re){l=l._reactInternals;var Te=Ps(),Ke=Oc(l),at=ar(Te,Ke);at.payload=p,re!=null&&(at.callback=re),p=Bt(l,at,Ke),p!==null&&(Rl(p,l,Ke,Te),zt(p,l,Ke))},enqueueReplaceState:function(l,p,re){l=l._reactInternals;var Te=Ps(),Ke=Oc(l),at=ar(Te,Ke);at.tag=1,at.payload=p,re!=null&&(at.callback=re),p=Bt(l,at,Ke),p!==null&&(Rl(p,l,Ke,Te),zt(p,l,Ke))},enqueueForceUpdate:function(l,p){l=l._reactInternals;var re=Ps(),Te=Oc(l),Ke=ar(re,Te);Ke.tag=2,p!=null&&(Ke.callback=p),p=Bt(l,Ke,Te),p!==null&&(Rl(p,l,Te,re),zt(p,l,Te))}};function Xm(l,p,re,Te,Ke,at,Ot){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(Te,at,Ot):p.prototype&&p.prototype.isPureReactComponent?!pi(re,Te)||!pi(Ke,at):!0}function qm(l,p,re){var Te=!1,Ke=ja,at=p.contextType;return typeof at=="object"&&at!==null?at=He(at):(Ke=Ko(p)?Ea:Ri.current,Te=p.contextTypes,at=(Te=Te!=null)?Zi(l,Ke):ja),p=new p(re,at),l.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=cf,l.stateNode=p,p._reactInternals=l,Te&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=Ke,l.__reactInternalMemoizedMaskedChildContext=at),p}function Qm(l,p,re,Te){l=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(re,Te),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(re,Te),p.state!==l&&cf.enqueueReplaceState(p,p.state,null)}function Wh(l,p,re,Te){var Ke=l.stateNode;Ke.props=re,Ke.state=l.memoizedState,Ke.refs={},Mt(l);var at=p.contextType;typeof at=="object"&&at!==null?Ke.context=He(at):(at=Ko(p)?Ea:Ri.current,Ke.context=Zi(l,at)),Ke.state=l.memoizedState,at=p.getDerivedStateFromProps,typeof at=="function"&&(Hh(l,p,at,re),Ke.state=l.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof Ke.getSnapshotBeforeUpdate=="function"||typeof Ke.UNSAFE_componentWillMount!="function"&&typeof Ke.componentWillMount!="function"||(p=Ke.state,typeof Ke.componentWillMount=="function"&&Ke.componentWillMount(),typeof Ke.UNSAFE_componentWillMount=="function"&&Ke.UNSAFE_componentWillMount(),p!==Ke.state&&cf.enqueueReplaceState(Ke,Ke.state,null),dr(l,re,Ke,Te),Ke.state=l.memoizedState),typeof Ke.componentDidMount=="function"&&(l.flags|=4194308)}function xu(l,p){try{var re="",Te=p;do re+=E(Te),Te=Te.return;while(Te);var Ke=re}catch(at){Ke=`
Error generating stack: `+at.message+`
`+at.stack}return{value:l,source:p,stack:Ke,digest:null}}function Uh(l,p,re){return{value:l,source:null,stack:re??null,digest:p??null}}function Vh(l,p){try{console.error(p.value)}catch(re){setTimeout(function(){throw re})}}var ux=typeof WeakMap=="function"?WeakMap:Map;function Jm(l,p,re){re=ar(-1,re),re.tag=3,re.payload={element:null};var Te=p.value;return re.callback=function(){gf||(gf=!0,a0=Te),Vh(l,p)},re}function eg(l,p,re){re=ar(-1,re),re.tag=3;var Te=l.type.getDerivedStateFromError;if(typeof Te=="function"){var Ke=p.value;re.payload=function(){return Te(Ke)},re.callback=function(){Vh(l,p)}}var at=l.stateNode;return at!==null&&typeof at.componentDidCatch=="function"&&(re.callback=function(){Vh(l,p),typeof Te!="function"&&(Cc===null?Cc=new Set([this]):Cc.add(this));var Ot=p.stack;this.componentDidCatch(p.value,{componentStack:Ot!==null?Ot:""})}),re}function tg(l,p,re){var Te=l.pingCache;if(Te===null){Te=l.pingCache=new ux;var Ke=new Set;Te.set(p,Ke)}else Ke=Te.get(p),Ke===void 0&&(Ke=new Set,Te.set(p,Ke));Ke.has(re)||(Ke.add(re),l=_x.bind(null,l,p,re),p.then(l,l))}function rg(l){do{var p;if((p=l.tag===13)&&(p=l.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return l;l=l.return}while(l!==null);return null}function ng(l,p,re,Te,Ke){return(l.mode&1)===0?(l===p?l.flags|=65536:(l.flags|=128,re.flags|=131072,re.flags&=-52805,re.tag===1&&(re.alternate===null?re.tag=17:(p=ar(-1,1),p.tag=2,Bt(re,p,1))),re.lanes|=1),l):(l.flags|=65536,l.lanes=Ke,l)}var dx=N.ReactCurrentOwner,Ys=!1;function js(l,p,re,Te){p.child=l===null?s(p,null,re,Te):W(p,l.child,re,Te)}function og(l,p,re,Te,Ke){re=re.render;var at=p.ref;return De(p,Ke),Te=zo(l,p,re,Te,at,Ke),re=Xi(),l!==null&&!Ys?(p.updateQueue=l.updateQueue,p.flags&=-2053,l.lanes&=~Ke,uc(l,p,Ke)):(_i&&re&&El(p),p.flags|=1,js(l,p,Te,Ke),p.child)}function ig(l,p,re,Te,Ke){if(l===null){var at=re.type;return typeof at=="function"&&!h0(at)&&at.defaultProps===void 0&&re.compare===null&&re.defaultProps===void 0?(p.tag=15,p.type=at,ag(l,p,at,Te,Ke)):(l=Ef(re.type,null,Te,p,p.mode,Ke),l.ref=p.ref,l.return=p,p.child=l)}if(at=l.child,(l.lanes&Ke)===0){var Ot=at.memoizedProps;if(re=re.compare,re=re!==null?re:pi,re(Ot,Te)&&l.ref===p.ref)return uc(l,p,Ke)}return p.flags|=1,l=jc(at,Te),l.ref=p.ref,l.return=p,p.child=l}function ag(l,p,re,Te,Ke){if(l!==null){var at=l.memoizedProps;if(pi(at,Te)&&l.ref===p.ref)if(Ys=!1,p.pendingProps=Te=at,(l.lanes&Ke)!==0)(l.flags&131072)!==0&&(Ys=!0);else return p.lanes=l.lanes,uc(l,p,Ke)}return Kh(l,p,re,Te,Ke)}function sg(l,p,re){var Te=p.pendingProps,Ke=Te.children,at=l!==null?l.memoizedState:null;if(Te.mode==="hidden")if((p.mode&1)===0)p.memoizedState={baseLanes:0,cachePool:null,transitions:null},ci(Eu,pl),pl|=re;else{if((re&1073741824)===0)return l=at!==null?at.baseLanes|re:re,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:l,cachePool:null,transitions:null},p.updateQueue=null,ci(Eu,pl),pl|=l,null;p.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te=at!==null?at.baseLanes:re,ci(Eu,pl),pl|=Te}else at!==null?(Te=at.baseLanes|re,p.memoizedState=null):Te=re,ci(Eu,pl),pl|=Te;return js(l,p,Ke,re),p.child}function lg(l,p){var re=p.ref;(l===null&&re!==null||l!==null&&l.ref!==re)&&(p.flags|=512,p.flags|=2097152)}function Kh(l,p,re,Te,Ke){var at=Ko(re)?Ea:Ri.current;return at=Zi(p,at),De(p,Ke),re=zo(l,p,re,Te,at,Ke),Te=Xi(),l!==null&&!Ys?(p.updateQueue=l.updateQueue,p.flags&=-2053,l.lanes&=~Ke,uc(l,p,Ke)):(_i&&Te&&El(p),p.flags|=1,js(l,p,re,Ke),p.child)}function cg(l,p,re,Te,Ke){if(Ko(re)){var at=!0;fn(p)}else at=!1;if(De(p,Ke),p.stateNode===null)df(l,p),qm(p,re,Te),Wh(p,re,Te,Ke),Te=!0;else if(l===null){var Ot=p.stateNode,br=p.memoizedProps;Ot.props=br;var Pr=Ot.context,un=re.contextType;typeof un=="object"&&un!==null?un=He(un):(un=Ko(re)?Ea:Ri.current,un=Zi(p,un));var Rn=re.getDerivedStateFromProps,Bn=typeof Rn=="function"||typeof Ot.getSnapshotBeforeUpdate=="function";Bn||typeof Ot.UNSAFE_componentWillReceiveProps!="function"&&typeof Ot.componentWillReceiveProps!="function"||(br!==Te||Pr!==un)&&Qm(p,Ot,Te,un),Ct=!1;var Dn=p.memoizedState;Ot.state=Dn,dr(p,Te,Ot,Ke),Pr=p.memoizedState,br!==Te||Dn!==Pr||ki.current||Ct?(typeof Rn=="function"&&(Hh(p,re,Rn,Te),Pr=p.memoizedState),(br=Ct||Xm(p,re,br,Te,Dn,Pr,un))?(Bn||typeof Ot.UNSAFE_componentWillMount!="function"&&typeof Ot.componentWillMount!="function"||(typeof Ot.componentWillMount=="function"&&Ot.componentWillMount(),typeof Ot.UNSAFE_componentWillMount=="function"&&Ot.UNSAFE_componentWillMount()),typeof Ot.componentDidMount=="function"&&(p.flags|=4194308)):(typeof Ot.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=Te,p.memoizedState=Pr),Ot.props=Te,Ot.state=Pr,Ot.context=un,Te=br):(typeof Ot.componentDidMount=="function"&&(p.flags|=4194308),Te=!1)}else{Ot=p.stateNode,Yt(l,p),br=p.memoizedProps,un=p.type===p.elementType?br:Ml(p.type,br),Ot.props=un,Bn=p.pendingProps,Dn=Ot.context,Pr=re.contextType,typeof Pr=="object"&&Pr!==null?Pr=He(Pr):(Pr=Ko(re)?Ea:Ri.current,Pr=Zi(p,Pr));var to=re.getDerivedStateFromProps;(Rn=typeof to=="function"||typeof Ot.getSnapshotBeforeUpdate=="function")||typeof Ot.UNSAFE_componentWillReceiveProps!="function"&&typeof Ot.componentWillReceiveProps!="function"||(br!==Bn||Dn!==Pr)&&Qm(p,Ot,Te,Pr),Ct=!1,Dn=p.memoizedState,Ot.state=Dn,dr(p,Te,Ot,Ke);var fo=p.memoizedState;br!==Bn||Dn!==fo||ki.current||Ct?(typeof to=="function"&&(Hh(p,re,to,Te),fo=p.memoizedState),(un=Ct||Xm(p,re,un,Te,Dn,fo,Pr)||!1)?(Rn||typeof Ot.UNSAFE_componentWillUpdate!="function"&&typeof Ot.componentWillUpdate!="function"||(typeof Ot.componentWillUpdate=="function"&&Ot.componentWillUpdate(Te,fo,Pr),typeof Ot.UNSAFE_componentWillUpdate=="function"&&Ot.UNSAFE_componentWillUpdate(Te,fo,Pr)),typeof Ot.componentDidUpdate=="function"&&(p.flags|=4),typeof Ot.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof Ot.componentDidUpdate!="function"||br===l.memoizedProps&&Dn===l.memoizedState||(p.flags|=4),typeof Ot.getSnapshotBeforeUpdate!="function"||br===l.memoizedProps&&Dn===l.memoizedState||(p.flags|=1024),p.memoizedProps=Te,p.memoizedState=fo),Ot.props=Te,Ot.state=fo,Ot.context=Pr,Te=un):(typeof Ot.componentDidUpdate!="function"||br===l.memoizedProps&&Dn===l.memoizedState||(p.flags|=4),typeof Ot.getSnapshotBeforeUpdate!="function"||br===l.memoizedProps&&Dn===l.memoizedState||(p.flags|=1024),Te=!1)}return Gh(l,p,re,Te,at,Ke)}function Gh(l,p,re,Te,Ke,at){lg(l,p);var Ot=(p.flags&128)!==0;if(!Te&&!Ot)return Ke&&hn(p,re,!1),uc(l,p,at);Te=p.stateNode,dx.current=p;var br=Ot&&typeof re.getDerivedStateFromError!="function"?null:Te.render();return p.flags|=1,l!==null&&Ot?(p.child=W(p,l.child,null,at),p.child=W(p,null,br,at)):js(l,p,br,at),p.memoizedState=Te.state,Ke&&hn(p,re,!0),p.child}function ug(l){var p=l.stateNode;p.pendingContext?ms(l,p.pendingContext,p.pendingContext!==p.context):p.context&&ms(l,p.context,!1),_n(l,p.containerInfo)}function dg(l,p,re,Te,Ke){return Zo(),ni(Ke),p.flags|=256,js(l,p,re,Te),p.child}var Yh={dehydrated:null,treeContext:null,retryLane:0};function $h(l){return{baseLanes:l,cachePool:null,transitions:null}}function fg(l,p,re){var Te=p.pendingProps,Ke=vn.current,at=!1,Ot=(p.flags&128)!==0,br;if((br=Ot)||(br=l!==null&&l.memoizedState===null?!1:(Ke&2)!==0),br?(at=!0,p.flags&=-129):(l===null||l.memoizedState!==null)&&(Ke|=1),ci(vn,Ke&1),l===null)return jl(p),l=p.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((p.mode&1)===0?p.lanes=1:l.data==="$!"?p.lanes=8:p.lanes=1073741824,null):(Ot=Te.children,l=Te.fallback,at?(Te=p.mode,at=p.child,Ot={mode:"hidden",children:Ot},(Te&1)===0&&at!==null?(at.childLanes=0,at.pendingProps=Ot):at=kf(Ot,Te,0,null),l=tu(l,Te,re,null),at.return=p,l.return=p,at.sibling=l,p.child=at,p.child.memoizedState=$h(re),p.memoizedState=Yh,l):Xh(p,Ot));if(Ke=l.memoizedState,Ke!==null&&(br=Ke.dehydrated,br!==null))return fx(l,p,Ot,Te,br,Ke,re);if(at){at=Te.fallback,Ot=p.mode,Ke=l.child,br=Ke.sibling;var Pr={mode:"hidden",children:Te.children};return(Ot&1)===0&&p.child!==Ke?(Te=p.child,Te.childLanes=0,Te.pendingProps=Pr,p.deletions=null):(Te=jc(Ke,Pr),Te.subtreeFlags=Ke.subtreeFlags&14680064),br!==null?at=jc(br,at):(at=tu(at,Ot,re,null),at.flags|=2),at.return=p,Te.return=p,Te.sibling=at,p.child=Te,Te=at,at=p.child,Ot=l.child.memoizedState,Ot=Ot===null?$h(re):{baseLanes:Ot.baseLanes|re,cachePool:null,transitions:Ot.transitions},at.memoizedState=Ot,at.childLanes=l.childLanes&~re,p.memoizedState=Yh,Te}return at=l.child,l=at.sibling,Te=jc(at,{mode:"visible",children:Te.children}),(p.mode&1)===0&&(Te.lanes=re),Te.return=p,Te.sibling=null,l!==null&&(re=p.deletions,re===null?(p.deletions=[l],p.flags|=16):re.push(l)),p.child=Te,p.memoizedState=null,Te}function Xh(l,p){return p=kf({mode:"visible",children:p},l.mode,0,null),p.return=l,l.child=p}function uf(l,p,re,Te){return Te!==null&&ni(Te),W(p,l.child,null,re),l=Xh(p,p.pendingProps.children),l.flags|=2,p.memoizedState=null,l}function fx(l,p,re,Te,Ke,at,Ot){if(re)return p.flags&256?(p.flags&=-257,Te=Uh(Error(t(422))),uf(l,p,Ot,Te)):p.memoizedState!==null?(p.child=l.child,p.flags|=128,null):(at=Te.fallback,Ke=p.mode,Te=kf({mode:"visible",children:Te.children},Ke,0,null),at=tu(at,Ke,Ot,null),at.flags|=2,Te.return=p,at.return=p,Te.sibling=at,p.child=Te,(p.mode&1)!==0&&W(p,l.child,null,Ot),p.child.memoizedState=$h(Ot),p.memoizedState=Yh,at);if((p.mode&1)===0)return uf(l,p,Ot,null);if(Ke.data==="$!"){if(Te=Ke.nextSibling&&Ke.nextSibling.dataset,Te)var br=Te.dgst;return Te=br,at=Error(t(419)),Te=Uh(at,Te,void 0),uf(l,p,Ot,Te)}if(br=(Ot&l.childLanes)!==0,Ys||br){if(Te=Ka,Te!==null){switch(Ot&-Ot){case 4:Ke=2;break;case 16:Ke=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Ke=32;break;case 536870912:Ke=268435456;break;default:Ke=0}Ke=(Ke&(Te.suspendedLanes|Ot))!==0?0:Ke,Ke!==0&&Ke!==at.retryLane&&(at.retryLane=Ke,vt(l,Ke),Rl(Te,l,Ke,-1))}return f0(),Te=Uh(Error(t(421))),uf(l,p,Ot,Te)}return Ke.data==="$?"?(p.flags|=128,p.child=l.child,p=Sx.bind(null,l),Ke._reactRetry=p,null):(l=at.treeContext,Yi=Ni(Ke.nextSibling),ea=p,_i=!0,Na=null,l!==null&&(Pa[ka++]=Is,Pa[ka++]=Os,Pa[ka++]=Ws,Is=l.id,Os=l.overflow,Ws=p),p=Xh(p,Te.children),p.flags|=4096,p)}function hg(l,p,re){l.lanes|=p;var Te=l.alternate;Te!==null&&(Te.lanes|=p),ie(l.return,p,re)}function qh(l,p,re,Te,Ke){var at=l.memoizedState;at===null?l.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:Te,tail:re,tailMode:Ke}:(at.isBackwards=p,at.rendering=null,at.renderingStartTime=0,at.last=Te,at.tail=re,at.tailMode=Ke)}function pg(l,p,re){var Te=p.pendingProps,Ke=Te.revealOrder,at=Te.tail;if(js(l,p,Te.children,re),Te=vn.current,(Te&2)!==0)Te=Te&1|2,p.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=p.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&hg(l,re,p);else if(l.tag===19)hg(l,re,p);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===p)break e;for(;l.sibling===null;){if(l.return===null||l.return===p)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}Te&=1}if(ci(vn,Te),(p.mode&1)===0)p.memoizedState=null;else switch(Ke){case"forwards":for(re=p.child,Ke=null;re!==null;)l=re.alternate,l!==null&&An(l)===null&&(Ke=re),re=re.sibling;re=Ke,re===null?(Ke=p.child,p.child=null):(Ke=re.sibling,re.sibling=null),qh(p,!1,Ke,re,at);break;case"backwards":for(re=null,Ke=p.child,p.child=null;Ke!==null;){if(l=Ke.alternate,l!==null&&An(l)===null){p.child=Ke;break}l=Ke.sibling,Ke.sibling=re,re=Ke,Ke=l}qh(p,!0,re,null,at);break;case"together":qh(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function df(l,p){(p.mode&1)===0&&l!==null&&(l.alternate=null,p.alternate=null,p.flags|=2)}function uc(l,p,re){if(l!==null&&(p.dependencies=l.dependencies),qc|=p.lanes,(re&p.childLanes)===0)return null;if(l!==null&&p.child!==l.child)throw Error(t(153));if(p.child!==null){for(l=p.child,re=jc(l,l.pendingProps),p.child=re,re.return=p;l.sibling!==null;)l=l.sibling,re=re.sibling=jc(l,l.pendingProps),re.return=p;re.sibling=null}return p.child}function hx(l,p,re){switch(p.tag){case 3:ug(p),Zo();break;case 5:Un(p);break;case 1:Ko(p.type)&&fn(p);break;case 4:_n(p,p.stateNode.containerInfo);break;case 10:var Te=p.type._context,Ke=p.memoizedProps.value;ci(I,Te._currentValue),Te._currentValue=Ke;break;case 13:if(Te=p.memoizedState,Te!==null)return Te.dehydrated!==null?(ci(vn,vn.current&1),p.flags|=128,null):(re&p.child.childLanes)!==0?fg(l,p,re):(ci(vn,vn.current&1),l=uc(l,p,re),l!==null?l.sibling:null);ci(vn,vn.current&1);break;case 19:if(Te=(re&p.childLanes)!==0,(l.flags&128)!==0){if(Te)return pg(l,p,re);p.flags|=128}if(Ke=p.memoizedState,Ke!==null&&(Ke.rendering=null,Ke.tail=null,Ke.lastEffect=null),ci(vn,vn.current),Te)break;return null;case 22:case 23:return p.lanes=0,sg(l,p,re)}return uc(l,p,re)}var mg,Qh,gg,vg;mg=function(l,p){for(var re=p.child;re!==null;){if(re.tag===5||re.tag===6)l.appendChild(re.stateNode);else if(re.tag!==4&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===p)break;for(;re.sibling===null;){if(re.return===null||re.return===p)return;re=re.return}re.sibling.return=re.return,re=re.sibling}},Qh=function(){},gg=function(l,p,re,Te){var Ke=l.memoizedProps;if(Ke!==Te){l=p.stateNode,pn(nr.current);var at=null;switch(re){case"input":Ke=V(l,Ke),Te=V(l,Te),at=[];break;case"select":Ke=K({},Ke,{value:void 0}),Te=K({},Te,{value:void 0}),at=[];break;case"textarea":Ke=pe(l,Ke),Te=pe(l,Te),at=[];break;default:typeof Ke.onClick!="function"&&typeof Te.onClick=="function"&&(l.onclick=Ln)}Z(re,Te);var Ot;re=null;for(un in Ke)if(!Te.hasOwnProperty(un)&&Ke.hasOwnProperty(un)&&Ke[un]!=null)if(un==="style"){var br=Ke[un];for(Ot in br)br.hasOwnProperty(Ot)&&(re||(re={}),re[Ot]="")}else un!=="dangerouslySetInnerHTML"&&un!=="children"&&un!=="suppressContentEditableWarning"&&un!=="suppressHydrationWarning"&&un!=="autoFocus"&&(_.hasOwnProperty(un)?at||(at=[]):(at=at||[]).push(un,null));for(un in Te){var Pr=Te[un];if(br=Ke!=null?Ke[un]:void 0,Te.hasOwnProperty(un)&&Pr!==br&&(Pr!=null||br!=null))if(un==="style")if(br){for(Ot in br)!br.hasOwnProperty(Ot)||Pr&&Pr.hasOwnProperty(Ot)||(re||(re={}),re[Ot]="");for(Ot in Pr)Pr.hasOwnProperty(Ot)&&br[Ot]!==Pr[Ot]&&(re||(re={}),re[Ot]=Pr[Ot])}else re||(at||(at=[]),at.push(un,re)),re=Pr;else un==="dangerouslySetInnerHTML"?(Pr=Pr?Pr.__html:void 0,br=br?br.__html:void 0,Pr!=null&&br!==Pr&&(at=at||[]).push(un,Pr)):un==="children"?typeof Pr!="string"&&typeof Pr!="number"||(at=at||[]).push(un,""+Pr):un!=="suppressContentEditableWarning"&&un!=="suppressHydrationWarning"&&(_.hasOwnProperty(un)?(Pr!=null&&un==="onScroll"&&er("scroll",l),at||br===Pr||(at=[])):(at=at||[]).push(un,Pr))}re&&(at=at||[]).push("style",re);var un=at;(p.updateQueue=un)&&(p.flags|=4)}},vg=function(l,p,re,Te){re!==Te&&(p.flags|=4)};function id(l,p){if(!_i)switch(l.tailMode){case"hidden":p=l.tail;for(var re=null;p!==null;)p.alternate!==null&&(re=p),p=p.sibling;re===null?l.tail=null:re.sibling=null;break;case"collapsed":re=l.tail;for(var Te=null;re!==null;)re.alternate!==null&&(Te=re),re=re.sibling;Te===null?p||l.tail===null?l.tail=null:l.tail.sibling=null:Te.sibling=null}}function vs(l){var p=l.alternate!==null&&l.alternate.child===l.child,re=0,Te=0;if(p)for(var Ke=l.child;Ke!==null;)re|=Ke.lanes|Ke.childLanes,Te|=Ke.subtreeFlags&14680064,Te|=Ke.flags&14680064,Ke.return=l,Ke=Ke.sibling;else for(Ke=l.child;Ke!==null;)re|=Ke.lanes|Ke.childLanes,Te|=Ke.subtreeFlags,Te|=Ke.flags,Ke.return=l,Ke=Ke.sibling;return l.subtreeFlags|=Te,l.childLanes=re,p}function px(l,p,re){var Te=p.pendingProps;switch(ul(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vs(p),null;case 1:return Ko(p.type)&&Ji(),vs(p),null;case 3:return Te=p.stateNode,Nn(),yi(ki),yi(Ri),qn(),Te.pendingContext&&(Te.context=Te.pendingContext,Te.pendingContext=null),(l===null||l.child===null)&&(Wl(p)?p.flags|=4:l===null||l.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,Na!==null&&(c0(Na),Na=null))),Qh(l,p),vs(p),null;case 5:kn(p);var Ke=pn(qr.current);if(re=p.type,l!==null&&p.stateNode!=null)gg(l,p,re,Te,Ke),l.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!Te){if(p.stateNode===null)throw Error(t(166));return vs(p),null}if(l=pn(nr.current),Wl(p)){Te=p.stateNode,re=p.type;var at=p.memoizedProps;switch(Te[Vo]=p,Te[Xo]=at,l=(p.mode&1)!==0,re){case"dialog":er("cancel",Te),er("close",Te);break;case"iframe":case"object":case"embed":er("load",Te);break;case"video":case"audio":for(Ke=0;Ke<jt.length;Ke++)er(jt[Ke],Te);break;case"source":er("error",Te);break;case"img":case"image":case"link":er("error",Te),er("load",Te);break;case"details":er("toggle",Te);break;case"input":D(Te,at),er("invalid",Te);break;case"select":Te._wrapperState={wasMultiple:!!at.multiple},er("invalid",Te);break;case"textarea":ne(Te,at),er("invalid",Te)}Z(re,at),Ke=null;for(var Ot in at)if(at.hasOwnProperty(Ot)){var br=at[Ot];Ot==="children"?typeof br=="string"?Te.textContent!==br&&(at.suppressHydrationWarning!==!0&&En(Te.textContent,br,l),Ke=["children",br]):typeof br=="number"&&Te.textContent!==""+br&&(at.suppressHydrationWarning!==!0&&En(Te.textContent,br,l),Ke=["children",""+br]):_.hasOwnProperty(Ot)&&br!=null&&Ot==="onScroll"&&er("scroll",Te)}switch(re){case"input":m(Te),X(Te,at,!0);break;case"textarea":m(Te),be(Te);break;case"select":case"option":break;default:typeof at.onClick=="function"&&(Te.onclick=Ln)}Te=Ke,p.updateQueue=Te,Te!==null&&(p.flags|=4)}else{Ot=Ke.nodeType===9?Ke:Ke.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=Me(re)),l==="http://www.w3.org/1999/xhtml"?re==="script"?(l=Ot.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof Te.is=="string"?l=Ot.createElement(re,{is:Te.is}):(l=Ot.createElement(re),re==="select"&&(Ot=l,Te.multiple?Ot.multiple=!0:Te.size&&(Ot.size=Te.size))):l=Ot.createElementNS(l,re),l[Vo]=p,l[Xo]=Te,mg(l,p,!1,!1),p.stateNode=l;e:{switch(Ot=u(re,Te),re){case"dialog":er("cancel",l),er("close",l),Ke=Te;break;case"iframe":case"object":case"embed":er("load",l),Ke=Te;break;case"video":case"audio":for(Ke=0;Ke<jt.length;Ke++)er(jt[Ke],l);Ke=Te;break;case"source":er("error",l),Ke=Te;break;case"img":case"image":case"link":er("error",l),er("load",l),Ke=Te;break;case"details":er("toggle",l),Ke=Te;break;case"input":D(l,Te),Ke=V(l,Te),er("invalid",l);break;case"option":Ke=Te;break;case"select":l._wrapperState={wasMultiple:!!Te.multiple},Ke=K({},Te,{value:void 0}),er("invalid",l);break;case"textarea":ne(l,Te),Ke=pe(l,Te),er("invalid",l);break;default:Ke=Te}Z(re,Ke),br=Ke;for(at in br)if(br.hasOwnProperty(at)){var Pr=br[at];at==="style"?Ee(l,Pr):at==="dangerouslySetInnerHTML"?(Pr=Pr?Pr.__html:void 0,Pr!=null&&Ne(l,Pr)):at==="children"?typeof Pr=="string"?(re!=="textarea"||Pr!=="")&&Pe(l,Pr):typeof Pr=="number"&&Pe(l,""+Pr):at!=="suppressContentEditableWarning"&&at!=="suppressHydrationWarning"&&at!=="autoFocus"&&(_.hasOwnProperty(at)?Pr!=null&&at==="onScroll"&&er("scroll",l):Pr!=null&&w(l,at,Pr,Ot))}switch(re){case"input":m(l),X(l,Te,!1);break;case"textarea":m(l),be(l);break;case"option":Te.value!=null&&l.setAttribute("value",""+a(Te.value));break;case"select":l.multiple=!!Te.multiple,at=Te.value,at!=null?fe(l,!!Te.multiple,at,!1):Te.defaultValue!=null&&fe(l,!!Te.multiple,Te.defaultValue,!0);break;default:typeof Ke.onClick=="function"&&(l.onclick=Ln)}switch(re){case"button":case"input":case"select":case"textarea":Te=!!Te.autoFocus;break e;case"img":Te=!0;break e;default:Te=!1}}Te&&(p.flags|=4)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return vs(p),null;case 6:if(l&&p.stateNode!=null)vg(l,p,l.memoizedProps,Te);else{if(typeof Te!="string"&&p.stateNode===null)throw Error(t(166));if(re=pn(qr.current),pn(nr.current),Wl(p)){if(Te=p.stateNode,re=p.memoizedProps,Te[Vo]=p,(at=Te.nodeValue!==re)&&(l=ea,l!==null))switch(l.tag){case 3:En(Te.nodeValue,re,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&En(Te.nodeValue,re,(l.mode&1)!==0)}at&&(p.flags|=4)}else Te=(re.nodeType===9?re:re.ownerDocument).createTextNode(Te),Te[Vo]=p,p.stateNode=Te}return vs(p),null;case 13:if(yi(vn),Te=p.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(_i&&Yi!==null&&(p.mode&1)!==0&&(p.flags&128)===0)Vs(),Zo(),p.flags|=98560,at=!1;else if(at=Wl(p),Te!==null&&Te.dehydrated!==null){if(l===null){if(!at)throw Error(t(318));if(at=p.memoizedState,at=at!==null?at.dehydrated:null,!at)throw Error(t(317));at[Vo]=p}else Zo(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;vs(p),at=!1}else Na!==null&&(c0(Na),Na=null),at=!0;if(!at)return p.flags&65536?p:null}return(p.flags&128)!==0?(p.lanes=re,p):(Te=Te!==null,Te!==(l!==null&&l.memoizedState!==null)&&Te&&(p.child.flags|=8192,(p.mode&1)!==0&&(l===null||(vn.current&1)!==0?Za===0&&(Za=3):f0())),p.updateQueue!==null&&(p.flags|=4),vs(p),null);case 4:return Nn(),Qh(l,p),l===null&&_r(p.stateNode.containerInfo),vs(p),null;case 10:return $(p.type._context),vs(p),null;case 17:return Ko(p.type)&&Ji(),vs(p),null;case 19:if(yi(vn),at=p.memoizedState,at===null)return vs(p),null;if(Te=(p.flags&128)!==0,Ot=at.rendering,Ot===null)if(Te)id(at,!1);else{if(Za!==0||l!==null&&(l.flags&128)!==0)for(l=p.child;l!==null;){if(Ot=An(l),Ot!==null){for(p.flags|=128,id(at,!1),Te=Ot.updateQueue,Te!==null&&(p.updateQueue=Te,p.flags|=4),p.subtreeFlags=0,Te=re,re=p.child;re!==null;)at=re,l=Te,at.flags&=14680066,Ot=at.alternate,Ot===null?(at.childLanes=0,at.lanes=l,at.child=null,at.subtreeFlags=0,at.memoizedProps=null,at.memoizedState=null,at.updateQueue=null,at.dependencies=null,at.stateNode=null):(at.childLanes=Ot.childLanes,at.lanes=Ot.lanes,at.child=Ot.child,at.subtreeFlags=0,at.deletions=null,at.memoizedProps=Ot.memoizedProps,at.memoizedState=Ot.memoizedState,at.updateQueue=Ot.updateQueue,at.type=Ot.type,l=Ot.dependencies,at.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),re=re.sibling;return ci(vn,vn.current&1|2),p.child}l=l.sibling}at.tail!==null&&Tt()>ku&&(p.flags|=128,Te=!0,id(at,!1),p.lanes=4194304)}else{if(!Te)if(l=An(Ot),l!==null){if(p.flags|=128,Te=!0,re=l.updateQueue,re!==null&&(p.updateQueue=re,p.flags|=4),id(at,!0),at.tail===null&&at.tailMode==="hidden"&&!Ot.alternate&&!_i)return vs(p),null}else 2*Tt()-at.renderingStartTime>ku&&re!==1073741824&&(p.flags|=128,Te=!0,id(at,!1),p.lanes=4194304);at.isBackwards?(Ot.sibling=p.child,p.child=Ot):(re=at.last,re!==null?re.sibling=Ot:p.child=Ot,at.last=Ot)}return at.tail!==null?(p=at.tail,at.rendering=p,at.tail=p.sibling,at.renderingStartTime=Tt(),p.sibling=null,re=vn.current,ci(vn,Te?re&1|2:re&1),p):(vs(p),null);case 22:case 23:return d0(),Te=p.memoizedState!==null,l!==null&&l.memoizedState!==null!==Te&&(p.flags|=8192),Te&&(p.mode&1)!==0?(pl&1073741824)!==0&&(vs(p),p.subtreeFlags&6&&(p.flags|=8192)):vs(p),null;case 24:return null;case 25:return null}throw Error(t(156,p.tag))}function mx(l,p){switch(ul(p),p.tag){case 1:return Ko(p.type)&&Ji(),l=p.flags,l&65536?(p.flags=l&-65537|128,p):null;case 3:return Nn(),yi(ki),yi(Ri),qn(),l=p.flags,(l&65536)!==0&&(l&128)===0?(p.flags=l&-65537|128,p):null;case 5:return kn(p),null;case 13:if(yi(vn),l=p.memoizedState,l!==null&&l.dehydrated!==null){if(p.alternate===null)throw Error(t(340));Zo()}return l=p.flags,l&65536?(p.flags=l&-65537|128,p):null;case 19:return yi(vn),null;case 4:return Nn(),null;case 10:return $(p.type._context),null;case 22:case 23:return d0(),null;case 24:return null;default:return null}}var ff=!1,bs=!1,gx=typeof WeakSet=="function"?WeakSet:Set,lo=null;function wu(l,p){var re=l.ref;if(re!==null)if(typeof re=="function")try{re(null)}catch(Te){ma(l,p,Te)}else re.current=null}function Jh(l,p,re){try{re()}catch(Te){ma(l,p,Te)}}var bg=!1;function vx(l,p){if(Zn=Qt,l=Oo(),ia(l)){if("selectionStart"in l)var re={start:l.selectionStart,end:l.selectionEnd};else e:{re=(re=l.ownerDocument)&&re.defaultView||window;var Te=re.getSelection&&re.getSelection();if(Te&&Te.rangeCount!==0){re=Te.anchorNode;var Ke=Te.anchorOffset,at=Te.focusNode;Te=Te.focusOffset;try{re.nodeType,at.nodeType}catch{re=null;break e}var Ot=0,br=-1,Pr=-1,un=0,Rn=0,Bn=l,Dn=null;t:for(;;){for(var to;Bn!==re||Ke!==0&&Bn.nodeType!==3||(br=Ot+Ke),Bn!==at||Te!==0&&Bn.nodeType!==3||(Pr=Ot+Te),Bn.nodeType===3&&(Ot+=Bn.nodeValue.length),(to=Bn.firstChild)!==null;)Dn=Bn,Bn=to;for(;;){if(Bn===l)break t;if(Dn===re&&++un===Ke&&(br=Ot),Dn===at&&++Rn===Te&&(Pr=Ot),(to=Bn.nextSibling)!==null)break;Bn=Dn,Dn=Bn.parentNode}Bn=to}re=br===-1||Pr===-1?null:{start:br,end:Pr}}else re=null}re=re||{start:0,end:0}}else re=null;for(Kn={focusedElem:l,selectionRange:re},Qt=!1,lo=p;lo!==null;)if(p=lo,l=p.child,(p.subtreeFlags&1028)!==0&&l!==null)l.return=p,lo=l;else for(;lo!==null;){p=lo;try{var fo=p.alternate;if((p.flags&1024)!==0)switch(p.tag){case 0:case 11:case 15:break;case 1:if(fo!==null){var mo=fo.memoizedProps,_a=fo.memoizedState,$r=p.stateNode,Nr=$r.getSnapshotBeforeUpdate(p.elementType===p.type?mo:Ml(p.type,mo),_a);$r.__reactInternalSnapshotBeforeUpdate=Nr}break;case 3:var nn=p.stateNode.containerInfo;nn.nodeType===1?nn.textContent="":nn.nodeType===9&&nn.documentElement&&nn.removeChild(nn.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Wn){ma(p,p.return,Wn)}if(l=p.sibling,l!==null){l.return=p.return,lo=l;break}lo=p.return}return fo=bg,bg=!1,fo}function ad(l,p,re){var Te=p.updateQueue;if(Te=Te!==null?Te.lastEffect:null,Te!==null){var Ke=Te=Te.next;do{if((Ke.tag&l)===l){var at=Ke.destroy;Ke.destroy=void 0,at!==void 0&&Jh(p,re,at)}Ke=Ke.next}while(Ke!==Te)}}function hf(l,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var re=p=p.next;do{if((re.tag&l)===l){var Te=re.create;re.destroy=Te()}re=re.next}while(re!==p)}}function e0(l){var p=l.ref;if(p!==null){var re=l.stateNode;switch(l.tag){case 5:l=re;break;default:l=re}typeof p=="function"?p(l):p.current=l}}function yg(l){var p=l.alternate;p!==null&&(l.alternate=null,yg(p)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(p=l.stateNode,p!==null&&(delete p[Vo],delete p[Xo],delete p[Di],delete p[Oa],delete p[Ta])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function xg(l){return l.tag===5||l.tag===3||l.tag===4}function wg(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||xg(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function t0(l,p,re){var Te=l.tag;if(Te===5||Te===6)l=l.stateNode,p?re.nodeType===8?re.parentNode.insertBefore(l,p):re.insertBefore(l,p):(re.nodeType===8?(p=re.parentNode,p.insertBefore(l,re)):(p=re,p.appendChild(l)),re=re._reactRootContainer,re!=null||p.onclick!==null||(p.onclick=Ln));else if(Te!==4&&(l=l.child,l!==null))for(t0(l,p,re),l=l.sibling;l!==null;)t0(l,p,re),l=l.sibling}function r0(l,p,re){var Te=l.tag;if(Te===5||Te===6)l=l.stateNode,p?re.insertBefore(l,p):re.appendChild(l);else if(Te!==4&&(l=l.child,l!==null))for(r0(l,p,re),l=l.sibling;l!==null;)r0(l,p,re),l=l.sibling}var is=null,Al=!1;function Sc(l,p,re){for(re=re.child;re!==null;)Eg(l,p,re),re=re.sibling}function Eg(l,p,re){if(zr&&typeof zr.onCommitFiberUnmount=="function")try{zr.onCommitFiberUnmount(Mr,re)}catch{}switch(re.tag){case 5:bs||wu(re,p);case 6:var Te=is,Ke=Al;is=null,Sc(l,p,re),is=Te,Al=Ke,is!==null&&(Al?(l=is,re=re.stateNode,l.nodeType===8?l.parentNode.removeChild(re):l.removeChild(re)):is.removeChild(re.stateNode));break;case 18:is!==null&&(Al?(l=is,re=re.stateNode,l.nodeType===8?Vi(l.parentNode,re):l.nodeType===1&&Vi(l,re),fr(l)):Vi(is,re.stateNode));break;case 4:Te=is,Ke=Al,is=re.stateNode.containerInfo,Al=!0,Sc(l,p,re),is=Te,Al=Ke;break;case 0:case 11:case 14:case 15:if(!bs&&(Te=re.updateQueue,Te!==null&&(Te=Te.lastEffect,Te!==null))){Ke=Te=Te.next;do{var at=Ke,Ot=at.destroy;at=at.tag,Ot!==void 0&&((at&2)!==0||(at&4)!==0)&&Jh(re,p,Ot),Ke=Ke.next}while(Ke!==Te)}Sc(l,p,re);break;case 1:if(!bs&&(wu(re,p),Te=re.stateNode,typeof Te.componentWillUnmount=="function"))try{Te.props=re.memoizedProps,Te.state=re.memoizedState,Te.componentWillUnmount()}catch(br){ma(re,p,br)}Sc(l,p,re);break;case 21:Sc(l,p,re);break;case 22:re.mode&1?(bs=(Te=bs)||re.memoizedState!==null,Sc(l,p,re),bs=Te):Sc(l,p,re);break;default:Sc(l,p,re)}}function kg(l){var p=l.updateQueue;if(p!==null){l.updateQueue=null;var re=l.stateNode;re===null&&(re=l.stateNode=new gx),p.forEach(function(Te){var Ke=Cx.bind(null,l,Te);re.has(Te)||(re.add(Te),Te.then(Ke,Ke))})}}function Dl(l,p){var re=p.deletions;if(re!==null)for(var Te=0;Te<re.length;Te++){var Ke=re[Te];try{var at=l,Ot=p,br=Ot;e:for(;br!==null;){switch(br.tag){case 5:is=br.stateNode,Al=!1;break e;case 3:is=br.stateNode.containerInfo,Al=!0;break e;case 4:is=br.stateNode.containerInfo,Al=!0;break e}br=br.return}if(is===null)throw Error(t(160));Eg(at,Ot,Ke),is=null,Al=!1;var Pr=Ke.alternate;Pr!==null&&(Pr.return=null),Ke.return=null}catch(un){ma(Ke,p,un)}}if(p.subtreeFlags&12854)for(p=p.child;p!==null;)_g(p,l),p=p.sibling}function _g(l,p){var re=l.alternate,Te=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(Dl(p,l),$l(l),Te&4){try{ad(3,l,l.return),hf(3,l)}catch(mo){ma(l,l.return,mo)}try{ad(5,l,l.return)}catch(mo){ma(l,l.return,mo)}}break;case 1:Dl(p,l),$l(l),Te&512&&re!==null&&wu(re,re.return);break;case 5:if(Dl(p,l),$l(l),Te&512&&re!==null&&wu(re,re.return),l.flags&32){var Ke=l.stateNode;try{Pe(Ke,"")}catch(mo){ma(l,l.return,mo)}}if(Te&4&&(Ke=l.stateNode,Ke!=null)){var at=l.memoizedProps,Ot=re!==null?re.memoizedProps:at,br=l.type,Pr=l.updateQueue;if(l.updateQueue=null,Pr!==null)try{br==="input"&&at.type==="radio"&&at.name!=null&&P(Ke,at),u(br,Ot);var un=u(br,at);for(Ot=0;Ot<Pr.length;Ot+=2){var Rn=Pr[Ot],Bn=Pr[Ot+1];Rn==="style"?Ee(Ke,Bn):Rn==="dangerouslySetInnerHTML"?Ne(Ke,Bn):Rn==="children"?Pe(Ke,Bn):w(Ke,Rn,Bn,un)}switch(br){case"input":F(Ke,at);break;case"textarea":oe(Ke,at);break;case"select":var Dn=Ke._wrapperState.wasMultiple;Ke._wrapperState.wasMultiple=!!at.multiple;var to=at.value;to!=null?fe(Ke,!!at.multiple,to,!1):Dn!==!!at.multiple&&(at.defaultValue!=null?fe(Ke,!!at.multiple,at.defaultValue,!0):fe(Ke,!!at.multiple,at.multiple?[]:"",!1))}Ke[Xo]=at}catch(mo){ma(l,l.return,mo)}}break;case 6:if(Dl(p,l),$l(l),Te&4){if(l.stateNode===null)throw Error(t(162));Ke=l.stateNode,at=l.memoizedProps;try{Ke.nodeValue=at}catch(mo){ma(l,l.return,mo)}}break;case 3:if(Dl(p,l),$l(l),Te&4&&re!==null&&re.memoizedState.isDehydrated)try{fr(p.containerInfo)}catch(mo){ma(l,l.return,mo)}break;case 4:Dl(p,l),$l(l);break;case 13:Dl(p,l),$l(l),Ke=l.child,Ke.flags&8192&&(at=Ke.memoizedState!==null,Ke.stateNode.isHidden=at,!at||Ke.alternate!==null&&Ke.alternate.memoizedState!==null||(i0=Tt())),Te&4&&kg(l);break;case 22:if(Rn=re!==null&&re.memoizedState!==null,l.mode&1?(bs=(un=bs)||Rn,Dl(p,l),bs=un):Dl(p,l),$l(l),Te&8192){if(un=l.memoizedState!==null,(l.stateNode.isHidden=un)&&!Rn&&(l.mode&1)!==0)for(lo=l,Rn=l.child;Rn!==null;){for(Bn=lo=Rn;lo!==null;){switch(Dn=lo,to=Dn.child,Dn.tag){case 0:case 11:case 14:case 15:ad(4,Dn,Dn.return);break;case 1:wu(Dn,Dn.return);var fo=Dn.stateNode;if(typeof fo.componentWillUnmount=="function"){Te=Dn,re=Dn.return;try{p=Te,fo.props=p.memoizedProps,fo.state=p.memoizedState,fo.componentWillUnmount()}catch(mo){ma(Te,re,mo)}}break;case 5:wu(Dn,Dn.return);break;case 22:if(Dn.memoizedState!==null){Ig(Bn);continue}}to!==null?(to.return=Dn,lo=to):Ig(Bn)}Rn=Rn.sibling}e:for(Rn=null,Bn=l;;){if(Bn.tag===5){if(Rn===null){Rn=Bn;try{Ke=Bn.stateNode,un?(at=Ke.style,typeof at.setProperty=="function"?at.setProperty("display","none","important"):at.display="none"):(br=Bn.stateNode,Pr=Bn.memoizedProps.style,Ot=Pr!=null&&Pr.hasOwnProperty("display")?Pr.display:null,br.style.display=Ie("display",Ot))}catch(mo){ma(l,l.return,mo)}}}else if(Bn.tag===6){if(Rn===null)try{Bn.stateNode.nodeValue=un?"":Bn.memoizedProps}catch(mo){ma(l,l.return,mo)}}else if((Bn.tag!==22&&Bn.tag!==23||Bn.memoizedState===null||Bn===l)&&Bn.child!==null){Bn.child.return=Bn,Bn=Bn.child;continue}if(Bn===l)break e;for(;Bn.sibling===null;){if(Bn.return===null||Bn.return===l)break e;Rn===Bn&&(Rn=null),Bn=Bn.return}Rn===Bn&&(Rn=null),Bn.sibling.return=Bn.return,Bn=Bn.sibling}}break;case 19:Dl(p,l),$l(l),Te&4&&kg(l);break;case 21:break;default:Dl(p,l),$l(l)}}function $l(l){var p=l.flags;if(p&2){try{e:{for(var re=l.return;re!==null;){if(xg(re)){var Te=re;break e}re=re.return}throw Error(t(160))}switch(Te.tag){case 5:var Ke=Te.stateNode;Te.flags&32&&(Pe(Ke,""),Te.flags&=-33);var at=wg(l);r0(l,at,Ke);break;case 3:case 4:var Ot=Te.stateNode.containerInfo,br=wg(l);t0(l,br,Ot);break;default:throw Error(t(161))}}catch(Pr){ma(l,l.return,Pr)}l.flags&=-3}p&4096&&(l.flags&=-4097)}function bx(l,p,re){lo=l,Sg(l)}function Sg(l,p,re){for(var Te=(l.mode&1)!==0;lo!==null;){var Ke=lo,at=Ke.child;if(Ke.tag===22&&Te){var Ot=Ke.memoizedState!==null||ff;if(!Ot){var br=Ke.alternate,Pr=br!==null&&br.memoizedState!==null||bs;br=ff;var un=bs;if(ff=Ot,(bs=Pr)&&!un)for(lo=Ke;lo!==null;)Ot=lo,Pr=Ot.child,Ot.tag===22&&Ot.memoizedState!==null?Og(Ke):Pr!==null?(Pr.return=Ot,lo=Pr):Og(Ke);for(;at!==null;)lo=at,Sg(at),at=at.sibling;lo=Ke,ff=br,bs=un}Cg(l)}else(Ke.subtreeFlags&8772)!==0&&at!==null?(at.return=Ke,lo=at):Cg(l)}}function Cg(l){for(;lo!==null;){var p=lo;if((p.flags&8772)!==0){var re=p.alternate;try{if((p.flags&8772)!==0)switch(p.tag){case 0:case 11:case 15:bs||hf(5,p);break;case 1:var Te=p.stateNode;if(p.flags&4&&!bs)if(re===null)Te.componentDidMount();else{var Ke=p.elementType===p.type?re.memoizedProps:Ml(p.type,re.memoizedProps);Te.componentDidUpdate(Ke,re.memoizedState,Te.__reactInternalSnapshotBeforeUpdate)}var at=p.updateQueue;at!==null&&yr(p,at,Te);break;case 3:var Ot=p.updateQueue;if(Ot!==null){if(re=null,p.child!==null)switch(p.child.tag){case 5:re=p.child.stateNode;break;case 1:re=p.child.stateNode}yr(p,Ot,re)}break;case 5:var br=p.stateNode;if(re===null&&p.flags&4){re=br;var Pr=p.memoizedProps;switch(p.type){case"button":case"input":case"select":case"textarea":Pr.autoFocus&&re.focus();break;case"img":Pr.src&&(re.src=Pr.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(p.memoizedState===null){var un=p.alternate;if(un!==null){var Rn=un.memoizedState;if(Rn!==null){var Bn=Rn.dehydrated;Bn!==null&&fr(Bn)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}bs||p.flags&512&&e0(p)}catch(Dn){ma(p,p.return,Dn)}}if(p===l){lo=null;break}if(re=p.sibling,re!==null){re.return=p.return,lo=re;break}lo=p.return}}function Ig(l){for(;lo!==null;){var p=lo;if(p===l){lo=null;break}var re=p.sibling;if(re!==null){re.return=p.return,lo=re;break}lo=p.return}}function Og(l){for(;lo!==null;){var p=lo;try{switch(p.tag){case 0:case 11:case 15:var re=p.return;try{hf(4,p)}catch(Pr){ma(p,re,Pr)}break;case 1:var Te=p.stateNode;if(typeof Te.componentDidMount=="function"){var Ke=p.return;try{Te.componentDidMount()}catch(Pr){ma(p,Ke,Pr)}}var at=p.return;try{e0(p)}catch(Pr){ma(p,at,Pr)}break;case 5:var Ot=p.return;try{e0(p)}catch(Pr){ma(p,Ot,Pr)}}}catch(Pr){ma(p,p.return,Pr)}if(p===l){lo=null;break}var br=p.sibling;if(br!==null){br.return=p.return,lo=br;break}lo=p.return}}var yx=Math.ceil,pf=N.ReactCurrentDispatcher,n0=N.ReactCurrentOwner,kl=N.ReactCurrentBatchConfig,ji=0,Ka=null,Ma=null,as=0,pl=0,Eu=Ua(0),Za=0,sd=null,qc=0,mf=0,o0=0,ld=null,$s=null,i0=0,ku=1/0,dc=null,gf=!1,a0=null,Cc=null,vf=!1,Ic=null,bf=0,cd=0,s0=null,yf=-1,xf=0;function Ps(){return(ji&6)!==0?Tt():yf!==-1?yf:yf=Tt()}function Oc(l){return(l.mode&1)===0?1:(ji&2)!==0&&as!==0?as&-as:$c.transition!==null?(xf===0&&(xf=Ut()),xf):(l=Dr,l!==0||(l=window.event,l=l===void 0?16:gn(l.type)),l)}function Rl(l,p,re,Te){if(50<cd)throw cd=0,s0=null,Error(t(185));jr(l,re,Te),((ji&2)===0||l!==Ka)&&(l===Ka&&((ji&2)===0&&(mf|=re),Za===4&&Tc(l,as)),Xs(l,Te),re===1&&ji===0&&(p.mode&1)===0&&(ku=Tt()+500,Va&&gs()))}function Xs(l,p){var re=l.callbackNode;Dt(l,p);var Te=en(l,l===Ka?as:0);if(Te===0)re!==null&&Pt(re),l.callbackNode=null,l.callbackPriority=0;else if(p=Te&-Te,l.callbackPriority!==p){if(re!=null&&Pt(re),p===1)l.tag===0?ac(jg.bind(null,l)):cl(jg.bind(null,l)),Bi(function(){(ji&6)===0&&gs()}),re=null;else{switch(Fr(Te)){case 1:re=Wt;break;case 4:re=qt;break;case 16:re=sr;break;case 536870912:re=Sr;break;default:re=sr}re=Zg(re,Tg.bind(null,l))}l.callbackPriority=p,l.callbackNode=re}}function Tg(l,p){if(yf=-1,xf=0,(ji&6)!==0)throw Error(t(327));var re=l.callbackNode;if(_u()&&l.callbackNode!==re)return null;var Te=en(l,l===Ka?as:0);if(Te===0)return null;if((Te&30)!==0||(Te&l.expiredLanes)!==0||p)p=wf(l,Te);else{p=Te;var Ke=ji;ji|=2;var at=Mg();(Ka!==l||as!==p)&&(dc=null,ku=Tt()+500,Jc(l,p));do try{Ex();break}catch(br){Pg(l,br)}while(!0);he(),pf.current=at,ji=Ke,Ma!==null?p=0:(Ka=null,as=0,p=Za)}if(p!==0){if(p===2&&(Ke=Nt(l),Ke!==0&&(Te=Ke,p=l0(l,Ke))),p===1)throw re=sd,Jc(l,0),Tc(l,Te),Xs(l,Tt()),re;if(p===6)Tc(l,Te);else{if(Ke=l.current.alternate,(Te&30)===0&&!xx(Ke)&&(p=wf(l,Te),p===2&&(at=Nt(l),at!==0&&(Te=at,p=l0(l,at))),p===1))throw re=sd,Jc(l,0),Tc(l,Te),Xs(l,Tt()),re;switch(l.finishedWork=Ke,l.finishedLanes=Te,p){case 0:case 1:throw Error(t(345));case 2:eu(l,$s,dc);break;case 3:if(Tc(l,Te),(Te&130023424)===Te&&(p=i0+500-Tt(),10<p)){if(en(l,0)!==0)break;if(Ke=l.suspendedLanes,(Ke&Te)!==Te){Ps(),l.pingedLanes|=l.suspendedLanes&Ke;break}l.timeoutHandle=ro(eu.bind(null,l,$s,dc),p);break}eu(l,$s,dc);break;case 4:if(Tc(l,Te),(Te&4194240)===Te)break;for(p=l.eventTimes,Ke=-1;0<Te;){var Ot=31-Ft(Te);at=1<<Ot,Ot=p[Ot],Ot>Ke&&(Ke=Ot),Te&=~at}if(Te=Ke,Te=Tt()-Te,Te=(120>Te?120:480>Te?480:1080>Te?1080:1920>Te?1920:3e3>Te?3e3:4320>Te?4320:1960*yx(Te/1960))-Te,10<Te){l.timeoutHandle=ro(eu.bind(null,l,$s,dc),Te);break}eu(l,$s,dc);break;case 5:eu(l,$s,dc);break;default:throw Error(t(329))}}}return Xs(l,Tt()),l.callbackNode===re?Tg.bind(null,l):null}function l0(l,p){var re=ld;return l.current.memoizedState.isDehydrated&&(Jc(l,p).flags|=256),l=wf(l,p),l!==2&&(p=$s,$s=re,p!==null&&c0(p)),l}function c0(l){$s===null?$s=l:$s.push.apply($s,l)}function xx(l){for(var p=l;;){if(p.flags&16384){var re=p.updateQueue;if(re!==null&&(re=re.stores,re!==null))for(var Te=0;Te<re.length;Te++){var Ke=re[Te],at=Ke.getSnapshot;Ke=Ke.value;try{if(!fa(at(),Ke))return!1}catch{return!1}}}if(re=p.child,p.subtreeFlags&16384&&re!==null)re.return=p,p=re;else{if(p===l)break;for(;p.sibling===null;){if(p.return===null||p.return===l)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function Tc(l,p){for(p&=~o0,p&=~mf,l.suspendedLanes|=p,l.pingedLanes&=~p,l=l.expirationTimes;0<p;){var re=31-Ft(p),Te=1<<re;l[re]=-1,p&=~Te}}function jg(l){if((ji&6)!==0)throw Error(t(327));_u();var p=en(l,0);if((p&1)===0)return Xs(l,Tt()),null;var re=wf(l,p);if(l.tag!==0&&re===2){var Te=Nt(l);Te!==0&&(p=Te,re=l0(l,Te))}if(re===1)throw re=sd,Jc(l,0),Tc(l,p),Xs(l,Tt()),re;if(re===6)throw Error(t(345));return l.finishedWork=l.current.alternate,l.finishedLanes=p,eu(l,$s,dc),Xs(l,Tt()),null}function u0(l,p){var re=ji;ji|=1;try{return l(p)}finally{ji=re,ji===0&&(ku=Tt()+500,Va&&gs())}}function Qc(l){Ic!==null&&Ic.tag===0&&(ji&6)===0&&_u();var p=ji;ji|=1;var re=kl.transition,Te=Dr;try{if(kl.transition=null,Dr=1,l)return l()}finally{Dr=Te,kl.transition=re,ji=p,(ji&6)===0&&gs()}}function d0(){pl=Eu.current,yi(Eu)}function Jc(l,p){l.finishedWork=null,l.finishedLanes=0;var re=l.timeoutHandle;if(re!==-1&&(l.timeoutHandle=-1,Uo(re)),Ma!==null)for(re=Ma.return;re!==null;){var Te=re;switch(ul(Te),Te.tag){case 1:Te=Te.type.childContextTypes,Te!=null&&Ji();break;case 3:Nn(),yi(ki),yi(Ri),qn();break;case 5:kn(Te);break;case 4:Nn();break;case 13:yi(vn);break;case 19:yi(vn);break;case 10:$(Te.type._context);break;case 22:case 23:d0()}re=re.return}if(Ka=l,Ma=l=jc(l.current,null),as=pl=p,Za=0,sd=null,o0=mf=qc=0,$s=ld=null,Ve!==null){for(p=0;p<Ve.length;p++)if(re=Ve[p],Te=re.interleaved,Te!==null){re.interleaved=null;var Ke=Te.next,at=re.pending;if(at!==null){var Ot=at.next;at.next=Ke,Te.next=Ot}re.pending=Te}Ve=null}return l}function Pg(l,p){do{var re=Ma;try{if(he(),oo.current=lf,Ro){for(var Te=zn.memoizedState;Te!==null;){var Ke=Te.queue;Ke!==null&&(Ke.pending=null),Te=Te.next}Ro=!1}if(so=0,Jn=Mn=zn=null,Do=!1,Eo=0,n0.current=null,re===null||re.return===null){Za=1,sd=p,Ma=null;break}e:{var at=l,Ot=re.return,br=re,Pr=p;if(p=as,br.flags|=32768,Pr!==null&&typeof Pr=="object"&&typeof Pr.then=="function"){var un=Pr,Rn=br,Bn=Rn.tag;if((Rn.mode&1)===0&&(Bn===0||Bn===11||Bn===15)){var Dn=Rn.alternate;Dn?(Rn.updateQueue=Dn.updateQueue,Rn.memoizedState=Dn.memoizedState,Rn.lanes=Dn.lanes):(Rn.updateQueue=null,Rn.memoizedState=null)}var to=rg(Ot);if(to!==null){to.flags&=-257,ng(to,Ot,br,at,p),to.mode&1&&tg(at,un,p),p=to,Pr=un;var fo=p.updateQueue;if(fo===null){var mo=new Set;mo.add(Pr),p.updateQueue=mo}else fo.add(Pr);break e}else{if((p&1)===0){tg(at,un,p),f0();break e}Pr=Error(t(426))}}else if(_i&&br.mode&1){var _a=rg(Ot);if(_a!==null){(_a.flags&65536)===0&&(_a.flags|=256),ng(_a,Ot,br,at,p),ni(xu(Pr,br));break e}}at=Pr=xu(Pr,br),Za!==4&&(Za=2),ld===null?ld=[at]:ld.push(at),at=Ot;do{switch(at.tag){case 3:at.flags|=65536,p&=-p,at.lanes|=p;var $r=Jm(at,Pr,p);$t(at,$r);break e;case 1:br=Pr;var Nr=at.type,nn=at.stateNode;if((at.flags&128)===0&&(typeof Nr.getDerivedStateFromError=="function"||nn!==null&&typeof nn.componentDidCatch=="function"&&(Cc===null||!Cc.has(nn)))){at.flags|=65536,p&=-p,at.lanes|=p;var Wn=eg(at,br,p);$t(at,Wn);break e}}at=at.return}while(at!==null)}Dg(re)}catch(xo){p=xo,Ma===re&&re!==null&&(Ma=re=re.return);continue}break}while(!0)}function Mg(){var l=pf.current;return pf.current=lf,l===null?lf:l}function f0(){(Za===0||Za===3||Za===2)&&(Za=4),Ka===null||(qc&268435455)===0&&(mf&268435455)===0||Tc(Ka,as)}function wf(l,p){var re=ji;ji|=2;var Te=Mg();(Ka!==l||as!==p)&&(dc=null,Jc(l,p));do try{wx();break}catch(Ke){Pg(l,Ke)}while(!0);if(he(),ji=re,pf.current=Te,Ma!==null)throw Error(t(261));return Ka=null,as=0,Za}function wx(){for(;Ma!==null;)Ag(Ma)}function Ex(){for(;Ma!==null&&!St();)Ag(Ma)}function Ag(l){var p=Ng(l.alternate,l,pl);l.memoizedProps=l.pendingProps,p===null?Dg(l):Ma=p,n0.current=null}function Dg(l){var p=l;do{var re=p.alternate;if(l=p.return,(p.flags&32768)===0){if(re=px(re,p,pl),re!==null){Ma=re;return}}else{if(re=mx(re,p),re!==null){re.flags&=32767,Ma=re;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{Za=6,Ma=null;return}}if(p=p.sibling,p!==null){Ma=p;return}Ma=p=l}while(p!==null);Za===0&&(Za=5)}function eu(l,p,re){var Te=Dr,Ke=kl.transition;try{kl.transition=null,Dr=1,kx(l,p,re,Te)}finally{kl.transition=Ke,Dr=Te}return null}function kx(l,p,re,Te){do _u();while(Ic!==null);if((ji&6)!==0)throw Error(t(327));re=l.finishedWork;var Ke=l.finishedLanes;if(re===null)return null;if(l.finishedWork=null,l.finishedLanes=0,re===l.current)throw Error(t(177));l.callbackNode=null,l.callbackPriority=0;var at=re.lanes|re.childLanes;if(Cr(l,at),l===Ka&&(Ma=Ka=null,as=0),(re.subtreeFlags&2064)===0&&(re.flags&2064)===0||vf||(vf=!0,Zg(sr,function(){return _u(),null})),at=(re.flags&15990)!==0,(re.subtreeFlags&15990)!==0||at){at=kl.transition,kl.transition=null;var Ot=Dr;Dr=1;var br=ji;ji|=4,n0.current=null,vx(l,re),_g(re,l),xa(Kn),Qt=!!Zn,Kn=Zn=null,l.current=re,bx(re),Zt(),ji=br,Dr=Ot,kl.transition=at}else l.current=re;if(vf&&(vf=!1,Ic=l,bf=Ke),at=l.pendingLanes,at===0&&(Cc=null),pr(re.stateNode),Xs(l,Tt()),p!==null)for(Te=l.onRecoverableError,re=0;re<p.length;re++)Ke=p[re],Te(Ke.value,{componentStack:Ke.stack,digest:Ke.digest});if(gf)throw gf=!1,l=a0,a0=null,l;return(bf&1)!==0&&l.tag!==0&&_u(),at=l.pendingLanes,(at&1)!==0?l===s0?cd++:(cd=0,s0=l):cd=0,gs(),null}function _u(){if(Ic!==null){var l=Fr(bf),p=kl.transition,re=Dr;try{if(kl.transition=null,Dr=16>l?16:l,Ic===null)var Te=!1;else{if(l=Ic,Ic=null,bf=0,(ji&6)!==0)throw Error(t(331));var Ke=ji;for(ji|=4,lo=l.current;lo!==null;){var at=lo,Ot=at.child;if((lo.flags&16)!==0){var br=at.deletions;if(br!==null){for(var Pr=0;Pr<br.length;Pr++){var un=br[Pr];for(lo=un;lo!==null;){var Rn=lo;switch(Rn.tag){case 0:case 11:case 15:ad(8,Rn,at)}var Bn=Rn.child;if(Bn!==null)Bn.return=Rn,lo=Bn;else for(;lo!==null;){Rn=lo;var Dn=Rn.sibling,to=Rn.return;if(yg(Rn),Rn===un){lo=null;break}if(Dn!==null){Dn.return=to,lo=Dn;break}lo=to}}}var fo=at.alternate;if(fo!==null){var mo=fo.child;if(mo!==null){fo.child=null;do{var _a=mo.sibling;mo.sibling=null,mo=_a}while(mo!==null)}}lo=at}}if((at.subtreeFlags&2064)!==0&&Ot!==null)Ot.return=at,lo=Ot;else e:for(;lo!==null;){if(at=lo,(at.flags&2048)!==0)switch(at.tag){case 0:case 11:case 15:ad(9,at,at.return)}var $r=at.sibling;if($r!==null){$r.return=at.return,lo=$r;break e}lo=at.return}}var Nr=l.current;for(lo=Nr;lo!==null;){Ot=lo;var nn=Ot.child;if((Ot.subtreeFlags&2064)!==0&&nn!==null)nn.return=Ot,lo=nn;else e:for(Ot=Nr;lo!==null;){if(br=lo,(br.flags&2048)!==0)try{switch(br.tag){case 0:case 11:case 15:hf(9,br)}}catch(xo){ma(br,br.return,xo)}if(br===Ot){lo=null;break e}var Wn=br.sibling;if(Wn!==null){Wn.return=br.return,lo=Wn;break e}lo=br.return}}if(ji=Ke,gs(),zr&&typeof zr.onPostCommitFiberRoot=="function")try{zr.onPostCommitFiberRoot(Mr,l)}catch{}Te=!0}return Te}finally{Dr=re,kl.transition=p}}return!1}function Rg(l,p,re){p=xu(re,p),p=Jm(l,p,1),l=Bt(l,p,1),p=Ps(),l!==null&&(jr(l,1,p),Xs(l,p))}function ma(l,p,re){if(l.tag===3)Rg(l,l,re);else for(;p!==null;){if(p.tag===3){Rg(p,l,re);break}else if(p.tag===1){var Te=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof Te.componentDidCatch=="function"&&(Cc===null||!Cc.has(Te))){l=xu(re,l),l=eg(p,l,1),p=Bt(p,l,1),l=Ps(),p!==null&&(jr(p,1,l),Xs(p,l));break}}p=p.return}}function _x(l,p,re){var Te=l.pingCache;Te!==null&&Te.delete(p),p=Ps(),l.pingedLanes|=l.suspendedLanes&re,Ka===l&&(as&re)===re&&(Za===4||Za===3&&(as&130023424)===as&&500>Tt()-i0?Jc(l,0):o0|=re),Xs(l,p)}function Lg(l,p){p===0&&((l.mode&1)===0?p=1:(p=Xr,Xr<<=1,(Xr&130023424)===0&&(Xr=4194304)));var re=Ps();l=vt(l,p),l!==null&&(jr(l,p,re),Xs(l,re))}function Sx(l){var p=l.memoizedState,re=0;p!==null&&(re=p.retryLane),Lg(l,re)}function Cx(l,p){var re=0;switch(l.tag){case 13:var Te=l.stateNode,Ke=l.memoizedState;Ke!==null&&(re=Ke.retryLane);break;case 19:Te=l.stateNode;break;default:throw Error(t(314))}Te!==null&&Te.delete(p),Lg(l,re)}var Ng;Ng=function(l,p,re){if(l!==null)if(l.memoizedProps!==p.pendingProps||ki.current)Ys=!0;else{if((l.lanes&re)===0&&(p.flags&128)===0)return Ys=!1,hx(l,p,re);Ys=(l.flags&131072)!==0}else Ys=!1,_i&&(p.flags&1048576)!==0&&sc(p,Tl,p.index);switch(p.lanes=0,p.tag){case 2:var Te=p.type;df(l,p),l=p.pendingProps;var Ke=Zi(p,Ri.current);De(p,re),Ke=zo(null,p,Te,l,Ke,re);var at=Xi();return p.flags|=1,typeof Ke=="object"&&Ke!==null&&typeof Ke.render=="function"&&Ke.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,Ko(Te)?(at=!0,fn(p)):at=!1,p.memoizedState=Ke.state!==null&&Ke.state!==void 0?Ke.state:null,Mt(p),Ke.updater=cf,p.stateNode=Ke,Ke._reactInternals=p,Wh(p,Te,l,re),p=Gh(null,p,Te,!0,at,re)):(p.tag=0,_i&&at&&El(p),js(null,p,Ke,re),p=p.child),p;case 16:Te=p.elementType;e:{switch(df(l,p),l=p.pendingProps,Ke=Te._init,Te=Ke(Te._payload),p.type=Te,Ke=p.tag=Ox(Te),l=Ml(Te,l),Ke){case 0:p=Kh(null,p,Te,l,re);break e;case 1:p=cg(null,p,Te,l,re);break e;case 11:p=og(null,p,Te,l,re);break e;case 14:p=ig(null,p,Te,Ml(Te.type,l),re);break e}throw Error(t(306,Te,""))}return p;case 0:return Te=p.type,Ke=p.pendingProps,Ke=p.elementType===Te?Ke:Ml(Te,Ke),Kh(l,p,Te,Ke,re);case 1:return Te=p.type,Ke=p.pendingProps,Ke=p.elementType===Te?Ke:Ml(Te,Ke),cg(l,p,Te,Ke,re);case 3:e:{if(ug(p),l===null)throw Error(t(387));Te=p.pendingProps,at=p.memoizedState,Ke=at.element,Yt(l,p),dr(p,Te,null,re);var Ot=p.memoizedState;if(Te=Ot.element,at.isDehydrated)if(at={element:Te,isDehydrated:!1,cache:Ot.cache,pendingSuspenseBoundaries:Ot.pendingSuspenseBoundaries,transitions:Ot.transitions},p.updateQueue.baseState=at,p.memoizedState=at,p.flags&256){Ke=xu(Error(t(423)),p),p=dg(l,p,Te,re,Ke);break e}else if(Te!==Ke){Ke=xu(Error(t(424)),p),p=dg(l,p,Te,re,Ke);break e}else for(Yi=Ni(p.stateNode.containerInfo.firstChild),ea=p,_i=!0,Na=null,re=s(p,null,Te,re),p.child=re;re;)re.flags=re.flags&-3|4096,re=re.sibling;else{if(Zo(),Te===Ke){p=uc(l,p,re);break e}js(l,p,Te,re)}p=p.child}return p;case 5:return Un(p),l===null&&jl(p),Te=p.type,Ke=p.pendingProps,at=l!==null?l.memoizedProps:null,Ot=Ke.children,$n(Te,Ke)?Ot=null:at!==null&&$n(Te,at)&&(p.flags|=32),lg(l,p),js(l,p,Ot,re),p.child;case 6:return l===null&&jl(p),null;case 13:return fg(l,p,re);case 4:return _n(p,p.stateNode.containerInfo),Te=p.pendingProps,l===null?p.child=W(p,null,Te,re):js(l,p,Te,re),p.child;case 11:return Te=p.type,Ke=p.pendingProps,Ke=p.elementType===Te?Ke:Ml(Te,Ke),og(l,p,Te,Ke,re);case 7:return js(l,p,p.pendingProps,re),p.child;case 8:return js(l,p,p.pendingProps.children,re),p.child;case 12:return js(l,p,p.pendingProps.children,re),p.child;case 10:e:{if(Te=p.type._context,Ke=p.pendingProps,at=p.memoizedProps,Ot=Ke.value,ci(I,Te._currentValue),Te._currentValue=Ot,at!==null)if(fa(at.value,Ot)){if(at.children===Ke.children&&!ki.current){p=uc(l,p,re);break e}}else for(at=p.child,at!==null&&(at.return=p);at!==null;){var br=at.dependencies;if(br!==null){Ot=at.child;for(var Pr=br.firstContext;Pr!==null;){if(Pr.context===Te){if(at.tag===1){Pr=ar(-1,re&-re),Pr.tag=2;var un=at.updateQueue;if(un!==null){un=un.shared;var Rn=un.pending;Rn===null?Pr.next=Pr:(Pr.next=Rn.next,Rn.next=Pr),un.pending=Pr}}at.lanes|=re,Pr=at.alternate,Pr!==null&&(Pr.lanes|=re),ie(at.return,re,p),br.lanes|=re;break}Pr=Pr.next}}else if(at.tag===10)Ot=at.type===p.type?null:at.child;else if(at.tag===18){if(Ot=at.return,Ot===null)throw Error(t(341));Ot.lanes|=re,br=Ot.alternate,br!==null&&(br.lanes|=re),ie(Ot,re,p),Ot=at.sibling}else Ot=at.child;if(Ot!==null)Ot.return=at;else for(Ot=at;Ot!==null;){if(Ot===p){Ot=null;break}if(at=Ot.sibling,at!==null){at.return=Ot.return,Ot=at;break}Ot=Ot.return}at=Ot}js(l,p,Ke.children,re),p=p.child}return p;case 9:return Ke=p.type,Te=p.pendingProps.children,De(p,re),Ke=He(Ke),Te=Te(Ke),p.flags|=1,js(l,p,Te,re),p.child;case 14:return Te=p.type,Ke=Ml(Te,p.pendingProps),Ke=Ml(Te.type,Ke),ig(l,p,Te,Ke,re);case 15:return ag(l,p,p.type,p.pendingProps,re);case 17:return Te=p.type,Ke=p.pendingProps,Ke=p.elementType===Te?Ke:Ml(Te,Ke),df(l,p),p.tag=1,Ko(Te)?(l=!0,fn(p)):l=!1,De(p,re),qm(p,Te,Ke),Wh(p,Te,Ke,re),Gh(null,p,Te,!0,l,re);case 19:return pg(l,p,re);case 22:return sg(l,p,re)}throw Error(t(156,p.tag))};function Zg(l,p){return gr(l,p)}function Ix(l,p,re,Te){this.tag=l,this.key=re,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=Te,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _l(l,p,re,Te){return new Ix(l,p,re,Te)}function h0(l){return l=l.prototype,!(!l||!l.isReactComponent)}function Ox(l){if(typeof l=="function")return h0(l)?1:0;if(l!=null){if(l=l.$$typeof,l===S)return 11;if(l===ke)return 14}return 2}function jc(l,p){var re=l.alternate;return re===null?(re=_l(l.tag,p,l.key,l.mode),re.elementType=l.elementType,re.type=l.type,re.stateNode=l.stateNode,re.alternate=l,l.alternate=re):(re.pendingProps=p,re.type=l.type,re.flags=0,re.subtreeFlags=0,re.deletions=null),re.flags=l.flags&14680064,re.childLanes=l.childLanes,re.lanes=l.lanes,re.child=l.child,re.memoizedProps=l.memoizedProps,re.memoizedState=l.memoizedState,re.updateQueue=l.updateQueue,p=l.dependencies,re.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},re.sibling=l.sibling,re.index=l.index,re.ref=l.ref,re}function Ef(l,p,re,Te,Ke,at){var Ot=2;if(Te=l,typeof l=="function")h0(l)&&(Ot=1);else if(typeof l=="string")Ot=5;else e:switch(l){case d:return tu(re.children,Ke,at,p);case j:Ot=8,Ke|=8;break;case L:return l=_l(12,re,p,Ke|2),l.elementType=L,l.lanes=at,l;case q:return l=_l(13,re,p,Ke),l.elementType=q,l.lanes=at,l;case ve:return l=_l(19,re,p,Ke),l.elementType=ve,l.lanes=at,l;case ge:return kf(re,Ke,at,p);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case H:Ot=10;break e;case x:Ot=9;break e;case S:Ot=11;break e;case ke:Ot=14;break e;case Se:Ot=16,Te=null;break e}throw Error(t(130,l==null?l:typeof l,""))}return p=_l(Ot,re,p,Ke),p.elementType=l,p.type=Te,p.lanes=at,p}function tu(l,p,re,Te){return l=_l(7,l,Te,p),l.lanes=re,l}function kf(l,p,re,Te){return l=_l(22,l,Te,p),l.elementType=ge,l.lanes=re,l.stateNode={isHidden:!1},l}function p0(l,p,re){return l=_l(6,l,null,p),l.lanes=re,l}function m0(l,p,re){return p=_l(4,l.children!==null?l.children:[],l.key,p),p.lanes=re,p.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},p}function Tx(l,p,re,Te,Ke){this.tag=p,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hr(0),this.expirationTimes=hr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hr(0),this.identifierPrefix=Te,this.onRecoverableError=Ke,this.mutableSourceEagerHydrationData=null}function g0(l,p,re,Te,Ke,at,Ot,br,Pr){return l=new Tx(l,p,re,br,Pr),p===1?(p=1,at===!0&&(p|=8)):p=0,at=_l(3,null,null,p),l.current=at,at.stateNode=l,at.memoizedState={element:Te,isDehydrated:re,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mt(at),l}function jx(l,p,re){var Te=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:f,key:Te==null?null:""+Te,children:l,containerInfo:p,implementation:re}}function zg(l){if(!l)return ja;l=l._reactInternals;e:{if(It(l)!==l||l.tag!==1)throw Error(t(170));var p=l;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(Ko(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(t(171))}if(l.tag===1){var re=l.type;if(Ko(re))return Bs(l,re,p)}return p}function Bg(l,p,re,Te,Ke,at,Ot,br,Pr){return l=g0(re,Te,!0,l,Ke,at,Ot,br,Pr),l.context=zg(null),re=l.current,Te=Ps(),Ke=Oc(re),at=ar(Te,Ke),at.callback=p??null,Bt(re,at,Ke),l.current.lanes=Ke,jr(l,Ke,Te),Xs(l,Te),l}function _f(l,p,re,Te){var Ke=p.current,at=Ps(),Ot=Oc(Ke);return re=zg(re),p.context===null?p.context=re:p.pendingContext=re,p=ar(at,Ot),p.payload={element:l},Te=Te===void 0?null:Te,Te!==null&&(p.callback=Te),l=Bt(Ke,p,Ot),l!==null&&(Rl(l,Ke,Ot,at),zt(l,Ke,Ot)),Ot}function Sf(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function Fg(l,p){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var re=l.retryLane;l.retryLane=re!==0&&re<p?re:p}}function v0(l,p){Fg(l,p),(l=l.alternate)&&Fg(l,p)}function Px(){return null}var Hg=typeof reportError=="function"?reportError:function(l){console.error(l)};function b0(l){this._internalRoot=l}Cf.prototype.render=b0.prototype.render=function(l){var p=this._internalRoot;if(p===null)throw Error(t(409));_f(l,p,null,null)},Cf.prototype.unmount=b0.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var p=l.containerInfo;Qc(function(){_f(null,l,null,null)}),p[Go]=null}};function Cf(l){this._internalRoot=l}Cf.prototype.unstable_scheduleHydration=function(l){if(l){var p=Wr();l={blockedOn:null,target:l,priority:p};for(var re=0;re<_o.length&&p!==0&&p<_o[re].priority;re++);_o.splice(re,0,l),re===0&&Oe(l)}};function y0(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function If(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function Wg(){}function Mx(l,p,re,Te,Ke){if(Ke){if(typeof Te=="function"){var at=Te;Te=function(){var un=Sf(Ot);at.call(un)}}var Ot=Bg(p,Te,l,0,null,!1,!1,"",Wg);return l._reactRootContainer=Ot,l[Go]=Ot.current,_r(l.nodeType===8?l.parentNode:l),Qc(),Ot}for(;Ke=l.lastChild;)l.removeChild(Ke);if(typeof Te=="function"){var br=Te;Te=function(){var un=Sf(Pr);br.call(un)}}var Pr=g0(l,0,!1,null,null,!1,!1,"",Wg);return l._reactRootContainer=Pr,l[Go]=Pr.current,_r(l.nodeType===8?l.parentNode:l),Qc(function(){_f(p,Pr,re,Te)}),Pr}function Of(l,p,re,Te,Ke){var at=re._reactRootContainer;if(at){var Ot=at;if(typeof Ke=="function"){var br=Ke;Ke=function(){var Pr=Sf(Ot);br.call(Pr)}}_f(p,Ot,l,Ke)}else Ot=Mx(re,p,l,Ke,Te);return Sf(Ot)}ln=function(l){switch(l.tag){case 3:var p=l.stateNode;if(p.current.memoizedState.isDehydrated){var re=cn(p.pendingLanes);re!==0&&(Zr(p,re|1),Xs(p,Tt()),(ji&6)===0&&(ku=Tt()+500,gs()))}break;case 13:Qc(function(){var Te=vt(l,1);if(Te!==null){var Ke=Ps();Rl(Te,l,1,Ke)}}),v0(l,1)}},Gr=function(l){if(l.tag===13){var p=vt(l,134217728);if(p!==null){var re=Ps();Rl(p,l,134217728,re)}v0(l,134217728)}},Rr=function(l){if(l.tag===13){var p=Oc(l),re=vt(l,p);if(re!==null){var Te=Ps();Rl(re,l,p,Te)}v0(l,p)}},Wr=function(){return Dr},Ur=function(l,p){var re=Dr;try{return Dr=l,p()}finally{Dr=re}},Y=function(l,p,re){switch(p){case"input":if(F(l,re),p=re.name,re.type==="radio"&&p!=null){for(re=l;re.parentNode;)re=re.parentNode;for(re=re.querySelectorAll("input[name="+JSON.stringify(""+p)+'][type="radio"]'),p=0;p<re.length;p++){var Te=re[p];if(Te!==l&&Te.form===l.form){var Ke=wa(Te);if(!Ke)throw Error(t(90));C(Te),F(Te,Ke)}}}break;case"textarea":oe(l,re);break;case"select":p=re.value,p!=null&&fe(l,!!re.multiple,p,!1)}},Be=u0,Qe=Qc;var Ax={usingClientEntryPoint:!1,Events:[na,Wa,wa,ye,je,u0]},ud={findFiberByHostInstance:Ki,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Dx={bundleType:ud.bundleType,version:ud.version,rendererPackageName:ud.rendererPackageName,rendererConfig:ud.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:N.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=Gt(l),l===null?null:l.stateNode},findFiberByHostInstance:ud.findFiberByHostInstance||Px,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tf.isDisabled&&Tf.supportsFiber)try{Mr=Tf.inject(Dx),zr=Tf}catch{}}return qs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ax,qs.createPortal=function(l,p){var re=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y0(p))throw Error(t(200));return jx(l,p,null,re)},qs.createRoot=function(l,p){if(!y0(l))throw Error(t(299));var re=!1,Te="",Ke=Hg;return p!=null&&(p.unstable_strictMode===!0&&(re=!0),p.identifierPrefix!==void 0&&(Te=p.identifierPrefix),p.onRecoverableError!==void 0&&(Ke=p.onRecoverableError)),p=g0(l,1,!1,null,null,re,!1,Te,Ke),l[Go]=p.current,_r(l.nodeType===8?l.parentNode:l),new b0(p)},qs.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var p=l._reactInternals;if(p===void 0)throw typeof l.render=="function"?Error(t(188)):(l=Object.keys(l).join(","),Error(t(268,l)));return l=Gt(p),l=l===null?null:l.stateNode,l},qs.flushSync=function(l){return Qc(l)},qs.hydrate=function(l,p,re){if(!If(p))throw Error(t(200));return Of(null,l,p,!0,re)},qs.hydrateRoot=function(l,p,re){if(!y0(l))throw Error(t(405));var Te=re!=null&&re.hydratedSources||null,Ke=!1,at="",Ot=Hg;if(re!=null&&(re.unstable_strictMode===!0&&(Ke=!0),re.identifierPrefix!==void 0&&(at=re.identifierPrefix),re.onRecoverableError!==void 0&&(Ot=re.onRecoverableError)),p=Bg(p,null,l,1,re??null,Ke,!1,at,Ot),l[Go]=p.current,_r(l),Te)for(l=0;l<Te.length;l++)re=Te[l],Ke=re._getVersion,Ke=Ke(re._source),p.mutableSourceEagerHydrationData==null?p.mutableSourceEagerHydrationData=[re,Ke]:p.mutableSourceEagerHydrationData.push(re,Ke);return new Cf(p)},qs.render=function(l,p,re){if(!If(p))throw Error(t(200));return Of(null,l,p,!1,re)},qs.unmountComponentAtNode=function(l){if(!If(l))throw Error(t(40));return l._reactRootContainer?(Qc(function(){Of(null,null,l,!1,function(){l._reactRootContainer=null,l[Go]=null})}),!0):!1},qs.unstable_batchedUpdates=u0,qs.unstable_renderSubtreeIntoContainer=function(l,p,re,Te){if(!If(re))throw Error(t(200));if(l==null||l._reactInternals===void 0)throw Error(t(38));return Of(l,p,re,!1,Te)},qs.version="18.3.1-next-f1338f8080-20240426",qs}var qg;function Mp(){if(qg)return E0.exports;qg=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(e){console.error(e)}}return o(),E0.exports=Hx(),E0.exports}var Qg;function Wx(){if(Qg)return jf;Qg=1;var o=Mp();return jf.createRoot=o.createRoot,jf.hydrateRoot=o.hydrateRoot,jf}var Ux=Wx();const Vx=Xv(Ux);var hd={},Jg;function Kx(){if(Jg)return hd;Jg=1,Object.defineProperty(hd,"__esModule",{value:!0}),hd.parse=we,hd.serialize=st;const o=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,c=/^[\u0020-\u003A\u003D-\u007E]*$/,_=Object.prototype.toString,ee=(()=>{const We=function(){};return We.prototype=Object.create(null),We})();function we(We,ue){const n=new ee,r=We.length;if(r<2)return n;const A=(ue==null?void 0:ue.decode)||yt;let k=0;do{const b=We.indexOf("=",k);if(b===-1)break;const w=We.indexOf(";",k),N=w===-1?r:w;if(b>N){k=We.lastIndexOf(";",b-1)+1;continue}const M=Fe(We,k,b),f=nt(We,b,M),d=We.slice(M,f);if(n[d]===void 0){let j=Fe(We,b+1,N),L=nt(We,N,j);const H=A(We.slice(j,L));n[d]=H}k=N+1}while(k<r);return n}function Fe(We,ue,n){do{const r=We.charCodeAt(ue);if(r!==32&&r!==9)return ue}while(++ue<n);return n}function nt(We,ue,n){for(;ue>n;){const r=We.charCodeAt(--ue);if(r!==32&&r!==9)return ue+1}return n}function st(We,ue,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!o.test(We))throw new TypeError(`argument name is invalid: ${We}`);const A=r(ue);if(!e.test(A))throw new TypeError(`argument val is invalid: ${ue}`);let k=We+"="+A;if(!n)return k;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);k+="; Max-Age="+n.maxAge}if(n.domain){if(!t.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);k+="; Domain="+n.domain}if(n.path){if(!c.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);k+="; Path="+n.path}if(n.expires){if(!kt(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);k+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(k+="; HttpOnly"),n.secure&&(k+="; Secure"),n.partitioned&&(k+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"none":k+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return k}function yt(We){if(We.indexOf("%")===-1)return We;try{return decodeURIComponent(We)}catch{return We}}function kt(We){return _.call(We)==="[object Date]"}return hd}Kx();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var e1="popstate";function Gx(o={}){function e(c,_){let{pathname:ee,search:we,hash:Fe}=c.location;return K0("",{pathname:ee,search:we,hash:Fe},_.state&&_.state.usr||null,_.state&&_.state.key||"default")}function t(c,_){return typeof _=="string"?_:Pd(_)}return $x(e,t,null,o)}function ca(o,e){if(o===!1||o===null||typeof o>"u")throw new Error(e)}function Jl(o,e){if(!o){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Yx(){return Math.random().toString(36).substring(2,10)}function t1(o,e){return{usr:o.state,key:o.key,idx:e}}function K0(o,e,t=null,c){return{pathname:typeof o=="string"?o:o.pathname,search:"",hash:"",...typeof e=="string"?Yu(e):e,state:t,key:e&&e.key||c||Yx()}}function Pd({pathname:o="/",search:e="",hash:t=""}){return e&&e!=="?"&&(o+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(o+=t.charAt(0)==="#"?t:"#"+t),o}function Yu(o){let e={};if(o){let t=o.indexOf("#");t>=0&&(e.hash=o.substring(t),o=o.substring(0,t));let c=o.indexOf("?");c>=0&&(e.search=o.substring(c),o=o.substring(0,c)),o&&(e.pathname=o)}return e}function $x(o,e,t,c={}){let{window:_=document.defaultView,v5Compat:ee=!1}=c,we=_.history,Fe="POP",nt=null,st=yt();st==null&&(st=0,we.replaceState({...we.state,idx:st},""));function yt(){return(we.state||{idx:null}).idx}function kt(){Fe="POP";let A=yt(),k=A==null?null:A-st;st=A,nt&&nt({action:Fe,location:r.location,delta:k})}function We(A,k){Fe="PUSH";let b=K0(r.location,A,k);st=yt()+1;let w=t1(b,st),N=r.createHref(b);try{we.pushState(w,"",N)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;_.location.assign(N)}ee&&nt&&nt({action:Fe,location:r.location,delta:1})}function ue(A,k){Fe="REPLACE";let b=K0(r.location,A,k);st=yt();let w=t1(b,st),N=r.createHref(b);we.replaceState(w,"",N),ee&&nt&&nt({action:Fe,location:r.location,delta:0})}function n(A){let k=_.location.origin!=="null"?_.location.origin:_.location.href,b=typeof A=="string"?A:Pd(A);return b=b.replace(/ $/,"%20"),ca(k,`No window.location.(origin|href) available to create URL for href: ${b}`),new URL(b,k)}let r={get action(){return Fe},get location(){return o(_,we)},listen(A){if(nt)throw new Error("A history only accepts one active listener");return _.addEventListener(e1,kt),nt=A,()=>{_.removeEventListener(e1,kt),nt=null}},createHref(A){return e(_,A)},createURL:n,encodeLocation(A){let k=n(A);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:We,replace:ue,go(A){return we.go(A)}};return r}function Qv(o,e,t="/"){return Xx(o,e,t,!1)}function Xx(o,e,t,c){let _=typeof e=="string"?Yu(e):e,ee=vc(_.pathname||"/",t);if(ee==null)return null;let we=Jv(o);qx(we);let Fe=null;for(let nt=0;Fe==null&&nt<we.length;++nt){let st=lw(ee);Fe=aw(we[nt],st,c)}return Fe}function Jv(o,e=[],t=[],c=""){let _=(ee,we,Fe)=>{let nt={relativePath:Fe===void 0?ee.path||"":Fe,caseSensitive:ee.caseSensitive===!0,childrenIndex:we,route:ee};nt.relativePath.startsWith("/")&&(ca(nt.relativePath.startsWith(c),`Absolute route path "${nt.relativePath}" nested under path "${c}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),nt.relativePath=nt.relativePath.slice(c.length));let st=pc([c,nt.relativePath]),yt=t.concat(nt);ee.children&&ee.children.length>0&&(ca(ee.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${st}".`),Jv(ee.children,e,yt,st)),!(ee.path==null&&!ee.index)&&e.push({path:st,score:ow(st,ee.index),routesMeta:yt})};return o.forEach((ee,we)=>{var Fe;if(ee.path===""||!((Fe=ee.path)!=null&&Fe.includes("?")))_(ee,we);else for(let nt of eb(ee.path))_(ee,we,nt)}),e}function eb(o){let e=o.split("/");if(e.length===0)return[];let[t,...c]=e,_=t.endsWith("?"),ee=t.replace(/\?$/,"");if(c.length===0)return _?[ee,""]:[ee];let we=eb(c.join("/")),Fe=[];return Fe.push(...we.map(nt=>nt===""?ee:[ee,nt].join("/"))),_&&Fe.push(...we),Fe.map(nt=>o.startsWith("/")&&nt===""?"/":nt)}function qx(o){o.sort((e,t)=>e.score!==t.score?t.score-e.score:iw(e.routesMeta.map(c=>c.childrenIndex),t.routesMeta.map(c=>c.childrenIndex)))}var Qx=/^:[\w-]+$/,Jx=3,ew=2,tw=1,rw=10,nw=-2,r1=o=>o==="*";function ow(o,e){let t=o.split("/"),c=t.length;return t.some(r1)&&(c+=nw),e&&(c+=ew),t.filter(_=>!r1(_)).reduce((_,ee)=>_+(Qx.test(ee)?Jx:ee===""?tw:rw),c)}function iw(o,e){return o.length===e.length&&o.slice(0,-1).every((c,_)=>c===e[_])?o[o.length-1]-e[e.length-1]:0}function aw(o,e,t=!1){let{routesMeta:c}=o,_={},ee="/",we=[];for(let Fe=0;Fe<c.length;++Fe){let nt=c[Fe],st=Fe===c.length-1,yt=ee==="/"?e:e.slice(ee.length)||"/",kt=Yf({path:nt.relativePath,caseSensitive:nt.caseSensitive,end:st},yt),We=nt.route;if(!kt&&st&&t&&!c[c.length-1].route.index&&(kt=Yf({path:nt.relativePath,caseSensitive:nt.caseSensitive,end:!1},yt)),!kt)return null;Object.assign(_,kt.params),we.push({params:_,pathname:pc([ee,kt.pathname]),pathnameBase:fw(pc([ee,kt.pathnameBase])),route:We}),kt.pathnameBase!=="/"&&(ee=pc([ee,kt.pathnameBase]))}return we}function Yf(o,e){typeof o=="string"&&(o={path:o,caseSensitive:!1,end:!0});let[t,c]=sw(o.path,o.caseSensitive,o.end),_=e.match(t);if(!_)return null;let ee=_[0],we=ee.replace(/(.)\/+$/,"$1"),Fe=_.slice(1);return{params:c.reduce((st,{paramName:yt,isOptional:kt},We)=>{if(yt==="*"){let n=Fe[We]||"";we=ee.slice(0,ee.length-n.length).replace(/(.)\/+$/,"$1")}const ue=Fe[We];return kt&&!ue?st[yt]=void 0:st[yt]=(ue||"").replace(/%2F/g,"/"),st},{}),pathname:ee,pathnameBase:we,pattern:o}}function sw(o,e=!1,t=!0){Jl(o==="*"||!o.endsWith("*")||o.endsWith("/*"),`Route path "${o}" will be treated as if it were "${o.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${o.replace(/\*$/,"/*")}".`);let c=[],_="^"+o.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(we,Fe,nt)=>(c.push({paramName:Fe,isOptional:nt!=null}),nt?"/?([^\\/]+)?":"/([^\\/]+)"));return o.endsWith("*")?(c.push({paramName:"*"}),_+=o==="*"||o==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?_+="\\/*$":o!==""&&o!=="/"&&(_+="(?:(?=\\/|$))"),[new RegExp(_,e?void 0:"i"),c]}function lw(o){try{return o.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jl(!1,`The URL path "${o}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),o}}function vc(o,e){if(e==="/")return o;if(!o.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,c=o.charAt(t);return c&&c!=="/"?null:o.slice(t)||"/"}function cw(o,e="/"){let{pathname:t,search:c="",hash:_=""}=typeof o=="string"?Yu(o):o;return{pathname:t?t.startsWith("/")?t:uw(t,e):e,search:hw(c),hash:pw(_)}}function uw(o,e){let t=e.replace(/\/+$/,"").split("/");return o.split("/").forEach(_=>{_===".."?t.length>1&&t.pop():_!=="."&&t.push(_)}),t.length>1?t.join("/"):"/"}function S0(o,e,t,c){return`Cannot include a '${o}' character in a manually specified \`to.${e}\` field [${JSON.stringify(c)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dw(o){return o.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function tb(o){let e=dw(o);return e.map((t,c)=>c===e.length-1?t.pathname:t.pathnameBase)}function rb(o,e,t,c=!1){let _;typeof o=="string"?_=Yu(o):(_={...o},ca(!_.pathname||!_.pathname.includes("?"),S0("?","pathname","search",_)),ca(!_.pathname||!_.pathname.includes("#"),S0("#","pathname","hash",_)),ca(!_.search||!_.search.includes("#"),S0("#","search","hash",_)));let ee=o===""||_.pathname==="",we=ee?"/":_.pathname,Fe;if(we==null)Fe=t;else{let kt=e.length-1;if(!c&&we.startsWith("..")){let We=we.split("/");for(;We[0]==="..";)We.shift(),kt-=1;_.pathname=We.join("/")}Fe=kt>=0?e[kt]:"/"}let nt=cw(_,Fe),st=we&&we!=="/"&&we.endsWith("/"),yt=(ee||we===".")&&t.endsWith("/");return!nt.pathname.endsWith("/")&&(st||yt)&&(nt.pathname+="/"),nt}var pc=o=>o.join("/").replace(/\/\/+/g,"/"),fw=o=>o.replace(/\/+$/,"").replace(/^\/*/,"/"),hw=o=>!o||o==="?"?"":o.startsWith("?")?o:"?"+o,pw=o=>!o||o==="#"?"":o.startsWith("#")?o:"#"+o;function mw(o){return o!=null&&typeof o.status=="number"&&typeof o.statusText=="string"&&typeof o.internal=="boolean"&&"data"in o}var nb=["POST","PUT","PATCH","DELETE"];new Set(nb);var gw=["GET",...nb];new Set(gw);var $u=wn.createContext(null);$u.displayName="DataRouter";var yh=wn.createContext(null);yh.displayName="DataRouterState";var ob=wn.createContext({isTransitioning:!1});ob.displayName="ViewTransition";var vw=wn.createContext(new Map);vw.displayName="Fetchers";var bw=wn.createContext(null);bw.displayName="Await";var rc=wn.createContext(null);rc.displayName="Navigation";var Yd=wn.createContext(null);Yd.displayName="Location";var nc=wn.createContext({outlet:null,matches:[],isDataRoute:!1});nc.displayName="Route";var Ap=wn.createContext(null);Ap.displayName="RouteError";function yw(o,{relative:e}={}){ca($d(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:c}=wn.useContext(rc),{hash:_,pathname:ee,search:we}=Xd(o,{relative:e}),Fe=ee;return t!=="/"&&(Fe=ee==="/"?t:pc([t,ee])),c.createHref({pathname:Fe,search:we,hash:_})}function $d(){return wn.useContext(Yd)!=null}function gu(){return ca($d(),"useLocation() may be used only in the context of a <Router> component."),wn.useContext(Yd).location}var ib="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ab(o){wn.useContext(rc).static||wn.useLayoutEffect(o)}function xw(){let{isDataRoute:o}=wn.useContext(nc);return o?Dw():ww()}function ww(){ca($d(),"useNavigate() may be used only in the context of a <Router> component.");let o=wn.useContext($u),{basename:e,navigator:t}=wn.useContext(rc),{matches:c}=wn.useContext(nc),{pathname:_}=gu(),ee=JSON.stringify(tb(c)),we=wn.useRef(!1);return ab(()=>{we.current=!0}),wn.useCallback((nt,st={})=>{if(Jl(we.current,ib),!we.current)return;if(typeof nt=="number"){t.go(nt);return}let yt=rb(nt,JSON.parse(ee),_,st.relative==="path");o==null&&e!=="/"&&(yt.pathname=yt.pathname==="/"?e:pc([e,yt.pathname])),(st.replace?t.replace:t.push)(yt,st.state,st)},[e,t,ee,_,o])}wn.createContext(null);function Ew(){let{matches:o}=wn.useContext(nc),e=o[o.length-1];return e?e.params:{}}function Xd(o,{relative:e}={}){let{matches:t}=wn.useContext(nc),{pathname:c}=gu(),_=JSON.stringify(tb(t));return wn.useMemo(()=>rb(o,JSON.parse(_),c,e==="path"),[o,_,c,e])}function kw(o,e){return sb(o,e)}function sb(o,e,t,c){var b;ca($d(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:_,static:ee}=wn.useContext(rc),{matches:we}=wn.useContext(nc),Fe=we[we.length-1],nt=Fe?Fe.params:{},st=Fe?Fe.pathname:"/",yt=Fe?Fe.pathnameBase:"/",kt=Fe&&Fe.route;{let w=kt&&kt.path||"";lb(st,!kt||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${st}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let We=gu(),ue;if(e){let w=typeof e=="string"?Yu(e):e;ca(yt==="/"||((b=w.pathname)==null?void 0:b.startsWith(yt)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${yt}" but pathname "${w.pathname}" was given in the \`location\` prop.`),ue=w}else ue=We;let n=ue.pathname||"/",r=n;if(yt!=="/"){let w=yt.replace(/^\//,"").split("/");r="/"+n.replace(/^\//,"").split("/").slice(w.length).join("/")}let A=!ee&&t&&t.matches&&t.matches.length>0?t.matches:Qv(o,{pathname:r});Jl(kt||A!=null,`No routes matched location "${ue.pathname}${ue.search}${ue.hash}" `),Jl(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${ue.pathname}${ue.search}${ue.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=Ow(A&&A.map(w=>Object.assign({},w,{params:Object.assign({},nt,w.params),pathname:pc([yt,_.encodeLocation?_.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?yt:pc([yt,_.encodeLocation?_.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),we,t,c);return e&&k?wn.createElement(Yd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...ue},navigationType:"POP"}},k):k}function _w(){let o=Aw(),e=mw(o)?`${o.status} ${o.statusText}`:o instanceof Error?o.message:JSON.stringify(o),t=o instanceof Error?o.stack:null,c="rgba(200,200,200, 0.5)",_={padding:"0.5rem",backgroundColor:c},ee={padding:"2px 4px",backgroundColor:c},we=null;return console.error("Error handled by React Router default ErrorBoundary:",o),we=wn.createElement(wn.Fragment,null,wn.createElement("p",null,"💿 Hey developer 👋"),wn.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",wn.createElement("code",{style:ee},"ErrorBoundary")," or"," ",wn.createElement("code",{style:ee},"errorElement")," prop on your route.")),wn.createElement(wn.Fragment,null,wn.createElement("h2",null,"Unexpected Application Error!"),wn.createElement("h3",{style:{fontStyle:"italic"}},e),t?wn.createElement("pre",{style:_},t):null,we)}var Sw=wn.createElement(_w,null),Cw=class extends wn.Component{constructor(o){super(o),this.state={location:o.location,revalidation:o.revalidation,error:o.error}}static getDerivedStateFromError(o){return{error:o}}static getDerivedStateFromProps(o,e){return e.location!==o.location||e.revalidation!=="idle"&&o.revalidation==="idle"?{error:o.error,location:o.location,revalidation:o.revalidation}:{error:o.error!==void 0?o.error:e.error,location:e.location,revalidation:o.revalidation||e.revalidation}}componentDidCatch(o,e){console.error("React Router caught the following error during render",o,e)}render(){return this.state.error!==void 0?wn.createElement(nc.Provider,{value:this.props.routeContext},wn.createElement(Ap.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Iw({routeContext:o,match:e,children:t}){let c=wn.useContext($u);return c&&c.static&&c.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=e.route.id),wn.createElement(nc.Provider,{value:o},t)}function Ow(o,e=[],t=null,c=null){if(o==null){if(!t)return null;if(t.errors)o=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)o=t.matches;else return null}let _=o,ee=t==null?void 0:t.errors;if(ee!=null){let nt=_.findIndex(st=>st.route.id&&(ee==null?void 0:ee[st.route.id])!==void 0);ca(nt>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(ee).join(",")}`),_=_.slice(0,Math.min(_.length,nt+1))}let we=!1,Fe=-1;if(t)for(let nt=0;nt<_.length;nt++){let st=_[nt];if((st.route.HydrateFallback||st.route.hydrateFallbackElement)&&(Fe=nt),st.route.id){let{loaderData:yt,errors:kt}=t,We=st.route.loader&&!yt.hasOwnProperty(st.route.id)&&(!kt||kt[st.route.id]===void 0);if(st.route.lazy||We){we=!0,Fe>=0?_=_.slice(0,Fe+1):_=[_[0]];break}}}return _.reduceRight((nt,st,yt)=>{let kt,We=!1,ue=null,n=null;t&&(kt=ee&&st.route.id?ee[st.route.id]:void 0,ue=st.route.errorElement||Sw,we&&(Fe<0&&yt===0?(lb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),We=!0,n=null):Fe===yt&&(We=!0,n=st.route.hydrateFallbackElement||null)));let r=e.concat(_.slice(0,yt+1)),A=()=>{let k;return kt?k=ue:We?k=n:st.route.Component?k=wn.createElement(st.route.Component,null):st.route.element?k=st.route.element:k=nt,wn.createElement(Iw,{match:st,routeContext:{outlet:nt,matches:r,isDataRoute:t!=null},children:k})};return t&&(st.route.ErrorBoundary||st.route.errorElement||yt===0)?wn.createElement(Cw,{location:t.location,revalidation:t.revalidation,component:ue,error:kt,children:A(),routeContext:{outlet:null,matches:r,isDataRoute:!0}}):A()},null)}function Dp(o){return`${o} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Tw(o){let e=wn.useContext($u);return ca(e,Dp(o)),e}function jw(o){let e=wn.useContext(yh);return ca(e,Dp(o)),e}function Pw(o){let e=wn.useContext(nc);return ca(e,Dp(o)),e}function Rp(o){let e=Pw(o),t=e.matches[e.matches.length-1];return ca(t.route.id,`${o} can only be used on routes that contain a unique "id"`),t.route.id}function Mw(){return Rp("useRouteId")}function Aw(){var c;let o=wn.useContext(Ap),e=jw("useRouteError"),t=Rp("useRouteError");return o!==void 0?o:(c=e.errors)==null?void 0:c[t]}function Dw(){let{router:o}=Tw("useNavigate"),e=Rp("useNavigate"),t=wn.useRef(!1);return ab(()=>{t.current=!0}),wn.useCallback(async(_,ee={})=>{Jl(t.current,ib),t.current&&(typeof _=="number"?o.navigate(_):await o.navigate(_,{fromRouteId:e,...ee}))},[o,e])}var n1={};function lb(o,e,t){!e&&!n1[o]&&(n1[o]=!0,Jl(!1,t))}wn.memo(Rw);function Rw({routes:o,future:e,state:t}){return sb(o,void 0,t,e)}function cb(o){ca(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Lw({basename:o="/",children:e=null,location:t,navigationType:c="POP",navigator:_,static:ee=!1}){ca(!$d(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let we=o.replace(/^\/*/,"/"),Fe=wn.useMemo(()=>({basename:we,navigator:_,static:ee,future:{}}),[we,_,ee]);typeof t=="string"&&(t=Yu(t));let{pathname:nt="/",search:st="",hash:yt="",state:kt=null,key:We="default"}=t,ue=wn.useMemo(()=>{let n=vc(nt,we);return n==null?null:{location:{pathname:n,search:st,hash:yt,state:kt,key:We},navigationType:c}},[we,nt,st,yt,kt,We,c]);return Jl(ue!=null,`<Router basename="${we}"> is not able to match the URL "${nt}${st}${yt}" because it does not start with the basename, so the <Router> won't render anything.`),ue==null?null:wn.createElement(rc.Provider,{value:Fe},wn.createElement(Yd.Provider,{children:e,value:ue}))}function Nw({children:o,location:e}){return kw(G0(o),e)}function G0(o,e=[]){let t=[];return wn.Children.forEach(o,(c,_)=>{if(!wn.isValidElement(c))return;let ee=[...e,_];if(c.type===wn.Fragment){t.push.apply(t,G0(c.props.children,ee));return}ca(c.type===cb,`[${typeof c.type=="string"?c.type:c.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ca(!c.props.index||!c.props.children,"An index route cannot have child routes.");let we={id:c.props.id||ee.join("-"),caseSensitive:c.props.caseSensitive,element:c.props.element,Component:c.props.Component,index:c.props.index,path:c.props.path,loader:c.props.loader,action:c.props.action,hydrateFallbackElement:c.props.hydrateFallbackElement,HydrateFallback:c.props.HydrateFallback,errorElement:c.props.errorElement,ErrorBoundary:c.props.ErrorBoundary,hasErrorBoundary:c.props.hasErrorBoundary===!0||c.props.ErrorBoundary!=null||c.props.errorElement!=null,shouldRevalidate:c.props.shouldRevalidate,handle:c.props.handle,lazy:c.props.lazy};c.props.children&&(we.children=G0(c.props.children,ee)),t.push(we)}),t}var Ff="get",Hf="application/x-www-form-urlencoded";function xh(o){return o!=null&&typeof o.tagName=="string"}function Zw(o){return xh(o)&&o.tagName.toLowerCase()==="button"}function zw(o){return xh(o)&&o.tagName.toLowerCase()==="form"}function Bw(o){return xh(o)&&o.tagName.toLowerCase()==="input"}function Fw(o){return!!(o.metaKey||o.altKey||o.ctrlKey||o.shiftKey)}function Hw(o,e){return o.button===0&&(!e||e==="_self")&&!Fw(o)}var Pf=null;function Ww(){if(Pf===null)try{new FormData(document.createElement("form"),0),Pf=!1}catch{Pf=!0}return Pf}var Uw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function C0(o){return o!=null&&!Uw.has(o)?(Jl(!1,`"${o}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hf}"`),null):o}function Vw(o,e){let t,c,_,ee,we;if(zw(o)){let Fe=o.getAttribute("action");c=Fe?vc(Fe,e):null,t=o.getAttribute("method")||Ff,_=C0(o.getAttribute("enctype"))||Hf,ee=new FormData(o)}else if(Zw(o)||Bw(o)&&(o.type==="submit"||o.type==="image")){let Fe=o.form;if(Fe==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let nt=o.getAttribute("formaction")||Fe.getAttribute("action");if(c=nt?vc(nt,e):null,t=o.getAttribute("formmethod")||Fe.getAttribute("method")||Ff,_=C0(o.getAttribute("formenctype"))||C0(Fe.getAttribute("enctype"))||Hf,ee=new FormData(Fe,o),!Ww()){let{name:st,type:yt,value:kt}=o;if(yt==="image"){let We=st?`${st}.`:"";ee.append(`${We}x`,"0"),ee.append(`${We}y`,"0")}else st&&ee.append(st,kt)}}else{if(xh(o))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Ff,c=null,_=Hf,we=o}return ee&&_==="text/plain"&&(we=ee,ee=void 0),{action:c,method:t.toLowerCase(),encType:_,formData:ee,body:we}}function Lp(o,e){if(o===!1||o===null||typeof o>"u")throw new Error(e)}async function Kw(o,e){if(o.id in e)return e[o.id];try{let t=await import(o.module);return e[o.id]=t,t}catch(t){return console.error(`Error loading route module \`${o.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Gw(o){return o==null?!1:o.href==null?o.rel==="preload"&&typeof o.imageSrcSet=="string"&&typeof o.imageSizes=="string":typeof o.rel=="string"&&typeof o.href=="string"}async function Yw(o,e,t){let c=await Promise.all(o.map(async _=>{let ee=e.routes[_.route.id];if(ee){let we=await Kw(ee,t);return we.links?we.links():[]}return[]}));return Qw(c.flat(1).filter(Gw).filter(_=>_.rel==="stylesheet"||_.rel==="preload").map(_=>_.rel==="stylesheet"?{..._,rel:"prefetch",as:"style"}:{..._,rel:"prefetch"}))}function o1(o,e,t,c,_,ee){let we=(nt,st)=>t[st]?nt.route.id!==t[st].route.id:!0,Fe=(nt,st)=>{var yt;return t[st].pathname!==nt.pathname||((yt=t[st].route.path)==null?void 0:yt.endsWith("*"))&&t[st].params["*"]!==nt.params["*"]};return ee==="assets"?e.filter((nt,st)=>we(nt,st)||Fe(nt,st)):ee==="data"?e.filter((nt,st)=>{var kt;let yt=c.routes[nt.route.id];if(!yt||!yt.hasLoader)return!1;if(we(nt,st)||Fe(nt,st))return!0;if(nt.route.shouldRevalidate){let We=nt.route.shouldRevalidate({currentUrl:new URL(_.pathname+_.search+_.hash,window.origin),currentParams:((kt=t[0])==null?void 0:kt.params)||{},nextUrl:new URL(o,window.origin),nextParams:nt.params,defaultShouldRevalidate:!0});if(typeof We=="boolean")return We}return!0}):[]}function $w(o,e,{includeHydrateFallback:t}={}){return Xw(o.map(c=>{let _=e.routes[c.route.id];if(!_)return[];let ee=[_.module];return _.clientActionModule&&(ee=ee.concat(_.clientActionModule)),_.clientLoaderModule&&(ee=ee.concat(_.clientLoaderModule)),t&&_.hydrateFallbackModule&&(ee=ee.concat(_.hydrateFallbackModule)),_.imports&&(ee=ee.concat(_.imports)),ee}).flat(1))}function Xw(o){return[...new Set(o)]}function qw(o){let e={},t=Object.keys(o).sort();for(let c of t)e[c]=o[c];return e}function Qw(o,e){let t=new Set;return new Set(e),o.reduce((c,_)=>{let ee=JSON.stringify(qw(_));return t.has(ee)||(t.add(ee),c.push({key:ee,link:_})),c},[])}function Jw(o,e){let t=typeof o=="string"?new URL(o,typeof window>"u"?"server://singlefetch/":window.location.origin):o;return t.pathname==="/"?t.pathname="_root.data":e&&vc(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function ub(){let o=wn.useContext($u);return Lp(o,"You must render this element inside a <DataRouterContext.Provider> element"),o}function e3(){let o=wn.useContext(yh);return Lp(o,"You must render this element inside a <DataRouterStateContext.Provider> element"),o}var Np=wn.createContext(void 0);Np.displayName="FrameworkContext";function db(){let o=wn.useContext(Np);return Lp(o,"You must render this element inside a <HydratedRouter> element"),o}function t3(o,e){let t=wn.useContext(Np),[c,_]=wn.useState(!1),[ee,we]=wn.useState(!1),{onFocus:Fe,onBlur:nt,onMouseEnter:st,onMouseLeave:yt,onTouchStart:kt}=e,We=wn.useRef(null);wn.useEffect(()=>{if(o==="render"&&we(!0),o==="viewport"){let r=k=>{k.forEach(b=>{we(b.isIntersecting)})},A=new IntersectionObserver(r,{threshold:.5});return We.current&&A.observe(We.current),()=>{A.disconnect()}}},[o]),wn.useEffect(()=>{if(c){let r=setTimeout(()=>{we(!0)},100);return()=>{clearTimeout(r)}}},[c]);let ue=()=>{_(!0)},n=()=>{_(!1),we(!1)};return t?o!=="intent"?[ee,We,{}]:[ee,We,{onFocus:pd(Fe,ue),onBlur:pd(nt,n),onMouseEnter:pd(st,ue),onMouseLeave:pd(yt,n),onTouchStart:pd(kt,ue)}]:[!1,We,{}]}function pd(o,e){return t=>{o&&o(t),t.defaultPrevented||e(t)}}function r3({page:o,...e}){let{router:t}=ub(),c=wn.useMemo(()=>Qv(t.routes,o,t.basename),[t.routes,o,t.basename]);return c?wn.createElement(o3,{page:o,matches:c,...e}):null}function n3(o){let{manifest:e,routeModules:t}=db(),[c,_]=wn.useState([]);return wn.useEffect(()=>{let ee=!1;return Yw(o,e,t).then(we=>{ee||_(we)}),()=>{ee=!0}},[o,e,t]),c}function o3({page:o,matches:e,...t}){let c=gu(),{manifest:_,routeModules:ee}=db(),{basename:we}=ub(),{loaderData:Fe,matches:nt}=e3(),st=wn.useMemo(()=>o1(o,e,nt,_,c,"data"),[o,e,nt,_,c]),yt=wn.useMemo(()=>o1(o,e,nt,_,c,"assets"),[o,e,nt,_,c]),kt=wn.useMemo(()=>{if(o===c.pathname+c.search+c.hash)return[];let n=new Set,r=!1;if(e.forEach(k=>{var w;let b=_.routes[k.route.id];!b||!b.hasLoader||(!st.some(N=>N.route.id===k.route.id)&&k.route.id in Fe&&((w=ee[k.route.id])!=null&&w.shouldRevalidate)||b.hasClientLoader?r=!0:n.add(k.route.id))}),n.size===0)return[];let A=Jw(o,we);return r&&n.size>0&&A.searchParams.set("_routes",e.filter(k=>n.has(k.route.id)).map(k=>k.route.id).join(",")),[A.pathname+A.search]},[we,Fe,c,_,st,e,o,ee]),We=wn.useMemo(()=>$w(yt,_),[yt,_]),ue=n3(yt);return wn.createElement(wn.Fragment,null,kt.map(n=>wn.createElement("link",{key:n,rel:"prefetch",as:"fetch",href:n,...t})),We.map(n=>wn.createElement("link",{key:n,rel:"modulepreload",href:n,...t})),ue.map(({key:n,link:r})=>wn.createElement("link",{key:n,...r})))}function i3(...o){return e=>{o.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var fb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{fb&&(window.__reactRouterVersion="7.3.0")}catch{}function a3({basename:o,children:e,window:t}){let c=wn.useRef();c.current==null&&(c.current=Gx({window:t,v5Compat:!0}));let _=c.current,[ee,we]=wn.useState({action:_.action,location:_.location}),Fe=wn.useCallback(nt=>{wn.startTransition(()=>we(nt))},[we]);return wn.useLayoutEffect(()=>_.listen(Fe),[_,Fe]),wn.createElement(Lw,{basename:o,children:e,location:ee.location,navigationType:ee.action,navigator:_})}var hb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pb=wn.forwardRef(function({onClick:e,discover:t="render",prefetch:c="none",relative:_,reloadDocument:ee,replace:we,state:Fe,target:nt,to:st,preventScrollReset:yt,viewTransition:kt,...We},ue){let{basename:n}=wn.useContext(rc),r=typeof st=="string"&&hb.test(st),A,k=!1;if(typeof st=="string"&&r&&(A=st,fb))try{let L=new URL(window.location.href),H=st.startsWith("//")?new URL(L.protocol+st):new URL(st),x=vc(H.pathname,n);H.origin===L.origin&&x!=null?st=x+H.search+H.hash:k=!0}catch{Jl(!1,`<Link to="${st}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let b=yw(st,{relative:_}),[w,N,M]=t3(c,We),f=u3(st,{replace:we,state:Fe,target:nt,preventScrollReset:yt,relative:_,viewTransition:kt});function d(L){e&&e(L),L.defaultPrevented||f(L)}let j=wn.createElement("a",{...We,...M,href:A||b,onClick:k||ee?e:d,ref:i3(ue,N),target:nt,"data-discover":!r&&t==="render"?"true":void 0});return w&&!r?wn.createElement(wn.Fragment,null,j,wn.createElement(r3,{page:b})):j});pb.displayName="Link";var s3=wn.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:c="",end:_=!1,style:ee,to:we,viewTransition:Fe,children:nt,...st},yt){let kt=Xd(we,{relative:st.relative}),We=gu(),ue=wn.useContext(yh),{navigator:n,basename:r}=wn.useContext(rc),A=ue!=null&&m3(kt)&&Fe===!0,k=n.encodeLocation?n.encodeLocation(kt).pathname:kt.pathname,b=We.pathname,w=ue&&ue.navigation&&ue.navigation.location?ue.navigation.location.pathname:null;t||(b=b.toLowerCase(),w=w?w.toLowerCase():null,k=k.toLowerCase()),w&&r&&(w=vc(w,r)||w);const N=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let M=b===k||!_&&b.startsWith(k)&&b.charAt(N)==="/",f=w!=null&&(w===k||!_&&w.startsWith(k)&&w.charAt(k.length)==="/"),d={isActive:M,isPending:f,isTransitioning:A},j=M?e:void 0,L;typeof c=="function"?L=c(d):L=[c,M?"active":null,f?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let H=typeof ee=="function"?ee(d):ee;return wn.createElement(pb,{...st,"aria-current":j,className:L,ref:yt,style:H,to:we,viewTransition:Fe},typeof nt=="function"?nt(d):nt)});s3.displayName="NavLink";var l3=wn.forwardRef(({discover:o="render",fetcherKey:e,navigate:t,reloadDocument:c,replace:_,state:ee,method:we=Ff,action:Fe,onSubmit:nt,relative:st,preventScrollReset:yt,viewTransition:kt,...We},ue)=>{let n=h3(),r=p3(Fe,{relative:st}),A=we.toLowerCase()==="get"?"get":"post",k=typeof Fe=="string"&&hb.test(Fe),b=w=>{if(nt&&nt(w),w.defaultPrevented)return;w.preventDefault();let N=w.nativeEvent.submitter,M=(N==null?void 0:N.getAttribute("formmethod"))||we;n(N||w.currentTarget,{fetcherKey:e,method:M,navigate:t,replace:_,state:ee,relative:st,preventScrollReset:yt,viewTransition:kt})};return wn.createElement("form",{ref:ue,method:A,action:r,onSubmit:c?nt:b,...We,"data-discover":!k&&o==="render"?"true":void 0})});l3.displayName="Form";function c3(o){return`${o} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mb(o){let e=wn.useContext($u);return ca(e,c3(o)),e}function u3(o,{target:e,replace:t,state:c,preventScrollReset:_,relative:ee,viewTransition:we}={}){let Fe=xw(),nt=gu(),st=Xd(o,{relative:ee});return wn.useCallback(yt=>{if(Hw(yt,e)){yt.preventDefault();let kt=t!==void 0?t:Pd(nt)===Pd(st);Fe(o,{replace:kt,state:c,preventScrollReset:_,relative:ee,viewTransition:we})}},[nt,Fe,st,t,c,e,o,_,ee,we])}var d3=0,f3=()=>`__${String(++d3)}__`;function h3(){let{router:o}=mb("useSubmit"),{basename:e}=wn.useContext(rc),t=Mw();return wn.useCallback(async(c,_={})=>{let{action:ee,method:we,encType:Fe,formData:nt,body:st}=Vw(c,e);if(_.navigate===!1){let yt=_.fetcherKey||f3();await o.fetch(yt,t,_.action||ee,{preventScrollReset:_.preventScrollReset,formData:nt,body:st,formMethod:_.method||we,formEncType:_.encType||Fe,flushSync:_.flushSync})}else await o.navigate(_.action||ee,{preventScrollReset:_.preventScrollReset,formData:nt,body:st,formMethod:_.method||we,formEncType:_.encType||Fe,replace:_.replace,state:_.state,fromRouteId:t,flushSync:_.flushSync,viewTransition:_.viewTransition})},[o,e,t])}function p3(o,{relative:e}={}){let{basename:t}=wn.useContext(rc),c=wn.useContext(nc);ca(c,"useFormAction must be used inside a RouteContext");let[_]=c.matches.slice(-1),ee={...Xd(o||".",{relative:e})},we=gu();if(o==null){ee.search=we.search;let Fe=new URLSearchParams(ee.search),nt=Fe.getAll("index");if(nt.some(yt=>yt==="")){Fe.delete("index"),nt.filter(kt=>kt).forEach(kt=>Fe.append("index",kt));let yt=Fe.toString();ee.search=yt?`?${yt}`:""}}return(!o||o===".")&&_.route.index&&(ee.search=ee.search?ee.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(ee.pathname=ee.pathname==="/"?t:pc([t,ee.pathname])),Pd(ee)}function m3(o,e={}){let t=wn.useContext(ob);ca(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:c}=mb("useViewTransitionState"),_=Xd(o,{relative:e.relative});if(!t.isTransitioning)return!1;let ee=vc(t.currentLocation.pathname,c)||t.currentLocation.pathname,we=vc(t.nextLocation.pathname,c)||t.nextLocation.pathname;return Yf(_.pathname,we)!=null||Yf(_.pathname,ee)!=null}new TextEncoder;const g3=()=>{};var i1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gn=function(o,e){if(!o)throw Xu(e)},Xu=function(o){return new Error("Firebase Database ("+gb.SDK_VERSION+") INTERNAL ASSERT FAILED: "+o)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb=function(o){const e=[];let t=0;for(let c=0;c<o.length;c++){let _=o.charCodeAt(c);_<128?e[t++]=_:_<2048?(e[t++]=_>>6|192,e[t++]=_&63|128):(_&64512)===55296&&c+1<o.length&&(o.charCodeAt(c+1)&64512)===56320?(_=65536+((_&1023)<<10)+(o.charCodeAt(++c)&1023),e[t++]=_>>18|240,e[t++]=_>>12&63|128,e[t++]=_>>6&63|128,e[t++]=_&63|128):(e[t++]=_>>12|224,e[t++]=_>>6&63|128,e[t++]=_&63|128)}return e},v3=function(o){const e=[];let t=0,c=0;for(;t<o.length;){const _=o[t++];if(_<128)e[c++]=String.fromCharCode(_);else if(_>191&&_<224){const ee=o[t++];e[c++]=String.fromCharCode((_&31)<<6|ee&63)}else if(_>239&&_<365){const ee=o[t++],we=o[t++],Fe=o[t++],nt=((_&7)<<18|(ee&63)<<12|(we&63)<<6|Fe&63)-65536;e[c++]=String.fromCharCode(55296+(nt>>10)),e[c++]=String.fromCharCode(56320+(nt&1023))}else{const ee=o[t++],we=o[t++];e[c++]=String.fromCharCode((_&15)<<12|(ee&63)<<6|we&63)}}return e.join("")},Zp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(o,e){if(!Array.isArray(o))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,c=[];for(let _=0;_<o.length;_+=3){const ee=o[_],we=_+1<o.length,Fe=we?o[_+1]:0,nt=_+2<o.length,st=nt?o[_+2]:0,yt=ee>>2,kt=(ee&3)<<4|Fe>>4;let We=(Fe&15)<<2|st>>6,ue=st&63;nt||(ue=64,we||(We=64)),c.push(t[yt],t[kt],t[We],t[ue])}return c.join("")},encodeString(o,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(o):this.encodeByteArray(vb(o),e)},decodeString(o,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(o):v3(this.decodeStringToByteArray(o,e))},decodeStringToByteArray(o,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,c=[];for(let _=0;_<o.length;){const ee=t[o.charAt(_++)],Fe=_<o.length?t[o.charAt(_)]:0;++_;const st=_<o.length?t[o.charAt(_)]:64;++_;const kt=_<o.length?t[o.charAt(_)]:64;if(++_,ee==null||Fe==null||st==null||kt==null)throw new b3;const We=ee<<2|Fe>>4;if(c.push(We),st!==64){const ue=Fe<<4&240|st>>2;if(c.push(ue),kt!==64){const n=st<<6&192|kt;c.push(n)}}}return c},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let o=0;o<this.ENCODED_VALS.length;o++)this.byteToCharMap_[o]=this.ENCODED_VALS.charAt(o),this.charToByteMap_[this.byteToCharMap_[o]]=o,this.byteToCharMapWebSafe_[o]=this.ENCODED_VALS_WEBSAFE.charAt(o),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[o]]=o,o>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(o)]=o,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(o)]=o)}}};class b3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bb=function(o){const e=vb(o);return Zp.encodeByteArray(e,!0)},$f=function(o){return bb(o).replace(/\./g,"")},Y0=function(o){try{return Zp.decodeString(o,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y3(o){return yb(void 0,o)}function yb(o,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:o===void 0&&(o={});break;case Array:o=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!x3(t)||(o[t]=yb(o[t],e[t]));return o}function x3(o){return o!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E3=()=>w3().__FIREBASE_DEFAULTS__,k3=()=>{if(typeof process>"u"||typeof i1>"u")return;const o=i1.__FIREBASE_DEFAULTS__;if(o)return JSON.parse(o)},_3=()=>{if(typeof document>"u")return;let o;try{o=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=o&&Y0(o[1]);return e&&JSON.parse(e)},zp=()=>{try{return g3()||E3()||k3()||_3()}catch(o){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${o}`);return}},S3=o=>{var e,t;return(t=(e=zp())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[o]},xb=o=>{const e=S3(o);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const c=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),c]:[e.substring(0,t),c]},wb=()=>{var o;return(o=zp())===null||o===void 0?void 0:o.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,c)=>{t?this.reject(t):this.resolve(c),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,c))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(o,e){if(o.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},c=e||"demo-project",_=o.iat||0,ee=o.sub||o.user_id;if(!ee)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const we=Object.assign({iss:`https://securetoken.google.com/${c}`,aud:c,iat:_,exp:_+3600,auth_time:_,sub:ee,user_id:ee,firebase:{sign_in_provider:"custom",identities:{}}},o);return[$f(JSON.stringify(t)),$f(JSON.stringify(we)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _b(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kb())}function C3(){var o;const e=(o=zp())===null||o===void 0?void 0:o.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function I3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function O3(){return gb.NODE_ADMIN===!0}function T3(){return!C3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function j3(){try{return typeof indexedDB=="object"}catch{return!1}}function P3(){return new Promise((o,e)=>{try{let t=!0;const c="validate-browser-context-for-indexeddb-analytics-module",_=self.indexedDB.open(c);_.onsuccess=()=>{_.result.close(),t||self.indexedDB.deleteDatabase(c),o(!0)},_.onupgradeneeded=()=>{t=!1},_.onerror=()=>{var ee;e(((ee=_.error)===null||ee===void 0?void 0:ee.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3="FirebaseError";class qu extends Error{constructor(e,t,c){super(t),this.code=e,this.customData=c,this.name=M3,Object.setPrototypeOf(this,qu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sb.prototype.create)}}class Sb{constructor(e,t,c){this.service=e,this.serviceName=t,this.errors=c}create(e,...t){const c=t[0]||{},_=`${this.service}/${e}`,ee=this.errors[e],we=ee?A3(ee,c):"Error",Fe=`${this.serviceName}: ${we} (${_}).`;return new qu(_,Fe,c)}}function A3(o,e){return o.replace(D3,(t,c)=>{const _=e[c];return _!=null?String(_):`<${c}?>`})}const D3=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(o){return JSON.parse(o)}function qa(o){return JSON.stringify(o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb=function(o){let e={},t={},c={},_="";try{const ee=o.split(".");e=Md(Y0(ee[0])||""),t=Md(Y0(ee[1])||""),_=ee[2],c=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:c,signature:_}},R3=function(o){const e=Cb(o),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},L3=function(o){const e=Cb(o).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(o,e){return Object.prototype.hasOwnProperty.call(o,e)}function Lu(o,e){if(Object.prototype.hasOwnProperty.call(o,e))return o[e]}function a1(o){for(const e in o)if(Object.prototype.hasOwnProperty.call(o,e))return!1;return!0}function Xf(o,e,t){const c={};for(const _ in o)Object.prototype.hasOwnProperty.call(o,_)&&(c[_]=e.call(t,o[_],_,o));return c}function Ad(o,e){if(o===e)return!0;const t=Object.keys(o),c=Object.keys(e);for(const _ of t){if(!c.includes(_))return!1;const ee=o[_],we=e[_];if(s1(ee)&&s1(we)){if(!Ad(ee,we))return!1}else if(ee!==we)return!1}for(const _ of c)if(!t.includes(_))return!1;return!0}function s1(o){return o!==null&&typeof o=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N3(o){const e=[];for(const[t,c]of Object.entries(o))Array.isArray(c)?c.forEach(_=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(_))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(c));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const c=this.W_;if(typeof e=="string")for(let kt=0;kt<16;kt++)c[kt]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let kt=0;kt<16;kt++)c[kt]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let kt=16;kt<80;kt++){const We=c[kt-3]^c[kt-8]^c[kt-14]^c[kt-16];c[kt]=(We<<1|We>>>31)&4294967295}let _=this.chain_[0],ee=this.chain_[1],we=this.chain_[2],Fe=this.chain_[3],nt=this.chain_[4],st,yt;for(let kt=0;kt<80;kt++){kt<40?kt<20?(st=Fe^ee&(we^Fe),yt=1518500249):(st=ee^we^Fe,yt=1859775393):kt<60?(st=ee&we|Fe&(ee|we),yt=2400959708):(st=ee^we^Fe,yt=3395469782);const We=(_<<5|_>>>27)+st+nt+yt+c[kt]&4294967295;nt=Fe,Fe=we,we=(ee<<30|ee>>>2)&4294967295,ee=_,_=We}this.chain_[0]=this.chain_[0]+_&4294967295,this.chain_[1]=this.chain_[1]+ee&4294967295,this.chain_[2]=this.chain_[2]+we&4294967295,this.chain_[3]=this.chain_[3]+Fe&4294967295,this.chain_[4]=this.chain_[4]+nt&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);const c=t-this.blockSize;let _=0;const ee=this.buf_;let we=this.inbuf_;for(;_<t;){if(we===0)for(;_<=c;)this.compress_(e,_),_+=this.blockSize;if(typeof e=="string"){for(;_<t;)if(ee[we]=e.charCodeAt(_),++we,++_,we===this.blockSize){this.compress_(ee),we=0;break}}else for(;_<t;)if(ee[we]=e[_],++we,++_,we===this.blockSize){this.compress_(ee),we=0;break}}this.inbuf_=we,this.total_+=t}digest(){const e=[];let t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let _=this.blockSize-1;_>=56;_--)this.buf_[_]=t&255,t/=256;this.compress_(this.buf_);let c=0;for(let _=0;_<5;_++)for(let ee=24;ee>=0;ee-=8)e[c]=this.chain_[_]>>ee&255,++c;return e}}function Bp(o,e){return`${o} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z3=function(o){const e=[];let t=0;for(let c=0;c<o.length;c++){let _=o.charCodeAt(c);if(_>=55296&&_<=56319){const ee=_-55296;c++,Gn(c<o.length,"Surrogate pair missing trail surrogate.");const we=o.charCodeAt(c)-56320;_=65536+(ee<<10)+we}_<128?e[t++]=_:_<2048?(e[t++]=_>>6|192,e[t++]=_&63|128):_<65536?(e[t++]=_>>12|224,e[t++]=_>>6&63|128,e[t++]=_&63|128):(e[t++]=_>>18|240,e[t++]=_>>12&63|128,e[t++]=_>>6&63|128,e[t++]=_&63|128)}return e},Eh=function(o){let e=0;for(let t=0;t<o.length;t++){const c=o.charCodeAt(t);c<128?e++:c<2048?e+=2:c>=55296&&c<=56319?(e+=4,t++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qu(o){return o&&o._delegate?o._delegate:o}class Nu{constructor(e,t,c){this.name=e,this.instanceFactory=t,this.type=c,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ou="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const c=new wh;if(this.instancesDeferred.set(t,c),this.isInitialized(t)||this.shouldAutoInitialize())try{const _=this.getOrInitializeService({instanceIdentifier:t});_&&c.resolve(_)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const c=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),_=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(c)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:c})}catch(ee){if(_)return null;throw ee}else{if(_)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(H3(e))try{this.getOrInitializeService({instanceIdentifier:ou})}catch{}for(const[t,c]of this.instancesDeferred.entries()){const _=this.normalizeInstanceIdentifier(t);try{const ee=this.getOrInitializeService({instanceIdentifier:_});c.resolve(ee)}catch{}}}}clearInstance(e=ou){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ou){return this.instances.has(e)}getOptions(e=ou){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,c=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(c))throw Error(`${this.name}(${c}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const _=this.getOrInitializeService({instanceIdentifier:c,options:t});for(const[ee,we]of this.instancesDeferred.entries()){const Fe=this.normalizeInstanceIdentifier(ee);c===Fe&&we.resolve(_)}return _}onInit(e,t){var c;const _=this.normalizeInstanceIdentifier(t),ee=(c=this.onInitCallbacks.get(_))!==null&&c!==void 0?c:new Set;ee.add(e),this.onInitCallbacks.set(_,ee);const we=this.instances.get(_);return we&&e(we,_),()=>{ee.delete(e)}}invokeOnInitCallbacks(e,t){const c=this.onInitCallbacks.get(t);if(c)for(const _ of c)try{_(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let c=this.instances.get(e);if(!c&&this.component&&(c=this.component.instanceFactory(this.container,{instanceIdentifier:F3(e),options:t}),this.instances.set(e,c),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(c,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,c)}catch{}return c||null}normalizeInstanceIdentifier(e=ou){return this.component?this.component.multipleInstances?e:ou:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function F3(o){return o===ou?void 0:o}function H3(o){return o.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new B3(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wi;(function(o){o[o.DEBUG=0]="DEBUG",o[o.VERBOSE=1]="VERBOSE",o[o.INFO=2]="INFO",o[o.WARN=3]="WARN",o[o.ERROR=4]="ERROR",o[o.SILENT=5]="SILENT"})(wi||(wi={}));const U3={debug:wi.DEBUG,verbose:wi.VERBOSE,info:wi.INFO,warn:wi.WARN,error:wi.ERROR,silent:wi.SILENT},V3=wi.INFO,K3={[wi.DEBUG]:"log",[wi.VERBOSE]:"log",[wi.INFO]:"info",[wi.WARN]:"warn",[wi.ERROR]:"error"},G3=(o,e,...t)=>{if(e<o.logLevel)return;const c=new Date().toISOString(),_=K3[e];if(_)console[_](`[${c}]  ${o.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fp{constructor(e){this.name=e,this._logLevel=V3,this._logHandler=G3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in wi))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?U3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,wi.DEBUG,...e),this._logHandler(this,wi.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,wi.VERBOSE,...e),this._logHandler(this,wi.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,wi.INFO,...e),this._logHandler(this,wi.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,wi.WARN,...e),this._logHandler(this,wi.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,wi.ERROR,...e),this._logHandler(this,wi.ERROR,...e)}}const Y3=(o,e)=>e.some(t=>o instanceof t);let l1,c1;function $3(){return l1||(l1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function X3(){return c1||(c1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ib=new WeakMap,$0=new WeakMap,Ob=new WeakMap,I0=new WeakMap,Hp=new WeakMap;function q3(o){const e=new Promise((t,c)=>{const _=()=>{o.removeEventListener("success",ee),o.removeEventListener("error",we)},ee=()=>{t(Dc(o.result)),_()},we=()=>{c(o.error),_()};o.addEventListener("success",ee),o.addEventListener("error",we)});return e.then(t=>{t instanceof IDBCursor&&Ib.set(t,o)}).catch(()=>{}),Hp.set(e,o),e}function Q3(o){if($0.has(o))return;const e=new Promise((t,c)=>{const _=()=>{o.removeEventListener("complete",ee),o.removeEventListener("error",we),o.removeEventListener("abort",we)},ee=()=>{t(),_()},we=()=>{c(o.error||new DOMException("AbortError","AbortError")),_()};o.addEventListener("complete",ee),o.addEventListener("error",we),o.addEventListener("abort",we)});$0.set(o,e)}let X0={get(o,e,t){if(o instanceof IDBTransaction){if(e==="done")return $0.get(o);if(e==="objectStoreNames")return o.objectStoreNames||Ob.get(o);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Dc(o[e])},set(o,e,t){return o[e]=t,!0},has(o,e){return o instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in o}};function J3(o){X0=o(X0)}function e5(o){return o===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const c=o.call(O0(this),e,...t);return Ob.set(c,e.sort?e.sort():[e]),Dc(c)}:X3().includes(o)?function(...e){return o.apply(O0(this),e),Dc(Ib.get(this))}:function(...e){return Dc(o.apply(O0(this),e))}}function t5(o){return typeof o=="function"?e5(o):(o instanceof IDBTransaction&&Q3(o),Y3(o,$3())?new Proxy(o,X0):o)}function Dc(o){if(o instanceof IDBRequest)return q3(o);if(I0.has(o))return I0.get(o);const e=t5(o);return e!==o&&(I0.set(o,e),Hp.set(e,o)),e}const O0=o=>Hp.get(o);function r5(o,e,{blocked:t,upgrade:c,blocking:_,terminated:ee}={}){const we=indexedDB.open(o,e),Fe=Dc(we);return c&&we.addEventListener("upgradeneeded",nt=>{c(Dc(we.result),nt.oldVersion,nt.newVersion,Dc(we.transaction),nt)}),t&&we.addEventListener("blocked",nt=>t(nt.oldVersion,nt.newVersion,nt)),Fe.then(nt=>{ee&&nt.addEventListener("close",()=>ee()),_&&nt.addEventListener("versionchange",st=>_(st.oldVersion,st.newVersion,st))}).catch(()=>{}),Fe}const n5=["get","getKey","getAll","getAllKeys","count"],o5=["put","add","delete","clear"],T0=new Map;function u1(o,e){if(!(o instanceof IDBDatabase&&!(e in o)&&typeof e=="string"))return;if(T0.get(e))return T0.get(e);const t=e.replace(/FromIndex$/,""),c=e!==t,_=o5.includes(t);if(!(t in(c?IDBIndex:IDBObjectStore).prototype)||!(_||n5.includes(t)))return;const ee=async function(we,...Fe){const nt=this.transaction(we,_?"readwrite":"readonly");let st=nt.store;return c&&(st=st.index(Fe.shift())),(await Promise.all([st[t](...Fe),_&&nt.done]))[0]};return T0.set(e,ee),ee}J3(o=>({...o,get:(e,t,c)=>u1(e,t)||o.get(e,t,c),has:(e,t)=>!!u1(e,t)||o.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(a5(t)){const c=t.getImmediate();return`${c.library}/${c.version}`}else return null}).filter(t=>t).join(" ")}}function a5(o){const e=o.getComponent();return(e==null?void 0:e.type)==="VERSION"}const q0="@firebase/app",d1="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc=new Fp("@firebase/app"),s5="@firebase/app-compat",l5="@firebase/analytics-compat",c5="@firebase/analytics",u5="@firebase/app-check-compat",d5="@firebase/app-check",f5="@firebase/auth",h5="@firebase/auth-compat",p5="@firebase/database",m5="@firebase/data-connect",g5="@firebase/database-compat",v5="@firebase/functions",b5="@firebase/functions-compat",y5="@firebase/installations",x5="@firebase/installations-compat",w5="@firebase/messaging",E5="@firebase/messaging-compat",k5="@firebase/performance",_5="@firebase/performance-compat",S5="@firebase/remote-config",C5="@firebase/remote-config-compat",I5="@firebase/storage",O5="@firebase/storage-compat",T5="@firebase/firestore",j5="@firebase/vertexai",P5="@firebase/firestore-compat",M5="firebase",A5="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="[DEFAULT]",D5={[q0]:"fire-core",[s5]:"fire-core-compat",[c5]:"fire-analytics",[l5]:"fire-analytics-compat",[d5]:"fire-app-check",[u5]:"fire-app-check-compat",[f5]:"fire-auth",[h5]:"fire-auth-compat",[p5]:"fire-rtdb",[m5]:"fire-data-connect",[g5]:"fire-rtdb-compat",[v5]:"fire-fn",[b5]:"fire-fn-compat",[y5]:"fire-iid",[x5]:"fire-iid-compat",[w5]:"fire-fcm",[E5]:"fire-fcm-compat",[k5]:"fire-perf",[_5]:"fire-perf-compat",[S5]:"fire-rc",[C5]:"fire-rc-compat",[I5]:"fire-gcs",[O5]:"fire-gcs-compat",[T5]:"fire-fst",[P5]:"fire-fst-compat",[j5]:"fire-vertex","fire-js":"fire-js",[M5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf=new Map,R5=new Map,J0=new Map;function f1(o,e){try{o.container.addComponent(e)}catch(t){bc.debug(`Component ${e.name} failed to register with FirebaseApp ${o.name}`,t)}}function Dd(o){const e=o.name;if(J0.has(e))return bc.debug(`There were multiple attempts to register component ${e}.`),!1;J0.set(e,o);for(const t of qf.values())f1(t,o);for(const t of R5.values())f1(t,o);return!0}function Tb(o,e){const t=o.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),o.container.getProvider(e)}function jb(o){return o==null?!1:o.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Rc=new Sb("app","Firebase",L5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(e,t,c){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=c,this.container.addComponent(new Nu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Rc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb=A5;function Mb(o,e={}){let t=o;typeof e!="object"&&(e={name:e});const c=Object.assign({name:Q0,automaticDataCollectionEnabled:!1},e),_=c.name;if(typeof _!="string"||!_)throw Rc.create("bad-app-name",{appName:String(_)});if(t||(t=wb()),!t)throw Rc.create("no-options");const ee=qf.get(_);if(ee){if(Ad(t,ee.options)&&Ad(c,ee.config))return ee;throw Rc.create("duplicate-app",{appName:_})}const we=new W3(_);for(const nt of J0.values())we.addComponent(nt);const Fe=new N5(t,c,we);return qf.set(_,Fe),Fe}function Ab(o=Q0){const e=qf.get(o);if(!e&&o===Q0&&wb())return Mb();if(!e)throw Rc.create("no-app",{appName:o});return e}function Lc(o,e,t){var c;let _=(c=D5[o])!==null&&c!==void 0?c:o;t&&(_+=`-${t}`);const ee=_.match(/\s|\//),we=e.match(/\s|\//);if(ee||we){const Fe=[`Unable to register library "${_}" with version "${e}":`];ee&&Fe.push(`library name "${_}" contains illegal characters (whitespace or "/")`),ee&&we&&Fe.push("and"),we&&Fe.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bc.warn(Fe.join(" "));return}Dd(new Nu(`${_}-version`,()=>({library:_,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z5="firebase-heartbeat-database",z5=1,Rd="firebase-heartbeat-store";let j0=null;function Db(){return j0||(j0=r5(Z5,z5,{upgrade:(o,e)=>{switch(e){case 0:try{o.createObjectStore(Rd)}catch(t){console.warn(t)}}}}).catch(o=>{throw Rc.create("idb-open",{originalErrorMessage:o.message})})),j0}async function B5(o){try{const t=(await Db()).transaction(Rd),c=await t.objectStore(Rd).get(Rb(o));return await t.done,c}catch(e){if(e instanceof qu)bc.warn(e.message);else{const t=Rc.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});bc.warn(t.message)}}}async function h1(o,e){try{const c=(await Db()).transaction(Rd,"readwrite");await c.objectStore(Rd).put(e,Rb(o)),await c.done}catch(t){if(t instanceof qu)bc.warn(t.message);else{const c=Rc.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});bc.warn(c.message)}}}function Rb(o){return`${o.name}!${o.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F5=1024,H5=30;class W5{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new V5(t),this._heartbeatsCachePromise=this._storage.read().then(c=>(this._heartbeatsCache=c,c))}async triggerHeartbeat(){var e,t;try{const _=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ee=p1();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===ee||this._heartbeatsCache.heartbeats.some(we=>we.date===ee))return;if(this._heartbeatsCache.heartbeats.push({date:ee,agent:_}),this._heartbeatsCache.heartbeats.length>H5){const we=K5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(we,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(c){bc.warn(c)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=p1(),{heartbeatsToSend:c,unsentEntries:_}=U5(this._heartbeatsCache.heartbeats),ee=$f(JSON.stringify({version:2,heartbeats:c}));return this._heartbeatsCache.lastSentHeartbeatDate=t,_.length>0?(this._heartbeatsCache.heartbeats=_,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),ee}catch(t){return bc.warn(t),""}}}function p1(){return new Date().toISOString().substring(0,10)}function U5(o,e=F5){const t=[];let c=o.slice();for(const _ of o){const ee=t.find(we=>we.agent===_.agent);if(ee){if(ee.dates.push(_.date),m1(t)>e){ee.dates.pop();break}}else if(t.push({agent:_.agent,dates:[_.date]}),m1(t)>e){t.pop();break}c=c.slice(1)}return{heartbeatsToSend:t,unsentEntries:c}}class V5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return j3()?P3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await B5(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const _=await this.read();return h1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:_.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const _=await this.read();return h1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:_.lastSentHeartbeatDate,heartbeats:[..._.heartbeats,...e.heartbeats]})}else return}}function m1(o){return $f(JSON.stringify({version:2,heartbeats:o})).length}function K5(o){if(o.length===0)return-1;let e=0,t=o[0].date;for(let c=1;c<o.length;c++)o[c].date<t&&(t=o[c].date,e=c);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G5(o){Dd(new Nu("platform-logger",e=>new i5(e),"PRIVATE")),Dd(new Nu("heartbeat",e=>new W5(e),"PRIVATE")),Lc(q0,d1,o),Lc(q0,d1,"esm2017"),Lc("fire-js","")}G5("");var g1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Nc,Lb;(function(){var o;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(d,j){function L(){}L.prototype=j.prototype,d.D=j.prototype,d.prototype=new L,d.prototype.constructor=d,d.C=function(H,x,S){for(var q=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)q[ve-2]=arguments[ve];return j.prototype[x].apply(H,q)}}function t(){this.blockSize=-1}function c(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(c,t),c.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function _(d,j,L){L||(L=0);var H=Array(16);if(typeof j=="string")for(var x=0;16>x;++x)H[x]=j.charCodeAt(L++)|j.charCodeAt(L++)<<8|j.charCodeAt(L++)<<16|j.charCodeAt(L++)<<24;else for(x=0;16>x;++x)H[x]=j[L++]|j[L++]<<8|j[L++]<<16|j[L++]<<24;j=d.g[0],L=d.g[1],x=d.g[2];var S=d.g[3],q=j+(S^L&(x^S))+H[0]+3614090360&4294967295;j=L+(q<<7&4294967295|q>>>25),q=S+(x^j&(L^x))+H[1]+3905402710&4294967295,S=j+(q<<12&4294967295|q>>>20),q=x+(L^S&(j^L))+H[2]+606105819&4294967295,x=S+(q<<17&4294967295|q>>>15),q=L+(j^x&(S^j))+H[3]+3250441966&4294967295,L=x+(q<<22&4294967295|q>>>10),q=j+(S^L&(x^S))+H[4]+4118548399&4294967295,j=L+(q<<7&4294967295|q>>>25),q=S+(x^j&(L^x))+H[5]+1200080426&4294967295,S=j+(q<<12&4294967295|q>>>20),q=x+(L^S&(j^L))+H[6]+2821735955&4294967295,x=S+(q<<17&4294967295|q>>>15),q=L+(j^x&(S^j))+H[7]+4249261313&4294967295,L=x+(q<<22&4294967295|q>>>10),q=j+(S^L&(x^S))+H[8]+1770035416&4294967295,j=L+(q<<7&4294967295|q>>>25),q=S+(x^j&(L^x))+H[9]+2336552879&4294967295,S=j+(q<<12&4294967295|q>>>20),q=x+(L^S&(j^L))+H[10]+4294925233&4294967295,x=S+(q<<17&4294967295|q>>>15),q=L+(j^x&(S^j))+H[11]+2304563134&4294967295,L=x+(q<<22&4294967295|q>>>10),q=j+(S^L&(x^S))+H[12]+1804603682&4294967295,j=L+(q<<7&4294967295|q>>>25),q=S+(x^j&(L^x))+H[13]+4254626195&4294967295,S=j+(q<<12&4294967295|q>>>20),q=x+(L^S&(j^L))+H[14]+2792965006&4294967295,x=S+(q<<17&4294967295|q>>>15),q=L+(j^x&(S^j))+H[15]+1236535329&4294967295,L=x+(q<<22&4294967295|q>>>10),q=j+(x^S&(L^x))+H[1]+4129170786&4294967295,j=L+(q<<5&4294967295|q>>>27),q=S+(L^x&(j^L))+H[6]+3225465664&4294967295,S=j+(q<<9&4294967295|q>>>23),q=x+(j^L&(S^j))+H[11]+643717713&4294967295,x=S+(q<<14&4294967295|q>>>18),q=L+(S^j&(x^S))+H[0]+3921069994&4294967295,L=x+(q<<20&4294967295|q>>>12),q=j+(x^S&(L^x))+H[5]+3593408605&4294967295,j=L+(q<<5&4294967295|q>>>27),q=S+(L^x&(j^L))+H[10]+38016083&4294967295,S=j+(q<<9&4294967295|q>>>23),q=x+(j^L&(S^j))+H[15]+3634488961&4294967295,x=S+(q<<14&4294967295|q>>>18),q=L+(S^j&(x^S))+H[4]+3889429448&4294967295,L=x+(q<<20&4294967295|q>>>12),q=j+(x^S&(L^x))+H[9]+568446438&4294967295,j=L+(q<<5&4294967295|q>>>27),q=S+(L^x&(j^L))+H[14]+3275163606&4294967295,S=j+(q<<9&4294967295|q>>>23),q=x+(j^L&(S^j))+H[3]+4107603335&4294967295,x=S+(q<<14&4294967295|q>>>18),q=L+(S^j&(x^S))+H[8]+1163531501&4294967295,L=x+(q<<20&4294967295|q>>>12),q=j+(x^S&(L^x))+H[13]+2850285829&4294967295,j=L+(q<<5&4294967295|q>>>27),q=S+(L^x&(j^L))+H[2]+4243563512&4294967295,S=j+(q<<9&4294967295|q>>>23),q=x+(j^L&(S^j))+H[7]+1735328473&4294967295,x=S+(q<<14&4294967295|q>>>18),q=L+(S^j&(x^S))+H[12]+2368359562&4294967295,L=x+(q<<20&4294967295|q>>>12),q=j+(L^x^S)+H[5]+4294588738&4294967295,j=L+(q<<4&4294967295|q>>>28),q=S+(j^L^x)+H[8]+2272392833&4294967295,S=j+(q<<11&4294967295|q>>>21),q=x+(S^j^L)+H[11]+1839030562&4294967295,x=S+(q<<16&4294967295|q>>>16),q=L+(x^S^j)+H[14]+4259657740&4294967295,L=x+(q<<23&4294967295|q>>>9),q=j+(L^x^S)+H[1]+2763975236&4294967295,j=L+(q<<4&4294967295|q>>>28),q=S+(j^L^x)+H[4]+1272893353&4294967295,S=j+(q<<11&4294967295|q>>>21),q=x+(S^j^L)+H[7]+4139469664&4294967295,x=S+(q<<16&4294967295|q>>>16),q=L+(x^S^j)+H[10]+3200236656&4294967295,L=x+(q<<23&4294967295|q>>>9),q=j+(L^x^S)+H[13]+681279174&4294967295,j=L+(q<<4&4294967295|q>>>28),q=S+(j^L^x)+H[0]+3936430074&4294967295,S=j+(q<<11&4294967295|q>>>21),q=x+(S^j^L)+H[3]+3572445317&4294967295,x=S+(q<<16&4294967295|q>>>16),q=L+(x^S^j)+H[6]+76029189&4294967295,L=x+(q<<23&4294967295|q>>>9),q=j+(L^x^S)+H[9]+3654602809&4294967295,j=L+(q<<4&4294967295|q>>>28),q=S+(j^L^x)+H[12]+3873151461&4294967295,S=j+(q<<11&4294967295|q>>>21),q=x+(S^j^L)+H[15]+530742520&4294967295,x=S+(q<<16&4294967295|q>>>16),q=L+(x^S^j)+H[2]+3299628645&4294967295,L=x+(q<<23&4294967295|q>>>9),q=j+(x^(L|~S))+H[0]+4096336452&4294967295,j=L+(q<<6&4294967295|q>>>26),q=S+(L^(j|~x))+H[7]+1126891415&4294967295,S=j+(q<<10&4294967295|q>>>22),q=x+(j^(S|~L))+H[14]+2878612391&4294967295,x=S+(q<<15&4294967295|q>>>17),q=L+(S^(x|~j))+H[5]+4237533241&4294967295,L=x+(q<<21&4294967295|q>>>11),q=j+(x^(L|~S))+H[12]+1700485571&4294967295,j=L+(q<<6&4294967295|q>>>26),q=S+(L^(j|~x))+H[3]+2399980690&4294967295,S=j+(q<<10&4294967295|q>>>22),q=x+(j^(S|~L))+H[10]+4293915773&4294967295,x=S+(q<<15&4294967295|q>>>17),q=L+(S^(x|~j))+H[1]+2240044497&4294967295,L=x+(q<<21&4294967295|q>>>11),q=j+(x^(L|~S))+H[8]+1873313359&4294967295,j=L+(q<<6&4294967295|q>>>26),q=S+(L^(j|~x))+H[15]+4264355552&4294967295,S=j+(q<<10&4294967295|q>>>22),q=x+(j^(S|~L))+H[6]+2734768916&4294967295,x=S+(q<<15&4294967295|q>>>17),q=L+(S^(x|~j))+H[13]+1309151649&4294967295,L=x+(q<<21&4294967295|q>>>11),q=j+(x^(L|~S))+H[4]+4149444226&4294967295,j=L+(q<<6&4294967295|q>>>26),q=S+(L^(j|~x))+H[11]+3174756917&4294967295,S=j+(q<<10&4294967295|q>>>22),q=x+(j^(S|~L))+H[2]+718787259&4294967295,x=S+(q<<15&4294967295|q>>>17),q=L+(S^(x|~j))+H[9]+3951481745&4294967295,d.g[0]=d.g[0]+j&4294967295,d.g[1]=d.g[1]+(x+(q<<21&4294967295|q>>>11))&4294967295,d.g[2]=d.g[2]+x&4294967295,d.g[3]=d.g[3]+S&4294967295}c.prototype.u=function(d,j){j===void 0&&(j=d.length);for(var L=j-this.blockSize,H=this.B,x=this.h,S=0;S<j;){if(x==0)for(;S<=L;)_(this,d,S),S+=this.blockSize;if(typeof d=="string"){for(;S<j;)if(H[x++]=d.charCodeAt(S++),x==this.blockSize){_(this,H),x=0;break}}else for(;S<j;)if(H[x++]=d[S++],x==this.blockSize){_(this,H),x=0;break}}this.h=x,this.o+=j},c.prototype.v=function(){var d=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);d[0]=128;for(var j=1;j<d.length-8;++j)d[j]=0;var L=8*this.o;for(j=d.length-8;j<d.length;++j)d[j]=L&255,L/=256;for(this.u(d),d=Array(16),j=L=0;4>j;++j)for(var H=0;32>H;H+=8)d[L++]=this.g[j]>>>H&255;return d};function ee(d,j){var L=Fe;return Object.prototype.hasOwnProperty.call(L,d)?L[d]:L[d]=j(d)}function we(d,j){this.h=j;for(var L=[],H=!0,x=d.length-1;0<=x;x--){var S=d[x]|0;H&&S==j||(L[x]=S,H=!1)}this.g=L}var Fe={};function nt(d){return-128<=d&&128>d?ee(d,function(j){return new we([j|0],0>j?-1:0)}):new we([d|0],0>d?-1:0)}function st(d){if(isNaN(d)||!isFinite(d))return kt;if(0>d)return A(st(-d));for(var j=[],L=1,H=0;d>=L;H++)j[H]=d/L|0,L*=4294967296;return new we(j,0)}function yt(d,j){if(d.length==0)throw Error("number format error: empty string");if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(d.charAt(0)=="-")return A(yt(d.substring(1),j));if(0<=d.indexOf("-"))throw Error('number format error: interior "-" character');for(var L=st(Math.pow(j,8)),H=kt,x=0;x<d.length;x+=8){var S=Math.min(8,d.length-x),q=parseInt(d.substring(x,x+S),j);8>S?(S=st(Math.pow(j,S)),H=H.j(S).add(st(q))):(H=H.j(L),H=H.add(st(q)))}return H}var kt=nt(0),We=nt(1),ue=nt(16777216);o=we.prototype,o.m=function(){if(r(this))return-A(this).m();for(var d=0,j=1,L=0;L<this.g.length;L++){var H=this.i(L);d+=(0<=H?H:4294967296+H)*j,j*=4294967296}return d},o.toString=function(d){if(d=d||10,2>d||36<d)throw Error("radix out of range: "+d);if(n(this))return"0";if(r(this))return"-"+A(this).toString(d);for(var j=st(Math.pow(d,6)),L=this,H="";;){var x=N(L,j).g;L=k(L,x.j(j));var S=((0<L.g.length?L.g[0]:L.h)>>>0).toString(d);if(L=x,n(L))return S+H;for(;6>S.length;)S="0"+S;H=S+H}},o.i=function(d){return 0>d?0:d<this.g.length?this.g[d]:this.h};function n(d){if(d.h!=0)return!1;for(var j=0;j<d.g.length;j++)if(d.g[j]!=0)return!1;return!0}function r(d){return d.h==-1}o.l=function(d){return d=k(this,d),r(d)?-1:n(d)?0:1};function A(d){for(var j=d.g.length,L=[],H=0;H<j;H++)L[H]=~d.g[H];return new we(L,~d.h).add(We)}o.abs=function(){return r(this)?A(this):this},o.add=function(d){for(var j=Math.max(this.g.length,d.g.length),L=[],H=0,x=0;x<=j;x++){var S=H+(this.i(x)&65535)+(d.i(x)&65535),q=(S>>>16)+(this.i(x)>>>16)+(d.i(x)>>>16);H=q>>>16,S&=65535,q&=65535,L[x]=q<<16|S}return new we(L,L[L.length-1]&-2147483648?-1:0)};function k(d,j){return d.add(A(j))}o.j=function(d){if(n(this)||n(d))return kt;if(r(this))return r(d)?A(this).j(A(d)):A(A(this).j(d));if(r(d))return A(this.j(A(d)));if(0>this.l(ue)&&0>d.l(ue))return st(this.m()*d.m());for(var j=this.g.length+d.g.length,L=[],H=0;H<2*j;H++)L[H]=0;for(H=0;H<this.g.length;H++)for(var x=0;x<d.g.length;x++){var S=this.i(H)>>>16,q=this.i(H)&65535,ve=d.i(x)>>>16,ke=d.i(x)&65535;L[2*H+2*x]+=q*ke,b(L,2*H+2*x),L[2*H+2*x+1]+=S*ke,b(L,2*H+2*x+1),L[2*H+2*x+1]+=q*ve,b(L,2*H+2*x+1),L[2*H+2*x+2]+=S*ve,b(L,2*H+2*x+2)}for(H=0;H<j;H++)L[H]=L[2*H+1]<<16|L[2*H];for(H=j;H<2*j;H++)L[H]=0;return new we(L,0)};function b(d,j){for(;(d[j]&65535)!=d[j];)d[j+1]+=d[j]>>>16,d[j]&=65535,j++}function w(d,j){this.g=d,this.h=j}function N(d,j){if(n(j))throw Error("division by zero");if(n(d))return new w(kt,kt);if(r(d))return j=N(A(d),j),new w(A(j.g),A(j.h));if(r(j))return j=N(d,A(j)),new w(A(j.g),j.h);if(30<d.g.length){if(r(d)||r(j))throw Error("slowDivide_ only works with positive integers.");for(var L=We,H=j;0>=H.l(d);)L=M(L),H=M(H);var x=f(L,1),S=f(H,1);for(H=f(H,2),L=f(L,2);!n(H);){var q=S.add(H);0>=q.l(d)&&(x=x.add(L),S=q),H=f(H,1),L=f(L,1)}return j=k(d,x.j(j)),new w(x,j)}for(x=kt;0<=d.l(j);){for(L=Math.max(1,Math.floor(d.m()/j.m())),H=Math.ceil(Math.log(L)/Math.LN2),H=48>=H?1:Math.pow(2,H-48),S=st(L),q=S.j(j);r(q)||0<q.l(d);)L-=H,S=st(L),q=S.j(j);n(S)&&(S=We),x=x.add(S),d=k(d,q)}return new w(x,d)}o.A=function(d){return N(this,d).h},o.and=function(d){for(var j=Math.max(this.g.length,d.g.length),L=[],H=0;H<j;H++)L[H]=this.i(H)&d.i(H);return new we(L,this.h&d.h)},o.or=function(d){for(var j=Math.max(this.g.length,d.g.length),L=[],H=0;H<j;H++)L[H]=this.i(H)|d.i(H);return new we(L,this.h|d.h)},o.xor=function(d){for(var j=Math.max(this.g.length,d.g.length),L=[],H=0;H<j;H++)L[H]=this.i(H)^d.i(H);return new we(L,this.h^d.h)};function M(d){for(var j=d.g.length+1,L=[],H=0;H<j;H++)L[H]=d.i(H)<<1|d.i(H-1)>>>31;return new we(L,d.h)}function f(d,j){var L=j>>5;j%=32;for(var H=d.g.length-L,x=[],S=0;S<H;S++)x[S]=0<j?d.i(S+L)>>>j|d.i(S+L+1)<<32-j:d.i(S+L);return new we(x,d.h)}c.prototype.digest=c.prototype.v,c.prototype.reset=c.prototype.s,c.prototype.update=c.prototype.u,Lb=c,we.prototype.add=we.prototype.add,we.prototype.multiply=we.prototype.j,we.prototype.modulo=we.prototype.A,we.prototype.compare=we.prototype.l,we.prototype.toNumber=we.prototype.m,we.prototype.toString=we.prototype.toString,we.prototype.getBits=we.prototype.i,we.fromNumber=st,we.fromString=yt,Nc=we}).apply(typeof g1<"u"?g1:typeof self<"u"?self:typeof window<"u"?window:{});var Mf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Nb,yd,Zb,Wf,ep,zb,Bb,Fb;(function(){var o,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(me,ot,mt){return me==Array.prototype||me==Object.prototype||(me[ot]=mt.value),me};function t(me){me=[typeof globalThis=="object"&&globalThis,me,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mf=="object"&&Mf];for(var ot=0;ot<me.length;++ot){var mt=me[ot];if(mt&&mt.Math==Math)return mt}throw Error("Cannot find global object")}var c=t(this);function _(me,ot){if(ot)e:{var mt=c;me=me.split(".");for(var Ht=0;Ht<me.length-1;Ht++){var Hr=me[Ht];if(!(Hr in mt))break e;mt=mt[Hr]}me=me[me.length-1],Ht=mt[me],ot=ot(Ht),ot!=Ht&&ot!=null&&e(mt,me,{configurable:!0,writable:!0,value:ot})}}function ee(me,ot){me instanceof String&&(me+="");var mt=0,Ht=!1,Hr={next:function(){if(!Ht&&mt<me.length){var sn=mt++;return{value:ot(sn,me[sn]),done:!1}}return Ht=!0,{done:!0,value:void 0}}};return Hr[Symbol.iterator]=function(){return Hr},Hr}_("Array.prototype.values",function(me){return me||function(){return ee(this,function(ot,mt){return mt})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var we=we||{},Fe=this||self;function nt(me){var ot=typeof me;return ot=ot!="object"?ot:me?Array.isArray(me)?"array":ot:"null",ot=="array"||ot=="object"&&typeof me.length=="number"}function st(me){var ot=typeof me;return ot=="object"&&me!=null||ot=="function"}function yt(me,ot,mt){return me.call.apply(me.bind,arguments)}function kt(me,ot,mt){if(!me)throw Error();if(2<arguments.length){var Ht=Array.prototype.slice.call(arguments,2);return function(){var Hr=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Hr,Ht),me.apply(ot,Hr)}}return function(){return me.apply(ot,arguments)}}function We(me,ot,mt){return We=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?yt:kt,We.apply(null,arguments)}function ue(me,ot){var mt=Array.prototype.slice.call(arguments,1);return function(){var Ht=mt.slice();return Ht.push.apply(Ht,arguments),me.apply(this,Ht)}}function n(me,ot){function mt(){}mt.prototype=ot.prototype,me.aa=ot.prototype,me.prototype=new mt,me.prototype.constructor=me,me.Qb=function(Ht,Hr,sn){for(var Fn=Array(arguments.length-2),ri=2;ri<arguments.length;ri++)Fn[ri-2]=arguments[ri];return ot.prototype[Hr].apply(Ht,Fn)}}function r(me){const ot=me.length;if(0<ot){const mt=Array(ot);for(let Ht=0;Ht<ot;Ht++)mt[Ht]=me[Ht];return mt}return[]}function A(me,ot){for(let mt=1;mt<arguments.length;mt++){const Ht=arguments[mt];if(nt(Ht)){const Hr=me.length||0,sn=Ht.length||0;me.length=Hr+sn;for(let Fn=0;Fn<sn;Fn++)me[Hr+Fn]=Ht[Fn]}else me.push(Ht)}}class k{constructor(ot,mt){this.i=ot,this.j=mt,this.h=0,this.g=null}get(){let ot;return 0<this.h?(this.h--,ot=this.g,this.g=ot.next,ot.next=null):ot=this.i(),ot}}function b(me){return/^[\s\xa0]*$/.test(me)}function w(){var me=Fe.navigator;return me&&(me=me.userAgent)?me:""}function N(me){return N[" "](me),me}N[" "]=function(){};var M=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function f(me,ot,mt){for(const Ht in me)ot.call(mt,me[Ht],Ht,me)}function d(me,ot){for(const mt in me)ot.call(void 0,me[mt],mt,me)}function j(me){const ot={};for(const mt in me)ot[mt]=me[mt];return ot}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function H(me,ot){let mt,Ht;for(let Hr=1;Hr<arguments.length;Hr++){Ht=arguments[Hr];for(mt in Ht)me[mt]=Ht[mt];for(let sn=0;sn<L.length;sn++)mt=L[sn],Object.prototype.hasOwnProperty.call(Ht,mt)&&(me[mt]=Ht[mt])}}function x(me){var ot=1;me=me.split(":");const mt=[];for(;0<ot&&me.length;)mt.push(me.shift()),ot--;return me.length&&mt.push(me.join(":")),mt}function S(me){Fe.setTimeout(()=>{throw me},0)}function q(){var me=Q;let ot=null;return me.g&&(ot=me.g,me.g=me.g.next,me.g||(me.h=null),ot.next=null),ot}class ve{constructor(){this.h=this.g=null}add(ot,mt){const Ht=ke.get();Ht.set(ot,mt),this.h?this.h.next=Ht:this.g=Ht,this.h=Ht}}var ke=new k(()=>new Se,me=>me.reset());class Se{constructor(){this.next=this.g=this.h=null}set(ot,mt){this.h=ot,this.g=mt,this.next=null}reset(){this.next=this.g=this.h=null}}let ge,J=!1,Q=new ve,K=()=>{const me=Fe.Promise.resolve(void 0);ge=()=>{me.then(T)}};var T=()=>{for(var me;me=q();){try{me.h.call(me.g)}catch(mt){S(mt)}var ot=ke;ot.j(me),100>ot.h&&(ot.h++,me.next=ot.g,ot.g=me)}J=!1};function B(){this.s=this.s,this.C=this.C}B.prototype.s=!1,B.prototype.ma=function(){this.s||(this.s=!0,this.N())},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(me,ot){this.type=me,this.g=this.target=ot,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var R=function(){if(!Fe.addEventListener||!Object.defineProperty)return!1;var me=!1,ot=Object.defineProperty({},"passive",{get:function(){me=!0}});try{const mt=()=>{};Fe.addEventListener("test",mt,ot),Fe.removeEventListener("test",mt,ot)}catch{}return me}();function E(me,ot){if(O.call(this,me?me.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,me){var mt=this.type=me.type,Ht=me.changedTouches&&me.changedTouches.length?me.changedTouches[0]:null;if(this.target=me.target||me.srcElement,this.g=ot,ot=me.relatedTarget){if(M){e:{try{N(ot.nodeName);var Hr=!0;break e}catch{}Hr=!1}Hr||(ot=null)}}else mt=="mouseover"?ot=me.fromElement:mt=="mouseout"&&(ot=me.toElement);this.relatedTarget=ot,Ht?(this.clientX=Ht.clientX!==void 0?Ht.clientX:Ht.pageX,this.clientY=Ht.clientY!==void 0?Ht.clientY:Ht.pageY,this.screenX=Ht.screenX||0,this.screenY=Ht.screenY||0):(this.clientX=me.clientX!==void 0?me.clientX:me.pageX,this.clientY=me.clientY!==void 0?me.clientY:me.pageY,this.screenX=me.screenX||0,this.screenY=me.screenY||0),this.button=me.button,this.key=me.key||"",this.ctrlKey=me.ctrlKey,this.altKey=me.altKey,this.shiftKey=me.shiftKey,this.metaKey=me.metaKey,this.pointerId=me.pointerId||0,this.pointerType=typeof me.pointerType=="string"?me.pointerType:v[me.pointerType]||"",this.state=me.state,this.i=me,me.defaultPrevented&&E.aa.h.call(this)}}n(E,O);var v={2:"touch",3:"pen",4:"mouse"};E.prototype.h=function(){E.aa.h.call(this);var me=this.i;me.preventDefault?me.preventDefault():me.returnValue=!1};var i="closure_listenable_"+(1e6*Math.random()|0),a=0;function y(me,ot,mt,Ht,Hr){this.listener=me,this.proxy=null,this.src=ot,this.type=mt,this.capture=!!Ht,this.ha=Hr,this.key=++a,this.da=this.fa=!1}function h(me){me.da=!0,me.listener=null,me.proxy=null,me.src=null,me.ha=null}function m(me){this.src=me,this.g={},this.h=0}m.prototype.add=function(me,ot,mt,Ht,Hr){var sn=me.toString();me=this.g[sn],me||(me=this.g[sn]=[],this.h++);var Fn=U(me,ot,Ht,Hr);return-1<Fn?(ot=me[Fn],mt||(ot.fa=!1)):(ot=new y(ot,this.src,sn,!!Ht,Hr),ot.fa=mt,me.push(ot)),ot};function C(me,ot){var mt=ot.type;if(mt in me.g){var Ht=me.g[mt],Hr=Array.prototype.indexOf.call(Ht,ot,void 0),sn;(sn=0<=Hr)&&Array.prototype.splice.call(Ht,Hr,1),sn&&(h(ot),me.g[mt].length==0&&(delete me.g[mt],me.h--))}}function U(me,ot,mt,Ht){for(var Hr=0;Hr<me.length;++Hr){var sn=me[Hr];if(!sn.da&&sn.listener==ot&&sn.capture==!!mt&&sn.ha==Ht)return Hr}return-1}var V="closure_lm_"+(1e6*Math.random()|0),D={};function P(me,ot,mt,Ht,Hr){if(Array.isArray(ot)){for(var sn=0;sn<ot.length;sn++)P(me,ot[sn],mt,Ht,Hr);return null}return mt=be(mt),me&&me[i]?me.K(ot,mt,st(Ht)?!!Ht.capture:!1,Hr):F(me,ot,mt,!1,Ht,Hr)}function F(me,ot,mt,Ht,Hr,sn){if(!ot)throw Error("Invalid event type");var Fn=st(Hr)?!!Hr.capture:!!Hr,ri=ne(me);if(ri||(me[V]=ri=new m(me)),mt=ri.add(ot,mt,Ht,Fn,sn),mt.proxy)return mt;if(Ht=X(),mt.proxy=Ht,Ht.src=me,Ht.listener=mt,me.addEventListener)R||(Hr=Fn),Hr===void 0&&(Hr=!1),me.addEventListener(ot.toString(),Ht,Hr);else if(me.attachEvent)me.attachEvent(fe(ot.toString()),Ht);else if(me.addListener&&me.removeListener)me.addListener(Ht);else throw Error("addEventListener and attachEvent are unavailable.");return mt}function X(){function me(mt){return ot.call(me.src,me.listener,mt)}const ot=pe;return me}function le(me,ot,mt,Ht,Hr){if(Array.isArray(ot))for(var sn=0;sn<ot.length;sn++)le(me,ot[sn],mt,Ht,Hr);else Ht=st(Ht)?!!Ht.capture:!!Ht,mt=be(mt),me&&me[i]?(me=me.i,ot=String(ot).toString(),ot in me.g&&(sn=me.g[ot],mt=U(sn,mt,Ht,Hr),-1<mt&&(h(sn[mt]),Array.prototype.splice.call(sn,mt,1),sn.length==0&&(delete me.g[ot],me.h--)))):me&&(me=ne(me))&&(ot=me.g[ot.toString()],me=-1,ot&&(me=U(ot,mt,Ht,Hr)),(mt=-1<me?ot[me]:null)&&de(mt))}function de(me){if(typeof me!="number"&&me&&!me.da){var ot=me.src;if(ot&&ot[i])C(ot.i,me);else{var mt=me.type,Ht=me.proxy;ot.removeEventListener?ot.removeEventListener(mt,Ht,me.capture):ot.detachEvent?ot.detachEvent(fe(mt),Ht):ot.addListener&&ot.removeListener&&ot.removeListener(Ht),(mt=ne(ot))?(C(mt,me),mt.h==0&&(mt.src=null,ot[V]=null)):h(me)}}}function fe(me){return me in D?D[me]:D[me]="on"+me}function pe(me,ot){if(me.da)me=!0;else{ot=new E(ot,this);var mt=me.listener,Ht=me.ha||me.src;me.fa&&de(me),me=mt.call(Ht,ot)}return me}function ne(me){return me=me[V],me instanceof m?me:null}var oe="__closure_events_fn_"+(1e9*Math.random()>>>0);function be(me){return typeof me=="function"?me:(me[oe]||(me[oe]=function(ot){return me.handleEvent(ot)}),me[oe])}function Me(){B.call(this),this.i=new m(this),this.M=this,this.F=null}n(Me,B),Me.prototype[i]=!0,Me.prototype.removeEventListener=function(me,ot,mt,Ht){le(this,me,ot,mt,Ht)};function Ge(me,ot){var mt,Ht=me.F;if(Ht)for(mt=[];Ht;Ht=Ht.F)mt.push(Ht);if(me=me.M,Ht=ot.type||ot,typeof ot=="string")ot=new O(ot,me);else if(ot instanceof O)ot.target=ot.target||me;else{var Hr=ot;ot=new O(Ht,me),H(ot,Hr)}if(Hr=!0,mt)for(var sn=mt.length-1;0<=sn;sn--){var Fn=ot.g=mt[sn];Hr=qe(Fn,Ht,!0,ot)&&Hr}if(Fn=ot.g=me,Hr=qe(Fn,Ht,!0,ot)&&Hr,Hr=qe(Fn,Ht,!1,ot)&&Hr,mt)for(sn=0;sn<mt.length;sn++)Fn=ot.g=mt[sn],Hr=qe(Fn,Ht,!1,ot)&&Hr}Me.prototype.N=function(){if(Me.aa.N.call(this),this.i){var me=this.i,ot;for(ot in me.g){for(var mt=me.g[ot],Ht=0;Ht<mt.length;Ht++)h(mt[Ht]);delete me.g[ot],me.h--}}this.F=null},Me.prototype.K=function(me,ot,mt,Ht){return this.i.add(String(me),ot,!1,mt,Ht)},Me.prototype.L=function(me,ot,mt,Ht){return this.i.add(String(me),ot,!0,mt,Ht)};function qe(me,ot,mt,Ht){if(ot=me.i.g[String(ot)],!ot)return!0;ot=ot.concat();for(var Hr=!0,sn=0;sn<ot.length;++sn){var Fn=ot[sn];if(Fn&&!Fn.da&&Fn.capture==mt){var ri=Fn.listener,Mi=Fn.ha||Fn.src;Fn.fa&&C(me.i,Fn),Hr=ri.call(Mi,Ht)!==!1&&Hr}}return Hr&&!Ht.defaultPrevented}function Ne(me,ot,mt){if(typeof me=="function")mt&&(me=We(me,mt));else if(me&&typeof me.handleEvent=="function")me=We(me.handleEvent,me);else throw Error("Invalid listener argument");return 2147483647<Number(ot)?-1:Fe.setTimeout(me,ot||0)}function Pe(me){me.g=Ne(()=>{me.g=null,me.i&&(me.i=!1,Pe(me))},me.l);const ot=me.h;me.h=null,me.m.apply(null,ot)}class Re extends B{constructor(ot,mt){super(),this.m=ot,this.l=mt,this.h=null,this.i=!1,this.g=null}j(ot){this.h=arguments,this.g?this.i=!0:Pe(this)}N(){super.N(),this.g&&(Fe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ze(me){B.call(this),this.h=me,this.g={}}n(Ze,B);var Ie=[];function Ee(me){f(me.g,function(ot,mt){this.g.hasOwnProperty(mt)&&de(ot)},me),me.g={}}Ze.prototype.N=function(){Ze.aa.N.call(this),Ee(this)},Ze.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xe=Fe.JSON.stringify,Z=Fe.JSON.parse,u=class{stringify(me){return Fe.JSON.stringify(me,void 0)}parse(me){return Fe.JSON.parse(me,void 0)}};function g(){}g.prototype.h=null;function z(me){return me.h||(me.h=me.i())}function Y(){}var te={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ae(){O.call(this,"d")}n(ae,O);function ce(){O.call(this,"c")}n(ce,O);var ye={},je=null;function Be(){return je=je||new Me}ye.La="serverreachability";function Qe(me){O.call(this,ye.La,me)}n(Qe,O);function rt(me){const ot=Be();Ge(ot,new Qe(ot))}ye.STAT_EVENT="statevent";function Ye(me,ot){O.call(this,ye.STAT_EVENT,me),this.stat=ot}n(Ye,O);function tt(me){const ot=Be();Ge(ot,new Ye(ot,me))}ye.Ma="timingevent";function ht(me,ot){O.call(this,ye.Ma,me),this.size=ot}n(ht,O);function gt(me,ot){if(typeof me!="function")throw Error("Fn must not be null and must be a function");return Fe.setTimeout(function(){me()},ot)}function Ue(){this.g=!0}Ue.prototype.xa=function(){this.g=!1};function Ce(me,ot,mt,Ht,Hr,sn){me.info(function(){if(me.g)if(sn)for(var Fn="",ri=sn.split("&"),Mi=0;Mi<ri.length;Mi++){var Co=ri[Mi].split("=");if(1<Co.length){var ai=Co[0];Co=Co[1];var hi=ai.split("_");Fn=2<=hi.length&&hi[1]=="type"?Fn+(ai+"="+Co+"&"):Fn+(ai+"=redacted&")}}else Fn=null;else Fn=sn;return"XMLHTTP REQ ("+Ht+") [attempt "+Hr+"]: "+ot+`
`+mt+`
`+Fn})}function Le(me,ot,mt,Ht,Hr,sn,Fn){me.info(function(){return"XMLHTTP RESP ("+Ht+") [ attempt "+Hr+"]: "+ot+`
`+mt+`
`+sn+" "+Fn})}function et(me,ot,mt,Ht){me.info(function(){return"XMLHTTP TEXT ("+ot+"): "+xt(me,mt)+(Ht?" "+Ht:"")})}function ft(me,ot){me.info(function(){return"TIMEOUT: "+ot})}Ue.prototype.info=function(){};function xt(me,ot){if(!me.g)return ot;if(!ot)return null;try{var mt=JSON.parse(ot);if(mt){for(me=0;me<mt.length;me++)if(Array.isArray(mt[me])){var Ht=mt[me];if(!(2>Ht.length)){var Hr=Ht[1];if(Array.isArray(Hr)&&!(1>Hr.length)){var sn=Hr[0];if(sn!="noop"&&sn!="stop"&&sn!="close")for(var Fn=1;Fn<Hr.length;Fn++)Hr[Fn]=""}}}}return xe(mt)}catch{return ot}}var wt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Rt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},It;function At(){}n(At,g),At.prototype.g=function(){return new XMLHttpRequest},At.prototype.i=function(){return{}},It=new At;function Xt(me,ot,mt,Ht){this.j=me,this.i=ot,this.l=mt,this.R=Ht||1,this.U=new Ze(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new tr}function tr(){this.i=null,this.g="",this.h=!1}var Gt={},Jt={};function gr(me,ot,mt){me.L=1,me.v=Zr(Nt(ot)),me.m=mt,me.P=!0,Pt(me,null)}function Pt(me,ot){me.F=Date.now(),Tt(me),me.A=Nt(me.v);var mt=me.A,Ht=me.R;Array.isArray(Ht)||(Ht=[String(Ht)]),go(mt.i,"t",Ht),me.C=0,mt=me.j.J,me.h=new tr,me.g=da(me.j,mt?ot:null,!me.m),0<me.O&&(me.M=new Re(We(me.Y,me,me.g),me.O)),ot=me.U,mt=me.g,Ht=me.ca;var Hr="readystatechange";Array.isArray(Hr)||(Hr&&(Ie[0]=Hr.toString()),Hr=Ie);for(var sn=0;sn<Hr.length;sn++){var Fn=P(mt,Hr[sn],Ht||ot.handleEvent,!1,ot.h||ot);if(!Fn)break;ot.g[Fn.key]=Fn}ot=me.H?j(me.H):{},me.m?(me.u||(me.u="POST"),ot["Content-Type"]="application/x-www-form-urlencoded",me.g.ea(me.A,me.u,me.m,ot)):(me.u="GET",me.g.ea(me.A,me.u,null,ot)),rt(),Ce(me.i,me.u,me.A,me.l,me.R,me.m)}Xt.prototype.ca=function(me){me=me.target;const ot=this.M;ot&&mn(me)==3?ot.j():this.Y(me)},Xt.prototype.Y=function(me){try{if(me==this.g)e:{const hi=mn(this.g);var ot=this.g.Ba();const Ai=this.g.Z();if(!(3>hi)&&(hi!=3||this.g&&(this.h.h||this.g.oa()||Hn(this.g)))){this.J||hi!=4||ot==7||(ot==8||0>=Ai?rt(3):rt(2)),Wt(this);var mt=this.g.Z();this.X=mt;t:if(St(this)){var Ht=Hn(this.g);me="";var Hr=Ht.length,sn=mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){sr(this),qt(this);var Fn="";break t}this.h.i=new Fe.TextDecoder}for(ot=0;ot<Hr;ot++)this.h.h=!0,me+=this.h.i.decode(Ht[ot],{stream:!(sn&&ot==Hr-1)});Ht.length=0,this.h.g+=me,this.C=0,Fn=this.h.g}else Fn=this.g.oa();if(this.o=mt==200,Le(this.i,this.u,this.A,this.l,this.R,hi,mt),this.o){if(this.T&&!this.K){t:{if(this.g){var ri,Mi=this.g;if((ri=Mi.g?Mi.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(ri)){var Co=ri;break t}}Co=null}if(mt=Co)et(this.i,this.l,mt,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cr(this,mt);else{this.o=!1,this.s=3,tt(12),sr(this),qt(this);break e}}if(this.P){mt=!0;let Wi;for(;!this.J&&this.C<Fn.length;)if(Wi=Zt(this,Fn),Wi==Jt){hi==4&&(this.s=4,tt(14),mt=!1),et(this.i,this.l,null,"[Incomplete Response]");break}else if(Wi==Gt){this.s=4,tt(15),et(this.i,this.l,Fn,"[Invalid Chunk]"),mt=!1;break}else et(this.i,this.l,Wi,null),cr(this,Wi);if(St(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),hi!=4||Fn.length!=0||this.h.h||(this.s=1,tt(16),mt=!1),this.o=this.o&&mt,!mt)et(this.i,this.l,Fn,"[Invalid Chunked Response]"),sr(this),qt(this);else if(0<Fn.length&&!this.W){this.W=!0;var ai=this.j;ai.g==this&&ai.ba&&!ai.M&&(ai.j.info("Great, no buffering proxy detected. Bytes received: "+Fn.length),Qi(ai),ai.M=!0,tt(11))}}else et(this.i,this.l,Fn,null),cr(this,Fn);hi==4&&sr(this),this.o&&!this.J&&(hi==4?ks(this.j,this):(this.o=!1,Tt(this)))}else eo(this.g),mt==400&&0<Fn.indexOf("Unknown SID")?(this.s=3,tt(12)):(this.s=0,tt(13)),sr(this),qt(this)}}}catch{}finally{}};function St(me){return me.g?me.u=="GET"&&me.L!=2&&me.j.Ca:!1}function Zt(me,ot){var mt=me.C,Ht=ot.indexOf(`
`,mt);return Ht==-1?Jt:(mt=Number(ot.substring(mt,Ht)),isNaN(mt)?Gt:(Ht+=1,Ht+mt>ot.length?Jt:(ot=ot.slice(Ht,Ht+mt),me.C=Ht+mt,ot)))}Xt.prototype.cancel=function(){this.J=!0,sr(this)};function Tt(me){me.S=Date.now()+me.I,Lt(me,me.I)}function Lt(me,ot){if(me.B!=null)throw Error("WatchDog timer not null");me.B=gt(We(me.ba,me),ot)}function Wt(me){me.B&&(Fe.clearTimeout(me.B),me.B=null)}Xt.prototype.ba=function(){this.B=null;const me=Date.now();0<=me-this.S?(ft(this.i,this.A),this.L!=2&&(rt(),tt(17)),sr(this),this.s=2,qt(this)):Lt(this,this.S-me)};function qt(me){me.j.G==0||me.J||ks(me.j,me)}function sr(me){Wt(me);var ot=me.M;ot&&typeof ot.ma=="function"&&ot.ma(),me.M=null,Ee(me.U),me.g&&(ot=me.g,me.g=null,ot.abort(),ot.ma())}function cr(me,ot){try{var mt=me.j;if(mt.G!=0&&(mt.g==me||Ft(mt.h,me))){if(!me.K&&Ft(mt.h,me)&&mt.G==3){try{var Ht=mt.Da.g.parse(ot)}catch{Ht=null}if(Array.isArray(Ht)&&Ht.length==3){var Hr=Ht;if(Hr[0]==0){e:if(!mt.u){if(mt.g)if(mt.g.F+3e3<me.F)Ha(mt),On(mt);else break e;bi(mt),tt(18)}}else mt.za=Hr[1],0<mt.za-mt.T&&37500>Hr[2]&&mt.F&&mt.v==0&&!mt.C&&(mt.C=gt(We(mt.Za,mt),6e3));if(1>=pr(mt.h)&&mt.ca){try{mt.ca()}catch{}mt.ca=void 0}}else Da(mt,11)}else if((me.K||mt.g==me)&&Ha(mt),!b(ot))for(Hr=mt.Da.g.parse(ot),ot=0;ot<Hr.length;ot++){let Co=Hr[ot];if(mt.T=Co[0],Co=Co[1],mt.G==2)if(Co[0]=="c"){mt.K=Co[1],mt.ia=Co[2];const ai=Co[3];ai!=null&&(mt.la=ai,mt.j.info("VER="+mt.la));const hi=Co[4];hi!=null&&(mt.Aa=hi,mt.j.info("SVER="+mt.Aa));const Ai=Co[5];Ai!=null&&typeof Ai=="number"&&0<Ai&&(Ht=1.5*Ai,mt.L=Ht,mt.j.info("backChannelRequestTimeoutMs_="+Ht)),Ht=mt;const Wi=me.g;if(Wi){const us=Wi.g?Wi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(us){var sn=Ht.h;sn.g||us.indexOf("spdy")==-1&&us.indexOf("quic")==-1&&us.indexOf("h2")==-1||(sn.j=sn.l,sn.g=new Set,sn.h&&(or(sn,sn.h),sn.h=null))}if(Ht.D){const ds=Wi.g?Wi.g.getResponseHeader("X-HTTP-Session-Id"):null;ds&&(Ht.ya=ds,Cr(Ht.I,Ht.D,ds))}}mt.G=3,mt.l&&mt.l.ua(),mt.ba&&(mt.R=Date.now()-me.F,mt.j.info("Handshake RTT: "+mt.R+"ms")),Ht=mt;var Fn=me;if(Ht.qa=Ca(Ht,Ht.J?Ht.ia:null,Ht.W),Fn.K){rr(Ht.h,Fn);var ri=Fn,Mi=Ht.L;Mi&&(ri.I=Mi),ri.B&&(Wt(ri),Tt(ri)),Ht.g=Fn}else Oi(Ht);0<mt.i.length&&Yn(mt)}else Co[0]!="stop"&&Co[0]!="close"||Da(mt,7);else mt.G==3&&(Co[0]=="stop"||Co[0]=="close"?Co[0]=="stop"?Da(mt,7):Fo(mt):Co[0]!="noop"&&mt.l&&mt.l.ta(Co),mt.v=0)}}rt(4)}catch{}}var Sr=class{constructor(me,ot){this.g=me,this.map=ot}};function Mr(me){this.l=me||10,Fe.PerformanceNavigationTiming?(me=Fe.performance.getEntriesByType("navigation"),me=0<me.length&&(me[0].nextHopProtocol=="hq"||me[0].nextHopProtocol=="h2")):me=!!(Fe.chrome&&Fe.chrome.loadTimes&&Fe.chrome.loadTimes()&&Fe.chrome.loadTimes().wasFetchedViaSpdy),this.j=me?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function zr(me){return me.h?!0:me.g?me.g.size>=me.j:!1}function pr(me){return me.h?1:me.g?me.g.size:0}function Ft(me,ot){return me.h?me.h==ot:me.g?me.g.has(ot):!1}function or(me,ot){me.g?me.g.add(ot):me.h=ot}function rr(me,ot){me.h&&me.h==ot?me.h=null:me.g&&me.g.has(ot)&&me.g.delete(ot)}Mr.prototype.cancel=function(){if(this.i=Or(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const me of this.g.values())me.cancel();this.g.clear()}};function Or(me){if(me.h!=null)return me.i.concat(me.h.D);if(me.g!=null&&me.g.size!==0){let ot=me.i;for(const mt of me.g.values())ot=ot.concat(mt.D);return ot}return r(me.i)}function Kr(me){if(me.V&&typeof me.V=="function")return me.V();if(typeof Map<"u"&&me instanceof Map||typeof Set<"u"&&me instanceof Set)return Array.from(me.values());if(typeof me=="string")return me.split("");if(nt(me)){for(var ot=[],mt=me.length,Ht=0;Ht<mt;Ht++)ot.push(me[Ht]);return ot}ot=[],mt=0;for(Ht in me)ot[mt++]=me[Ht];return ot}function Xr(me){if(me.na&&typeof me.na=="function")return me.na();if(!me.V||typeof me.V!="function"){if(typeof Map<"u"&&me instanceof Map)return Array.from(me.keys());if(!(typeof Set<"u"&&me instanceof Set)){if(nt(me)||typeof me=="string"){var ot=[];me=me.length;for(var mt=0;mt<me;mt++)ot.push(mt);return ot}ot=[],mt=0;for(const Ht in me)ot[mt++]=Ht;return ot}}}function cn(me,ot){if(me.forEach&&typeof me.forEach=="function")me.forEach(ot,void 0);else if(nt(me)||typeof me=="string")Array.prototype.forEach.call(me,ot,void 0);else for(var mt=Xr(me),Ht=Kr(me),Hr=Ht.length,sn=0;sn<Hr;sn++)ot.call(void 0,Ht[sn],mt&&mt[sn],me)}var en=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ur(me,ot){if(me){me=me.split("&");for(var mt=0;mt<me.length;mt++){var Ht=me[mt].indexOf("="),Hr=null;if(0<=Ht){var sn=me[mt].substring(0,Ht);Hr=me[mt].substring(Ht+1)}else sn=me[mt];ot(sn,Hr?decodeURIComponent(Hr.replace(/\+/g," ")):"")}}}function Dt(me){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,me instanceof Dt){this.h=me.h,Ut(this,me.j),this.o=me.o,this.g=me.g,hr(this,me.s),this.l=me.l;var ot=me.i,mt=new an;mt.i=ot.i,ot.g&&(mt.g=new Map(ot.g),mt.h=ot.h),jr(this,mt),this.m=me.m}else me&&(ot=String(me).match(en))?(this.h=!1,Ut(this,ot[1]||"",!0),this.o=Dr(ot[2]||""),this.g=Dr(ot[3]||"",!0),hr(this,ot[4]),this.l=Dr(ot[5]||"",!0),jr(this,ot[6]||"",!0),this.m=Dr(ot[7]||"")):(this.h=!1,this.i=new an(null,this.h))}Dt.prototype.toString=function(){var me=[],ot=this.j;ot&&me.push(Fr(ot,Gr,!0),":");var mt=this.g;return(mt||ot=="file")&&(me.push("//"),(ot=this.o)&&me.push(Fr(ot,Gr,!0),"@"),me.push(encodeURIComponent(String(mt)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),mt=this.s,mt!=null&&me.push(":",String(mt))),(mt=this.l)&&(this.g&&mt.charAt(0)!="/"&&me.push("/"),me.push(Fr(mt,mt.charAt(0)=="/"?Wr:Rr,!0))),(mt=this.i.toString())&&me.push("?",mt),(mt=this.m)&&me.push("#",Fr(mt,rn)),me.join("")};function Nt(me){return new Dt(me)}function Ut(me,ot,mt){me.j=mt?Dr(ot,!0):ot,me.j&&(me.j=me.j.replace(/:$/,""))}function hr(me,ot){if(ot){if(ot=Number(ot),isNaN(ot)||0>ot)throw Error("Bad port number "+ot);me.s=ot}else me.s=null}function jr(me,ot,mt){ot instanceof an?(me.i=ot,_o(me.i,me.h)):(mt||(ot=Fr(ot,Ur)),me.i=new an(ot,me.h))}function Cr(me,ot,mt){me.i.set(ot,mt)}function Zr(me){return Cr(me,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),me}function Dr(me,ot){return me?ot?decodeURI(me.replace(/%25/g,"%2525")):decodeURIComponent(me):""}function Fr(me,ot,mt){return typeof me=="string"?(me=encodeURI(me).replace(ot,ln),mt&&(me=me.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),me):null}function ln(me){return me=me.charCodeAt(0),"%"+(me>>4&15).toString(16)+(me&15).toString(16)}var Gr=/[#\/\?@]/g,Rr=/[#\?:]/g,Wr=/[#\?]/g,Ur=/[#\?@]/g,rn=/#/g;function an(me,ot){this.h=this.g=null,this.i=me||null,this.j=!!ot}function Qr(me){me.g||(me.g=new Map,me.h=0,me.i&&ur(me.i,function(ot,mt){me.add(decodeURIComponent(ot.replace(/\+/g," ")),mt)}))}o=an.prototype,o.add=function(me,ot){Qr(this),this.i=null,me=bo(this,me);var mt=this.g.get(me);return mt||this.g.set(me,mt=[]),mt.push(ot),this.h+=1,this};function In(me,ot){Qr(me),ot=bo(me,ot),me.g.has(ot)&&(me.i=null,me.h-=me.g.get(ot).length,me.g.delete(ot))}function Xn(me,ot){return Qr(me),ot=bo(me,ot),me.g.has(ot)}o.forEach=function(me,ot){Qr(this),this.g.forEach(function(mt,Ht){mt.forEach(function(Hr){me.call(ot,Hr,Ht,this)},this)},this)},o.na=function(){Qr(this);const me=Array.from(this.g.values()),ot=Array.from(this.g.keys()),mt=[];for(let Ht=0;Ht<ot.length;Ht++){const Hr=me[Ht];for(let sn=0;sn<Hr.length;sn++)mt.push(ot[Ht])}return mt},o.V=function(me){Qr(this);let ot=[];if(typeof me=="string")Xn(this,me)&&(ot=ot.concat(this.g.get(bo(this,me))));else{me=Array.from(this.g.values());for(let mt=0;mt<me.length;mt++)ot=ot.concat(me[mt])}return ot},o.set=function(me,ot){return Qr(this),this.i=null,me=bo(this,me),Xn(this,me)&&(this.h-=this.g.get(me).length),this.g.set(me,[ot]),this.h+=1,this},o.get=function(me,ot){return me?(me=this.V(me),0<me.length?String(me[0]):ot):ot};function go(me,ot,mt){In(me,ot),0<mt.length&&(me.i=null,me.g.set(bo(me,ot),r(mt)),me.h+=mt.length)}o.toString=function(){if(this.i)return this.i;if(!this.g)return"";const me=[],ot=Array.from(this.g.keys());for(var mt=0;mt<ot.length;mt++){var Ht=ot[mt];const sn=encodeURIComponent(String(Ht)),Fn=this.V(Ht);for(Ht=0;Ht<Fn.length;Ht++){var Hr=sn;Fn[Ht]!==""&&(Hr+="="+encodeURIComponent(String(Fn[Ht]))),me.push(Hr)}}return this.i=me.join("&")};function bo(me,ot){return ot=String(ot),me.j&&(ot=ot.toLowerCase()),ot}function _o(me,ot){ot&&!me.j&&(Qr(me),me.i=null,me.g.forEach(function(mt,Ht){var Hr=Ht.toLowerCase();Ht!=Hr&&(In(this,Ht),go(this,Hr,mt))},me)),me.j=ot}function wo(me,ot){const mt=new Ue;if(Fe.Image){const Ht=new Image;Ht.onload=ue(co,mt,"TestLoadImage: loaded",!0,ot,Ht),Ht.onerror=ue(co,mt,"TestLoadImage: error",!1,ot,Ht),Ht.onabort=ue(co,mt,"TestLoadImage: abort",!1,ot,Ht),Ht.ontimeout=ue(co,mt,"TestLoadImage: timeout",!1,ot,Ht),Fe.setTimeout(function(){Ht.ontimeout&&Ht.ontimeout()},1e4),Ht.src=me}else ot(!1)}function ao(me,ot){const mt=new Ue,Ht=new AbortController,Hr=setTimeout(()=>{Ht.abort(),co(mt,"TestPingServer: timeout",!1,ot)},1e4);fetch(me,{signal:Ht.signal}).then(sn=>{clearTimeout(Hr),sn.ok?co(mt,"TestPingServer: ok",!0,ot):co(mt,"TestPingServer: server error",!1,ot)}).catch(()=>{clearTimeout(Hr),co(mt,"TestPingServer: error",!1,ot)})}function co(me,ot,mt,Ht,Hr){try{Hr&&(Hr.onload=null,Hr.onerror=null,Hr.onabort=null,Hr.ontimeout=null),Ht(mt)}catch{}}function it(){this.g=new u}function Oe(me,ot,mt){const Ht=mt||"";try{cn(me,function(Hr,sn){let Fn=Hr;st(Hr)&&(Fn=xe(Hr)),ot.push(Ht+sn+"="+encodeURIComponent(Fn))})}catch(Hr){throw ot.push(Ht+"type="+encodeURIComponent("_badmap")),Hr}}function ze(me){this.l=me.Ub||null,this.j=me.eb||!1}n(ze,g),ze.prototype.g=function(){return new $e(this.l,this.j)},ze.prototype.i=function(me){return function(){return me}}({});function $e(me,ot){Me.call(this),this.D=me,this.o=ot,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}n($e,Me),o=$e.prototype,o.open=function(me,ot){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=me,this.A=ot,this.readyState=1,fr(this)},o.send=function(me){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const ot={headers:this.u,method:this.B,credentials:this.m,cache:void 0};me&&(ot.body=me),(this.D||Fe).fetch(new Request(this.A,ot)).then(this.Sa.bind(this),this.ga.bind(this))},o.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Kt(this)),this.readyState=0},o.Sa=function(me){if(this.g&&(this.l=me,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=me.headers,this.readyState=2,fr(this)),this.g&&(this.readyState=3,fr(this),this.g)))if(this.responseType==="arraybuffer")me.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof Fe.ReadableStream<"u"&&"body"in me){if(this.j=me.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;pt(this)}else me.text().then(this.Ra.bind(this),this.ga.bind(this))};function pt(me){me.j.read().then(me.Pa.bind(me)).catch(me.ga.bind(me))}o.Pa=function(me){if(this.g){if(this.o&&me.value)this.response.push(me.value);else if(!this.o){var ot=me.value?me.value:new Uint8Array(0);(ot=this.v.decode(ot,{stream:!me.done}))&&(this.response=this.responseText+=ot)}me.done?Kt(this):fr(this),this.readyState==3&&pt(this)}},o.Ra=function(me){this.g&&(this.response=this.responseText=me,Kt(this))},o.Qa=function(me){this.g&&(this.response=me,Kt(this))},o.ga=function(){this.g&&Kt(this)};function Kt(me){me.readyState=4,me.l=null,me.j=null,me.v=null,fr(me)}o.setRequestHeader=function(me,ot){this.u.append(me,ot)},o.getResponseHeader=function(me){return this.h&&this.h.get(me.toLowerCase())||""},o.getAllResponseHeaders=function(){if(!this.h)return"";const me=[],ot=this.h.entries();for(var mt=ot.next();!mt.done;)mt=mt.value,me.push(mt[0]+": "+mt[1]),mt=ot.next();return me.join(`\r
`)};function fr(me){me.onreadystatechange&&me.onreadystatechange.call(me)}Object.defineProperty($e.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(me){this.m=me?"include":"same-origin"}});function vr(me){let ot="";return f(me,function(mt,Ht){ot+=Ht,ot+=":",ot+=mt,ot+=`\r
`}),ot}function Qt(me,ot,mt){e:{for(Ht in mt){var Ht=!1;break e}Ht=!0}Ht||(mt=vr(mt),typeof me=="string"?mt!=null&&encodeURIComponent(String(mt)):Cr(me,ot,mt))}function Vt(me){Me.call(this),this.headers=new Map,this.o=me||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}n(Vt,Me);var Er=/^https?$/i,Lr=["POST","PUT"];o=Vt.prototype,o.Ha=function(me){this.J=me},o.ea=function(me,ot,mt,Ht){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+me);ot=ot?ot.toUpperCase():"GET",this.D=me,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():It.g(),this.v=this.o?z(this.o):z(It),this.g.onreadystatechange=We(this.Ea,this);try{this.B=!0,this.g.open(ot,String(me),!0),this.B=!1}catch(sn){Jr(this,sn);return}if(me=mt||"",mt=new Map(this.headers),Ht)if(Object.getPrototypeOf(Ht)===Object.prototype)for(var Hr in Ht)mt.set(Hr,Ht[Hr]);else if(typeof Ht.keys=="function"&&typeof Ht.get=="function")for(const sn of Ht.keys())mt.set(sn,Ht.get(sn));else throw Error("Unknown input type for opt_headers: "+String(Ht));Ht=Array.from(mt.keys()).find(sn=>sn.toLowerCase()=="content-type"),Hr=Fe.FormData&&me instanceof Fe.FormData,!(0<=Array.prototype.indexOf.call(Lr,ot,void 0))||Ht||Hr||mt.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[sn,Fn]of mt)this.g.setRequestHeader(sn,Fn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{dn(this),this.u=!0,this.g.send(me),this.u=!1}catch(sn){Jr(this,sn)}};function Jr(me,ot){me.h=!1,me.g&&(me.j=!0,me.g.abort(),me.j=!1),me.l=ot,me.m=5,on(me),yn(me)}function on(me){me.A||(me.A=!0,Ge(me,"complete"),Ge(me,"error"))}o.abort=function(me){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=me||7,Ge(this,"complete"),Ge(this,"abort"),yn(this))},o.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yn(this,!0)),Vt.aa.N.call(this)},o.Ea=function(){this.s||(this.B||this.u||this.j?gn(this):this.bb())},o.bb=function(){gn(this)};function gn(me){if(me.h&&typeof we<"u"&&(!me.v[1]||mn(me)!=4||me.Z()!=2)){if(me.u&&mn(me)==4)Ne(me.Ea,0,me);else if(Ge(me,"readystatechange"),mn(me)==4){me.h=!1;try{const Fn=me.Z();e:switch(Fn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var ot=!0;break e;default:ot=!1}var mt;if(!(mt=ot)){var Ht;if(Ht=Fn===0){var Hr=String(me.D).match(en)[1]||null;!Hr&&Fe.self&&Fe.self.location&&(Hr=Fe.self.location.protocol.slice(0,-1)),Ht=!Er.test(Hr?Hr.toLowerCase():"")}mt=Ht}if(mt)Ge(me,"complete"),Ge(me,"success");else{me.m=6;try{var sn=2<mn(me)?me.g.statusText:""}catch{sn=""}me.l=sn+" ["+me.Z()+"]",on(me)}}finally{yn(me)}}}}function yn(me,ot){if(me.g){dn(me);const mt=me.g,Ht=me.v[0]?()=>{}:null;me.g=null,me.v=null,ot||Ge(me,"ready");try{mt.onreadystatechange=Ht}catch{}}}function dn(me){me.I&&(Fe.clearTimeout(me.I),me.I=null)}o.isActive=function(){return!!this.g};function mn(me){return me.g?me.g.readyState:0}o.Z=function(){try{return 2<mn(this)?this.g.status:-1}catch{return-1}},o.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},o.Oa=function(me){if(this.g){var ot=this.g.responseText;return me&&ot.indexOf(me)==0&&(ot=ot.substring(me.length)),Z(ot)}};function Hn(me){try{if(!me.g)return null;if("response"in me.g)return me.g.response;switch(me.H){case"":case"text":return me.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in me.g)return me.g.mozResponseArrayBuffer}return null}catch{return null}}function eo(me){const ot={};me=(me.g&&2<=mn(me)&&me.g.getAllResponseHeaders()||"").split(`\r
`);for(let Ht=0;Ht<me.length;Ht++){if(b(me[Ht]))continue;var mt=x(me[Ht]);const Hr=mt[0];if(mt=mt[1],typeof mt!="string")continue;mt=mt.trim();const sn=ot[Hr]||[];ot[Hr]=sn,sn.push(mt)}d(ot,function(Ht){return Ht.join(", ")})}o.Ba=function(){return this.m},o.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function So(me,ot,mt){return mt&&mt.internalChannelParams&&mt.internalChannelParams[me]||ot}function Qo(me){this.Aa=0,this.i=[],this.j=new Ue,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=So("failFast",!1,me),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=So("baseRetryDelayMs",5e3,me),this.cb=So("retryDelaySeedMs",1e4,me),this.Wa=So("forwardChannelMaxRetries",2,me),this.wa=So("forwardChannelRequestTimeoutMs",2e4,me),this.pa=me&&me.xmlHttpFactory||void 0,this.Xa=me&&me.Tb||void 0,this.Ca=me&&me.useFetchStreams||!1,this.L=void 0,this.J=me&&me.supportsCrossDomainXhr||!1,this.K="",this.h=new Mr(me&&me.concurrentRequestLimit),this.Da=new it,this.P=me&&me.fastHandshake||!1,this.O=me&&me.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=me&&me.Rb||!1,me&&me.xa&&this.j.xa(),me&&me.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&me&&me.detectBufferingProxy||!1,this.ja=void 0,me&&me.longPollingTimeout&&0<me.longPollingTimeout&&(this.ja=me.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}o=Qo.prototype,o.la=8,o.G=1,o.connect=function(me,ot,mt,Ht){tt(0),this.W=me,this.H=ot||{},mt&&Ht!==void 0&&(this.H.OSID=mt,this.H.OAID=Ht),this.F=this.X,this.I=Ca(this,null,this.W),Yn(this)};function Fo(me){if(bn(me),me.G==3){var ot=me.U++,mt=Nt(me.I);if(Cr(mt,"SID",me.K),Cr(mt,"RID",ot),Cr(mt,"TYPE","terminate"),Yo(me,mt),ot=new Xt(me,me.j,ot),ot.L=2,ot.v=Zr(Nt(mt)),mt=!1,Fe.navigator&&Fe.navigator.sendBeacon)try{mt=Fe.navigator.sendBeacon(ot.v.toString(),"")}catch{}!mt&&Fe.Image&&(new Image().src=ot.v,mt=!0),mt||(ot.g=da(ot.j,null),ot.g.ea(ot.v)),ot.F=Date.now(),Tt(ot)}As(me)}function On(me){me.g&&(Qi(me),me.g.cancel(),me.g=null)}function bn(me){On(me),me.u&&(Fe.clearTimeout(me.u),me.u=null),Ha(me),me.h.cancel(),me.s&&(typeof me.s=="number"&&Fe.clearTimeout(me.s),me.s=null)}function Yn(me){if(!zr(me.h)&&!me.s){me.s=!0;var ot=me.Ga;ge||K(),J||(ge(),J=!0),Q.add(ot,me),me.B=0}}function vo(me,ot){return pr(me.h)>=me.h.j-(me.s?1:0)?!1:me.s?(me.i=ot.D.concat(me.i),!0):me.G==1||me.G==2||me.B>=(me.Va?0:me.Wa)?!1:(me.s=gt(We(me.Ga,me,ot),ol(me,me.B)),me.B++,!0)}o.Ga=function(me){if(this.s)if(this.s=null,this.G==1){if(!me){this.U=Math.floor(1e5*Math.random()),me=this.U++;const Hr=new Xt(this,this.j,me);let sn=this.o;if(this.S&&(sn?(sn=j(sn),H(sn,this.S)):sn=this.S),this.m!==null||this.O||(Hr.H=sn,sn=null),this.P)e:{for(var ot=0,mt=0;mt<this.i.length;mt++){t:{var Ht=this.i[mt];if("__data__"in Ht.map&&(Ht=Ht.map.__data__,typeof Ht=="string")){Ht=Ht.length;break t}Ht=void 0}if(Ht===void 0)break;if(ot+=Ht,4096<ot){ot=mt;break e}if(ot===4096||mt===this.i.length-1){ot=mt+1;break e}}ot=1e3}else ot=1e3;ot=vi(this,Hr,ot),mt=Nt(this.I),Cr(mt,"RID",me),Cr(mt,"CVER",22),this.D&&Cr(mt,"X-HTTP-Session-Id",this.D),Yo(this,mt),sn&&(this.O?ot="headers="+encodeURIComponent(String(vr(sn)))+"&"+ot:this.m&&Qt(mt,this.m,sn)),or(this.h,Hr),this.Ua&&Cr(mt,"TYPE","init"),this.P?(Cr(mt,"$req",ot),Cr(mt,"SID","null"),Hr.T=!0,gr(Hr,mt,null)):gr(Hr,mt,ot),this.G=2}}else this.G==3&&(me?Ao(this,me):this.i.length==0||zr(this.h)||Ao(this))};function Ao(me,ot){var mt;ot?mt=ot.l:mt=me.U++;const Ht=Nt(me.I);Cr(Ht,"SID",me.K),Cr(Ht,"RID",mt),Cr(Ht,"AID",me.T),Yo(me,Ht),me.m&&me.o&&Qt(Ht,me.m,me.o),mt=new Xt(me,me.j,mt,me.B+1),me.m===null&&(mt.H=me.o),ot&&(me.i=ot.D.concat(me.i)),ot=vi(me,mt,1e3),mt.I=Math.round(.5*me.wa)+Math.round(.5*me.wa*Math.random()),or(me.h,mt),gr(mt,Ht,ot)}function Yo(me,ot){me.H&&f(me.H,function(mt,Ht){Cr(ot,Ht,mt)}),me.l&&cn({},function(mt,Ht){Cr(ot,Ht,mt)})}function vi(me,ot,mt){mt=Math.min(me.i.length,mt);var Ht=me.l?We(me.l.Na,me.l,me):null;e:{var Hr=me.i;let sn=-1;for(;;){const Fn=["count="+mt];sn==-1?0<mt?(sn=Hr[0].g,Fn.push("ofs="+sn)):sn=0:Fn.push("ofs="+sn);let ri=!0;for(let Mi=0;Mi<mt;Mi++){let Co=Hr[Mi].g;const ai=Hr[Mi].map;if(Co-=sn,0>Co)sn=Math.max(0,Hr[Mi].g-100),ri=!1;else try{Oe(ai,Fn,"req"+Co+"_")}catch{Ht&&Ht(ai)}}if(ri){Ht=Fn.join("&");break e}}}return me=me.i.splice(0,mt),ot.D=me,Ht}function Oi(me){if(!me.g&&!me.u){me.Y=1;var ot=me.Fa;ge||K(),J||(ge(),J=!0),Q.add(ot,me),me.v=0}}function bi(me){return me.g||me.u||3<=me.v?!1:(me.Y++,me.u=gt(We(me.Fa,me),ol(me,me.v)),me.v++,!0)}o.Fa=function(){if(this.u=null,Ja(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var me=2*this.R;this.j.info("BP detection timer enabled: "+me),this.A=gt(We(this.ab,this),me)}},o.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,tt(10),On(this),Ja(this))};function Qi(me){me.A!=null&&(Fe.clearTimeout(me.A),me.A=null)}function Ja(me){me.g=new Xt(me,me.j,"rpc",me.Y),me.m===null&&(me.g.H=me.o),me.g.O=0;var ot=Nt(me.qa);Cr(ot,"RID","rpc"),Cr(ot,"SID",me.K),Cr(ot,"AID",me.T),Cr(ot,"CI",me.F?"0":"1"),!me.F&&me.ja&&Cr(ot,"TO",me.ja),Cr(ot,"TYPE","xmlhttp"),Yo(me,ot),me.m&&me.o&&Qt(ot,me.m,me.o),me.L&&(me.g.I=me.L);var mt=me.g;me=me.ia,mt.L=1,mt.v=Zr(Nt(ot)),mt.m=null,mt.P=!0,Pt(mt,me)}o.Za=function(){this.C!=null&&(this.C=null,On(this),bi(this),tt(19))};function Ha(me){me.C!=null&&(Fe.clearTimeout(me.C),me.C=null)}function ks(me,ot){var mt=null;if(me.g==ot){Ha(me),Qi(me),me.g=null;var Ht=2}else if(Ft(me.h,ot))mt=ot.D,rr(me.h,ot),Ht=1;else return;if(me.G!=0){if(ot.o)if(Ht==1){mt=ot.m?ot.m.length:0,ot=Date.now()-ot.F;var Hr=me.B;Ht=Be(),Ge(Ht,new ht(Ht,mt)),Yn(me)}else Oi(me);else if(Hr=ot.s,Hr==3||Hr==0&&0<ot.X||!(Ht==1&&vo(me,ot)||Ht==2&&bi(me)))switch(mt&&0<mt.length&&(ot=me.h,ot.i=ot.i.concat(mt)),Hr){case 1:Da(me,5);break;case 4:Da(me,10);break;case 3:Da(me,6);break;default:Da(me,2)}}}function ol(me,ot){let mt=me.Ta+Math.floor(Math.random()*me.cb);return me.isActive()||(mt*=2),mt*ot}function Da(me,ot){if(me.j.info("Error code "+ot),ot==2){var mt=We(me.fb,me),Ht=me.Xa;const Hr=!Ht;Ht=new Dt(Ht||"//www.google.com/images/cleardot.gif"),Fe.location&&Fe.location.protocol=="http"||Ut(Ht,"https"),Zr(Ht),Hr?wo(Ht.toString(),mt):ao(Ht.toString(),mt)}else tt(2);me.G=0,me.l&&me.l.sa(ot),As(me),bn(me)}o.fb=function(me){me?(this.j.info("Successfully pinged google.com"),tt(2)):(this.j.info("Failed to ping google.com"),tt(1))};function As(me){if(me.G=0,me.ka=[],me.l){const ot=Or(me.h);(ot.length!=0||me.i.length!=0)&&(A(me.ka,ot),A(me.ka,me.i),me.h.i.length=0,r(me.i),me.i.length=0),me.l.ra()}}function Ca(me,ot,mt){var Ht=mt instanceof Dt?Nt(mt):new Dt(mt);if(Ht.g!="")ot&&(Ht.g=ot+"."+Ht.g),hr(Ht,Ht.s);else{var Hr=Fe.location;Ht=Hr.protocol,ot=ot?ot+"."+Hr.hostname:Hr.hostname,Hr=+Hr.port;var sn=new Dt(null);Ht&&Ut(sn,Ht),ot&&(sn.g=ot),Hr&&hr(sn,Hr),mt&&(sn.l=mt),Ht=sn}return mt=me.D,ot=me.ya,mt&&ot&&Cr(Ht,mt,ot),Cr(Ht,"VER",me.la),Yo(me,Ht),Ht}function da(me,ot,mt){if(ot&&!me.J)throw Error("Can't create secondary domain capable XhrIo object.");return ot=me.Ca&&!me.pa?new Vt(new ze({eb:mt})):new Vt(me.pa),ot.Ha(me.J),ot}o.isActive=function(){return!!this.l&&this.l.isActive(this)};function Hi(){}o=Hi.prototype,o.ua=function(){},o.ta=function(){},o.sa=function(){},o.ra=function(){},o.isActive=function(){return!0},o.Na=function(){};function Gi(){}Gi.prototype.g=function(me,ot){return new ra(me,ot)};function ra(me,ot){Me.call(this),this.g=new Qo(ot),this.l=me,this.h=ot&&ot.messageUrlParams||null,me=ot&&ot.messageHeaders||null,ot&&ot.clientProtocolHeaderRequired&&(me?me["X-Client-Protocol"]="webchannel":me={"X-Client-Protocol":"webchannel"}),this.g.o=me,me=ot&&ot.initMessageHeaders||null,ot&&ot.messageContentType&&(me?me["X-WebChannel-Content-Type"]=ot.messageContentType:me={"X-WebChannel-Content-Type":ot.messageContentType}),ot&&ot.va&&(me?me["X-WebChannel-Client-Profile"]=ot.va:me={"X-WebChannel-Client-Profile":ot.va}),this.g.S=me,(me=ot&&ot.Sb)&&!b(me)&&(this.g.m=me),this.v=ot&&ot.supportsCrossDomainXhr||!1,this.u=ot&&ot.sendRawJson||!1,(ot=ot&&ot.httpSessionIdParam)&&!b(ot)&&(this.g.D=ot,me=this.h,me!==null&&ot in me&&(me=this.h,ot in me&&delete me[ot])),this.j=new Fi(this)}n(ra,Me),ra.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ra.prototype.close=function(){Fo(this.g)},ra.prototype.o=function(me){var ot=this.g;if(typeof me=="string"){var mt={};mt.__data__=me,me=mt}else this.u&&(mt={},mt.__data__=xe(me),me=mt);ot.i.push(new Sr(ot.Ya++,me)),ot.G==3&&Yn(ot)},ra.prototype.N=function(){this.g.l=null,delete this.j,Fo(this.g),delete this.g,ra.aa.N.call(this)};function Ds(me){ae.call(this),me.__headers__&&(this.headers=me.__headers__,this.statusCode=me.__status__,delete me.__headers__,delete me.__status__);var ot=me.__sm__;if(ot){e:{for(const mt in ot){me=mt;break e}me=void 0}(this.i=me)&&(me=this.i,ot=ot!==null&&me in ot?ot[me]:void 0),this.data=ot}else this.data=me}n(Ds,ae);function Ra(){ce.call(this),this.status=1}n(Ra,ce);function Fi(me){this.g=me}n(Fi,Hi),Fi.prototype.ua=function(){Ge(this.g,"a")},Fi.prototype.ta=function(me){Ge(this.g,new Ds(me))},Fi.prototype.sa=function(me){Ge(this.g,new Ra)},Fi.prototype.ra=function(){Ge(this.g,"b")},Gi.prototype.createWebChannel=Gi.prototype.g,ra.prototype.send=ra.prototype.o,ra.prototype.open=ra.prototype.m,ra.prototype.close=ra.prototype.close,Fb=function(){return new Gi},Bb=function(){return Be()},zb=ye,ep={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},wt.NO_ERROR=0,wt.TIMEOUT=8,wt.HTTP_ERROR=6,Wf=wt,Rt.COMPLETE="complete",Zb=Rt,Y.EventType=te,te.OPEN="a",te.CLOSE="b",te.ERROR="c",te.MESSAGE="d",Me.prototype.listen=Me.prototype.K,yd=Y,Vt.prototype.listenOnce=Vt.prototype.L,Vt.prototype.getLastError=Vt.prototype.Ka,Vt.prototype.getLastErrorCode=Vt.prototype.Ba,Vt.prototype.getStatus=Vt.prototype.Z,Vt.prototype.getResponseJson=Vt.prototype.Oa,Vt.prototype.getResponseText=Vt.prototype.oa,Vt.prototype.send=Vt.prototype.ea,Vt.prototype.setWithCredentials=Vt.prototype.Ha,Nb=Vt}).apply(typeof Mf<"u"?Mf:typeof self<"u"?self:typeof window<"u"?window:{});const v1="@firebase/firestore",b1="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xs.UNAUTHENTICATED=new xs(null),xs.GOOGLE_CREDENTIALS=new xs("google-credentials-uid"),xs.FIRST_PARTY=new xs("first-party-uid"),xs.MOCK_USER=new xs("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ju="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du=new Fp("@firebase/firestore");function Cu(){return du.logLevel}function io(o,...e){if(du.logLevel<=wi.DEBUG){const t=e.map(Wp);du.debug(`Firestore (${Ju}): ${o}`,...t)}}function yc(o,...e){if(du.logLevel<=wi.ERROR){const t=e.map(Wp);du.error(`Firestore (${Ju}): ${o}`,...t)}}function Zu(o,...e){if(du.logLevel<=wi.WARN){const t=e.map(Wp);du.warn(`Firestore (${Ju}): ${o}`,...t)}}function Wp(o){if(typeof o=="string")return o;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(o)}catch{return o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(o="Unexpected state"){const e=`FIRESTORE (${Ju}) INTERNAL ASSERTION FAILED: `+o;throw yc(e),new Error(e)}function ua(o,e){o||ii()}function Ii(o,e){return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Lo extends qu{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Y5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(xs.UNAUTHENTICATED))}shutdown(){}}class $5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class X5{constructor(e){this.t=e,this.currentUser=xs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ua(this.o===void 0);let c=this.i;const _=nt=>this.i!==c?(c=this.i,t(nt)):Promise.resolve();let ee=new cu;this.o=()=>{this.i++,this.currentUser=this.u(),ee.resolve(),ee=new cu,e.enqueueRetryable(()=>_(this.currentUser))};const we=()=>{const nt=ee;e.enqueueRetryable(async()=>{await nt.promise,await _(this.currentUser)})},Fe=nt=>{io("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=nt,this.o&&(this.auth.addAuthTokenListener(this.o),we())};this.t.onInit(nt=>Fe(nt)),setTimeout(()=>{if(!this.auth){const nt=this.t.getImmediate({optional:!0});nt?Fe(nt):(io("FirebaseAuthCredentialsProvider","Auth not yet detected"),ee.resolve(),ee=new cu)}},0),we()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(c=>this.i!==e?(io("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):c?(ua(typeof c.accessToken=="string"),new Hb(c.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ua(e===null||typeof e=="string"),new xs(e)}}class q5{constructor(e,t,c){this.l=e,this.h=t,this.P=c,this.type="FirstParty",this.user=xs.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Q5{constructor(e,t,c){this.l=e,this.h=t,this.P=c}getToken(){return Promise.resolve(new q5(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(xs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class y1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class J5{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,jb(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){ua(this.o===void 0);const c=ee=>{ee.error!=null&&io("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${ee.error.message}`);const we=ee.token!==this.R;return this.R=ee.token,io("FirebaseAppCheckTokenProvider",`Received ${we?"new":"existing"} token.`),we?t(ee.token):Promise.resolve()};this.o=ee=>{e.enqueueRetryable(()=>c(ee))};const _=ee=>{io("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=ee,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(ee=>_(ee)),setTimeout(()=>{if(!this.appCheck){const ee=this.A.getImmediate({optional:!0});ee?_(ee):io("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new y1(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ua(typeof t.token=="string"),this.R=t.token,new y1(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e6(o){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(o);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let c=0;c<o;c++)t[c]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let c="";for(;c.length<20;){const _=e6(40);for(let ee=0;ee<_.length;++ee)c.length<20&&_[ee]<t&&(c+=e.charAt(_[ee]%62))}return c}}function Ci(o,e){return o<e?-1:o>e?1:0}function zu(o,e,t){return o.length===e.length&&o.every((c,_)=>t(c,e[_]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1=-62135596800,w1=1e6;class tl{static now(){return tl.fromMillis(Date.now())}static fromDate(e){return tl.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),c=Math.floor((e-1e3*t)*w1);return new tl(t,c)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Lo(Qn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Lo(Qn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<x1)throw new Lo(Qn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Lo(Qn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/w1}_compareTo(e){return this.seconds===e.seconds?Ci(this.nanoseconds,e.nanoseconds):Ci(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-x1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{static fromTimestamp(e){return new qo(e)}static min(){return new qo(new tl(0,0))}static max(){return new qo(new tl(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1="__name__";class Xl{constructor(e,t,c){t===void 0?t=0:t>e.length&&ii(),c===void 0?c=e.length-t:c>e.length-t&&ii(),this.segments=e,this.offset=t,this.len=c}get length(){return this.len}isEqual(e){return Xl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Xl?e.forEach(c=>{t.push(c)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,c=this.limit();t<c;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const c=Math.min(e.length,t.length);for(let _=0;_<c;_++){const ee=Xl.compareSegments(e.get(_),t.get(_));if(ee!==0)return ee}return Math.sign(e.length-t.length)}static compareSegments(e,t){const c=Xl.isNumericId(e),_=Xl.isNumericId(t);return c&&!_?-1:!c&&_?1:c&&_?Xl.extractNumericId(e).compare(Xl.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Nc.fromString(e.substring(4,e.length-2))}}class ga extends Xl{construct(e,t,c){return new ga(e,t,c)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const c of e){if(c.indexOf("//")>=0)throw new Lo(Qn.INVALID_ARGUMENT,`Invalid segment (${c}). Paths must not contain // in them.`);t.push(...c.split("/").filter(_=>_.length>0))}return new ga(t)}static emptyPath(){return new ga([])}}const t6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ms extends Xl{construct(e,t,c){return new Ms(e,t,c)}static isValidIdentifier(e){return t6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ms.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===E1}static keyField(){return new Ms([E1])}static fromServerFormat(e){const t=[];let c="",_=0;const ee=()=>{if(c.length===0)throw new Lo(Qn.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(c),c=""};let we=!1;for(;_<e.length;){const Fe=e[_];if(Fe==="\\"){if(_+1===e.length)throw new Lo(Qn.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const nt=e[_+1];if(nt!=="\\"&&nt!=="."&&nt!=="`")throw new Lo(Qn.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);c+=nt,_+=2}else Fe==="`"?(we=!we,_++):Fe!=="."||we?(c+=Fe,_++):(ee(),_++)}if(ee(),we)throw new Lo(Qn.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ms(t)}static emptyPath(){return new Ms([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this.path=e}static fromPath(e){return new No(ga.fromString(e))}static fromName(e){return new No(ga.fromString(e).popFirst(5))}static empty(){return new No(ga.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ga.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ga.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new No(new ga(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld=-1;function r6(o,e){const t=o.toTimestamp().seconds,c=o.toTimestamp().nanoseconds+1,_=qo.fromTimestamp(c===1e9?new tl(t+1,0):new tl(t,c));return new Bc(_,No.empty(),e)}function n6(o){return new Bc(o.readTime,o.key,Ld)}class Bc{constructor(e,t,c){this.readTime=e,this.documentKey=t,this.largestBatchId=c}static min(){return new Bc(qo.min(),No.empty(),Ld)}static max(){return new Bc(qo.max(),No.empty(),Ld)}}function o6(o,e){let t=o.readTime.compareTo(e.readTime);return t!==0?t:(t=No.comparator(o.documentKey,e.documentKey),t!==0?t:Ci(o.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class a6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kh(o){if(o.code!==Qn.FAILED_PRECONDITION||o.message!==i6)throw o;io("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ii(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Cn((c,_)=>{this.nextCallback=ee=>{this.wrapSuccess(e,ee).next(c,_)},this.catchCallback=ee=>{this.wrapFailure(t,ee).next(c,_)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Cn?t:Cn.resolve(t)}catch(t){return Cn.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Cn.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Cn.reject(t)}static resolve(e){return new Cn((t,c)=>{t(e)})}static reject(e){return new Cn((t,c)=>{c(e)})}static waitFor(e){return new Cn((t,c)=>{let _=0,ee=0,we=!1;e.forEach(Fe=>{++_,Fe.next(()=>{++ee,we&&ee===_&&t()},nt=>c(nt))}),we=!0,ee===_&&t()})}static or(e){let t=Cn.resolve(!1);for(const c of e)t=t.next(_=>_?Cn.resolve(_):c());return t}static forEach(e,t){const c=[];return e.forEach((_,ee)=>{c.push(t.call(this,_,ee))}),this.waitFor(c)}static mapArray(e,t){return new Cn((c,_)=>{const ee=e.length,we=new Array(ee);let Fe=0;for(let nt=0;nt<ee;nt++){const st=nt;t(e[st]).next(yt=>{we[st]=yt,++Fe,Fe===ee&&c(we)},yt=>_(yt))}})}static doWhile(e,t){return new Cn((c,_)=>{const ee=()=>{e()===!0?t().next(()=>{ee()},_):c()};ee()})}}function s6(o){const e=o.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ed(o){return o.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=c=>this.oe(c),this._e=c=>t.writeSequenceNumber(c))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}_h.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l6=-1;function Sh(o){return o==null}function tp(o){return o===0&&1/o==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub="";function c6(o){let e="";for(let t=0;t<o.length;t++)e.length>0&&(e=k1(e)),e=u6(o.get(t),e);return k1(e)}function u6(o,e){let t=e;const c=o.length;for(let _=0;_<c;_++){const ee=o.charAt(_);switch(ee){case"\0":t+="";break;case Ub:t+="";break;default:t+=ee}}return t}function k1(o){return o+Ub+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(o){let e=0;for(const t in o)Object.prototype.hasOwnProperty.call(o,t)&&e++;return e}function qd(o,e){for(const t in o)Object.prototype.hasOwnProperty.call(o,t)&&e(t,o[t])}function d6(o){for(const e in o)if(Object.prototype.hasOwnProperty.call(o,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qa=class rp{constructor(e,t){this.comparator=e,this.root=t||Zc.EMPTY}insert(e,t){return new rp(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zc.BLACK,null,null))}remove(e){return new rp(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zc.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const c=this.comparator(e,t.key);if(c===0)return t.value;c<0?t=t.left:c>0&&(t=t.right)}return null}indexOf(e){let t=0,c=this.root;for(;!c.isEmpty();){const _=this.comparator(e,c.key);if(_===0)return t+c.left.size;_<0?c=c.left:(t+=c.left.size+1,c=c.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,c)=>(e(t,c),!1))}toString(){const e=[];return this.inorderTraversal((t,c)=>(e.push(`${t}:${c}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Af(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Af(this.root,e,this.comparator,!1)}getReverseIterator(){return new Af(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Af(this.root,e,this.comparator,!0)}},Af=class{constructor(e,t,c,_){this.isReverse=_,this.nodeStack=[];let ee=1;for(;!e.isEmpty();)if(ee=t?c(e.key,t):1,t&&_&&(ee*=-1),ee<0)e=this.isReverse?e.left:e.right;else{if(ee===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Zc=class fc{constructor(e,t,c,_,ee){this.key=e,this.value=t,this.color=c??fc.RED,this.left=_??fc.EMPTY,this.right=ee??fc.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,c,_,ee){return new fc(e??this.key,t??this.value,c??this.color,_??this.left,ee??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,c){let _=this;const ee=c(e,_.key);return _=ee<0?_.copy(null,null,null,_.left.insert(e,t,c),null):ee===0?_.copy(null,t,null,null,null):_.copy(null,null,null,null,_.right.insert(e,t,c)),_.fixUp()}removeMin(){if(this.left.isEmpty())return fc.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let c,_=this;if(t(e,_.key)<0)_.left.isEmpty()||_.left.isRed()||_.left.left.isRed()||(_=_.moveRedLeft()),_=_.copy(null,null,null,_.left.remove(e,t),null);else{if(_.left.isRed()&&(_=_.rotateRight()),_.right.isEmpty()||_.right.isRed()||_.right.left.isRed()||(_=_.moveRedRight()),t(e,_.key)===0){if(_.right.isEmpty())return fc.EMPTY;c=_.right.min(),_=_.copy(c.key,c.value,null,null,_.right.removeMin())}_=_.copy(null,null,null,null,_.right.remove(e,t))}return _.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fc.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fc.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ii();const e=this.left.check();if(e!==this.right.check())throw ii();return e+(this.isRed()?0:1)}};Zc.EMPTY=null,Zc.RED=!0,Zc.BLACK=!1;Zc.EMPTY=new class{constructor(){this.size=0}get key(){throw ii()}get value(){throw ii()}get color(){throw ii()}get left(){throw ii()}get right(){throw ii()}copy(e,t,c,_,ee){return this}insert(e,t,c){return new Zc(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e){this.comparator=e,this.data=new Qa(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,c)=>(e(t),!1))}forEachInRange(e,t){const c=this.data.getIteratorFrom(e[0]);for(;c.hasNext();){const _=c.getNext();if(this.comparator(_.key,e[1])>=0)return;t(_.key)}}forEachWhile(e,t){let c;for(c=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();c.hasNext();)if(!e(c.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new S1(this.data.getIterator())}getIteratorFrom(e){return new S1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(c=>{t=t.add(c)}),t}isEqual(e){if(!(e instanceof Fa)||this.size!==e.size)return!1;const t=this.data.getIterator(),c=e.data.getIterator();for(;t.hasNext();){const _=t.getNext().key,ee=c.getNext().key;if(this.comparator(_,ee)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Fa(this.comparator);return t.data=e,t}}class S1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e){this.fields=e,e.sort(Ms.comparator)}static empty(){return new Mc([])}unionWith(e){let t=new Fa(Ms.comparator);for(const c of this.fields)t=t.add(c);for(const c of e)t=t.add(c);return new Mc(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return zu(this.fields,e.fields,(t,c)=>t.isEqual(c))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(_){try{return atob(_)}catch(ee){throw typeof DOMException<"u"&&ee instanceof DOMException?new Vb("Invalid base64 string: "+ee):ee}}(e);return new cs(t)}static fromUint8Array(e){const t=function(_){let ee="";for(let we=0;we<_.length;++we)ee+=String.fromCharCode(_[we]);return ee}(e);return new cs(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const c=new Uint8Array(t.length);for(let _=0;_<t.length;_++)c[_]=t.charCodeAt(_);return c}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ci(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cs.EMPTY_BYTE_STRING=new cs("");const f6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fc(o){if(ua(!!o),typeof o=="string"){let e=0;const t=f6.exec(o);if(ua(!!t),t[1]){let _=t[1];_=(_+"000000000").substr(0,9),e=Number(_)}const c=new Date(o);return{seconds:Math.floor(c.getTime()/1e3),nanos:e}}return{seconds:Sa(o.seconds),nanos:Sa(o.nanos)}}function Sa(o){return typeof o=="number"?o:typeof o=="string"?Number(o):0}function Hc(o){return typeof o=="string"?cs.fromBase64String(o):cs.fromUint8Array(o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb="server_timestamp",Gb="__type__",Yb="__previous_value__",$b="__local_write_time__";function Up(o){var e,t;return((t=(((e=o==null?void 0:o.mapValue)===null||e===void 0?void 0:e.fields)||{})[Gb])===null||t===void 0?void 0:t.stringValue)===Kb}function Ch(o){const e=o.mapValue.fields[Yb];return Up(e)?Ch(e):e}function Nd(o){const e=Fc(o.mapValue.fields[$b].timestampValue);return new tl(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(e,t,c,_,ee,we,Fe,nt,st){this.databaseId=e,this.appId=t,this.persistenceKey=c,this.host=_,this.ssl=ee,this.forceLongPolling=we,this.autoDetectLongPolling=Fe,this.longPollingOptions=nt,this.useFetchStreams=st}}const Qf="(default)";class Zd{constructor(e,t){this.projectId=e,this.database=t||Qf}static empty(){return new Zd("","")}get isDefaultDatabase(){return this.database===Qf}isEqual(e){return e instanceof Zd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p6="__type__",m6="__max__",Df={mapValue:{}},g6="__vector__",np="value";function Wc(o){return"nullValue"in o?0:"booleanValue"in o?1:"integerValue"in o||"doubleValue"in o?2:"timestampValue"in o?3:"stringValue"in o?5:"bytesValue"in o?6:"referenceValue"in o?7:"geoPointValue"in o?8:"arrayValue"in o?9:"mapValue"in o?Up(o)?4:b6(o)?9007199254740991:v6(o)?10:11:ii()}function ec(o,e){if(o===e)return!0;const t=Wc(o);if(t!==Wc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return o.booleanValue===e.booleanValue;case 4:return Nd(o).isEqual(Nd(e));case 3:return function(_,ee){if(typeof _.timestampValue=="string"&&typeof ee.timestampValue=="string"&&_.timestampValue.length===ee.timestampValue.length)return _.timestampValue===ee.timestampValue;const we=Fc(_.timestampValue),Fe=Fc(ee.timestampValue);return we.seconds===Fe.seconds&&we.nanos===Fe.nanos}(o,e);case 5:return o.stringValue===e.stringValue;case 6:return function(_,ee){return Hc(_.bytesValue).isEqual(Hc(ee.bytesValue))}(o,e);case 7:return o.referenceValue===e.referenceValue;case 8:return function(_,ee){return Sa(_.geoPointValue.latitude)===Sa(ee.geoPointValue.latitude)&&Sa(_.geoPointValue.longitude)===Sa(ee.geoPointValue.longitude)}(o,e);case 2:return function(_,ee){if("integerValue"in _&&"integerValue"in ee)return Sa(_.integerValue)===Sa(ee.integerValue);if("doubleValue"in _&&"doubleValue"in ee){const we=Sa(_.doubleValue),Fe=Sa(ee.doubleValue);return we===Fe?tp(we)===tp(Fe):isNaN(we)&&isNaN(Fe)}return!1}(o,e);case 9:return zu(o.arrayValue.values||[],e.arrayValue.values||[],ec);case 10:case 11:return function(_,ee){const we=_.mapValue.fields||{},Fe=ee.mapValue.fields||{};if(_1(we)!==_1(Fe))return!1;for(const nt in we)if(we.hasOwnProperty(nt)&&(Fe[nt]===void 0||!ec(we[nt],Fe[nt])))return!1;return!0}(o,e);default:return ii()}}function zd(o,e){return(o.values||[]).find(t=>ec(t,e))!==void 0}function Bu(o,e){if(o===e)return 0;const t=Wc(o),c=Wc(e);if(t!==c)return Ci(t,c);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ci(o.booleanValue,e.booleanValue);case 2:return function(ee,we){const Fe=Sa(ee.integerValue||ee.doubleValue),nt=Sa(we.integerValue||we.doubleValue);return Fe<nt?-1:Fe>nt?1:Fe===nt?0:isNaN(Fe)?isNaN(nt)?0:-1:1}(o,e);case 3:return C1(o.timestampValue,e.timestampValue);case 4:return C1(Nd(o),Nd(e));case 5:return Ci(o.stringValue,e.stringValue);case 6:return function(ee,we){const Fe=Hc(ee),nt=Hc(we);return Fe.compareTo(nt)}(o.bytesValue,e.bytesValue);case 7:return function(ee,we){const Fe=ee.split("/"),nt=we.split("/");for(let st=0;st<Fe.length&&st<nt.length;st++){const yt=Ci(Fe[st],nt[st]);if(yt!==0)return yt}return Ci(Fe.length,nt.length)}(o.referenceValue,e.referenceValue);case 8:return function(ee,we){const Fe=Ci(Sa(ee.latitude),Sa(we.latitude));return Fe!==0?Fe:Ci(Sa(ee.longitude),Sa(we.longitude))}(o.geoPointValue,e.geoPointValue);case 9:return I1(o.arrayValue,e.arrayValue);case 10:return function(ee,we){var Fe,nt,st,yt;const kt=ee.fields||{},We=we.fields||{},ue=(Fe=kt[np])===null||Fe===void 0?void 0:Fe.arrayValue,n=(nt=We[np])===null||nt===void 0?void 0:nt.arrayValue,r=Ci(((st=ue==null?void 0:ue.values)===null||st===void 0?void 0:st.length)||0,((yt=n==null?void 0:n.values)===null||yt===void 0?void 0:yt.length)||0);return r!==0?r:I1(ue,n)}(o.mapValue,e.mapValue);case 11:return function(ee,we){if(ee===Df.mapValue&&we===Df.mapValue)return 0;if(ee===Df.mapValue)return 1;if(we===Df.mapValue)return-1;const Fe=ee.fields||{},nt=Object.keys(Fe),st=we.fields||{},yt=Object.keys(st);nt.sort(),yt.sort();for(let kt=0;kt<nt.length&&kt<yt.length;++kt){const We=Ci(nt[kt],yt[kt]);if(We!==0)return We;const ue=Bu(Fe[nt[kt]],st[yt[kt]]);if(ue!==0)return ue}return Ci(nt.length,yt.length)}(o.mapValue,e.mapValue);default:throw ii()}}function C1(o,e){if(typeof o=="string"&&typeof e=="string"&&o.length===e.length)return Ci(o,e);const t=Fc(o),c=Fc(e),_=Ci(t.seconds,c.seconds);return _!==0?_:Ci(t.nanos,c.nanos)}function I1(o,e){const t=o.values||[],c=e.values||[];for(let _=0;_<t.length&&_<c.length;++_){const ee=Bu(t[_],c[_]);if(ee)return ee}return Ci(t.length,c.length)}function Fu(o){return op(o)}function op(o){return"nullValue"in o?"null":"booleanValue"in o?""+o.booleanValue:"integerValue"in o?""+o.integerValue:"doubleValue"in o?""+o.doubleValue:"timestampValue"in o?function(t){const c=Fc(t);return`time(${c.seconds},${c.nanos})`}(o.timestampValue):"stringValue"in o?o.stringValue:"bytesValue"in o?function(t){return Hc(t).toBase64()}(o.bytesValue):"referenceValue"in o?function(t){return No.fromName(t).toString()}(o.referenceValue):"geoPointValue"in o?function(t){return`geo(${t.latitude},${t.longitude})`}(o.geoPointValue):"arrayValue"in o?function(t){let c="[",_=!0;for(const ee of t.values||[])_?_=!1:c+=",",c+=op(ee);return c+"]"}(o.arrayValue):"mapValue"in o?function(t){const c=Object.keys(t.fields||{}).sort();let _="{",ee=!0;for(const we of c)ee?ee=!1:_+=",",_+=`${we}:${op(t.fields[we])}`;return _+"}"}(o.mapValue):ii()}function Uf(o){switch(Wc(o)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ch(o);return e?16+Uf(e):16;case 5:return 2*o.stringValue.length;case 6:return Hc(o.bytesValue).approximateByteSize();case 7:return o.referenceValue.length;case 9:return function(c){return(c.values||[]).reduce((_,ee)=>_+Uf(ee),0)}(o.arrayValue);case 10:case 11:return function(c){let _=0;return qd(c.fields,(ee,we)=>{_+=ee.length+Uf(we)}),_}(o.mapValue);default:throw ii()}}function ip(o){return!!o&&"integerValue"in o}function Vp(o){return!!o&&"arrayValue"in o}function O1(o){return!!o&&"nullValue"in o}function T1(o){return!!o&&"doubleValue"in o&&isNaN(Number(o.doubleValue))}function P0(o){return!!o&&"mapValue"in o}function v6(o){var e,t;return((t=(((e=o==null?void 0:o.mapValue)===null||e===void 0?void 0:e.fields)||{})[p6])===null||t===void 0?void 0:t.stringValue)===g6}function Ed(o){if(o.geoPointValue)return{geoPointValue:Object.assign({},o.geoPointValue)};if(o.timestampValue&&typeof o.timestampValue=="object")return{timestampValue:Object.assign({},o.timestampValue)};if(o.mapValue){const e={mapValue:{fields:{}}};return qd(o.mapValue.fields,(t,c)=>e.mapValue.fields[t]=Ed(c)),e}if(o.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(o.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ed(o.arrayValue.values[t]);return e}return Object.assign({},o)}function b6(o){return(((o.mapValue||{}).fields||{}).__type__||{}).stringValue===m6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e){this.value=e}static empty(){return new ql({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let c=0;c<e.length-1;++c)if(t=(t.mapValue.fields||{})[e.get(c)],!P0(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ed(t)}setAll(e){let t=Ms.emptyPath(),c={},_=[];e.forEach((we,Fe)=>{if(!t.isImmediateParentOf(Fe)){const nt=this.getFieldsMap(t);this.applyChanges(nt,c,_),c={},_=[],t=Fe.popLast()}we?c[Fe.lastSegment()]=Ed(we):_.push(Fe.lastSegment())});const ee=this.getFieldsMap(t);this.applyChanges(ee,c,_)}delete(e){const t=this.field(e.popLast());P0(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ec(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let c=0;c<e.length;++c){let _=t.mapValue.fields[e.get(c)];P0(_)&&_.mapValue.fields||(_={mapValue:{fields:{}}},t.mapValue.fields[e.get(c)]=_),t=_}return t.mapValue.fields}applyChanges(e,t,c){qd(t,(_,ee)=>e[_]=ee);for(const _ of c)delete e[_]}clone(){return new ql(Ed(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,t,c,_,ee,we,Fe){this.key=e,this.documentType=t,this.version=c,this.readTime=_,this.createTime=ee,this.data=we,this.documentState=Fe}static newInvalidDocument(e){return new ws(e,0,qo.min(),qo.min(),qo.min(),ql.empty(),0)}static newFoundDocument(e,t,c,_){return new ws(e,1,t,qo.min(),c,_,0)}static newNoDocument(e,t){return new ws(e,2,t,qo.min(),qo.min(),ql.empty(),0)}static newUnknownDocument(e,t){return new ws(e,3,t,qo.min(),qo.min(),ql.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(qo.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ql.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ql.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=qo.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ws&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ws(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,t){this.position=e,this.inclusive=t}}function j1(o,e,t){let c=0;for(let _=0;_<o.position.length;_++){const ee=e[_],we=o.position[_];if(ee.field.isKeyField()?c=No.comparator(No.fromName(we.referenceValue),t.key):c=Bu(we,t.data.field(ee.field)),ee.dir==="desc"&&(c*=-1),c!==0)break}return c}function P1(o,e){if(o===null)return e===null;if(e===null||o.inclusive!==e.inclusive||o.position.length!==e.position.length)return!1;for(let t=0;t<o.position.length;t++)if(!ec(o.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,t="asc"){this.field=e,this.dir=t}}function y6(o,e){return o.dir===e.dir&&o.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{}class za extends Xb{constructor(e,t,c){super(),this.field=e,this.op=t,this.value=c}static create(e,t,c){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,c):new w6(e,t,c):t==="array-contains"?new _6(e,c):t==="in"?new S6(e,c):t==="not-in"?new C6(e,c):t==="array-contains-any"?new I6(e,c):new za(e,t,c)}static createKeyFieldInFilter(e,t,c){return t==="in"?new E6(e,c):new k6(e,c)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Bu(t,this.value)):t!==null&&Wc(this.value)===Wc(t)&&this.matchesComparison(Bu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ii()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class tc extends Xb{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new tc(e,t)}matches(e){return qb(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function qb(o){return o.op==="and"}function Qb(o){return x6(o)&&qb(o)}function x6(o){for(const e of o.filters)if(e instanceof tc)return!1;return!0}function ap(o){if(o instanceof za)return o.field.canonicalString()+o.op.toString()+Fu(o.value);if(Qb(o))return o.filters.map(e=>ap(e)).join(",");{const e=o.filters.map(t=>ap(t)).join(",");return`${o.op}(${e})`}}function Jb(o,e){return o instanceof za?function(c,_){return _ instanceof za&&c.op===_.op&&c.field.isEqual(_.field)&&ec(c.value,_.value)}(o,e):o instanceof tc?function(c,_){return _ instanceof tc&&c.op===_.op&&c.filters.length===_.filters.length?c.filters.reduce((ee,we,Fe)=>ee&&Jb(we,_.filters[Fe]),!0):!1}(o,e):void ii()}function ey(o){return o instanceof za?function(t){return`${t.field.canonicalString()} ${t.op} ${Fu(t.value)}`}(o):o instanceof tc?function(t){return t.op.toString()+" {"+t.getFilters().map(ey).join(" ,")+"}"}(o):"Filter"}class w6 extends za{constructor(e,t,c){super(e,t,c),this.key=No.fromName(c.referenceValue)}matches(e){const t=No.comparator(e.key,this.key);return this.matchesComparison(t)}}class E6 extends za{constructor(e,t){super(e,"in",t),this.keys=ty("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class k6 extends za{constructor(e,t){super(e,"not-in",t),this.keys=ty("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ty(o,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(c=>No.fromName(c.referenceValue))}class _6 extends za{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Vp(t)&&zd(t.arrayValue,this.value)}}class S6 extends za{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&zd(this.value.arrayValue,t)}}class C6 extends za{constructor(e,t){super(e,"not-in",t)}matches(e){if(zd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!zd(this.value.arrayValue,t)}}class I6 extends za{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Vp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(c=>zd(this.value.arrayValue,c))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(e,t=null,c=[],_=[],ee=null,we=null,Fe=null){this.path=e,this.collectionGroup=t,this.orderBy=c,this.filters=_,this.limit=ee,this.startAt=we,this.endAt=Fe,this.le=null}}function M1(o,e=null,t=[],c=[],_=null,ee=null,we=null){return new O6(o,e,t,c,_,ee,we)}function Kp(o){const e=Ii(o);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(c=>ap(c)).join(","),t+="|ob:",t+=e.orderBy.map(c=>function(ee){return ee.field.canonicalString()+ee.dir}(c)).join(","),Sh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(c=>Fu(c)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(c=>Fu(c)).join(",")),e.le=t}return e.le}function Gp(o,e){if(o.limit!==e.limit||o.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<o.orderBy.length;t++)if(!y6(o.orderBy[t],e.orderBy[t]))return!1;if(o.filters.length!==e.filters.length)return!1;for(let t=0;t<o.filters.length;t++)if(!Jb(o.filters[t],e.filters[t]))return!1;return o.collectionGroup===e.collectionGroup&&!!o.path.isEqual(e.path)&&!!P1(o.startAt,e.startAt)&&P1(o.endAt,e.endAt)}function sp(o){return No.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,t=null,c=[],_=[],ee=null,we="F",Fe=null,nt=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=c,this.filters=_,this.limit=ee,this.limitType=we,this.startAt=Fe,this.endAt=nt,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function T6(o,e,t,c,_,ee,we,Fe){return new Ih(o,e,t,c,_,ee,we,Fe)}function Yp(o){return new Ih(o)}function A1(o){return o.filters.length===0&&o.limit===null&&o.startAt==null&&o.endAt==null&&(o.explicitOrderBy.length===0||o.explicitOrderBy.length===1&&o.explicitOrderBy[0].field.isKeyField())}function j6(o){return o.collectionGroup!==null}function kd(o){const e=Ii(o);if(e.he===null){e.he=[];const t=new Set;for(const ee of e.explicitOrderBy)e.he.push(ee),t.add(ee.field.canonicalString());const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(we){let Fe=new Fa(Ms.comparator);return we.filters.forEach(nt=>{nt.getFlattenedFilters().forEach(st=>{st.isInequality()&&(Fe=Fe.add(st.field))})}),Fe})(e).forEach(ee=>{t.has(ee.canonicalString())||ee.isKeyField()||e.he.push(new eh(ee,c))}),t.has(Ms.keyField().canonicalString())||e.he.push(new eh(Ms.keyField(),c))}return e.he}function Ql(o){const e=Ii(o);return e.Pe||(e.Pe=P6(e,kd(o))),e.Pe}function P6(o,e){if(o.limitType==="F")return M1(o.path,o.collectionGroup,e,o.filters,o.limit,o.startAt,o.endAt);{e=e.map(_=>{const ee=_.dir==="desc"?"asc":"desc";return new eh(_.field,ee)});const t=o.endAt?new Jf(o.endAt.position,o.endAt.inclusive):null,c=o.startAt?new Jf(o.startAt.position,o.startAt.inclusive):null;return M1(o.path,o.collectionGroup,e,o.filters,o.limit,t,c)}}function lp(o,e,t){return new Ih(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),e,t,o.startAt,o.endAt)}function Oh(o,e){return Gp(Ql(o),Ql(e))&&o.limitType===e.limitType}function ry(o){return`${Kp(Ql(o))}|lt:${o.limitType}`}function Iu(o){return`Query(target=${function(t){let c=t.path.canonicalString();return t.collectionGroup!==null&&(c+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(c+=`, filters: [${t.filters.map(_=>ey(_)).join(", ")}]`),Sh(t.limit)||(c+=", limit: "+t.limit),t.orderBy.length>0&&(c+=`, orderBy: [${t.orderBy.map(_=>function(we){return`${we.field.canonicalString()} (${we.dir})`}(_)).join(", ")}]`),t.startAt&&(c+=", startAt: ",c+=t.startAt.inclusive?"b:":"a:",c+=t.startAt.position.map(_=>Fu(_)).join(",")),t.endAt&&(c+=", endAt: ",c+=t.endAt.inclusive?"a:":"b:",c+=t.endAt.position.map(_=>Fu(_)).join(",")),`Target(${c})`}(Ql(o))}; limitType=${o.limitType})`}function Th(o,e){return e.isFoundDocument()&&function(c,_){const ee=_.key.path;return c.collectionGroup!==null?_.key.hasCollectionId(c.collectionGroup)&&c.path.isPrefixOf(ee):No.isDocumentKey(c.path)?c.path.isEqual(ee):c.path.isImmediateParentOf(ee)}(o,e)&&function(c,_){for(const ee of kd(c))if(!ee.field.isKeyField()&&_.data.field(ee.field)===null)return!1;return!0}(o,e)&&function(c,_){for(const ee of c.filters)if(!ee.matches(_))return!1;return!0}(o,e)&&function(c,_){return!(c.startAt&&!function(we,Fe,nt){const st=j1(we,Fe,nt);return we.inclusive?st<=0:st<0}(c.startAt,kd(c),_)||c.endAt&&!function(we,Fe,nt){const st=j1(we,Fe,nt);return we.inclusive?st>=0:st>0}(c.endAt,kd(c),_))}(o,e)}function M6(o){return o.collectionGroup||(o.path.length%2==1?o.path.lastSegment():o.path.get(o.path.length-2))}function ny(o){return(e,t)=>{let c=!1;for(const _ of kd(o)){const ee=A6(_,e,t);if(ee!==0)return ee;c=c||_.field.isKeyField()}return 0}}function A6(o,e,t){const c=o.field.isKeyField()?No.comparator(e.key,t.key):function(ee,we,Fe){const nt=we.data.field(ee),st=Fe.data.field(ee);return nt!==null&&st!==null?Bu(nt,st):ii()}(o.field,e,t);switch(o.dir){case"asc":return c;case"desc":return-1*c;default:return ii()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),c=this.inner[t];if(c!==void 0){for(const[_,ee]of c)if(this.equalsFn(_,e))return ee}}has(e){return this.get(e)!==void 0}set(e,t){const c=this.mapKeyFn(e),_=this.inner[c];if(_===void 0)return this.inner[c]=[[e,t]],void this.innerSize++;for(let ee=0;ee<_.length;ee++)if(this.equalsFn(_[ee][0],e))return void(_[ee]=[e,t]);_.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),c=this.inner[t];if(c===void 0)return!1;for(let _=0;_<c.length;_++)if(this.equalsFn(c[_][0],e))return c.length===1?delete this.inner[t]:c.splice(_,1),this.innerSize--,!0;return!1}forEach(e){qd(this.inner,(t,c)=>{for(const[_,ee]of c)e(_,ee)})}isEmpty(){return d6(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6=new Qa(No.comparator);function Uc(){return D6}const oy=new Qa(No.comparator);function xd(...o){let e=oy;for(const t of o)e=e.insert(t.key,t);return e}function R6(o){let e=oy;return o.forEach((t,c)=>e=e.insert(t,c.overlayedDocument)),e}function au(){return _d()}function iy(){return _d()}function _d(){return new vu(o=>o.toString(),(o,e)=>o.isEqual(e))}const L6=new Fa(No.comparator);function Pi(...o){let e=L6;for(const t of o)e=e.add(t);return e}const N6=new Fa(Ci);function Z6(){return N6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z6(o,e){if(o.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tp(e)?"-0":e}}function B6(o){return{integerValue:""+o}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(){this._=void 0}}function F6(o,e,t){return o instanceof cp?function(_,ee){const we={fields:{[Gb]:{stringValue:Kb},[$b]:{timestampValue:{seconds:_.seconds,nanos:_.nanoseconds}}}};return ee&&Up(ee)&&(ee=Ch(ee)),ee&&(we.fields[Yb]=ee),{mapValue:we}}(t,e):o instanceof th?ay(o,e):o instanceof rh?sy(o,e):function(_,ee){const we=W6(_,ee),Fe=D1(we)+D1(_.Ie);return ip(we)&&ip(_.Ie)?B6(Fe):z6(_.serializer,Fe)}(o,e)}function H6(o,e,t){return o instanceof th?ay(o,e):o instanceof rh?sy(o,e):t}function W6(o,e){return o instanceof up?function(c){return ip(c)||function(ee){return!!ee&&"doubleValue"in ee}(c)}(e)?e:{integerValue:0}:null}class cp extends jh{}class th extends jh{constructor(e){super(),this.elements=e}}function ay(o,e){const t=ly(e);for(const c of o.elements)t.some(_=>ec(_,c))||t.push(c);return{arrayValue:{values:t}}}class rh extends jh{constructor(e){super(),this.elements=e}}function sy(o,e){let t=ly(e);for(const c of o.elements)t=t.filter(_=>!ec(_,c));return{arrayValue:{values:t}}}class up extends jh{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function D1(o){return Sa(o.integerValue||o.doubleValue)}function ly(o){return Vp(o)&&o.arrayValue.values?o.arrayValue.values.slice():[]}function U6(o,e){return o.field.isEqual(e.field)&&function(c,_){return c instanceof th&&_ instanceof th||c instanceof rh&&_ instanceof rh?zu(c.elements,_.elements,ec):c instanceof up&&_ instanceof up?ec(c.Ie,_.Ie):c instanceof cp&&_ instanceof cp}(o.transform,e.transform)}class uu{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new uu}static exists(e){return new uu(void 0,e)}static updateTime(e){return new uu(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vf(o,e){return o.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(o.updateTime):o.exists===void 0||o.exists===e.isFoundDocument()}class $p{}function cy(o,e){if(!o.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return o.isNoDocument()?new K6(o.key,uu.none()):new Xp(o.key,o.data,uu.none());{const t=o.data,c=ql.empty();let _=new Fa(Ms.comparator);for(let ee of e.fields)if(!_.has(ee)){let we=t.field(ee);we===null&&ee.length>1&&(ee=ee.popLast(),we=t.field(ee)),we===null?c.delete(ee):c.set(ee,we),_=_.add(ee)}return new Ph(o.key,c,new Mc(_.toArray()),uu.none())}}function V6(o,e,t){o instanceof Xp?function(_,ee,we){const Fe=_.value.clone(),nt=L1(_.fieldTransforms,ee,we.transformResults);Fe.setAll(nt),ee.convertToFoundDocument(we.version,Fe).setHasCommittedMutations()}(o,e,t):o instanceof Ph?function(_,ee,we){if(!Vf(_.precondition,ee))return void ee.convertToUnknownDocument(we.version);const Fe=L1(_.fieldTransforms,ee,we.transformResults),nt=ee.data;nt.setAll(uy(_)),nt.setAll(Fe),ee.convertToFoundDocument(we.version,nt).setHasCommittedMutations()}(o,e,t):function(_,ee,we){ee.convertToNoDocument(we.version).setHasCommittedMutations()}(0,e,t)}function Sd(o,e,t,c){return o instanceof Xp?function(ee,we,Fe,nt){if(!Vf(ee.precondition,we))return Fe;const st=ee.value.clone(),yt=N1(ee.fieldTransforms,nt,we);return st.setAll(yt),we.convertToFoundDocument(we.version,st).setHasLocalMutations(),null}(o,e,t,c):o instanceof Ph?function(ee,we,Fe,nt){if(!Vf(ee.precondition,we))return Fe;const st=N1(ee.fieldTransforms,nt,we),yt=we.data;return yt.setAll(uy(ee)),yt.setAll(st),we.convertToFoundDocument(we.version,yt).setHasLocalMutations(),Fe===null?null:Fe.unionWith(ee.fieldMask.fields).unionWith(ee.fieldTransforms.map(kt=>kt.field))}(o,e,t,c):function(ee,we,Fe){return Vf(ee.precondition,we)?(we.convertToNoDocument(we.version).setHasLocalMutations(),null):Fe}(o,e,t)}function R1(o,e){return o.type===e.type&&!!o.key.isEqual(e.key)&&!!o.precondition.isEqual(e.precondition)&&!!function(c,_){return c===void 0&&_===void 0||!(!c||!_)&&zu(c,_,(ee,we)=>U6(ee,we))}(o.fieldTransforms,e.fieldTransforms)&&(o.type===0?o.value.isEqual(e.value):o.type!==1||o.data.isEqual(e.data)&&o.fieldMask.isEqual(e.fieldMask))}class Xp extends $p{constructor(e,t,c,_=[]){super(),this.key=e,this.value=t,this.precondition=c,this.fieldTransforms=_,this.type=0}getFieldMask(){return null}}class Ph extends $p{constructor(e,t,c,_,ee=[]){super(),this.key=e,this.data=t,this.fieldMask=c,this.precondition=_,this.fieldTransforms=ee,this.type=1}getFieldMask(){return this.fieldMask}}function uy(o){const e=new Map;return o.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const c=o.data.field(t);e.set(t,c)}}),e}function L1(o,e,t){const c=new Map;ua(o.length===t.length);for(let _=0;_<t.length;_++){const ee=o[_],we=ee.transform,Fe=e.data.field(ee.field);c.set(ee.field,H6(we,Fe,t[_]))}return c}function N1(o,e,t){const c=new Map;for(const _ of o){const ee=_.transform,we=t.data.field(_.field);c.set(_.field,F6(ee,we,e))}return c}class K6 extends $p{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(e,t,c,_){this.batchId=e,this.localWriteTime=t,this.baseMutations=c,this.mutations=_}applyToRemoteDocument(e,t){const c=t.mutationResults;for(let _=0;_<this.mutations.length;_++){const ee=this.mutations[_];ee.key.isEqual(e.key)&&V6(ee,e,c[_])}}applyToLocalView(e,t){for(const c of this.baseMutations)c.key.isEqual(e.key)&&(t=Sd(c,e,t,this.localWriteTime));for(const c of this.mutations)c.key.isEqual(e.key)&&(t=Sd(c,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const c=iy();return this.mutations.forEach(_=>{const ee=e.get(_.key),we=ee.overlayedDocument;let Fe=this.applyToLocalView(we,ee.mutatedFields);Fe=t.has(_.key)?null:Fe;const nt=cy(we,Fe);nt!==null&&c.set(_.key,nt),we.isValidDocument()||we.convertToNoDocument(qo.min())}),c}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Pi())}isEqual(e){return this.batchId===e.batchId&&zu(this.mutations,e.mutations,(t,c)=>R1(t,c))&&zu(this.baseMutations,e.baseMutations,(t,c)=>R1(t,c))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Aa,Si;function dy(o){if(o===void 0)return yc("GRPC error has no .code"),Qn.UNKNOWN;switch(o){case Aa.OK:return Qn.OK;case Aa.CANCELLED:return Qn.CANCELLED;case Aa.UNKNOWN:return Qn.UNKNOWN;case Aa.DEADLINE_EXCEEDED:return Qn.DEADLINE_EXCEEDED;case Aa.RESOURCE_EXHAUSTED:return Qn.RESOURCE_EXHAUSTED;case Aa.INTERNAL:return Qn.INTERNAL;case Aa.UNAVAILABLE:return Qn.UNAVAILABLE;case Aa.UNAUTHENTICATED:return Qn.UNAUTHENTICATED;case Aa.INVALID_ARGUMENT:return Qn.INVALID_ARGUMENT;case Aa.NOT_FOUND:return Qn.NOT_FOUND;case Aa.ALREADY_EXISTS:return Qn.ALREADY_EXISTS;case Aa.PERMISSION_DENIED:return Qn.PERMISSION_DENIED;case Aa.FAILED_PRECONDITION:return Qn.FAILED_PRECONDITION;case Aa.ABORTED:return Qn.ABORTED;case Aa.OUT_OF_RANGE:return Qn.OUT_OF_RANGE;case Aa.UNIMPLEMENTED:return Qn.UNIMPLEMENTED;case Aa.DATA_LOSS:return Qn.DATA_LOSS;default:return ii()}}(Si=Aa||(Aa={}))[Si.OK=0]="OK",Si[Si.CANCELLED=1]="CANCELLED",Si[Si.UNKNOWN=2]="UNKNOWN",Si[Si.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Si[Si.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Si[Si.NOT_FOUND=5]="NOT_FOUND",Si[Si.ALREADY_EXISTS=6]="ALREADY_EXISTS",Si[Si.PERMISSION_DENIED=7]="PERMISSION_DENIED",Si[Si.UNAUTHENTICATED=16]="UNAUTHENTICATED",Si[Si.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Si[Si.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Si[Si.ABORTED=10]="ABORTED",Si[Si.OUT_OF_RANGE=11]="OUT_OF_RANGE",Si[Si.UNIMPLEMENTED=12]="UNIMPLEMENTED",Si[Si.INTERNAL=13]="INTERNAL",Si[Si.UNAVAILABLE=14]="UNAVAILABLE",Si[Si.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q6=new Nc([4294967295,4294967295],0);function Z1(o){const e=X6().encode(o),t=new Lb;return t.update(e),new Uint8Array(t.digest())}function z1(o){const e=new DataView(o.buffer),t=e.getUint32(0,!0),c=e.getUint32(4,!0),_=e.getUint32(8,!0),ee=e.getUint32(12,!0);return[new Nc([t,c],0),new Nc([_,ee],0)]}class qp{constructor(e,t,c){if(this.bitmap=e,this.padding=t,this.hashCount=c,t<0||t>=8)throw new wd(`Invalid padding: ${t}`);if(c<0)throw new wd(`Invalid hash count: ${c}`);if(e.length>0&&this.hashCount===0)throw new wd(`Invalid hash count: ${c}`);if(e.length===0&&t!==0)throw new wd(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Nc.fromNumber(this.Ee)}Ae(e,t,c){let _=e.add(t.multiply(Nc.fromNumber(c)));return _.compare(q6)===1&&(_=new Nc([_.getBits(0),_.getBits(1)],0)),_.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=Z1(e),[c,_]=z1(t);for(let ee=0;ee<this.hashCount;ee++){const we=this.Ae(c,_,ee);if(!this.Re(we))return!1}return!0}static create(e,t,c){const _=e%8==0?0:8-e%8,ee=new Uint8Array(Math.ceil(e/8)),we=new qp(ee,_,t);return c.forEach(Fe=>we.insert(Fe)),we}insert(e){if(this.Ee===0)return;const t=Z1(e),[c,_]=z1(t);for(let ee=0;ee<this.hashCount;ee++){const we=this.Ae(c,_,ee);this.Ve(we)}}Ve(e){const t=Math.floor(e/8),c=e%8;this.bitmap[t]|=1<<c}}class wd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,t,c,_,ee){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=c,this.documentUpdates=_,this.resolvedLimboDocuments=ee}static createSynthesizedRemoteEventForCurrentChange(e,t,c){const _=new Map;return _.set(e,Qd.createSynthesizedTargetChangeForCurrentChange(e,t,c)),new Mh(qo.min(),_,new Qa(Ci),Uc(),Pi())}}class Qd{constructor(e,t,c,_,ee){this.resumeToken=e,this.current=t,this.addedDocuments=c,this.modifiedDocuments=_,this.removedDocuments=ee}static createSynthesizedTargetChangeForCurrentChange(e,t,c){return new Qd(c,t,Pi(),Pi(),Pi())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e,t,c,_){this.me=e,this.removedTargetIds=t,this.key=c,this.fe=_}}class fy{constructor(e,t){this.targetId=e,this.ge=t}}class hy{constructor(e,t,c=cs.EMPTY_BYTE_STRING,_=null){this.state=e,this.targetIds=t,this.resumeToken=c,this.cause=_}}class B1{constructor(){this.pe=0,this.ye=F1(),this.we=cs.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Pi(),t=Pi(),c=Pi();return this.ye.forEach((_,ee)=>{switch(ee){case 0:e=e.add(_);break;case 2:t=t.add(_);break;case 1:c=c.add(_);break;default:ii()}}),new Qd(this.we,this.be,e,t,c)}Me(){this.Se=!1,this.ye=F1()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,ua(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class Q6{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Uc(),this.$e=Rf(),this.Ke=Rf(),this.Ue=new Qa(Ci)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const c=this.He(t);switch(e.state){case 0:this.Je(t)&&c.Ce(e.resumeToken);break;case 1:c.Be(),c.De||c.Me(),c.Ce(e.resumeToken);break;case 2:c.Be(),c.De||this.removeTarget(t);break;case 3:this.Je(t)&&(c.Le(),c.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),c.Ce(e.resumeToken));break;default:ii()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((c,_)=>{this.Je(_)&&t(_)})}Ze(e){const t=e.targetId,c=e.ge.count,_=this.Xe(t);if(_){const ee=_.target;if(sp(ee))if(c===0){const we=new No(ee.path);this.ze(t,we,ws.newNoDocument(we,qo.min()))}else ua(c===1);else{const we=this.et(t);if(we!==c){const Fe=this.tt(e),nt=Fe?this.nt(Fe,e,we):1;if(nt!==0){this.Ye(t);const st=nt===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,st)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:c="",padding:_=0},hashCount:ee=0}=t;let we,Fe;try{we=Hc(c).toUint8Array()}catch(nt){if(nt instanceof Vb)return Zu("Decoding the base64 bloom filter in existence filter failed ("+nt.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw nt}try{Fe=new qp(we,_,ee)}catch(nt){return Zu(nt instanceof wd?"BloomFilter error: ":"Applying bloom filter failed: ",nt),null}return Fe.Ee===0?null:Fe}nt(e,t,c){return t.ge.count===c-this.st(e,t.targetId)?0:2}st(e,t){const c=this.ke.getRemoteKeysForTarget(t);let _=0;return c.forEach(ee=>{const we=this.ke.it(),Fe=`projects/${we.projectId}/databases/${we.database}/documents/${ee.path.canonicalString()}`;e.mightContain(Fe)||(this.ze(t,ee,null),_++)}),_}ot(e){const t=new Map;this.qe.forEach((ee,we)=>{const Fe=this.Xe(we);if(Fe){if(ee.current&&sp(Fe.target)){const nt=new No(Fe.target.path);this._t(nt).has(we)||this.ut(we,nt)||this.ze(we,nt,ws.newNoDocument(nt,e))}ee.ve&&(t.set(we,ee.Fe()),ee.Me())}});let c=Pi();this.Ke.forEach((ee,we)=>{let Fe=!0;we.forEachWhile(nt=>{const st=this.Xe(nt);return!st||st.purpose==="TargetPurposeLimboResolution"||(Fe=!1,!1)}),Fe&&(c=c.add(ee))}),this.Qe.forEach((ee,we)=>we.setReadTime(e));const _=new Mh(e,t,this.Ue,this.Qe,c);return this.Qe=Uc(),this.$e=Rf(),this.Ke=Rf(),this.Ue=new Qa(Ci),_}Ge(e,t){if(!this.Je(e))return;const c=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,c),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,c){if(!this.Je(e))return;const _=this.He(e);this.ut(e,t)?_.xe(t,1):_.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),c&&(this.Qe=this.Qe.insert(t,c))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new B1,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new Fa(Ci),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Fa(Ci),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||io("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new B1),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Rf(){return new Qa(No.comparator)}function F1(){return new Qa(No.comparator)}const J6={asc:"ASCENDING",desc:"DESCENDING"},e4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},t4={and:"AND",or:"OR"};class r4{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function dp(o,e){return o.useProto3Json||Sh(e)?e:{value:e}}function n4(o,e){return o.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function o4(o,e){return o.useProto3Json?e.toBase64():e.toUint8Array()}function Pu(o){return ua(!!o),qo.fromTimestamp(function(t){const c=Fc(t);return new tl(c.seconds,c.nanos)}(o))}function i4(o,e){return fp(o,e).canonicalString()}function fp(o,e){const t=function(_){return new ga(["projects",_.projectId,"databases",_.database])}(o).child("documents");return e===void 0?t:t.child(e)}function py(o){const e=ga.fromString(o);return ua(yy(e)),e}function M0(o,e){const t=py(e);if(t.get(1)!==o.databaseId.projectId)throw new Lo(Qn.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+o.databaseId.projectId);if(t.get(3)!==o.databaseId.database)throw new Lo(Qn.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+o.databaseId.database);return new No(gy(t))}function my(o,e){return i4(o.databaseId,e)}function a4(o){const e=py(o);return e.length===4?ga.emptyPath():gy(e)}function H1(o){return new ga(["projects",o.databaseId.projectId,"databases",o.databaseId.database]).canonicalString()}function gy(o){return ua(o.length>4&&o.get(4)==="documents"),o.popFirst(5)}function s4(o,e){let t;if("targetChange"in e){e.targetChange;const c=function(st){return st==="NO_CHANGE"?0:st==="ADD"?1:st==="REMOVE"?2:st==="CURRENT"?3:st==="RESET"?4:ii()}(e.targetChange.targetChangeType||"NO_CHANGE"),_=e.targetChange.targetIds||[],ee=function(st,yt){return st.useProto3Json?(ua(yt===void 0||typeof yt=="string"),cs.fromBase64String(yt||"")):(ua(yt===void 0||yt instanceof Buffer||yt instanceof Uint8Array),cs.fromUint8Array(yt||new Uint8Array))}(o,e.targetChange.resumeToken),we=e.targetChange.cause,Fe=we&&function(st){const yt=st.code===void 0?Qn.UNKNOWN:dy(st.code);return new Lo(yt,st.message||"")}(we);t=new hy(c,_,ee,Fe||null)}else if("documentChange"in e){e.documentChange;const c=e.documentChange;c.document,c.document.name,c.document.updateTime;const _=M0(o,c.document.name),ee=Pu(c.document.updateTime),we=c.document.createTime?Pu(c.document.createTime):qo.min(),Fe=new ql({mapValue:{fields:c.document.fields}}),nt=ws.newFoundDocument(_,ee,we,Fe),st=c.targetIds||[],yt=c.removedTargetIds||[];t=new Kf(st,yt,nt.key,nt)}else if("documentDelete"in e){e.documentDelete;const c=e.documentDelete;c.document;const _=M0(o,c.document),ee=c.readTime?Pu(c.readTime):qo.min(),we=ws.newNoDocument(_,ee),Fe=c.removedTargetIds||[];t=new Kf([],Fe,we.key,we)}else if("documentRemove"in e){e.documentRemove;const c=e.documentRemove;c.document;const _=M0(o,c.document),ee=c.removedTargetIds||[];t=new Kf([],ee,_,null)}else{if(!("filter"in e))return ii();{e.filter;const c=e.filter;c.targetId;const{count:_=0,unchangedNames:ee}=c,we=new $6(_,ee),Fe=c.targetId;t=new fy(Fe,we)}}return t}function l4(o,e){return{documents:[my(o,e.path)]}}function c4(o,e){const t={structuredQuery:{}},c=e.path;let _;e.collectionGroup!==null?(_=c,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(_=c.popLast(),t.structuredQuery.from=[{collectionId:c.lastSegment()}]),t.parent=my(o,_);const ee=function(st){if(st.length!==0)return by(tc.create(st,"and"))}(e.filters);ee&&(t.structuredQuery.where=ee);const we=function(st){if(st.length!==0)return st.map(yt=>function(We){return{field:Ou(We.field),direction:f4(We.dir)}}(yt))}(e.orderBy);we&&(t.structuredQuery.orderBy=we);const Fe=dp(o,e.limit);return Fe!==null&&(t.structuredQuery.limit=Fe),e.startAt&&(t.structuredQuery.startAt=function(st){return{before:st.inclusive,values:st.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(st){return{before:!st.inclusive,values:st.position}}(e.endAt)),{ht:t,parent:_}}function u4(o){let e=a4(o.parent);const t=o.structuredQuery,c=t.from?t.from.length:0;let _=null;if(c>0){ua(c===1);const yt=t.from[0];yt.allDescendants?_=yt.collectionId:e=e.child(yt.collectionId)}let ee=[];t.where&&(ee=function(kt){const We=vy(kt);return We instanceof tc&&Qb(We)?We.getFilters():[We]}(t.where));let we=[];t.orderBy&&(we=function(kt){return kt.map(We=>function(n){return new eh(Tu(n.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(n.direction))}(We))}(t.orderBy));let Fe=null;t.limit&&(Fe=function(kt){let We;return We=typeof kt=="object"?kt.value:kt,Sh(We)?null:We}(t.limit));let nt=null;t.startAt&&(nt=function(kt){const We=!!kt.before,ue=kt.values||[];return new Jf(ue,We)}(t.startAt));let st=null;return t.endAt&&(st=function(kt){const We=!kt.before,ue=kt.values||[];return new Jf(ue,We)}(t.endAt)),T6(e,_,we,ee,Fe,"F",nt,st)}function d4(o,e){const t=function(_){switch(_){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ii()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function vy(o){return o.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const c=Tu(t.unaryFilter.field);return za.create(c,"==",{doubleValue:NaN});case"IS_NULL":const _=Tu(t.unaryFilter.field);return za.create(_,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const ee=Tu(t.unaryFilter.field);return za.create(ee,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const we=Tu(t.unaryFilter.field);return za.create(we,"!=",{nullValue:"NULL_VALUE"});default:return ii()}}(o):o.fieldFilter!==void 0?function(t){return za.create(Tu(t.fieldFilter.field),function(_){switch(_){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ii()}}(t.fieldFilter.op),t.fieldFilter.value)}(o):o.compositeFilter!==void 0?function(t){return tc.create(t.compositeFilter.filters.map(c=>vy(c)),function(_){switch(_){case"AND":return"and";case"OR":return"or";default:return ii()}}(t.compositeFilter.op))}(o):ii()}function f4(o){return J6[o]}function h4(o){return e4[o]}function p4(o){return t4[o]}function Ou(o){return{fieldPath:o.canonicalString()}}function Tu(o){return Ms.fromServerFormat(o.fieldPath)}function by(o){return o instanceof za?function(t){if(t.op==="=="){if(T1(t.value))return{unaryFilter:{field:Ou(t.field),op:"IS_NAN"}};if(O1(t.value))return{unaryFilter:{field:Ou(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(T1(t.value))return{unaryFilter:{field:Ou(t.field),op:"IS_NOT_NAN"}};if(O1(t.value))return{unaryFilter:{field:Ou(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ou(t.field),op:h4(t.op),value:t.value}}}(o):o instanceof tc?function(t){const c=t.getFilters().map(_=>by(_));return c.length===1?c[0]:{compositeFilter:{op:p4(t.op),filters:c}}}(o):ii()}function yy(o){return o.length>=4&&o.get(0)==="projects"&&o.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,t,c,_,ee=qo.min(),we=qo.min(),Fe=cs.EMPTY_BYTE_STRING,nt=null){this.target=e,this.targetId=t,this.purpose=c,this.sequenceNumber=_,this.snapshotVersion=ee,this.lastLimboFreeSnapshotVersion=we,this.resumeToken=Fe,this.expectedCount=nt}withSequenceNumber(e){return new Ac(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ac(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ac(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ac(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e){this.Tt=e}}function g4(o){const e=u4({parent:o.parent,structuredQuery:o.structuredQuery});return o.limitType==="LAST"?lp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(){this.Tn=new b4}addToCollectionParentIndex(e,t){return this.Tn.add(t),Cn.resolve()}getCollectionParents(e,t){return Cn.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return Cn.resolve()}deleteFieldIndex(e,t){return Cn.resolve()}deleteAllFieldIndexes(e){return Cn.resolve()}createTargetIndexes(e,t){return Cn.resolve()}getDocumentsMatchingTarget(e,t){return Cn.resolve(null)}getIndexType(e,t){return Cn.resolve(0)}getFieldIndexes(e,t){return Cn.resolve([])}getNextCollectionGroupToUpdate(e){return Cn.resolve(null)}getMinOffset(e,t){return Cn.resolve(Bc.min())}getMinOffsetFromCollectionGroup(e,t){return Cn.resolve(Bc.min())}updateCollectionGroup(e,t,c){return Cn.resolve()}updateIndexEntries(e,t){return Cn.resolve()}}class b4{constructor(){this.index={}}add(e){const t=e.lastSegment(),c=e.popLast(),_=this.index[t]||new Fa(ga.comparator),ee=!_.has(c);return this.index[t]=_.add(c),ee}has(e){const t=e.lastSegment(),c=e.popLast(),_=this.index[t];return _&&_.has(c)}getEntries(e){return(this.index[e]||new Fa(ga.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xy=41943040;class Qs{static withCacheSize(e){return new Qs(e,Qs.DEFAULT_COLLECTION_PERCENTILE,Qs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,c){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=c}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qs.DEFAULT_COLLECTION_PERCENTILE=10,Qs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qs.DEFAULT=new Qs(xy,Qs.DEFAULT_COLLECTION_PERCENTILE,Qs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qs.DISABLED=new Qs(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Hu(0)}static Un(){return new Hu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1="LruGarbageCollector",y4=1048576;function V1([o,e],[t,c]){const _=Ci(o,t);return _===0?Ci(e,c):_}class x4{constructor(e){this.Hn=e,this.buffer=new Fa(V1),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const c=this.buffer.last();V1(t,c)<0&&(this.buffer=this.buffer.delete(c).add(t))}}get maxValue(){return this.buffer.last()[0]}}class w4{constructor(e,t,c){this.garbageCollector=e,this.asyncQueue=t,this.localStore=c,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){io(U1,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ed(t)?io(U1,"Ignoring IndexedDB error during garbage collection: ",t):await kh(t)}await this.er(3e5)})}}class E4{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(c=>Math.floor(t/100*c))}nthSequenceNumber(e,t){if(t===0)return Cn.resolve(_h.ae);const c=new x4(t);return this.tr.forEachTarget(e,_=>c.Zn(_.sequenceNumber)).next(()=>this.tr.rr(e,_=>c.Zn(_))).next(()=>c.maxValue)}removeTargets(e,t,c){return this.tr.removeTargets(e,t,c)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(io("LruGarbageCollector","Garbage collection skipped; disabled"),Cn.resolve(W1)):this.getCacheSize(e).next(c=>c<this.params.cacheSizeCollectionThreshold?(io("LruGarbageCollector",`Garbage collection skipped; Cache size ${c} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),W1):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let c,_,ee,we,Fe,nt,st;const yt=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(kt=>(kt>this.params.maximumSequenceNumbersToCollect?(io("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${kt}`),_=this.params.maximumSequenceNumbersToCollect):_=kt,we=Date.now(),this.nthSequenceNumber(e,_))).next(kt=>(c=kt,Fe=Date.now(),this.removeTargets(e,c,t))).next(kt=>(ee=kt,nt=Date.now(),this.removeOrphanedDocuments(e,c))).next(kt=>(st=Date.now(),Cu()<=wi.DEBUG&&io("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${we-yt}ms
	Determined least recently used ${_} in `+(Fe-we)+`ms
	Removed ${ee} targets in `+(nt-Fe)+`ms
	Removed ${kt} documents in `+(st-nt)+`ms
Total Duration: ${st-yt}ms`),Cn.resolve({didRun:!0,sequenceNumbersCollected:_,targetsRemoved:ee,documentsRemoved:kt})))}}function k4(o,e){return new E4(o,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(){this.changes=new vu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ws.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const c=this.changes.get(t);return c!==void 0?Cn.resolve(c):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e,t,c,_){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=c,this.indexManager=_}getDocument(e,t){let c=null;return this.documentOverlayCache.getOverlay(e,t).next(_=>(c=_,this.remoteDocumentCache.getEntry(e,t))).next(_=>(c!==null&&Sd(c.mutation,_,Mc.empty(),tl.now()),_))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(c=>this.getLocalViewOfDocuments(e,c,Pi()).next(()=>c))}getLocalViewOfDocuments(e,t,c=Pi()){const _=au();return this.populateOverlays(e,_,t).next(()=>this.computeViews(e,t,_,c).next(ee=>{let we=xd();return ee.forEach((Fe,nt)=>{we=we.insert(Fe,nt.overlayedDocument)}),we}))}getOverlayedDocuments(e,t){const c=au();return this.populateOverlays(e,c,t).next(()=>this.computeViews(e,t,c,Pi()))}populateOverlays(e,t,c){const _=[];return c.forEach(ee=>{t.has(ee)||_.push(ee)}),this.documentOverlayCache.getOverlays(e,_).next(ee=>{ee.forEach((we,Fe)=>{t.set(we,Fe)})})}computeViews(e,t,c,_){let ee=Uc();const we=_d(),Fe=function(){return _d()}();return t.forEach((nt,st)=>{const yt=c.get(st.key);_.has(st.key)&&(yt===void 0||yt.mutation instanceof Ph)?ee=ee.insert(st.key,st):yt!==void 0?(we.set(st.key,yt.mutation.getFieldMask()),Sd(yt.mutation,st,yt.mutation.getFieldMask(),tl.now())):we.set(st.key,Mc.empty())}),this.recalculateAndSaveOverlays(e,ee).next(nt=>(nt.forEach((st,yt)=>we.set(st,yt)),t.forEach((st,yt)=>{var kt;return Fe.set(st,new S4(yt,(kt=we.get(st))!==null&&kt!==void 0?kt:null))}),Fe))}recalculateAndSaveOverlays(e,t){const c=_d();let _=new Qa((we,Fe)=>we-Fe),ee=Pi();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(we=>{for(const Fe of we)Fe.keys().forEach(nt=>{const st=t.get(nt);if(st===null)return;let yt=c.get(nt)||Mc.empty();yt=Fe.applyToLocalView(st,yt),c.set(nt,yt);const kt=(_.get(Fe.batchId)||Pi()).add(nt);_=_.insert(Fe.batchId,kt)})}).next(()=>{const we=[],Fe=_.getReverseIterator();for(;Fe.hasNext();){const nt=Fe.getNext(),st=nt.key,yt=nt.value,kt=iy();yt.forEach(We=>{if(!ee.has(We)){const ue=cy(t.get(We),c.get(We));ue!==null&&kt.set(We,ue),ee=ee.add(We)}}),we.push(this.documentOverlayCache.saveOverlays(e,st,kt))}return Cn.waitFor(we)}).next(()=>c)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(c=>this.recalculateAndSaveOverlays(e,c))}getDocumentsMatchingQuery(e,t,c,_){return function(we){return No.isDocumentKey(we.path)&&we.collectionGroup===null&&we.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):j6(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,c,_):this.getDocumentsMatchingCollectionQuery(e,t,c,_)}getNextDocuments(e,t,c,_){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,c,_).next(ee=>{const we=_-ee.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,c.largestBatchId,_-ee.size):Cn.resolve(au());let Fe=Ld,nt=ee;return we.next(st=>Cn.forEach(st,(yt,kt)=>(Fe<kt.largestBatchId&&(Fe=kt.largestBatchId),ee.get(yt)?Cn.resolve():this.remoteDocumentCache.getEntry(e,yt).next(We=>{nt=nt.insert(yt,We)}))).next(()=>this.populateOverlays(e,st,ee)).next(()=>this.computeViews(e,nt,st,Pi())).next(yt=>({batchId:Fe,changes:R6(yt)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new No(t)).next(c=>{let _=xd();return c.isFoundDocument()&&(_=_.insert(c.key,c)),_})}getDocumentsMatchingCollectionGroupQuery(e,t,c,_){const ee=t.collectionGroup;let we=xd();return this.indexManager.getCollectionParents(e,ee).next(Fe=>Cn.forEach(Fe,nt=>{const st=function(kt,We){return new Ih(We,null,kt.explicitOrderBy.slice(),kt.filters.slice(),kt.limit,kt.limitType,kt.startAt,kt.endAt)}(t,nt.child(ee));return this.getDocumentsMatchingCollectionQuery(e,st,c,_).next(yt=>{yt.forEach((kt,We)=>{we=we.insert(kt,We)})})}).next(()=>we))}getDocumentsMatchingCollectionQuery(e,t,c,_){let ee;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,c.largestBatchId).next(we=>(ee=we,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,c,ee,_))).next(we=>{ee.forEach((nt,st)=>{const yt=st.getKey();we.get(yt)===null&&(we=we.insert(yt,ws.newInvalidDocument(yt)))});let Fe=xd();return we.forEach((nt,st)=>{const yt=ee.get(nt);yt!==void 0&&Sd(yt.mutation,st,Mc.empty(),tl.now()),Th(t,st)&&(Fe=Fe.insert(nt,st))}),Fe})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return Cn.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(_){return{id:_.id,version:_.version,createTime:Pu(_.createTime)}}(t)),Cn.resolve()}getNamedQuery(e,t){return Cn.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(_){return{name:_.name,query:g4(_.bundledQuery),readTime:Pu(_.readTime)}}(t)),Cn.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(){this.overlays=new Qa(No.comparator),this.Rr=new Map}getOverlay(e,t){return Cn.resolve(this.overlays.get(t))}getOverlays(e,t){const c=au();return Cn.forEach(t,_=>this.getOverlay(e,_).next(ee=>{ee!==null&&c.set(_,ee)})).next(()=>c)}saveOverlays(e,t,c){return c.forEach((_,ee)=>{this.Et(e,t,ee)}),Cn.resolve()}removeOverlaysForBatchId(e,t,c){const _=this.Rr.get(c);return _!==void 0&&(_.forEach(ee=>this.overlays=this.overlays.remove(ee)),this.Rr.delete(c)),Cn.resolve()}getOverlaysForCollection(e,t,c){const _=au(),ee=t.length+1,we=new No(t.child("")),Fe=this.overlays.getIteratorFrom(we);for(;Fe.hasNext();){const nt=Fe.getNext().value,st=nt.getKey();if(!t.isPrefixOf(st.path))break;st.path.length===ee&&nt.largestBatchId>c&&_.set(nt.getKey(),nt)}return Cn.resolve(_)}getOverlaysForCollectionGroup(e,t,c,_){let ee=new Qa((st,yt)=>st-yt);const we=this.overlays.getIterator();for(;we.hasNext();){const st=we.getNext().value;if(st.getKey().getCollectionGroup()===t&&st.largestBatchId>c){let yt=ee.get(st.largestBatchId);yt===null&&(yt=au(),ee=ee.insert(st.largestBatchId,yt)),yt.set(st.getKey(),st)}}const Fe=au(),nt=ee.getIterator();for(;nt.hasNext()&&(nt.getNext().value.forEach((st,yt)=>Fe.set(st,yt)),!(Fe.size()>=_)););return Cn.resolve(Fe)}Et(e,t,c){const _=this.overlays.get(c.key);if(_!==null){const we=this.Rr.get(_.largestBatchId).delete(c.key);this.Rr.set(_.largestBatchId,we)}this.overlays=this.overlays.insert(c.key,new Y6(t,c));let ee=this.Rr.get(t);ee===void 0&&(ee=Pi(),this.Rr.set(t,ee)),this.Rr.set(t,ee.add(c.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(){this.sessionToken=cs.EMPTY_BYTE_STRING}getSessionToken(e){return Cn.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Cn.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(){this.Vr=new Fa($a.mr),this.gr=new Fa($a.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const c=new $a(e,t);this.Vr=this.Vr.add(c),this.gr=this.gr.add(c)}yr(e,t){e.forEach(c=>this.addReference(c,t))}removeReference(e,t){this.wr(new $a(e,t))}br(e,t){e.forEach(c=>this.removeReference(c,t))}Sr(e){const t=new No(new ga([])),c=new $a(t,e),_=new $a(t,e+1),ee=[];return this.gr.forEachInRange([c,_],we=>{this.wr(we),ee.push(we.key)}),ee}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new No(new ga([])),c=new $a(t,e),_=new $a(t,e+1);let ee=Pi();return this.gr.forEachInRange([c,_],we=>{ee=ee.add(we.key)}),ee}containsKey(e){const t=new $a(e,0),c=this.Vr.firstAfterOrEqual(t);return c!==null&&e.isEqual(c.key)}}class $a{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return No.comparator(e.key,t.key)||Ci(e.Cr,t.Cr)}static pr(e,t){return Ci(e.Cr,t.Cr)||No.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Fa($a.mr)}checkEmpty(e){return Cn.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,c,_){const ee=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const we=new G6(ee,t,c,_);this.mutationQueue.push(we);for(const Fe of _)this.Mr=this.Mr.add(new $a(Fe.key,ee)),this.indexManager.addToCollectionParentIndex(e,Fe.key.path.popLast());return Cn.resolve(we)}lookupMutationBatch(e,t){return Cn.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const c=t+1,_=this.Nr(c),ee=_<0?0:_;return Cn.resolve(this.mutationQueue.length>ee?this.mutationQueue[ee]:null)}getHighestUnacknowledgedBatchId(){return Cn.resolve(this.mutationQueue.length===0?l6:this.Fr-1)}getAllMutationBatches(e){return Cn.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const c=new $a(t,0),_=new $a(t,Number.POSITIVE_INFINITY),ee=[];return this.Mr.forEachInRange([c,_],we=>{const Fe=this.Or(we.Cr);ee.push(Fe)}),Cn.resolve(ee)}getAllMutationBatchesAffectingDocumentKeys(e,t){let c=new Fa(Ci);return t.forEach(_=>{const ee=new $a(_,0),we=new $a(_,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([ee,we],Fe=>{c=c.add(Fe.Cr)})}),Cn.resolve(this.Br(c))}getAllMutationBatchesAffectingQuery(e,t){const c=t.path,_=c.length+1;let ee=c;No.isDocumentKey(ee)||(ee=ee.child(""));const we=new $a(new No(ee),0);let Fe=new Fa(Ci);return this.Mr.forEachWhile(nt=>{const st=nt.key.path;return!!c.isPrefixOf(st)&&(st.length===_&&(Fe=Fe.add(nt.Cr)),!0)},we),Cn.resolve(this.Br(Fe))}Br(e){const t=[];return e.forEach(c=>{const _=this.Or(c);_!==null&&t.push(_)}),t}removeMutationBatch(e,t){ua(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let c=this.Mr;return Cn.forEach(t.mutations,_=>{const ee=new $a(_.key,t.batchId);return c=c.delete(ee),this.referenceDelegate.markPotentiallyOrphaned(e,_.key)}).next(()=>{this.Mr=c})}qn(e){}containsKey(e,t){const c=new $a(t,0),_=this.Mr.firstAfterOrEqual(c);return Cn.resolve(t.isEqual(_&&_.key))}performConsistencyCheck(e){return this.mutationQueue.length,Cn.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e){this.kr=e,this.docs=function(){return new Qa(No.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const c=t.key,_=this.docs.get(c),ee=_?_.size:0,we=this.kr(t);return this.docs=this.docs.insert(c,{document:t.mutableCopy(),size:we}),this.size+=we-ee,this.indexManager.addToCollectionParentIndex(e,c.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const c=this.docs.get(t);return Cn.resolve(c?c.document.mutableCopy():ws.newInvalidDocument(t))}getEntries(e,t){let c=Uc();return t.forEach(_=>{const ee=this.docs.get(_);c=c.insert(_,ee?ee.document.mutableCopy():ws.newInvalidDocument(_))}),Cn.resolve(c)}getDocumentsMatchingQuery(e,t,c,_){let ee=Uc();const we=t.path,Fe=new No(we.child("__id-9223372036854775808__")),nt=this.docs.getIteratorFrom(Fe);for(;nt.hasNext();){const{key:st,value:{document:yt}}=nt.getNext();if(!we.isPrefixOf(st.path))break;st.path.length>we.length+1||o6(n6(yt),c)<=0||(_.has(yt.key)||Th(t,yt))&&(ee=ee.insert(yt.key,yt.mutableCopy()))}return Cn.resolve(ee)}getAllFromCollectionGroup(e,t,c,_){ii()}qr(e,t){return Cn.forEach(this.docs,c=>t(c))}newChangeBuffer(e){return new M4(this)}getSize(e){return Cn.resolve(this.size)}}class M4 extends _4{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((c,_)=>{_.isValidDocument()?t.push(this.Ir.addEntry(e,_)):this.Ir.removeEntry(c)}),Cn.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(e){this.persistence=e,this.Qr=new vu(t=>Kp(t),Gp),this.lastRemoteSnapshotVersion=qo.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Qp,this.targetCount=0,this.Ur=Hu.Kn()}forEachTarget(e,t){return this.Qr.forEach((c,_)=>t(_)),Cn.resolve()}getLastRemoteSnapshotVersion(e){return Cn.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Cn.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),Cn.resolve(this.highestTargetId)}setTargetsMetadata(e,t,c){return c&&(this.lastRemoteSnapshotVersion=c),t>this.$r&&(this.$r=t),Cn.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Hu(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,Cn.resolve()}updateTargetData(e,t){return this.zn(t),Cn.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,Cn.resolve()}removeTargets(e,t,c){let _=0;const ee=[];return this.Qr.forEach((we,Fe)=>{Fe.sequenceNumber<=t&&c.get(Fe.targetId)===null&&(this.Qr.delete(we),ee.push(this.removeMatchingKeysForTargetId(e,Fe.targetId)),_++)}),Cn.waitFor(ee).next(()=>_)}getTargetCount(e){return Cn.resolve(this.targetCount)}getTargetData(e,t){const c=this.Qr.get(t)||null;return Cn.resolve(c)}addMatchingKeys(e,t,c){return this.Kr.yr(t,c),Cn.resolve()}removeMatchingKeys(e,t,c){this.Kr.br(t,c);const _=this.persistence.referenceDelegate,ee=[];return _&&t.forEach(we=>{ee.push(_.markPotentiallyOrphaned(e,we))}),Cn.waitFor(ee)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),Cn.resolve()}getMatchingKeysForTargetId(e,t){const c=this.Kr.vr(t);return Cn.resolve(c)}containsKey(e,t){return Cn.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new _h(0),this.zr=!1,this.zr=!0,this.jr=new T4,this.referenceDelegate=e(this),this.Hr=new A4(this),this.indexManager=new v4,this.remoteDocumentCache=function(_){return new P4(_)}(c=>this.referenceDelegate.Jr(c)),this.serializer=new m4(t),this.Yr=new I4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new O4,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let c=this.Wr[e.toKey()];return c||(c=new j4(t,this.referenceDelegate),this.Wr[e.toKey()]=c),c}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,c){io("MemoryPersistence","Starting transaction:",e);const _=new D4(this.Gr.next());return this.referenceDelegate.Zr(),c(_).next(ee=>this.referenceDelegate.Xr(_).next(()=>ee)).toPromise().then(ee=>(_.raiseOnCommittedEvent(),ee))}ei(e,t){return Cn.or(Object.values(this.Wr).map(c=>()=>c.containsKey(e,t)))}}class D4 extends a6{constructor(e){super(),this.currentSequenceNumber=e}}class Jp{constructor(e){this.persistence=e,this.ti=new Qp,this.ni=null}static ri(e){return new Jp(e)}get ii(){if(this.ni)return this.ni;throw ii()}addReference(e,t,c){return this.ti.addReference(c,t),this.ii.delete(c.toString()),Cn.resolve()}removeReference(e,t,c){return this.ti.removeReference(c,t),this.ii.add(c.toString()),Cn.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),Cn.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(_=>this.ii.add(_.toString()));const c=this.persistence.getTargetCache();return c.getMatchingKeysForTargetId(e,t.targetId).next(_=>{_.forEach(ee=>this.ii.add(ee.toString()))}).next(()=>c.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Cn.forEach(this.ii,c=>{const _=No.fromPath(c);return this.si(e,_).next(ee=>{ee||t.removeEntry(_,qo.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(c=>{c?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return Cn.or([()=>Cn.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class nh{constructor(e,t){this.persistence=e,this.oi=new vu(c=>c6(c.path),(c,_)=>c.isEqual(_)),this.garbageCollector=k4(this,t)}static ri(e,t){return new nh(e,t)}Zr(){}Xr(e){return Cn.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(c=>t.next(_=>c+_))}sr(e){let t=0;return this.rr(e,c=>{t++}).next(()=>t)}rr(e,t){return Cn.forEach(this.oi,(c,_)=>this.ar(e,c,_).next(ee=>ee?Cn.resolve():t(_)))}removeTargets(e,t,c){return this.persistence.getTargetCache().removeTargets(e,t,c)}removeOrphanedDocuments(e,t){let c=0;const _=this.persistence.getRemoteDocumentCache(),ee=_.newChangeBuffer();return _.qr(e,we=>this.ar(e,we,t).next(Fe=>{Fe||(c++,ee.removeEntry(we,qo.min()))})).next(()=>ee.apply(e)).next(()=>c)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),Cn.resolve()}removeTarget(e,t){const c=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,c)}addReference(e,t,c){return this.oi.set(c,e.currentSequenceNumber),Cn.resolve()}removeReference(e,t,c){return this.oi.set(c,e.currentSequenceNumber),Cn.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),Cn.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Uf(e.data.value)),t}ar(e,t,c){return Cn.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const _=this.oi.get(t);return Cn.resolve(_!==void 0&&_>c)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,t,c,_){this.targetId=e,this.fromCache=t,this.Hi=c,this.Ji=_}static Yi(e,t){let c=Pi(),_=Pi();for(const ee of t.docChanges)switch(ee.type){case 0:c=c.add(ee.doc.key);break;case 1:_=_.add(ee.doc.key)}return new em(e,t.fromCache,c,_)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return T3()?8:s6(kb())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,c,_){const ee={result:null};return this.rs(e,t).next(we=>{ee.result=we}).next(()=>{if(!ee.result)return this.ss(e,t,_,c).next(we=>{ee.result=we})}).next(()=>{if(ee.result)return;const we=new R4;return this._s(e,t,we).next(Fe=>{if(ee.result=Fe,this.Xi)return this.us(e,t,we,Fe.size)})}).next(()=>ee.result)}us(e,t,c,_){return c.documentReadCount<this.es?(Cu()<=wi.DEBUG&&io("QueryEngine","SDK will not create cache indexes for query:",Iu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Cn.resolve()):(Cu()<=wi.DEBUG&&io("QueryEngine","Query:",Iu(t),"scans",c.documentReadCount,"local documents and returns",_,"documents as results."),c.documentReadCount>this.ts*_?(Cu()<=wi.DEBUG&&io("QueryEngine","The SDK decides to create cache indexes for query:",Iu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ql(t))):Cn.resolve())}rs(e,t){if(A1(t))return Cn.resolve(null);let c=Ql(t);return this.indexManager.getIndexType(e,c).next(_=>_===0?null:(t.limit!==null&&_===1&&(t=lp(t,null,"F"),c=Ql(t)),this.indexManager.getDocumentsMatchingTarget(e,c).next(ee=>{const we=Pi(...ee);return this.ns.getDocuments(e,we).next(Fe=>this.indexManager.getMinOffset(e,c).next(nt=>{const st=this.cs(t,Fe);return this.ls(t,st,we,nt.readTime)?this.rs(e,lp(t,null,"F")):this.hs(e,st,t,nt)}))})))}ss(e,t,c,_){return A1(t)||_.isEqual(qo.min())?Cn.resolve(null):this.ns.getDocuments(e,c).next(ee=>{const we=this.cs(t,ee);return this.ls(t,we,c,_)?Cn.resolve(null):(Cu()<=wi.DEBUG&&io("QueryEngine","Re-using previous result from %s to execute query: %s",_.toString(),Iu(t)),this.hs(e,we,t,r6(_,Ld)).next(Fe=>Fe))})}cs(e,t){let c=new Fa(ny(e));return t.forEach((_,ee)=>{Th(e,ee)&&(c=c.add(ee))}),c}ls(e,t,c,_){if(e.limit===null)return!1;if(c.size!==t.size)return!0;const ee=e.limitType==="F"?t.last():t.first();return!!ee&&(ee.hasPendingWrites||ee.version.compareTo(_)>0)}_s(e,t,c){return Cu()<=wi.DEBUG&&io("QueryEngine","Using full collection scan to execute query:",Iu(t)),this.ns.getDocumentsMatchingQuery(e,t,Bc.min(),c)}hs(e,t,c,_){return this.ns.getDocumentsMatchingQuery(e,c,_).next(ee=>(t.forEach(we=>{ee=ee.insert(we.key,we)}),ee))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm="LocalStore",N4=3e8;class Z4{constructor(e,t,c,_){this.persistence=e,this.Ps=t,this.serializer=_,this.Ts=new Qa(Ci),this.Is=new vu(ee=>Kp(ee),Gp),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(c)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new C4(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function z4(o,e,t,c){return new Z4(o,e,t,c)}async function Ey(o,e){const t=Ii(o);return await t.persistence.runTransaction("Handle user change","readonly",c=>{let _;return t.mutationQueue.getAllMutationBatches(c).next(ee=>(_=ee,t.As(e),t.mutationQueue.getAllMutationBatches(c))).next(ee=>{const we=[],Fe=[];let nt=Pi();for(const st of _){we.push(st.batchId);for(const yt of st.mutations)nt=nt.add(yt.key)}for(const st of ee){Fe.push(st.batchId);for(const yt of st.mutations)nt=nt.add(yt.key)}return t.localDocuments.getDocuments(c,nt).next(st=>({Rs:st,removedBatchIds:we,addedBatchIds:Fe}))})})}function ky(o){const e=Ii(o);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function B4(o,e){const t=Ii(o),c=e.snapshotVersion;let _=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",ee=>{const we=t.ds.newChangeBuffer({trackRemovals:!0});_=t.Ts;const Fe=[];e.targetChanges.forEach((yt,kt)=>{const We=_.get(kt);if(!We)return;Fe.push(t.Hr.removeMatchingKeys(ee,yt.removedDocuments,kt).next(()=>t.Hr.addMatchingKeys(ee,yt.addedDocuments,kt)));let ue=We.withSequenceNumber(ee.currentSequenceNumber);e.targetMismatches.get(kt)!==null?ue=ue.withResumeToken(cs.EMPTY_BYTE_STRING,qo.min()).withLastLimboFreeSnapshotVersion(qo.min()):yt.resumeToken.approximateByteSize()>0&&(ue=ue.withResumeToken(yt.resumeToken,c)),_=_.insert(kt,ue),function(r,A,k){return r.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-r.snapshotVersion.toMicroseconds()>=N4?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(We,ue,yt)&&Fe.push(t.Hr.updateTargetData(ee,ue))});let nt=Uc(),st=Pi();if(e.documentUpdates.forEach(yt=>{e.resolvedLimboDocuments.has(yt)&&Fe.push(t.persistence.referenceDelegate.updateLimboDocument(ee,yt))}),Fe.push(F4(ee,we,e.documentUpdates).next(yt=>{nt=yt.Vs,st=yt.fs})),!c.isEqual(qo.min())){const yt=t.Hr.getLastRemoteSnapshotVersion(ee).next(kt=>t.Hr.setTargetsMetadata(ee,ee.currentSequenceNumber,c));Fe.push(yt)}return Cn.waitFor(Fe).next(()=>we.apply(ee)).next(()=>t.localDocuments.getLocalViewOfDocuments(ee,nt,st)).next(()=>nt)}).then(ee=>(t.Ts=_,ee))}function F4(o,e,t){let c=Pi(),_=Pi();return t.forEach(ee=>c=c.add(ee)),e.getEntries(o,c).next(ee=>{let we=Uc();return t.forEach((Fe,nt)=>{const st=ee.get(Fe);nt.isFoundDocument()!==st.isFoundDocument()&&(_=_.add(Fe)),nt.isNoDocument()&&nt.version.isEqual(qo.min())?(e.removeEntry(Fe,nt.readTime),we=we.insert(Fe,nt)):!st.isValidDocument()||nt.version.compareTo(st.version)>0||nt.version.compareTo(st.version)===0&&st.hasPendingWrites?(e.addEntry(nt),we=we.insert(Fe,nt)):io(tm,"Ignoring outdated watch update for ",Fe,". Current version:",st.version," Watch version:",nt.version)}),{Vs:we,fs:_}})}function H4(o,e){const t=Ii(o);return t.persistence.runTransaction("Allocate target","readwrite",c=>{let _;return t.Hr.getTargetData(c,e).next(ee=>ee?(_=ee,Cn.resolve(_)):t.Hr.allocateTargetId(c).next(we=>(_=new Ac(e,we,"TargetPurposeListen",c.currentSequenceNumber),t.Hr.addTargetData(c,_).next(()=>_))))}).then(c=>{const _=t.Ts.get(c.targetId);return(_===null||c.snapshotVersion.compareTo(_.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(c.targetId,c),t.Is.set(e,c.targetId)),c})}async function hp(o,e,t){const c=Ii(o),_=c.Ts.get(e),ee=t?"readwrite":"readwrite-primary";try{t||await c.persistence.runTransaction("Release target",ee,we=>c.persistence.referenceDelegate.removeTarget(we,_))}catch(we){if(!ed(we))throw we;io(tm,`Failed to update sequence numbers for target ${e}: ${we}`)}c.Ts=c.Ts.remove(e),c.Is.delete(_.target)}function K1(o,e,t){const c=Ii(o);let _=qo.min(),ee=Pi();return c.persistence.runTransaction("Execute query","readwrite",we=>function(nt,st,yt){const kt=Ii(nt),We=kt.Is.get(yt);return We!==void 0?Cn.resolve(kt.Ts.get(We)):kt.Hr.getTargetData(st,yt)}(c,we,Ql(e)).next(Fe=>{if(Fe)return _=Fe.lastLimboFreeSnapshotVersion,c.Hr.getMatchingKeysForTargetId(we,Fe.targetId).next(nt=>{ee=nt})}).next(()=>c.Ps.getDocumentsMatchingQuery(we,e,t?_:qo.min(),t?ee:Pi())).next(Fe=>(W4(c,M6(e),Fe),{documents:Fe,gs:ee})))}function W4(o,e,t){let c=o.Es.get(e)||qo.min();t.forEach((_,ee)=>{ee.readTime.compareTo(c)>0&&(c=ee.readTime)}),o.Es.set(e,c)}class G1{constructor(){this.activeTargetIds=Z6()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class U4{constructor(){this.ho=new G1,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,c){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,c){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new G1,Promise.resolve()}handleUserChange(e,t,c){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1="ConnectivityMonitor";class $1{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){io(Y1,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){io(Y1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lf=null;function pp(){return Lf===null?Lf=function(){return 268435456+Math.round(2147483648*Math.random())}():Lf++,"0x"+Lf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="RestConnection",K4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class G4{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",c=encodeURIComponent(this.databaseId.projectId),_=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${c}/databases/${_}`,this.wo=this.databaseId.database===Qf?`project_id=${c}`:`project_id=${c}&database_id=${_}`}bo(e,t,c,_,ee){const we=pp(),Fe=this.So(e,t.toUriEncodedString());io(A0,`Sending RPC '${e}' ${we}:`,Fe,c);const nt={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(nt,_,ee),this.vo(e,Fe,nt,c).then(st=>(io(A0,`Received RPC '${e}' ${we}: `,st),st),st=>{throw Zu(A0,`RPC '${e}' ${we} failed with error: `,st,"url: ",Fe,"request:",c),st})}Co(e,t,c,_,ee,we){return this.bo(e,t,c,_,ee)}Do(e,t,c){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ju}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((_,ee)=>e[ee]=_),c&&c.headers.forEach((_,ee)=>e[ee]=_)}So(e,t){const c=K4[e];return`${this.po}/v1/${t}:${c}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys="WebChannelConnection";class $4 extends G4{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,c,_){const ee=pp();return new Promise((we,Fe)=>{const nt=new Nb;nt.setWithCredentials(!0),nt.listenOnce(Zb.COMPLETE,()=>{try{switch(nt.getLastErrorCode()){case Wf.NO_ERROR:const yt=nt.getResponseJson();io(ys,`XHR for RPC '${e}' ${ee} received:`,JSON.stringify(yt)),we(yt);break;case Wf.TIMEOUT:io(ys,`RPC '${e}' ${ee} timed out`),Fe(new Lo(Qn.DEADLINE_EXCEEDED,"Request time out"));break;case Wf.HTTP_ERROR:const kt=nt.getStatus();if(io(ys,`RPC '${e}' ${ee} failed with status:`,kt,"response text:",nt.getResponseText()),kt>0){let We=nt.getResponseJson();Array.isArray(We)&&(We=We[0]);const ue=We==null?void 0:We.error;if(ue&&ue.status&&ue.message){const n=function(A){const k=A.toLowerCase().replace(/_/g,"-");return Object.values(Qn).indexOf(k)>=0?k:Qn.UNKNOWN}(ue.status);Fe(new Lo(n,ue.message))}else Fe(new Lo(Qn.UNKNOWN,"Server responded with status "+nt.getStatus()))}else Fe(new Lo(Qn.UNAVAILABLE,"Connection failed."));break;default:ii()}}finally{io(ys,`RPC '${e}' ${ee} completed.`)}});const st=JSON.stringify(_);io(ys,`RPC '${e}' ${ee} sending request:`,_),nt.send(t,"POST",st,c,15)})}Wo(e,t,c){const _=pp(),ee=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],we=Fb(),Fe=Bb(),nt={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},st=this.longPollingOptions.timeoutSeconds;st!==void 0&&(nt.longPollingTimeout=Math.round(1e3*st)),this.useFetchStreams&&(nt.useFetchStreams=!0),this.Do(nt.initMessageHeaders,t,c),nt.encodeInitMessageHeaders=!0;const yt=ee.join("");io(ys,`Creating RPC '${e}' stream ${_}: ${yt}`,nt);const kt=we.createWebChannel(yt,nt);let We=!1,ue=!1;const n=new Y4({Fo:A=>{ue?io(ys,`Not sending because RPC '${e}' stream ${_} is closed:`,A):(We||(io(ys,`Opening RPC '${e}' stream ${_} transport.`),kt.open(),We=!0),io(ys,`RPC '${e}' stream ${_} sending:`,A),kt.send(A))},Mo:()=>kt.close()}),r=(A,k,b)=>{A.listen(k,w=>{try{b(w)}catch(N){setTimeout(()=>{throw N},0)}})};return r(kt,yd.EventType.OPEN,()=>{ue||(io(ys,`RPC '${e}' stream ${_} transport opened.`),n.Qo())}),r(kt,yd.EventType.CLOSE,()=>{ue||(ue=!0,io(ys,`RPC '${e}' stream ${_} transport closed`),n.Ko())}),r(kt,yd.EventType.ERROR,A=>{ue||(ue=!0,Zu(ys,`RPC '${e}' stream ${_} transport errored:`,A),n.Ko(new Lo(Qn.UNAVAILABLE,"The operation could not be completed")))}),r(kt,yd.EventType.MESSAGE,A=>{var k;if(!ue){const b=A.data[0];ua(!!b);const w=b,N=(w==null?void 0:w.error)||((k=w[0])===null||k===void 0?void 0:k.error);if(N){io(ys,`RPC '${e}' stream ${_} received error:`,N);const M=N.status;let f=function(L){const H=Aa[L];if(H!==void 0)return dy(H)}(M),d=N.message;f===void 0&&(f=Qn.INTERNAL,d="Unknown error status: "+M+" with message "+N.message),ue=!0,n.Ko(new Lo(f,d)),kt.close()}else io(ys,`RPC '${e}' stream ${_} received:`,b),n.Uo(b)}}),r(Fe,zb.STAT_EVENT,A=>{A.stat===ep.PROXY?io(ys,`RPC '${e}' stream ${_} detected buffering proxy`):A.stat===ep.NOPROXY&&io(ys,`RPC '${e}' stream ${_} detected no buffering proxy`)}),setTimeout(()=>{n.$o()},0),n}}function D0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(o){return new r4(o,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(e,t,c=1e3,_=1.5,ee=6e4){this.Ti=e,this.timerId=t,this.Go=c,this.zo=_,this.jo=ee,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),c=Math.max(0,Date.now()-this.Yo),_=Math.max(0,t-c);_>0&&io("ExponentialBackoff",`Backing off for ${_} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${c} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,_,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1="PersistentStream";class X4{constructor(e,t,c,_,ee,we,Fe,nt){this.Ti=e,this.n_=c,this.r_=_,this.connection=ee,this.authCredentialsProvider=we,this.appCheckCredentialsProvider=Fe,this.listener=nt,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Sy(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===Qn.RESOURCE_EXHAUSTED?(yc(t.toString()),yc("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===Qn.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([c,_])=>{this.i_===t&&this.V_(c,_)},c=>{e(()=>{const _=new Lo(Qn.UNKNOWN,"Fetching auth token failed: "+c.message);return this.m_(_)})})}V_(e,t){const c=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{c(()=>this.listener.xo())}),this.stream.No(()=>{c(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(_=>{c(()=>this.m_(_))}),this.stream.onMessage(_=>{c(()=>++this.__==1?this.g_(_):this.onNext(_))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return io(X1,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(io(X1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class q4 extends X4{constructor(e,t,c,_,ee,we){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,c,_,we),this.serializer=ee}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=s4(this.serializer,e),c=function(ee){if(!("targetChange"in ee))return qo.min();const we=ee.targetChange;return we.targetIds&&we.targetIds.length?qo.min():we.readTime?Pu(we.readTime):qo.min()}(e);return this.listener.p_(t,c)}y_(e){const t={};t.database=H1(this.serializer),t.addTarget=function(ee,we){let Fe;const nt=we.target;if(Fe=sp(nt)?{documents:l4(ee,nt)}:{query:c4(ee,nt).ht},Fe.targetId=we.targetId,we.resumeToken.approximateByteSize()>0){Fe.resumeToken=o4(ee,we.resumeToken);const st=dp(ee,we.expectedCount);st!==null&&(Fe.expectedCount=st)}else if(we.snapshotVersion.compareTo(qo.min())>0){Fe.readTime=n4(ee,we.snapshotVersion.toTimestamp());const st=dp(ee,we.expectedCount);st!==null&&(Fe.expectedCount=st)}return Fe}(this.serializer,e);const c=d4(this.serializer,e);c&&(t.labels=c),this.I_(t)}w_(e){const t={};t.database=H1(this.serializer),t.removeTarget=e,this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{}class J4 extends Q4{constructor(e,t,c,_){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=c,this.serializer=_,this.F_=!1}M_(){if(this.F_)throw new Lo(Qn.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,c,_){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([ee,we])=>this.connection.bo(e,fp(t,c),_,ee,we)).catch(ee=>{throw ee.name==="FirebaseError"?(ee.code===Qn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),ee):new Lo(Qn.UNKNOWN,ee.toString())})}Co(e,t,c,_,ee){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([we,Fe])=>this.connection.Co(e,fp(t,c),_,we,Fe,ee)).catch(we=>{throw we.name==="FirebaseError"?(we.code===Qn.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),we):new Lo(Qn.UNKNOWN,we.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class eE{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(yc(t),this.N_=!1):io("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wu="RemoteStore";class tE{constructor(e,t,c,_,ee){this.localStore=e,this.datastore=t,this.asyncQueue=c,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=ee,this.z_.To(we=>{c.enqueueAndForget(async()=>{ef(this)&&(io(Wu,"Restarting streams for network reachability change."),await async function(nt){const st=Ii(nt);st.W_.add(4),await Jd(st),st.j_.set("Unknown"),st.W_.delete(4),await Ah(st)}(this))})}),this.j_=new eE(c,_)}}async function Ah(o){if(ef(o))for(const e of o.G_)await e(!0)}async function Jd(o){for(const e of o.G_)await e(!1)}function Cy(o,e){const t=Ii(o);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),im(t)?om(t):td(t).c_()&&nm(t,e))}function rm(o,e){const t=Ii(o),c=td(t);t.U_.delete(e),c.c_()&&Iy(t,e),t.U_.size===0&&(c.c_()?c.P_():ef(t)&&t.j_.set("Unknown"))}function nm(o,e){if(o.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(qo.min())>0){const t=o.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}td(o).y_(e)}function Iy(o,e){o.H_.Ne(e),td(o).w_(e)}function om(o){o.H_=new Q6({getRemoteKeysForTarget:e=>o.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>o.U_.get(e)||null,it:()=>o.datastore.serializer.databaseId}),td(o).start(),o.j_.B_()}function im(o){return ef(o)&&!td(o).u_()&&o.U_.size>0}function ef(o){return Ii(o).W_.size===0}function Oy(o){o.H_=void 0}async function rE(o){o.j_.set("Online")}async function nE(o){o.U_.forEach((e,t)=>{nm(o,e)})}async function oE(o,e){Oy(o),im(o)?(o.j_.q_(e),om(o)):o.j_.set("Unknown")}async function iE(o,e,t){if(o.j_.set("Online"),e instanceof hy&&e.state===2&&e.cause)try{await async function(_,ee){const we=ee.cause;for(const Fe of ee.targetIds)_.U_.has(Fe)&&(await _.remoteSyncer.rejectListen(Fe,we),_.U_.delete(Fe),_.H_.removeTarget(Fe))}(o,e)}catch(c){io(Wu,"Failed to remove targets %s: %s ",e.targetIds.join(","),c),await q1(o,c)}else if(e instanceof Kf?o.H_.We(e):e instanceof fy?o.H_.Ze(e):o.H_.je(e),!t.isEqual(qo.min()))try{const c=await ky(o.localStore);t.compareTo(c)>=0&&await function(ee,we){const Fe=ee.H_.ot(we);return Fe.targetChanges.forEach((nt,st)=>{if(nt.resumeToken.approximateByteSize()>0){const yt=ee.U_.get(st);yt&&ee.U_.set(st,yt.withResumeToken(nt.resumeToken,we))}}),Fe.targetMismatches.forEach((nt,st)=>{const yt=ee.U_.get(nt);if(!yt)return;ee.U_.set(nt,yt.withResumeToken(cs.EMPTY_BYTE_STRING,yt.snapshotVersion)),Iy(ee,nt);const kt=new Ac(yt.target,nt,st,yt.sequenceNumber);nm(ee,kt)}),ee.remoteSyncer.applyRemoteEvent(Fe)}(o,t)}catch(c){io(Wu,"Failed to raise snapshot:",c),await q1(o,c)}}async function q1(o,e,t){if(!ed(e))throw e;o.W_.add(1),await Jd(o),o.j_.set("Offline"),t||(t=()=>ky(o.localStore)),o.asyncQueue.enqueueRetryable(async()=>{io(Wu,"Retrying IndexedDB access"),await t(),o.W_.delete(1),await Ah(o)})}async function Q1(o,e){const t=Ii(o);t.asyncQueue.verifyOperationInProgress(),io(Wu,"RemoteStore received new credentials");const c=ef(t);t.W_.add(3),await Jd(t),c&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Ah(t)}async function aE(o,e){const t=Ii(o);e?(t.W_.delete(2),await Ah(t)):e||(t.W_.add(2),await Jd(t),t.j_.set("Unknown"))}function td(o){return o.J_||(o.J_=function(t,c,_){const ee=Ii(t);return ee.M_(),new q4(c,ee.connection,ee.authCredentials,ee.appCheckCredentials,ee.serializer,_)}(o.datastore,o.asyncQueue,{xo:rE.bind(null,o),No:nE.bind(null,o),Lo:oE.bind(null,o),p_:iE.bind(null,o)}),o.G_.push(async e=>{e?(o.J_.h_(),im(o)?om(o):o.j_.set("Unknown")):(await o.J_.stop(),Oy(o))})),o.J_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e,t,c,_,ee){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=c,this.op=_,this.removalCallback=ee,this.deferred=new cu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(we=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,c,_,ee){const we=Date.now()+c,Fe=new am(e,t,we,_,ee);return Fe.start(c),Fe}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Lo(Qn.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ty(o,e){if(yc("AsyncQueue",`${e}: ${o}`),ed(o))return new Lo(Qn.UNAVAILABLE,`${e}: ${o}`);throw o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{static emptySet(e){return new Mu(e.comparator)}constructor(e){this.comparator=e?(t,c)=>e(t,c)||No.comparator(t.key,c.key):(t,c)=>No.comparator(t.key,c.key),this.keyedMap=xd(),this.sortedSet=new Qa(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,c)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Mu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),c=e.sortedSet.getIterator();for(;t.hasNext();){const _=t.getNext().key,ee=c.getNext().key;if(!_.isEqual(ee))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const c=new Mu;return c.comparator=this.comparator,c.keyedMap=e,c.sortedSet=t,c}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(){this.Z_=new Qa(No.comparator)}track(e){const t=e.doc.key,c=this.Z_.get(t);c?e.type!==0&&c.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&c.type!==1?this.Z_=this.Z_.insert(t,{type:c.type,doc:e.doc}):e.type===2&&c.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&c.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&c.type===0?this.Z_=this.Z_.remove(t):e.type===1&&c.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:c.doc}):e.type===0&&c.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):ii():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,c)=>{e.push(c)}),e}}class Uu{constructor(e,t,c,_,ee,we,Fe,nt,st){this.query=e,this.docs=t,this.oldDocs=c,this.docChanges=_,this.mutatedKeys=ee,this.fromCache=we,this.syncStateChanged=Fe,this.excludesMetadataChanges=nt,this.hasCachedResults=st}static fromInitialDocuments(e,t,c,_,ee){const we=[];return t.forEach(Fe=>{we.push({type:0,doc:Fe})}),new Uu(e,t,Mu.emptySet(t),we,c,_,!0,!1,ee)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Oh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,c=e.docChanges;if(t.length!==c.length)return!1;for(let _=0;_<t.length;_++)if(t[_].type!==c[_].type||!t[_].doc.isEqual(c[_].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class lE{constructor(){this.queries=ev(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,c){const _=Ii(t),ee=_.queries;_.queries=ev(),ee.forEach((we,Fe)=>{for(const nt of Fe.ta)nt.onError(c)})})(this,new Lo(Qn.ABORTED,"Firestore shutting down"))}}function ev(){return new vu(o=>ry(o),Oh)}async function cE(o,e){const t=Ii(o);let c=3;const _=e.query;let ee=t.queries.get(_);ee?!ee.na()&&e.ra()&&(c=2):(ee=new sE,c=e.ra()?0:1);try{switch(c){case 0:ee.ea=await t.onListen(_,!0);break;case 1:ee.ea=await t.onListen(_,!1);break;case 2:await t.onFirstRemoteStoreListen(_)}}catch(we){const Fe=Ty(we,`Initialization of query '${Iu(e.query)}' failed`);return void e.onError(Fe)}t.queries.set(_,ee),ee.ta.push(e),e.sa(t.onlineState),ee.ea&&e.oa(ee.ea)&&sm(t)}async function uE(o,e){const t=Ii(o),c=e.query;let _=3;const ee=t.queries.get(c);if(ee){const we=ee.ta.indexOf(e);we>=0&&(ee.ta.splice(we,1),ee.ta.length===0?_=e.ra()?0:1:!ee.na()&&e.ra()&&(_=2))}switch(_){case 0:return t.queries.delete(c),t.onUnlisten(c,!0);case 1:return t.queries.delete(c),t.onUnlisten(c,!1);case 2:return t.onLastRemoteStoreUnlisten(c);default:return}}function dE(o,e){const t=Ii(o);let c=!1;for(const _ of e){const ee=_.query,we=t.queries.get(ee);if(we){for(const Fe of we.ta)Fe.oa(_)&&(c=!0);we.ea=_}}c&&sm(t)}function fE(o,e,t){const c=Ii(o),_=c.queries.get(e);if(_)for(const ee of _.ta)ee.onError(t);c.queries.delete(e)}function sm(o){o.ia.forEach(e=>{e.next()})}var mp,tv;(tv=mp||(mp={}))._a="default",tv.Cache="cache";class hE{constructor(e,t,c){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=c||{}}oa(e){if(!this.options.includeMetadataChanges){const c=[];for(const _ of e.docChanges)_.type!==3&&c.push(_);e=new Uu(e.query,e.docs,e.oldDocs,c,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const c=t!=="Offline";return(!this.options.Ta||!c)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Uu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==mp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e){this.key=e}}class Py{constructor(e){this.key=e}}class pE{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Pi(),this.mutatedKeys=Pi(),this.ya=ny(e),this.wa=new Mu(this.ya)}get ba(){return this.fa}Sa(e,t){const c=t?t.Da:new J1,_=t?t.wa:this.wa;let ee=t?t.mutatedKeys:this.mutatedKeys,we=_,Fe=!1;const nt=this.query.limitType==="F"&&_.size===this.query.limit?_.last():null,st=this.query.limitType==="L"&&_.size===this.query.limit?_.first():null;if(e.inorderTraversal((yt,kt)=>{const We=_.get(yt),ue=Th(this.query,kt)?kt:null,n=!!We&&this.mutatedKeys.has(We.key),r=!!ue&&(ue.hasLocalMutations||this.mutatedKeys.has(ue.key)&&ue.hasCommittedMutations);let A=!1;We&&ue?We.data.isEqual(ue.data)?n!==r&&(c.track({type:3,doc:ue}),A=!0):this.va(We,ue)||(c.track({type:2,doc:ue}),A=!0,(nt&&this.ya(ue,nt)>0||st&&this.ya(ue,st)<0)&&(Fe=!0)):!We&&ue?(c.track({type:0,doc:ue}),A=!0):We&&!ue&&(c.track({type:1,doc:We}),A=!0,(nt||st)&&(Fe=!0)),A&&(ue?(we=we.add(ue),ee=r?ee.add(yt):ee.delete(yt)):(we=we.delete(yt),ee=ee.delete(yt)))}),this.query.limit!==null)for(;we.size>this.query.limit;){const yt=this.query.limitType==="F"?we.last():we.first();we=we.delete(yt.key),ee=ee.delete(yt.key),c.track({type:1,doc:yt})}return{wa:we,Da:c,ls:Fe,mutatedKeys:ee}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,c,_){const ee=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const we=e.Da.X_();we.sort((yt,kt)=>function(ue,n){const r=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ii()}};return r(ue)-r(n)}(yt.type,kt.type)||this.ya(yt.doc,kt.doc)),this.Ca(c),_=_!=null&&_;const Fe=t&&!_?this.Fa():[],nt=this.pa.size===0&&this.current&&!_?1:0,st=nt!==this.ga;return this.ga=nt,we.length!==0||st?{snapshot:new Uu(this.query,e.wa,ee,we,e.mutatedKeys,nt===0,st,!1,!!c&&c.resumeToken.approximateByteSize()>0),Ma:Fe}:{Ma:Fe}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new J1,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Pi(),this.wa.forEach(c=>{this.xa(c.key)&&(this.pa=this.pa.add(c.key))});const t=[];return e.forEach(c=>{this.pa.has(c)||t.push(new Py(c))}),this.pa.forEach(c=>{e.has(c)||t.push(new jy(c))}),t}Oa(e){this.fa=e.gs,this.pa=Pi();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return Uu.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const lm="SyncEngine";class mE{constructor(e,t,c){this.query=e,this.targetId=t,this.view=c}}class gE{constructor(e){this.key=e,this.Ba=!1}}class vE{constructor(e,t,c,_,ee,we){this.localStore=e,this.remoteStore=t,this.eventManager=c,this.sharedClientState=_,this.currentUser=ee,this.maxConcurrentLimboResolutions=we,this.La={},this.ka=new vu(Fe=>ry(Fe),Oh),this.qa=new Map,this.Qa=new Set,this.$a=new Qa(No.comparator),this.Ka=new Map,this.Ua=new Qp,this.Wa={},this.Ga=new Map,this.za=Hu.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function bE(o,e,t=!0){const c=Ly(o);let _;const ee=c.ka.get(e);return ee?(c.sharedClientState.addLocalQueryTarget(ee.targetId),_=ee.view.Na()):_=await My(c,e,t,!0),_}async function yE(o,e){const t=Ly(o);await My(t,e,!0,!1)}async function My(o,e,t,c){const _=await H4(o.localStore,Ql(e)),ee=_.targetId,we=o.sharedClientState.addLocalQueryTarget(ee,t);let Fe;return c&&(Fe=await xE(o,e,ee,we==="current",_.resumeToken)),o.isPrimaryClient&&t&&Cy(o.remoteStore,_),Fe}async function xE(o,e,t,c,_){o.Ha=(kt,We,ue)=>async function(r,A,k,b){let w=A.view.Sa(k);w.ls&&(w=await K1(r.localStore,A.query,!1).then(({documents:d})=>A.view.Sa(d,w)));const N=b&&b.targetChanges.get(A.targetId),M=b&&b.targetMismatches.get(A.targetId)!=null,f=A.view.applyChanges(w,r.isPrimaryClient,N,M);return nv(r,A.targetId,f.Ma),f.snapshot}(o,kt,We,ue);const ee=await K1(o.localStore,e,!0),we=new pE(e,ee.gs),Fe=we.Sa(ee.documents),nt=Qd.createSynthesizedTargetChangeForCurrentChange(t,c&&o.onlineState!=="Offline",_),st=we.applyChanges(Fe,o.isPrimaryClient,nt);nv(o,t,st.Ma);const yt=new mE(e,t,we);return o.ka.set(e,yt),o.qa.has(t)?o.qa.get(t).push(e):o.qa.set(t,[e]),st.snapshot}async function wE(o,e,t){const c=Ii(o),_=c.ka.get(e),ee=c.qa.get(_.targetId);if(ee.length>1)return c.qa.set(_.targetId,ee.filter(we=>!Oh(we,e))),void c.ka.delete(e);c.isPrimaryClient?(c.sharedClientState.removeLocalQueryTarget(_.targetId),c.sharedClientState.isActiveQueryTarget(_.targetId)||await hp(c.localStore,_.targetId,!1).then(()=>{c.sharedClientState.clearQueryState(_.targetId),t&&rm(c.remoteStore,_.targetId),gp(c,_.targetId)}).catch(kh)):(gp(c,_.targetId),await hp(c.localStore,_.targetId,!0))}async function EE(o,e){const t=Ii(o),c=t.ka.get(e),_=t.qa.get(c.targetId);t.isPrimaryClient&&_.length===1&&(t.sharedClientState.removeLocalQueryTarget(c.targetId),rm(t.remoteStore,c.targetId))}async function Ay(o,e){const t=Ii(o);try{const c=await B4(t.localStore,e);e.targetChanges.forEach((_,ee)=>{const we=t.Ka.get(ee);we&&(ua(_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size<=1),_.addedDocuments.size>0?we.Ba=!0:_.modifiedDocuments.size>0?ua(we.Ba):_.removedDocuments.size>0&&(ua(we.Ba),we.Ba=!1))}),await Ry(t,c,e)}catch(c){await kh(c)}}function rv(o,e,t){const c=Ii(o);if(c.isPrimaryClient&&t===0||!c.isPrimaryClient&&t===1){const _=[];c.ka.forEach((ee,we)=>{const Fe=we.view.sa(e);Fe.snapshot&&_.push(Fe.snapshot)}),function(we,Fe){const nt=Ii(we);nt.onlineState=Fe;let st=!1;nt.queries.forEach((yt,kt)=>{for(const We of kt.ta)We.sa(Fe)&&(st=!0)}),st&&sm(nt)}(c.eventManager,e),_.length&&c.La.p_(_),c.onlineState=e,c.isPrimaryClient&&c.sharedClientState.setOnlineState(e)}}async function kE(o,e,t){const c=Ii(o);c.sharedClientState.updateQueryState(e,"rejected",t);const _=c.Ka.get(e),ee=_&&_.key;if(ee){let we=new Qa(No.comparator);we=we.insert(ee,ws.newNoDocument(ee,qo.min()));const Fe=Pi().add(ee),nt=new Mh(qo.min(),new Map,new Qa(Ci),we,Fe);await Ay(c,nt),c.$a=c.$a.remove(ee),c.Ka.delete(e),cm(c)}else await hp(c.localStore,e,!1).then(()=>gp(c,e,t)).catch(kh)}function gp(o,e,t=null){o.sharedClientState.removeLocalQueryTarget(e);for(const c of o.qa.get(e))o.ka.delete(c),t&&o.La.Ja(c,t);o.qa.delete(e),o.isPrimaryClient&&o.Ua.Sr(e).forEach(c=>{o.Ua.containsKey(c)||Dy(o,c)})}function Dy(o,e){o.Qa.delete(e.path.canonicalString());const t=o.$a.get(e);t!==null&&(rm(o.remoteStore,t),o.$a=o.$a.remove(e),o.Ka.delete(t),cm(o))}function nv(o,e,t){for(const c of t)c instanceof jy?(o.Ua.addReference(c.key,e),_E(o,c)):c instanceof Py?(io(lm,"Document no longer in limbo: "+c.key),o.Ua.removeReference(c.key,e),o.Ua.containsKey(c.key)||Dy(o,c.key)):ii()}function _E(o,e){const t=e.key,c=t.path.canonicalString();o.$a.get(t)||o.Qa.has(c)||(io(lm,"New document in limbo: "+t),o.Qa.add(c),cm(o))}function cm(o){for(;o.Qa.size>0&&o.$a.size<o.maxConcurrentLimboResolutions;){const e=o.Qa.values().next().value;o.Qa.delete(e);const t=new No(ga.fromString(e)),c=o.za.next();o.Ka.set(c,new gE(t)),o.$a=o.$a.insert(t,c),Cy(o.remoteStore,new Ac(Ql(Yp(t.path)),c,"TargetPurposeLimboResolution",_h.ae))}}async function Ry(o,e,t){const c=Ii(o),_=[],ee=[],we=[];c.ka.isEmpty()||(c.ka.forEach((Fe,nt)=>{we.push(c.Ha(nt,e,t).then(st=>{var yt;if((st||t)&&c.isPrimaryClient){const kt=st?!st.fromCache:(yt=t==null?void 0:t.targetChanges.get(nt.targetId))===null||yt===void 0?void 0:yt.current;c.sharedClientState.updateQueryState(nt.targetId,kt?"current":"not-current")}if(st){_.push(st);const kt=em.Yi(nt.targetId,st);ee.push(kt)}}))}),await Promise.all(we),c.La.p_(_),await async function(nt,st){const yt=Ii(nt);try{await yt.persistence.runTransaction("notifyLocalViewChanges","readwrite",kt=>Cn.forEach(st,We=>Cn.forEach(We.Hi,ue=>yt.persistence.referenceDelegate.addReference(kt,We.targetId,ue)).next(()=>Cn.forEach(We.Ji,ue=>yt.persistence.referenceDelegate.removeReference(kt,We.targetId,ue)))))}catch(kt){if(!ed(kt))throw kt;io(tm,"Failed to update sequence numbers: "+kt)}for(const kt of st){const We=kt.targetId;if(!kt.fromCache){const ue=yt.Ts.get(We),n=ue.snapshotVersion,r=ue.withLastLimboFreeSnapshotVersion(n);yt.Ts=yt.Ts.insert(We,r)}}}(c.localStore,ee))}async function SE(o,e){const t=Ii(o);if(!t.currentUser.isEqual(e)){io(lm,"User change. New user:",e.toKey());const c=await Ey(t.localStore,e);t.currentUser=e,function(ee,we){ee.Ga.forEach(Fe=>{Fe.forEach(nt=>{nt.reject(new Lo(Qn.CANCELLED,we))})}),ee.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,c.removedBatchIds,c.addedBatchIds),await Ry(t,c.Rs)}}function CE(o,e){const t=Ii(o),c=t.Ka.get(e);if(c&&c.Ba)return Pi().add(c.key);{let _=Pi();const ee=t.qa.get(e);if(!ee)return _;for(const we of ee){const Fe=t.ka.get(we);_=_.unionWith(Fe.view.ba)}return _}}function Ly(o){const e=Ii(o);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ay.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CE.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kE.bind(null,e),e.La.p_=dE.bind(null,e.eventManager),e.La.Ja=fE.bind(null,e.eventManager),e}class oh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_y(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return z4(this.persistence,new L4,e.initialUser,this.serializer)}Xa(e){return new wy(Jp.ri,this.serializer)}Za(e){return new U4}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}oh.provider={build:()=>new oh};class IE extends oh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){ua(this.persistence.referenceDelegate instanceof nh);const c=this.persistence.referenceDelegate.garbageCollector;return new w4(c,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Qs.withCacheSize(this.cacheSizeBytes):Qs.DEFAULT;return new wy(c=>nh.ri(c,t),this.serializer)}}class vp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=c=>rv(this.syncEngine,c,1),this.remoteStore.remoteSyncer.handleCredentialChange=SE.bind(null,this.syncEngine),await aE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new lE}()}createDatastore(e){const t=_y(e.databaseInfo.databaseId),c=function(ee){return new $4(ee)}(e.databaseInfo);return function(ee,we,Fe,nt){return new J4(ee,we,Fe,nt)}(e.authCredentials,e.appCheckCredentials,c,t)}createRemoteStore(e){return function(c,_,ee,we,Fe){return new tE(c,_,ee,we,Fe)}(this.localStore,this.datastore,e.asyncQueue,t=>rv(this.syncEngine,t,0),function(){return $1.D()?new $1:new V4}())}createSyncEngine(e,t){return function(_,ee,we,Fe,nt,st,yt){const kt=new vE(_,ee,we,Fe,nt,st);return yt&&(kt.ja=!0),kt}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(_){const ee=Ii(_);io(Wu,"RemoteStore shutting down."),ee.W_.add(5),await Jd(ee),ee.z_.shutdown(),ee.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}vp.provider={build:()=>new vp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):yc("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vc="FirestoreClient";class TE{constructor(e,t,c,_,ee){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=c,this.databaseInfo=_,this.user=xs.UNAUTHENTICATED,this.clientId=Wb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=ee,this.authCredentials.start(c,async we=>{io(Vc,"Received user=",we.uid),await this.authCredentialListener(we),this.user=we}),this.appCheckCredentials.start(c,we=>(io(Vc,"Received new app check token=",we),this.appCheckCredentialListener(we,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new cu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const c=Ty(t,"Failed to shutdown persistence");e.reject(c)}}),e.promise}}async function R0(o,e){o.asyncQueue.verifyOperationInProgress(),io(Vc,"Initializing OfflineComponentProvider");const t=o.configuration;await e.initialize(t);let c=t.initialUser;o.setCredentialChangeListener(async _=>{c.isEqual(_)||(await Ey(e.localStore,_),c=_)}),e.persistence.setDatabaseDeletedListener(()=>o.terminate()),o._offlineComponents=e}async function ov(o,e){o.asyncQueue.verifyOperationInProgress();const t=await jE(o);io(Vc,"Initializing OnlineComponentProvider"),await e.initialize(t,o.configuration),o.setCredentialChangeListener(c=>Q1(e.remoteStore,c)),o.setAppCheckTokenChangeListener((c,_)=>Q1(e.remoteStore,_)),o._onlineComponents=e}async function jE(o){if(!o._offlineComponents)if(o._uninitializedComponentsProvider){io(Vc,"Using user provided OfflineComponentProvider");try{await R0(o,o._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(_){return _.name==="FirebaseError"?_.code===Qn.FAILED_PRECONDITION||_.code===Qn.UNIMPLEMENTED:!(typeof DOMException<"u"&&_ instanceof DOMException)||_.code===22||_.code===20||_.code===11}(t))throw t;Zu("Error using user provided cache. Falling back to memory cache: "+t),await R0(o,new oh)}}else io(Vc,"Using default OfflineComponentProvider"),await R0(o,new IE(void 0));return o._offlineComponents}async function PE(o){return o._onlineComponents||(o._uninitializedComponentsProvider?(io(Vc,"Using user provided OnlineComponentProvider"),await ov(o,o._uninitializedComponentsProvider._online)):(io(Vc,"Using default OnlineComponentProvider"),await ov(o,new vp))),o._onlineComponents}async function ME(o){const e=await PE(o),t=e.eventManager;return t.onListen=bE.bind(null,e.syncEngine),t.onUnlisten=wE.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=yE.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=EE.bind(null,e.syncEngine),t}function AE(o,e,t={}){const c=new cu;return o.asyncQueue.enqueueAndForget(async()=>function(ee,we,Fe,nt,st){const yt=new OE({next:We=>{yt.su(),we.enqueueAndForget(()=>uE(ee,kt));const ue=We.docs.has(Fe);!ue&&We.fromCache?st.reject(new Lo(Qn.UNAVAILABLE,"Failed to get document because the client is offline.")):ue&&We.fromCache&&nt&&nt.source==="server"?st.reject(new Lo(Qn.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):st.resolve(We)},error:We=>st.reject(We)}),kt=new hE(Yp(Fe.path),yt,{includeMetadataChanges:!0,Ta:!0});return cE(ee,kt)}(await ME(o),o.asyncQueue,e,t,c)),c.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny(o){const e={};return o.timeoutSeconds!==void 0&&(e.timeoutSeconds=o.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(o,e,t){if(!t)throw new Lo(Qn.INVALID_ARGUMENT,`Function ${o}() cannot be called with an empty ${e}.`)}function RE(o,e,t,c){if(e===!0&&c===!0)throw new Lo(Qn.INVALID_ARGUMENT,`${o} and ${t} cannot be used together.`)}function av(o){if(!No.isDocumentKey(o))throw new Lo(Qn.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${o} has ${o.length}.`)}function LE(o){if(o===void 0)return"undefined";if(o===null)return"null";if(typeof o=="string")return o.length>20&&(o=`${o.substring(0,20)}...`),JSON.stringify(o);if(typeof o=="number"||typeof o=="boolean")return""+o;if(typeof o=="object"){if(o instanceof Array)return"an array";{const e=function(c){return c.constructor?c.constructor.name:null}(o);return e?`a custom ${e} object`:"an object"}}return typeof o=="function"?"a function":ii()}function bp(o,e){if("_delegate"in o&&(o=o._delegate),!(o instanceof e)){if(e.name===o.constructor.name)throw new Lo(Qn.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=LE(o);throw new Lo(Qn.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy="firestore.googleapis.com",sv=!0;class lv{constructor(e){var t,c;if(e.host===void 0){if(e.ssl!==void 0)throw new Lo(Qn.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Zy,this.ssl=sv}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:sv;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=xy;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<y4)throw new Lo(Qn.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}RE("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ny((c=e.experimentalLongPollingOptions)!==null&&c!==void 0?c:{}),function(ee){if(ee.timeoutSeconds!==void 0){if(isNaN(ee.timeoutSeconds))throw new Lo(Qn.INVALID_ARGUMENT,`invalid long polling timeout: ${ee.timeoutSeconds} (must not be NaN)`);if(ee.timeoutSeconds<5)throw new Lo(Qn.INVALID_ARGUMENT,`invalid long polling timeout: ${ee.timeoutSeconds} (minimum allowed value is 5)`);if(ee.timeoutSeconds>30)throw new Lo(Qn.INVALID_ARGUMENT,`invalid long polling timeout: ${ee.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(c,_){return c.timeoutSeconds===_.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class um{constructor(e,t,c,_){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=c,this._app=_,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Lo(Qn.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Lo(Qn.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(c){if(!c)return new Y5;switch(c.type){case"firstParty":return new Q5(c.sessionIndex||"0",c.iamToken||null,c.authTokenFactory||null);case"provider":return c.client;default:throw new Lo(Qn.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const c=iv.get(t);c&&(io("ComponentProvider","Removing Datastore"),iv.delete(t),c.terminate())}(this),Promise.resolve()}}function NE(o,e,t,c={}){var _;const ee=(o=bp(o,um))._getSettings(),we=Object.assign(Object.assign({},ee),{emulatorOptions:o._getEmulatorOptions()}),Fe=`${e}:${t}`;ee.host!==Zy&&ee.host!==Fe&&Zu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const nt=Object.assign(Object.assign({},ee),{host:Fe,ssl:!1,emulatorOptions:c});if(!Ad(nt,we)&&(o._setSettings(nt),c.mockUserToken)){let st,yt;if(typeof c.mockUserToken=="string")st=c.mockUserToken,yt=xs.MOCK_USER;else{st=Eb(c.mockUserToken,(_=o._app)===null||_===void 0?void 0:_.options.projectId);const kt=c.mockUserToken.sub||c.mockUserToken.user_id;if(!kt)throw new Lo(Qn.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");yt=new xs(kt)}o._authCredentials=new $5(new Hb(st,yt))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,t,c){this.converter=t,this._query=c,this.type="query",this.firestore=e}withConverter(e){return new dm(this.firestore,e,this._query)}}class mc{constructor(e,t,c){this.converter=t,this._key=c,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mc(this.firestore,e,this._key)}}class Bd extends dm{constructor(e,t,c){super(e,t,Yp(c)),this._path=c,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mc(this.firestore,null,new No(e))}withConverter(e){return new Bd(this.firestore,e,this._path)}}function ZE(o,e,...t){if(o=Qu(o),arguments.length===1&&(e=Wb.newId()),DE("doc","path",e),o instanceof um){const c=ga.fromString(e,...t);return av(c),new mc(o,null,new No(c))}{if(!(o instanceof mc||o instanceof Bd))throw new Lo(Qn.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const c=o._path.child(ga.fromString(e,...t));return av(c),new mc(o.firestore,o instanceof Bd?o.converter:null,new No(c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv="AsyncQueue";class uv{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Sy(this,"async_queue_retry"),this.bu=()=>{const c=D0();c&&io(cv,"Visibility state changed to "+c.visibilityState),this.a_.t_()},this.Su=e;const t=D0();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=D0();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new cu;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!ed(e))throw e;io(cv,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.Su.then(()=>(this.pu=!0,e().catch(c=>{this.gu=c,this.pu=!1;const _=function(we){let Fe=we.message||"";return we.stack&&(Fe=we.stack.includes(we.message)?we.stack:we.message+`
`+we.stack),Fe}(c);throw yc("INTERNAL UNHANDLED ERROR: ",_),c}).then(c=>(this.pu=!1,c))));return this.Su=t,t}enqueueAfterDelay(e,t,c){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const _=am.createAndSchedule(this,e,t,c,ee=>this.Fu(ee));return this.fu.push(_),_}Du(){this.gu&&ii()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,c)=>t.targetTimeMs-c.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class zy extends um{constructor(e,t,c,_){super(e,t,c,_),this.type="firestore",this._queue=new uv,this._persistenceKey=(_==null?void 0:_.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uv(e),this._firestoreClient=void 0,await e}}}function zE(o,e){const t=typeof o=="object"?o:Ab(),c=typeof o=="string"?o:Qf,_=Tb(t,"firestore").getImmediate({identifier:c});if(!_._initialized){const ee=xb("firestore");ee&&NE(_,...ee)}return _}function BE(o){if(o._terminated)throw new Lo(Qn.FAILED_PRECONDITION,"The client has already been terminated.");return o._firestoreClient||FE(o),o._firestoreClient}function FE(o){var e,t,c;const _=o._freezeSettings(),ee=function(Fe,nt,st,yt){return new h6(Fe,nt,st,yt.host,yt.ssl,yt.experimentalForceLongPolling,yt.experimentalAutoDetectLongPolling,Ny(yt.experimentalLongPollingOptions),yt.useFetchStreams)}(o._databaseId,((e=o._app)===null||e===void 0?void 0:e.options.appId)||"",o._persistenceKey,_);o._componentsProvider||!((t=_.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((c=_.localCache)===null||c===void 0)&&c._onlineComponentProvider)&&(o._componentsProvider={_offline:_.localCache._offlineComponentProvider,_online:_.localCache._onlineComponentProvider}),o._firestoreClient=new TE(o._authCredentials,o._appCheckCredentials,o._queue,ee,o._componentsProvider&&function(Fe){const nt=Fe==null?void 0:Fe._online.build();return{_offline:Fe==null?void 0:Fe._offline.build(nt),_online:nt}}(o._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ih(cs.fromBase64String(e))}catch(t){throw new Lo(Qn.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ih(cs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Lo(Qn.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ms(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Lo(Qn.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Lo(Qn.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ci(this._lat,e._lat)||Ci(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(c,_){if(c.length!==_.length)return!1;for(let ee=0;ee<c.length;++ee)if(c[ee]!==_[ee])return!1;return!0}(this._values,e._values)}}const UE=new RegExp("[~\\*/\\[\\]]");function VE(o,e,t){if(e.search(UE)>=0)throw dv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,o);try{return new By(...e.split("."))._internalPath}catch{throw dv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,o)}}function dv(o,e,t,c,_){let ee=`Function ${e}() called with invalid data`;ee+=". ";let we="";return new Lo(Qn.INVALID_ARGUMENT,ee+o+we)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e,t,c,_,ee){this._firestore=e,this._userDataWriter=t,this._key=c,this._document=_,this._converter=ee}get id(){return this._key.path.lastSegment()}get ref(){return new mc(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new KE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Hy("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class KE extends Fy{data(){return super.data()}}function Hy(o,e){return typeof e=="string"?VE(o,e):e instanceof By?e._internalPath:e._delegate._internalPath}class GE{convertValue(e,t="none"){switch(Wc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Sa(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Hc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ii()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const c={};return qd(e,(_,ee)=>{c[_]=this.convertValue(ee,t)}),c}convertVectorValue(e){var t,c,_;const ee=(_=(c=(t=e.fields)===null||t===void 0?void 0:t[np].arrayValue)===null||c===void 0?void 0:c.values)===null||_===void 0?void 0:_.map(we=>Sa(we.doubleValue));return new WE(ee)}convertGeoPoint(e){return new HE(Sa(e.latitude),Sa(e.longitude))}convertArray(e,t){return(e.values||[]).map(c=>this.convertValue(c,t))}convertServerTimestamp(e,t){switch(t){case"previous":const c=Ch(e);return c==null?null:this.convertValue(c,t);case"estimate":return this.convertTimestamp(Nd(e));default:return null}}convertTimestamp(e){const t=Fc(e);return new tl(t.seconds,t.nanos)}convertDocumentKey(e,t){const c=ga.fromString(e);ua(yy(c));const _=new Zd(c.get(1),c.get(3)),ee=new No(c.popFirst(5));return _.isEqual(t)||yc(`Document ${ee} contains a document reference within a different database (${_.projectId}/${_.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),ee}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wy extends Fy{constructor(e,t,c,_,ee,we){super(e,t,c,_,we),this._firestore=e,this._firestoreImpl=e,this.metadata=ee}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new $E(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const c=this._document.data.field(Hy("DocumentSnapshot.get",e));if(c!==null)return this._userDataWriter.convertValue(c,t.serverTimestamps)}}}class $E extends Wy{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(o){o=bp(o,mc);const e=bp(o.firestore,zy);return AE(BE(e),o._key).then(t=>QE(e,o,t))}class qE extends GE{constructor(e){super(),this.firestore=e}convertBytes(e){return new ih(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new mc(this.firestore,null,t)}}function QE(o,e,t){const c=t.docs.get(e._key),_=new qE(o);return new Wy(o,_,e._key,c,new YE(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(_){Ju=_})(Pb),Dd(new Nu("firestore",(c,{instanceIdentifier:_,options:ee})=>{const we=c.getProvider("app").getImmediate(),Fe=new zy(new X5(c.getProvider("auth-internal")),new J5(we,c.getProvider("app-check-internal")),function(st,yt){if(!Object.prototype.hasOwnProperty.apply(st.options,["projectId"]))throw new Lo(Qn.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zd(st.options.projectId,yt)}(we,_),we);return ee=Object.assign({useFetchStreams:t},ee),Fe._setSettings(ee),Fe},"PUBLIC").setMultipleInstances(!0)),Lc(v1,b1,e),Lc(v1,b1,"esm2017")})();var fv={};const hv="@firebase/database",pv="1.0.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uy="";function JE(o){Uy=o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),qa(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:Md(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return Ec(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy=function(o){try{if(typeof window<"u"&&typeof window[o]<"u"){const e=window[o];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new ek(e)}}catch{}return new tk},su=Vy("localStorage"),rk=Vy("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Au=new Fp("@firebase/database"),nk=function(){let o=1;return function(){return o++}}(),Ky=function(o){const e=z3(o),t=new Z3;t.update(e);const c=t.digest();return Zp.encodeByteArray(c)},tf=function(...o){let e="";for(let t=0;t<o.length;t++){const c=o[t];Array.isArray(c)||c&&typeof c=="object"&&typeof c.length=="number"?e+=tf.apply(null,c):typeof c=="object"?e+=qa(c):e+=c,e+=" "}return e};let Cd=null,mv=!0;const ok=function(o,e){Gn(!0,"Can't turn on custom loggers persistently."),Au.logLevel=wi.VERBOSE,Cd=Au.log.bind(Au)},Es=function(...o){if(mv===!0&&(mv=!1,Cd===null&&rk.get("logging_enabled")===!0&&ok()),Cd){const e=tf.apply(null,o);Cd(e)}},rf=function(o){return function(...e){Es(o,...e)}},yp=function(...o){const e="FIREBASE INTERNAL ERROR: "+tf(...o);Au.error(e)},xc=function(...o){const e=`FIREBASE FATAL ERROR: ${tf(...o)}`;throw Au.error(e),new Error(e)},rl=function(...o){const e="FIREBASE WARNING: "+tf(...o);Au.warn(e)},ik=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&rl("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Gy=function(o){return typeof o=="number"&&(o!==o||o===Number.POSITIVE_INFINITY||o===Number.NEGATIVE_INFINITY)},ak=function(o){if(document.readyState==="complete")o();else{let e=!1;const t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,o())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},Vu="[MIN_NAME]",fu="[MAX_NAME]",rd=function(o,e){if(o===e)return 0;if(o===Vu||e===fu)return-1;if(e===Vu||o===fu)return 1;{const t=gv(o),c=gv(e);return t!==null?c!==null?t-c===0?o.length-e.length:t-c:-1:c!==null?1:o<e?-1:1}},sk=function(o,e){return o===e?0:o<e?-1:1},md=function(o,e){if(e&&o in e)return e[o];throw new Error("Missing required key ("+o+") in object: "+qa(e))},fm=function(o){if(typeof o!="object"||o===null)return qa(o);const e=[];for(const c in o)e.push(c);e.sort();let t="{";for(let c=0;c<e.length;c++)c!==0&&(t+=","),t+=qa(e[c]),t+=":",t+=fm(o[e[c]]);return t+="}",t},Yy=function(o,e){const t=o.length;if(t<=e)return[o];const c=[];for(let _=0;_<t;_+=e)_+e>t?c.push(o.substring(_,t)):c.push(o.substring(_,_+e));return c};function nl(o,e){for(const t in o)o.hasOwnProperty(t)&&e(t,o[t])}const $y=function(o){Gn(!Gy(o),"Invalid JSON number");const e=11,t=52,c=(1<<e-1)-1;let _,ee,we,Fe,nt;o===0?(ee=0,we=0,_=1/o===-1/0?1:0):(_=o<0,o=Math.abs(o),o>=Math.pow(2,1-c)?(Fe=Math.min(Math.floor(Math.log(o)/Math.LN2),c),ee=Fe+c,we=Math.round(o*Math.pow(2,t-Fe)-Math.pow(2,t))):(ee=0,we=Math.round(o/Math.pow(2,1-c-t))));const st=[];for(nt=t;nt;nt-=1)st.push(we%2?1:0),we=Math.floor(we/2);for(nt=e;nt;nt-=1)st.push(ee%2?1:0),ee=Math.floor(ee/2);st.push(_?1:0),st.reverse();const yt=st.join("");let kt="";for(nt=0;nt<64;nt+=8){let We=parseInt(yt.substr(nt,8),2).toString(16);We.length===1&&(We="0"+We),kt=kt+We}return kt.toLowerCase()},lk=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},ck=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function uk(o,e){let t="Unknown Error";o==="too_big"?t="The data requested exceeds the maximum size that can be accessed with a single request.":o==="permission_denied"?t="Client doesn't have permission to access the desired data.":o==="unavailable"&&(t="The service is unavailable");const c=new Error(o+" at "+e._path.toString()+": "+t);return c.code=o.toUpperCase(),c}const dk=new RegExp("^-?(0*)\\d{1,10}$"),fk=-2147483648,hk=2147483647,gv=function(o){if(dk.test(o)){const e=Number(o);if(e>=fk&&e<=hk)return e}return null},nd=function(o){try{o()}catch(e){setTimeout(()=>{const t=e.stack||"";throw rl("Exception was thrown by user callback.",t),e},Math.floor(0))}},pk=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Id=function(o,e){const t=setTimeout(o,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,jb(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=t==null?void 0:t.getImmediate({optional:!0}),this.appCheck||t==null||t.get().then(c=>this.appCheck=c)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,c)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,c):t(null)},0)})}addTokenChangeListener(e){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(c=>c.addTokenListener(e))}notifyForInvalidToken(){rl(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e,t,c){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=c,this.auth_=null,this.auth_=c.getImmediate({optional:!0}),this.auth_||c.onInit(_=>this.auth_=_)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(Es("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,c)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,c):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',rl(e)}}class Gf{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Gf.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm="5",Xy="v",qy="s",Qy="r",Jy="f",e2=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,t2="ls",r2="p",xp="ac",n2="websocket",o2="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e,t,c,_,ee=!1,we="",Fe=!1,nt=!1,st=null){this.secure=t,this.namespace=c,this.webSocketOnly=_,this.nodeAdmin=ee,this.persistenceKey=we,this.includeNamespaceInQueryParams=Fe,this.isUsingEmulator=nt,this.emulatorOptions=st,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=su.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&su.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function vk(o){return o.host!==o.internalHost||o.isCustomHost()||o.includeNamespaceInQueryParams}function a2(o,e,t){Gn(typeof e=="string","typeof type must == string"),Gn(typeof t=="object","typeof params must == object");let c;if(e===n2)c=(o.secure?"wss://":"ws://")+o.internalHost+"/.ws?";else if(e===o2)c=(o.secure?"https://":"http://")+o.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);vk(o)&&(t.ns=o.namespace);const _=[];return nl(t,(ee,we)=>{_.push(ee+"="+we)}),c+_.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(){this.counters_={}}incrementCounter(e,t=1){Ec(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return y3(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0={},N0={};function pm(o){const e=o.toString();return L0[e]||(L0[e]=new bk),L0[e]}function yk(o,e){const t=o.toString();return N0[t]||(N0[t]=e()),N0[t]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const c=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let _=0;_<c.length;++_)c[_]&&nd(()=>{this.onMessage_(c[_])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="start",wk="close",Ek="pLPCommand",kk="pRTLPCB",s2="id",l2="pw",c2="ser",_k="cb",Sk="seg",Ck="ts",Ik="d",Ok="dframe",u2=1870,d2=30,Tk=u2-d2,jk=25e3,Pk=3e4;class ju{constructor(e,t,c,_,ee,we,Fe){this.connId=e,this.repoInfo=t,this.applicationId=c,this.appCheckToken=_,this.authToken=ee,this.transportSessionId=we,this.lastSessionId=Fe,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=rf(e),this.stats_=pm(t),this.urlFn=nt=>(this.appCheckToken&&(nt[xp]=this.appCheckToken),a2(t,o2,nt))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new xk(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Pk)),ak(()=>{if(this.isClosed_)return;this.scriptTagHolder=new mm((...ee)=>{const[we,Fe,nt,st,yt]=ee;if(this.incrementIncomingBytes_(ee),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,we===vv)this.id=Fe,this.password=nt;else if(we===wk)Fe?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(Fe,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+we)},(...ee)=>{const[we,Fe]=ee;this.incrementIncomingBytes_(ee),this.myPacketOrderer.handleResponse(we,Fe)},()=>{this.onClosed_()},this.urlFn);const c={};c[vv]="t",c[c2]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(c[_k]=this.scriptTagHolder.uniqueCallbackIdentifier),c[Xy]=hm,this.transportSessionId&&(c[qy]=this.transportSessionId),this.lastSessionId&&(c[t2]=this.lastSessionId),this.applicationId&&(c[r2]=this.applicationId),this.appCheckToken&&(c[xp]=this.appCheckToken),typeof location<"u"&&location.hostname&&e2.test(location.hostname)&&(c[Qy]=Jy);const _=this.urlFn(c);this.log_("Connecting via long-poll to "+_),this.scriptTagHolder.addTag(_,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ju.forceAllow_=!0}static forceDisallow(){ju.forceDisallow_=!0}static isAvailable(){return ju.forceAllow_?!0:!ju.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!lk()&&!ck()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=qa(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const c=bb(t),_=Yy(c,Tk);for(let ee=0;ee<_.length;ee++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,_.length,_[ee]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const c={};c[Ok]="t",c[s2]=e,c[l2]=t,this.myDisconnFrame.src=this.urlFn(c),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=qa(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class mm{constructor(e,t,c,_){this.onDisconnect=c,this.urlFn=_,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=nk(),window[Ek+this.uniqueCallbackIdentifier]=e,window[kk+this.uniqueCallbackIdentifier]=t,this.myIFrame=mm.createIFrame_();let ee="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(ee='<script>document.domain="'+document.domain+'";<\/script>');const we="<html><body>"+ee+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(we),this.myIFrame.doc.close()}catch(Fe){Es("frame writing exception"),Fe.stack&&Es(Fe.stack),Es(Fe)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Es("No IE domain setting required")}catch{const c=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+c+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[s2]=this.myID,e[l2]=this.myPW,e[c2]=this.currentSerial;let t=this.urlFn(e),c="",_=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+d2+c.length<=u2;){const we=this.pendingSegs.shift();c=c+"&"+Sk+_+"="+we.seg+"&"+Ck+_+"="+we.ts+"&"+Ik+_+"="+we.d,_++}return t=t+c,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,c){this.pendingSegs.push({seg:e,ts:t,d:c}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const c=()=>{this.outstandingRequests.delete(t),this.newRequest_()},_=setTimeout(c,Math.floor(jk)),ee=()=>{clearTimeout(_),c()};this.addTag(e,ee)}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const c=this.myIFrame.doc.createElement("script");c.type="text/javascript",c.async=!0,c.src=e,c.onload=c.onreadystatechange=function(){const _=c.readyState;(!_||_==="loaded"||_==="complete")&&(c.onload=c.onreadystatechange=null,c.parentNode&&c.parentNode.removeChild(c),t())},c.onerror=()=>{Es("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(c)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk=16384,Ak=45e3;let ah=null;typeof MozWebSocket<"u"?ah=MozWebSocket:typeof WebSocket<"u"&&(ah=WebSocket);class Ll{constructor(e,t,c,_,ee,we,Fe){this.connId=e,this.applicationId=c,this.appCheckToken=_,this.authToken=ee,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=rf(this.connId),this.stats_=pm(t),this.connURL=Ll.connectionURL_(t,we,Fe,_,c),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,c,_,ee){const we={};return we[Xy]=hm,typeof location<"u"&&location.hostname&&e2.test(location.hostname)&&(we[Qy]=Jy),t&&(we[qy]=t),c&&(we[t2]=c),_&&(we[xp]=_),ee&&(we[r2]=ee),a2(e,n2,we)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,su.set("previous_websocket_failure",!0);try{let c;O3(),this.mySock=new ah(this.connURL,[],c)}catch(c){this.log_("Error instantiating WebSocket.");const _=c.message||c.data;_&&this.log_(_),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=c=>{this.handleIncomingFrame(c)},this.mySock.onerror=c=>{this.log_("WebSocket error.  Closing connection.");const _=c.message||c.data;_&&this.log_(_),this.onClosed_()}}start(){}static forceDisallow(){Ll.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,c=navigator.userAgent.match(t);c&&c.length>1&&parseFloat(c[1])<4.4&&(e=!0)}return!e&&ah!==null&&!Ll.forceDisallow_}static previouslyFailed(){return su.isInMemoryStorage||su.get("previous_websocket_failure")===!0}markConnectionHealthy(){su.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const t=this.frames.join("");this.frames=null;const c=Md(t);this.onMessage(c)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Gn(this.frames===null,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{const c=this.extractFrameCount_(t);c!==null&&this.appendFrame_(c)}}send(e){this.resetKeepAlive();const t=qa(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const c=Yy(t,Mk);c.length>1&&this.sendString_(String(c.length));for(let _=0;_<c.length;_++)this.sendString_(c[_])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Ak))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ll.responsesRequiredToBeHealthy=2;Ll.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{static get ALL_TRANSPORTS(){return[ju,Ll]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=Ll&&Ll.isAvailable();let c=t&&!Ll.previouslyFailed();if(e.webSocketOnly&&(t||rl("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),c=!0),c)this.transports_=[Ll];else{const _=this.transports_=[];for(const ee of Fd.ALL_TRANSPORTS)ee&&ee.isAvailable()&&_.push(ee);Fd.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Fd.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk=6e4,Rk=5e3,Lk=10*1024,Nk=100*1024,Z0="t",bv="d",Zk="s",yv="r",zk="e",xv="o",wv="a",Ev="n",kv="p",Bk="h";class Fk{constructor(e,t,c,_,ee,we,Fe,nt,st,yt){this.id=e,this.repoInfo_=t,this.applicationId_=c,this.appCheckToken_=_,this.authToken_=ee,this.onMessage_=we,this.onReady_=Fe,this.onDisconnect_=nt,this.onKill_=st,this.lastSessionId=yt,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=rf("c:"+this.id+":"),this.transportManager_=new Fd(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),c=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,c)},Math.floor(0));const _=e.healthyTimeout||0;_>0&&(this.healthyTimeout_=Id(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Nk?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Lk?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(_)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Z0 in e){const t=e[Z0];t===wv?this.upgradeIfSecondaryHealthy_():t===yv?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===xv&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=md("t",e),c=md("d",e);if(t==="c")this.onSecondaryControl_(c);else if(t==="d")this.pendingDataMessages.push(c);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:kv,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:wv,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Ev,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=md("t",e),c=md("d",e);t==="c"?this.onControl_(c):t==="d"&&this.onDataMessage_(c)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=md(Z0,e);if(bv in e){const c=e[bv];if(t===Bk){const _=Object.assign({},c);this.repoInfo_.isUsingEmulator&&(_.h=this.repoInfo_.host),this.onHandshake_(_)}else if(t===Ev){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let _=0;_<this.pendingDataMessages.length;++_)this.onDataMessage_(this.pendingDataMessages[_]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===Zk?this.onConnectionShutdown_(c):t===yv?this.onReset_(c):t===zk?yp("Server Error: "+c):t===xv?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):yp("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,c=e.v,_=e.h;this.sessionId=e.s,this.repoInfo_.host=_,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),hm!==c&&rl("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),c=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,c),Id(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Dk))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Id(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Rk))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:kv,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(su.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{put(e,t,c,_){}merge(e,t,c,_){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,c){}onDisconnectMerge(e,t,c){}onDisconnectCancel(e,t){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e){this.allowedEvents_=e,this.listeners_={},Gn(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const c=[...this.listeners_[e]];for(let _=0;_<c.length;_++)c[_].callback.apply(c[_].context,t)}}on(e,t,c){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:c});const _=this.getInitialEvent(e);_&&t.apply(c,_)}off(e,t,c){this.validateEventType_(e);const _=this.listeners_[e]||[];for(let ee=0;ee<_.length;ee++)if(_[ee].callback===t&&(!c||c===_[ee].context)){_.splice(ee,1);return}}validateEventType_(e){Gn(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh extends h2{static getInstance(){return new sh}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!_b()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return Gn(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v=32,Sv=768;class $i{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let c=0;for(let _=0;_<this.pieces_.length;_++)this.pieces_[_].length>0&&(this.pieces_[c]=this.pieces_[_],c++);this.pieces_.length=c,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}}function zi(){return new $i("")}function di(o){return o.pieceNum_>=o.pieces_.length?null:o.pieces_[o.pieceNum_]}function Kc(o){return o.pieces_.length-o.pieceNum_}function qi(o){let e=o.pieceNum_;return e<o.pieces_.length&&e++,new $i(o.pieces_,e)}function p2(o){return o.pieceNum_<o.pieces_.length?o.pieces_[o.pieces_.length-1]:null}function Hk(o){let e="";for(let t=o.pieceNum_;t<o.pieces_.length;t++)o.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(o.pieces_[t])));return e||"/"}function m2(o,e=0){return o.pieces_.slice(o.pieceNum_+e)}function g2(o){if(o.pieceNum_>=o.pieces_.length)return null;const e=[];for(let t=o.pieceNum_;t<o.pieces_.length-1;t++)e.push(o.pieces_[t]);return new $i(e,0)}function Ba(o,e){const t=[];for(let c=o.pieceNum_;c<o.pieces_.length;c++)t.push(o.pieces_[c]);if(e instanceof $i)for(let c=e.pieceNum_;c<e.pieces_.length;c++)t.push(e.pieces_[c]);else{const c=e.split("/");for(let _=0;_<c.length;_++)c[_].length>0&&t.push(c[_])}return new $i(t,0)}function mi(o){return o.pieceNum_>=o.pieces_.length}function Js(o,e){const t=di(o),c=di(e);if(t===null)return e;if(t===c)return Js(qi(o),qi(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+o+")")}function gm(o,e){if(Kc(o)!==Kc(e))return!1;for(let t=o.pieceNum_,c=e.pieceNum_;t<=o.pieces_.length;t++,c++)if(o.pieces_[t]!==e.pieces_[c])return!1;return!0}function Nl(o,e){let t=o.pieceNum_,c=e.pieceNum_;if(Kc(o)>Kc(e))return!1;for(;t<o.pieces_.length;){if(o.pieces_[t]!==e.pieces_[c])return!1;++t,++c}return!0}class Wk{constructor(e,t){this.errorPrefix_=t,this.parts_=m2(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let c=0;c<this.parts_.length;c++)this.byteLength_+=Eh(this.parts_[c]);v2(this)}}function Uk(o,e){o.parts_.length>0&&(o.byteLength_+=1),o.parts_.push(e),o.byteLength_+=Eh(e),v2(o)}function Vk(o){const e=o.parts_.pop();o.byteLength_-=Eh(e),o.parts_.length>0&&(o.byteLength_-=1)}function v2(o){if(o.byteLength_>Sv)throw new Error(o.errorPrefix_+"has a key path longer than "+Sv+" bytes ("+o.byteLength_+").");if(o.parts_.length>_v)throw new Error(o.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+_v+") or object contains a cycle "+iu(o))}function iu(o){return o.parts_.length===0?"":"in property '"+o.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm extends h2{static getInstance(){return new vm}constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const c=!document[e];c!==this.visible_&&(this.visible_=c,this.trigger("visible",c))},!1)}getInitialEvent(e){return Gn(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd=1e3,Kk=60*5*1e3,Cv=30*1e3,Gk=1.3,Yk=3e4,$k="server_kill",Iv=3;class gc extends f2{constructor(e,t,c,_,ee,we,Fe,nt){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=c,this.onConnectStatus_=_,this.onServerInfoUpdate_=ee,this.authTokenProvider_=we,this.appCheckTokenProvider_=Fe,this.authOverride_=nt,this.id=gc.nextPersistentConnectionId_++,this.log_=rf("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=gd,this.maxReconnectDelay_=Kk,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,nt)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");vm.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&sh.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,c){const _=++this.requestNumber_,ee={r:_,a:e,b:t};this.log_(qa(ee)),Gn(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(ee),c&&(this.requestCBHash_[_]=c)}get(e){this.initConnection_();const t=new wh,_={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:we=>{const Fe=we.d;we.s==="ok"?t.resolve(Fe):t.reject(Fe)}};this.outstandingGets_.push(_),this.outstandingGetCount_++;const ee=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(ee),t.promise}listen(e,t,c,_){this.initConnection_();const ee=e._queryIdentifier,we=e._path.toString();this.log_("Listen called for "+we+" "+ee),this.listens.has(we)||this.listens.set(we,new Map),Gn(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Gn(!this.listens.get(we).has(ee),"listen() called twice for same path/queryId.");const Fe={onComplete:_,hashFn:t,query:e,tag:c};this.listens.get(we).set(ee,Fe),this.connected_&&this.sendListen_(Fe)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,c=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(c)})}sendListen_(e){const t=e.query,c=t._path.toString(),_=t._queryIdentifier;this.log_("Listen on "+c+" for "+_);const ee={p:c},we="q";e.tag&&(ee.q=t._queryObject,ee.t=e.tag),ee.h=e.hashFn(),this.sendRequest(we,ee,Fe=>{const nt=Fe.d,st=Fe.s;gc.warnOnListenWarnings_(nt,t),(this.listens.get(c)&&this.listens.get(c).get(_))===e&&(this.log_("listen response",Fe),st!=="ok"&&this.removeListen_(c,_),e.onComplete&&e.onComplete(st,nt))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&Ec(e,"w")){const c=Lu(e,"w");if(Array.isArray(c)&&~c.indexOf("no_index")){const _='".indexOn": "'+t._queryParams.getIndex().toString()+'"',ee=t._path.toString();rl(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${_} at ${ee} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||L3(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Cv)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=R3(e)?"auth":"gauth",c={cred:e};this.authOverride_===null?c.noauth=!0:typeof this.authOverride_=="object"&&(c.authvar=this.authOverride_),this.sendRequest(t,c,_=>{const ee=_.s,we=_.d||"error";this.authToken_===e&&(ee==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(ee,we))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,c=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,c)})}unlisten(e,t){const c=e._path.toString(),_=e._queryIdentifier;this.log_("Unlisten called for "+c+" "+_),Gn(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(c,_)&&this.connected_&&this.sendUnlisten_(c,_,e._queryObject,t)}sendUnlisten_(e,t,c,_){this.log_("Unlisten on "+e+" for "+t);const ee={p:e},we="n";_&&(ee.q=c,ee.t=_),this.sendRequest(we,ee)}onDisconnectPut(e,t,c){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,c):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:c})}onDisconnectMerge(e,t,c){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,c):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:c})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,c,_){const ee={p:t,d:c};this.log_("onDisconnect "+e,ee),this.sendRequest(e,ee,we=>{_&&setTimeout(()=>{_(we.s,we.d)},Math.floor(0))})}put(e,t,c,_){this.putInternal("p",e,t,c,_)}merge(e,t,c,_){this.putInternal("m",e,t,c,_)}putInternal(e,t,c,_,ee){this.initConnection_();const we={p:t,d:c};ee!==void 0&&(we.h=ee),this.outstandingPuts_.push({action:e,request:we,onComplete:_}),this.outstandingPutCount_++;const Fe=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(Fe):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,c=this.outstandingPuts_[e].request,_=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,c,ee=>{this.log_(t+" response",ee),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),_&&_(ee.s,ee.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,c=>{if(c.s!=="ok"){const ee=c.d;this.log_("reportStats","Error sending stats: "+ee)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+qa(e));const t=e.r,c=this.requestCBHash_[t];c&&(delete this.requestCBHash_[t],c(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):yp("Unrecognized action received from server: "+qa(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Gn(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=gd,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=gd,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Yk&&(this.reconnectDelay_=gd),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Gk)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),c=this.onRealtimeDisconnect_.bind(this),_=this.id+":"+gc.nextConnectionId_++,ee=this.lastSessionId;let we=!1,Fe=null;const nt=function(){Fe?Fe.close():(we=!0,c())},st=function(kt){Gn(Fe,"sendRequest call when we're not connected not allowed."),Fe.sendRequest(kt)};this.realtime_={close:nt,sendRequest:st};const yt=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[kt,We]=await Promise.all([this.authTokenProvider_.getToken(yt),this.appCheckTokenProvider_.getToken(yt)]);we?Es("getToken() completed but was canceled"):(Es("getToken() completed. Creating connection."),this.authToken_=kt&&kt.accessToken,this.appCheckToken_=We&&We.token,Fe=new Fk(_,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,c,ue=>{rl(ue+" ("+this.repoInfo_.toString()+")"),this.interrupt($k)},ee))}catch(kt){this.log_("Failed to get token: "+kt),we||(this.repoInfo_.nodeAdmin&&rl(kt),nt())}}}interrupt(e){Es("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Es("Resuming connection for reason: "+e),delete this.interruptReasons_[e],a1(this.interruptReasons_)&&(this.reconnectDelay_=gd,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let c;t?c=t.map(ee=>fm(ee)).join("$"):c="default";const _=this.removeListen_(e,c);_&&_.onComplete&&_.onComplete("permission_denied")}removeListen_(e,t){const c=new $i(e).toString();let _;if(this.listens.has(c)){const ee=this.listens.get(c);_=ee.get(t),ee.delete(t),ee.size===0&&this.listens.delete(c)}else _=void 0;return _}onAuthRevoked_(e,t){Es("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Iv&&(this.reconnectDelay_=Cv,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){Es("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Iv&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";e["sdk."+t+"."+Uy.replace(/\./g,"-")]=1,_b()?e["framework.cordova"]=1:I3()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=sh.getInstance().currentlyOnline();return a1(this.interruptReasons_)&&e}}gc.nextPersistentConnectionId_=0;gc.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new fi(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const c=new fi(Vu,e),_=new fi(Vu,t);return this.compare(c,_)!==0}minPost(){return fi.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nf;class b2 extends Dh{static get __EMPTY_NODE(){return Nf}static set __EMPTY_NODE(e){Nf=e}compare(e,t){return rd(e.name,t.name)}isDefinedOn(e){throw Xu("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return fi.MIN}maxPost(){return new fi(fu,Nf)}makePost(e,t){return Gn(typeof e=="string","KeyIndex indexValue must always be a string."),new fi(e,Nf)}toString(){return".key"}}const Du=new b2;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e,t,c,_,ee=null){this.isReverse_=_,this.resultGenerator_=ee,this.nodeStack_=[];let we=1;for(;!e.isEmpty();)if(e=e,we=t?c(e.key,t):1,_&&(we*=-1),we<0)this.isReverse_?e=e.left:e=e.right;else if(we===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Xa{constructor(e,t,c,_,ee){this.key=e,this.value=t,this.color=c??Xa.RED,this.left=_??el.EMPTY_NODE,this.right=ee??el.EMPTY_NODE}copy(e,t,c,_,ee){return new Xa(e??this.key,t??this.value,c??this.color,_??this.left,ee??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,c){let _=this;const ee=c(e,_.key);return ee<0?_=_.copy(null,null,null,_.left.insert(e,t,c),null):ee===0?_=_.copy(null,t,null,null,null):_=_.copy(null,null,null,null,_.right.insert(e,t,c)),_.fixUp_()}removeMin_(){if(this.left.isEmpty())return el.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let c,_;if(c=this,t(e,c.key)<0)!c.left.isEmpty()&&!c.left.isRed_()&&!c.left.left.isRed_()&&(c=c.moveRedLeft_()),c=c.copy(null,null,null,c.left.remove(e,t),null);else{if(c.left.isRed_()&&(c=c.rotateRight_()),!c.right.isEmpty()&&!c.right.isRed_()&&!c.right.left.isRed_()&&(c=c.moveRedRight_()),t(e,c.key)===0){if(c.right.isEmpty())return el.EMPTY_NODE;_=c.right.min_(),c=c.copy(_.key,_.value,null,null,c.right.removeMin_())}c=c.copy(null,null,null,null,c.right.remove(e,t))}return c.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Xa.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Xa.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Xa.RED=!0;Xa.BLACK=!1;class Xk{copy(e,t,c,_,ee){return this}insert(e,t,c){return new Xa(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class el{constructor(e,t=el.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new el(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Xa.BLACK,null,null))}remove(e){return new el(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Xa.BLACK,null,null))}get(e){let t,c=this.root_;for(;!c.isEmpty();){if(t=this.comparator_(e,c.key),t===0)return c.value;t<0?c=c.left:t>0&&(c=c.right)}return null}getPredecessorKey(e){let t,c=this.root_,_=null;for(;!c.isEmpty();)if(t=this.comparator_(e,c.key),t===0){if(c.left.isEmpty())return _?_.key:null;for(c=c.left;!c.right.isEmpty();)c=c.right;return c.key}else t<0?c=c.left:t>0&&(_=c,c=c.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Zf(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Zf(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Zf(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Zf(this.root_,null,this.comparator_,!0,e)}}el.EMPTY_NODE=new Xk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk(o,e){return rd(o.name,e.name)}function bm(o,e){return rd(o,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wp;function Qk(o){wp=o}const y2=function(o){return typeof o=="number"?"number:"+$y(o):"string:"+o},x2=function(o){if(o.isLeafNode()){const e=o.val();Gn(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ec(e,".sv"),"Priority must be a string or number.")}else Gn(o===wp||o.isEmpty(),"priority of unexpected type.");Gn(o===wp||o.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ov;class Ya{static set __childrenNodeConstructor(e){Ov=e}static get __childrenNodeConstructor(){return Ov}constructor(e,t=Ya.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,Gn(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),x2(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ya(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Ya.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return mi(e)?this:di(e)===".priority"?this.priorityNode_:Ya.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:Ya.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const c=di(e);return c===null?t:t.isEmpty()&&c!==".priority"?this:(Gn(c!==".priority"||Kc(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(c,Ya.__childrenNodeConstructor.EMPTY_NODE.updateChild(qi(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+y2(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",t==="number"?e+=$y(this.value_):e+=this.value_,this.lazyHash_=Ky(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ya.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ya.__childrenNodeConstructor?-1:(Gn(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,c=typeof this.value_,_=Ya.VALUE_TYPE_ORDER.indexOf(t),ee=Ya.VALUE_TYPE_ORDER.indexOf(c);return Gn(_>=0,"Unknown leaf type: "+t),Gn(ee>=0,"Unknown leaf type: "+c),_===ee?c==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:ee-_}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}}Ya.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let w2,E2;function Jk(o){w2=o}function e_(o){E2=o}class t_ extends Dh{compare(e,t){const c=e.node.getPriority(),_=t.node.getPriority(),ee=c.compareTo(_);return ee===0?rd(e.name,t.name):ee}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return fi.MIN}maxPost(){return new fi(fu,new Ya("[PRIORITY-POST]",E2))}makePost(e,t){const c=w2(e);return new fi(t,new Ya("[PRIORITY-POST]",c))}toString(){return".priority"}}const va=new t_;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_=Math.log(2);class n_{constructor(e){const t=ee=>parseInt(Math.log(ee)/r_,10),c=ee=>parseInt(Array(ee+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;const _=c(this.count);this.bits_=e+1&_}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const lh=function(o,e,t,c){o.sort(e);const _=function(nt,st){const yt=st-nt;let kt,We;if(yt===0)return null;if(yt===1)return kt=o[nt],We=t?t(kt):kt,new Xa(We,kt.node,Xa.BLACK,null,null);{const ue=parseInt(yt/2,10)+nt,n=_(nt,ue),r=_(ue+1,st);return kt=o[ue],We=t?t(kt):kt,new Xa(We,kt.node,Xa.BLACK,n,r)}},ee=function(nt){let st=null,yt=null,kt=o.length;const We=function(n,r){const A=kt-n,k=kt;kt-=n;const b=_(A+1,k),w=o[A],N=t?t(w):w;ue(new Xa(N,w.node,r,null,b))},ue=function(n){st?(st.left=n,st=n):(yt=n,st=n)};for(let n=0;n<nt.count;++n){const r=nt.nextBitIsOne(),A=Math.pow(2,nt.count-(n+1));r?We(A,Xa.BLACK):(We(A,Xa.BLACK),We(A,Xa.RED))}return yt},we=new n_(o.length),Fe=ee(we);return new el(c||e,Fe)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let z0;const Su={};class hc{static get Default(){return Gn(Su&&va,"ChildrenNode.ts has not been loaded"),z0=z0||new hc({".priority":Su},{".priority":va}),z0}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=Lu(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof el?t:null}hasIndex(e){return Ec(this.indexSet_,e.toString())}addIndex(e,t){Gn(e!==Du,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const c=[];let _=!1;const ee=t.getIterator(fi.Wrap);let we=ee.getNext();for(;we;)_=_||e.isDefinedOn(we.node),c.push(we),we=ee.getNext();let Fe;_?Fe=lh(c,e.getCompare()):Fe=Su;const nt=e.toString(),st=Object.assign({},this.indexSet_);st[nt]=e;const yt=Object.assign({},this.indexes_);return yt[nt]=Fe,new hc(yt,st)}addToIndexes(e,t){const c=Xf(this.indexes_,(_,ee)=>{const we=Lu(this.indexSet_,ee);if(Gn(we,"Missing index implementation for "+ee),_===Su)if(we.isDefinedOn(e.node)){const Fe=[],nt=t.getIterator(fi.Wrap);let st=nt.getNext();for(;st;)st.name!==e.name&&Fe.push(st),st=nt.getNext();return Fe.push(e),lh(Fe,we.getCompare())}else return Su;else{const Fe=t.get(e.name);let nt=_;return Fe&&(nt=nt.remove(new fi(e.name,Fe))),nt.insert(e,e.node)}});return new hc(c,this.indexSet_)}removeFromIndexes(e,t){const c=Xf(this.indexes_,_=>{if(_===Su)return _;{const ee=t.get(e.name);return ee?_.remove(new fi(e.name,ee)):_}});return new hc(c,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vd;class Bo{static get EMPTY_NODE(){return vd||(vd=new Bo(new el(bm),null,hc.Default))}constructor(e,t,c){this.children_=e,this.priorityNode_=t,this.indexMap_=c,this.lazyHash_=null,this.priorityNode_&&x2(this.priorityNode_),this.children_.isEmpty()&&Gn(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||vd}updatePriority(e){return this.children_.isEmpty()?this:new Bo(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const t=this.children_.get(e);return t===null?vd:t}}getChild(e){const t=di(e);return t===null?this:this.getImmediateChild(t).getChild(qi(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(Gn(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{const c=new fi(e,t);let _,ee;t.isEmpty()?(_=this.children_.remove(e),ee=this.indexMap_.removeFromIndexes(c,this.children_)):(_=this.children_.insert(e,t),ee=this.indexMap_.addToIndexes(c,this.children_));const we=_.isEmpty()?vd:this.priorityNode_;return new Bo(_,we,ee)}}updateChild(e,t){const c=di(e);if(c===null)return t;{Gn(di(e)!==".priority"||Kc(e)===1,".priority must be the last token in a path");const _=this.getImmediateChild(c).updateChild(qi(e),t);return this.updateImmediateChild(c,_)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let c=0,_=0,ee=!0;if(this.forEachChild(va,(we,Fe)=>{t[we]=Fe.val(e),c++,ee&&Bo.INTEGER_REGEXP_.test(we)?_=Math.max(_,Number(we)):ee=!1}),!e&&ee&&_<2*c){const we=[];for(const Fe in t)we[Fe]=t[Fe];return we}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+y2(this.getPriority().val())+":"),this.forEachChild(va,(t,c)=>{const _=c.hash();_!==""&&(e+=":"+t+":"+_)}),this.lazyHash_=e===""?"":Ky(e)}return this.lazyHash_}getPredecessorChildName(e,t,c){const _=this.resolveIndex_(c);if(_){const ee=_.getPredecessorKey(new fi(e,t));return ee?ee.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const c=t.minKey();return c&&c.name}else return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new fi(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const c=t.maxKey();return c&&c.name}else return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new fi(t,this.children_.get(t)):null}forEachChild(e,t){const c=this.resolveIndex_(e);return c?c.inorderTraversal(_=>t(_.name,_.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const c=this.resolveIndex_(t);if(c)return c.getIteratorFrom(e,_=>_);{const _=this.children_.getIteratorFrom(e.name,fi.Wrap);let ee=_.peek();for(;ee!=null&&t.compare(ee,e)<0;)_.getNext(),ee=_.peek();return _}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const c=this.resolveIndex_(t);if(c)return c.getReverseIteratorFrom(e,_=>_);{const _=this.children_.getReverseIteratorFrom(e.name,fi.Wrap);let ee=_.peek();for(;ee!=null&&t.compare(ee,e)>0;)_.getNext(),ee=_.peek();return _}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===nf?-1:0}withIndex(e){if(e===Du||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new Bo(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Du||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){const c=this.getIterator(va),_=t.getIterator(va);let ee=c.getNext(),we=_.getNext();for(;ee&&we;){if(ee.name!==we.name||!ee.node.equals(we.node))return!1;ee=c.getNext(),we=_.getNext()}return ee===null&&we===null}else return!1;else return!1}}resolveIndex_(e){return e===Du?null:this.indexMap_.get(e.toString())}}Bo.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class o_ extends Bo{constructor(){super(new el(bm),Bo.EMPTY_NODE,hc.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Bo.EMPTY_NODE}isEmpty(){return!1}}const nf=new o_;Object.defineProperties(fi,{MIN:{value:new fi(Vu,Bo.EMPTY_NODE)},MAX:{value:new fi(fu,nf)}});b2.__EMPTY_NODE=Bo.EMPTY_NODE;Ya.__childrenNodeConstructor=Bo;Qk(nf);e_(nf);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_=!0;function ls(o,e=null){if(o===null)return Bo.EMPTY_NODE;if(typeof o=="object"&&".priority"in o&&(e=o[".priority"]),Gn(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof o=="object"&&".value"in o&&o[".value"]!==null&&(o=o[".value"]),typeof o!="object"||".sv"in o){const t=o;return new Ya(t,ls(e))}if(!(o instanceof Array)&&i_){const t=[];let c=!1;if(nl(o,(we,Fe)=>{if(we.substring(0,1)!=="."){const nt=ls(Fe);nt.isEmpty()||(c=c||!nt.getPriority().isEmpty(),t.push(new fi(we,nt)))}}),t.length===0)return Bo.EMPTY_NODE;const ee=lh(t,qk,we=>we.name,bm);if(c){const we=lh(t,va.getCompare());return new Bo(ee,ls(e),new hc({".priority":we},{".priority":va}))}else return new Bo(ee,ls(e),hc.Default)}else{let t=Bo.EMPTY_NODE;return nl(o,(c,_)=>{if(Ec(o,c)&&c.substring(0,1)!=="."){const ee=ls(_);(ee.isLeafNode()||!ee.isEmpty())&&(t=t.updateImmediateChild(c,ee))}}),t.updatePriority(ls(e))}}Jk(ls);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_ extends Dh{constructor(e){super(),this.indexPath_=e,Gn(!mi(e)&&di(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const c=this.extractChild(e.node),_=this.extractChild(t.node),ee=c.compareTo(_);return ee===0?rd(e.name,t.name):ee}makePost(e,t){const c=ls(e),_=Bo.EMPTY_NODE.updateChild(this.indexPath_,c);return new fi(t,_)}maxPost(){const e=Bo.EMPTY_NODE.updateChild(this.indexPath_,nf);return new fi(fu,e)}toString(){return m2(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_ extends Dh{compare(e,t){const c=e.node.compareTo(t.node);return c===0?rd(e.name,t.name):c}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return fi.MIN}maxPost(){return fi.MAX}makePost(e,t){const c=ls(e);return new fi(t,c)}toString(){return".value"}}const l_=new s_;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(o){return{type:"value",snapshotNode:o}}function Ku(o,e){return{type:"child_added",snapshotNode:e,childName:o}}function Hd(o,e){return{type:"child_removed",snapshotNode:e,childName:o}}function Wd(o,e,t){return{type:"child_changed",snapshotNode:e,childName:o,oldSnap:t}}function c_(o,e){return{type:"child_moved",snapshotNode:e,childName:o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e){this.index_=e}updateChild(e,t,c,_,ee,we){Gn(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const Fe=e.getImmediateChild(t);return Fe.getChild(_).equals(c.getChild(_))&&Fe.isEmpty()===c.isEmpty()||(we!=null&&(c.isEmpty()?e.hasChild(t)?we.trackChildChange(Hd(t,Fe)):Gn(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):Fe.isEmpty()?we.trackChildChange(Ku(t,c)):we.trackChildChange(Wd(t,c,Fe))),e.isLeafNode()&&c.isEmpty())?e:e.updateImmediateChild(t,c).withIndex(this.index_)}updateFullNode(e,t,c){return c!=null&&(e.isLeafNode()||e.forEachChild(va,(_,ee)=>{t.hasChild(_)||c.trackChildChange(Hd(_,ee))}),t.isLeafNode()||t.forEachChild(va,(_,ee)=>{if(e.hasChild(_)){const we=e.getImmediateChild(_);we.equals(ee)||c.trackChildChange(Wd(_,ee,we))}else c.trackChildChange(Ku(_,ee))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Bo.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e){this.indexedFilter_=new ym(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Ud.getStartPost_(e),this.endPost_=Ud.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,c=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&c}updateChild(e,t,c,_,ee,we){return this.matches(new fi(t,c))||(c=Bo.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,c,_,ee,we)}updateFullNode(e,t,c){t.isLeafNode()&&(t=Bo.EMPTY_NODE);let _=t.withIndex(this.index_);_=_.updatePriority(Bo.EMPTY_NODE);const ee=this;return t.forEachChild(va,(we,Fe)=>{ee.matches(new fi(we,Fe))||(_=_.updateImmediateChild(we,Bo.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,_,c)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const c=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?c<=0:c<0},this.withinEndPost=t=>{const c=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?c<=0:c<0},this.rangedFilter_=new Ud(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,c,_,ee,we){return this.rangedFilter_.matches(new fi(t,c))||(c=Bo.EMPTY_NODE),e.getImmediateChild(t).equals(c)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,c,_,ee,we):this.fullLimitUpdateChild_(e,t,c,ee,we)}updateFullNode(e,t,c){let _;if(t.isLeafNode()||t.isEmpty())_=Bo.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<t.numChildren()&&t.isIndexed(this.index_)){_=Bo.EMPTY_NODE.withIndex(this.index_);let ee;this.reverse_?ee=t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):ee=t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let we=0;for(;ee.hasNext()&&we<this.limit_;){const Fe=ee.getNext();if(this.withinDirectionalStart(Fe))if(this.withinDirectionalEnd(Fe))_=_.updateImmediateChild(Fe.name,Fe.node),we++;else break;else continue}}else{_=t.withIndex(this.index_),_=_.updatePriority(Bo.EMPTY_NODE);let ee;this.reverse_?ee=_.getReverseIterator(this.index_):ee=_.getIterator(this.index_);let we=0;for(;ee.hasNext();){const Fe=ee.getNext();we<this.limit_&&this.withinDirectionalStart(Fe)&&this.withinDirectionalEnd(Fe)?we++:_=_.updateImmediateChild(Fe.name,Bo.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,_,c)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,c,_,ee){let we;if(this.reverse_){const kt=this.index_.getCompare();we=(We,ue)=>kt(ue,We)}else we=this.index_.getCompare();const Fe=e;Gn(Fe.numChildren()===this.limit_,"");const nt=new fi(t,c),st=this.reverse_?Fe.getFirstChild(this.index_):Fe.getLastChild(this.index_),yt=this.rangedFilter_.matches(nt);if(Fe.hasChild(t)){const kt=Fe.getImmediateChild(t);let We=_.getChildAfterChild(this.index_,st,this.reverse_);for(;We!=null&&(We.name===t||Fe.hasChild(We.name));)We=_.getChildAfterChild(this.index_,We,this.reverse_);const ue=We==null?1:we(We,nt);if(yt&&!c.isEmpty()&&ue>=0)return ee!=null&&ee.trackChildChange(Wd(t,c,kt)),Fe.updateImmediateChild(t,c);{ee!=null&&ee.trackChildChange(Hd(t,kt));const r=Fe.updateImmediateChild(t,Bo.EMPTY_NODE);return We!=null&&this.rangedFilter_.matches(We)?(ee!=null&&ee.trackChildChange(Ku(We.name,We.node)),r.updateImmediateChild(We.name,We.node)):r}}else return c.isEmpty()?e:yt&&we(st,nt)>=0?(ee!=null&&(ee.trackChildChange(Hd(st.name,st.node)),ee.trackChildChange(Ku(t,c))),Fe.updateImmediateChild(t,c).updateImmediateChild(st.name,Bo.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=va}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Gn(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Gn(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Vu}hasEnd(){return this.endSet_}getIndexEndValue(){return Gn(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Gn(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:fu}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Gn(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===va}copy(){const e=new xm;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function d_(o){return o.loadsAllData()?new ym(o.getIndex()):o.hasLimit()?new u_(o):new Ud(o)}function Tv(o){const e={};if(o.isDefault())return e;let t;if(o.index_===va?t="$priority":o.index_===l_?t="$value":o.index_===Du?t="$key":(Gn(o.index_ instanceof a_,"Unrecognized index type!"),t=o.index_.toString()),e.orderBy=qa(t),o.startSet_){const c=o.startAfterSet_?"startAfter":"startAt";e[c]=qa(o.indexStartValue_),o.startNameSet_&&(e[c]+=","+qa(o.indexStartName_))}if(o.endSet_){const c=o.endBeforeSet_?"endBefore":"endAt";e[c]=qa(o.indexEndValue_),o.endNameSet_&&(e[c]+=","+qa(o.indexEndName_))}return o.limitSet_&&(o.isViewFromLeft()?e.limitToFirst=o.limit_:e.limitToLast=o.limit_),e}function jv(o){const e={};if(o.startSet_&&(e.sp=o.indexStartValue_,o.startNameSet_&&(e.sn=o.indexStartName_),e.sin=!o.startAfterSet_),o.endSet_&&(e.ep=o.indexEndValue_,o.endNameSet_&&(e.en=o.indexEndName_),e.ein=!o.endBeforeSet_),o.limitSet_){e.l=o.limit_;let t=o.viewFrom_;t===""&&(o.isViewFromLeft()?t="l":t="r"),e.vf=t}return o.index_!==va&&(e.i=o.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch extends f2{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(Gn(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,c,_){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=c,this.appCheckTokenProvider_=_,this.log_=rf("p:rest:"),this.listens_={}}listen(e,t,c,_){const ee=e._path.toString();this.log_("Listen called for "+ee+" "+e._queryIdentifier);const we=ch.getListenId_(e,c),Fe={};this.listens_[we]=Fe;const nt=Tv(e._queryParams);this.restRequest_(ee+".json",nt,(st,yt)=>{let kt=yt;if(st===404&&(kt=null,st=null),st===null&&this.onDataUpdate_(ee,kt,!1,c),Lu(this.listens_,we)===Fe){let We;st?st===401?We="permission_denied":We="rest_error:"+st:We="ok",_(We,null)}})}unlisten(e,t){const c=ch.getListenId_(e,t);delete this.listens_[c]}get(e){const t=Tv(e._queryParams),c=e._path.toString(),_=new wh;return this.restRequest_(c+".json",t,(ee,we)=>{let Fe=we;ee===404&&(Fe=null,ee=null),ee===null?(this.onDataUpdate_(c,Fe,!1,null),_.resolve(Fe)):_.reject(new Error(Fe))}),_.promise}refreshAuthToken(e){}restRequest_(e,t={},c){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([_,ee])=>{_&&_.accessToken&&(t.auth=_.accessToken),ee&&ee.token&&(t.ac=ee.token);const we=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+N3(t);this.log_("Sending REST request for "+we);const Fe=new XMLHttpRequest;Fe.onreadystatechange=()=>{if(c&&Fe.readyState===4){this.log_("REST Response for "+we+" received. status:",Fe.status,"response:",Fe.responseText);let nt=null;if(Fe.status>=200&&Fe.status<300){try{nt=Md(Fe.responseText)}catch{rl("Failed to parse JSON response for "+we+": "+Fe.responseText)}c(null,nt)}else Fe.status!==401&&Fe.status!==404&&rl("Got unsuccessful REST response for "+we+" Status: "+Fe.status),c(Fe.status);c=null}},Fe.open("GET",we,!0),Fe.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(){this.rootNode_=Bo.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uh(){return{value:null,children:new Map}}function _2(o,e,t){if(mi(e))o.value=t,o.children.clear();else if(o.value!==null)o.value=o.value.updateChild(e,t);else{const c=di(e);o.children.has(c)||o.children.set(c,uh());const _=o.children.get(c);e=qi(e),_2(_,e,t)}}function Ep(o,e,t){o.value!==null?t(e,o.value):h_(o,(c,_)=>{const ee=new $i(e.toString()+"/"+c);Ep(_,ee,t)})}function h_(o,e){o.children.forEach((t,c)=>{e(c,t)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&nl(this.last_,(c,_)=>{t[c]=t[c]-_}),this.last_=e,t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv=10*1e3,m_=30*1e3,g_=5*60*1e3;class v_{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new p_(e);const c=Pv+(m_-Pv)*Math.random();Id(this.reportStats_.bind(this),Math.floor(c))}reportStats_(){const e=this.statsListener_.get(),t={};let c=!1;nl(e,(_,ee)=>{ee>0&&Ec(this.statsToReport_,_)&&(t[_]=ee,c=!0)}),c&&this.server_.reportStats(t),Id(this.reportStats_.bind(this),Math.floor(Math.random()*2*g_))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zl;(function(o){o[o.OVERWRITE=0]="OVERWRITE",o[o.MERGE=1]="MERGE",o[o.ACK_USER_WRITE=2]="ACK_USER_WRITE",o[o.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Zl||(Zl={}));function S2(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function wm(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Em(o){return{fromUser:!1,fromServer:!0,queryId:o,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,t,c){this.path=e,this.affectedTree=t,this.revert=c,this.type=Zl.ACK_USER_WRITE,this.source=S2()}operationForChild(e){if(mi(this.path)){if(this.affectedTree.value!=null)return Gn(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new $i(e));return new dh(zi(),t,this.revert)}}else return Gn(di(this.path)===e,"operationForChild called for unrelated child."),new dh(qi(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,t){this.source=e,this.path=t,this.type=Zl.LISTEN_COMPLETE}operationForChild(e){return mi(this.path)?new Vd(this.source,zi()):new Vd(this.source,qi(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,t,c){this.source=e,this.path=t,this.snap=c,this.type=Zl.OVERWRITE}operationForChild(e){return mi(this.path)?new hu(this.source,zi(),this.snap.getImmediateChild(e)):new hu(this.source,qi(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,t,c){this.source=e,this.path=t,this.children=c,this.type=Zl.MERGE}operationForChild(e){if(mi(this.path)){const t=this.children.subtree(new $i(e));return t.isEmpty()?null:t.value?new hu(this.source,zi(),t.value):new Kd(this.source,zi(),t)}else return Gn(di(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Kd(this.source,qi(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,t,c){this.node_=e,this.fullyInitialized_=t,this.filtered_=c}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(mi(e))return this.isFullyInitialized()&&!this.filtered_;const t=di(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function y_(o,e,t,c){const _=[],ee=[];return e.forEach(we=>{we.type==="child_changed"&&o.index_.indexedValueChanged(we.oldSnap,we.snapshotNode)&&ee.push(c_(we.childName,we.snapshotNode))}),bd(o,_,"child_removed",e,c,t),bd(o,_,"child_added",e,c,t),bd(o,_,"child_moved",ee,c,t),bd(o,_,"child_changed",e,c,t),bd(o,_,"value",e,c,t),_}function bd(o,e,t,c,_,ee){const we=c.filter(Fe=>Fe.type===t);we.sort((Fe,nt)=>w_(o,Fe,nt)),we.forEach(Fe=>{const nt=x_(o,Fe,ee);_.forEach(st=>{st.respondsTo(Fe.type)&&e.push(st.createEvent(nt,o.query_))})})}function x_(o,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,o.index_)),e}function w_(o,e,t){if(e.childName==null||t.childName==null)throw Xu("Should only compare child_ events.");const c=new fi(e.childName,e.snapshotNode),_=new fi(t.childName,t.snapshotNode);return o.index_.compare(c,_)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(o,e){return{eventCache:o,serverCache:e}}function Od(o,e,t,c){return Rh(new pu(e,t,c),o.serverCache)}function C2(o,e,t,c){return Rh(o.eventCache,new pu(e,t,c))}function kp(o){return o.eventCache.isFullyInitialized()?o.eventCache.getNode():null}function mu(o){return o.serverCache.isFullyInitialized()?o.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let B0;const E_=()=>(B0||(B0=new el(sk)),B0);class ta{static fromObject(e){let t=new ta(null);return nl(e,(c,_)=>{t=t.set(new $i(c),_)}),t}constructor(e,t=E_()){this.value=e,this.children=t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:zi(),value:this.value};if(mi(e))return null;{const c=di(e),_=this.children.get(c);if(_!==null){const ee=_.findRootMostMatchingPathAndValue(qi(e),t);return ee!=null?{path:Ba(new $i(c),ee.path),value:ee.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(mi(e))return this;{const t=di(e),c=this.children.get(t);return c!==null?c.subtree(qi(e)):new ta(null)}}set(e,t){if(mi(e))return new ta(t,this.children);{const c=di(e),ee=(this.children.get(c)||new ta(null)).set(qi(e),t),we=this.children.insert(c,ee);return new ta(this.value,we)}}remove(e){if(mi(e))return this.children.isEmpty()?new ta(null):new ta(null,this.children);{const t=di(e),c=this.children.get(t);if(c){const _=c.remove(qi(e));let ee;return _.isEmpty()?ee=this.children.remove(t):ee=this.children.insert(t,_),this.value===null&&ee.isEmpty()?new ta(null):new ta(this.value,ee)}else return this}}get(e){if(mi(e))return this.value;{const t=di(e),c=this.children.get(t);return c?c.get(qi(e)):null}}setTree(e,t){if(mi(e))return t;{const c=di(e),ee=(this.children.get(c)||new ta(null)).setTree(qi(e),t);let we;return ee.isEmpty()?we=this.children.remove(c):we=this.children.insert(c,ee),new ta(this.value,we)}}fold(e){return this.fold_(zi(),e)}fold_(e,t){const c={};return this.children.inorderTraversal((_,ee)=>{c[_]=ee.fold_(Ba(e,_),t)}),t(e,this.value,c)}findOnPath(e,t){return this.findOnPath_(e,zi(),t)}findOnPath_(e,t,c){const _=this.value?c(t,this.value):!1;if(_)return _;if(mi(e))return null;{const ee=di(e),we=this.children.get(ee);return we?we.findOnPath_(qi(e),Ba(t,ee),c):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,zi(),t)}foreachOnPath_(e,t,c){if(mi(e))return this;{this.value&&c(t,this.value);const _=di(e),ee=this.children.get(_);return ee?ee.foreachOnPath_(qi(e),Ba(t,_),c):new ta(null)}}foreach(e){this.foreach_(zi(),e)}foreach_(e,t){this.children.inorderTraversal((c,_)=>{_.foreach_(Ba(e,c),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,c)=>{c.value&&e(t,c.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e){this.writeTree_=e}static empty(){return new zl(new ta(null))}}function Td(o,e,t){if(mi(e))return new zl(new ta(t));{const c=o.writeTree_.findRootMostValueAndPath(e);if(c!=null){const _=c.path;let ee=c.value;const we=Js(_,e);return ee=ee.updateChild(we,t),new zl(o.writeTree_.set(_,ee))}else{const _=new ta(t),ee=o.writeTree_.setTree(e,_);return new zl(ee)}}}function Mv(o,e,t){let c=o;return nl(t,(_,ee)=>{c=Td(c,Ba(e,_),ee)}),c}function Av(o,e){if(mi(e))return zl.empty();{const t=o.writeTree_.setTree(e,new ta(null));return new zl(t)}}function _p(o,e){return bu(o,e)!=null}function bu(o,e){const t=o.writeTree_.findRootMostValueAndPath(e);return t!=null?o.writeTree_.get(t.path).getChild(Js(t.path,e)):null}function Dv(o){const e=[],t=o.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(va,(c,_)=>{e.push(new fi(c,_))}):o.writeTree_.children.inorderTraversal((c,_)=>{_.value!=null&&e.push(new fi(c,_.value))}),e}function zc(o,e){if(mi(e))return o;{const t=bu(o,e);return t!=null?new zl(new ta(t)):new zl(o.writeTree_.subtree(e))}}function Sp(o){return o.writeTree_.isEmpty()}function Gu(o,e){return I2(zi(),o.writeTree_,e)}function I2(o,e,t){if(e.value!=null)return t.updateChild(o,e.value);{let c=null;return e.children.inorderTraversal((_,ee)=>{_===".priority"?(Gn(ee.value!==null,"Priority writes must always be leaf nodes"),c=ee.value):t=I2(Ba(o,_),ee,t)}),!t.getChild(o).isEmpty()&&c!==null&&(t=t.updateChild(Ba(o,".priority"),c)),t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(o,e){return P2(e,o)}function k_(o,e,t,c,_){Gn(c>o.lastWriteId,"Stacking an older write on top of newer ones"),_===void 0&&(_=!0),o.allWrites.push({path:e,snap:t,writeId:c,visible:_}),_&&(o.visibleWrites=Td(o.visibleWrites,e,t)),o.lastWriteId=c}function __(o,e){for(let t=0;t<o.allWrites.length;t++){const c=o.allWrites[t];if(c.writeId===e)return c}return null}function S_(o,e){const t=o.allWrites.findIndex(Fe=>Fe.writeId===e);Gn(t>=0,"removeWrite called with nonexistent writeId.");const c=o.allWrites[t];o.allWrites.splice(t,1);let _=c.visible,ee=!1,we=o.allWrites.length-1;for(;_&&we>=0;){const Fe=o.allWrites[we];Fe.visible&&(we>=t&&C_(Fe,c.path)?_=!1:Nl(c.path,Fe.path)&&(ee=!0)),we--}if(_){if(ee)return I_(o),!0;if(c.snap)o.visibleWrites=Av(o.visibleWrites,c.path);else{const Fe=c.children;nl(Fe,nt=>{o.visibleWrites=Av(o.visibleWrites,Ba(c.path,nt))})}return!0}else return!1}function C_(o,e){if(o.snap)return Nl(o.path,e);for(const t in o.children)if(o.children.hasOwnProperty(t)&&Nl(Ba(o.path,t),e))return!0;return!1}function I_(o){o.visibleWrites=O2(o.allWrites,O_,zi()),o.allWrites.length>0?o.lastWriteId=o.allWrites[o.allWrites.length-1].writeId:o.lastWriteId=-1}function O_(o){return o.visible}function O2(o,e,t){let c=zl.empty();for(let _=0;_<o.length;++_){const ee=o[_];if(e(ee)){const we=ee.path;let Fe;if(ee.snap)Nl(t,we)?(Fe=Js(t,we),c=Td(c,Fe,ee.snap)):Nl(we,t)&&(Fe=Js(we,t),c=Td(c,zi(),ee.snap.getChild(Fe)));else if(ee.children){if(Nl(t,we))Fe=Js(t,we),c=Mv(c,Fe,ee.children);else if(Nl(we,t))if(Fe=Js(we,t),mi(Fe))c=Mv(c,zi(),ee.children);else{const nt=Lu(ee.children,di(Fe));if(nt){const st=nt.getChild(qi(Fe));c=Td(c,zi(),st)}}}else throw Xu("WriteRecord should have .snap or .children")}}return c}function T2(o,e,t,c,_){if(!c&&!_){const ee=bu(o.visibleWrites,e);if(ee!=null)return ee;{const we=zc(o.visibleWrites,e);if(Sp(we))return t;if(t==null&&!_p(we,zi()))return null;{const Fe=t||Bo.EMPTY_NODE;return Gu(we,Fe)}}}else{const ee=zc(o.visibleWrites,e);if(!_&&Sp(ee))return t;if(!_&&t==null&&!_p(ee,zi()))return null;{const we=function(st){return(st.visible||_)&&(!c||!~c.indexOf(st.writeId))&&(Nl(st.path,e)||Nl(e,st.path))},Fe=O2(o.allWrites,we,e),nt=t||Bo.EMPTY_NODE;return Gu(Fe,nt)}}}function T_(o,e,t){let c=Bo.EMPTY_NODE;const _=bu(o.visibleWrites,e);if(_)return _.isLeafNode()||_.forEachChild(va,(ee,we)=>{c=c.updateImmediateChild(ee,we)}),c;if(t){const ee=zc(o.visibleWrites,e);return t.forEachChild(va,(we,Fe)=>{const nt=Gu(zc(ee,new $i(we)),Fe);c=c.updateImmediateChild(we,nt)}),Dv(ee).forEach(we=>{c=c.updateImmediateChild(we.name,we.node)}),c}else{const ee=zc(o.visibleWrites,e);return Dv(ee).forEach(we=>{c=c.updateImmediateChild(we.name,we.node)}),c}}function j_(o,e,t,c,_){Gn(c||_,"Either existingEventSnap or existingServerSnap must exist");const ee=Ba(e,t);if(_p(o.visibleWrites,ee))return null;{const we=zc(o.visibleWrites,ee);return Sp(we)?_.getChild(t):Gu(we,_.getChild(t))}}function P_(o,e,t,c){const _=Ba(e,t),ee=bu(o.visibleWrites,_);if(ee!=null)return ee;if(c.isCompleteForChild(t)){const we=zc(o.visibleWrites,_);return Gu(we,c.getNode().getImmediateChild(t))}else return null}function M_(o,e){return bu(o.visibleWrites,e)}function A_(o,e,t,c,_,ee,we){let Fe;const nt=zc(o.visibleWrites,e),st=bu(nt,zi());if(st!=null)Fe=st;else if(t!=null)Fe=Gu(nt,t);else return[];if(Fe=Fe.withIndex(we),!Fe.isEmpty()&&!Fe.isLeafNode()){const yt=[],kt=we.getCompare(),We=ee?Fe.getReverseIteratorFrom(c,we):Fe.getIteratorFrom(c,we);let ue=We.getNext();for(;ue&&yt.length<_;)kt(ue,c)!==0&&yt.push(ue),ue=We.getNext();return yt}else return[]}function D_(){return{visibleWrites:zl.empty(),allWrites:[],lastWriteId:-1}}function fh(o,e,t,c){return T2(o.writeTree,o.treePath,e,t,c)}function _m(o,e){return T_(o.writeTree,o.treePath,e)}function Rv(o,e,t,c){return j_(o.writeTree,o.treePath,e,t,c)}function hh(o,e){return M_(o.writeTree,Ba(o.treePath,e))}function R_(o,e,t,c,_,ee){return A_(o.writeTree,o.treePath,e,t,c,_,ee)}function Sm(o,e,t){return P_(o.writeTree,o.treePath,e,t)}function j2(o,e){return P2(Ba(o.treePath,e),o.writeTree)}function P2(o,e){return{treePath:o,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,c=e.childName;Gn(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),Gn(c!==".priority","Only non-priority child changes can be tracked.");const _=this.changeMap.get(c);if(_){const ee=_.type;if(t==="child_added"&&ee==="child_removed")this.changeMap.set(c,Wd(c,e.snapshotNode,_.snapshotNode));else if(t==="child_removed"&&ee==="child_added")this.changeMap.delete(c);else if(t==="child_removed"&&ee==="child_changed")this.changeMap.set(c,Hd(c,_.oldSnap));else if(t==="child_changed"&&ee==="child_added")this.changeMap.set(c,Ku(c,e.snapshotNode));else if(t==="child_changed"&&ee==="child_changed")this.changeMap.set(c,Wd(c,e.snapshotNode,_.oldSnap));else throw Xu("Illegal combination of changes: "+e+" occurred after "+_)}else this.changeMap.set(c,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{getCompleteChild(e){return null}getChildAfterChild(e,t,c){return null}}const M2=new N_;class Cm{constructor(e,t,c=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=c}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const c=this.optCompleteServerCache_!=null?new pu(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Sm(this.writes_,e,c)}}getChildAfterChild(e,t,c){const _=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:mu(this.viewCache_),ee=R_(this.writes_,_,t,1,c,e);return ee.length===0?null:ee[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(o){return{filter:o}}function z_(o,e){Gn(e.eventCache.getNode().isIndexed(o.filter.getIndex()),"Event snap not indexed"),Gn(e.serverCache.getNode().isIndexed(o.filter.getIndex()),"Server snap not indexed")}function B_(o,e,t,c,_){const ee=new L_;let we,Fe;if(t.type===Zl.OVERWRITE){const st=t;st.source.fromUser?we=Cp(o,e,st.path,st.snap,c,_,ee):(Gn(st.source.fromServer,"Unknown source."),Fe=st.source.tagged||e.serverCache.isFiltered()&&!mi(st.path),we=ph(o,e,st.path,st.snap,c,_,Fe,ee))}else if(t.type===Zl.MERGE){const st=t;st.source.fromUser?we=H_(o,e,st.path,st.children,c,_,ee):(Gn(st.source.fromServer,"Unknown source."),Fe=st.source.tagged||e.serverCache.isFiltered(),we=Ip(o,e,st.path,st.children,c,_,Fe,ee))}else if(t.type===Zl.ACK_USER_WRITE){const st=t;st.revert?we=V_(o,e,st.path,c,_,ee):we=W_(o,e,st.path,st.affectedTree,c,_,ee)}else if(t.type===Zl.LISTEN_COMPLETE)we=U_(o,e,t.path,c,ee);else throw Xu("Unknown operation type: "+t.type);const nt=ee.getChanges();return F_(e,we,nt),{viewCache:we,changes:nt}}function F_(o,e,t){const c=e.eventCache;if(c.isFullyInitialized()){const _=c.getNode().isLeafNode()||c.getNode().isEmpty(),ee=kp(o);(t.length>0||!o.eventCache.isFullyInitialized()||_&&!c.getNode().equals(ee)||!c.getNode().getPriority().equals(ee.getPriority()))&&t.push(k2(kp(e)))}}function A2(o,e,t,c,_,ee){const we=e.eventCache;if(hh(c,t)!=null)return e;{let Fe,nt;if(mi(t))if(Gn(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const st=mu(e),yt=st instanceof Bo?st:Bo.EMPTY_NODE,kt=_m(c,yt);Fe=o.filter.updateFullNode(e.eventCache.getNode(),kt,ee)}else{const st=fh(c,mu(e));Fe=o.filter.updateFullNode(e.eventCache.getNode(),st,ee)}else{const st=di(t);if(st===".priority"){Gn(Kc(t)===1,"Can't have a priority with additional path components");const yt=we.getNode();nt=e.serverCache.getNode();const kt=Rv(c,t,yt,nt);kt!=null?Fe=o.filter.updatePriority(yt,kt):Fe=we.getNode()}else{const yt=qi(t);let kt;if(we.isCompleteForChild(st)){nt=e.serverCache.getNode();const We=Rv(c,t,we.getNode(),nt);We!=null?kt=we.getNode().getImmediateChild(st).updateChild(yt,We):kt=we.getNode().getImmediateChild(st)}else kt=Sm(c,st,e.serverCache);kt!=null?Fe=o.filter.updateChild(we.getNode(),st,kt,yt,_,ee):Fe=we.getNode()}}return Od(e,Fe,we.isFullyInitialized()||mi(t),o.filter.filtersNodes())}}function ph(o,e,t,c,_,ee,we,Fe){const nt=e.serverCache;let st;const yt=we?o.filter:o.filter.getIndexedFilter();if(mi(t))st=yt.updateFullNode(nt.getNode(),c,null);else if(yt.filtersNodes()&&!nt.isFiltered()){const ue=nt.getNode().updateChild(t,c);st=yt.updateFullNode(nt.getNode(),ue,null)}else{const ue=di(t);if(!nt.isCompleteForPath(t)&&Kc(t)>1)return e;const n=qi(t),A=nt.getNode().getImmediateChild(ue).updateChild(n,c);ue===".priority"?st=yt.updatePriority(nt.getNode(),A):st=yt.updateChild(nt.getNode(),ue,A,n,M2,null)}const kt=C2(e,st,nt.isFullyInitialized()||mi(t),yt.filtersNodes()),We=new Cm(_,kt,ee);return A2(o,kt,t,_,We,Fe)}function Cp(o,e,t,c,_,ee,we){const Fe=e.eventCache;let nt,st;const yt=new Cm(_,e,ee);if(mi(t))st=o.filter.updateFullNode(e.eventCache.getNode(),c,we),nt=Od(e,st,!0,o.filter.filtersNodes());else{const kt=di(t);if(kt===".priority")st=o.filter.updatePriority(e.eventCache.getNode(),c),nt=Od(e,st,Fe.isFullyInitialized(),Fe.isFiltered());else{const We=qi(t),ue=Fe.getNode().getImmediateChild(kt);let n;if(mi(We))n=c;else{const r=yt.getCompleteChild(kt);r!=null?p2(We)===".priority"&&r.getChild(g2(We)).isEmpty()?n=r:n=r.updateChild(We,c):n=Bo.EMPTY_NODE}if(ue.equals(n))nt=e;else{const r=o.filter.updateChild(Fe.getNode(),kt,n,We,yt,we);nt=Od(e,r,Fe.isFullyInitialized(),o.filter.filtersNodes())}}}return nt}function Lv(o,e){return o.eventCache.isCompleteForChild(e)}function H_(o,e,t,c,_,ee,we){let Fe=e;return c.foreach((nt,st)=>{const yt=Ba(t,nt);Lv(e,di(yt))&&(Fe=Cp(o,Fe,yt,st,_,ee,we))}),c.foreach((nt,st)=>{const yt=Ba(t,nt);Lv(e,di(yt))||(Fe=Cp(o,Fe,yt,st,_,ee,we))}),Fe}function Nv(o,e,t){return t.foreach((c,_)=>{e=e.updateChild(c,_)}),e}function Ip(o,e,t,c,_,ee,we,Fe){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let nt=e,st;mi(t)?st=c:st=new ta(null).setTree(t,c);const yt=e.serverCache.getNode();return st.children.inorderTraversal((kt,We)=>{if(yt.hasChild(kt)){const ue=e.serverCache.getNode().getImmediateChild(kt),n=Nv(o,ue,We);nt=ph(o,nt,new $i(kt),n,_,ee,we,Fe)}}),st.children.inorderTraversal((kt,We)=>{const ue=!e.serverCache.isCompleteForChild(kt)&&We.value===null;if(!yt.hasChild(kt)&&!ue){const n=e.serverCache.getNode().getImmediateChild(kt),r=Nv(o,n,We);nt=ph(o,nt,new $i(kt),r,_,ee,we,Fe)}}),nt}function W_(o,e,t,c,_,ee,we){if(hh(_,t)!=null)return e;const Fe=e.serverCache.isFiltered(),nt=e.serverCache;if(c.value!=null){if(mi(t)&&nt.isFullyInitialized()||nt.isCompleteForPath(t))return ph(o,e,t,nt.getNode().getChild(t),_,ee,Fe,we);if(mi(t)){let st=new ta(null);return nt.getNode().forEachChild(Du,(yt,kt)=>{st=st.set(new $i(yt),kt)}),Ip(o,e,t,st,_,ee,Fe,we)}else return e}else{let st=new ta(null);return c.foreach((yt,kt)=>{const We=Ba(t,yt);nt.isCompleteForPath(We)&&(st=st.set(yt,nt.getNode().getChild(We)))}),Ip(o,e,t,st,_,ee,Fe,we)}}function U_(o,e,t,c,_){const ee=e.serverCache,we=C2(e,ee.getNode(),ee.isFullyInitialized()||mi(t),ee.isFiltered());return A2(o,we,t,c,M2,_)}function V_(o,e,t,c,_,ee){let we;if(hh(c,t)!=null)return e;{const Fe=new Cm(c,e,_),nt=e.eventCache.getNode();let st;if(mi(t)||di(t)===".priority"){let yt;if(e.serverCache.isFullyInitialized())yt=fh(c,mu(e));else{const kt=e.serverCache.getNode();Gn(kt instanceof Bo,"serverChildren would be complete if leaf node"),yt=_m(c,kt)}yt=yt,st=o.filter.updateFullNode(nt,yt,ee)}else{const yt=di(t);let kt=Sm(c,yt,e.serverCache);kt==null&&e.serverCache.isCompleteForChild(yt)&&(kt=nt.getImmediateChild(yt)),kt!=null?st=o.filter.updateChild(nt,yt,kt,qi(t),Fe,ee):e.eventCache.getNode().hasChild(yt)?st=o.filter.updateChild(nt,yt,Bo.EMPTY_NODE,qi(t),Fe,ee):st=nt,st.isEmpty()&&e.serverCache.isFullyInitialized()&&(we=fh(c,mu(e)),we.isLeafNode()&&(st=o.filter.updateFullNode(st,we,ee)))}return we=e.serverCache.isFullyInitialized()||hh(c,zi())!=null,Od(e,st,we,o.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const c=this.query_._queryParams,_=new ym(c.getIndex()),ee=d_(c);this.processor_=Z_(ee);const we=t.serverCache,Fe=t.eventCache,nt=_.updateFullNode(Bo.EMPTY_NODE,we.getNode(),null),st=ee.updateFullNode(Bo.EMPTY_NODE,Fe.getNode(),null),yt=new pu(nt,we.isFullyInitialized(),_.filtersNodes()),kt=new pu(st,Fe.isFullyInitialized(),ee.filtersNodes());this.viewCache_=Rh(kt,yt),this.eventGenerator_=new b_(this.query_)}get query(){return this.query_}}function G_(o){return o.viewCache_.serverCache.getNode()}function Y_(o,e){const t=mu(o.viewCache_);return t&&(o.query._queryParams.loadsAllData()||!mi(e)&&!t.getImmediateChild(di(e)).isEmpty())?t.getChild(e):null}function Zv(o){return o.eventRegistrations_.length===0}function $_(o,e){o.eventRegistrations_.push(e)}function zv(o,e,t){const c=[];if(t){Gn(e==null,"A cancel should cancel all event registrations.");const _=o.query._path;o.eventRegistrations_.forEach(ee=>{const we=ee.createCancelEvent(t,_);we&&c.push(we)})}if(e){let _=[];for(let ee=0;ee<o.eventRegistrations_.length;++ee){const we=o.eventRegistrations_[ee];if(!we.matches(e))_.push(we);else if(e.hasAnyCallback()){_=_.concat(o.eventRegistrations_.slice(ee+1));break}}o.eventRegistrations_=_}else o.eventRegistrations_=[];return c}function Bv(o,e,t,c){e.type===Zl.MERGE&&e.source.queryId!==null&&(Gn(mu(o.viewCache_),"We should always have a full cache before handling merges"),Gn(kp(o.viewCache_),"Missing event cache, even though we have a server cache"));const _=o.viewCache_,ee=B_(o.processor_,_,e,t,c);return z_(o.processor_,ee.viewCache),Gn(ee.viewCache.serverCache.isFullyInitialized()||!_.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),o.viewCache_=ee.viewCache,D2(o,ee.changes,ee.viewCache.eventCache.getNode(),null)}function X_(o,e){const t=o.viewCache_.eventCache,c=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(va,(ee,we)=>{c.push(Ku(ee,we))}),t.isFullyInitialized()&&c.push(k2(t.getNode())),D2(o,c,t.getNode(),e)}function D2(o,e,t,c){const _=c?[c]:o.eventRegistrations_;return y_(o.eventGenerator_,e,t,_)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mh;class q_{constructor(){this.views=new Map}}function Q_(o){Gn(!mh,"__referenceConstructor has already been defined"),mh=o}function J_(){return Gn(mh,"Reference.ts has not been loaded"),mh}function e8(o){return o.views.size===0}function Im(o,e,t,c){const _=e.source.queryId;if(_!==null){const ee=o.views.get(_);return Gn(ee!=null,"SyncTree gave us an op for an invalid query."),Bv(ee,e,t,c)}else{let ee=[];for(const we of o.views.values())ee=ee.concat(Bv(we,e,t,c));return ee}}function t8(o,e,t,c,_){const ee=e._queryIdentifier,we=o.views.get(ee);if(!we){let Fe=fh(t,_?c:null),nt=!1;Fe?nt=!0:c instanceof Bo?(Fe=_m(t,c),nt=!1):(Fe=Bo.EMPTY_NODE,nt=!1);const st=Rh(new pu(Fe,nt,!1),new pu(c,_,!1));return new K_(e,st)}return we}function r8(o,e,t,c,_,ee){const we=t8(o,e,c,_,ee);return o.views.has(e._queryIdentifier)||o.views.set(e._queryIdentifier,we),$_(we,t),X_(we,t)}function n8(o,e,t,c){const _=e._queryIdentifier,ee=[];let we=[];const Fe=Gc(o);if(_==="default")for(const[nt,st]of o.views.entries())we=we.concat(zv(st,t,c)),Zv(st)&&(o.views.delete(nt),st.query._queryParams.loadsAllData()||ee.push(st.query));else{const nt=o.views.get(_);nt&&(we=we.concat(zv(nt,t,c)),Zv(nt)&&(o.views.delete(_),nt.query._queryParams.loadsAllData()||ee.push(nt.query)))}return Fe&&!Gc(o)&&ee.push(new(J_())(e._repo,e._path)),{removed:ee,events:we}}function R2(o){const e=[];for(const t of o.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function Ru(o,e){let t=null;for(const c of o.views.values())t=t||Y_(c,e);return t}function L2(o,e){if(e._queryParams.loadsAllData())return Lh(o);{const c=e._queryIdentifier;return o.views.get(c)}}function N2(o,e){return L2(o,e)!=null}function Gc(o){return Lh(o)!=null}function Lh(o){for(const e of o.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gh;function o8(o){Gn(!gh,"__referenceConstructor has already been defined"),gh=o}function i8(){return Gn(gh,"Reference.ts has not been loaded"),gh}let a8=1;class Fv{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ta(null),this.pendingWriteTree_=D_(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Z2(o,e,t,c,_){return k_(o.pendingWriteTree_,e,t,c,_),_?of(o,new hu(S2(),e,t)):[]}function lu(o,e,t=!1){const c=__(o.pendingWriteTree_,e);if(S_(o.pendingWriteTree_,e)){let ee=new ta(null);return c.snap!=null?ee=ee.set(zi(),!0):nl(c.children,we=>{ee=ee.set(new $i(we),!0)}),of(o,new dh(c.path,ee,t))}else return[]}function Nh(o,e,t){return of(o,new hu(wm(),e,t))}function s8(o,e,t){const c=ta.fromObject(t);return of(o,new Kd(wm(),e,c))}function l8(o,e){return of(o,new Vd(wm(),e))}function c8(o,e,t){const c=Tm(o,t);if(c){const _=jm(c),ee=_.path,we=_.queryId,Fe=Js(ee,e),nt=new Vd(Em(we),Fe);return Pm(o,ee,nt)}else return[]}function Op(o,e,t,c,_=!1){const ee=e._path,we=o.syncPointTree_.get(ee);let Fe=[];if(we&&(e._queryIdentifier==="default"||N2(we,e))){const nt=n8(we,e,t,c);e8(we)&&(o.syncPointTree_=o.syncPointTree_.remove(ee));const st=nt.removed;if(Fe=nt.events,!_){const yt=st.findIndex(We=>We._queryParams.loadsAllData())!==-1,kt=o.syncPointTree_.findOnPath(ee,(We,ue)=>Gc(ue));if(yt&&!kt){const We=o.syncPointTree_.subtree(ee);if(!We.isEmpty()){const ue=f8(We);for(let n=0;n<ue.length;++n){const r=ue[n],A=r.query,k=F2(o,r);o.listenProvider_.startListening(jd(A),vh(o,A),k.hashFn,k.onComplete)}}}!kt&&st.length>0&&!c&&(yt?o.listenProvider_.stopListening(jd(e),null):st.forEach(We=>{const ue=o.queryToTagMap.get(Zh(We));o.listenProvider_.stopListening(jd(We),ue)}))}h8(o,st)}return Fe}function u8(o,e,t,c){const _=Tm(o,c);if(_!=null){const ee=jm(_),we=ee.path,Fe=ee.queryId,nt=Js(we,e),st=new hu(Em(Fe),nt,t);return Pm(o,we,st)}else return[]}function d8(o,e,t,c){const _=Tm(o,c);if(_){const ee=jm(_),we=ee.path,Fe=ee.queryId,nt=Js(we,e),st=ta.fromObject(t),yt=new Kd(Em(Fe),nt,st);return Pm(o,we,yt)}else return[]}function Hv(o,e,t,c=!1){const _=e._path;let ee=null,we=!1;o.syncPointTree_.foreachOnPath(_,(We,ue)=>{const n=Js(We,_);ee=ee||Ru(ue,n),we=we||Gc(ue)});let Fe=o.syncPointTree_.get(_);Fe?(we=we||Gc(Fe),ee=ee||Ru(Fe,zi())):(Fe=new q_,o.syncPointTree_=o.syncPointTree_.set(_,Fe));let nt;ee!=null?nt=!0:(nt=!1,ee=Bo.EMPTY_NODE,o.syncPointTree_.subtree(_).foreachChild((ue,n)=>{const r=Ru(n,zi());r&&(ee=ee.updateImmediateChild(ue,r))}));const st=N2(Fe,e);if(!st&&!e._queryParams.loadsAllData()){const We=Zh(e);Gn(!o.queryToTagMap.has(We),"View does not exist, but we have a tag");const ue=p8();o.queryToTagMap.set(We,ue),o.tagToQueryMap.set(ue,We)}const yt=km(o.pendingWriteTree_,_);let kt=r8(Fe,e,t,yt,ee,nt);if(!st&&!we&&!c){const We=L2(Fe,e);kt=kt.concat(m8(o,e,We))}return kt}function Om(o,e,t){const _=o.pendingWriteTree_,ee=o.syncPointTree_.findOnPath(e,(we,Fe)=>{const nt=Js(we,e),st=Ru(Fe,nt);if(st)return st});return T2(_,e,ee,t,!0)}function of(o,e){return z2(e,o.syncPointTree_,null,km(o.pendingWriteTree_,zi()))}function z2(o,e,t,c){if(mi(o.path))return B2(o,e,t,c);{const _=e.get(zi());t==null&&_!=null&&(t=Ru(_,zi()));let ee=[];const we=di(o.path),Fe=o.operationForChild(we),nt=e.children.get(we);if(nt&&Fe){const st=t?t.getImmediateChild(we):null,yt=j2(c,we);ee=ee.concat(z2(Fe,nt,st,yt))}return _&&(ee=ee.concat(Im(_,o,c,t))),ee}}function B2(o,e,t,c){const _=e.get(zi());t==null&&_!=null&&(t=Ru(_,zi()));let ee=[];return e.children.inorderTraversal((we,Fe)=>{const nt=t?t.getImmediateChild(we):null,st=j2(c,we),yt=o.operationForChild(we);yt&&(ee=ee.concat(B2(yt,Fe,nt,st)))}),_&&(ee=ee.concat(Im(_,o,c,t))),ee}function F2(o,e){const t=e.query,c=vh(o,t);return{hashFn:()=>(G_(e)||Bo.EMPTY_NODE).hash(),onComplete:_=>{if(_==="ok")return c?c8(o,t._path,c):l8(o,t._path);{const ee=uk(_,t);return Op(o,t,null,ee)}}}}function vh(o,e){const t=Zh(e);return o.queryToTagMap.get(t)}function Zh(o){return o._path.toString()+"$"+o._queryIdentifier}function Tm(o,e){return o.tagToQueryMap.get(e)}function jm(o){const e=o.indexOf("$");return Gn(e!==-1&&e<o.length-1,"Bad queryKey."),{queryId:o.substr(e+1),path:new $i(o.substr(0,e))}}function Pm(o,e,t){const c=o.syncPointTree_.get(e);Gn(c,"Missing sync point for query tag that we're tracking");const _=km(o.pendingWriteTree_,e);return Im(c,t,_,null)}function f8(o){return o.fold((e,t,c)=>{if(t&&Gc(t))return[Lh(t)];{let _=[];return t&&(_=R2(t)),nl(c,(ee,we)=>{_=_.concat(we)}),_}})}function jd(o){return o._queryParams.loadsAllData()&&!o._queryParams.isDefault()?new(i8())(o._repo,o._path):o}function h8(o,e){for(let t=0;t<e.length;++t){const c=e[t];if(!c._queryParams.loadsAllData()){const _=Zh(c),ee=o.queryToTagMap.get(_);o.queryToTagMap.delete(_),o.tagToQueryMap.delete(ee)}}}function p8(){return a8++}function m8(o,e,t){const c=e._path,_=vh(o,e),ee=F2(o,t),we=o.listenProvider_.startListening(jd(e),_,ee.hashFn,ee.onComplete),Fe=o.syncPointTree_.subtree(c);if(_)Gn(!Gc(Fe.value),"If we're adding a query, it shouldn't be shadowed");else{const nt=Fe.fold((st,yt,kt)=>{if(!mi(st)&&yt&&Gc(yt))return[Lh(yt).query];{let We=[];return yt&&(We=We.concat(R2(yt).map(ue=>ue.query))),nl(kt,(ue,n)=>{We=We.concat(n)}),We}});for(let st=0;st<nt.length;++st){const yt=nt[st];o.listenProvider_.stopListening(jd(yt),vh(o,yt))}}return we}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Mm(t)}node(){return this.node_}}class Am{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Ba(this.path_,e);return new Am(this.syncTree_,t)}node(){return Om(this.syncTree_,this.path_)}}const g8=function(o){return o=o||{},o.timestamp=o.timestamp||new Date().getTime(),o},Wv=function(o,e,t){if(!o||typeof o!="object")return o;if(Gn(".sv"in o,"Unexpected leaf node or priority contents"),typeof o[".sv"]=="string")return v8(o[".sv"],e,t);if(typeof o[".sv"]=="object")return b8(o[".sv"],e);Gn(!1,"Unexpected server value: "+JSON.stringify(o,null,2))},v8=function(o,e,t){switch(o){case"timestamp":return t.timestamp;default:Gn(!1,"Unexpected server value: "+o)}},b8=function(o,e,t){o.hasOwnProperty("increment")||Gn(!1,"Unexpected server value: "+JSON.stringify(o,null,2));const c=o.increment;typeof c!="number"&&Gn(!1,"Unexpected increment value: "+c);const _=e.node();if(Gn(_!==null&&typeof _<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!_.isLeafNode())return c;const we=_.getValue();return typeof we!="number"?c:we+c},y8=function(o,e,t,c){return Dm(e,new Am(t,o),c)},H2=function(o,e,t){return Dm(o,new Mm(e),t)};function Dm(o,e,t){const c=o.getPriority().val(),_=Wv(c,e.getImmediateChild(".priority"),t);let ee;if(o.isLeafNode()){const we=o,Fe=Wv(we.getValue(),e,t);return Fe!==we.getValue()||_!==we.getPriority().val()?new Ya(Fe,ls(_)):o}else{const we=o;return ee=we,_!==we.getPriority().val()&&(ee=ee.updatePriority(new Ya(_))),we.forEachChild(va,(Fe,nt)=>{const st=Dm(nt,e.getImmediateChild(Fe),t);st!==nt&&(ee=ee.updateImmediateChild(Fe,st))}),ee}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e="",t=null,c={children:{},childCount:0}){this.name=e,this.parent=t,this.node=c}}function Lm(o,e){let t=e instanceof $i?e:new $i(e),c=o,_=di(t);for(;_!==null;){const ee=Lu(c.node.children,_)||{children:{},childCount:0};c=new Rm(_,c,ee),t=qi(t),_=di(t)}return c}function od(o){return o.node.value}function W2(o,e){o.node.value=e,Tp(o)}function U2(o){return o.node.childCount>0}function x8(o){return od(o)===void 0&&!U2(o)}function zh(o,e){nl(o.node.children,(t,c)=>{e(new Rm(t,o,c))})}function V2(o,e,t,c){t&&e(o),zh(o,_=>{V2(_,e,!0)})}function w8(o,e,t){let c=o.parent;for(;c!==null;){if(e(c))return!0;c=c.parent}return!1}function af(o){return new $i(o.parent===null?o.name:af(o.parent)+"/"+o.name)}function Tp(o){o.parent!==null&&E8(o.parent,o.name,o)}function E8(o,e,t){const c=x8(t),_=Ec(o.node.children,e);c&&_?(delete o.node.children[e],o.node.childCount--,Tp(o)):!c&&!_&&(o.node.children[e]=t.node,o.node.childCount++,Tp(o))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k8=/[\[\].#$\/\u0000-\u001F\u007F]/,_8=/[\[\].#$\u0000-\u001F\u007F]/,F0=10*1024*1024,K2=function(o){return typeof o=="string"&&o.length!==0&&!k8.test(o)},G2=function(o){return typeof o=="string"&&o.length!==0&&!_8.test(o)},S8=function(o){return o&&(o=o.replace(/^\/*\.info(\/|$)/,"/")),G2(o)},C8=function(o,e,t,c){Nm(Bp(o,"value"),e,t)},Nm=function(o,e,t){const c=t instanceof $i?new Wk(t,o):t;if(e===void 0)throw new Error(o+"contains undefined "+iu(c));if(typeof e=="function")throw new Error(o+"contains a function "+iu(c)+" with contents = "+e.toString());if(Gy(e))throw new Error(o+"contains "+e.toString()+" "+iu(c));if(typeof e=="string"&&e.length>F0/3&&Eh(e)>F0)throw new Error(o+"contains a string greater than "+F0+" utf8 bytes "+iu(c)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let _=!1,ee=!1;if(nl(e,(we,Fe)=>{if(we===".value")_=!0;else if(we!==".priority"&&we!==".sv"&&(ee=!0,!K2(we)))throw new Error(o+" contains an invalid key ("+we+") "+iu(c)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Uk(c,we),Nm(o,Fe,c),Vk(c)}),_&&ee)throw new Error(o+' contains ".value" child '+iu(c)+" in addition to actual children.")}},Y2=function(o,e,t,c){if(!G2(t))throw new Error(Bp(o,e)+'was an invalid path = "'+t+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},I8=function(o,e,t,c){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Y2(o,e,t)},O8=function(o,e){if(di(e)===".info")throw new Error(o+" failed = Can't modify data under /.info/")},T8=function(o,e){const t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!K2(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!S8(t))throw new Error(Bp(o,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j8{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Zm(o,e){let t=null;for(let c=0;c<e.length;c++){const _=e[c],ee=_.getPath();t!==null&&!gm(ee,t.path)&&(o.eventLists_.push(t),t=null),t===null&&(t={events:[],path:ee}),t.events.push(_)}t&&o.eventLists_.push(t)}function $2(o,e,t){Zm(o,t),X2(o,c=>gm(c,e))}function wc(o,e,t){Zm(o,t),X2(o,c=>Nl(c,e)||Nl(e,c))}function X2(o,e){o.recursionDepth_++;let t=!0;for(let c=0;c<o.eventLists_.length;c++){const _=o.eventLists_[c];if(_){const ee=_.path;e(ee)?(P8(o.eventLists_[c]),o.eventLists_[c]=null):t=!1}}t&&(o.eventLists_=[]),o.recursionDepth_--}function P8(o){for(let e=0;e<o.events.length;e++){const t=o.events[e];if(t!==null){o.events[e]=null;const c=t.getEventRunner();Cd&&Es("event: "+t.toString()),nd(c)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M8="repo_interrupt",A8=25;class D8{constructor(e,t,c,_){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=c,this.appCheckProvider_=_,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new j8,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=uh(),this.transactionQueueTree_=new Rm,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function R8(o,e,t){if(o.stats_=pm(o.repoInfo_),o.forceRestClient_||pk())o.server_=new ch(o.repoInfo_,(c,_,ee,we)=>{Uv(o,c,_,ee,we)},o.authTokenProvider_,o.appCheckProvider_),setTimeout(()=>Vv(o,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{qa(t)}catch(c){throw new Error("Invalid authOverride provided: "+c)}}o.persistentConnection_=new gc(o.repoInfo_,e,(c,_,ee,we)=>{Uv(o,c,_,ee,we)},c=>{Vv(o,c)},c=>{N8(o,c)},o.authTokenProvider_,o.appCheckProvider_,t),o.server_=o.persistentConnection_}o.authTokenProvider_.addTokenChangeListener(c=>{o.server_.refreshAuthToken(c)}),o.appCheckProvider_.addTokenChangeListener(c=>{o.server_.refreshAppCheckToken(c.token)}),o.statsReporter_=yk(o.repoInfo_,()=>new v_(o.stats_,o.server_)),o.infoData_=new f_,o.infoSyncTree_=new Fv({startListening:(c,_,ee,we)=>{let Fe=[];const nt=o.infoData_.getNode(c._path);return nt.isEmpty()||(Fe=Nh(o.infoSyncTree_,c._path,nt),setTimeout(()=>{we("ok")},0)),Fe},stopListening:()=>{}}),Bm(o,"connected",!1),o.serverSyncTree_=new Fv({startListening:(c,_,ee,we)=>(o.server_.listen(c,ee,_,(Fe,nt)=>{const st=we(Fe,nt);wc(o.eventQueue_,c._path,st)}),[]),stopListening:(c,_)=>{o.server_.unlisten(c,_)}})}function L8(o){const t=o.infoData_.getNode(new $i(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function zm(o){return g8({timestamp:L8(o)})}function Uv(o,e,t,c,_){o.dataUpdateCount++;const ee=new $i(e);t=o.interceptServerDataCallback_?o.interceptServerDataCallback_(e,t):t;let we=[];if(_)if(c){const nt=Xf(t,st=>ls(st));we=d8(o.serverSyncTree_,ee,nt,_)}else{const nt=ls(t);we=u8(o.serverSyncTree_,ee,nt,_)}else if(c){const nt=Xf(t,st=>ls(st));we=s8(o.serverSyncTree_,ee,nt)}else{const nt=ls(t);we=Nh(o.serverSyncTree_,ee,nt)}let Fe=ee;we.length>0&&(Fe=Bh(o,ee)),wc(o.eventQueue_,Fe,we)}function Vv(o,e){Bm(o,"connected",e),e===!1&&z8(o)}function N8(o,e){nl(e,(t,c)=>{Bm(o,t,c)})}function Bm(o,e,t){const c=new $i("/.info/"+e),_=ls(t);o.infoData_.updateSnapshot(c,_);const ee=Nh(o.infoSyncTree_,c,_);wc(o.eventQueue_,c,ee)}function q2(o){return o.nextWriteId_++}function Z8(o,e,t,c,_){Fm(o,"set",{path:e.toString(),value:t,priority:c});const ee=zm(o),we=ls(t,c),Fe=Om(o.serverSyncTree_,e),nt=H2(we,Fe,ee),st=q2(o),yt=Z2(o.serverSyncTree_,e,nt,st,!0);Zm(o.eventQueue_,yt),o.server_.put(e.toString(),we.val(!0),(We,ue)=>{const n=We==="ok";n||rl("set at "+e+" failed: "+We);const r=lu(o.serverSyncTree_,st,!n);wc(o.eventQueue_,e,r),W8(o,_,We,ue)});const kt=rx(o,e);Bh(o,kt),wc(o.eventQueue_,kt,[])}function z8(o){Fm(o,"onDisconnectEvents");const e=zm(o),t=uh();Ep(o.onDisconnect_,zi(),(_,ee)=>{const we=y8(_,ee,o.serverSyncTree_,e);_2(t,_,we)});let c=[];Ep(t,zi(),(_,ee)=>{c=c.concat(Nh(o.serverSyncTree_,_,ee));const we=rx(o,_);Bh(o,we)}),o.onDisconnect_=uh(),wc(o.eventQueue_,zi(),c)}function B8(o,e,t){let c;di(e._path)===".info"?c=Hv(o.infoSyncTree_,e,t):c=Hv(o.serverSyncTree_,e,t),$2(o.eventQueue_,e._path,c)}function F8(o,e,t){let c;di(e._path)===".info"?c=Op(o.infoSyncTree_,e,t):c=Op(o.serverSyncTree_,e,t),$2(o.eventQueue_,e._path,c)}function H8(o){o.persistentConnection_&&o.persistentConnection_.interrupt(M8)}function Fm(o,...e){let t="";o.persistentConnection_&&(t=o.persistentConnection_.id+":"),Es(t,...e)}function W8(o,e,t,c){e&&nd(()=>{if(t==="ok")e(null);else{const _=(t||"error").toUpperCase();let ee=_;c&&(ee+=": "+c);const we=new Error(ee);we.code=_,e(we)}})}function Q2(o,e,t){return Om(o.serverSyncTree_,e,t)||Bo.EMPTY_NODE}function Hm(o,e=o.transactionQueueTree_){if(e||Fh(o,e),od(e)){const t=ex(o,e);Gn(t.length>0,"Sending zero length transaction queue"),t.every(_=>_.status===0)&&U8(o,af(e),t)}else U2(e)&&zh(e,t=>{Hm(o,t)})}function U8(o,e,t){const c=t.map(st=>st.currentWriteId),_=Q2(o,e,c);let ee=_;const we=_.hash();for(let st=0;st<t.length;st++){const yt=t[st];Gn(yt.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),yt.status=1,yt.retryCount++;const kt=Js(e,yt.path);ee=ee.updateChild(kt,yt.currentOutputSnapshotRaw)}const Fe=ee.val(!0),nt=e;o.server_.put(nt.toString(),Fe,st=>{Fm(o,"transaction put response",{path:nt.toString(),status:st});let yt=[];if(st==="ok"){const kt=[];for(let We=0;We<t.length;We++)t[We].status=2,yt=yt.concat(lu(o.serverSyncTree_,t[We].currentWriteId)),t[We].onComplete&&kt.push(()=>t[We].onComplete(null,!0,t[We].currentOutputSnapshotResolved)),t[We].unwatcher();Fh(o,Lm(o.transactionQueueTree_,e)),Hm(o,o.transactionQueueTree_),wc(o.eventQueue_,e,yt);for(let We=0;We<kt.length;We++)nd(kt[We])}else{if(st==="datastale")for(let kt=0;kt<t.length;kt++)t[kt].status===3?t[kt].status=4:t[kt].status=0;else{rl("transaction at "+nt.toString()+" failed: "+st);for(let kt=0;kt<t.length;kt++)t[kt].status=4,t[kt].abortReason=st}Bh(o,e)}},we)}function Bh(o,e){const t=J2(o,e),c=af(t),_=ex(o,t);return V8(o,_,c),c}function V8(o,e,t){if(e.length===0)return;const c=[];let _=[];const we=e.filter(Fe=>Fe.status===0).map(Fe=>Fe.currentWriteId);for(let Fe=0;Fe<e.length;Fe++){const nt=e[Fe],st=Js(t,nt.path);let yt=!1,kt;if(Gn(st!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),nt.status===4)yt=!0,kt=nt.abortReason,_=_.concat(lu(o.serverSyncTree_,nt.currentWriteId,!0));else if(nt.status===0)if(nt.retryCount>=A8)yt=!0,kt="maxretry",_=_.concat(lu(o.serverSyncTree_,nt.currentWriteId,!0));else{const We=Q2(o,nt.path,we);nt.currentInputSnapshot=We;const ue=e[Fe].update(We.val());if(ue!==void 0){Nm("transaction failed: Data returned ",ue,nt.path);let n=ls(ue);typeof ue=="object"&&ue!=null&&Ec(ue,".priority")||(n=n.updatePriority(We.getPriority()));const A=nt.currentWriteId,k=zm(o),b=H2(n,We,k);nt.currentOutputSnapshotRaw=n,nt.currentOutputSnapshotResolved=b,nt.currentWriteId=q2(o),we.splice(we.indexOf(A),1),_=_.concat(Z2(o.serverSyncTree_,nt.path,b,nt.currentWriteId,nt.applyLocally)),_=_.concat(lu(o.serverSyncTree_,A,!0))}else yt=!0,kt="nodata",_=_.concat(lu(o.serverSyncTree_,nt.currentWriteId,!0))}wc(o.eventQueue_,t,_),_=[],yt&&(e[Fe].status=2,function(We){setTimeout(We,Math.floor(0))}(e[Fe].unwatcher),e[Fe].onComplete&&(kt==="nodata"?c.push(()=>e[Fe].onComplete(null,!1,e[Fe].currentInputSnapshot)):c.push(()=>e[Fe].onComplete(new Error(kt),!1,null))))}Fh(o,o.transactionQueueTree_);for(let Fe=0;Fe<c.length;Fe++)nd(c[Fe]);Hm(o,o.transactionQueueTree_)}function J2(o,e){let t,c=o.transactionQueueTree_;for(t=di(e);t!==null&&od(c)===void 0;)c=Lm(c,t),e=qi(e),t=di(e);return c}function ex(o,e){const t=[];return tx(o,e,t),t.sort((c,_)=>c.order-_.order),t}function tx(o,e,t){const c=od(e);if(c)for(let _=0;_<c.length;_++)t.push(c[_]);zh(e,_=>{tx(o,_,t)})}function Fh(o,e){const t=od(e);if(t){let c=0;for(let _=0;_<t.length;_++)t[_].status!==2&&(t[c]=t[_],c++);t.length=c,W2(e,t.length>0?t:void 0)}zh(e,c=>{Fh(o,c)})}function rx(o,e){const t=af(J2(o,e)),c=Lm(o.transactionQueueTree_,e);return w8(c,_=>{H0(o,_)}),H0(o,c),V2(c,_=>{H0(o,_)}),t}function H0(o,e){const t=od(e);if(t){const c=[];let _=[],ee=-1;for(let we=0;we<t.length;we++)t[we].status===3||(t[we].status===1?(Gn(ee===we-1,"All SENT items should be at beginning of queue."),ee=we,t[we].status=3,t[we].abortReason="set"):(Gn(t[we].status===0,"Unexpected transaction status in abort"),t[we].unwatcher(),_=_.concat(lu(o.serverSyncTree_,t[we].currentWriteId,!0)),t[we].onComplete&&c.push(t[we].onComplete.bind(null,new Error("set"),!1,null))));ee===-1?W2(e,void 0):t.length=ee+1,wc(o.eventQueue_,af(e),_);for(let we=0;we<c.length;we++)nd(c[we])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K8(o){let e="";const t=o.split("/");for(let c=0;c<t.length;c++)if(t[c].length>0){let _=t[c];try{_=decodeURIComponent(_.replace(/\+/g," "))}catch{}e+="/"+_}return e}function G8(o){const e={};o.charAt(0)==="?"&&(o=o.substring(1));for(const t of o.split("&")){if(t.length===0)continue;const c=t.split("=");c.length===2?e[decodeURIComponent(c[0])]=decodeURIComponent(c[1]):rl(`Invalid query segment '${t}' in query '${o}'`)}return e}const Kv=function(o,e){const t=Y8(o),c=t.namespace;t.domain==="firebase.com"&&xc(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!c||c==="undefined")&&t.domain!=="localhost"&&xc("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||ik();const _=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new i2(t.host,t.secure,c,_,e,"",c!==t.subdomain),path:new $i(t.pathString)}},Y8=function(o){let e="",t="",c="",_="",ee="",we=!0,Fe="https",nt=443;if(typeof o=="string"){let st=o.indexOf("//");st>=0&&(Fe=o.substring(0,st-1),o=o.substring(st+2));let yt=o.indexOf("/");yt===-1&&(yt=o.length);let kt=o.indexOf("?");kt===-1&&(kt=o.length),e=o.substring(0,Math.min(yt,kt)),yt<kt&&(_=K8(o.substring(yt,kt)));const We=G8(o.substring(Math.min(o.length,kt)));st=e.indexOf(":"),st>=0?(we=Fe==="https"||Fe==="wss",nt=parseInt(e.substring(st+1),10)):st=e.length;const ue=e.slice(0,st);if(ue.toLowerCase()==="localhost")t="localhost";else if(ue.split(".").length<=2)t=ue;else{const n=e.indexOf(".");c=e.substring(0,n).toLowerCase(),t=e.substring(n+1),ee=c}"ns"in We&&(ee=We.ns)}return{host:e,port:nt,domain:t,subdomain:c,secure:we,scheme:Fe,pathString:_,namespace:ee}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $8{constructor(e,t,c,_){this.eventType=e,this.eventRegistration=t,this.snapshot=c,this.prevName=_}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+qa(this.snapshot.exportVal())}}class X8{constructor(e,t,c){this.eventRegistration=e,this.error=t,this.path=c}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q8{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return Gn(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,t,c,_){this._repo=e,this._path=t,this._queryParams=c,this._orderByCalled=_}get key(){return mi(this._path)?null:p2(this._path)}get ref(){return new Yc(this._repo,this._path)}get _queryIdentifier(){const e=jv(this._queryParams),t=fm(e);return t==="{}"?"default":t}get _queryObject(){return jv(this._queryParams)}isEqual(e){if(e=Qu(e),!(e instanceof Wm))return!1;const t=this._repo===e._repo,c=gm(this._path,e._path),_=this._queryIdentifier===e._queryIdentifier;return t&&c&&_}toJSON(){return this.toString()}toString(){return this._repo.toString()+Hk(this._path)}}class Yc extends Wm{constructor(e,t){super(e,t,new xm,!1)}get parent(){const e=g2(this._path);return e===null?null:new Yc(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class bh{constructor(e,t,c){this._node=e,this.ref=t,this._index=c}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new $i(e),c=jp(this.ref,e);return new bh(this._node.getChild(t),c,va)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(c,_)=>e(new bh(_,jp(this.ref,c),va)))}hasChild(e){const t=new $i(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ru(o,e){return o=Qu(o),o._checkNotDeleted("ref"),e!==void 0?jp(o._root,e):o._root}function jp(o,e){return o=Qu(o),di(o._path)===null?I8("child","path",e):Y2("child","path",e),new Yc(o._repo,Ba(o._path,e))}function zf(o,e){o=Qu(o),O8("set",o._path),C8("set",e,o._path);const t=new wh;return Z8(o._repo,o._path,e,null,t.wrapCallback(()=>{})),t.promise}class Um{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,t){const c=t._queryParams.getIndex();return new $8("value",this,new bh(e.snapshotNode,new Yc(t._repo,t._path),c))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new X8(this,e,t):null}matches(e){return e instanceof Um?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function Q8(o,e,t,c,_){const ee=new q8(t,void 0),we=new Um(ee);return B8(o._repo,o,we),()=>F8(o._repo,o,we)}function W0(o,e,t,c){return Q8(o,"value",e)}Q_(Yc);o8(Yc);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J8="FIREBASE_DATABASE_EMULATOR_HOST",Pp={};let e7=!1;function t7(o,e,t,c){o.repoInfo_=new i2(e,!1,o.repoInfo_.namespace,o.repoInfo_.webSocketOnly,o.repoInfo_.nodeAdmin,o.repoInfo_.persistenceKey,o.repoInfo_.includeNamespaceInQueryParams,!0,t),c&&(o.authTokenProvider_=c)}function r7(o,e,t,c,_){let ee=c||o.options.databaseURL;ee===void 0&&(o.options.projectId||xc("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Es("Using default host for project ",o.options.projectId),ee=`${o.options.projectId}-default-rtdb.firebaseio.com`);let we=Kv(ee,_),Fe=we.repoInfo,nt;typeof process<"u"&&fv&&(nt=fv[J8]),nt?(ee=`http://${nt}?ns=${Fe.namespace}`,we=Kv(ee,_),Fe=we.repoInfo):we.repoInfo.secure;const st=new gk(o.name,o.options,e);T8("Invalid Firebase Database URL",we),mi(we.path)||xc("Database URL must point to the root of a Firebase Database (not including a child path).");const yt=o7(Fe,o,st,new mk(o,t));return new i7(yt,o)}function n7(o,e){const t=Pp[e];(!t||t[o.key]!==o)&&xc(`Database ${e}(${o.repoInfo_}) has already been deleted.`),H8(o),delete t[o.key]}function o7(o,e,t,c){let _=Pp[e.name];_||(_={},Pp[e.name]=_);let ee=_[o.toURLString()];return ee&&xc("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),ee=new D8(o,e7,t,c),_[o.toURLString()]=ee,ee}class i7{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(R8(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Yc(this._repo,zi())),this._rootInternal}_delete(){return this._rootInternal!==null&&(n7(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&xc("Cannot call "+e+" on a deleted database.")}}function a7(o=Ab(),e){const t=Tb(o,"database").getImmediate({identifier:e});if(!t._instanceStarted){const c=xb("database");c&&s7(t,...c)}return t}function s7(o,e,t,c={}){o=Qu(o),o._checkNotDeleted("useEmulator");const _=`${e}:${t}`,ee=o._repoInternal;if(o._instanceStarted){if(_===o._repoInternal.repoInfo_.host&&Ad(c,ee.repoInfo_.emulatorOptions))return;xc("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let we;if(ee.repoInfo_.nodeAdmin)c.mockUserToken&&xc('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),we=new Gf(Gf.OWNER);else if(c.mockUserToken){const Fe=typeof c.mockUserToken=="string"?c.mockUserToken:Eb(c.mockUserToken,o.app.options.projectId);we=new Gf(Fe)}t7(ee,_,c,we)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l7(o){JE(Pb),Dd(new Nu("database",(e,{instanceIdentifier:t})=>{const c=e.getProvider("app").getImmediate(),_=e.getProvider("auth-internal"),ee=e.getProvider("app-check-internal");return r7(c,_,ee,t)},"PUBLIC").setMultipleInstances(!0)),Lc(hv,pv,o),Lc(hv,pv,"esm2017")}gc.prototype.simpleListen=function(o,e){this.sendRequest("q",{p:o},e)};gc.prototype.echo=function(o,e){this.sendRequest("echo",{d:o},e)};l7();var c7="firebase",u7="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lc(c7,u7,"app");const d7={apiKey:"AIzaSyCNgEAN21MFWttIRdggjfZUTYKgD_z4F0s",authDomain:"slides-demo-beda6.firebaseapp.com",projectId:"slides-demo-beda6",storageBucket:"slides-demo-beda6.firebasestorage.app",messagingSenderId:"584190801701",appId:"1:584190801701:web:19a09c45288f0ad0024ccc",databaseURL:"https://slides-demo-beda6-default-rtdb.firebaseio.com/"},nx=Mb(d7),f7=zE(nx),nu=a7(nx);var Bf={exports:{}},U0={exports:{}};/*! For license information please see excalidraw-with-preact.production.min.js.LICENSE.txt */var Gv;function h7(){return Gv||(Gv=1,function(o,e){(function(t,c){o.exports=c(Gd(),qv(),Mp())})(self,function(t,c,_){return function(){var ee,we,Fe,nt,st={5779:function(ue,n){n.N=void 0;var r=/^([^\w]*)(javascript|data|vbscript)/im,A=/&#(\w+)(^\w|;)?/g,k=/&(newline|tab);/gi,b=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,w=/^.+(:|&colon;)/gim,N=[".","/"];n.N=function(M){var f,d=(f=M||"",f.replace(A,function(H,x){return String.fromCharCode(x)})).replace(k,"").replace(b,"").trim();if(!d)return"about:blank";if(function(H){return N.indexOf(H[0])>-1}(d))return d;var j=d.match(w);if(!j)return d;var L=j[0];return r.test(L)?"about:blank":d}},7217:function(ue,n,r){function A(k,b,{checkForDefaultPrevented:w=!0}={}){return function(N){if(k==null||k(N),w===!1||!N.defaultPrevented)return b==null?void 0:b(N)}}r.d(n,{M:function(){return A}})},9335:function(ue,n,r){r.d(n,{F:function(){return k},e:function(){return b}});var A=r(9787);function k(...w){return N=>w.forEach(M=>function(f,d){typeof f=="function"?f(d):f!=null&&(f.current=d)}(M,N))}function b(...w){return(0,A.useCallback)(k(...w),w)}},1267:function(ue,n,r){r.d(n,{b:function(){return k}});var A=r(9787);function k(w,N=[]){let M=[];const f=()=>{const d=M.map(j=>(0,A.createContext)(j));return function(j){const L=(j==null?void 0:j[w])||d;return(0,A.useMemo)(()=>({[`__scope${w}`]:{...j,[w]:L}}),[j,L])}};return f.scopeName=w,[function(d,j){const L=(0,A.createContext)(j),H=M.length;function x(S){const{scope:q,children:ve,...ke}=S,Se=(q==null?void 0:q[w][H])||L,ge=(0,A.useMemo)(()=>ke,Object.values(ke));return(0,A.createElement)(Se.Provider,{value:ge},ve)}return M=[...M,j],x.displayName=d+"Provider",[x,function(S,q){const ve=(q==null?void 0:q[w][H])||L,ke=(0,A.useContext)(ve);if(ke)return ke;if(j!==void 0)return j;throw new Error(`\`${S}\` must be used within \`${d}\``)}]},b(f,...N)]}function b(...w){const N=w[0];if(w.length===1)return N;const M=()=>{const f=w.map(d=>({useScope:d(),scopeName:d.scopeName}));return function(d){const j=f.reduce((L,{useScope:H,scopeName:x})=>({...L,...H(d)[`__scope${x}`]}),{});return(0,A.useMemo)(()=>({[`__scope${N.scopeName}`]:j}),[j])}};return M.scopeName=N.scopeName,M}},5622:function(ue,n,r){r.d(n,{M:function(){return N}});var A=r(9787),k=r(3348);const b=A.useId||(()=>{});let w=0;function N(M){const[f,d]=A.useState(b());return(0,k.b)(()=>{M||d(j=>j??String(w++))},[M]),M||(f?`radix-${f}`:"")}},1483:function(ue,n,r){r.d(n,{z:function(){return N}});var A=r(9787),k=r(5156),b=r(9335),w=r(3348);const N=f=>{const{present:d,children:j}=f,L=function(S){const[q,ve]=(0,A.useState)(),ke=(0,A.useRef)({}),Se=(0,A.useRef)(S),ge=(0,A.useRef)("none"),J=S?"mounted":"unmounted",[Q,K]=function(T,B){return(0,A.useReducer)((O,R)=>{const E=B[O][R];return E??O},T)}(J,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return(0,A.useEffect)(()=>{const T=M(ke.current);ge.current=Q==="mounted"?T:"none"},[Q]),(0,w.b)(()=>{const T=ke.current,B=Se.current;if(B!==S){const O=ge.current,R=M(T);S?K("MOUNT"):R==="none"||(T==null?void 0:T.display)==="none"?K("UNMOUNT"):K(B&&O!==R?"ANIMATION_OUT":"UNMOUNT"),Se.current=S}},[S,K]),(0,w.b)(()=>{if(q){const T=O=>{const R=M(ke.current).includes(O.animationName);O.target===q&&R&&(0,k.flushSync)(()=>K("ANIMATION_END"))},B=O=>{O.target===q&&(ge.current=M(ke.current))};return q.addEventListener("animationstart",B),q.addEventListener("animationcancel",T),q.addEventListener("animationend",T),()=>{q.removeEventListener("animationstart",B),q.removeEventListener("animationcancel",T),q.removeEventListener("animationend",T)}}K("ANIMATION_END")},[q,K]),{isPresent:["mounted","unmountSuspended"].includes(Q),ref:(0,A.useCallback)(T=>{T&&(ke.current=getComputedStyle(T)),ve(T)},[])}}(d),H=typeof j=="function"?j({present:L.isPresent}):A.Children.only(j),x=(0,b.e)(L.ref,H.ref);return typeof j=="function"||L.isPresent?(0,A.cloneElement)(H,{ref:x}):null};function M(f){return(f==null?void 0:f.animationName)||"none"}N.displayName="Presence"},3119:function(ue,n,r){r.d(n,{WV:function(){return N},jH:function(){return M}});var A=r(11),k=r(9787),b=r(5156),w=r(4801);const N=["a","button","div","h2","h3","img","label","li","nav","ol","p","span","svg","ul"].reduce((f,d)=>{const j=(0,k.forwardRef)((L,H)=>{const{asChild:x,...S}=L,q=x?w.g7:d;return(0,k.useEffect)(()=>{window[Symbol.for("radix-ui")]=!0},[]),(0,k.createElement)(q,(0,A.Z)({},S,{ref:H}))});return j.displayName=`Primitive.${d}`,{...f,[d]:j}},{});function M(f,d){f&&(0,b.flushSync)(()=>f.dispatchEvent(d))}},4801:function(ue,n,r){r.d(n,{g7:function(){return w}});var A=r(11),k=r(9787),b=r(9335);const w=(0,k.forwardRef)((j,L)=>{const{children:H,...x}=j,S=k.Children.toArray(H),q=S.find(f);if(q){const ve=q.props.children,ke=S.map(Se=>Se===q?k.Children.count(ve)>1?k.Children.only(null):(0,k.isValidElement)(ve)?ve.props.children:null:Se);return(0,k.createElement)(N,(0,A.Z)({},x,{ref:L}),(0,k.isValidElement)(ve)?(0,k.cloneElement)(ve,void 0,ke):null)}return(0,k.createElement)(N,(0,A.Z)({},x,{ref:L}),H)});w.displayName="Slot";const N=(0,k.forwardRef)((j,L)=>{const{children:H,...x}=j;return(0,k.isValidElement)(H)?(0,k.cloneElement)(H,{...d(x,H.props),ref:(0,b.F)(L,H.ref)}):k.Children.count(H)>1?k.Children.only(null):null});N.displayName="SlotClone";const M=({children:j})=>(0,k.createElement)(k.Fragment,null,j);function f(j){return(0,k.isValidElement)(j)&&j.type===M}function d(j,L){const H={...L};for(const x in L){const S=j[x],q=L[x];/^on[A-Z]/.test(x)?S&&q?H[x]=(...ve)=>{q(...ve),S(...ve)}:S&&(H[x]=S):x==="style"?H[x]={...S,...q}:x==="className"&&(H[x]=[S,q].filter(Boolean).join(" "))}return{...j,...H}}},3060:function(ue,n,r){r.d(n,{W:function(){return k}});var A=r(9787);function k(b){const w=(0,A.useRef)(b);return(0,A.useEffect)(()=>{w.current=b}),(0,A.useMemo)(()=>(...N)=>{var M;return(M=w.current)===null||M===void 0?void 0:M.call(w,...N)},[])}},2673:function(ue,n,r){r.d(n,{T:function(){return b}});var A=r(9787),k=r(3060);function b({prop:w,defaultProp:N,onChange:M=()=>{}}){const[f,d]=function({defaultProp:x,onChange:S}){const q=(0,A.useState)(x),[ve]=q,ke=(0,A.useRef)(ve),Se=(0,k.W)(S);return(0,A.useEffect)(()=>{ke.current!==ve&&(Se(ve),ke.current=ve)},[ve,ke,Se]),q}({defaultProp:N,onChange:M}),j=w!==void 0,L=j?w:f,H=(0,k.W)(M);return[L,(0,A.useCallback)(x=>{if(j){const S=x,q=typeof x=="function"?S(w):x;q!==w&&H(q)}else d(x)},[j,w,d,H])]}},3348:function(ue,n,r){r.d(n,{b:function(){return k}});var A=r(9787);const k=globalThis!=null&&globalThis.document?A.useLayoutEffect:()=>{}},45:function(ue,n,r){function A(b){var w,N,M="";if(typeof b=="string"||typeof b=="number")M+=b;else if(typeof b=="object")if(Array.isArray(b))for(w=0;w<b.length;w++)b[w]&&(N=A(b[w]))&&(M&&(M+=" "),M+=N);else for(w in b)b[w]&&(M&&(M+=" "),M+=w);return M}function k(){for(var b,w,N=0,M="";N<arguments.length;)(b=arguments[N++])&&(w=A(b))&&(M&&(M+=" "),M+=w);return M}r.d(n,{Z:function(){return k}})},6233:function(ue,n){var r;r=function(A){A.version="0.3.0";var k=function(){for(var N=0,M=new Array(256),f=0;f!=256;++f)N=1&(N=1&(N=1&(N=1&(N=1&(N=1&(N=1&(N=1&(N=f)?-306674912^N>>>1:N>>>1)?-306674912^N>>>1:N>>>1)?-306674912^N>>>1:N>>>1)?-306674912^N>>>1:N>>>1)?-306674912^N>>>1:N>>>1)?-306674912^N>>>1:N>>>1)?-306674912^N>>>1:N>>>1)?-306674912^N>>>1:N>>>1,M[f]=N;return typeof Int32Array<"u"?new Int32Array(M):M}(),b=typeof Buffer<"u";function w(N){for(var M=-1,f=0,d=N.length-7;f<d;)M=(M=(M=(M=(M=(M=(M=(M=M>>>8^k[255&(M^N[f++])])>>>8^k[255&(M^N[f++])])>>>8^k[255&(M^N[f++])])>>>8^k[255&(M^N[f++])])>>>8^k[255&(M^N[f++])])>>>8^k[255&(M^N[f++])])>>>8^k[255&(M^N[f++])])>>>8^k[255&(M^N[f++])];for(;f<d+7;)M=M>>>8^k[255&(M^N[f++])];return-1^M}A.table=k,A.bstr=function(N){if(N.length>32768&&b)return w(new Buffer(N));for(var M=-1,f=N.length-1,d=0;d<f;)M=k[255&(M^N.charCodeAt(d++))]^M>>>8,M=k[255&(M^N.charCodeAt(d++))]^M>>>8;return d===f&&(M=M>>>8^k[255&(M^N.charCodeAt(d))]),-1^M},A.buf=function(N){if(N.length>1e4)return w(N);for(var M=-1,f=0,d=N.length-3;f<d;)M=(M=(M=(M=M>>>8^k[255&(M^N[f++])])>>>8^k[255&(M^N[f++])])>>>8^k[255&(M^N[f++])])>>>8^k[255&(M^N[f++])];for(;f<d+3;)M=M>>>8^k[255&(M^N[f++])];return-1^M},A.str=function(N){for(var M,f,d=-1,j=0,L=N.length;j<L;)(M=N.charCodeAt(j++))<128?d=d>>>8^k[255&(d^M)]:M<2048?d=(d=d>>>8^k[255&(d^(192|M>>6&31))])>>>8^k[255&(d^(128|63&M))]:M>=55296&&M<57344?(M=64+(1023&M),f=1023&N.charCodeAt(j++),d=(d=(d=(d=d>>>8^k[255&(d^(240|M>>8&7))])>>>8^k[255&(d^(128|M>>2&63))])>>>8^k[255&(d^(128|f>>6&15|3&M))])>>>8^k[255&(d^(128|63&f))]):d=(d=(d=d>>>8^k[255&(d^(224|M>>12&15))])>>>8^k[255&(d^(128|M>>6&63))])>>>8^k[255&(d^(128|63&M))];return-1^d}},r(typeof DO_NOT_EXPORT_CRC>"u"?n:{})},200:function(ue,n,r){var A="Expected a function",k=/^\s+|\s+$/g,b=/^[-+]0x[0-9a-f]+$/i,w=/^0b[01]+$/i,N=/^0o[0-7]+$/i,M=parseInt,f=typeof r.g=="object"&&r.g&&r.g.Object===Object&&r.g,d=typeof self=="object"&&self&&self.Object===Object&&self,j=f||d||Function("return this")(),L=Object.prototype.toString,H=Math.max,x=Math.min,S=function(){return j.Date.now()};function q(Se,ge,J){var Q,K,T,B,O,R,E=0,v=!1,i=!1,a=!0;if(typeof Se!="function")throw new TypeError(A);function y(D){var P=Q,F=K;return Q=K=void 0,E=D,B=Se.apply(F,P)}function h(D){return E=D,O=setTimeout(C,ge),v?y(D):B}function m(D){var P=D-R;return R===void 0||P>=ge||P<0||i&&D-E>=T}function C(){var D=S();if(m(D))return U(D);O=setTimeout(C,function(P){var F=ge-(P-R);return i?x(F,T-(P-E)):F}(D))}function U(D){return O=void 0,a&&Q?y(D):(Q=K=void 0,B)}function V(){var D=S(),P=m(D);if(Q=arguments,K=this,R=D,P){if(O===void 0)return h(R);if(i)return O=setTimeout(C,ge),y(R)}return O===void 0&&(O=setTimeout(C,ge)),B}return ge=ke(ge)||0,ve(J)&&(v=!!J.leading,T=(i="maxWait"in J)?H(ke(J.maxWait)||0,ge):T,a="trailing"in J?!!J.trailing:a),V.cancel=function(){O!==void 0&&clearTimeout(O),E=0,Q=R=K=O=void 0},V.flush=function(){return O===void 0?B:U(S())},V}function ve(Se){var ge=typeof Se;return!!Se&&(ge=="object"||ge=="function")}function ke(Se){if(typeof Se=="number")return Se;if(function(Q){return typeof Q=="symbol"||function(K){return!!K&&typeof K=="object"}(Q)&&L.call(Q)=="[object Symbol]"}(Se))return NaN;if(ve(Se)){var ge=typeof Se.valueOf=="function"?Se.valueOf():Se;Se=ve(ge)?ge+"":ge}if(typeof Se!="string")return Se===0?Se:+Se;Se=Se.replace(k,"");var J=w.test(Se);return J||N.test(Se)?M(Se.slice(2),J?2:8):b.test(Se)?NaN:+Se}ue.exports=function(Se,ge,J){var Q=!0,K=!0;if(typeof Se!="function")throw new TypeError(A);return ve(J)&&(Q="leading"in J?!!J.leading:Q,K="trailing"in J?!!J.trailing:K),q(Se,ge,{leading:Q,maxWait:ge,trailing:K})}},2744:function(ue,n,r){var A={};(0,r(9187).assign)(A,r(4395),r(578),r(2684)),ue.exports=A},4395:function(ue,n,r){var A=r(6193),k=r(9187),b=r(8592),w=r(5604),N=r(249),M=Object.prototype.toString;function f(j){if(!(this instanceof f))return new f(j);this.options=k.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},j||{});var L=this.options;L.raw&&L.windowBits>0?L.windowBits=-L.windowBits:L.gzip&&L.windowBits>0&&L.windowBits<16&&(L.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new N,this.strm.avail_out=0;var H=A.deflateInit2(this.strm,L.level,L.method,L.windowBits,L.memLevel,L.strategy);if(H!==0)throw new Error(w[H]);if(L.header&&A.deflateSetHeader(this.strm,L.header),L.dictionary){var x;if(x=typeof L.dictionary=="string"?b.string2buf(L.dictionary):M.call(L.dictionary)==="[object ArrayBuffer]"?new Uint8Array(L.dictionary):L.dictionary,(H=A.deflateSetDictionary(this.strm,x))!==0)throw new Error(w[H]);this._dict_set=!0}}function d(j,L){var H=new f(L);if(H.push(j,!0),H.err)throw H.msg||w[H.err];return H.result}f.prototype.push=function(j,L){var H,x,S=this.strm,q=this.options.chunkSize;if(this.ended)return!1;x=L===~~L?L:L===!0?4:0,typeof j=="string"?S.input=b.string2buf(j):M.call(j)==="[object ArrayBuffer]"?S.input=new Uint8Array(j):S.input=j,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new k.Buf8(q),S.next_out=0,S.avail_out=q),(H=A.deflate(S,x))!==1&&H!==0)return this.onEnd(H),this.ended=!0,!1;S.avail_out!==0&&(S.avail_in!==0||x!==4&&x!==2)||(this.options.to==="string"?this.onData(b.buf2binstring(k.shrinkBuf(S.output,S.next_out))):this.onData(k.shrinkBuf(S.output,S.next_out)))}while((S.avail_in>0||S.avail_out===0)&&H!==1);return x===4?(H=A.deflateEnd(this.strm),this.onEnd(H),this.ended=!0,H===0):x!==2||(this.onEnd(0),S.avail_out=0,!0)},f.prototype.onData=function(j){this.chunks.push(j)},f.prototype.onEnd=function(j){j===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=k.flattenChunks(this.chunks)),this.chunks=[],this.err=j,this.msg=this.strm.msg},n.Deflate=f,n.deflate=d,n.deflateRaw=function(j,L){return(L=L||{}).raw=!0,d(j,L)},n.gzip=function(j,L){return(L=L||{}).gzip=!0,d(j,L)}},578:function(ue,n,r){var A=r(7823),k=r(9187),b=r(8592),w=r(2684),N=r(5604),M=r(249),f=r(9968),d=Object.prototype.toString;function j(H){if(!(this instanceof j))return new j(H);this.options=k.assign({chunkSize:16384,windowBits:0,to:""},H||{});var x=this.options;x.raw&&x.windowBits>=0&&x.windowBits<16&&(x.windowBits=-x.windowBits,x.windowBits===0&&(x.windowBits=-15)),!(x.windowBits>=0&&x.windowBits<16)||H&&H.windowBits||(x.windowBits+=32),x.windowBits>15&&x.windowBits<48&&(15&x.windowBits)==0&&(x.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new M,this.strm.avail_out=0;var S=A.inflateInit2(this.strm,x.windowBits);if(S!==w.Z_OK)throw new Error(N[S]);if(this.header=new f,A.inflateGetHeader(this.strm,this.header),x.dictionary&&(typeof x.dictionary=="string"?x.dictionary=b.string2buf(x.dictionary):d.call(x.dictionary)==="[object ArrayBuffer]"&&(x.dictionary=new Uint8Array(x.dictionary)),x.raw&&(S=A.inflateSetDictionary(this.strm,x.dictionary))!==w.Z_OK))throw new Error(N[S])}function L(H,x){var S=new j(x);if(S.push(H,!0),S.err)throw S.msg||N[S.err];return S.result}j.prototype.push=function(H,x){var S,q,ve,ke,Se,ge=this.strm,J=this.options.chunkSize,Q=this.options.dictionary,K=!1;if(this.ended)return!1;q=x===~~x?x:x===!0?w.Z_FINISH:w.Z_NO_FLUSH,typeof H=="string"?ge.input=b.binstring2buf(H):d.call(H)==="[object ArrayBuffer]"?ge.input=new Uint8Array(H):ge.input=H,ge.next_in=0,ge.avail_in=ge.input.length;do{if(ge.avail_out===0&&(ge.output=new k.Buf8(J),ge.next_out=0,ge.avail_out=J),(S=A.inflate(ge,w.Z_NO_FLUSH))===w.Z_NEED_DICT&&Q&&(S=A.inflateSetDictionary(this.strm,Q)),S===w.Z_BUF_ERROR&&K===!0&&(S=w.Z_OK,K=!1),S!==w.Z_STREAM_END&&S!==w.Z_OK)return this.onEnd(S),this.ended=!0,!1;ge.next_out&&(ge.avail_out!==0&&S!==w.Z_STREAM_END&&(ge.avail_in!==0||q!==w.Z_FINISH&&q!==w.Z_SYNC_FLUSH)||(this.options.to==="string"?(ve=b.utf8border(ge.output,ge.next_out),ke=ge.next_out-ve,Se=b.buf2string(ge.output,ve),ge.next_out=ke,ge.avail_out=J-ke,ke&&k.arraySet(ge.output,ge.output,ve,ke,0),this.onData(Se)):this.onData(k.shrinkBuf(ge.output,ge.next_out)))),ge.avail_in===0&&ge.avail_out===0&&(K=!0)}while((ge.avail_in>0||ge.avail_out===0)&&S!==w.Z_STREAM_END);return S===w.Z_STREAM_END&&(q=w.Z_FINISH),q===w.Z_FINISH?(S=A.inflateEnd(this.strm),this.onEnd(S),this.ended=!0,S===w.Z_OK):q!==w.Z_SYNC_FLUSH||(this.onEnd(w.Z_OK),ge.avail_out=0,!0)},j.prototype.onData=function(H){this.chunks.push(H)},j.prototype.onEnd=function(H){H===w.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=k.flattenChunks(this.chunks)),this.chunks=[],this.err=H,this.msg=this.strm.msg},n.Inflate=j,n.inflate=L,n.inflateRaw=function(H,x){return(x=x||{}).raw=!0,L(H,x)},n.ungzip=L},9187:function(ue,n){var r=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function A(w,N){return Object.prototype.hasOwnProperty.call(w,N)}n.assign=function(w){for(var N=Array.prototype.slice.call(arguments,1);N.length;){var M=N.shift();if(M){if(typeof M!="object")throw new TypeError(M+"must be non-object");for(var f in M)A(M,f)&&(w[f]=M[f])}}return w},n.shrinkBuf=function(w,N){return w.length===N?w:w.subarray?w.subarray(0,N):(w.length=N,w)};var k={arraySet:function(w,N,M,f,d){if(N.subarray&&w.subarray)w.set(N.subarray(M,M+f),d);else for(var j=0;j<f;j++)w[d+j]=N[M+j]},flattenChunks:function(w){var N,M,f,d,j,L;for(f=0,N=0,M=w.length;N<M;N++)f+=w[N].length;for(L=new Uint8Array(f),d=0,N=0,M=w.length;N<M;N++)j=w[N],L.set(j,d),d+=j.length;return L}},b={arraySet:function(w,N,M,f,d){for(var j=0;j<f;j++)w[d+j]=N[M+j]},flattenChunks:function(w){return[].concat.apply([],w)}};n.setTyped=function(w){w?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,k)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,b))},n.setTyped(r)},8592:function(ue,n,r){var A=r(9187),k=!0,b=!0;try{String.fromCharCode.apply(null,[0])}catch{k=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{b=!1}for(var w=new A.Buf8(256),N=0;N<256;N++)w[N]=N>=252?6:N>=248?5:N>=240?4:N>=224?3:N>=192?2:1;function M(f,d){if(d<65534&&(f.subarray&&b||!f.subarray&&k))return String.fromCharCode.apply(null,A.shrinkBuf(f,d));for(var j="",L=0;L<d;L++)j+=String.fromCharCode(f[L]);return j}w[254]=w[254]=1,n.string2buf=function(f){var d,j,L,H,x,S=f.length,q=0;for(H=0;H<S;H++)(64512&(j=f.charCodeAt(H)))==55296&&H+1<S&&(64512&(L=f.charCodeAt(H+1)))==56320&&(j=65536+(j-55296<<10)+(L-56320),H++),q+=j<128?1:j<2048?2:j<65536?3:4;for(d=new A.Buf8(q),x=0,H=0;x<q;H++)(64512&(j=f.charCodeAt(H)))==55296&&H+1<S&&(64512&(L=f.charCodeAt(H+1)))==56320&&(j=65536+(j-55296<<10)+(L-56320),H++),j<128?d[x++]=j:j<2048?(d[x++]=192|j>>>6,d[x++]=128|63&j):j<65536?(d[x++]=224|j>>>12,d[x++]=128|j>>>6&63,d[x++]=128|63&j):(d[x++]=240|j>>>18,d[x++]=128|j>>>12&63,d[x++]=128|j>>>6&63,d[x++]=128|63&j);return d},n.buf2binstring=function(f){return M(f,f.length)},n.binstring2buf=function(f){for(var d=new A.Buf8(f.length),j=0,L=d.length;j<L;j++)d[j]=f.charCodeAt(j);return d},n.buf2string=function(f,d){var j,L,H,x,S=d||f.length,q=new Array(2*S);for(L=0,j=0;j<S;)if((H=f[j++])<128)q[L++]=H;else if((x=w[H])>4)q[L++]=65533,j+=x-1;else{for(H&=x===2?31:x===3?15:7;x>1&&j<S;)H=H<<6|63&f[j++],x--;x>1?q[L++]=65533:H<65536?q[L++]=H:(H-=65536,q[L++]=55296|H>>10&1023,q[L++]=56320|1023&H)}return M(q,L)},n.utf8border=function(f,d){var j;for((d=d||f.length)>f.length&&(d=f.length),j=d-1;j>=0&&(192&f[j])==128;)j--;return j<0||j===0?d:j+w[f[j]]>d?j:d}},3693:function(ue){ue.exports=function(n,r,A,k){for(var b=65535&n|0,w=n>>>16&65535|0,N=0;A!==0;){A-=N=A>2e3?2e3:A;do w=w+(b=b+r[k++]|0)|0;while(--N);b%=65521,w%=65521}return b|w<<16|0}},2684:function(ue){ue.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},8464:function(ue){var n=function(){for(var r,A=[],k=0;k<256;k++){r=k;for(var b=0;b<8;b++)r=1&r?3988292384^r>>>1:r>>>1;A[k]=r}return A}();ue.exports=function(r,A,k,b){var w=n,N=b+k;r^=-1;for(var M=b;M<N;M++)r=r>>>8^w[255&(r^A[M])];return-1^r}},6193:function(ue,n,r){var A,k=r(9187),b=r(8676),w=r(3693),N=r(8464),M=r(5604),f=-2,d=258,j=262,L=103,H=113,x=666;function S(a,y){return a.msg=M[y],y}function q(a){return(a<<1)-(a>4?9:0)}function ve(a){for(var y=a.length;--y>=0;)a[y]=0}function ke(a){var y=a.state,h=y.pending;h>a.avail_out&&(h=a.avail_out),h!==0&&(k.arraySet(a.output,y.pending_buf,y.pending_out,h,a.next_out),a.next_out+=h,y.pending_out+=h,a.total_out+=h,a.avail_out-=h,y.pending-=h,y.pending===0&&(y.pending_out=0))}function Se(a,y){b._tr_flush_block(a,a.block_start>=0?a.block_start:-1,a.strstart-a.block_start,y),a.block_start=a.strstart,ke(a.strm)}function ge(a,y){a.pending_buf[a.pending++]=y}function J(a,y){a.pending_buf[a.pending++]=y>>>8&255,a.pending_buf[a.pending++]=255&y}function Q(a,y){var h,m,C=a.max_chain_length,U=a.strstart,V=a.prev_length,D=a.nice_match,P=a.strstart>a.w_size-j?a.strstart-(a.w_size-j):0,F=a.window,X=a.w_mask,le=a.prev,de=a.strstart+d,fe=F[U+V-1],pe=F[U+V];a.prev_length>=a.good_match&&(C>>=2),D>a.lookahead&&(D=a.lookahead);do if(F[(h=y)+V]===pe&&F[h+V-1]===fe&&F[h]===F[U]&&F[++h]===F[U+1]){U+=2,h++;do;while(F[++U]===F[++h]&&F[++U]===F[++h]&&F[++U]===F[++h]&&F[++U]===F[++h]&&F[++U]===F[++h]&&F[++U]===F[++h]&&F[++U]===F[++h]&&F[++U]===F[++h]&&U<de);if(m=d-(de-U),U=de-d,m>V){if(a.match_start=y,V=m,m>=D)break;fe=F[U+V-1],pe=F[U+V]}}while((y=le[y&X])>P&&--C!=0);return V<=a.lookahead?V:a.lookahead}function K(a){var y,h,m,C,U,V,D,P,F,X,le=a.w_size;do{if(C=a.window_size-a.lookahead-a.strstart,a.strstart>=le+(le-j)){k.arraySet(a.window,a.window,le,le,0),a.match_start-=le,a.strstart-=le,a.block_start-=le,y=h=a.hash_size;do m=a.head[--y],a.head[y]=m>=le?m-le:0;while(--h);y=h=le;do m=a.prev[--y],a.prev[y]=m>=le?m-le:0;while(--h);C+=le}if(a.strm.avail_in===0)break;if(V=a.strm,D=a.window,P=a.strstart+a.lookahead,F=C,X=void 0,(X=V.avail_in)>F&&(X=F),h=X===0?0:(V.avail_in-=X,k.arraySet(D,V.input,V.next_in,X,P),V.state.wrap===1?V.adler=w(V.adler,D,X,P):V.state.wrap===2&&(V.adler=N(V.adler,D,X,P)),V.next_in+=X,V.total_in+=X,X),a.lookahead+=h,a.lookahead+a.insert>=3)for(U=a.strstart-a.insert,a.ins_h=a.window[U],a.ins_h=(a.ins_h<<a.hash_shift^a.window[U+1])&a.hash_mask;a.insert&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[U+3-1])&a.hash_mask,a.prev[U&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=U,U++,a.insert--,!(a.lookahead+a.insert<3)););}while(a.lookahead<j&&a.strm.avail_in!==0)}function T(a,y){for(var h,m;;){if(a.lookahead<j){if(K(a),a.lookahead<j&&y===0)return 1;if(a.lookahead===0)break}if(h=0,a.lookahead>=3&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+3-1])&a.hash_mask,h=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),h!==0&&a.strstart-h<=a.w_size-j&&(a.match_length=Q(a,h)),a.match_length>=3)if(m=b._tr_tally(a,a.strstart-a.match_start,a.match_length-3),a.lookahead-=a.match_length,a.match_length<=a.max_lazy_match&&a.lookahead>=3){a.match_length--;do a.strstart++,a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+3-1])&a.hash_mask,h=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart;while(--a.match_length!=0);a.strstart++}else a.strstart+=a.match_length,a.match_length=0,a.ins_h=a.window[a.strstart],a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+1])&a.hash_mask;else m=b._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++;if(m&&(Se(a,!1),a.strm.avail_out===0))return 1}return a.insert=a.strstart<2?a.strstart:2,y===4?(Se(a,!0),a.strm.avail_out===0?3:4):a.last_lit&&(Se(a,!1),a.strm.avail_out===0)?1:2}function B(a,y){for(var h,m,C;;){if(a.lookahead<j){if(K(a),a.lookahead<j&&y===0)return 1;if(a.lookahead===0)break}if(h=0,a.lookahead>=3&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+3-1])&a.hash_mask,h=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),a.prev_length=a.match_length,a.prev_match=a.match_start,a.match_length=2,h!==0&&a.prev_length<a.max_lazy_match&&a.strstart-h<=a.w_size-j&&(a.match_length=Q(a,h),a.match_length<=5&&(a.strategy===1||a.match_length===3&&a.strstart-a.match_start>4096)&&(a.match_length=2)),a.prev_length>=3&&a.match_length<=a.prev_length){C=a.strstart+a.lookahead-3,m=b._tr_tally(a,a.strstart-1-a.prev_match,a.prev_length-3),a.lookahead-=a.prev_length-1,a.prev_length-=2;do++a.strstart<=C&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+3-1])&a.hash_mask,h=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart);while(--a.prev_length!=0);if(a.match_available=0,a.match_length=2,a.strstart++,m&&(Se(a,!1),a.strm.avail_out===0))return 1}else if(a.match_available){if((m=b._tr_tally(a,0,a.window[a.strstart-1]))&&Se(a,!1),a.strstart++,a.lookahead--,a.strm.avail_out===0)return 1}else a.match_available=1,a.strstart++,a.lookahead--}return a.match_available&&(m=b._tr_tally(a,0,a.window[a.strstart-1]),a.match_available=0),a.insert=a.strstart<2?a.strstart:2,y===4?(Se(a,!0),a.strm.avail_out===0?3:4):a.last_lit&&(Se(a,!1),a.strm.avail_out===0)?1:2}function O(a,y,h,m,C){this.good_length=a,this.max_lazy=y,this.nice_length=h,this.max_chain=m,this.func=C}function R(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new k.Buf16(1146),this.dyn_dtree=new k.Buf16(122),this.bl_tree=new k.Buf16(78),ve(this.dyn_ltree),ve(this.dyn_dtree),ve(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new k.Buf16(16),this.heap=new k.Buf16(573),ve(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new k.Buf16(573),ve(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function E(a){var y;return a&&a.state?(a.total_in=a.total_out=0,a.data_type=2,(y=a.state).pending=0,y.pending_out=0,y.wrap<0&&(y.wrap=-y.wrap),y.status=y.wrap?42:H,a.adler=y.wrap===2?0:1,y.last_flush=0,b._tr_init(y),0):S(a,f)}function v(a){var y,h=E(a);return h===0&&((y=a.state).window_size=2*y.w_size,ve(y.head),y.max_lazy_match=A[y.level].max_lazy,y.good_match=A[y.level].good_length,y.nice_match=A[y.level].nice_length,y.max_chain_length=A[y.level].max_chain,y.strstart=0,y.block_start=0,y.lookahead=0,y.insert=0,y.match_length=y.prev_length=2,y.match_available=0,y.ins_h=0),h}function i(a,y,h,m,C,U){if(!a)return f;var V=1;if(y===-1&&(y=6),m<0?(V=0,m=-m):m>15&&(V=2,m-=16),C<1||C>9||h!==8||m<8||m>15||y<0||y>9||U<0||U>4)return S(a,f);m===8&&(m=9);var D=new R;return a.state=D,D.strm=a,D.wrap=V,D.gzhead=null,D.w_bits=m,D.w_size=1<<D.w_bits,D.w_mask=D.w_size-1,D.hash_bits=C+7,D.hash_size=1<<D.hash_bits,D.hash_mask=D.hash_size-1,D.hash_shift=~~((D.hash_bits+3-1)/3),D.window=new k.Buf8(2*D.w_size),D.head=new k.Buf16(D.hash_size),D.prev=new k.Buf16(D.w_size),D.lit_bufsize=1<<C+6,D.pending_buf_size=4*D.lit_bufsize,D.pending_buf=new k.Buf8(D.pending_buf_size),D.d_buf=1*D.lit_bufsize,D.l_buf=3*D.lit_bufsize,D.level=y,D.strategy=U,D.method=h,v(a)}A=[new O(0,0,0,0,function(a,y){var h=65535;for(h>a.pending_buf_size-5&&(h=a.pending_buf_size-5);;){if(a.lookahead<=1){if(K(a),a.lookahead===0&&y===0)return 1;if(a.lookahead===0)break}a.strstart+=a.lookahead,a.lookahead=0;var m=a.block_start+h;if((a.strstart===0||a.strstart>=m)&&(a.lookahead=a.strstart-m,a.strstart=m,Se(a,!1),a.strm.avail_out===0)||a.strstart-a.block_start>=a.w_size-j&&(Se(a,!1),a.strm.avail_out===0))return 1}return a.insert=0,y===4?(Se(a,!0),a.strm.avail_out===0?3:4):(a.strstart>a.block_start&&(Se(a,!1),a.strm.avail_out),1)}),new O(4,4,8,4,T),new O(4,5,16,8,T),new O(4,6,32,32,T),new O(4,4,16,16,B),new O(8,16,32,32,B),new O(8,16,128,128,B),new O(8,32,128,256,B),new O(32,128,258,1024,B),new O(32,258,258,4096,B)],n.deflateInit=function(a,y){return i(a,y,8,15,8,0)},n.deflateInit2=i,n.deflateReset=v,n.deflateResetKeep=E,n.deflateSetHeader=function(a,y){return a&&a.state?a.state.wrap!==2?f:(a.state.gzhead=y,0):f},n.deflate=function(a,y){var h,m,C,U;if(!a||!a.state||y>5||y<0)return a?S(a,f):f;if(m=a.state,!a.output||!a.input&&a.avail_in!==0||m.status===x&&y!==4)return S(a,a.avail_out===0?-5:f);if(m.strm=a,h=m.last_flush,m.last_flush=y,m.status===42)if(m.wrap===2)a.adler=0,ge(m,31),ge(m,139),ge(m,8),m.gzhead?(ge(m,(m.gzhead.text?1:0)+(m.gzhead.hcrc?2:0)+(m.gzhead.extra?4:0)+(m.gzhead.name?8:0)+(m.gzhead.comment?16:0)),ge(m,255&m.gzhead.time),ge(m,m.gzhead.time>>8&255),ge(m,m.gzhead.time>>16&255),ge(m,m.gzhead.time>>24&255),ge(m,m.level===9?2:m.strategy>=2||m.level<2?4:0),ge(m,255&m.gzhead.os),m.gzhead.extra&&m.gzhead.extra.length&&(ge(m,255&m.gzhead.extra.length),ge(m,m.gzhead.extra.length>>8&255)),m.gzhead.hcrc&&(a.adler=N(a.adler,m.pending_buf,m.pending,0)),m.gzindex=0,m.status=69):(ge(m,0),ge(m,0),ge(m,0),ge(m,0),ge(m,0),ge(m,m.level===9?2:m.strategy>=2||m.level<2?4:0),ge(m,3),m.status=H);else{var V=8+(m.w_bits-8<<4)<<8;V|=(m.strategy>=2||m.level<2?0:m.level<6?1:m.level===6?2:3)<<6,m.strstart!==0&&(V|=32),V+=31-V%31,m.status=H,J(m,V),m.strstart!==0&&(J(m,a.adler>>>16),J(m,65535&a.adler)),a.adler=1}if(m.status===69)if(m.gzhead.extra){for(C=m.pending;m.gzindex<(65535&m.gzhead.extra.length)&&(m.pending!==m.pending_buf_size||(m.gzhead.hcrc&&m.pending>C&&(a.adler=N(a.adler,m.pending_buf,m.pending-C,C)),ke(a),C=m.pending,m.pending!==m.pending_buf_size));)ge(m,255&m.gzhead.extra[m.gzindex]),m.gzindex++;m.gzhead.hcrc&&m.pending>C&&(a.adler=N(a.adler,m.pending_buf,m.pending-C,C)),m.gzindex===m.gzhead.extra.length&&(m.gzindex=0,m.status=73)}else m.status=73;if(m.status===73)if(m.gzhead.name){C=m.pending;do{if(m.pending===m.pending_buf_size&&(m.gzhead.hcrc&&m.pending>C&&(a.adler=N(a.adler,m.pending_buf,m.pending-C,C)),ke(a),C=m.pending,m.pending===m.pending_buf_size)){U=1;break}U=m.gzindex<m.gzhead.name.length?255&m.gzhead.name.charCodeAt(m.gzindex++):0,ge(m,U)}while(U!==0);m.gzhead.hcrc&&m.pending>C&&(a.adler=N(a.adler,m.pending_buf,m.pending-C,C)),U===0&&(m.gzindex=0,m.status=91)}else m.status=91;if(m.status===91)if(m.gzhead.comment){C=m.pending;do{if(m.pending===m.pending_buf_size&&(m.gzhead.hcrc&&m.pending>C&&(a.adler=N(a.adler,m.pending_buf,m.pending-C,C)),ke(a),C=m.pending,m.pending===m.pending_buf_size)){U=1;break}U=m.gzindex<m.gzhead.comment.length?255&m.gzhead.comment.charCodeAt(m.gzindex++):0,ge(m,U)}while(U!==0);m.gzhead.hcrc&&m.pending>C&&(a.adler=N(a.adler,m.pending_buf,m.pending-C,C)),U===0&&(m.status=L)}else m.status=L;if(m.status===L&&(m.gzhead.hcrc?(m.pending+2>m.pending_buf_size&&ke(a),m.pending+2<=m.pending_buf_size&&(ge(m,255&a.adler),ge(m,a.adler>>8&255),a.adler=0,m.status=H)):m.status=H),m.pending!==0){if(ke(a),a.avail_out===0)return m.last_flush=-1,0}else if(a.avail_in===0&&q(y)<=q(h)&&y!==4)return S(a,-5);if(m.status===x&&a.avail_in!==0)return S(a,-5);if(a.avail_in!==0||m.lookahead!==0||y!==0&&m.status!==x){var D=m.strategy===2?function(P,F){for(var X;;){if(P.lookahead===0&&(K(P),P.lookahead===0)){if(F===0)return 1;break}if(P.match_length=0,X=b._tr_tally(P,0,P.window[P.strstart]),P.lookahead--,P.strstart++,X&&(Se(P,!1),P.strm.avail_out===0))return 1}return P.insert=0,F===4?(Se(P,!0),P.strm.avail_out===0?3:4):P.last_lit&&(Se(P,!1),P.strm.avail_out===0)?1:2}(m,y):m.strategy===3?function(P,F){for(var X,le,de,fe,pe=P.window;;){if(P.lookahead<=d){if(K(P),P.lookahead<=d&&F===0)return 1;if(P.lookahead===0)break}if(P.match_length=0,P.lookahead>=3&&P.strstart>0&&(le=pe[de=P.strstart-1])===pe[++de]&&le===pe[++de]&&le===pe[++de]){fe=P.strstart+d;do;while(le===pe[++de]&&le===pe[++de]&&le===pe[++de]&&le===pe[++de]&&le===pe[++de]&&le===pe[++de]&&le===pe[++de]&&le===pe[++de]&&de<fe);P.match_length=d-(fe-de),P.match_length>P.lookahead&&(P.match_length=P.lookahead)}if(P.match_length>=3?(X=b._tr_tally(P,1,P.match_length-3),P.lookahead-=P.match_length,P.strstart+=P.match_length,P.match_length=0):(X=b._tr_tally(P,0,P.window[P.strstart]),P.lookahead--,P.strstart++),X&&(Se(P,!1),P.strm.avail_out===0))return 1}return P.insert=0,F===4?(Se(P,!0),P.strm.avail_out===0?3:4):P.last_lit&&(Se(P,!1),P.strm.avail_out===0)?1:2}(m,y):A[m.level].func(m,y);if(D!==3&&D!==4||(m.status=x),D===1||D===3)return a.avail_out===0&&(m.last_flush=-1),0;if(D===2&&(y===1?b._tr_align(m):y!==5&&(b._tr_stored_block(m,0,0,!1),y===3&&(ve(m.head),m.lookahead===0&&(m.strstart=0,m.block_start=0,m.insert=0))),ke(a),a.avail_out===0))return m.last_flush=-1,0}return y!==4?0:m.wrap<=0?1:(m.wrap===2?(ge(m,255&a.adler),ge(m,a.adler>>8&255),ge(m,a.adler>>16&255),ge(m,a.adler>>24&255),ge(m,255&a.total_in),ge(m,a.total_in>>8&255),ge(m,a.total_in>>16&255),ge(m,a.total_in>>24&255)):(J(m,a.adler>>>16),J(m,65535&a.adler)),ke(a),m.wrap>0&&(m.wrap=-m.wrap),m.pending!==0?0:1)},n.deflateEnd=function(a){var y;return a&&a.state?(y=a.state.status)!==42&&y!==69&&y!==73&&y!==91&&y!==L&&y!==H&&y!==x?S(a,f):(a.state=null,y===H?S(a,-3):0):f},n.deflateSetDictionary=function(a,y){var h,m,C,U,V,D,P,F,X=y.length;if(!a||!a.state||(U=(h=a.state).wrap)===2||U===1&&h.status!==42||h.lookahead)return f;for(U===1&&(a.adler=w(a.adler,y,X,0)),h.wrap=0,X>=h.w_size&&(U===0&&(ve(h.head),h.strstart=0,h.block_start=0,h.insert=0),F=new k.Buf8(h.w_size),k.arraySet(F,y,X-h.w_size,h.w_size,0),y=F,X=h.w_size),V=a.avail_in,D=a.next_in,P=a.input,a.avail_in=X,a.next_in=0,a.input=y,K(h);h.lookahead>=3;){m=h.strstart,C=h.lookahead-2;do h.ins_h=(h.ins_h<<h.hash_shift^h.window[m+3-1])&h.hash_mask,h.prev[m&h.w_mask]=h.head[h.ins_h],h.head[h.ins_h]=m,m++;while(--C);h.strstart=m,h.lookahead=2,K(h)}return h.strstart+=h.lookahead,h.block_start=h.strstart,h.insert=h.lookahead,h.lookahead=0,h.match_length=h.prev_length=2,h.match_available=0,a.next_in=D,a.input=P,a.avail_in=V,h.wrap=U,0},n.deflateInfo="pako deflate (from Nodeca project)"},9968:function(ue){ue.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},9365:function(ue){ue.exports=function(n,r){var A,k,b,w,N,M,f,d,j,L,H,x,S,q,ve,ke,Se,ge,J,Q,K,T,B,O,R;A=n.state,k=n.next_in,O=n.input,b=k+(n.avail_in-5),w=n.next_out,R=n.output,N=w-(r-n.avail_out),M=w+(n.avail_out-257),f=A.dmax,d=A.wsize,j=A.whave,L=A.wnext,H=A.window,x=A.hold,S=A.bits,q=A.lencode,ve=A.distcode,ke=(1<<A.lenbits)-1,Se=(1<<A.distbits)-1;e:do{S<15&&(x+=O[k++]<<S,S+=8,x+=O[k++]<<S,S+=8),ge=q[x&ke];t:for(;;){if(x>>>=J=ge>>>24,S-=J,(J=ge>>>16&255)===0)R[w++]=65535&ge;else{if(!(16&J)){if((64&J)==0){ge=q[(65535&ge)+(x&(1<<J)-1)];continue t}if(32&J){A.mode=12;break e}n.msg="invalid literal/length code",A.mode=30;break e}Q=65535&ge,(J&=15)&&(S<J&&(x+=O[k++]<<S,S+=8),Q+=x&(1<<J)-1,x>>>=J,S-=J),S<15&&(x+=O[k++]<<S,S+=8,x+=O[k++]<<S,S+=8),ge=ve[x&Se];r:for(;;){if(x>>>=J=ge>>>24,S-=J,!(16&(J=ge>>>16&255))){if((64&J)==0){ge=ve[(65535&ge)+(x&(1<<J)-1)];continue r}n.msg="invalid distance code",A.mode=30;break e}if(K=65535&ge,S<(J&=15)&&(x+=O[k++]<<S,(S+=8)<J&&(x+=O[k++]<<S,S+=8)),(K+=x&(1<<J)-1)>f){n.msg="invalid distance too far back",A.mode=30;break e}if(x>>>=J,S-=J,K>(J=w-N)){if((J=K-J)>j&&A.sane){n.msg="invalid distance too far back",A.mode=30;break e}if(T=0,B=H,L===0){if(T+=d-J,J<Q){Q-=J;do R[w++]=H[T++];while(--J);T=w-K,B=R}}else if(L<J){if(T+=d+L-J,(J-=L)<Q){Q-=J;do R[w++]=H[T++];while(--J);if(T=0,L<Q){Q-=J=L;do R[w++]=H[T++];while(--J);T=w-K,B=R}}}else if(T+=L-J,J<Q){Q-=J;do R[w++]=H[T++];while(--J);T=w-K,B=R}for(;Q>2;)R[w++]=B[T++],R[w++]=B[T++],R[w++]=B[T++],Q-=3;Q&&(R[w++]=B[T++],Q>1&&(R[w++]=B[T++]))}else{T=w-K;do R[w++]=R[T++],R[w++]=R[T++],R[w++]=R[T++],Q-=3;while(Q>2);Q&&(R[w++]=R[T++],Q>1&&(R[w++]=R[T++]))}break}}break}}while(k<b&&w<M);k-=Q=S>>3,x&=(1<<(S-=Q<<3))-1,n.next_in=k,n.next_out=w,n.avail_in=k<b?b-k+5:5-(k-b),n.avail_out=w<M?M-w+257:257-(w-M),A.hold=x,A.bits=S}},7823:function(ue,n,r){var A=r(9187),k=r(3693),b=r(8464),w=r(9365),N=r(6446),M=-2,f=12,d=30;function j(Q){return(Q>>>24&255)+(Q>>>8&65280)+((65280&Q)<<8)+((255&Q)<<24)}function L(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new A.Buf16(320),this.work=new A.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function H(Q){var K;return Q&&Q.state?(K=Q.state,Q.total_in=Q.total_out=K.total=0,Q.msg="",K.wrap&&(Q.adler=1&K.wrap),K.mode=1,K.last=0,K.havedict=0,K.dmax=32768,K.head=null,K.hold=0,K.bits=0,K.lencode=K.lendyn=new A.Buf32(852),K.distcode=K.distdyn=new A.Buf32(592),K.sane=1,K.back=-1,0):M}function x(Q){var K;return Q&&Q.state?((K=Q.state).wsize=0,K.whave=0,K.wnext=0,H(Q)):M}function S(Q,K){var T,B;return Q&&Q.state?(B=Q.state,K<0?(T=0,K=-K):(T=1+(K>>4),K<48&&(K&=15)),K&&(K<8||K>15)?M:(B.window!==null&&B.wbits!==K&&(B.window=null),B.wrap=T,B.wbits=K,x(Q))):M}function q(Q,K){var T,B;return Q?(B=new L,Q.state=B,B.window=null,(T=S(Q,K))!==0&&(Q.state=null),T):M}var ve,ke,Se=!0;function ge(Q){if(Se){var K;for(ve=new A.Buf32(512),ke=new A.Buf32(32),K=0;K<144;)Q.lens[K++]=8;for(;K<256;)Q.lens[K++]=9;for(;K<280;)Q.lens[K++]=7;for(;K<288;)Q.lens[K++]=8;for(N(1,Q.lens,0,288,ve,0,Q.work,{bits:9}),K=0;K<32;)Q.lens[K++]=5;N(2,Q.lens,0,32,ke,0,Q.work,{bits:5}),Se=!1}Q.lencode=ve,Q.lenbits=9,Q.distcode=ke,Q.distbits=5}function J(Q,K,T,B){var O,R=Q.state;return R.window===null&&(R.wsize=1<<R.wbits,R.wnext=0,R.whave=0,R.window=new A.Buf8(R.wsize)),B>=R.wsize?(A.arraySet(R.window,K,T-R.wsize,R.wsize,0),R.wnext=0,R.whave=R.wsize):((O=R.wsize-R.wnext)>B&&(O=B),A.arraySet(R.window,K,T-B,O,R.wnext),(B-=O)?(A.arraySet(R.window,K,T-B,B,0),R.wnext=B,R.whave=R.wsize):(R.wnext+=O,R.wnext===R.wsize&&(R.wnext=0),R.whave<R.wsize&&(R.whave+=O))),0}n.inflateReset=x,n.inflateReset2=S,n.inflateResetKeep=H,n.inflateInit=function(Q){return q(Q,15)},n.inflateInit2=q,n.inflate=function(Q,K){var T,B,O,R,E,v,i,a,y,h,m,C,U,V,D,P,F,X,le,de,fe,pe,ne,oe,be=0,Me=new A.Buf8(4),Ge=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Q||!Q.state||!Q.output||!Q.input&&Q.avail_in!==0)return M;(T=Q.state).mode===f&&(T.mode=13),E=Q.next_out,O=Q.output,i=Q.avail_out,R=Q.next_in,B=Q.input,v=Q.avail_in,a=T.hold,y=T.bits,h=v,m=i,pe=0;e:for(;;)switch(T.mode){case 1:if(T.wrap===0){T.mode=13;break}for(;y<16;){if(v===0)break e;v--,a+=B[R++]<<y,y+=8}if(2&T.wrap&&a===35615){T.check=0,Me[0]=255&a,Me[1]=a>>>8&255,T.check=b(T.check,Me,2,0),a=0,y=0,T.mode=2;break}if(T.flags=0,T.head&&(T.head.done=!1),!(1&T.wrap)||(((255&a)<<8)+(a>>8))%31){Q.msg="incorrect header check",T.mode=d;break}if((15&a)!=8){Q.msg="unknown compression method",T.mode=d;break}if(y-=4,fe=8+(15&(a>>>=4)),T.wbits===0)T.wbits=fe;else if(fe>T.wbits){Q.msg="invalid window size",T.mode=d;break}T.dmax=1<<fe,Q.adler=T.check=1,T.mode=512&a?10:f,a=0,y=0;break;case 2:for(;y<16;){if(v===0)break e;v--,a+=B[R++]<<y,y+=8}if(T.flags=a,(255&T.flags)!=8){Q.msg="unknown compression method",T.mode=d;break}if(57344&T.flags){Q.msg="unknown header flags set",T.mode=d;break}T.head&&(T.head.text=a>>8&1),512&T.flags&&(Me[0]=255&a,Me[1]=a>>>8&255,T.check=b(T.check,Me,2,0)),a=0,y=0,T.mode=3;case 3:for(;y<32;){if(v===0)break e;v--,a+=B[R++]<<y,y+=8}T.head&&(T.head.time=a),512&T.flags&&(Me[0]=255&a,Me[1]=a>>>8&255,Me[2]=a>>>16&255,Me[3]=a>>>24&255,T.check=b(T.check,Me,4,0)),a=0,y=0,T.mode=4;case 4:for(;y<16;){if(v===0)break e;v--,a+=B[R++]<<y,y+=8}T.head&&(T.head.xflags=255&a,T.head.os=a>>8),512&T.flags&&(Me[0]=255&a,Me[1]=a>>>8&255,T.check=b(T.check,Me,2,0)),a=0,y=0,T.mode=5;case 5:if(1024&T.flags){for(;y<16;){if(v===0)break e;v--,a+=B[R++]<<y,y+=8}T.length=a,T.head&&(T.head.extra_len=a),512&T.flags&&(Me[0]=255&a,Me[1]=a>>>8&255,T.check=b(T.check,Me,2,0)),a=0,y=0}else T.head&&(T.head.extra=null);T.mode=6;case 6:if(1024&T.flags&&((C=T.length)>v&&(C=v),C&&(T.head&&(fe=T.head.extra_len-T.length,T.head.extra||(T.head.extra=new Array(T.head.extra_len)),A.arraySet(T.head.extra,B,R,C,fe)),512&T.flags&&(T.check=b(T.check,B,C,R)),v-=C,R+=C,T.length-=C),T.length))break e;T.length=0,T.mode=7;case 7:if(2048&T.flags){if(v===0)break e;C=0;do fe=B[R+C++],T.head&&fe&&T.length<65536&&(T.head.name+=String.fromCharCode(fe));while(fe&&C<v);if(512&T.flags&&(T.check=b(T.check,B,C,R)),v-=C,R+=C,fe)break e}else T.head&&(T.head.name=null);T.length=0,T.mode=8;case 8:if(4096&T.flags){if(v===0)break e;C=0;do fe=B[R+C++],T.head&&fe&&T.length<65536&&(T.head.comment+=String.fromCharCode(fe));while(fe&&C<v);if(512&T.flags&&(T.check=b(T.check,B,C,R)),v-=C,R+=C,fe)break e}else T.head&&(T.head.comment=null);T.mode=9;case 9:if(512&T.flags){for(;y<16;){if(v===0)break e;v--,a+=B[R++]<<y,y+=8}if(a!==(65535&T.check)){Q.msg="header crc mismatch",T.mode=d;break}a=0,y=0}T.head&&(T.head.hcrc=T.flags>>9&1,T.head.done=!0),Q.adler=T.check=0,T.mode=f;break;case 10:for(;y<32;){if(v===0)break e;v--,a+=B[R++]<<y,y+=8}Q.adler=T.check=j(a),a=0,y=0,T.mode=11;case 11:if(T.havedict===0)return Q.next_out=E,Q.avail_out=i,Q.next_in=R,Q.avail_in=v,T.hold=a,T.bits=y,2;Q.adler=T.check=1,T.mode=f;case f:if(K===5||K===6)break e;case 13:if(T.last){a>>>=7&y,y-=7&y,T.mode=27;break}for(;y<3;){if(v===0)break e;v--,a+=B[R++]<<y,y+=8}switch(T.last=1&a,y-=1,3&(a>>>=1)){case 0:T.mode=14;break;case 1:if(ge(T),T.mode=20,K===6){a>>>=2,y-=2;break e}break;case 2:T.mode=17;break;case 3:Q.msg="invalid block type",T.mode=d}a>>>=2,y-=2;break;case 14:for(a>>>=7&y,y-=7&y;y<32;){if(v===0)break e;v--,a+=B[R++]<<y,y+=8}if((65535&a)!=(a>>>16^65535)){Q.msg="invalid stored block lengths",T.mode=d;break}if(T.length=65535&a,a=0,y=0,T.mode=15,K===6)break e;case 15:T.mode=16;case 16:if(C=T.length){if(C>v&&(C=v),C>i&&(C=i),C===0)break e;A.arraySet(O,B,R,C,E),v-=C,R+=C,i-=C,E+=C,T.length-=C;break}T.mode=f;break;case 17:for(;y<14;){if(v===0)break e;v--,a+=B[R++]<<y,y+=8}if(T.nlen=257+(31&a),a>>>=5,y-=5,T.ndist=1+(31&a),a>>>=5,y-=5,T.ncode=4+(15&a),a>>>=4,y-=4,T.nlen>286||T.ndist>30){Q.msg="too many length or distance symbols",T.mode=d;break}T.have=0,T.mode=18;case 18:for(;T.have<T.ncode;){for(;y<3;){if(v===0)break e;v--,a+=B[R++]<<y,y+=8}T.lens[Ge[T.have++]]=7&a,a>>>=3,y-=3}for(;T.have<19;)T.lens[Ge[T.have++]]=0;if(T.lencode=T.lendyn,T.lenbits=7,ne={bits:T.lenbits},pe=N(0,T.lens,0,19,T.lencode,0,T.work,ne),T.lenbits=ne.bits,pe){Q.msg="invalid code lengths set",T.mode=d;break}T.have=0,T.mode=19;case 19:for(;T.have<T.nlen+T.ndist;){for(;P=(be=T.lencode[a&(1<<T.lenbits)-1])>>>16&255,F=65535&be,!((D=be>>>24)<=y);){if(v===0)break e;v--,a+=B[R++]<<y,y+=8}if(F<16)a>>>=D,y-=D,T.lens[T.have++]=F;else{if(F===16){for(oe=D+2;y<oe;){if(v===0)break e;v--,a+=B[R++]<<y,y+=8}if(a>>>=D,y-=D,T.have===0){Q.msg="invalid bit length repeat",T.mode=d;break}fe=T.lens[T.have-1],C=3+(3&a),a>>>=2,y-=2}else if(F===17){for(oe=D+3;y<oe;){if(v===0)break e;v--,a+=B[R++]<<y,y+=8}y-=D,fe=0,C=3+(7&(a>>>=D)),a>>>=3,y-=3}else{for(oe=D+7;y<oe;){if(v===0)break e;v--,a+=B[R++]<<y,y+=8}y-=D,fe=0,C=11+(127&(a>>>=D)),a>>>=7,y-=7}if(T.have+C>T.nlen+T.ndist){Q.msg="invalid bit length repeat",T.mode=d;break}for(;C--;)T.lens[T.have++]=fe}}if(T.mode===d)break;if(T.lens[256]===0){Q.msg="invalid code -- missing end-of-block",T.mode=d;break}if(T.lenbits=9,ne={bits:T.lenbits},pe=N(1,T.lens,0,T.nlen,T.lencode,0,T.work,ne),T.lenbits=ne.bits,pe){Q.msg="invalid literal/lengths set",T.mode=d;break}if(T.distbits=6,T.distcode=T.distdyn,ne={bits:T.distbits},pe=N(2,T.lens,T.nlen,T.ndist,T.distcode,0,T.work,ne),T.distbits=ne.bits,pe){Q.msg="invalid distances set",T.mode=d;break}if(T.mode=20,K===6)break e;case 20:T.mode=21;case 21:if(v>=6&&i>=258){Q.next_out=E,Q.avail_out=i,Q.next_in=R,Q.avail_in=v,T.hold=a,T.bits=y,w(Q,m),E=Q.next_out,O=Q.output,i=Q.avail_out,R=Q.next_in,B=Q.input,v=Q.avail_in,a=T.hold,y=T.bits,T.mode===f&&(T.back=-1);break}for(T.back=0;P=(be=T.lencode[a&(1<<T.lenbits)-1])>>>16&255,F=65535&be,!((D=be>>>24)<=y);){if(v===0)break e;v--,a+=B[R++]<<y,y+=8}if(P&&(240&P)==0){for(X=D,le=P,de=F;P=(be=T.lencode[de+((a&(1<<X+le)-1)>>X)])>>>16&255,F=65535&be,!(X+(D=be>>>24)<=y);){if(v===0)break e;v--,a+=B[R++]<<y,y+=8}a>>>=X,y-=X,T.back+=X}if(a>>>=D,y-=D,T.back+=D,T.length=F,P===0){T.mode=26;break}if(32&P){T.back=-1,T.mode=f;break}if(64&P){Q.msg="invalid literal/length code",T.mode=d;break}T.extra=15&P,T.mode=22;case 22:if(T.extra){for(oe=T.extra;y<oe;){if(v===0)break e;v--,a+=B[R++]<<y,y+=8}T.length+=a&(1<<T.extra)-1,a>>>=T.extra,y-=T.extra,T.back+=T.extra}T.was=T.length,T.mode=23;case 23:for(;P=(be=T.distcode[a&(1<<T.distbits)-1])>>>16&255,F=65535&be,!((D=be>>>24)<=y);){if(v===0)break e;v--,a+=B[R++]<<y,y+=8}if((240&P)==0){for(X=D,le=P,de=F;P=(be=T.distcode[de+((a&(1<<X+le)-1)>>X)])>>>16&255,F=65535&be,!(X+(D=be>>>24)<=y);){if(v===0)break e;v--,a+=B[R++]<<y,y+=8}a>>>=X,y-=X,T.back+=X}if(a>>>=D,y-=D,T.back+=D,64&P){Q.msg="invalid distance code",T.mode=d;break}T.offset=F,T.extra=15&P,T.mode=24;case 24:if(T.extra){for(oe=T.extra;y<oe;){if(v===0)break e;v--,a+=B[R++]<<y,y+=8}T.offset+=a&(1<<T.extra)-1,a>>>=T.extra,y-=T.extra,T.back+=T.extra}if(T.offset>T.dmax){Q.msg="invalid distance too far back",T.mode=d;break}T.mode=25;case 25:if(i===0)break e;if(C=m-i,T.offset>C){if((C=T.offset-C)>T.whave&&T.sane){Q.msg="invalid distance too far back",T.mode=d;break}C>T.wnext?(C-=T.wnext,U=T.wsize-C):U=T.wnext-C,C>T.length&&(C=T.length),V=T.window}else V=O,U=E-T.offset,C=T.length;C>i&&(C=i),i-=C,T.length-=C;do O[E++]=V[U++];while(--C);T.length===0&&(T.mode=21);break;case 26:if(i===0)break e;O[E++]=T.length,i--,T.mode=21;break;case 27:if(T.wrap){for(;y<32;){if(v===0)break e;v--,a|=B[R++]<<y,y+=8}if(m-=i,Q.total_out+=m,T.total+=m,m&&(Q.adler=T.check=T.flags?b(T.check,O,m,E-m):k(T.check,O,m,E-m)),m=i,(T.flags?a:j(a))!==T.check){Q.msg="incorrect data check",T.mode=d;break}a=0,y=0}T.mode=28;case 28:if(T.wrap&&T.flags){for(;y<32;){if(v===0)break e;v--,a+=B[R++]<<y,y+=8}if(a!==(4294967295&T.total)){Q.msg="incorrect length check",T.mode=d;break}a=0,y=0}T.mode=29;case 29:pe=1;break e;case d:pe=-3;break e;case 31:return-4;default:return M}return Q.next_out=E,Q.avail_out=i,Q.next_in=R,Q.avail_in=v,T.hold=a,T.bits=y,(T.wsize||m!==Q.avail_out&&T.mode<d&&(T.mode<27||K!==4))&&J(Q,Q.output,Q.next_out,m-Q.avail_out)?(T.mode=31,-4):(h-=Q.avail_in,m-=Q.avail_out,Q.total_in+=h,Q.total_out+=m,T.total+=m,T.wrap&&m&&(Q.adler=T.check=T.flags?b(T.check,O,m,Q.next_out-m):k(T.check,O,m,Q.next_out-m)),Q.data_type=T.bits+(T.last?64:0)+(T.mode===f?128:0)+(T.mode===20||T.mode===15?256:0),(h===0&&m===0||K===4)&&pe===0&&(pe=-5),pe)},n.inflateEnd=function(Q){if(!Q||!Q.state)return M;var K=Q.state;return K.window&&(K.window=null),Q.state=null,0},n.inflateGetHeader=function(Q,K){var T;return Q&&Q.state?(2&(T=Q.state).wrap)==0?M:(T.head=K,K.done=!1,0):M},n.inflateSetDictionary=function(Q,K){var T,B=K.length;return Q&&Q.state?(T=Q.state).wrap!==0&&T.mode!==11?M:T.mode===11&&k(1,K,B,0)!==T.check?-3:J(Q,K,B,B)?(T.mode=31,-4):(T.havedict=1,0):M},n.inflateInfo="pako inflate (from Nodeca project)"},6446:function(ue,n,r){var A=r(9187),k=15,b=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],w=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],N=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],M=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];ue.exports=function(f,d,j,L,H,x,S,q){var ve,ke,Se,ge,J,Q,K,T,B,O=q.bits,R=0,E=0,v=0,i=0,a=0,y=0,h=0,m=0,C=0,U=0,V=null,D=0,P=new A.Buf16(16),F=new A.Buf16(16),X=null,le=0;for(R=0;R<=k;R++)P[R]=0;for(E=0;E<L;E++)P[d[j+E]]++;for(a=O,i=k;i>=1&&P[i]===0;i--);if(a>i&&(a=i),i===0)return H[x++]=20971520,H[x++]=20971520,q.bits=1,0;for(v=1;v<i&&P[v]===0;v++);for(a<v&&(a=v),m=1,R=1;R<=k;R++)if(m<<=1,(m-=P[R])<0)return-1;if(m>0&&(f===0||i!==1))return-1;for(F[1]=0,R=1;R<k;R++)F[R+1]=F[R]+P[R];for(E=0;E<L;E++)d[j+E]!==0&&(S[F[d[j+E]]++]=E);if(f===0?(V=X=S,Q=19):f===1?(V=b,D-=257,X=w,le-=257,Q=256):(V=N,X=M,Q=-1),U=0,E=0,R=v,J=x,y=a,h=0,Se=-1,ge=(C=1<<a)-1,f===1&&C>852||f===2&&C>592)return 1;for(;;){K=R-h,S[E]<Q?(T=0,B=S[E]):S[E]>Q?(T=X[le+S[E]],B=V[D+S[E]]):(T=96,B=0),ve=1<<R-h,v=ke=1<<y;do H[J+(U>>h)+(ke-=ve)]=K<<24|T<<16|B|0;while(ke!==0);for(ve=1<<R-1;U&ve;)ve>>=1;if(ve!==0?(U&=ve-1,U+=ve):U=0,E++,--P[R]==0){if(R===i)break;R=d[j+S[E]]}if(R>a&&(U&ge)!==Se){for(h===0&&(h=a),J+=v,m=1<<(y=R-h);y+h<i&&!((m-=P[y+h])<=0);)y++,m<<=1;if(C+=1<<y,f===1&&C>852||f===2&&C>592)return 1;H[Se=U&ge]=a<<24|y<<16|J-x|0}}return U!==0&&(H[J+U]=R-h<<24|4194304|0),q.bits=a,0}},5604:function(ue){ue.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},8676:function(ue,n,r){var A=r(9187);function k(F){for(var X=F.length;--X>=0;)F[X]=0}var b=256,w=286,N=30,M=15,f=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],d=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],j=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],L=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],H=new Array(576);k(H);var x=new Array(60);k(x);var S=new Array(512);k(S);var q=new Array(256);k(q);var ve=new Array(29);k(ve);var ke,Se,ge,J=new Array(N);function Q(F,X,le,de,fe){this.static_tree=F,this.extra_bits=X,this.extra_base=le,this.elems=de,this.max_length=fe,this.has_stree=F&&F.length}function K(F,X){this.dyn_tree=F,this.max_code=0,this.stat_desc=X}function T(F){return F<256?S[F]:S[256+(F>>>7)]}function B(F,X){F.pending_buf[F.pending++]=255&X,F.pending_buf[F.pending++]=X>>>8&255}function O(F,X,le){F.bi_valid>16-le?(F.bi_buf|=X<<F.bi_valid&65535,B(F,F.bi_buf),F.bi_buf=X>>16-F.bi_valid,F.bi_valid+=le-16):(F.bi_buf|=X<<F.bi_valid&65535,F.bi_valid+=le)}function R(F,X,le){O(F,le[2*X],le[2*X+1])}function E(F,X){var le=0;do le|=1&F,F>>>=1,le<<=1;while(--X>0);return le>>>1}function v(F,X,le){var de,fe,pe=new Array(16),ne=0;for(de=1;de<=M;de++)pe[de]=ne=ne+le[de-1]<<1;for(fe=0;fe<=X;fe++){var oe=F[2*fe+1];oe!==0&&(F[2*fe]=E(pe[oe]++,oe))}}function i(F){var X;for(X=0;X<w;X++)F.dyn_ltree[2*X]=0;for(X=0;X<N;X++)F.dyn_dtree[2*X]=0;for(X=0;X<19;X++)F.bl_tree[2*X]=0;F.dyn_ltree[512]=1,F.opt_len=F.static_len=0,F.last_lit=F.matches=0}function a(F){F.bi_valid>8?B(F,F.bi_buf):F.bi_valid>0&&(F.pending_buf[F.pending++]=F.bi_buf),F.bi_buf=0,F.bi_valid=0}function y(F,X,le,de){var fe=2*X,pe=2*le;return F[fe]<F[pe]||F[fe]===F[pe]&&de[X]<=de[le]}function h(F,X,le){for(var de=F.heap[le],fe=le<<1;fe<=F.heap_len&&(fe<F.heap_len&&y(X,F.heap[fe+1],F.heap[fe],F.depth)&&fe++,!y(X,de,F.heap[fe],F.depth));)F.heap[le]=F.heap[fe],le=fe,fe<<=1;F.heap[le]=de}function m(F,X,le){var de,fe,pe,ne,oe=0;if(F.last_lit!==0)do de=F.pending_buf[F.d_buf+2*oe]<<8|F.pending_buf[F.d_buf+2*oe+1],fe=F.pending_buf[F.l_buf+oe],oe++,de===0?R(F,fe,X):(R(F,(pe=q[fe])+b+1,X),(ne=f[pe])!==0&&O(F,fe-=ve[pe],ne),R(F,pe=T(--de),le),(ne=d[pe])!==0&&O(F,de-=J[pe],ne));while(oe<F.last_lit);R(F,256,X)}function C(F,X){var le,de,fe,pe=X.dyn_tree,ne=X.stat_desc.static_tree,oe=X.stat_desc.has_stree,be=X.stat_desc.elems,Me=-1;for(F.heap_len=0,F.heap_max=573,le=0;le<be;le++)pe[2*le]!==0?(F.heap[++F.heap_len]=Me=le,F.depth[le]=0):pe[2*le+1]=0;for(;F.heap_len<2;)pe[2*(fe=F.heap[++F.heap_len]=Me<2?++Me:0)]=1,F.depth[fe]=0,F.opt_len--,oe&&(F.static_len-=ne[2*fe+1]);for(X.max_code=Me,le=F.heap_len>>1;le>=1;le--)h(F,pe,le);fe=be;do le=F.heap[1],F.heap[1]=F.heap[F.heap_len--],h(F,pe,1),de=F.heap[1],F.heap[--F.heap_max]=le,F.heap[--F.heap_max]=de,pe[2*fe]=pe[2*le]+pe[2*de],F.depth[fe]=(F.depth[le]>=F.depth[de]?F.depth[le]:F.depth[de])+1,pe[2*le+1]=pe[2*de+1]=fe,F.heap[1]=fe++,h(F,pe,1);while(F.heap_len>=2);F.heap[--F.heap_max]=F.heap[1],function(Ge,qe){var Ne,Pe,Re,Ze,Ie,Ee,xe=qe.dyn_tree,Z=qe.max_code,u=qe.stat_desc.static_tree,g=qe.stat_desc.has_stree,z=qe.stat_desc.extra_bits,Y=qe.stat_desc.extra_base,te=qe.stat_desc.max_length,ae=0;for(Ze=0;Ze<=M;Ze++)Ge.bl_count[Ze]=0;for(xe[2*Ge.heap[Ge.heap_max]+1]=0,Ne=Ge.heap_max+1;Ne<573;Ne++)(Ze=xe[2*xe[2*(Pe=Ge.heap[Ne])+1]+1]+1)>te&&(Ze=te,ae++),xe[2*Pe+1]=Ze,Pe>Z||(Ge.bl_count[Ze]++,Ie=0,Pe>=Y&&(Ie=z[Pe-Y]),Ee=xe[2*Pe],Ge.opt_len+=Ee*(Ze+Ie),g&&(Ge.static_len+=Ee*(u[2*Pe+1]+Ie)));if(ae!==0){do{for(Ze=te-1;Ge.bl_count[Ze]===0;)Ze--;Ge.bl_count[Ze]--,Ge.bl_count[Ze+1]+=2,Ge.bl_count[te]--,ae-=2}while(ae>0);for(Ze=te;Ze!==0;Ze--)for(Pe=Ge.bl_count[Ze];Pe!==0;)(Re=Ge.heap[--Ne])>Z||(xe[2*Re+1]!==Ze&&(Ge.opt_len+=(Ze-xe[2*Re+1])*xe[2*Re],xe[2*Re+1]=Ze),Pe--)}}(F,X),v(pe,Me,F.bl_count)}function U(F,X,le){var de,fe,pe=-1,ne=X[1],oe=0,be=7,Me=4;for(ne===0&&(be=138,Me=3),X[2*(le+1)+1]=65535,de=0;de<=le;de++)fe=ne,ne=X[2*(de+1)+1],++oe<be&&fe===ne||(oe<Me?F.bl_tree[2*fe]+=oe:fe!==0?(fe!==pe&&F.bl_tree[2*fe]++,F.bl_tree[32]++):oe<=10?F.bl_tree[34]++:F.bl_tree[36]++,oe=0,pe=fe,ne===0?(be=138,Me=3):fe===ne?(be=6,Me=3):(be=7,Me=4))}function V(F,X,le){var de,fe,pe=-1,ne=X[1],oe=0,be=7,Me=4;for(ne===0&&(be=138,Me=3),de=0;de<=le;de++)if(fe=ne,ne=X[2*(de+1)+1],!(++oe<be&&fe===ne)){if(oe<Me)do R(F,fe,F.bl_tree);while(--oe!=0);else fe!==0?(fe!==pe&&(R(F,fe,F.bl_tree),oe--),R(F,16,F.bl_tree),O(F,oe-3,2)):oe<=10?(R(F,17,F.bl_tree),O(F,oe-3,3)):(R(F,18,F.bl_tree),O(F,oe-11,7));oe=0,pe=fe,ne===0?(be=138,Me=3):fe===ne?(be=6,Me=3):(be=7,Me=4)}}k(J);var D=!1;function P(F,X,le,de){O(F,0+(de?1:0),3),function(fe,pe,ne,oe){a(fe),B(fe,ne),B(fe,~ne),A.arraySet(fe.pending_buf,fe.window,pe,ne,fe.pending),fe.pending+=ne}(F,X,le)}n._tr_init=function(F){D||(function(){var X,le,de,fe,pe,ne=new Array(16);for(de=0,fe=0;fe<28;fe++)for(ve[fe]=de,X=0;X<1<<f[fe];X++)q[de++]=fe;for(q[de-1]=fe,pe=0,fe=0;fe<16;fe++)for(J[fe]=pe,X=0;X<1<<d[fe];X++)S[pe++]=fe;for(pe>>=7;fe<N;fe++)for(J[fe]=pe<<7,X=0;X<1<<d[fe]-7;X++)S[256+pe++]=fe;for(le=0;le<=M;le++)ne[le]=0;for(X=0;X<=143;)H[2*X+1]=8,X++,ne[8]++;for(;X<=255;)H[2*X+1]=9,X++,ne[9]++;for(;X<=279;)H[2*X+1]=7,X++,ne[7]++;for(;X<=287;)H[2*X+1]=8,X++,ne[8]++;for(v(H,287,ne),X=0;X<N;X++)x[2*X+1]=5,x[2*X]=E(X,5);ke=new Q(H,f,257,w,M),Se=new Q(x,d,0,N,M),ge=new Q(new Array(0),j,0,19,7)}(),D=!0),F.l_desc=new K(F.dyn_ltree,ke),F.d_desc=new K(F.dyn_dtree,Se),F.bl_desc=new K(F.bl_tree,ge),F.bi_buf=0,F.bi_valid=0,i(F)},n._tr_stored_block=P,n._tr_flush_block=function(F,X,le,de){var fe,pe,ne=0;F.level>0?(F.strm.data_type===2&&(F.strm.data_type=function(oe){var be,Me=4093624447;for(be=0;be<=31;be++,Me>>>=1)if(1&Me&&oe.dyn_ltree[2*be]!==0)return 0;if(oe.dyn_ltree[18]!==0||oe.dyn_ltree[20]!==0||oe.dyn_ltree[26]!==0)return 1;for(be=32;be<b;be++)if(oe.dyn_ltree[2*be]!==0)return 1;return 0}(F)),C(F,F.l_desc),C(F,F.d_desc),ne=function(oe){var be;for(U(oe,oe.dyn_ltree,oe.l_desc.max_code),U(oe,oe.dyn_dtree,oe.d_desc.max_code),C(oe,oe.bl_desc),be=18;be>=3&&oe.bl_tree[2*L[be]+1]===0;be--);return oe.opt_len+=3*(be+1)+5+5+4,be}(F),fe=F.opt_len+3+7>>>3,(pe=F.static_len+3+7>>>3)<=fe&&(fe=pe)):fe=pe=le+5,le+4<=fe&&X!==-1?P(F,X,le,de):F.strategy===4||pe===fe?(O(F,2+(de?1:0),3),m(F,H,x)):(O(F,4+(de?1:0),3),function(oe,be,Me,Ge){var qe;for(O(oe,be-257,5),O(oe,Me-1,5),O(oe,Ge-4,4),qe=0;qe<Ge;qe++)O(oe,oe.bl_tree[2*L[qe]+1],3);V(oe,oe.dyn_ltree,be-1),V(oe,oe.dyn_dtree,Me-1)}(F,F.l_desc.max_code+1,F.d_desc.max_code+1,ne+1),m(F,F.dyn_ltree,F.dyn_dtree)),i(F),de&&a(F)},n._tr_tally=function(F,X,le){return F.pending_buf[F.d_buf+2*F.last_lit]=X>>>8&255,F.pending_buf[F.d_buf+2*F.last_lit+1]=255&X,F.pending_buf[F.l_buf+F.last_lit]=255&le,F.last_lit++,X===0?F.dyn_ltree[2*le]++:(F.matches++,X--,F.dyn_ltree[2*(q[le]+b+1)]++,F.dyn_dtree[2*T(X)]++),F.last_lit===F.lit_bufsize-1},n._tr_align=function(F){O(F,2,3),R(F,256,H),function(X){X.bi_valid===16?(B(X,X.bi_buf),X.bi_buf=0,X.bi_valid=0):X.bi_valid>=8&&(X.pending_buf[X.pending++]=255&X.bi_buf,X.bi_buf>>=8,X.bi_valid-=8)}(F)}},249:function(ue){ue.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},9066:function(ue){ue.exports=function(n){n.data&&n.name&&(n=n.data);for(var r=!0,A="",k="",b=0;b<n.length;b++){var w=n[b];if(r)w?k+=String.fromCharCode(w):r=!1;else{if(!w)throw new Error("Invalid NULL character found. 0x00 character is not permitted in tEXt content");A+=String.fromCharCode(w)}}return{keyword:k,text:A}}},9686:function(ue){ue.exports=function(n,r){if(n=String(n),r=String(r),!/^[\x00-\xFF]+$/.test(n)||!/^[\x00-\xFF]+$/.test(r))throw new Error("Only Latin-1 characters are permitted in PNG tEXt chunks. You might want to consider base64 encoding and/or zEXt compression");if(n.length>=80)throw new Error('Keyword "'+n+'" is longer than the 79-character limit imposed by the PNG specification');for(var A,k=n.length+r.length+1,b=new Uint8Array(k),w=0,N=0;N<n.length;N++){if(!(A=n.charCodeAt(N)))throw new Error("0x00 character is not permitted in tEXt keywords");b[w++]=A}b[w++]=0;for(var M=0;M<r.length;M++){if(!(A=r.charCodeAt(M)))throw new Error("0x00 character is not permitted in tEXt content");b[w++]=A}return{name:"tEXt",data:b}}},1194:function(ue,n,r){n.encode=r(9686),n.decode=r(9066)},3434:function(ue,n,r){var A=r(5714),k=r(6233);ue.exports=function(M){var f,d=8,j=d;for(f=0;f<M.length;f++)d+=M[f].data.length,d+=12;var L=new Uint8Array(d);for(L[0]=137,L[1]=80,L[2]=78,L[3]=71,L[4]=13,L[5]=10,L[6]=26,L[7]=10,f=0;f<M.length;f++){var H=M[f],x=H.name,S=H.data,q=S.length,ve=[x.charCodeAt(0),x.charCodeAt(1),x.charCodeAt(2),x.charCodeAt(3)];N[0]=q,L[j++]=b[3],L[j++]=b[2],L[j++]=b[1],L[j++]=b[0],L[j++]=ve[0],L[j++]=ve[1],L[j++]=ve[2],L[j++]=ve[3];for(var ke=0;ke<q;)L[j++]=S[ke++];var Se=ve.concat(A(S)),ge=k.buf(Se);w[0]=ge,L[j++]=b[3],L[j++]=b[2],L[j++]=b[1],L[j++]=b[0]}return L};var b=new Uint8Array(4),w=new Int32Array(b.buffer),N=new Uint32Array(b.buffer)},2983:function(ue,n,r){var A=r(6233);ue.exports=function(N){if(N[0]!==137)throw new Error("Invalid .png file header");if(N[1]!==80)throw new Error("Invalid .png file header");if(N[2]!==78)throw new Error("Invalid .png file header");if(N[3]!==71)throw new Error("Invalid .png file header");if(N[4]!==13)throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");if(N[5]!==10)throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");if(N[6]!==26)throw new Error("Invalid .png file header");if(N[7]!==10)throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");for(var M=!1,f=[],d=8;d<N.length;){k[3]=N[d++],k[2]=N[d++],k[1]=N[d++],k[0]=N[d++];var j=w[0]+4,L=new Uint8Array(j);L[0]=N[d++],L[1]=N[d++],L[2]=N[d++],L[3]=N[d++];var H=String.fromCharCode(L[0])+String.fromCharCode(L[1])+String.fromCharCode(L[2])+String.fromCharCode(L[3]);if(!f.length&&H!=="IHDR")throw new Error("IHDR header missing");if(H==="IEND"){M=!0,f.push({name:H,data:new Uint8Array(0)});break}for(var x=4;x<j;x++)L[x]=N[d++];k[3]=N[d++],k[2]=N[d++],k[1]=N[d++],k[0]=N[d++];var S=b[0];if(A.buf(L)!==S)throw new Error("CRC values for "+H+" header do not match, PNG file is likely corrupted");var q=new Uint8Array(L.buffer.slice(4));f.push({name:H,data:q})}if(!M)throw new Error(".png file ended prematurely: no IEND header was found");return f};var k=new Uint8Array(4),b=new Int32Array(k.buffer),w=new Uint32Array(k.buffer)},1493:function(ue,n,r){function A(d,j){return Math.pow(d[0]-j[0],2)+Math.pow(d[1]-j[1],2)}function k(d,j,L){const H=A(j,L);if(H===0)return A(d,j);let x=((d[0]-j[0])*(L[0]-j[0])+(d[1]-j[1])*(L[1]-j[1]))/H;return x=Math.max(0,Math.min(1,x)),A(d,b(j,L,x))}function b(d,j,L){return[d[0]+(j[0]-d[0])*L,d[1]+(j[1]-d[1])*L]}function w(d,j,L,H){const x=H||[];if(function(ve,ke){const Se=ve[ke+0],ge=ve[ke+1],J=ve[ke+2],Q=ve[ke+3];let K=3*ge[0]-2*Se[0]-Q[0];K*=K;let T=3*ge[1]-2*Se[1]-Q[1];T*=T;let B=3*J[0]-2*Q[0]-Se[0];B*=B;let O=3*J[1]-2*Q[1]-Se[1];return O*=O,K<B&&(K=B),T<O&&(T=O),K+T}(d,j)<L){const ve=d[j+0];x.length?(S=x[x.length-1],q=ve,Math.sqrt(A(S,q))>1&&x.push(ve)):x.push(ve),x.push(d[j+3])}else{const ke=d[j+0],Se=d[j+1],ge=d[j+2],J=d[j+3],Q=b(ke,Se,.5),K=b(Se,ge,.5),T=b(ge,J,.5),B=b(Q,K,.5),O=b(K,T,.5),R=b(B,O,.5);w([ke,Q,B,R],0,L,x),w([R,O,T,J],0,L,x)}var S,q;return x}function N(d,j){return M(d,0,d.length,j)}function M(d,j,L,H,x){const S=x||[],q=d[j],ve=d[L-1];let ke=0,Se=1;for(let ge=j+1;ge<L-1;++ge){const J=k(d[ge],q,ve);J>ke&&(ke=J,Se=ge)}return Math.sqrt(ke)>H?(M(d,j,Se+1,H,S),M(d,Se,L,H,S)):(S.length||S.push(q),S.push(ve)),S}function f(d,j=.15,L){const H=[],x=(d.length-1)/3;for(let S=0;S<x;S++)w(d,3*S,j,H);return L&&L>0?M(H,0,H.length,L):H}r.d(n,{og:function(){return N},sU:function(){return f}})},8128:function(ue,n,r){function A(Z,u,g){if(Z&&Z.length){const[z,Y]=u,te=Math.PI/180*g,ae=Math.cos(te),ce=Math.sin(te);for(const ye of Z){const[je,Be]=ye;ye[0]=(je-z)*ae-(Be-Y)*ce+z,ye[1]=(je-z)*ce+(Be-Y)*ae+Y}}}function k(Z,u){return Z[0]===u[0]&&Z[1]===u[1]}function b(Z,u,g,z=1){const Y=g,te=Math.max(u,.1),ae=Z[0]&&Z[0][0]&&typeof Z[0][0]=="number"?[Z]:Z,ce=[0,0];if(Y)for(const je of ae)A(je,ce,Y);const ye=function(je,Be,Qe){const rt=[];for(const Ce of je){const Le=[...Ce];k(Le[0],Le[Le.length-1])||Le.push([Le[0][0],Le[0][1]]),Le.length>2&&rt.push(Le)}const Ye=[];Be=Math.max(Be,.1);const tt=[];for(const Ce of rt)for(let Le=0;Le<Ce.length-1;Le++){const et=Ce[Le],ft=Ce[Le+1];if(et[1]!==ft[1]){const xt=Math.min(et[1],ft[1]);tt.push({ymin:xt,ymax:Math.max(et[1],ft[1]),x:xt===et[1]?et[0]:ft[0],islope:(ft[0]-et[0])/(ft[1]-et[1])})}}if(tt.sort((Ce,Le)=>Ce.ymin<Le.ymin?-1:Ce.ymin>Le.ymin?1:Ce.x<Le.x?-1:Ce.x>Le.x?1:Ce.ymax===Le.ymax?0:(Ce.ymax-Le.ymax)/Math.abs(Ce.ymax-Le.ymax)),!tt.length)return Ye;let ht=[],gt=tt[0].ymin,Ue=0;for(;ht.length||tt.length;){if(tt.length){let Ce=-1;for(let Le=0;Le<tt.length&&!(tt[Le].ymin>gt);Le++)Ce=Le;tt.splice(0,Ce+1).forEach(Le=>{ht.push({s:gt,edge:Le})})}if(ht=ht.filter(Ce=>!(Ce.edge.ymax<=gt)),ht.sort((Ce,Le)=>Ce.edge.x===Le.edge.x?0:(Ce.edge.x-Le.edge.x)/Math.abs(Ce.edge.x-Le.edge.x)),(Qe!==1||Ue%Be==0)&&ht.length>1)for(let Ce=0;Ce<ht.length;Ce+=2){const Le=Ce+1;if(Le>=ht.length)break;const et=ht[Ce].edge,ft=ht[Le].edge;Ye.push([[Math.round(et.x),gt],[Math.round(ft.x),gt]])}gt+=Qe,ht.forEach(Ce=>{Ce.edge.x=Ce.edge.x+Qe*Ce.edge.islope}),Ue++}return Ye}(ae,te,z);if(Y){for(const je of ae)A(je,ce,-Y);(function(je,Be,Qe){const rt=[];je.forEach(Ye=>rt.push(...Ye)),A(rt,Be,Qe)})(ye,ce,-Y)}return ye}function w(Z,u){var g;const z=u.hachureAngle+90;let Y=u.hachureGap;Y<0&&(Y=4*u.strokeWidth),Y=Math.max(Y,.1);let te=1;return u.roughness>=1&&(((g=u.randomizer)===null||g===void 0?void 0:g.next())||Math.random())>.7&&(te=Y),b(Z,Y,z,te||1)}r.d(n,{V:function(){return xe}});class N{constructor(u){this.helper=u}fillPolygons(u,g){return this._fillPolygons(u,g)}_fillPolygons(u,g){const z=w(u,g);return{type:"fillSketch",ops:this.renderLines(z,g)}}renderLines(u,g){const z=[];for(const Y of u)z.push(...this.helper.doubleLineOps(Y[0][0],Y[0][1],Y[1][0],Y[1][1],g));return z}}function M(Z){const u=Z[0],g=Z[1];return Math.sqrt(Math.pow(u[0]-g[0],2)+Math.pow(u[1]-g[1],2))}class f extends N{fillPolygons(u,g){let z=g.hachureGap;z<0&&(z=4*g.strokeWidth),z=Math.max(z,.1);const Y=w(u,Object.assign({},g,{hachureGap:z})),te=Math.PI/180*g.hachureAngle,ae=[],ce=.5*z*Math.cos(te),ye=.5*z*Math.sin(te);for(const[je,Be]of Y)M([je,Be])&&ae.push([[je[0]-ce,je[1]+ye],[...Be]],[[je[0]+ce,je[1]-ye],[...Be]]);return{type:"fillSketch",ops:this.renderLines(ae,g)}}}class d extends N{fillPolygons(u,g){const z=this._fillPolygons(u,g),Y=Object.assign({},g,{hachureAngle:g.hachureAngle+90}),te=this._fillPolygons(u,Y);return z.ops=z.ops.concat(te.ops),z}}class j{constructor(u){this.helper=u}fillPolygons(u,g){const z=w(u,g=Object.assign({},g,{hachureAngle:0}));return this.dotsOnLines(z,g)}dotsOnLines(u,g){const z=[];let Y=g.hachureGap;Y<0&&(Y=4*g.strokeWidth),Y=Math.max(Y,.1);let te=g.fillWeight;te<0&&(te=g.strokeWidth/2);const ae=Y/4;for(const ce of u){const ye=M(ce),je=ye/Y,Be=Math.ceil(je)-1,Qe=ye-Be*Y,rt=(ce[0][0]+ce[1][0])/2-Y/4,Ye=Math.min(ce[0][1],ce[1][1]);for(let tt=0;tt<Be;tt++){const ht=Ye+Qe+tt*Y,gt=rt-ae+2*Math.random()*ae,Ue=ht-ae+2*Math.random()*ae,Ce=this.helper.ellipse(gt,Ue,te,te,g);z.push(...Ce.ops)}}return{type:"fillSketch",ops:z}}}class L{constructor(u){this.helper=u}fillPolygons(u,g){const z=w(u,g);return{type:"fillSketch",ops:this.dashedLine(z,g)}}dashedLine(u,g){const z=g.dashOffset<0?g.hachureGap<0?4*g.strokeWidth:g.hachureGap:g.dashOffset,Y=g.dashGap<0?g.hachureGap<0?4*g.strokeWidth:g.hachureGap:g.dashGap,te=[];return u.forEach(ae=>{const ce=M(ae),ye=Math.floor(ce/(z+Y)),je=(ce+Y-ye*(z+Y))/2;let Be=ae[0],Qe=ae[1];Be[0]>Qe[0]&&(Be=ae[1],Qe=ae[0]);const rt=Math.atan((Qe[1]-Be[1])/(Qe[0]-Be[0]));for(let Ye=0;Ye<ye;Ye++){const tt=Ye*(z+Y),ht=tt+z,gt=[Be[0]+tt*Math.cos(rt)+je*Math.cos(rt),Be[1]+tt*Math.sin(rt)+je*Math.sin(rt)],Ue=[Be[0]+ht*Math.cos(rt)+je*Math.cos(rt),Be[1]+ht*Math.sin(rt)+je*Math.sin(rt)];te.push(...this.helper.doubleLineOps(gt[0],gt[1],Ue[0],Ue[1],g))}}),te}}class H{constructor(u){this.helper=u}fillPolygons(u,g){const z=g.hachureGap<0?4*g.strokeWidth:g.hachureGap,Y=g.zigzagOffset<0?z:g.zigzagOffset,te=w(u,g=Object.assign({},g,{hachureGap:z+Y}));return{type:"fillSketch",ops:this.zigzagLines(te,Y,g)}}zigzagLines(u,g,z){const Y=[];return u.forEach(te=>{const ae=M(te),ce=Math.round(ae/(2*g));let ye=te[0],je=te[1];ye[0]>je[0]&&(ye=te[1],je=te[0]);const Be=Math.atan((je[1]-ye[1])/(je[0]-ye[0]));for(let Qe=0;Qe<ce;Qe++){const rt=2*Qe*g,Ye=2*(Qe+1)*g,tt=Math.sqrt(2*Math.pow(g,2)),ht=[ye[0]+rt*Math.cos(Be),ye[1]+rt*Math.sin(Be)],gt=[ye[0]+Ye*Math.cos(Be),ye[1]+Ye*Math.sin(Be)],Ue=[ht[0]+tt*Math.cos(Be+Math.PI/4),ht[1]+tt*Math.sin(Be+Math.PI/4)];Y.push(...this.helper.doubleLineOps(ht[0],ht[1],Ue[0],Ue[1],z),...this.helper.doubleLineOps(Ue[0],Ue[1],gt[0],gt[1],z))}}),Y}}const x={};var S=r(8152);const q={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function ve(Z,u){return Z.type===u}function ke(Z){const u=[],g=function(ae){const ce=new Array;for(;ae!=="";)if(ae.match(/^([ \t\r\n,]+)/))ae=ae.substr(RegExp.$1.length);else if(ae.match(/^([aAcChHlLmMqQsStTvVzZ])/))ce[ce.length]={type:0,text:RegExp.$1},ae=ae.substr(RegExp.$1.length);else{if(!ae.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];ce[ce.length]={type:1,text:`${parseFloat(RegExp.$1)}`},ae=ae.substr(RegExp.$1.length)}return ce[ce.length]={type:2,text:""},ce}(Z);let z="BOD",Y=0,te=g[Y];for(;!ve(te,2);){let ae=0;const ce=[];if(z==="BOD"){if(te.text!=="M"&&te.text!=="m")return ke("M0,0"+Z);Y++,ae=q[te.text],z=te.text}else ve(te,1)?ae=q[z]:(Y++,ae=q[te.text],z=te.text);if(!(Y+ae<g.length))throw new Error("Path data ended short");for(let ye=Y;ye<Y+ae;ye++){const je=g[ye];if(!ve(je,1))throw new Error("Param not a number: "+z+","+je.text);ce[ce.length]=+je.text}if(typeof q[z]!="number")throw new Error("Bad segment: "+z);{const ye={key:z,data:ce};u.push(ye),Y+=ae,te=g[Y],z==="M"&&(z="L"),z==="m"&&(z="l")}}return u}function Se(Z){let u=0,g=0,z=0,Y=0;const te=[];for(const{key:ae,data:ce}of Z)switch(ae){case"M":te.push({key:"M",data:[...ce]}),[u,g]=ce,[z,Y]=ce;break;case"m":u+=ce[0],g+=ce[1],te.push({key:"M",data:[u,g]}),z=u,Y=g;break;case"L":te.push({key:"L",data:[...ce]}),[u,g]=ce;break;case"l":u+=ce[0],g+=ce[1],te.push({key:"L",data:[u,g]});break;case"C":te.push({key:"C",data:[...ce]}),u=ce[4],g=ce[5];break;case"c":{const ye=ce.map((je,Be)=>Be%2?je+g:je+u);te.push({key:"C",data:ye}),u=ye[4],g=ye[5];break}case"Q":te.push({key:"Q",data:[...ce]}),u=ce[2],g=ce[3];break;case"q":{const ye=ce.map((je,Be)=>Be%2?je+g:je+u);te.push({key:"Q",data:ye}),u=ye[2],g=ye[3];break}case"A":te.push({key:"A",data:[...ce]}),u=ce[5],g=ce[6];break;case"a":u+=ce[5],g+=ce[6],te.push({key:"A",data:[ce[0],ce[1],ce[2],ce[3],ce[4],u,g]});break;case"H":te.push({key:"H",data:[...ce]}),u=ce[0];break;case"h":u+=ce[0],te.push({key:"H",data:[u]});break;case"V":te.push({key:"V",data:[...ce]}),g=ce[0];break;case"v":g+=ce[0],te.push({key:"V",data:[g]});break;case"S":te.push({key:"S",data:[...ce]}),u=ce[2],g=ce[3];break;case"s":{const ye=ce.map((je,Be)=>Be%2?je+g:je+u);te.push({key:"S",data:ye}),u=ye[2],g=ye[3];break}case"T":te.push({key:"T",data:[...ce]}),u=ce[0],g=ce[1];break;case"t":u+=ce[0],g+=ce[1],te.push({key:"T",data:[u,g]});break;case"Z":case"z":te.push({key:"Z",data:[]}),u=z,g=Y}return te}function ge(Z){const u=[];let g="",z=0,Y=0,te=0,ae=0,ce=0,ye=0;for(const{key:je,data:Be}of Z){switch(je){case"M":u.push({key:"M",data:[...Be]}),[z,Y]=Be,[te,ae]=Be;break;case"C":u.push({key:"C",data:[...Be]}),z=Be[4],Y=Be[5],ce=Be[2],ye=Be[3];break;case"L":u.push({key:"L",data:[...Be]}),[z,Y]=Be;break;case"H":z=Be[0],u.push({key:"L",data:[z,Y]});break;case"V":Y=Be[0],u.push({key:"L",data:[z,Y]});break;case"S":{let Qe=0,rt=0;g==="C"||g==="S"?(Qe=z+(z-ce),rt=Y+(Y-ye)):(Qe=z,rt=Y),u.push({key:"C",data:[Qe,rt,...Be]}),ce=Be[0],ye=Be[1],z=Be[2],Y=Be[3];break}case"T":{const[Qe,rt]=Be;let Ye=0,tt=0;g==="Q"||g==="T"?(Ye=z+(z-ce),tt=Y+(Y-ye)):(Ye=z,tt=Y);const ht=z+2*(Ye-z)/3,gt=Y+2*(tt-Y)/3,Ue=Qe+2*(Ye-Qe)/3,Ce=rt+2*(tt-rt)/3;u.push({key:"C",data:[ht,gt,Ue,Ce,Qe,rt]}),ce=Ye,ye=tt,z=Qe,Y=rt;break}case"Q":{const[Qe,rt,Ye,tt]=Be,ht=z+2*(Qe-z)/3,gt=Y+2*(rt-Y)/3,Ue=Ye+2*(Qe-Ye)/3,Ce=tt+2*(rt-tt)/3;u.push({key:"C",data:[ht,gt,Ue,Ce,Ye,tt]}),ce=Qe,ye=rt,z=Ye,Y=tt;break}case"A":{const Qe=Math.abs(Be[0]),rt=Math.abs(Be[1]),Ye=Be[2],tt=Be[3],ht=Be[4],gt=Be[5],Ue=Be[6];Qe===0||rt===0?(u.push({key:"C",data:[z,Y,gt,Ue,gt,Ue]}),z=gt,Y=Ue):(z!==gt||Y!==Ue)&&(Q(z,Y,gt,Ue,Qe,rt,Ye,tt,ht).forEach(function(Ce){u.push({key:"C",data:Ce})}),z=gt,Y=Ue);break}case"Z":u.push({key:"Z",data:[]}),z=te,Y=ae}g=je}return u}function J(Z,u,g){return[Z*Math.cos(g)-u*Math.sin(g),Z*Math.sin(g)+u*Math.cos(g)]}function Q(Z,u,g,z,Y,te,ae,ce,ye,je){const Be=(Qe=ae,Math.PI*Qe/180);var Qe;let rt=[],Ye=0,tt=0,ht=0,gt=0;if(je)[Ye,tt,ht,gt]=je;else{[Z,u]=J(Z,u,-Be),[g,z]=J(g,z,-Be);const Gt=(Z-g)/2,Jt=(u-z)/2;let gr=Gt*Gt/(Y*Y)+Jt*Jt/(te*te);gr>1&&(gr=Math.sqrt(gr),Y*=gr,te*=gr);const Pt=Y*Y,St=te*te,Zt=Pt*St-Pt*Jt*Jt-St*Gt*Gt,Tt=Pt*Jt*Jt+St*Gt*Gt,Lt=(ce===ye?-1:1)*Math.sqrt(Math.abs(Zt/Tt));ht=Lt*Y*Jt/te+(Z+g)/2,gt=Lt*-te*Gt/Y+(u+z)/2,Ye=Math.asin(parseFloat(((u-gt)/te).toFixed(9))),tt=Math.asin(parseFloat(((z-gt)/te).toFixed(9))),Z<ht&&(Ye=Math.PI-Ye),g<ht&&(tt=Math.PI-tt),Ye<0&&(Ye=2*Math.PI+Ye),tt<0&&(tt=2*Math.PI+tt),ye&&Ye>tt&&(Ye-=2*Math.PI),!ye&&tt>Ye&&(tt-=2*Math.PI)}let Ue=tt-Ye;if(Math.abs(Ue)>120*Math.PI/180){const Gt=tt,Jt=g,gr=z;tt=ye&&tt>Ye?Ye+120*Math.PI/180*1:Ye+120*Math.PI/180*-1,rt=Q(g=ht+Y*Math.cos(tt),z=gt+te*Math.sin(tt),Jt,gr,Y,te,ae,0,ye,[tt,Gt,ht,gt])}Ue=tt-Ye;const Ce=Math.cos(Ye),Le=Math.sin(Ye),et=Math.cos(tt),ft=Math.sin(tt),xt=Math.tan(Ue/4),wt=4/3*Y*xt,Rt=4/3*te*xt,It=[Z,u],At=[Z+wt*Le,u-Rt*Ce],Xt=[g+wt*ft,z-Rt*et],tr=[g,z];if(At[0]=2*It[0]-At[0],At[1]=2*It[1]-At[1],je)return[At,Xt,tr].concat(rt);{rt=[At,Xt,tr].concat(rt);const Gt=[];for(let Jt=0;Jt<rt.length;Jt+=3){const gr=J(rt[Jt][0],rt[Jt][1],Be),Pt=J(rt[Jt+1][0],rt[Jt+1][1],Be),St=J(rt[Jt+2][0],rt[Jt+2][1],Be);Gt.push([gr[0],gr[1],Pt[0],Pt[1],St[0],St[1]])}return Gt}}const K={randOffset:function(Z,u){return U(Z,u)},randOffsetWithRange:function(Z,u,g){return C(Z,u,g)},ellipse:function(Z,u,g,z,Y){const te=E(g,z,Y);return v(Z,u,Y,te).opset},doubleLineOps:function(Z,u,g,z,Y){return V(Z,u,g,z,Y,!0)}};function T(Z,u,g,z,Y){return{type:"path",ops:V(Z,u,g,z,Y)}}function B(Z,u,g){const z=(Z||[]).length;if(z>2){const Y=[];for(let te=0;te<z-1;te++)Y.push(...V(Z[te][0],Z[te][1],Z[te+1][0],Z[te+1][1],g));return u&&Y.push(...V(Z[z-1][0],Z[z-1][1],Z[0][0],Z[0][1],g)),{type:"path",ops:Y}}return z===2?T(Z[0][0],Z[0][1],Z[1][0],Z[1][1],g):{type:"path",ops:[]}}function O(Z,u,g,z,Y){return function(te,ae){return B(te,!0,ae)}([[Z,u],[Z+g,u],[Z+g,u+z],[Z,u+z]],Y)}function R(Z,u){let g=P(Z,1*(1+.2*u.roughness),u);if(!u.disableMultiStroke){const z=P(Z,1.5*(1+.22*u.roughness),function(Y){const te=Object.assign({},Y);return te.randomizer=void 0,Y.seed&&(te.seed=Y.seed+1),te}(u));g=g.concat(z)}return{type:"path",ops:g}}function E(Z,u,g){const z=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(Z/2,2)+Math.pow(u/2,2))/2)),Y=Math.ceil(Math.max(g.curveStepCount,g.curveStepCount/Math.sqrt(200)*z)),te=2*Math.PI/Y;let ae=Math.abs(Z/2),ce=Math.abs(u/2);const ye=1-g.curveFitting;return ae+=U(ae*ye,g),ce+=U(ce*ye,g),{increment:te,rx:ae,ry:ce}}function v(Z,u,g,z){const[Y,te]=X(z.increment,Z,u,z.rx,z.ry,1,z.increment*C(.1,C(.4,1,g),g),g);let ae=F(Y,null,g);if(!g.disableMultiStroke&&g.roughness!==0){const[ce]=X(z.increment,Z,u,z.rx,z.ry,1.5,0,g),ye=F(ce,null,g);ae=ae.concat(ye)}return{estimatedPoints:te,opset:{type:"path",ops:ae}}}function i(Z,u,g,z,Y,te,ae,ce,ye){const je=Z,Be=u;let Qe=Math.abs(g/2),rt=Math.abs(z/2);Qe+=U(.01*Qe,ye),rt+=U(.01*rt,ye);let Ye=Y,tt=te;for(;Ye<0;)Ye+=2*Math.PI,tt+=2*Math.PI;tt-Ye>2*Math.PI&&(Ye=0,tt=2*Math.PI);const ht=2*Math.PI/ye.curveStepCount,gt=Math.min(ht/2,(tt-Ye)/2),Ue=le(gt,je,Be,Qe,rt,Ye,tt,1,ye);if(!ye.disableMultiStroke){const Ce=le(gt,je,Be,Qe,rt,Ye,tt,1.5,ye);Ue.push(...Ce)}return ae&&(ce?Ue.push(...V(je,Be,je+Qe*Math.cos(Ye),Be+rt*Math.sin(Ye),ye),...V(je,Be,je+Qe*Math.cos(tt),Be+rt*Math.sin(tt),ye)):Ue.push({op:"lineTo",data:[je,Be]},{op:"lineTo",data:[je+Qe*Math.cos(Ye),Be+rt*Math.sin(Ye)]})),{type:"path",ops:Ue}}function a(Z,u){const g=ge(Se(ke(Z))),z=[];let Y=[0,0],te=[0,0];for(const{key:ae,data:ce}of g)switch(ae){case"M":te=[ce[0],ce[1]],Y=[ce[0],ce[1]];break;case"L":z.push(...V(te[0],te[1],ce[0],ce[1],u)),te=[ce[0],ce[1]];break;case"C":{const[ye,je,Be,Qe,rt,Ye]=ce;z.push(...de(ye,je,Be,Qe,rt,Ye,te,u)),te=[rt,Ye];break}case"Z":z.push(...V(te[0],te[1],Y[0],Y[1],u)),te=[Y[0],Y[1]]}return{type:"path",ops:z}}function y(Z,u){const g=[];for(const z of Z)if(z.length){const Y=u.maxRandomnessOffset||0,te=z.length;if(te>2){g.push({op:"move",data:[z[0][0]+U(Y,u),z[0][1]+U(Y,u)]});for(let ae=1;ae<te;ae++)g.push({op:"lineTo",data:[z[ae][0]+U(Y,u),z[ae][1]+U(Y,u)]})}}return{type:"fillPath",ops:g}}function h(Z,u){return function(g,z){let Y=g.fillStyle||"hachure";if(!x[Y])switch(Y){case"zigzag":x[Y]||(x[Y]=new f(z));break;case"cross-hatch":x[Y]||(x[Y]=new d(z));break;case"dots":x[Y]||(x[Y]=new j(z));break;case"dashed":x[Y]||(x[Y]=new L(z));break;case"zigzag-line":x[Y]||(x[Y]=new H(z));break;default:Y="hachure",x[Y]||(x[Y]=new N(z))}return x[Y]}(u,K).fillPolygons(Z,u)}function m(Z){return Z.randomizer||(Z.randomizer=new S.k(Z.seed||0)),Z.randomizer.next()}function C(Z,u,g,z=1){return g.roughness*z*(m(g)*(u-Z)+Z)}function U(Z,u,g=1){return C(-Z,Z,u,g)}function V(Z,u,g,z,Y,te=!1){const ae=te?Y.disableMultiStrokeFill:Y.disableMultiStroke,ce=D(Z,u,g,z,Y,!0,!1);if(ae)return ce;const ye=D(Z,u,g,z,Y,!0,!0);return ce.concat(ye)}function D(Z,u,g,z,Y,te,ae){const ce=Math.pow(Z-g,2)+Math.pow(u-z,2),ye=Math.sqrt(ce);let je=1;je=ye<200?1:ye>500?.4:-.0016668*ye+1.233334;let Be=Y.maxRandomnessOffset||0;Be*Be*100>ce&&(Be=ye/10);const Qe=Be/2,rt=.2+.2*m(Y);let Ye=Y.bowing*Y.maxRandomnessOffset*(z-u)/200,tt=Y.bowing*Y.maxRandomnessOffset*(Z-g)/200;Ye=U(Ye,Y,je),tt=U(tt,Y,je);const ht=[],gt=()=>U(Qe,Y,je),Ue=()=>U(Be,Y,je),Ce=Y.preserveVertices;return ae?ht.push({op:"move",data:[Z+(Ce?0:gt()),u+(Ce?0:gt())]}):ht.push({op:"move",data:[Z+(Ce?0:U(Be,Y,je)),u+(Ce?0:U(Be,Y,je))]}),ae?ht.push({op:"bcurveTo",data:[Ye+Z+(g-Z)*rt+gt(),tt+u+(z-u)*rt+gt(),Ye+Z+2*(g-Z)*rt+gt(),tt+u+2*(z-u)*rt+gt(),g+(Ce?0:gt()),z+(Ce?0:gt())]}):ht.push({op:"bcurveTo",data:[Ye+Z+(g-Z)*rt+Ue(),tt+u+(z-u)*rt+Ue(),Ye+Z+2*(g-Z)*rt+Ue(),tt+u+2*(z-u)*rt+Ue(),g+(Ce?0:Ue()),z+(Ce?0:Ue())]}),ht}function P(Z,u,g){const z=[];z.push([Z[0][0]+U(u,g),Z[0][1]+U(u,g)]),z.push([Z[0][0]+U(u,g),Z[0][1]+U(u,g)]);for(let Y=1;Y<Z.length;Y++)z.push([Z[Y][0]+U(u,g),Z[Y][1]+U(u,g)]),Y===Z.length-1&&z.push([Z[Y][0]+U(u,g),Z[Y][1]+U(u,g)]);return F(z,null,g)}function F(Z,u,g){const z=Z.length,Y=[];if(z>3){const te=[],ae=1-g.curveTightness;Y.push({op:"move",data:[Z[1][0],Z[1][1]]});for(let ce=1;ce+2<z;ce++){const ye=Z[ce];te[0]=[ye[0],ye[1]],te[1]=[ye[0]+(ae*Z[ce+1][0]-ae*Z[ce-1][0])/6,ye[1]+(ae*Z[ce+1][1]-ae*Z[ce-1][1])/6],te[2]=[Z[ce+1][0]+(ae*Z[ce][0]-ae*Z[ce+2][0])/6,Z[ce+1][1]+(ae*Z[ce][1]-ae*Z[ce+2][1])/6],te[3]=[Z[ce+1][0],Z[ce+1][1]],Y.push({op:"bcurveTo",data:[te[1][0],te[1][1],te[2][0],te[2][1],te[3][0],te[3][1]]})}}else z===3?(Y.push({op:"move",data:[Z[1][0],Z[1][1]]}),Y.push({op:"bcurveTo",data:[Z[1][0],Z[1][1],Z[2][0],Z[2][1],Z[2][0],Z[2][1]]})):z===2&&Y.push(...V(Z[0][0],Z[0][1],Z[1][0],Z[1][1],g));return Y}function X(Z,u,g,z,Y,te,ae,ce){const ye=[],je=[];if(ce.roughness===0){Z/=4,je.push([u+z*Math.cos(-Z),g+Y*Math.sin(-Z)]);for(let Be=0;Be<=2*Math.PI;Be+=Z){const Qe=[u+z*Math.cos(Be),g+Y*Math.sin(Be)];ye.push(Qe),je.push(Qe)}je.push([u+z*Math.cos(0),g+Y*Math.sin(0)]),je.push([u+z*Math.cos(Z),g+Y*Math.sin(Z)])}else{const Be=U(.5,ce)-Math.PI/2;je.push([U(te,ce)+u+.9*z*Math.cos(Be-Z),U(te,ce)+g+.9*Y*Math.sin(Be-Z)]);const Qe=2*Math.PI+Be-.01;for(let rt=Be;rt<Qe;rt+=Z){const Ye=[U(te,ce)+u+z*Math.cos(rt),U(te,ce)+g+Y*Math.sin(rt)];ye.push(Ye),je.push(Ye)}je.push([U(te,ce)+u+z*Math.cos(Be+2*Math.PI+.5*ae),U(te,ce)+g+Y*Math.sin(Be+2*Math.PI+.5*ae)]),je.push([U(te,ce)+u+.98*z*Math.cos(Be+ae),U(te,ce)+g+.98*Y*Math.sin(Be+ae)]),je.push([U(te,ce)+u+.9*z*Math.cos(Be+.5*ae),U(te,ce)+g+.9*Y*Math.sin(Be+.5*ae)])}return[je,ye]}function le(Z,u,g,z,Y,te,ae,ce,ye){const je=te+U(.1,ye),Be=[];Be.push([U(ce,ye)+u+.9*z*Math.cos(je-Z),U(ce,ye)+g+.9*Y*Math.sin(je-Z)]);for(let Qe=je;Qe<=ae;Qe+=Z)Be.push([U(ce,ye)+u+z*Math.cos(Qe),U(ce,ye)+g+Y*Math.sin(Qe)]);return Be.push([u+z*Math.cos(ae),g+Y*Math.sin(ae)]),Be.push([u+z*Math.cos(ae),g+Y*Math.sin(ae)]),F(Be,null,ye)}function de(Z,u,g,z,Y,te,ae,ce){const ye=[],je=[ce.maxRandomnessOffset||1,(ce.maxRandomnessOffset||1)+.3];let Be=[0,0];const Qe=ce.disableMultiStroke?1:2,rt=ce.preserveVertices;for(let Ye=0;Ye<Qe;Ye++)Ye===0?ye.push({op:"move",data:[ae[0],ae[1]]}):ye.push({op:"move",data:[ae[0]+(rt?0:U(je[0],ce)),ae[1]+(rt?0:U(je[0],ce))]}),Be=rt?[Y,te]:[Y+U(je[Ye],ce),te+U(je[Ye],ce)],ye.push({op:"bcurveTo",data:[Z+U(je[Ye],ce),u+U(je[Ye],ce),g+U(je[Ye],ce),z+U(je[Ye],ce),Be[0],Be[1]]});return ye}function fe(Z){return[...Z]}function pe(Z,u){return Math.pow(Z[0]-u[0],2)+Math.pow(Z[1]-u[1],2)}function ne(Z,u,g){const z=pe(u,g);if(z===0)return pe(Z,u);let Y=((Z[0]-u[0])*(g[0]-u[0])+(Z[1]-u[1])*(g[1]-u[1]))/z;return Y=Math.max(0,Math.min(1,Y)),pe(Z,oe(u,g,Y))}function oe(Z,u,g){return[Z[0]+(u[0]-Z[0])*g,Z[1]+(u[1]-Z[1])*g]}function be(Z,u,g,z){const Y=z||[];if(function(ce,ye){const je=ce[ye+0],Be=ce[ye+1],Qe=ce[ye+2],rt=ce[ye+3];let Ye=3*Be[0]-2*je[0]-rt[0];Ye*=Ye;let tt=3*Be[1]-2*je[1]-rt[1];tt*=tt;let ht=3*Qe[0]-2*rt[0]-je[0];ht*=ht;let gt=3*Qe[1]-2*rt[1]-je[1];return gt*=gt,Ye<ht&&(Ye=ht),tt<gt&&(tt=gt),Ye+tt}(Z,u)<g){const ce=Z[u+0];Y.length?(te=Y[Y.length-1],ae=ce,Math.sqrt(pe(te,ae))>1&&Y.push(ce)):Y.push(ce),Y.push(Z[u+3])}else{const ye=Z[u+0],je=Z[u+1],Be=Z[u+2],Qe=Z[u+3],rt=oe(ye,je,.5),Ye=oe(je,Be,.5),tt=oe(Be,Qe,.5),ht=oe(rt,Ye,.5),gt=oe(Ye,tt,.5),Ue=oe(ht,gt,.5);be([ye,rt,ht,Ue],0,g,Y),be([Ue,gt,tt,Qe],0,g,Y)}var te,ae;return Y}function Me(Z,u,g,z,Y){const te=Y||[],ae=Z[u],ce=Z[g-1];let ye=0,je=1;for(let Be=u+1;Be<g-1;++Be){const Qe=ne(Z[Be],ae,ce);Qe>ye&&(ye=Qe,je=Be)}return Math.sqrt(ye)>z?(Me(Z,u,je+1,z,te),Me(Z,je,g,z,te)):(te.length||te.push(ae),te.push(ce)),te}function Ge(Z,u){return Math.pow(Z[0]-u[0],2)+Math.pow(Z[1]-u[1],2)}function qe(Z,u,g){const z=Ge(u,g);if(z===0)return Ge(Z,u);let Y=((Z[0]-u[0])*(g[0]-u[0])+(Z[1]-u[1])*(g[1]-u[1]))/z;return Y=Math.max(0,Math.min(1,Y)),Ge(Z,Ne(u,g,Y))}function Ne(Z,u,g){return[Z[0]+(u[0]-Z[0])*g,Z[1]+(u[1]-Z[1])*g]}function Pe(Z,u,g,z){const Y=z||[];if(function(ce,ye){const je=ce[ye+0],Be=ce[ye+1],Qe=ce[ye+2],rt=ce[ye+3];let Ye=3*Be[0]-2*je[0]-rt[0];Ye*=Ye;let tt=3*Be[1]-2*je[1]-rt[1];tt*=tt;let ht=3*Qe[0]-2*rt[0]-je[0];ht*=ht;let gt=3*Qe[1]-2*rt[1]-je[1];return gt*=gt,Ye<ht&&(Ye=ht),tt<gt&&(tt=gt),Ye+tt}(Z,u)<g){const ce=Z[u+0];Y.length?(te=Y[Y.length-1],ae=ce,Math.sqrt(Ge(te,ae))>1&&Y.push(ce)):Y.push(ce),Y.push(Z[u+3])}else{const ye=Z[u+0],je=Z[u+1],Be=Z[u+2],Qe=Z[u+3],rt=Ne(ye,je,.5),Ye=Ne(je,Be,.5),tt=Ne(Be,Qe,.5),ht=Ne(rt,Ye,.5),gt=Ne(Ye,tt,.5),Ue=Ne(ht,gt,.5);Pe([ye,rt,ht,Ue],0,g,Y),Pe([Ue,gt,tt,Qe],0,g,Y)}var te,ae;return Y}function Re(Z,u){return Ze(Z,0,Z.length,u)}function Ze(Z,u,g,z,Y){const te=Y||[],ae=Z[u],ce=Z[g-1];let ye=0,je=1;for(let Be=u+1;Be<g-1;++Be){const Qe=qe(Z[Be],ae,ce);Qe>ye&&(ye=Qe,je=Be)}return Math.sqrt(ye)>z?(Ze(Z,u,je+1,z,te),Ze(Z,je,g,z,te)):(te.length||te.push(ae),te.push(ce)),te}function Ie(Z,u,g){const z=ge(Se(ke(Z))),Y=[];let te=[],ae=[0,0],ce=[];const ye=()=>{ce.length>=4&&te.push(...function(Qe,rt=.15,Ye){const tt=[],ht=(Qe.length-1)/3;for(let gt=0;gt<ht;gt++)Pe(Qe,3*gt,rt,tt);return Ye&&Ye>0?Ze(tt,0,tt.length,Ye):tt}(ce,u)),ce=[]},je=()=>{ye(),te.length&&(Y.push(te),te=[])};for(const{key:Qe,data:rt}of z)switch(Qe){case"M":je(),ae=[rt[0],rt[1]],te.push(ae);break;case"L":ye(),te.push([rt[0],rt[1]]);break;case"C":if(!ce.length){const Ye=te.length?te[te.length-1]:ae;ce.push([Ye[0],Ye[1]])}ce.push([rt[0],rt[1]]),ce.push([rt[2],rt[3]]),ce.push([rt[4],rt[5]]);break;case"Z":ye(),te.push([ae[0],ae[1]])}if(je(),!g)return Y;const Be=[];for(const Qe of Y){const rt=Re(Qe,g);rt.length&&Be.push(rt)}return Be}const Ee="none";class xe{constructor(u){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=u||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return(0,S.W)()}_o(u){return u?Object.assign({},this.defaultOptions,u):this.defaultOptions}_d(u,g,z){return{shape:u,sets:g||[],options:z||this.defaultOptions}}line(u,g,z,Y,te){const ae=this._o(te);return this._d("line",[T(u,g,z,Y,ae)],ae)}rectangle(u,g,z,Y,te){const ae=this._o(te),ce=[],ye=O(u,g,z,Y,ae);if(ae.fill){const je=[[u,g],[u+z,g],[u+z,g+Y],[u,g+Y]];ae.fillStyle==="solid"?ce.push(y([je],ae)):ce.push(h([je],ae))}return ae.stroke!==Ee&&ce.push(ye),this._d("rectangle",ce,ae)}ellipse(u,g,z,Y,te){const ae=this._o(te),ce=[],ye=E(z,Y,ae),je=v(u,g,ae,ye);if(ae.fill)if(ae.fillStyle==="solid"){const Be=v(u,g,ae,ye).opset;Be.type="fillPath",ce.push(Be)}else ce.push(h([je.estimatedPoints],ae));return ae.stroke!==Ee&&ce.push(je.opset),this._d("ellipse",ce,ae)}circle(u,g,z,Y){const te=this.ellipse(u,g,z,z,Y);return te.shape="circle",te}linearPath(u,g){const z=this._o(g);return this._d("linearPath",[B(u,!1,z)],z)}arc(u,g,z,Y,te,ae,ce=!1,ye){const je=this._o(ye),Be=[],Qe=i(u,g,z,Y,te,ae,ce,!0,je);if(ce&&je.fill)if(je.fillStyle==="solid"){const rt=Object.assign({},je);rt.disableMultiStroke=!0;const Ye=i(u,g,z,Y,te,ae,!0,!1,rt);Ye.type="fillPath",Be.push(Ye)}else Be.push(function(rt,Ye,tt,ht,gt,Ue,Ce){const Le=rt,et=Ye;let ft=Math.abs(tt/2),xt=Math.abs(ht/2);ft+=U(.01*ft,Ce),xt+=U(.01*xt,Ce);let wt=gt,Rt=Ue;for(;wt<0;)wt+=2*Math.PI,Rt+=2*Math.PI;Rt-wt>2*Math.PI&&(wt=0,Rt=2*Math.PI);const It=(Rt-wt)/Ce.curveStepCount,At=[];for(let Xt=wt;Xt<=Rt;Xt+=It)At.push([Le+ft*Math.cos(Xt),et+xt*Math.sin(Xt)]);return At.push([Le+ft*Math.cos(Rt),et+xt*Math.sin(Rt)]),At.push([Le,et]),h([At],Ce)}(u,g,z,Y,te,ae,je));return je.stroke!==Ee&&Be.push(Qe),this._d("arc",Be,je)}curve(u,g){const z=this._o(g),Y=[],te=R(u,z);if(z.fill&&z.fill!==Ee&&u.length>=3)if(z.fillStyle==="solid"){const ae=R(u,Object.assign(Object.assign({},z),{disableMultiStroke:!0,roughness:z.roughness?z.roughness+z.fillShapeRoughnessGain:0}));Y.push({type:"fillPath",ops:this._mergedShape(ae.ops)})}else{const ae=function(ye,je=0){const Be=ye.length;if(Be<3)throw new Error("A curve must have at least three points.");const Qe=[];if(Be===3)Qe.push(fe(ye[0]),fe(ye[1]),fe(ye[2]),fe(ye[2]));else{const rt=[];rt.push(ye[0],ye[0]);for(let ht=1;ht<ye.length;ht++)rt.push(ye[ht]),ht===ye.length-1&&rt.push(ye[ht]);const Ye=[],tt=1-je;Qe.push(fe(rt[0]));for(let ht=1;ht+2<rt.length;ht++){const gt=rt[ht];Ye[0]=[gt[0],gt[1]],Ye[1]=[gt[0]+(tt*rt[ht+1][0]-tt*rt[ht-1][0])/6,gt[1]+(tt*rt[ht+1][1]-tt*rt[ht-1][1])/6],Ye[2]=[rt[ht+1][0]+(tt*rt[ht][0]-tt*rt[ht+2][0])/6,rt[ht+1][1]+(tt*rt[ht][1]-tt*rt[ht+2][1])/6],Ye[3]=[rt[ht+1][0],rt[ht+1][1]],Qe.push(Ye[1],Ye[2],Ye[3])}}return Qe}(u),ce=function(ye,je=.15,Be){const Qe=[],rt=(ye.length-1)/3;for(let Ye=0;Ye<rt;Ye++)be(ye,3*Ye,je,Qe);return Be&&Be>0?Me(Qe,0,Qe.length,Be):Qe}(ae,10,(1+z.roughness)/2);Y.push(h([ce],z))}return z.stroke!==Ee&&Y.push(te),this._d("curve",Y,z)}polygon(u,g){const z=this._o(g),Y=[],te=B(u,!0,z);return z.fill&&(z.fillStyle==="solid"?Y.push(y([u],z)):Y.push(h([u],z))),z.stroke!==Ee&&Y.push(te),this._d("polygon",Y,z)}path(u,g){const z=this._o(g),Y=[];if(!u)return this._d("path",Y,z);u=(u||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const te=z.fill&&z.fill!=="transparent"&&z.fill!==Ee,ae=z.stroke!==Ee,ce=!!(z.simplification&&z.simplification<1),ye=Ie(u,1,ce?4-4*(z.simplification||1):(1+z.roughness)/2),je=a(u,z);if(te)if(z.fillStyle==="solid")if(ye.length===1){const Be=a(u,Object.assign(Object.assign({},z),{disableMultiStroke:!0,roughness:z.roughness?z.roughness+z.fillShapeRoughnessGain:0}));Y.push({type:"fillPath",ops:this._mergedShape(Be.ops)})}else Y.push(y(ye,z));else Y.push(h(ye,z));return ae&&(ce?ye.forEach(Be=>{Y.push(B(Be,!1,z))}):Y.push(je)),this._d("path",Y,z)}opsToPath(u,g){let z="";for(const Y of u.ops){const te=typeof g=="number"&&g>=0?Y.data.map(ae=>+ae.toFixed(g)):Y.data;switch(Y.op){case"move":z+=`M${te[0]} ${te[1]} `;break;case"bcurveTo":z+=`C${te[0]} ${te[1]}, ${te[2]} ${te[3]}, ${te[4]} ${te[5]} `;break;case"lineTo":z+=`L${te[0]} ${te[1]} `}}return z.trim()}toPaths(u){const g=u.sets||[],z=u.options||this.defaultOptions,Y=[];for(const te of g){let ae=null;switch(te.type){case"path":ae={d:this.opsToPath(te),stroke:z.stroke,strokeWidth:z.strokeWidth,fill:Ee};break;case"fillPath":ae={d:this.opsToPath(te),stroke:Ee,strokeWidth:0,fill:z.fill||Ee};break;case"fillSketch":ae=this.fillSketch(te,z)}ae&&Y.push(ae)}return Y}fillSketch(u,g){let z=g.fillWeight;return z<0&&(z=g.strokeWidth/2),{d:this.opsToPath(u),stroke:g.fill||Ee,strokeWidth:z,fill:Ee}}_mergedShape(u){return u.filter((g,z)=>z===0||g.op!=="move")}}},8152:function(ue,n,r){function A(){return Math.floor(Math.random()*2147483648)}r.d(n,{W:function(){return A},k:function(){return k}});class k{constructor(w){this.seed=w}next(){return this.seed?(2147483647&(this.seed=Math.imul(48271,this.seed)))/2147483648:Math.random()}}},9845:function(ue,n,r){r.d(n,{Z:function(){return N}});var A=r(8128);class k{constructor(f,d){this.canvas=f,this.ctx=this.canvas.getContext("2d"),this.gen=new A.V(d)}draw(f){const d=f.sets||[],j=f.options||this.getDefaultOptions(),L=this.ctx,H=f.options.fixedDecimalPlaceDigits;for(const x of d)switch(x.type){case"path":L.save(),L.strokeStyle=j.stroke==="none"?"transparent":j.stroke,L.lineWidth=j.strokeWidth,j.strokeLineDash&&L.setLineDash(j.strokeLineDash),j.strokeLineDashOffset&&(L.lineDashOffset=j.strokeLineDashOffset),this._drawToContext(L,x,H),L.restore();break;case"fillPath":{L.save(),L.fillStyle=j.fill||"";const S=f.shape==="curve"||f.shape==="polygon"||f.shape==="path"?"evenodd":"nonzero";this._drawToContext(L,x,H,S),L.restore();break}case"fillSketch":this.fillSketch(L,x,j)}}fillSketch(f,d,j){let L=j.fillWeight;L<0&&(L=j.strokeWidth/2),f.save(),j.fillLineDash&&f.setLineDash(j.fillLineDash),j.fillLineDashOffset&&(f.lineDashOffset=j.fillLineDashOffset),f.strokeStyle=j.fill||"",f.lineWidth=L,this._drawToContext(f,d,j.fixedDecimalPlaceDigits),f.restore()}_drawToContext(f,d,j,L="nonzero"){f.beginPath();for(const H of d.ops){const x=typeof j=="number"&&j>=0?H.data.map(S=>+S.toFixed(j)):H.data;switch(H.op){case"move":f.moveTo(x[0],x[1]);break;case"bcurveTo":f.bezierCurveTo(x[0],x[1],x[2],x[3],x[4],x[5]);break;case"lineTo":f.lineTo(x[0],x[1])}}d.type==="fillPath"?f.fill(L):f.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(f,d,j,L,H){const x=this.gen.line(f,d,j,L,H);return this.draw(x),x}rectangle(f,d,j,L,H){const x=this.gen.rectangle(f,d,j,L,H);return this.draw(x),x}ellipse(f,d,j,L,H){const x=this.gen.ellipse(f,d,j,L,H);return this.draw(x),x}circle(f,d,j,L){const H=this.gen.circle(f,d,j,L);return this.draw(H),H}linearPath(f,d){const j=this.gen.linearPath(f,d);return this.draw(j),j}polygon(f,d){const j=this.gen.polygon(f,d);return this.draw(j),j}arc(f,d,j,L,H,x,S=!1,q){const ve=this.gen.arc(f,d,j,L,H,x,S,q);return this.draw(ve),ve}curve(f,d){const j=this.gen.curve(f,d);return this.draw(j),j}path(f,d){const j=this.gen.path(f,d);return this.draw(j),j}}const b="http://www.w3.org/2000/svg";class w{constructor(f,d){this.svg=f,this.gen=new A.V(d)}draw(f){const d=f.sets||[],j=f.options||this.getDefaultOptions(),L=this.svg.ownerDocument||window.document,H=L.createElementNS(b,"g"),x=f.options.fixedDecimalPlaceDigits;for(const S of d){let q=null;switch(S.type){case"path":q=L.createElementNS(b,"path"),q.setAttribute("d",this.opsToPath(S,x)),q.setAttribute("stroke",j.stroke),q.setAttribute("stroke-width",j.strokeWidth+""),q.setAttribute("fill","none"),j.strokeLineDash&&q.setAttribute("stroke-dasharray",j.strokeLineDash.join(" ").trim()),j.strokeLineDashOffset&&q.setAttribute("stroke-dashoffset",`${j.strokeLineDashOffset}`);break;case"fillPath":q=L.createElementNS(b,"path"),q.setAttribute("d",this.opsToPath(S,x)),q.setAttribute("stroke","none"),q.setAttribute("stroke-width","0"),q.setAttribute("fill",j.fill||""),f.shape!=="curve"&&f.shape!=="polygon"||q.setAttribute("fill-rule","evenodd");break;case"fillSketch":q=this.fillSketch(L,S,j)}q&&H.appendChild(q)}return H}fillSketch(f,d,j){let L=j.fillWeight;L<0&&(L=j.strokeWidth/2);const H=f.createElementNS(b,"path");return H.setAttribute("d",this.opsToPath(d,j.fixedDecimalPlaceDigits)),H.setAttribute("stroke",j.fill||""),H.setAttribute("stroke-width",L+""),H.setAttribute("fill","none"),j.fillLineDash&&H.setAttribute("stroke-dasharray",j.fillLineDash.join(" ").trim()),j.fillLineDashOffset&&H.setAttribute("stroke-dashoffset",`${j.fillLineDashOffset}`),H}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(f,d){return this.gen.opsToPath(f,d)}line(f,d,j,L,H){const x=this.gen.line(f,d,j,L,H);return this.draw(x)}rectangle(f,d,j,L,H){const x=this.gen.rectangle(f,d,j,L,H);return this.draw(x)}ellipse(f,d,j,L,H){const x=this.gen.ellipse(f,d,j,L,H);return this.draw(x)}circle(f,d,j,L){const H=this.gen.circle(f,d,j,L);return this.draw(H)}linearPath(f,d){const j=this.gen.linearPath(f,d);return this.draw(j)}polygon(f,d){const j=this.gen.polygon(f,d);return this.draw(j)}arc(f,d,j,L,H,x,S=!1,q){const ve=this.gen.arc(f,d,j,L,H,x,S,q);return this.draw(ve)}curve(f,d){const j=this.gen.curve(f,d);return this.draw(j)}path(f,d){const j=this.gen.path(f,d);return this.draw(j)}}var N={canvas:(M,f)=>new k(M,f),svg:(M,f)=>new w(M,f),generator:M=>new A.V(M),newSeed:()=>A.V.newSeed()}},5714:function(ue){ue.exports=function(n,r,A){var k=[],b=n.length;if(b===0)return k;var w=r<0?Math.max(0,r+b):r||0;for(A!==void 0&&(b=A<0?A+b:A);b-- >w;)k[b-w]=n[b];return k}},2173:function(ue,n,r){var A=r(9787),k=typeof Object.is=="function"?Object.is:function(j,L){return j===L&&(j!==0||1/j==1/L)||j!=j&&L!=L},b=A.useState,w=A.useEffect,N=A.useLayoutEffect,M=A.useDebugValue;function f(j){var L=j.getSnapshot;j=j.value;try{var H=L();return!k(j,H)}catch{return!0}}var d=typeof window>"u"||window.document===void 0||window.document.createElement===void 0?function(j,L){return L()}:function(j,L){var H=L(),x=b({inst:{value:H,getSnapshot:L}}),S=x[0].inst,q=x[1];return N(function(){S.value=H,S.getSnapshot=L,f(S)&&q({inst:S})},[j,H,L]),w(function(){return f(S)&&q({inst:S}),j(function(){f(S)&&q({inst:S})})},[j]),M(H),H};n.useSyncExternalStore=A.useSyncExternalStore!==void 0?A.useSyncExternalStore:d},5917:function(ue,n,r){var A=r(9787),k=r(1374),b=typeof Object.is=="function"?Object.is:function(j,L){return j===L&&(j!==0||1/j==1/L)||j!=j&&L!=L},w=k.useSyncExternalStore,N=A.useRef,M=A.useEffect,f=A.useMemo,d=A.useDebugValue;n.useSyncExternalStoreWithSelector=function(j,L,H,x,S){var q=N(null);if(q.current===null){var ve={hasValue:!1,value:null};q.current=ve}else ve=q.current;q=f(function(){function Se(T){if(!Q){if(Q=!0,ge=T,T=x(T),S!==void 0&&ve.hasValue){var B=ve.value;if(S(B,T))return J=B}return J=T}if(B=J,b(ge,T))return B;var O=x(T);return S!==void 0&&S(B,O)?B:(ge=T,J=O)}var ge,J,Q=!1,K=H===void 0?null:H;return[function(){return Se(L())},K===null?void 0:function(){return Se(K())}]},[L,H,x,S]);var ke=w(j,q[0],q[1]);return M(function(){ve.hasValue=!0,ve.value=ke},[ke]),d(ke),ke}},1374:function(ue,n,r){ue.exports=r(2173)},5668:function(ue,n,r){ue.exports=r(5917)},940:function(ue,n,r){var A={"./ar-SA.json":[7822,2091],"./az-AZ.json":[9753,4568],"./bg-BG.json":[1203,1628],"./bn-BD.json":[8525,7429],"./ca-ES.json":[510,5130],"./cs-CZ.json":[7605,6265],"./da-DK.json":[2392,1790],"./de-DE.json":[2853,3082],"./el-GR.json":[9876,1513],"./en.json":[1463],"./es-ES.json":[2264,8759],"./eu-ES.json":[5658,8081],"./fa-IR.json":[3747,5330],"./fi-FI.json":[9490,3512],"./fr-FR.json":[7830,3682],"./gl-ES.json":[5199,2943],"./he-IL.json":[1994,2312],"./hi-IN.json":[4646,9828],"./hu-HU.json":[6373,7368],"./id-ID.json":[3247,3808],"./it-IT.json":[3257,6239],"./ja-JP.json":[198,1204],"./kaa.json":[7941,663],"./kab-KAB.json":[228,9551],"./kk-KZ.json":[8972,22],"./km-KH.json":[5845,6566],"./ko-KR.json":[7596,6844],"./ku-TR.json":[2508,3031],"./lt-LT.json":[3755,8340],"./lv-LV.json":[2327,6768],"./mr-IN.json":[5297,3397],"./my-MM.json":[7704,1477],"./nb-NO.json":[1167,2359],"./nl-NL.json":[290,3024],"./nn-NO.json":[4481,3885],"./oc-FR.json":[2284,1690],"./pa-IN.json":[6773,3162],"./percentages.json":[4451],"./pl-PL.json":[3661,3674],"./pt-BR.json":[8881,3721],"./pt-PT.json":[125,5395],"./ro-RO.json":[2013,5089],"./ru-RU.json":[2253,8124],"./si-LK.json":[5497,1302],"./sk-SK.json":[4570,8750],"./sl-SI.json":[1984,6071],"./sv-SE.json":[976,8534],"./ta-IN.json":[3952,2404],"./th-TH.json":[2596,537],"./tr-TR.json":[7315,4977],"./uk-UA.json":[3458,7759],"./vi-VN.json":[456,4e3],"./zh-CN.json":[1037,4680],"./zh-HK.json":[5334,7920],"./zh-TW.json":[931,3421]};function k(b){if(!r.o(A,b))return Promise.resolve().then(function(){var M=new Error("Cannot find module '"+b+"'");throw M.code="MODULE_NOT_FOUND",M});var w=A[b],N=w[0];return Promise.all(w.slice(1).map(r.e)).then(function(){return r.t(N,19)})}k.keys=function(){return Object.keys(A)},k.id=940,ue.exports=k},9713:function(ue){ue.exports=function(n,r,A){return r in n?Object.defineProperty(n,r,{value:A,enumerable:!0,configurable:!0,writable:!0}):n[r]=A,n}},6479:function(ue,n,r){var A=r(7316);ue.exports=function(k,b){if(k==null)return{};var w,N,M=A(k,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(k);for(N=0;N<f.length;N++)w=f[N],b.indexOf(w)>=0||Object.prototype.propertyIsEnumerable.call(k,w)&&(M[w]=k[w])}return M}},7316:function(ue){ue.exports=function(n,r){if(n==null)return{};var A,k,b={},w=Object.keys(n);for(k=0;k<w.length;k++)A=w[k],r.indexOf(A)>=0||(b[A]=n[A]);return b}},4295:function(ue,n,r){var A=r(8081),k=r.n(A),b=r(3645),w=r.n(b),N=r(1667),M=r.n(N),f=new URL(r(3940),r.b),d=new URL(r(3147),r.b),j=new URL(r(8303),r.b),L=new URL(r(1273),r.b),H=new URL(r(9577),r.b),x=new URL(r(9729),r.b),S=w()(k()),q=M()(f),ve=M()(d),ke=M()(j),Se=M()(L),ge=M()(H),J=M()(x);S.push([ue.id,'@font-face{font-family:"Virgil";src:url('+q+');font-display:swap}@font-face{font-family:"Cascadia";src:url('+ve+');font-display:swap}@font-face{font-family:"Assistant";src:url('+ke+');font-display:swap;font-weight:400}@font-face{font-family:"Assistant";src:url('+Se+');font-display:swap;font-weight:500}@font-face{font-family:"Assistant";src:url('+ge+');font-display:swap;font-weight:600}@font-face{font-family:"Assistant";src:url('+J+");font-display:swap;font-weight:700}",""]),n.Z=S},6086:function(ue,n,r){var A=r(8081),k=r.n(A),b=r(3645),w=r.n(b)()(k());w.push([ue.id,".zoom-actions,.undo-redo-buttons{background-color:var(--island-bg-color);border-radius:var(--border-radius-lg);box-shadow:0 0 0 1px var(--color-surface-lowest)}.zoom-button,.undo-redo-buttons button{border-radius:0 !important;background-color:var(--color-surface-low) !important;font-size:.875rem !important;width:var(--lg-button-size);height:var(--lg-button-size)}.zoom-button svg,.undo-redo-buttons button svg{width:var(--lg-icon-size) !important;height:var(--lg-icon-size) !important}.zoom-button .ToolIcon__icon,.undo-redo-buttons button .ToolIcon__icon{width:100%;height:100%}.reset-zoom-button{border-left:0 !important;border-right:0 !important;padding:0 .625rem !important;width:3.75rem !important;justify-content:center;color:var(--text-primary-color)}.zoom-out-button{border-top-left-radius:var(--border-radius-lg) !important;border-bottom-left-radius:var(--border-radius-lg) !important}:root[dir=rtl] .zoom-out-button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.zoom-out-button .ToolIcon__icon{border-top-right-radius:0 !important;border-bottom-right-radius:0 !important}.zoom-in-button{border-top-right-radius:var(--border-radius-lg) !important;border-bottom-right-radius:var(--border-radius-lg) !important}:root[dir=rtl] .zoom-in-button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.zoom-in-button .ToolIcon__icon{border-top-left-radius:0 !important;border-bottom-left-radius:0 !important}.undo-redo-buttons .undo-button-container button{border-top-left-radius:var(--border-radius-lg) !important;border-bottom-left-radius:var(--border-radius-lg) !important;border-right:0 !important}:root[dir=rtl] .undo-redo-buttons .undo-button-container button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.undo-redo-buttons .undo-button-container button .ToolIcon__icon{border-top-right-radius:0 !important;border-bottom-right-radius:0 !important}.undo-redo-buttons .redo-button-container button{border-top-right-radius:var(--border-radius-lg) !important;border-bottom-right-radius:var(--border-radius-lg) !important}:root[dir=rtl] .undo-redo-buttons .redo-button-container button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.undo-redo-buttons .redo-button-container button .ToolIcon__icon{border-top-left-radius:0 !important;border-bottom-left-radius:0 !important}",""]),n.Z=w},3729:function(ue,n,r){var A=r(8081),k=r.n(A),b=r(3645),w=r.n(b)()(k());w.push([ue.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Avatar{width:1.25rem;height:1.25rem;position:relative;border-radius:100%;outline-offset:2px;display:flex;justify-content:center;align-items:center;cursor:pointer;font-size:.75rem;font-weight:800;line-height:1}.excalidraw .Avatar-img{width:100%;height:100%;border-radius:100%}.excalidraw .Avatar::before{content:"";position:absolute;top:-3px;right:-3px;bottom:-3px;left:-3px;border:1px solid var(--avatar-border-color);border-radius:100%}',""]),n.Z=w},3137:function(ue,n,r){var A=r(8081),k=r.n(A),b=r(3645),w=r.n(b),N=r(1667),M=r.n(N),f=new URL(r(7984),r.b),d=new URL(r(1639),r.b),j=w()(k()),L=M()(f),H=M()(d);j.push([ue.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw{--theme-filter: none;--button-destructive-bg-color: #ffe3e3;--button-destructive-color: #c92a2a;--button-gray-1: #e9ecef;--button-gray-2: #ced4da;--button-gray-3: #adb5bd;--button-special-active-bg-color: #ebfbee;--dialog-border-color: var(--color-gray-20);--dropdown-icon: url("+L+");--focus-highlight-color: #a5d8ff;--icon-fill-color: var(--color-on-surface);--icon-green-fill-color: #2b8a3e;--default-bg-color: #ffffff;--input-bg-color: #ffffff;--input-border-color: #ced4da;--input-hover-bg-color: #f1f3f5;--input-label-color: #495057;--island-bg-color: #ffffff;--keybinding-color: var(--color-gray-40);--link-color: #1c7ed6;--overlay-bg-color: rgba(255, 255, 255, 0.88);--popup-bg-color: var(--island-bg-color);--popup-secondary-bg-color: #f1f3f5;--popup-text-color: #000000;--popup-text-inverted-color: #ffffff;--select-highlight-color: #339af0;--shadow-island: 0px 0px 0.9310142993927002px 0px rgba(0, 0, 0, 0.17), 0px 0px 3.1270833015441895px 0px rgba(0, 0, 0, 0.08), 0px 7px 14px 0px rgba(0, 0, 0, 0.05);--button-hover-bg: var(--color-surface-high);--button-active-bg: var(--color-surface-high);--button-active-border: var(--color-brand-active);--default-border-color: var(--color-surface-high);--default-button-size: 2rem;--default-icon-size: 1rem;--lg-button-size: 2.25rem;--lg-icon-size: 1rem;--editor-container-padding: 1rem;--scrollbar-thumb: var(--button-gray-2);--scrollbar-thumb-hover: var(--button-gray-3);--modal-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--avatar-border-color: var(--color-gray-20);--sidebar-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--sidebar-border-color: var(--color-surface-high);--sidebar-bg-color: var(--island-bg-color);--library-dropdown-shadow: 0px 15px 6px rgba(0, 0, 0, 0.01), 0px 8px 5px rgba(0, 0, 0, 0.05), 0px 4px 4px rgba(0, 0, 0, 0.09), 0px 1px 2px rgba(0, 0, 0, 0.1), 0px 0px 0px rgba(0, 0, 0, 0.1);--space-factor: 0.25rem;--text-primary-color: var(--color-on-surface);--color-selection: #6965db;--color-icon-white: #ffffff;--color-primary: #6965db;--color-primary-darker: #5b57d1;--color-primary-darkest: #4a47b1;--color-primary-light: #e3e2fe;--color-primary-light-darker: #d7d5ff;--color-gray-10: #f5f5f5;--color-gray-20: #ebebeb;--color-gray-30: #d6d6d6;--color-gray-40: #b8b8b8;--color-gray-50: #999999;--color-gray-60: #7a7a7a;--color-gray-70: #5c5c5c;--color-gray-80: #3d3d3d;--color-gray-85: #242424;--color-gray-90: #1e1e1e;--color-gray-100: #121212;--color-warning: #fceeca;--color-warning-dark: #f5c354;--color-warning-darker: #f3ab2c;--color-warning-darkest: #ec8b14;--color-text-warning: var(--text-primary-color);--color-danger: #db6965;--color-danger-dark: #db6965;--color-danger-darker: #d65550;--color-danger-darkest: #d1413c;--color-danger-text: black;--color-danger-background: #fff0f0;--color-danger-icon-background: #ffdad6;--color-danger-color: #700000;--color-danger-icon-color: #700000;--color-warning-background: var(--color-warning);--color-warning-icon-background: var(--color-warning-dark);--color-warning-color: var(--text-primary-color);--color-warning-icon-color: var(--text-primary-color);--color-muted: var(--color-gray-30);--color-muted-darker: var(--color-gray-60);--color-muted-darkest: var(--color-gray-100);--color-muted-background: var(--color-gray-80);--color-muted-background-darker: var(--color-gray-100);--color-promo: #e70078;--color-success: #268029;--color-success-lighter: #cafccc;--color-logo-icon: var(--color-primary);--color-logo-text: #190064;--border-radius-md: 0.375rem;--border-radius-lg: 0.5rem;--color-surface-high: hsl(244, 100%, 97%);--color-surface-mid: hsl(240 25% 96%);--color-surface-low: hsl(240 25% 94%);--color-surface-lowest: #ffffff;--color-on-surface: #1b1b1f;--color-brand-hover: #5753d0;--color-on-primary-container: #030064;--color-surface-primary-container: #e0dfff;--color-brand-active: #4440bf;--color-border-outline: #767680;--color-border-outline-variant: #c5c5d0;--color-surface-primary-container: #e0dfff}@media screen and (min-device-width: 1921px){.excalidraw{--lg-button-size: 2.5rem;--lg-icon-size: 1.25rem;--default-button-size: 2.25rem;--default-icon-size: 1.25rem}}.excalidraw.theme--dark.theme--dark-background-none{background:none}.excalidraw.theme--dark{--theme-filter: invert(93%) hue-rotate(180deg);--button-destructive-bg-color: #5a0000;--button-destructive-color: #ffa8a8;--button-gray-1: #363636;--button-gray-2: #272727;--button-gray-3: #222;--button-special-active-bg-color: #204624;--dialog-border-color: var(--color-gray-80);--dropdown-icon: url("+H+");--focus-highlight-color: #228be6;--icon-green-fill-color: #69db7c;--default-bg-color: #121212;--input-bg-color: #121212;--input-border-color: #2e2e2e;--input-hover-bg-color: #181818;--input-label-color: #e9ecef;--island-bg-color: #232329;--keybinding-color: var(--color-gray-60);--link-color: #4dabf7;--overlay-bg-color: rgba(52, 58, 64, 0.12);--popup-secondary-bg-color: #222;--popup-text-color: #ced4da;--popup-text-inverted-color: #2c2c2c;--select-highlight-color: #4dabf7;--shadow-island: 0px 0px 0.9310142993927002px 0px rgba(0, 0, 0, 0.17), 0px 0px 3.1270833015441895px 0px rgba(0, 0, 0, 0.08), 0px 7px 14px 0px rgba(0, 0, 0, 0.05);--modal-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--avatar-border-color: var(--color-gray-85);--scrollbar-thumb: #343a40;--scrollbar-thumb-hover: #495057;--color-selection: #3530c4;--color-icon-white: var(--color-gray-90);--color-primary: #a8a5ff;--color-primary-darker: #b2aeff;--color-primary-darkest: #beb9ff;--color-primary-light: #4f4d6f;--color-primary-light-darker: #43415e;--color-text-warning: var(--color-gray-80);--color-danger: #ffa8a5;--color-danger-dark: #672120;--color-danger-darker: #8f2625;--color-danger-darkest: #ac2b29;--color-danger-text: #fbcbcc;--color-danger-background: #fbcbcc;--color-danger-icon-background: #672120;--color-danger-color: #261919;--color-danger-icon-color: #fbcbcc;--color-warning-background: var(--color-warning);--color-warning-icon-background: var(--color-warning-dark);--color-warning-color: var(--color-gray-80);--color-warning-icon-color: var(--color-gray-80);--color-muted: var(--color-gray-80);--color-muted-darker: var(--color-gray-60);--color-muted-darkest: var(--color-gray-20);--color-muted-background: var(--color-gray-40);--color-muted-background-darker: var(--color-gray-20);--color-promo: #d297ff;--color-logo-text: #e2dfff;--color-surface-high: hsl(245, 10%, 21%);--color-surface-low: hsl(240, 8%, 15%);--color-surface-mid: hsl(240 6% 10%);--color-surface-lowest: hsl(0, 0%, 7%);--color-on-surface: #e3e3e8;--color-brand-hover: #bbb8ff;--color-on-primary-container: #e0dfff;--color-surface-primary-container: #403e6a;--color-brand-active: #d0ccff;--color-border-outline: #8e8d9c;--color-border-outline-variant: #46464f;--color-surface-primary-container: #403e6a}.excalidraw .excalidraw-button{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--color-on-surface))}.excalidraw .excalidraw-button svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .excalidraw-button:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--button-border, var(--default-border-color)));color:var(--button-hover-color, var(--button-color, var(--text-primary-color, inherit)))}.excalidraw .excalidraw-button:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .excalidraw-button.active{background-color:var(--button-selected-bg, var(--color-surface-primary-container));border-color:var(--button-selected-border, var(--color-surface-primary-container))}.excalidraw .excalidraw-button.active:hover{background-color:var(--button-selected-hover-bg, var(--color-surface-primary-container))}.excalidraw .excalidraw-button.active svg{color:var(--button-color, var(--color-on-primary-container))}",""]),n.Z=j},4241:function(ue,n,r){var A=r(8081),k=r.n(A),b=r(3645),w=r.n(b)()(k());w.push([ue.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Card{display:flex;flex-direction:column;align-items:center;max-width:290px;margin:1em;text-align:center}.excalidraw .Card .Card-icon{font-size:2.6em;display:flex;flex:0 0 auto;padding:1.4rem;border-radius:50%;background:var(--card-color);color:#fff}.excalidraw .Card .Card-icon svg{width:2.8rem;height:2.8rem}.excalidraw .Card .Card-details{font-size:.96em;min-height:90px;padding:0 1em;margin-bottom:auto}.excalidraw .Card .Card-button.ToolIcon_type_button{height:2.5rem;margin-top:1em;margin-bottom:.3em;background-color:var(--card-color)}.excalidraw .Card .Card-button.ToolIcon_type_button:hover{background-color:var(--card-color-darker)}.excalidraw .Card .Card-button.ToolIcon_type_button:active{background-color:var(--card-color-darkest)}.excalidraw .Card .Card-button.ToolIcon_type_button .ToolIcon__label{color:#fff}.excalidraw .Card .Card-button.ToolIcon_type_button .Spinner{--spinner-color: #fff}",""]),n.Z=w},6029:function(ue,n,r){var A=r(8081),k=r.n(A),b=r(3645),w=r.n(b)()(k());w.push([ue.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Checkbox{margin:4px .3em;display:flex;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.excalidraw .Checkbox:hover:not(.is-checked) .Checkbox-box:not(:focus){box-shadow:0 0 0 2px #4dabf7}.excalidraw .Checkbox:hover:not(.is-checked) .Checkbox-box:not(:focus) svg{display:block;opacity:.3}.excalidraw .Checkbox:active .Checkbox-box{box-shadow:0 0 2px 1px inset #1c7ed6 !important}.excalidraw .Checkbox:hover .Checkbox-box{background-color:rgba(208,235,255,.2)}.excalidraw .Checkbox.is-checked .Checkbox-box{background-color:#d0ebff}.excalidraw .Checkbox.is-checked .Checkbox-box svg{display:block}.excalidraw .Checkbox.is-checked:hover .Checkbox-box{background-color:#a5d8ff}.excalidraw .Checkbox .Checkbox-box{width:22px;height:22px;padding:0;flex:0 0 auto;margin:0 1em;display:flex;align-items:center;justify-content:center;box-shadow:0 0 0 2px #1c7ed6;background-color:rgba(0,0,0,0);border-radius:4px;color:#1c7ed6;border:0}.excalidraw .Checkbox .Checkbox-box:focus{box-shadow:0 0 0 3px #1c7ed6}.excalidraw .Checkbox .Checkbox-box svg{display:none;width:16px;height:16px;stroke-width:3px}.excalidraw .Checkbox .Checkbox-label{display:flex;align-items:center}.excalidraw .Checkbox .excalidraw-tooltip-icon{width:1em;height:1em}",""]),n.Z=w},4269:function(ue,n,r){var A=r(8081),k=r.n(A),b=r(3645),w=r.n(b),N=r(1667),M=r.n(N),f=new URL(r(9669),r.b),d=w()(k()),j=M()(f);d.push([ue.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .focus-visible-none:focus-visible{outline:none !important}.excalidraw .color-picker__heading{padding:0 .5rem;font-size:.75rem;text-align:left}.excalidraw .color-picker-container{display:grid;grid-template-columns:1fr 20px 1.625rem;padding:.25rem 0px;align-items:center}.excalidraw--mobile.excalidraw .color-picker-container{max-width:175px}.excalidraw .color-picker__top-picks{display:flex;justify-content:space-between}.excalidraw .color-picker__button{--radius: 0.25rem;padding:0;margin:0;width:1.35rem;height:1.35rem;border:1px solid var(--color-gray-30);border-radius:var(--radius);-webkit-filter:var(--theme-filter);filter:var(--theme-filter);background-color:var(--swatch-color);background-position:left center;position:relative;font-family:inherit;box-sizing:border-box}.excalidraw .color-picker__button:hover::after{content:"";position:absolute;top:-2px;left:-2px;right:-2px;bottom:-2px;box-shadow:0 0 0 1px var(--color-gray-30);border-radius:calc(var(--radius) + 1px);-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .color-picker__button.active .color-picker__button-outline{position:absolute;top:-2px;left:-2px;right:-2px;bottom:-2px;box-shadow:0 0 0 1px var(--color-primary-darkest);z-index:1;border-radius:calc(var(--radius) + 1px);-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .color-picker__button:focus-visible{outline:none}.excalidraw .color-picker__button:focus-visible::after{content:"";position:absolute;top:-4px;right:-4px;bottom:-4px;left:-4px;border:3px solid var(--focus-highlight-color);border-radius:calc(var(--radius) + 1px)}.excalidraw .color-picker__button:focus-visible.active .color-picker__button-outline{display:none}.excalidraw .color-picker__button--large{--radius: 0.5rem;width:1.875rem;height:1.875rem}.excalidraw .color-picker__button.is-transparent{background-image:url('+j+")}.excalidraw .color-picker__button--no-focus-visible{border:0}.excalidraw .color-picker__button--no-focus-visible::after{display:none}.excalidraw .color-picker__button--no-focus-visible:focus-visible{outline:none !important}.excalidraw .color-picker__button.active-color{border-radius:calc(var(--radius) + 1px);width:1.625rem;height:1.625rem}.excalidraw .color-picker__button__hotkey-label{position:absolute;right:4px;bottom:4px;-webkit-filter:none;filter:none;font-size:11px}.excalidraw .color-picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}:root[dir=ltr] .excalidraw .color-picker{left:-5.5px}:root[dir=rtl] .excalidraw .color-picker{right:-5.5px}.excalidraw .color-picker-control-container{display:grid;grid-template-columns:auto 1fr;align-items:center;-webkit-column-gap:.5rem;column-gap:.5rem}.excalidraw .color-picker-control-container+.popover{position:static}.excalidraw .color-picker-popover-container{margin-top:-0.25rem}:root[dir=ltr] .excalidraw .color-picker-popover-container{margin-left:.5rem}:root[dir=rtl] .excalidraw .color-picker-popover-container{margin-left:-3rem}.excalidraw .color-picker-triangle{width:0;height:0;border-style:solid;border-width:0 9px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) var(--popup-bg-color);position:absolute;top:10px}:root[dir=ltr] .excalidraw .color-picker-triangle{-webkit-transform:rotate(270deg);transform:rotate(270deg);left:-14px}:root[dir=rtl] .excalidraw .color-picker-triangle{-webkit-transform:rotate(90deg);transform:rotate(90deg);right:-14px}.excalidraw .color-picker-triangle-shadow{border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,.1)}:root[dir=ltr] .excalidraw .color-picker-triangle-shadow{left:-14px}:root[dir=rtl] .excalidraw .color-picker-triangle-shadow{right:-16px}.excalidraw .color-picker-content{display:flex;flex-direction:column;gap:.75rem;outline:none}.excalidraw .color-picker-content--default{padding:.5rem;display:grid;grid-template-columns:repeat(5, 1.875rem);grid-gap:.25rem;border-radius:4px}.excalidraw .color-picker-content--default:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-picker-content--canvas{display:flex;flex-direction:column;padding:.25rem}.excalidraw .color-picker-content--canvas-title{color:#868e96;font-size:12px;padding:0 .25rem}.excalidraw .color-picker-content--canvas-colors{padding:.5rem 0}.excalidraw .color-picker-content--canvas-colors .color-picker-swatch{margin:0 .25rem}.excalidraw .color-picker-content .color-input-container{grid-column:1/span 5}.excalidraw .color-picker-swatch{position:relative;height:1.875rem;width:1.875rem;cursor:pointer;border-radius:4px;margin:0;box-sizing:border-box;border:1px solid #ddd;background-color:currentColor !important;-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .color-picker-swatch:focus{box-shadow:0 0 4px 1px currentColor;border-color:var(--select-highlight-color)}.excalidraw .color-picker-transparent{border-radius:4px;box-shadow:rgba(0,0,0,.1) 0 0 0 1px inset;position:absolute;top:0;right:0;bottom:0;left:0}.excalidraw .color-picker-transparent,.excalidraw .color-picker-label-swatch{background:url("+j+') left center}.excalidraw .color-picker-hash{height:var(--default-button-size);flex-shrink:0;padding:.5rem .5rem .5rem .75rem;border:1px solid var(--default-border-color);border-right:0;box-sizing:border-box;color:var(--input-label-color);display:flex;align-items:center;justify-content:center;position:relative}:root[dir=ltr] .excalidraw .color-picker-hash{border-radius:var(--border-radius-lg) 0 0 var(--border-radius-lg)}:root[dir=rtl] .excalidraw .color-picker-hash{border-radius:0 var(--border-radius-lg) var(--border-radius-lg) 0;border-right:1px solid var(--default-border-color);border-left:0}.excalidraw .color-input-container{display:flex}.excalidraw .color-input-container:focus-within{box-shadow:0 0 0 1px var(--color-primary-darkest);border-radius:var(--border-radius-lg)}.excalidraw .color-picker__input-label{display:grid;grid-template-columns:auto 1fr auto auto;gap:8px;align-items:center;border:1px solid var(--default-border-color);border-radius:8px;padding:0 12px;margin:8px;box-sizing:border-box}.excalidraw .color-picker__input-label:focus-within{box-shadow:0 0 0 1px var(--color-primary-darkest);border-radius:var(--border-radius-lg)}.excalidraw .color-picker__input-hash{padding:0 .25rem}.excalidraw .color-picker-input{box-sizing:border-box;width:100%;margin:0;font-size:.875rem;font-family:inherit;background-color:rgba(0,0,0,0);color:var(--text-primary-color);border:0;outline:none;height:var(--default-button-size);border:1px solid var(--default-border-color);border-left:0;letter-spacing:.4px;padding:.5rem;padding-left:.25rem;-webkit-appearance:none;appearance:none}:root[dir=ltr] .excalidraw .color-picker-input{border-radius:0 var(--border-radius-lg) var(--border-radius-lg) 0}:root[dir=rtl] .excalidraw .color-picker-input{border-radius:var(--border-radius-lg) 0 0 var(--border-radius-lg);border-left:1px solid var(--default-border-color);border-right:0}.excalidraw .color-picker-input:focus-visible{box-shadow:none}.excalidraw .color-picker-label-swatch-container{border:1px solid var(--default-border-color);border-radius:var(--border-radius-lg);width:var(--default-button-size);height:var(--default-button-size);box-sizing:border-box;overflow:hidden}.excalidraw .color-picker-label-swatch{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--color-on-surface));background-color:var(--swatch-color) !important;overflow:hidden;position:relative;-webkit-filter:var(--theme-filter);filter:var(--theme-filter);border:0 !important}.excalidraw .color-picker-label-swatch svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .color-picker-label-swatch:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--button-border, var(--default-border-color)));color:var(--button-hover-color, var(--button-color, var(--text-primary-color, inherit)))}.excalidraw .color-picker-label-swatch:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .color-picker-label-swatch.active{background-color:var(--button-selected-bg, var(--color-surface-primary-container));border-color:var(--button-selected-border, var(--color-surface-primary-container))}.excalidraw .color-picker-label-swatch.active:hover{background-color:var(--button-selected-hover-bg, var(--color-surface-primary-container))}.excalidraw .color-picker-label-swatch.active svg{color:var(--button-color, var(--color-on-primary-container))}.excalidraw .color-picker-label-swatch:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:var(--swatch-color)}.excalidraw .color-picker-keybinding{position:absolute;bottom:2px;font-size:.7em}:root[dir=ltr] .excalidraw .color-picker-keybinding{right:2px}:root[dir=rtl] .excalidraw .color-picker-keybinding{left:2px}.excalidraw--mobile.excalidraw .color-picker-keybinding{display:none}.excalidraw .color-picker-type-canvasBackground .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementBackground .color-picker-keybinding{color:#fff}.excalidraw .color-picker-swatch[aria-label=transparent] .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementStroke .color-picker-keybinding{color:#d4d4d4}.excalidraw.theme--dark .color-picker-type-elementBackground .color-picker-keybinding{color:#000}.excalidraw.theme--dark .color-picker-swatch[aria-label=transparent] .color-picker-keybinding{color:#000}',""]),n.Z=d},9393:function(ue,n,r){var A=r(8081),k=r.n(A),b=r(3645),w=r.n(b)()(k());w.push([ue.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .confirm-dialog-buttons{display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;justify-content:flex-end}",""]),n.Z=w},6578:function(ue,n,r){var A=r(8081),k=r.n(A),b=r(3645),w=r.n(b)()(k());w.push([ue.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .context-menu{position:relative;border-radius:4px;box-shadow:0 3px 10px rgba(0,0,0,.2);padding:0;list-style:none;-webkit-user-select:none;user-select:none;margin:-0.25rem 0 0 .125rem;padding:.5rem 0;background-color:var(--popup-secondary-bg-color);border:1px solid var(--button-gray-3);cursor:default}.excalidraw .context-menu button{color:var(--popup-text-color)}.excalidraw .context-menu-item{position:relative;width:100%;min-width:9.5rem;margin:0;padding:.25rem 1rem .25rem 1.25rem;text-align:start;border-radius:0;background-color:rgba(0,0,0,0);border:none;white-space:nowrap;font-family:inherit;display:grid;grid-template-columns:1fr .2fr;align-items:center}.excalidraw .context-menu-item.checkmark::before{position:absolute;left:6px;margin-bottom:1px;content:"✓"}.excalidraw .context-menu-item.dangerous .context-menu-item__label{color:#f03e3e}.excalidraw .context-menu-item .context-menu-item__label{justify-self:start;-webkit-margin-end:20px;margin-inline-end:20px}.excalidraw .context-menu-item .context-menu-item__shortcut{justify-self:end;opacity:.6;font-family:inherit;font-size:.7rem}.excalidraw .context-menu-item:hover{color:var(--popup-bg-color);background-color:var(--select-highlight-color)}.excalidraw .context-menu-item:hover.dangerous{background-color:#fa5252}.excalidraw .context-menu-item:hover.dangerous .context-menu-item__label{color:var(--popup-bg-color)}.excalidraw .context-menu-item:focus{z-index:1}.excalidraw--mobile.excalidraw .context-menu-item{display:block}.excalidraw--mobile.excalidraw .context-menu-item .context-menu-item__label{-webkit-margin-end:0;margin-inline-end:0}.excalidraw--mobile.excalidraw .context-menu-item .context-menu-item__shortcut{display:none}.excalidraw .context-menu-item-separator{border:none;border-top:1px solid #adb5bd}',""]),n.Z=w},9482:function(ue,n,r){var A=r(8081),k=r.n(A),b=r(3645),w=r.n(b)()(k());w.push([ue.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Dialog{-webkit-user-select:text;user-select:text;cursor:auto}.excalidraw .Dialog__title{margin:0;text-align:left;font-size:1.25rem;border-bottom:1px solid var(--dialog-border-color);padding:0 0 .75rem;margin-bottom:1.5rem}.excalidraw .Dialog__close{color:var(--color-gray-40);margin:0;position:absolute;top:.75rem;right:.5rem;border:0;background-color:rgba(0,0,0,0);line-height:0;cursor:pointer}.excalidraw .Dialog__close:hover{color:var(--color-gray-60)}.excalidraw .Dialog__close:active{color:var(--color-gray-40)}.excalidraw .Dialog__close svg{width:1.5rem;height:1.5rem}.excalidraw .Dialog--fullscreen .Dialog__close{top:1.25rem;right:1.25rem}",""]),n.Z=w},6148:function(ue,n,r){var A=r(8081),k=r.n(A),b=r(3645),w=r.n(b)()(k());w.push([ue.id,".excalidraw .Dialog__action-button{position:relative;display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;align-items:center;padding:.5rem 1.5rem;border:1px solid var(--default-border-color);background-color:rgba(0,0,0,0);height:3rem;border-radius:var(--border-radius-lg);letter-spacing:.4px;color:inherit;font-family:inherit;font-size:.875rem;font-weight:600;-webkit-user-select:none;user-select:none}.excalidraw .Dialog__action-button svg{display:block;width:1rem;height:1rem}.excalidraw .Dialog__action-button--danger{background-color:var(--color-danger);border-color:var(--color-danger);color:#fff}.excalidraw .Dialog__action-button--primary{background-color:var(--color-primary);border-color:var(--color-primary);color:#fff}.excalidraw.theme--dark .Dialog__action-button--danger{color:var(--color-gray-100)}.excalidraw.theme--dark .Dialog__action-button--primary{color:var(--color-gray-100)}",""]),n.Z=w},5744:function(ue,n,r){var A=r(8081),k=r.n(A),b=r(3645),w=r.n(b)()(k());w.push([ue.id,".excalidraw .ExcalidrawLogo{--logo-icon--xs: 2rem;--logo-text--xs: 1.5rem;--logo-icon--small: 2.5rem;--logo-text--small: 1.75rem;--logo-icon--normal: 3rem;--logo-text--normal: 2.2rem;--logo-icon--large: 90px;--logo-text--large: 65px;display:flex;align-items:center}.excalidraw .ExcalidrawLogo svg{flex:0 0 auto}.excalidraw .ExcalidrawLogo .ExcalidrawLogo-icon{width:auto;color:var(--color-logo-icon)}.excalidraw .ExcalidrawLogo .ExcalidrawLogo-text{margin-left:.75rem;width:auto;color:var(--color-logo-text)}.excalidraw .ExcalidrawLogo.is-xs .ExcalidrawLogo-icon{height:var(--logo-icon--xs)}.excalidraw .ExcalidrawLogo.is-xs .ExcalidrawLogo-text{height:var(--logo-text--xs)}.excalidraw .ExcalidrawLogo.is-small .ExcalidrawLogo-icon{height:var(--logo-icon--small)}.excalidraw .ExcalidrawLogo.is-small .ExcalidrawLogo-text{height:var(--logo-text--small)}.excalidraw .ExcalidrawLogo.is-normal .ExcalidrawLogo-icon{height:var(--logo-icon--normal)}.excalidraw .ExcalidrawLogo.is-normal .ExcalidrawLogo-text{height:var(--logo-text--normal)}.excalidraw .ExcalidrawLogo.is-large .ExcalidrawLogo-icon{height:var(--logo-icon--large)}.excalidraw .ExcalidrawLogo.is-large .ExcalidrawLogo-text{height:var(--logo-text--large)}",""]),n.Z=w},7955:function(ue,n,r){var A=r(8081),k=r.n(A),b=r(3645),w=r.n(b),N=r(1667),M=r.n(N),f=new URL(r(9669),r.b),d=w()(k()),j=M()(f);d.push([ue.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .ExportDialog__preview{--preview-padding: calc(var(--space-factor) * 4);background:url("+j+") left center;text-align:center;padding:var(--preview-padding);margin-bottom:calc(var(--space-factor)*3);display:flex;justify-content:center;align-items:center}.excalidraw .ExportDialog__preview canvas{max-width:calc(100% - var(--preview-padding)*2);max-height:25rem}.excalidraw.theme--dark .ExportDialog__preview canvas{-webkit-filter:none;filter:none}.excalidraw .ExportDialog__actions{width:100%;display:flex;grid-gap:calc(var(--space-factor)*2);align-items:top;justify-content:space-between}.excalidraw--mobile.excalidraw .ExportDialog{display:flex;flex-direction:column}.excalidraw--mobile.excalidraw .ExportDialog__actions{flex-direction:column;align-items:center}.excalidraw--mobile.excalidraw .ExportDialog__actions>*{margin-bottom:calc(var(--space-factor)*3)}.excalidraw--mobile.excalidraw .ExportDialog__preview canvas{max-height:30vh}.excalidraw--mobile.excalidraw .ExportDialog__dialog,.excalidraw--mobile.excalidraw .ExportDialog__dialog .Island{height:100%;box-sizing:border-box}.excalidraw--mobile.excalidraw .ExportDialog__dialog .Island{overflow-y:auto}.excalidraw .ExportDialog--json .ExportDialog-cards{display:grid;grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));justify-items:center;row-gap:2em}@media(max-width: 460px){.excalidraw .ExportDialog--json .ExportDialog-cards{grid-template-columns:repeat(auto-fit, minmax(240px, 1fr))}.excalidraw .ExportDialog--json .ExportDialog-cards .Card-details{min-height:40px}}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin:1em auto;align-items:flex-start;flex-direction:column}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName .TextInput{width:auto}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName-label{margin:.625em 0;font-weight:bold}.excalidraw button.ExportDialog-imageExportButton{border:0;width:5rem;height:5rem;margin:0 .2em;padding:0;display:flex;align-items:center;justify-content:center;border-radius:1rem;background-color:var(--button-color);box-shadow:0 3px 5px -1px rgba(0,0,0,.28),0 6px 10px 0 rgba(0,0,0,.14);font-family:Cascadia;font-size:1.8em;color:#fff}.excalidraw button.ExportDialog-imageExportButton:hover{background-color:var(--button-color-darker)}.excalidraw button.ExportDialog-imageExportButton:active{background-color:var(--button-color-darkest);box-shadow:none}.excalidraw button.ExportDialog-imageExportButton svg{width:.9em}",""]),n.Z=d},7522:function(ue,n,r){var A=r(8081),k=r.n(A),b=r(3645),w=r.n(b)()(k());w.push([ue.id,".excalidraw .excalidraw-eye-dropper-container,.excalidraw .excalidraw-eye-dropper-backdrop{position:absolute;width:100%;height:100%;z-index:var(--zIndex-eyeDropperBackdrop);touch-action:none}.excalidraw .excalidraw-eye-dropper-container{pointer-events:none}.excalidraw .excalidraw-eye-dropper-backdrop{pointer-events:all}.excalidraw .excalidraw-eye-dropper-preview{pointer-events:none;width:3rem;height:3rem;position:fixed;z-index:var(--zIndex-eyeDropperPreview);border-radius:1rem;border:1px solid var(--default-border-color);-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .excalidraw-eye-dropper-trigger{width:1.25rem;height:1.25rem;cursor:pointer;padding:4px;margin-right:-4px;margin-left:-2px;border-radius:.5rem;color:var(--icon-fill-color)}.excalidraw .excalidraw-eye-dropper-trigger:hover{background:var(--button-hover-bg)}.excalidraw .excalidraw-eye-dropper-trigger.selected{color:var(--color-primary);background:var(--color-primary-light)}",""]),n.Z=w},8960:function(ue,n,r){var A=r(8081),k=r.n(A),b=r(3645),w=r.n(b)()(k());w.push([ue.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .ExcButton{--text-color: transparent;--border-color: transparent;--back-color: transparent;color:var(--text-color);background-color:var(--back-color);border-color:var(--border-color);display:flex;justify-content:center;align-items:center;flex-shrink:0;flex-wrap:nowrap;border-radius:.5rem;border-width:1px;border-style:solid;font-family:"Assistant";-webkit-user-select:none;user-select:none;transition:all 150ms ease-out}.excalidraw .ExcButton--color-primary.ExcButton--variant-filled{--text-color: var(--color-surface-lowest);--back-color: var(--color-primary)}.excalidraw .ExcButton--color-primary.ExcButton--variant-filled:hover{--back-color: var(--color-brand-hover)}.excalidraw .ExcButton--color-primary.ExcButton--variant-filled:active{--back-color: var(--color-brand-active)}.excalidraw .ExcButton--color-primary.ExcButton--variant-outlined,.excalidraw .ExcButton--color-primary.ExcButton--variant-icon{--text-color: var(--color-primary);--border-color: var(--color-border-outline);--back-color: transparent}.excalidraw .ExcButton--color-primary.ExcButton--variant-outlined:hover,.excalidraw .ExcButton--color-primary.ExcButton--variant-icon:hover{--text-color: var(--color-brand-hover);--border-color: var(--color-brand-hover)}.excalidraw .ExcButton--color-primary.ExcButton--variant-outlined:active,.excalidraw .ExcButton--color-primary.ExcButton--variant-icon:active{--text-color: var(--color-brand-active);--border-color: var(--color-brand-active)}.excalidraw .ExcButton--color-danger.ExcButton--variant-filled{--text-color: var(--color-danger-text);--back-color: var(--color-danger-dark)}.excalidraw .ExcButton--color-danger.ExcButton--variant-filled:hover{--back-color: var(--color-danger-darker)}.excalidraw .ExcButton--color-danger.ExcButton--variant-filled:active{--back-color: var(--color-danger-darkest)}.excalidraw .ExcButton--color-danger.ExcButton--variant-outlined,.excalidraw .ExcButton--color-danger.ExcButton--variant-icon{--text-color: var(--color-danger);--border-color: var(--color-danger);--back-color: transparent}.excalidraw .ExcButton--color-danger.ExcButton--variant-outlined:hover,.excalidraw .ExcButton--color-danger.ExcButton--variant-icon:hover{--text-color: var(--color-danger-darkest);--border-color: var(--color-danger-darkest)}.excalidraw .ExcButton--color-danger.ExcButton--variant-outlined:active,.excalidraw .ExcButton--color-danger.ExcButton--variant-icon:active{--text-color: var(--color-danger-darker);--border-color: var(--color-danger-darker)}.excalidraw .ExcButton--color-muted.ExcButton--variant-filled{--text-color: var(--island-bg-color);--back-color: var(--color-gray-50)}.excalidraw .ExcButton--color-muted.ExcButton--variant-filled:hover{--back-color: var(--color-gray-60)}.excalidraw .ExcButton--color-muted.ExcButton--variant-filled:active{--back-color: var(--color-gray-80)}.excalidraw .ExcButton--color-muted.ExcButton--variant-outlined,.excalidraw .ExcButton--color-muted.ExcButton--variant-icon{--text-color: var(--color-muted-background);--border-color: var(--color-muted);--back-color: var(--island-bg-color)}.excalidraw .ExcButton--color-muted.ExcButton--variant-outlined:hover,.excalidraw .ExcButton--color-muted.ExcButton--variant-icon:hover{--text-color: var(--color-muted-background-darker);--border-color: var(--color-muted-darker)}.excalidraw .ExcButton--color-muted.ExcButton--variant-outlined:active,.excalidraw .ExcButton--color-muted.ExcButton--variant-icon:active{--text-color: var(--color-muted-background-darker);--border-color: var(--color-muted-darkest)}.excalidraw .ExcButton--color-warning.ExcButton--variant-filled{--text-color: black;--back-color: var(--color-warning-dark)}.excalidraw .ExcButton--color-warning.ExcButton--variant-filled:hover{--back-color: var(--color-warning-darker)}.excalidraw .ExcButton--color-warning.ExcButton--variant-filled:active{--back-color: var(--color-warning-darkest)}.excalidraw .ExcButton--color-warning.ExcButton--variant-outlined,.excalidraw .ExcButton--color-warning.ExcButton--variant-icon{--text-color: var(--color-warning-dark);--border-color: var(--color-warning-dark);--back-color: var(--input-bg-color)}.excalidraw .ExcButton--color-warning.ExcButton--variant-outlined:hover,.excalidraw .ExcButton--color-warning.ExcButton--variant-icon:hover{--text-color: var(--color-warning-darker);--border-color: var(--color-warning-darker)}.excalidraw .ExcButton--color-warning.ExcButton--variant-outlined:active,.excalidraw .ExcButton--color-warning.ExcButton--variant-icon:active{--text-color: var(--color-warning-darkest);--border-color: var(--color-warning-darkest)}.excalidraw .ExcButton--size-large{font-weight:600;font-size:.875rem;min-height:3rem;padding:.5rem 1.5rem;gap:.75rem;letter-spacing:.4px}.excalidraw .ExcButton--size-medium{font-weight:600;font-size:.75rem;min-height:2.5rem;padding:.5rem 1rem;gap:.5rem;letter-spacing:normal}.excalidraw .ExcButton--variant-icon{padding:.5rem .75rem;width:3rem}.excalidraw .ExcButton--fullWidth{width:100%}.excalidraw .ExcButton__icon{width:1.25rem;height:1.25rem}',""]),n.Z=w},3195:function(ue,n,r){var A=r(8081),k=r.n(A),b=r(3645),w=r.n(b)()(k());w.push([ue.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .FixedSideContainer{position:absolute;pointer-events:none}.excalidraw .FixedSideContainer>*{pointer-events:var(--ui-pointerEvents)}.excalidraw .FixedSideContainer_side_top{left:var(--editor-container-padding);top:var(--editor-container-padding);right:var(--editor-container-padding);bottom:var(--editor-container-padding);z-index:2}.excalidraw .FixedSideContainer_side_top.zen-mode{right:42px}",""]),n.Z=w},2978:function(ue,n,r){var A=r(8081),k=r.n(A),b=r(3645),w=r.n(b)()(k());w.push([ue.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .HelpDialog .Modal__content{max-width:960px}.excalidraw .HelpDialog h3{margin:1.5rem 0;font-weight:bold;font-size:1.125rem}.excalidraw .HelpDialog__header{display:flex;flex-wrap:wrap;gap:.75rem}.excalidraw .HelpDialog__btn{--background: var(--color-surface-mid);display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;align-items:center;background-color:var(--background);padding:.625rem 1rem;border:1px solid var(--background);border-radius:var(--border-radius-lg);color:var(--text-primary-color);font-weight:600;font-size:.75rem;letter-spacing:.4px}.excalidraw.theme--dark.excalidraw .HelpDialog__btn{--background: var(--color-surface-high)}.excalidraw.theme--dark.excalidraw .HelpDialog__btn:hover{--background: #363541}.excalidraw .HelpDialog__btn:hover{--background: var(--color-surface-high);text-decoration:none}.excalidraw .HelpDialog__btn:active{border-color:var(--color-primary)}.excalidraw .HelpDialog__link-icon{line-height:0}.excalidraw .HelpDialog__link-icon svg{width:1rem;height:1rem}.excalidraw .HelpDialog__islands-container{display:grid;grid-column-gap:1.5rem;grid-row-gap:2rem}@media screen and (min-width: 1024px){.excalidraw .HelpDialog__islands-container{grid-template-columns:1fr 1fr}}@media screen and (min-width: 1024px){.excalidraw .HelpDialog__island--tools{grid-area:1/1/2/2}.excalidraw .HelpDialog__island--view{grid-area:2/1/3/2}.excalidraw .HelpDialog__island--editor{grid-area:1/2/3/3}}.excalidraw .HelpDialog__island h4{font-size:1rem;font-weight:bold;margin:0;margin-bottom:.625rem}.excalidraw .HelpDialog__island-content{border:1px solid var(--dialog-border-color);border-radius:var(--border-radius-lg)}.excalidraw .HelpDialog__shortcut{border-bottom:1px solid var(--dialog-border-color);padding:.375rem .75rem;display:flex;justify-content:space-between;align-items:center;font-size:.875rem;-webkit-column-gap:.5rem;column-gap:.5rem}.excalidraw .HelpDialog__shortcut:last-child{border-bottom:none}.excalidraw .HelpDialog__key-container{display:flex;align-items:center;-webkit-column-gap:.25rem;column-gap:.25rem;flex-shrink:0}.excalidraw .HelpDialog__key{display:flex;box-sizing:border-box;font-size:.625rem;background-color:var(--color-primary-light);border-radius:var(--border-radius-md);padding:.5rem;word-break:keep-all;align-items:center;font-family:inherit;line-height:1}",""]),n.Z=w},1587:function(ue,n,r){var A=r(8081),k=r.n(A),b=r(3645),w=r.n(b)()(k());w.push([ue.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .HintViewer{pointer-events:none;box-sizing:border-box;position:absolute;display:flex;justify-content:center;left:0;top:100%;max-width:100%;width:100%;margin-top:.5rem;text-align:center;color:var(--color-gray-40);font-size:.75rem}.excalidraw--mobile.excalidraw .HintViewer{position:static;padding-right:2rem}.excalidraw .HintViewer>span{padding:.25rem}.excalidraw.theme--dark .HintViewer{color:var(--color-gray-60)}",""]),n.Z=w},9478:function(ue,n,r){var A=r(8081),k=r.n(A),b=r(3645),w=r.n(b)()(k());w.push([ue.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .picker-container{display:inline-block;box-sizing:border-box;margin-right:.25rem}.excalidraw .picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 2px 2px 4px 2px;border-radius:4px;position:absolute}.excalidraw .picker-container button,.excalidraw .picker button{position:relative;display:flex;align-items:center;justify-content:center}.excalidraw .picker-container button:focus-visible,.excalidraw .picker button:focus-visible{outline:rgba(0,0,0,0);background-color:var(--button-gray-2)}.excalidraw .picker-container button:focus-visible svg,.excalidraw .picker button:focus-visible svg{opacity:1}.excalidraw .picker-container button:hover,.excalidraw .picker button:hover{background-color:var(--button-gray-2)}.excalidraw .picker-container button:active,.excalidraw .picker button:active{background-color:var(--button-gray-3)}.excalidraw .picker-container button:disabled,.excalidraw .picker button:disabled{cursor:not-allowed}.excalidraw .picker-container button svg,.excalidraw .picker button svg{margin:0;width:36px;height:18px;pointer-events:none}.excalidraw .picker button{padding:.25rem .28rem .35rem .25rem}.excalidraw .picker-triangle{width:0;height:0;position:relative;top:-10px;z-index:10}:root[dir=ltr] .excalidraw .picker-triangle{left:12px}:root[dir=rtl] .excalidraw .picker-triangle{right:12px}.excalidraw .picker-triangle:before{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,.1);top:-1px}.excalidraw .picker-triangle:after{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) var(--popup-bg-color)}.excalidraw .picker-content{padding:.5rem;display:grid;grid-template-columns:repeat(3, auto);grid-gap:.5rem;border-radius:4px}:root[dir=rtl] .excalidraw .picker-content{padding:.4rem}.excalidraw .picker-keybinding{position:absolute;bottom:2px;font-size:.7em;color:var(--keybinding-color)}:root[dir=ltr] .excalidraw .picker-keybinding{right:2px}:root[dir=rtl] .excalidraw .picker-keybinding{left:2px}.excalidraw--mobile.excalidraw .picker-keybinding{display:none}.excalidraw .picker-type-canvasBackground .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementBackground .picker-keybinding{color:#fff}.excalidraw .picker-swatch[aria-label=transparent] .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementStroke .picker-keybinding{color:#d4d4d4}.excalidraw.theme--dark .picker-type-elementBackground .picker-keybinding{color:#000}.excalidraw.theme--dark .picker-swatch[aria-label=transparent] .picker-keybinding{color:#000}',""]),n.Z=w},9706:function(ue,n,r){var A=r(8081),k=r.n(A),b=r(3645),w=r.n(b),N=r(1667),M=r.n(N),f=new URL(r(9669),r.b),d=w()(k()),j=M()(f);d.push([ue.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw{--ImageExportModal-preview-border: #d6d6d6}.excalidraw.theme--dark{--ImageExportModal-preview-border: #5c5c5c}.excalidraw .ImageExportModal{display:flex;flex-direction:row;justify-content:space-between}.excalidraw .ImageExportModal h3{font-family:"Assistant";font-style:normal;font-weight:700;font-size:1.313rem;line-height:130%;padding:0;margin:0}.excalidraw--mobile.excalidraw .ImageExportModal h3{display:none}.excalidraw .ImageExportModal>h3{display:none}.excalidraw--mobile.excalidraw .ImageExportModal>h3{display:block}.excalidraw--mobile.excalidraw .ImageExportModal{flex-direction:column;height:calc(100vh - 5rem)}.excalidraw .ImageExportModal__preview{box-sizing:border-box;display:flex;flex-direction:column;align-items:center;height:360px;width:55%;margin-right:1.5rem}.excalidraw--mobile.excalidraw .ImageExportModal__preview{max-width:unset;margin-right:unset;width:100%;height:unset;flex-grow:1}.excalidraw .ImageExportModal__preview__filename>input{margin-top:1rem}.excalidraw .ImageExportModal__preview__canvas{box-sizing:border-box;width:100%;height:100%;display:flex;flex-grow:1;justify-content:center;align-items:center;background:url('+j+') left center;border:1px solid var(--ImageExportModal-preview-border);border-radius:12px;overflow:hidden;padding:1rem}.excalidraw .ImageExportModal__preview__canvas>canvas{max-width:calc(100% - 2rem);max-height:calc(100% - 2rem);-webkit-filter:none !important;filter:none !important}.excalidraw--mobile.excalidraw .ImageExportModal__preview__canvas>canvas{max-height:100%}.excalidraw--mobile.excalidraw .ImageExportModal__preview__canvas{margin-top:24px;max-width:unset}.excalidraw .ImageExportModal__settings{display:flex;flex-direction:column;flex-wrap:wrap;gap:18px}.excalidraw--mobile.excalidraw .ImageExportModal__settings{margin-left:unset;margin-top:1rem;flex-direction:row;gap:6px 34px;align-content:flex-start}.excalidraw .ImageExportModal__settings__setting{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.excalidraw--mobile.excalidraw .ImageExportModal__settings__setting{flex-direction:column;align-items:start;justify-content:unset;height:52px}.excalidraw .ImageExportModal__settings__setting__label{display:flex;flex-direction:row;align-items:center;font-family:"Assistant";font-weight:600;font-size:1rem;line-height:150%}.excalidraw .ImageExportModal__settings__setting__label svg{width:20px;height:20px;margin-left:10px}.excalidraw .ImageExportModal__settings__setting__content{display:flex;height:100%;align-items:center}.excalidraw .ImageExportModal__settings__buttons{flex-grow:1;flex-wrap:wrap;display:flex;flex-direction:row;gap:11px;align-items:flex-end;align-content:flex-end}.excalidraw--mobile.excalidraw .ImageExportModal__settings__buttons{padding-top:32px;flex-basis:100%;justify-content:center}',""]),n.Z=d},7369:function(ue,n,r){var A=r(8081),k=r.n(A),b=r(3645),w=r.n(b)()(k());w.push([ue.id,".excalidraw .Island{--padding: 0;box-sizing:border-box;background-color:var(--island-bg-color);box-shadow:var(--shadow-island);border-radius:var(--border-radius-lg);padding:calc(var(--padding)*var(--space-factor));position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .Island.zen-mode{box-shadow:none}",""]),n.Z=w},7930:function(ue,n,r){var A=r(8081),k=r.n(A),b=r(3645),w=r.n(b)()(k());w.push([ue.id,".excalidraw .LaserToolOverlay{pointer-events:none;width:100vw;height:100vh;position:fixed;top:0;left:0;z-index:2}.excalidraw .LaserToolOverlay .LaserToolOverlayCanvas{image-rendering:auto;overflow:visible;position:absolute;top:0;left:0}",""]),n.Z=w},1434:function(ue,n,r){var A=r(8081),k=r.n(A),b=r(3645),w=r.n(b)()(k());w.push([ue.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .layer-ui__wrapper.animate{transition:width .1s ease-in-out}.excalidraw .layer-ui__wrapper{position:absolute;width:100%;height:100%;pointer-events:none;z-index:var(--zIndex-layerUI)}.excalidraw .layer-ui__wrapper__top-right{display:flex;gap:.75rem}.excalidraw .layer-ui__wrapper__footer{width:100%}.excalidraw .layer-ui__wrapper__footer-right{z-index:100;display:flex}.excalidraw .layer-ui__wrapper .zen-mode-transition{transition:-webkit-transform .5s ease-in-out;transition:transform .5s ease-in-out;transition:transform .5s ease-in-out, -webkit-transform .5s ease-in-out}:root[dir=ltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{-webkit-transform:translate(-999px, 0);transform:translate(-999px, 0)}:root[dir=ltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{-webkit-transform:translate(999px, 0);transform:translate(999px, 0)}:root[dir=rtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{-webkit-transform:translate(999px, 0);transform:translate(999px, 0)}:root[dir=rtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{-webkit-transform:translate(-999px, 0);transform:translate(-999px, 0)}.excalidraw .layer-ui__wrapper .zen-mode-transition.layer-ui__wrapper__footer-left--transition-bottom{-webkit-transform:translate(0, 92px);transform:translate(0, 92px)}.excalidraw .layer-ui__wrapper .disable-zen-mode{padding:10px;position:absolute;bottom:0;opacity:0;visibility:hidden;transition:visibility 0s linear 0s,opacity .5s;font-family:var(--ui-font);font-size:.75rem;font-weight:500;line-height:1;border-radius:var(--border-radius-lg);border:1px solid var(--default-border-color);background-color:var(--island-bg-color);color:var(--text-primary-color)}[dir=ltr] .excalidraw .layer-ui__wrapper .disable-zen-mode{right:1rem}[dir=rtl] .excalidraw .layer-ui__wrapper .disable-zen-mode{left:1rem}.excalidraw .layer-ui__wrapper .disable-zen-mode:hover{background-color:var(--button-hover-bg)}.excalidraw .layer-ui__wrapper .disable-zen-mode:active{border-color:var(--color-primary)}.excalidraw .layer-ui__wrapper .disable-zen-mode--visible{opacity:1;visibility:visible;transition:visibility 0s linear 300ms,opacity .5s;transition-delay:.8s;pointer-events:var(--ui-pointerEvents)}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-left>*,.excalidraw .layer-ui__wrapper .footer-center>*,.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-right>*{pointer-events:var(--ui-pointerEvents)}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-right{margin-top:auto;margin-bottom:auto}",""]),n.Z=w},8923:function(ue,n,r){var A=r(8081),k=r.n(A),b=r(3645),w=r.n(b)()(k());w.push([ue.id,'.excalidraw .layer-ui__library{display:flex;flex-direction:column;flex:1 1 auto}.excalidraw .library-actions-counter{background-color:var(--color-primary);color:var(--color-primary-light);font-weight:bold;display:flex;align-items:center;justify-content:center;border-radius:50%;width:1rem;height:1rem;position:absolute;bottom:-0.25rem;right:-0.25rem;font-size:.625rem;pointer-events:none}.excalidraw .layer-ui__library-message{padding:2rem;min-width:200px;display:flex;flex-direction:column;align-items:center;flex-grow:1;justify-content:center}.excalidraw .layer-ui__library-message span{font-size:.8em}.excalidraw .publish-library-success .Dialog__content{display:flex;flex-direction:column}.excalidraw .publish-library-success-close.ToolIcon_type_button{background-color:#228be6;align-self:flex-end}.excalidraw .publish-library-success-close.ToolIcon_type_button:hover{background-color:#1971c2}.excalidraw .publish-library-success-close.ToolIcon_type_button .ToolIcon__icon{width:auto;font-size:1rem;color:#fff;padding:0 .5rem}.excalidraw .library-menu-control-buttons{display:flex;align-items:center;justify-content:center;gap:.625rem;position:relative}.excalidraw .library-menu-control-buttons--at-bottom::before{content:"";width:calc(100% - 1.5rem);height:1px;position:absolute;top:-1px;background:var(--sidebar-border-color)}.excalidraw .library-menu-browse-button{flex:1;height:var(--lg-button-size);display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative;border-radius:var(--border-radius-lg);background-color:var(--color-primary);color:#fff;text-align:center;white-space:nowrap;text-decoration:none !important;font-weight:600;font-size:.75rem}.excalidraw .library-menu-browse-button:hover{background-color:var(--color-brand-hover)}.excalidraw .library-menu-browse-button:active{background-color:var(--color-brand-active)}.excalidraw.theme--dark .library-menu-browse-button{color:var(--color-gray-100)}.excalidraw.excalidraw--mobile .library-menu-browse-button{height:var(--default-button-size)}.excalidraw .layer-ui__library .dropdown-menu{width:auto;top:initial;right:0;left:initial;bottom:100%;margin-bottom:.625rem}.excalidraw .layer-ui__library .dropdown-menu .dropdown-menu-container{width:196px;box-shadow:var(--library-dropdown-shadow);border-radius:var(--border-radius-lg);padding:.25rem .5rem}.excalidraw .layer-ui__library .library-menu-dropdown-container{position:relative}.excalidraw .layer-ui__library .library-menu-dropdown-container--in-heading{padding:0;position:absolute;top:1rem;right:.75rem;z-index:1}.excalidraw .layer-ui__library .library-menu-dropdown-container--in-heading .dropdown-menu{top:100%}',""]),n.Z=w},6440:function(ue,n,r){var A=r(8081),k=r.n(A),b=r(3645),w=r.n(b)()(k());w.push([ue.id,".excalidraw{--container-padding-y: 1.5rem;--container-padding-x: 0.75rem}.excalidraw .library-menu-items__no-items{text-align:center;color:var(--color-gray-70);line-height:1.5;font-size:.875rem;width:100%}.excalidraw .library-menu-items__no-items__label{color:var(--color-primary);font-weight:bold;font-size:1.125rem;margin-bottom:.75rem}.excalidraw.theme--dark .library-menu-items__no-items{color:var(--color-gray-40)}.excalidraw .library-menu-items-container{width:100%;display:flex;flex-grow:1;flex-shrink:1;flex-basis:0;overflow-y:auto;flex-direction:column;height:100%;justify-content:center;margin:0;position:relative}.excalidraw .library-menu-items-container>div{padding-left:.75rem;padding-right:.75rem}.excalidraw .library-menu-items-container__row{display:grid;grid-template-columns:repeat(4, 1fr);gap:1rem}.excalidraw .library-menu-items-container__items{row-gap:.5rem;padding:var(--container-padding-y) 0;flex:1;overflow-y:auto;overflow-x:hidden;margin-bottom:1rem}.excalidraw .library-menu-items-container__header{color:var(--color-primary);font-size:1.125rem;font-weight:bold;margin-bottom:.75rem;width:100%;padding-right:4rem;box-sizing:border-box}.excalidraw .library-menu-items-container__header--excal{margin-top:2rem}.excalidraw .library-menu-items-container__grid{display:grid;grid-template-columns:1fr 1fr 1fr 1fr;grid-gap:1rem}.excalidraw .library-menu-items-container .separator{width:100%;display:flex;align-items:center;font-weight:500;font-size:.9rem;margin:.6em .2em;color:var(--text-primary-color)}.excalidraw .library-menu-items-private-library-container{min-height:3.75rem;width:100%}",""]),n.Z=w},5644:function(ue,n,r){var A=r(8081),k=r.n(A),b=r(3645),w=r.n(b)()(k());w.push([ue.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .library-unit{align-items:center;border:1px solid rgba(0,0,0,0);display:flex;justify-content:center;position:relative;width:55px;height:55px;box-sizing:border-box;border-radius:var(--border-radius-lg)}.excalidraw .library-unit svg{pointer-events:none}.excalidraw .library-unit--hover{border-color:var(--color-primary)}.excalidraw .library-unit--selected{border-color:var(--color-primary);border-width:1px}.excalidraw .library-unit--skeleton{opacity:.5;background:linear-gradient(-45deg, var(--color-gray-10), var(--color-gray-20), var(--color-gray-10));background-size:200% 200%;-webkit-animation:library-unit__skeleton-opacity-animation .2s linear;animation:library-unit__skeleton-opacity-animation .2s linear}.excalidraw.theme--dark .library-unit--skeleton{background-image:linear-gradient(-45deg, var(--color-gray-100), var(--color-gray-80), var(--color-gray-100))}.excalidraw .library-unit__dragger{display:flex;align-items:center;justify-content:center;height:100%;width:100%}.excalidraw .library-unit__dragger>svg{-webkit-filter:var(--theme-filter);filter:var(--theme-filter);flex-grow:1;max-height:100%;max-width:100%}.excalidraw .library-unit__checkbox-container,.excalidraw .library-unit__checkbox-container:hover,.excalidraw .library-unit__checkbox-container:active{align-items:center;background:none;border:none;color:var(--icon-fill-color);display:flex;justify-content:center;margin:0;padding:.5rem;position:absolute;left:2rem;bottom:2rem;cursor:pointer}.excalidraw .library-unit__checkbox-container input,.excalidraw .library-unit__checkbox-container:hover input,.excalidraw .library-unit__checkbox-container:active input{cursor:pointer}.excalidraw .library-unit__checkbox{position:absolute;top:.125rem;right:.125rem;margin:0}.excalidraw .library-unit__checkbox .Checkbox-box{margin:0;width:1rem;height:1rem;border-radius:4px;background-color:var(--color-primary-light);border:1px solid var(--color-primary);box-shadow:none !important;padding:2px}.excalidraw .library-unit__checkbox.Checkbox:hover .Checkbox-box{background-color:var(--color-primary-light)}.excalidraw .library-unit__checkbox.is-checked .Checkbox-box{background-color:var(--color-primary) !important}.excalidraw .library-unit__checkbox.is-checked .Checkbox-box svg{color:var(--color-primary-light)}.excalidraw .library-unit__removeFromLibrary>svg{height:16px;width:16px}.excalidraw .library-unit__adder{-webkit-transform:scale(1);transform:scale(1);-webkit-animation:library-unit__adder-animation 1s ease-in infinite;animation:library-unit__adder-animation 1s ease-in infinite;position:absolute;width:1.5rem;height:1.5rem;background-color:var(--color-primary);border-radius:var(--border-radius-md);display:flex;justify-content:center;align-items:center;pointer-events:none}.excalidraw .library-unit__adder svg{color:var(--color-primary-light);width:1rem;height:1rem}.excalidraw .library-unit:active .library-unit__adder{-webkit-animation:none;animation:none;-webkit-transform:scale(0.8);transform:scale(0.8)}.excalidraw .library-unit__active{cursor:pointer}@-webkit-keyframes library-unit__adder-animation{0%{-webkit-transform:scale(0.85);transform:scale(0.85)}50%{-webkit-transform:scale(1);transform:scale(1)}100%{-webkit-transform:scale(0.85);transform:scale(0.85)}}@keyframes library-unit__adder-animation{0%{-webkit-transform:scale(0.85);transform:scale(0.85)}50%{-webkit-transform:scale(1);transform:scale(1)}100%{-webkit-transform:scale(0.85);transform:scale(0.85)}}@-webkit-keyframes library-unit__skeleton-opacity-animation{0%{opacity:0}75%{opacity:0}100%{opacity:.5}}@keyframes library-unit__skeleton-opacity-animation{0%{opacity:0}75%{opacity:0}100%{opacity:.5}}",""]),n.Z=w},5830:function(ue,n,r){var A=r(8081),k=r.n(A),b=r(3645),w=r.n(b),N=r(1667),M=r.n(N),f=new URL(r(9669),r.b),d=w()(k()),j=M()(f);d.push([ue.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .dialog-mermaid-title{margin-bottom:5px;margin-top:2px}.excalidraw .dialog-mermaid-desc{font-size:15px;font-style:italic;font-weight:500}.excalidraw .dialog-mermaid .Modal__content .Island{box-shadow:none}.excalidraw:not(.excalidraw--mobile).excalidraw .dialog-mermaid{padding:1.25rem}.excalidraw:not(.excalidraw--mobile).excalidraw .dialog-mermaid .Modal__content{height:100%;max-height:750px}@media screen and (max-width: 860px){.excalidraw:not(.excalidraw--mobile).excalidraw .dialog-mermaid .Modal__content{height:auto;max-height:100%}}.excalidraw:not(.excalidraw--mobile).excalidraw .dialog-mermaid .Modal__content .Island{height:100%;display:flex;flex-direction:column;flex:1 1 auto}.excalidraw:not(.excalidraw--mobile).excalidraw .dialog-mermaid .Modal__content .Island .Dialog__content{display:flex;flex:1 1 auto}.excalidraw .dialog-mermaid-body{width:100%;display:grid;grid-template-columns:1fr 1fr;grid-template-rows:1fr auto;height:100%;-webkit-column-gap:4rem;column-gap:4rem}@media screen and (max-width: 860px){.excalidraw .dialog-mermaid-body{flex-direction:column;display:flex;gap:1rem}}.excalidraw .dialog-mermaid-panels{display:grid;width:100%;grid-template-columns:1fr 1fr;justify-content:space-between;gap:4rem;grid-row:1;grid-column:1/3}@media screen and (max-width: 860px){.excalidraw .dialog-mermaid-panels{flex-direction:column;display:flex;gap:1rem}}.excalidraw .dialog-mermaid-panels label{font-size:14px;font-style:normal;font-weight:600;margin-bottom:4px;margin-left:4px}@media screen and (max-width: 860px){.excalidraw .dialog-mermaid-panels label{margin-top:4px}}.excalidraw .dialog-mermaid-panels-text{display:flex;flex-direction:column}.excalidraw .dialog-mermaid-panels-text textarea{width:20rem;height:100%;resize:none;border-radius:var(--border-radius-lg);border:1px solid var(--dialog-border-color);white-space:pre-wrap;padding:.85rem;box-sizing:border-box;width:100%;font-family:monospace}@media screen and (max-width: 860px){.excalidraw .dialog-mermaid-panels-text textarea{width:auto;height:10rem}}.excalidraw .dialog-mermaid-panels-preview-wrapper{display:flex;align-items:center;justify-content:center;padding:.85rem;box-sizing:border-box;width:100%;height:200px;flex-grow:1;position:relative;background:url("+j+') left center;border-radius:var(--border-radius-lg);border:1px solid var(--dialog-border-color)}@media screen and (max-width: 860px){.excalidraw .dialog-mermaid-panels-preview-wrapper{height:400px;width:auto}}.excalidraw .dialog-mermaid-panels-preview-wrapper canvas{max-width:100%;max-height:100%}.excalidraw .dialog-mermaid-panels-preview-canvas-container{display:flex;width:100%;height:100%;align-items:center;justify-content:center;flex-grow:1}.excalidraw .dialog-mermaid-panels-preview{display:flex;flex-direction:column}.excalidraw .dialog-mermaid-panels .mermaid-error{color:red;font-weight:800;font-size:30px;word-break:break-word;overflow:auto;max-height:100%;height:100%;width:100%;text-align:center;position:absolute;z-index:10}.excalidraw .dialog-mermaid-panels .mermaid-error p{font-weight:500;font-family:Cascadia;text-align:left;white-space:pre-wrap;font-size:.875rem;padding:0 10px}.excalidraw .dialog-mermaid-buttons{grid-column:2}.excalidraw .dialog-mermaid-buttons .dialog-mermaid-insert.excalidraw-button{font-family:"Assistant";font-weight:600;height:2.5rem;margin-top:1em;margin-bottom:.3em;width:7.5rem;font-size:12px;color:#fff;background-color:var(--color-primary)}.excalidraw .dialog-mermaid-buttons .dialog-mermaid-insert.excalidraw-button:hover{background-color:var(--color-primary-darker)}.excalidraw .dialog-mermaid-buttons .dialog-mermaid-insert.excalidraw-button:active{background-color:var(--color-primary-darkest)}@media screen and (max-width: 860px){.excalidraw .dialog-mermaid-buttons .dialog-mermaid-insert.excalidraw-button{width:100%}}.excalidraw.theme--dark.excalidraw .dialog-mermaid-buttons .dialog-mermaid-insert.excalidraw-button{color:var(--color-gray-100)}.excalidraw .dialog-mermaid-buttons .dialog-mermaid-insert span{padding-left:.5rem;display:flex}',""]),n.Z=d},6843:function(ue,n,r){var A=r(8081),k=r.n(A),b=r(3645),w=r.n(b)()(k());w.push([ue.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw.excalidraw-modal-container{position:absolute;z-index:var(--zIndex-modal)}.excalidraw .Modal{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;overflow:auto;padding:calc(var(--space-factor)*10)}.excalidraw .Modal .Island{padding:2.5rem !important}.excalidraw .Modal__background{position:fixed;top:0;left:0;right:0;bottom:0;z-index:1;background-color:rgba(18,18,18,.2);-webkit-animation:Modal__background__fade-in .125s linear forwards;animation:Modal__background__fade-in .125s linear forwards}.excalidraw .Modal__content{position:relative;z-index:2;width:100%;max-width:var(--max-width);max-height:100%;opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px);-webkit-animation:Modal__content_fade-in .1s ease-out .05s forwards;animation:Modal__content_fade-in .1s ease-out .05s forwards;position:relative;overflow-y:auto;background:var(--island-bg-color);border:1px solid var(--dialog-border-color);box-shadow:var(--modal-shadow);border-radius:6px;box-sizing:border-box}.excalidraw .Modal__content:focus{outline:none}@-webkit-keyframes Modal__background__fade-in{from{opacity:0}to{opacity:1}}@keyframes Modal__background__fade-in{from{opacity:0}to{opacity:1}}@-webkit-keyframes Modal__content_fade-in{from{opacity:0;-webkit-transform:scale(0.9);transform:scale(0.9)}to{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@keyframes Modal__content_fade-in{from{opacity:0;-webkit-transform:scale(0.9);transform:scale(0.9)}to{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}.excalidraw .Modal__close{color:var(--icon-fill-color);margin:0;padding:.375rem;position:absolute;top:1rem;right:1rem;border:0;background-color:rgba(0,0,0,0);line-height:0;cursor:pointer}.excalidraw .Modal__close svg{width:1.5rem;height:1.5rem}.excalidraw .Dialog--fullscreen .Modal{padding:0}.excalidraw .Dialog--fullscreen .Modal__content{position:absolute;top:0;left:0;right:0;bottom:0;max-width:100%;border:0;border-radius:0}",""]),n.Z=w},9439:function(ue,n,r){var A=r(8081),k=r.n(A),b=r(3645),w=r.n(b)()(k());w.push([ue.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .OverwriteConfirm{display:flex;flex-direction:column;align-items:center;gap:.75rem;isolation:isolate}.excalidraw .OverwriteConfirm h3{margin:0;font-weight:700;font-size:1.3125rem;line-height:130%;align-self:flex-start;color:var(--text-primary-color)}.excalidraw .OverwriteConfirm__Description{box-sizing:border-box;display:flex;flex-direction:row;align-items:center;width:100%;gap:1rem;padding:2.5rem;background:var(--color-danger-background);border-radius:.5rem;font-family:"Assistant";font-style:normal;font-weight:400;font-size:1rem;line-height:150%;color:var(--color-danger-color)}.excalidraw--mobile.excalidraw .OverwriteConfirm__Description{flex-direction:column;text-align:center}.excalidraw .OverwriteConfirm__Description__spacer{flex-grow:1}.excalidraw .OverwriteConfirm__Description__icon{box-sizing:border-box;display:flex;align-items:center;justify-content:center;border-radius:2.5rem;background:var(--color-danger-icon-background);width:3.5rem;height:3.5rem;padding:.75rem}.excalidraw .OverwriteConfirm__Description__icon svg{color:var(--color-danger-icon-color);width:1.5rem;height:1.5rem}.excalidraw .OverwriteConfirm__Description.OverwriteConfirm__Description--color-warning{background:var(--color-warning-background);color:var(--color-warning-color)}.excalidraw .OverwriteConfirm__Description.OverwriteConfirm__Description--color-warning .OverwriteConfirm__Description__icon{background:var(--color-warning-icon-background);flex:0 0 auto}.excalidraw .OverwriteConfirm__Description.OverwriteConfirm__Description--color-warning .OverwriteConfirm__Description__icon svg{color:var(--color-warning-icon-color)}.excalidraw .OverwriteConfirm__Actions{display:flex;flex-direction:row;align-items:stretch;justify-items:stretch;justify-content:center;gap:1.5rem}.excalidraw--mobile.excalidraw .OverwriteConfirm__Actions{flex-direction:column}.excalidraw .OverwriteConfirm__Actions__Action{display:flex;flex-direction:column;align-items:center;padding:1.5rem;gap:.75rem;flex-basis:50%;flex-grow:0}.excalidraw .OverwriteConfirm__Actions__Action__content{height:100%;font-size:.875rem;text-align:center}.excalidraw .OverwriteConfirm__Actions__Action h4{font-weight:700;font-size:1.125rem;line-height:130%;margin:0;color:var(--text-primary-color)}',""]),n.Z=w},8461:function(ue,n,r){var A=r(8081),k=r.n(A),b=r(3645),w=r.n(b)()(k());w.push([ue.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw--mobile.excalidraw .PasteChartDialog .Island{display:flex;flex-direction:column}.excalidraw .PasteChartDialog .container{display:flex;align-items:center;justify-content:space-around;flex-wrap:wrap}.excalidraw--mobile.excalidraw .PasteChartDialog .container{flex-direction:column;justify-content:center}.excalidraw .PasteChartDialog .ChartPreview{margin:8px;text-align:center;width:192px;height:128px;border-radius:2px;padding:1px;border:1px solid #ced4da;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0)}.excalidraw .PasteChartDialog .ChartPreview div{display:inline-block}.excalidraw .PasteChartDialog .ChartPreview svg{max-height:120px;max-width:186px}.excalidraw .PasteChartDialog .ChartPreview:hover{padding:0;border:2px solid #339af0}",""]),n.Z=w},9935:function(ue,n,r){var A=r(8081),k=r.n(A),b=r(3645),w=r.n(b)()(k());w.push([ue.id,".excalidraw .popover{position:absolute;z-index:10;padding:5px 0 5px;outline:none}",""]),n.Z=w},532:function(ue,n,r){var A=r(8081),k=r.n(A),b=r(3645),w=r.n(b)()(k());w.push([ue.id,".ProjectName{margin:auto;display:flex;align-items:center}.ProjectName .TextInput{height:calc(1rem - 3px);width:200px;overflow:hidden;text-align:center;margin-left:8px;text-overflow:ellipsis}.ProjectName .TextInput--readonly{background:none;border:none;width:auto;max-width:200px;padding-left:2px}.ProjectName .TextInput--readonly:hover{background:none}",""]),n.Z=w},7589:function(ue,n,r){var A=r(8081),k=r.n(A),b=r(3645),w=r.n(b)()(k());w.push([ue.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .publish-library__fields{display:flex;flex-direction:column}.excalidraw .publish-library__fields label{padding:1em 0;display:flex;justify-content:space-between;align-items:center}.excalidraw .publish-library__fields label span{font-weight:500;font-size:1rem;color:#868e96}.excalidraw .publish-library__fields label input,.excalidraw .publish-library__fields label textarea{width:70%;padding:.6em;font-family:var(--ui-font)}.excalidraw .publish-library__fields label .required{color:#e03131;margin:.2rem}.excalidraw .publish-library__buttons{display:flex;padding:.2rem 0;justify-content:flex-end;gap:.5rem}.excalidraw .publish-library__buttons .ToolIcon__icon{min-width:2.5rem;width:auto;font-size:1rem}.excalidraw .publish-library__buttons .ToolIcon_type_button{margin-left:1rem;padding:0 .5rem}.excalidraw .publish-library__buttons--confirm.ToolIcon_type_button{background-color:#228be6}.excalidraw .publish-library__buttons--confirm.ToolIcon_type_button:hover{background-color:#1971c2}.excalidraw .publish-library__buttons--cancel.ToolIcon_type_button{background-color:#adb5bd}.excalidraw .publish-library__buttons--cancel.ToolIcon_type_button:hover{background-color:#868e96}.excalidraw .publish-library__buttons .ToolIcon__icon{color:#fff}.excalidraw .publish-library__buttons .ToolIcon__icon .Spinner{--spinner-color: #fff}.excalidraw .publish-library__buttons .ToolIcon__icon .Spinner svg{padding:.5rem}.excalidraw .publish-library .selected-library-items{display:flex;flex-wrap:wrap}.excalidraw .publish-library .selected-library-items .single-library-item-wrapper{width:9rem}.excalidraw .publish-library-warning{color:#fa5252}.excalidraw .publish-library-note{padding:1em 0;font-style:italic;font-size:14px;display:block}.excalidraw .single-library-item{position:relative}.excalidraw .single-library-item-status{position:absolute;top:.3rem;left:.3rem;font-size:.7rem;color:#f03e3e;background:rgba(255,255,255,.9);padding:.1rem .2rem;border-radius:.2rem}.excalidraw .single-library-item__svg{background-color:#fff;padding:.3rem;width:7.5rem;height:7.5rem;border:1px solid var(--button-gray-2)}.excalidraw .single-library-item__svg svg{width:100%;height:100%}.excalidraw .single-library-item .ToolIcon__icon{background-color:#fff;width:auto;height:auto;margin:0 .5rem}.excalidraw .single-library-item .ToolIcon,.excalidraw .single-library-item .ToolIcon_type_button:hover{background-color:#fff}.excalidraw .single-library-item .required,.excalidraw .single-library-item .error{color:#e03131;font-weight:bold;font-size:1rem;margin:.2rem}.excalidraw .single-library-item .error{font-weight:500;margin:0;padding:.3em 0}.excalidraw .single-library-item--remove{position:absolute;top:.2rem;right:1rem}.excalidraw .single-library-item--remove .ToolIcon__icon{margin:0}.excalidraw .single-library-item--remove .ToolIcon__icon{background-color:#fa5252}.excalidraw .single-library-item--remove .ToolIcon__icon:hover{background-color:#f03e3e}.excalidraw .single-library-item--remove .ToolIcon__icon:active{background-color:#e03131}.excalidraw .single-library-item--remove svg{color:#fff;padding:.26rem;border-radius:.3em;width:1rem;height:1rem}",""]),n.Z=w},6217:function(ue,n,r){var A=r(8081),k=r.n(A),b=r(3645),w=r.n(b)()(k());w.push([ue.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw{--RadioGroup-background: var(--island-bg-color);--RadioGroup-border: var(--color-surface-high);--RadioGroup-choice-color-off: var(--color-primary);--RadioGroup-choice-color-off-hover: var(--color-brand-hover);--RadioGroup-choice-background-off: var(--island-bg-color);--RadioGroup-choice-background-off-active: var(--color-surface-high);--RadioGroup-choice-color-on: var(--color-surface-lowest);--RadioGroup-choice-background-on: var(--color-primary);--RadioGroup-choice-background-on-hover: var(--color-brand-hover);--RadioGroup-choice-background-on-active: var(--color-brand-active)}.excalidraw .RadioGroup{box-sizing:border-box;display:flex;flex-direction:row;align-items:flex-start;padding:3px;border-radius:10px;background:var(--RadioGroup-background);border:1px solid var(--RadioGroup-border)}.excalidraw .RadioGroup__choice{position:relative;display:flex;align-items:center;justify-content:center;width:32px;height:24px;color:var(--RadioGroup-choice-color-off);background:var(--RadioGroup-choice-background-off);border-radius:8px;font-family:"Assistant";font-style:normal;font-weight:600;font-size:.75rem;line-height:100%;-webkit-user-select:none;user-select:none;letter-spacing:.4px;transition:all 75ms ease-out}.excalidraw .RadioGroup__choice:hover{color:var(--RadioGroup-choice-color-off-hover)}.excalidraw .RadioGroup__choice:active{background:var(--RadioGroup-choice-background-off-active)}.excalidraw .RadioGroup__choice.active{color:var(--RadioGroup-choice-color-on);background:var(--RadioGroup-choice-background-on)}.excalidraw .RadioGroup__choice.active:hover{background:var(--RadioGroup-choice-background-on-hover)}.excalidraw .RadioGroup__choice.active:active{background:var(--RadioGroup-choice-background-on-active)}.excalidraw .RadioGroup__choice input{z-index:1;position:absolute;width:100%;height:100%;margin:0;padding:0;border-radius:8px;-webkit-appearance:none;appearance:none;cursor:pointer}',""]),n.Z=w},8208:function(ue,n,r){var A=r(8081),k=r.n(A),b=r(3645),w=r.n(b)()(k());w.push([ue.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .sidebar{display:flex;flex-direction:column;position:absolute;top:0;bottom:0;right:0;z-index:5;margin:0;padding:0;box-sizing:border-box;background-color:var(--sidebar-bg-color);box-shadow:var(--sidebar-shadow);pointer-events:var(--ui-pointerEvents);overflow:hidden;border-radius:0;width:calc(302px - var(--space-factor) * 2);border-left:1px solid var(--sidebar-border-color)}:root[dir=rtl] .excalidraw .sidebar{left:0;right:auto}.excalidraw .sidebar--docked{box-shadow:none}:root[dir=rtl] .excalidraw .sidebar{border-right:1px solid var(--sidebar-border-color);border-left:0}.excalidraw .sidebar__header{box-sizing:border-box;display:flex;justify-content:space-between;align-items:center;width:100%;padding:1rem .75rem;position:relative}.excalidraw .sidebar__header::after{content:"";width:calc(100% - 1.5rem);height:1px;background:var(--sidebar-border-color);position:absolute;bottom:-1px}.excalidraw .sidebar__header__buttons{gap:0;display:flex;align-items:center;margin-left:auto}.excalidraw .sidebar__header__buttons button{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--color-on-surface));--button-bg: transparent;border:0 !important;width:var(--lg-button-size);height:var(--lg-button-size);padding:0}.excalidraw .sidebar__header__buttons button svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .sidebar__header__buttons button:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--button-border, var(--default-border-color)));color:var(--button-hover-color, var(--button-color, var(--text-primary-color, inherit)))}.excalidraw .sidebar__header__buttons button:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .sidebar__header__buttons button.active{background-color:var(--button-selected-bg, var(--color-surface-primary-container));border-color:var(--button-selected-border, var(--color-surface-primary-container))}.excalidraw .sidebar__header__buttons button.active:hover{background-color:var(--button-selected-hover-bg, var(--color-surface-primary-container))}.excalidraw .sidebar__header__buttons button.active svg{color:var(--button-color, var(--color-on-primary-container))}.excalidraw .sidebar__header__buttons button svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .sidebar__header__buttons button:hover{background:var(--button-hover-bg, var(--island-bg-color))}.excalidraw .sidebar__header__buttons .sidebar__dock.selected svg{stroke:var(--color-primary);fill:var(--color-primary)}.excalidraw .sidebar-tabs-root{display:flex;flex-direction:column;flex:1 1 auto;padding:1rem 0}.excalidraw .sidebar-tabs-root [role=tabpanel]{flex:1;outline:none;flex:1 1 auto;display:flex;flex-direction:column;outline:none}.excalidraw .sidebar-tabs-root [role=tabpanel][data-state=inactive]{display:none !important}.excalidraw .sidebar-tabs-root [role=tablist]{display:grid;gap:1rem;grid-template-columns:repeat(auto-fit, minmax(0, 1fr))}.excalidraw .sidebar-tabs-root>.sidebar__header{padding-top:0;padding-bottom:1rem}.excalidraw .sidebar-tab-trigger{--button-width: auto;--button-bg: transparent;--button-hover-bg: transparent;--button-active-bg: var(--color-primary);--button-hover-color: var(--color-primary);--button-hover-border: var(--color-primary)}.excalidraw .sidebar-tab-trigger[data-state=active]{--button-bg: var(--color-primary);--button-hover-bg: var(--color-primary-darker);--button-hover-color: var(--color-icon-white);--button-border: var(--color-primary);color:var(--color-icon-white)}.excalidraw .default-sidebar{display:flex;flex-direction:column}.excalidraw .default-sidebar .sidebar-triggers{display:flex;gap:0;padding:2px;margin-top:-3px;margin-bottom:-3px;border:1px solid var(--sidebar-border-color);background:var(--default-bg-color);border-radius:.625rem}.excalidraw .default-sidebar .sidebar-triggers .sidebar-tab-trigger{height:var(--lg-button-size);width:var(--lg-button-size);border:none}',""]),n.Z=w},7051:function(ue,n,r){var A=r(8081),k=r.n(A),b=r(3645),w=r.n(b)()(k());w.push([ue.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .sidebar-trigger{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--color-on-surface));border:none;box-shadow:0 0 0 1px var(--color-surface-lowest);background-color:var(--color-surface-low);width:auto;height:var(--lg-button-size);display:flex;align-items:center;gap:.5rem;line-height:0;font-size:.75rem;letter-spacing:.4px}.excalidraw .sidebar-trigger svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .sidebar-trigger:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--button-border, var(--default-border-color)));color:var(--button-hover-color, var(--button-color, var(--text-primary-color, inherit)))}.excalidraw .sidebar-trigger:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .sidebar-trigger.active{background-color:var(--button-selected-bg, var(--color-surface-primary-container));border-color:var(--button-selected-border, var(--color-surface-primary-container))}.excalidraw .sidebar-trigger.active:hover{background-color:var(--button-selected-hover-bg, var(--color-surface-primary-container))}.excalidraw .sidebar-trigger.active svg{color:var(--button-color, var(--color-on-primary-container))}.excalidraw .sidebar-trigger:active{box-shadow:0 0 0 1px var(--color-brand-active)}.excalidraw .sidebar-trigger svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .default-sidebar-trigger .sidebar-trigger__label{display:block}.excalidraw.excalidraw--mobile .default-sidebar-trigger .sidebar-trigger__label{display:none}",""]),n.Z=w},5892:function(ue,n,r){var A=r(8081),k=r.n(A),b=r(3645),w=r.n(b)()(k());w.push([ue.id,".excalidraw .Spinner{display:flex;align-items:center;justify-content:center;height:100%;margin-left:auto;margin-right:auto;--spinner-color: var(--icon-fill-color)}.excalidraw .Spinner svg{-webkit-animation:rotate 1.6s linear infinite;animation:rotate 1.6s linear infinite;-webkit-animation-delay:var(--spinner-delay);animation-delay:var(--spinner-delay);-webkit-transform-origin:center center;transform-origin:center center}.excalidraw .Spinner circle{stroke:var(--spinner-color);-webkit-animation:dash 1.6s linear 0s infinite;animation:dash 1.6s linear 0s infinite;stroke-linecap:round}@-webkit-keyframes rotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes rotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes dash{0%{stroke-dasharray:1,300;stroke-dashoffset:0}50%{stroke-dasharray:150,300;stroke-dashoffset:-200}100%{stroke-dasharray:1,300;stroke-dashoffset:-280}}@keyframes dash{0%{stroke-dasharray:1,300;stroke-dashoffset:0}50%{stroke-dasharray:150,300;stroke-dashoffset:-200}100%{stroke-dasharray:1,300;stroke-dashoffset:-280}}",""]),n.Z=w},3874:function(ue,n,r){var A=r(8081),k=r.n(A),b=r(3645),w=r.n(b)()(k());w.push([ue.id,".excalidraw .Stack{--gap: 0;display:grid;gap:calc(var(--space-factor)*var(--gap))}.excalidraw .Stack_vertical{grid-template-columns:auto;grid-auto-flow:row;grid-auto-rows:-webkit-min-content;grid-auto-rows:min-content}.excalidraw .Stack_horizontal{grid-template-rows:auto;grid-auto-flow:column;grid-auto-columns:-webkit-min-content;grid-auto-columns:min-content}",""]),n.Z=w},2681:function(ue,n,r){var A=r(8081),k=r.n(A),b=r(3645),w=r.n(b)()(k());w.push([ue.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Stats{position:absolute;top:64px;right:12px;font-size:12px;z-index:10;pointer-events:var(--ui-pointerEvents)}.excalidraw .Stats h3{margin:0 24px 8px 0;white-space:nowrap}.excalidraw .Stats .close{float:right;height:16px;width:16px;cursor:pointer}.excalidraw .Stats .close svg{width:100%;height:100%}.excalidraw .Stats table{width:100%}.excalidraw .Stats table th{border-bottom:1px solid var(--input-border-color);padding:4px}.excalidraw .Stats table tr td:nth-child(2){min-width:24px;text-align:right}:root[dir=rtl] .excalidraw .Stats{left:12px;right:initial}:root[dir=rtl] .excalidraw .Stats h3{margin:0 0 8px 24px}:root[dir=rtl] .excalidraw .Stats .close{float:left}",""]),n.Z=w},7802:function(ue,n,r){var A=r(8081),k=r.n(A),b=r(3645),w=r.n(b)()(k());w.push([ue.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw{--Switch-disabled-color: var(--color-border-outline);--Switch-disabled-toggled-background: var(--color-border-outline-variant);--Switch-disabled-border: var(--color-border-outline-variant);--Switch-track-background: var(--island-bg-color);--Switch-thumb-background: var(--color-on-surface);--Switch-hover-background: var(--color-brand-hover);--Switch-active-background: var(--color-brand-active)}.excalidraw .Switch{position:relative;box-sizing:border-box;width:40px;height:20px;border-radius:12px;transition-property:background,border;transition-duration:150ms;transition-timing-function:ease-out;background:var(--Switch-track-background);border:1px solid var(--Switch-disabled-color)}.excalidraw .Switch:hover{background:var(--Switch-track-background);border:1px solid var(--Switch-hover-background)}.excalidraw .Switch:active{border:1px solid var(--Switch-active-background)}.excalidraw .Switch.toggled{background:var(--color-primary);border:1px solid var(--color-primary)}.excalidraw .Switch.toggled:hover{background:var(--color-primary-darker);border:1px solid var(--color-primary-darker)}.excalidraw .Switch.disabled{background:var(--Switch-track-background);border:1px solid var(--Switch-disabled-border)}.excalidraw .Switch.disabled.toggled{background:var(--Switch-disabled-toggled-background);border:1px solid var(--Switch-disabled-toggled-background)}.excalidraw .Switch:before{content:"";box-sizing:border-box;display:block;pointer-events:none;position:absolute;border-radius:100%;transition:all 150ms ease-out;width:10px;height:10px;top:4px;left:4px;background:var(--Switch-thumb-background)}.excalidraw .Switch:active:before{width:12px}.excalidraw .Switch.toggled:before{width:14px;height:14px;left:22px;top:2px;background:var(--Switch-track-background)}.excalidraw .Switch.toggled:active:before{width:16px;left:20px}.excalidraw .Switch.disabled:before{background:var(--Switch-disabled-color)}.excalidraw .Switch.disabled.toggled:before{background:var(--Switch-disabled-color)}.excalidraw .Switch input{width:100%;height:100%;margin:0;border-radius:12px;-webkit-appearance:none;appearance:none;cursor:pointer}.excalidraw .Switch input:disabled{cursor:unset}',""]),n.Z=w},6759:function(ue,n,r){var A=r(8081),k=r.n(A),b=r(3645),w=r.n(b)()(k());w.push([ue.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .TextInput{display:inline-block}",""]),n.Z=w},9650:function(ue,n,r){var A=r(8081),k=r.n(A),b=r(3645),w=r.n(b)()(k());w.push([ue.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Toast{-webkit-animation:fade-in .5s;animation:fade-in .5s;background-color:var(--button-gray-1);border-radius:4px;bottom:10px;box-sizing:border-box;cursor:default;left:50%;margin-left:-150px;padding:4px 0;position:absolute;text-align:center;width:300px;z-index:999999}.excalidraw .Toast .Toast__message{padding:0 1.6rem;color:var(--popup-text-color);white-space:pre-wrap}.excalidraw .Toast .close{position:absolute;top:0;right:0;padding:.4rem}.excalidraw .Toast .close .ToolIcon__icon{width:1.2rem;height:1.2rem}@-webkit-keyframes fade-in{from{opacity:0}to{opacity:1}}@keyframes fade-in{from{opacity:0}to{opacity:1}}",""]),n.Z=w},2044:function(ue,n,r){var A=r(8081),k=r.n(A),b=r(3645),w=r.n(b)()(k());w.push([ue.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .ToolIcon{border-radius:var(--border-radius-lg);display:inline-flex;align-items:center;position:relative;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;user-select:none}.excalidraw .ToolIcon__hidden{display:none !important}.excalidraw .ToolIcon.fillable .ToolIcon_type_radio:checked+.ToolIcon__icon,.excalidraw .ToolIcon.fillable .ToolIcon_type_checkbox:checked+.ToolIcon__icon{--icon-fill-color: var(--color-on-primary-container)}.excalidraw .ToolIcon.fillable .ToolIcon_type_radio:checked+.ToolIcon__icon svg,.excalidraw .ToolIcon.fillable .ToolIcon_type_checkbox:checked+.ToolIcon__icon svg{fill:var(--icon-fill-color)}.excalidraw .ToolIcon .ToolIcon_type_radio:checked+.ToolIcon__icon,.excalidraw .ToolIcon .ToolIcon_type_checkbox:checked+.ToolIcon__icon{background:var(--color-surface-primary-container);--keybinding-color: var(--color-on-primary-container)}.excalidraw .ToolIcon .ToolIcon_type_radio:checked+.ToolIcon__icon svg,.excalidraw .ToolIcon .ToolIcon_type_checkbox:checked+.ToolIcon__icon svg{color:var(--color-on-primary-container)}.excalidraw .ToolIcon .ToolIcon__keybinding{bottom:4px;right:4px}.excalidraw .ToolIcon .ToolIcon__icon:hover{background:var(--button-hover-bg)}.excalidraw .ToolIcon .ToolIcon__icon:active{background:var(--button-hover-bg);border:1px solid var(--button-active-border)}.excalidraw .ToolIcon .ToolIcon__icon:active svg{color:var(--color-on-primary-container)}.excalidraw .ToolIcon--plain{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon--plain .ToolIcon__icon{width:2rem;height:2rem}.excalidraw .ToolIcon_type_radio,.excalidraw .ToolIcon_type_checkbox{position:absolute;opacity:0;pointer-events:none}.excalidraw .ToolIcon__icon{box-sizing:border-box;width:var(--default-button-size);height:var(--default-button-size);color:var(--icon-fill-color);display:flex;justify-content:center;align-items:center;border-radius:var(--border-radius-lg)}.excalidraw .ToolIcon__icon+.ToolIcon__label{-webkit-margin-start:0;margin-inline-start:0}.excalidraw .ToolIcon__icon svg{position:relative;width:var(--default-icon-size);height:var(--default-icon-size);color:var(--icon-fill-color)}.excalidraw .ToolIcon__label{display:flex;align-items:center;color:var(--icon-fill-color);font-family:var(--ui-font);margin:0 .8em;text-overflow:ellipsis}.excalidraw .ToolIcon__label .Spinner{margin-left:.6em}.excalidraw .ToolIcon_size_small .ToolIcon__icon{width:2rem;height:2rem;font-size:.8em}.excalidraw .ToolIcon_type_button,.excalidraw .Modal .ToolIcon_type_button,.excalidraw .ToolIcon_type_button{padding:0;border:none;margin:0;font-size:inherit;background-color:initial}.excalidraw .ToolIcon_type_button:focus-visible,.excalidraw .Modal .ToolIcon_type_button:focus-visible,.excalidraw .ToolIcon_type_button:focus-visible{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .ToolIcon_type_button.ToolIcon--selected,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected,.excalidraw .ToolIcon_type_button.ToolIcon--selected{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .ToolIcon_type_button.ToolIcon--selected:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_button:active,.excalidraw .Modal .ToolIcon_type_button:active,.excalidraw .ToolIcon_type_button:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_button--show,.excalidraw .Modal .ToolIcon_type_button--show,.excalidraw .ToolIcon_type_button--show{visibility:visible}.excalidraw .ToolIcon_type_button--hide,.excalidraw .Modal .ToolIcon_type_button--hide,.excalidraw .ToolIcon_type_button--hide{display:none !important}.excalidraw .ToolIcon_type_floating{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon_type_floating:hover{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon_type_floating:active{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon_type_floating .ToolIcon__icon{background-color:var(--button-gray-1);width:2rem;height:2rem}.excalidraw .ToolIcon_type_floating .ToolIcon__icon:hover{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_floating .ToolIcon__icon:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon__keybinding{position:absolute;bottom:2px;right:3px;font-size:.625rem;color:var(--keybinding-color);font-family:var(--ui-font);-webkit-user-select:none;user-select:none}:root[dir=ltr] .excalidraw .unlocked-icon{left:2px}:root[dir=rtl] .excalidraw .unlocked-icon{right:2px}.excalidraw .App-toolbar-container .ToolIcon__icon{width:var(--lg-button-size);height:var(--lg-button-size)}@media screen and (max-width: 450px){.excalidraw .App-toolbar-container .ToolIcon__icon{width:1.8rem;height:1.8rem}}@media screen and (max-width: 379px){.excalidraw .App-toolbar-container .ToolIcon__icon{width:1.5rem;height:1.5rem}}.excalidraw .App-toolbar-container .ToolIcon__icon svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .App-toolbar-container .ToolIcon__LaserPointer .ToolIcon__icon{width:var(--default-button-size);height:var(--default-button-size)}",""]),n.Z=w},9144:function(ue,n,r){var A=r(8081),k=r.n(A),b=r(3645),w=r.n(b)()(k());w.push([ue.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .App-toolbar.zen-mode .ToolIcon__keybinding,.excalidraw .App-toolbar.zen-mode .HintViewer{display:none}.excalidraw .App-toolbar__divider{width:1px;height:1.5rem;align-self:center;background-color:var(--default-border-color);margin:0 .25rem}.excalidraw--mobile.excalidraw .App-toolbar__divider{margin:0}.excalidraw .App-toolbar__extra-tools-trigger{box-shadow:none;border:0;background-color:rgba(0,0,0,0)}.excalidraw .App-toolbar__extra-tools-trigger:active{background-color:var(--button-hover-bg);box-shadow:0 0 0 1px var(--button-active-border, var(--color-primary-darkest)) inset}.excalidraw .App-toolbar__extra-tools-trigger--selected,.excalidraw .App-toolbar__extra-tools-trigger--selected:hover{background:var(--color-primary-light);color:var(--color-primary)}.excalidraw .App-toolbar__extra-tools-dropdown{margin-top:.375rem;right:0;min-width:11.875rem;z-index:1}",""]),n.Z=w},6626:function(ue,n,r){var A=r(8081),k=r.n(A),b=r(3645),w=r.n(b)()(k());w.push([ue.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw-tooltip{--ui-font: Assistant, system-ui, BlinkMacSystemFont, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;font-family:var(--ui-font);position:fixed;z-index:var(--zIndex-popup);padding:8px;border-radius:6px;box-sizing:border-box;pointer-events:none;word-wrap:break-word;background:#000;line-height:1.5;text-align:center;font-size:13px;font-weight:500;color:#fff;display:none}.excalidraw-tooltip.excalidraw-tooltip--visible{display:block}.excalidraw-tooltip-wrapper{display:flex}.excalidraw-tooltip-icon{width:.9em;height:.9em;margin-left:5px;margin-top:1px;display:flex}.excalidraw--mobile.excalidraw-tooltip-icon{display:none}",""]),n.Z=w},6359:function(ue,n,r){var A=r(8081),k=r.n(A),b=r(3645),w=r.n(b)()(k());w.push([ue.id,".excalidraw .UserList{pointer-events:none;padding:var(--space-factor) var(--space-factor) var(--space-factor) var(--space-factor);display:flex;flex-wrap:wrap;justify-content:flex-end;align-items:center;gap:.625rem;max-height:140px;max-width:290px;overflow:hidden}.excalidraw .UserList:empty{display:none}.excalidraw .UserList>*{pointer-events:var(--ui-pointerEvents)}.excalidraw .UserList_mobile{padding:0;justify-content:normal;margin:.5rem 0}",""]),n.Z=w},7399:function(ue,n,r){var A=r(8081),k=r.n(A),b=r(3645),w=r.n(b)()(k());w.push([ue.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .dropdown-menu{position:absolute;top:100%;margin-top:.25rem}.excalidraw .dropdown-menu--mobile{left:0;width:100%;row-gap:.75rem}.excalidraw .dropdown-menu--mobile .dropdown-menu-container{padding:8px 8px;box-sizing:border-box;box-shadow:var(--shadow-island);border-radius:var(--border-radius-lg);position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .dropdown-menu--mobile .dropdown-menu-container.zen-mode{box-shadow:none}.excalidraw .dropdown-menu .dropdown-menu-container{background-color:var(--island-bg-color);max-height:calc(100vh - 150px);overflow-y:auto;--gap: 2}.excalidraw .dropdown-menu .dropdown-menu-item-base{display:flex;padding:0 .625rem;-webkit-column-gap:.625rem;column-gap:.625rem;font-size:.875rem;color:var(--color-on-surface);width:100%;box-sizing:border-box;font-weight:normal;font-family:inherit}.excalidraw .dropdown-menu .dropdown-menu-item{background-color:rgba(0,0,0,0);border:1px solid rgba(0,0,0,0);align-items:center;height:2rem;cursor:pointer;border-radius:var(--border-radius-md)}@media screen and (min-width: 1921px){.excalidraw .dropdown-menu .dropdown-menu-item{height:2.25rem}}.excalidraw .dropdown-menu .dropdown-menu-item--selected{background:var(--color-primary-light);--icon-fill-color: var(--color-primary-darker)}.excalidraw .dropdown-menu .dropdown-menu-item__text{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.excalidraw .dropdown-menu .dropdown-menu-item__shortcut{-webkit-margin-start:auto;margin-inline-start:auto;opacity:.5}.excalidraw .dropdown-menu .dropdown-menu-item:hover{background-color:var(--button-hover-bg);text-decoration:none}.excalidraw .dropdown-menu .dropdown-menu-item:active{background-color:var(--button-hover-bg);border-color:var(--color-brand-active)}.excalidraw .dropdown-menu .dropdown-menu-item svg{width:1rem;height:1rem;display:block}.excalidraw .dropdown-menu .dropdown-menu-item-custom{margin-top:.5rem}.excalidraw .dropdown-menu .dropdown-menu-group-title{font-size:14px;text-align:left;margin:10px 0;font-weight:500}.excalidraw .dropdown-menu-button{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--color-on-surface));width:var(--lg-button-size);height:var(--lg-button-size);--background: var(--color-surface-mid);background-color:var(--background)}.excalidraw .dropdown-menu-button svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .dropdown-menu-button:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--button-border, var(--default-border-color)));color:var(--button-hover-color, var(--button-color, var(--text-primary-color, inherit)))}.excalidraw .dropdown-menu-button:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .dropdown-menu-button.active{background-color:var(--button-selected-bg, var(--color-surface-primary-container));border-color:var(--button-selected-border, var(--color-surface-primary-container))}.excalidraw .dropdown-menu-button.active:hover{background-color:var(--button-selected-hover-bg, var(--color-surface-primary-container))}.excalidraw .dropdown-menu-button.active svg{color:var(--button-color, var(--color-on-primary-container))}.excalidraw.theme--dark.excalidraw .dropdown-menu-button{--background: var(--color-surface-high)}.excalidraw.theme--dark.excalidraw .dropdown-menu-button:hover{--background: #363541}.excalidraw .dropdown-menu-button:hover{--background: var(--color-surface-high);background-color:var(--background);text-decoration:none}.excalidraw .dropdown-menu-button:active{border-color:var(--color-primary)}.excalidraw .dropdown-menu-button svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .dropdown-menu-button--mobile{border:none;margin:0;padding:0;width:var(--default-button-size);height:var(--default-button-size)}",""]),n.Z=w},8793:function(ue,n,r){var A=r(8081),k=r.n(A),b=r(3645),w=r.n(b)()(k());w.push([ue.id,".footer-center{pointer-events:none;display:flex;width:100%;justify-content:flex-start;-webkit-margin-end:.6rem;margin-inline-end:.6rem}.footer-center>*{pointer-events:var(--ui-pointerEvents)}",""]),n.Z=w},3397:function(ue,n,r){var A=r(8081),k=r.n(A),b=r(3645),w=r.n(b)()(k());w.push([ue.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .collab-button{--button-bg: var(--color-primary);--button-color: white;--button-border: var(--color-primary);--button-width: var(--lg-button-size);--button-height: var(--lg-button-size);--button-hover-bg: var(--color-primary-darker);--button-hover-border: var(--color-primary-darker);--button-active-bg: var(--color-primary-darker);box-shadow:0 0 0 1px var(--color-surface-lowest);flex-shrink:0}.excalidraw .collab-button.active.active{background-color:#0fb884;border-color:#0fb884}.excalidraw .collab-button.active.active svg{color:#fff}.excalidraw .collab-button.active.active:hover,.excalidraw .collab-button.active.active:active{background-color:#0fb884;border-color:#0fb884}.excalidraw.theme--dark .collab-button{color:var(--color-gray-90)}.excalidraw .CollabButton.is-collaborating{background-color:var(--button-special-active-bg-color)}.excalidraw .CollabButton.is-collaborating .ToolIcon__icon svg,.excalidraw .CollabButton.is-collaborating .ToolIcon__label{color:var(--icon-green-fill-color)}.excalidraw .CollabButton-collaborators{min-width:1em;min-height:1em;line-height:1;position:absolute;bottom:-5px;padding:3px;border-radius:50%;background-color:#b2f2bb;color:#2b8a3e;font-size:.6rem;font-family:"Cascadia"}:root[dir=ltr] .excalidraw .CollabButton-collaborators{right:-5px}:root[dir=rtl] .excalidraw .CollabButton-collaborators{left:-5px}',""]),n.Z=w},4343:function(ue,n,r){var A=r(8081),k=r.n(A),b=r(3645),w=r.n(b)()(k());w.push([ue.id,".excalidraw .ActiveFile .ActiveFile__fileName{display:flex;align-items:center}.excalidraw .ActiveFile .ActiveFile__fileName span{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;width:9.3em}.excalidraw .ActiveFile .ActiveFile__fileName svg{width:1.15em;-webkit-margin-end:.3em;margin-inline-end:.3em;-webkit-transform:scaleY(0.9);transform:scaleY(0.9)}",""]),n.Z=w},1569:function(ue,n,r){var A=r(8081),k=r.n(A),b=r(3645),w=r.n(b)()(k());w.push([ue.id,'.excalidraw .virgil{font-family:"Virgil"}.excalidraw .welcome-screen-decor{pointer-events:none;color:var(--color-gray-40)}.excalidraw .welcome-screen-decor a{--color: var(--color-primary);color:var(--color);text-decoration:none;margin-bottom:-6px}.excalidraw.theme--dark .welcome-screen-decor{color:var(--color-gray-60)}@media(max-height: 599px){.excalidraw .welcome-screen-decor-hint{display:none !important}}@media(max-width: 1024px),(max-width: 800px){.excalidraw .welcome-screen-decor-hint .welcome-screen-decor--help,.excalidraw .welcome-screen-decor-hint .welcome-screen-decor--menu{display:none}}.excalidraw .welcome-screen-decor-hint--help{display:flex;position:absolute;right:0;bottom:100%}:root[dir=rtl] .excalidraw .welcome-screen-decor-hint--help{left:0;right:auto}.excalidraw .welcome-screen-decor-hint--help svg{margin-top:.5rem;width:85px;height:71px;-webkit-transform:scaleX(-1) rotate(80deg);transform:scaleX(-1) rotate(80deg)}:root[dir=rtl] .excalidraw .welcome-screen-decor-hint--help svg{-webkit-transform:rotate(80deg);transform:rotate(80deg)}.excalidraw .welcome-screen-decor-hint--toolbar{position:absolute;top:100%;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);margin-top:2.5rem;display:flex;align-items:baseline}.excalidraw .welcome-screen-decor-hint--toolbar .welcome-screen-decor-hint__label{width:120px;position:relative;top:-0.5rem}.excalidraw .welcome-screen-decor-hint--toolbar svg{width:38px;height:78px}:root[dir=rtl] .excalidraw .welcome-screen-decor-hint--toolbar svg{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.excalidraw .welcome-screen-decor-hint--menu{position:absolute;width:320px;font-size:1rem;top:100%;margin-top:.25rem;-webkit-margin-start:.6rem;margin-inline-start:.6rem;display:flex;align-items:flex-end;gap:.5rem}.excalidraw .welcome-screen-decor-hint--menu svg{width:41px;height:94px}:root[dir=rtl] .excalidraw .welcome-screen-decor-hint--menu svg{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@media(max-width: 860px){.excalidraw .welcome-screen-decor-hint--menu .welcome-screen-decor-hint__label{max-width:160px}}.excalidraw .welcome-screen-center{display:flex;flex-direction:column;gap:2rem;justify-content:center;align-items:center;position:absolute;pointer-events:none;left:1rem;top:1rem;right:1rem;bottom:1rem}.excalidraw .welcome-screen-center__logo{display:flex;align-items:center;-webkit-column-gap:.75rem;column-gap:.75rem;font-size:2.25rem}.excalidraw .welcome-screen-center__heading{font-size:1.125rem;text-align:center}.excalidraw .welcome-screen-menu{display:flex;flex-direction:column;gap:2px;justify-content:center;align-items:center}.excalidraw .welcome-screen-menu-item{box-sizing:border-box;pointer-events:var(--ui-pointerEvents);color:var(--color-gray-50);font-size:.875rem;width:100%;min-width:300px;max-width:400px;display:grid;align-items:center;justify-content:space-between;background:none;border:1px solid rgba(0,0,0,0);padding:.75rem;border-radius:var(--border-radius-md);grid-template-columns:calc(var(--default-icon-size) + .5rem) 1fr 3rem}.excalidraw .welcome-screen-menu-item__text{display:flex;align-items:center;margin-right:auto;text-align:left;-webkit-column-gap:.5rem;column-gap:.5rem}.excalidraw .welcome-screen-menu-item__icon{width:var(--default-icon-size);height:var(--default-icon-size)}.excalidraw .welcome-screen-menu-item__shortcut{margin-left:auto;color:var(--color-gray-40);font-size:.75rem}.excalidraw .welcome-screen-menu-item:hover{text-decoration:none;background:var(--button-hover-bg)}.excalidraw .welcome-screen-menu-item:hover .welcome-screen-menu-item__shortcut{color:var(--color-gray-50)}.excalidraw .welcome-screen-menu-item:hover .welcome-screen-menu-item__text{color:var(--color-gray-100)}.excalidraw .welcome-screen-menu-item:active{background:var(--button-hover-bg);border-color:var(--color-brand-active)}.excalidraw .welcome-screen-menu-item:active .welcome-screen-menu-item__shortcut{color:var(--color-gray-50)}.excalidraw .welcome-screen-menu-item:active .welcome-screen-menu-item__text{color:var(--color-gray-100)}.excalidraw .welcome-screen-menu-item:active--promo{color:var(--color-promo) !important}.excalidraw .welcome-screen-menu-item:active--promo:hover .welcome-screen-menu-item__text{color:var(--color-promo) !important}.excalidraw.theme--dark .welcome-screen-menu-item{color:var(--color-gray-60)}.excalidraw.theme--dark .welcome-screen-menu-item__shortcut{color:var(--color-gray-60)}.excalidraw.theme--dark .welcome-screen-menu-item:hover{background-color:var(--color-surface-low)}.excalidraw.theme--dark .welcome-screen-menu-item:hover .welcome-screen-menu-item__shortcut{color:var(--color-gray-50)}.excalidraw.theme--dark .welcome-screen-menu-item:hover .welcome-screen-menu-item__text{color:var(--color-gray-10)}.excalidraw.theme--dark .welcome-screen-menu-item:active .welcome-screen-menu-item__text{color:var(--color-gray-10)}@media(max-height: 599px){.excalidraw .welcome-screen-center{margin-top:4rem}}@media(min-height: 600px)and (max-height: 900px){.excalidraw .welcome-screen-center{margin-top:8rem}}@media(max-height: 500px),(max-width: 320px){.excalidraw .welcome-screen-center{display:none}}',""]),n.Z=w},9915:function(ue,n,r){var A=r(8081),k=r.n(A),b=r(3645),w=r.n(b)()(k());w.push([ue.id,".visually-hidden{position:absolute !important;height:1px;width:1px;overflow:hidden;clip:rect(1px, 1px, 1px, 1px);white-space:nowrap;-webkit-user-select:none;user-select:none}.LoadingMessage{position:absolute;top:0;right:0;bottom:0;left:0;z-index:999;display:flex;flex-direction:column;align-items:center;justify-content:center;pointer-events:none}.LoadingMessage .Spinner{font-size:2.8em}.LoadingMessage .LoadingMessage-text{margin-top:1em;font-size:.8em}.LoadingMessage--dark{background-color:#121212;color:#ced4da}",""]),n.Z=w},9310:function(ue,n,r){var A=r(8081),k=r.n(A),b=r(3645),w=r.n(b),N=r(1667),M=r.n(N),f=new URL(r(7984),r.b),d=new URL(r(1639),r.b),j=w()(k()),L=M()(f),H=M()(d);j.push([ue.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}:export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw{--theme-filter: none;--button-destructive-bg-color: #ffe3e3;--button-destructive-color: #c92a2a;--button-gray-1: #e9ecef;--button-gray-2: #ced4da;--button-gray-3: #adb5bd;--button-special-active-bg-color: #ebfbee;--dialog-border-color: var(--color-gray-20);--dropdown-icon: url("+L+");--focus-highlight-color: #a5d8ff;--icon-fill-color: var(--color-on-surface);--icon-green-fill-color: #2b8a3e;--default-bg-color: #ffffff;--input-bg-color: #ffffff;--input-border-color: #ced4da;--input-hover-bg-color: #f1f3f5;--input-label-color: #495057;--island-bg-color: #ffffff;--keybinding-color: var(--color-gray-40);--link-color: #1c7ed6;--overlay-bg-color: rgba(255, 255, 255, 0.88);--popup-bg-color: var(--island-bg-color);--popup-secondary-bg-color: #f1f3f5;--popup-text-color: #000000;--popup-text-inverted-color: #ffffff;--select-highlight-color: #339af0;--shadow-island: 0px 0px 0.9310142993927002px 0px rgba(0, 0, 0, 0.17), 0px 0px 3.1270833015441895px 0px rgba(0, 0, 0, 0.08), 0px 7px 14px 0px rgba(0, 0, 0, 0.05);--button-hover-bg: var(--color-surface-high);--button-active-bg: var(--color-surface-high);--button-active-border: var(--color-brand-active);--default-border-color: var(--color-surface-high);--default-button-size: 2rem;--default-icon-size: 1rem;--lg-button-size: 2.25rem;--lg-icon-size: 1rem;--editor-container-padding: 1rem;--scrollbar-thumb: var(--button-gray-2);--scrollbar-thumb-hover: var(--button-gray-3);--modal-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--avatar-border-color: var(--color-gray-20);--sidebar-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--sidebar-border-color: var(--color-surface-high);--sidebar-bg-color: var(--island-bg-color);--library-dropdown-shadow: 0px 15px 6px rgba(0, 0, 0, 0.01), 0px 8px 5px rgba(0, 0, 0, 0.05), 0px 4px 4px rgba(0, 0, 0, 0.09), 0px 1px 2px rgba(0, 0, 0, 0.1), 0px 0px 0px rgba(0, 0, 0, 0.1);--space-factor: 0.25rem;--text-primary-color: var(--color-on-surface);--color-selection: #6965db;--color-icon-white: #ffffff;--color-primary: #6965db;--color-primary-darker: #5b57d1;--color-primary-darkest: #4a47b1;--color-primary-light: #e3e2fe;--color-primary-light-darker: #d7d5ff;--color-gray-10: #f5f5f5;--color-gray-20: #ebebeb;--color-gray-30: #d6d6d6;--color-gray-40: #b8b8b8;--color-gray-50: #999999;--color-gray-60: #7a7a7a;--color-gray-70: #5c5c5c;--color-gray-80: #3d3d3d;--color-gray-85: #242424;--color-gray-90: #1e1e1e;--color-gray-100: #121212;--color-warning: #fceeca;--color-warning-dark: #f5c354;--color-warning-darker: #f3ab2c;--color-warning-darkest: #ec8b14;--color-text-warning: var(--text-primary-color);--color-danger: #db6965;--color-danger-dark: #db6965;--color-danger-darker: #d65550;--color-danger-darkest: #d1413c;--color-danger-text: black;--color-danger-background: #fff0f0;--color-danger-icon-background: #ffdad6;--color-danger-color: #700000;--color-danger-icon-color: #700000;--color-warning-background: var(--color-warning);--color-warning-icon-background: var(--color-warning-dark);--color-warning-color: var(--text-primary-color);--color-warning-icon-color: var(--text-primary-color);--color-muted: var(--color-gray-30);--color-muted-darker: var(--color-gray-60);--color-muted-darkest: var(--color-gray-100);--color-muted-background: var(--color-gray-80);--color-muted-background-darker: var(--color-gray-100);--color-promo: #e70078;--color-success: #268029;--color-success-lighter: #cafccc;--color-logo-icon: var(--color-primary);--color-logo-text: #190064;--border-radius-md: 0.375rem;--border-radius-lg: 0.5rem;--color-surface-high: hsl(244, 100%, 97%);--color-surface-mid: hsl(240 25% 96%);--color-surface-low: hsl(240 25% 94%);--color-surface-lowest: #ffffff;--color-on-surface: #1b1b1f;--color-brand-hover: #5753d0;--color-on-primary-container: #030064;--color-surface-primary-container: #e0dfff;--color-brand-active: #4440bf;--color-border-outline: #767680;--color-border-outline-variant: #c5c5d0;--color-surface-primary-container: #e0dfff}@media screen and (min-device-width: 1921px){.excalidraw{--lg-button-size: 2.5rem;--lg-icon-size: 1.25rem;--default-button-size: 2.25rem;--default-icon-size: 1.25rem}}.excalidraw.theme--dark.theme--dark-background-none{background:none}.excalidraw.theme--dark{--theme-filter: invert(93%) hue-rotate(180deg);--button-destructive-bg-color: #5a0000;--button-destructive-color: #ffa8a8;--button-gray-1: #363636;--button-gray-2: #272727;--button-gray-3: #222;--button-special-active-bg-color: #204624;--dialog-border-color: var(--color-gray-80);--dropdown-icon: url("+H+');--focus-highlight-color: #228be6;--icon-green-fill-color: #69db7c;--default-bg-color: #121212;--input-bg-color: #121212;--input-border-color: #2e2e2e;--input-hover-bg-color: #181818;--input-label-color: #e9ecef;--island-bg-color: #232329;--keybinding-color: var(--color-gray-60);--link-color: #4dabf7;--overlay-bg-color: rgba(52, 58, 64, 0.12);--popup-secondary-bg-color: #222;--popup-text-color: #ced4da;--popup-text-inverted-color: #2c2c2c;--select-highlight-color: #4dabf7;--shadow-island: 0px 0px 0.9310142993927002px 0px rgba(0, 0, 0, 0.17), 0px 0px 3.1270833015441895px 0px rgba(0, 0, 0, 0.08), 0px 7px 14px 0px rgba(0, 0, 0, 0.05);--modal-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--avatar-border-color: var(--color-gray-85);--scrollbar-thumb: #343a40;--scrollbar-thumb-hover: #495057;--color-selection: #3530c4;--color-icon-white: var(--color-gray-90);--color-primary: #a8a5ff;--color-primary-darker: #b2aeff;--color-primary-darkest: #beb9ff;--color-primary-light: #4f4d6f;--color-primary-light-darker: #43415e;--color-text-warning: var(--color-gray-80);--color-danger: #ffa8a5;--color-danger-dark: #672120;--color-danger-darker: #8f2625;--color-danger-darkest: #ac2b29;--color-danger-text: #fbcbcc;--color-danger-background: #fbcbcc;--color-danger-icon-background: #672120;--color-danger-color: #261919;--color-danger-icon-color: #fbcbcc;--color-warning-background: var(--color-warning);--color-warning-icon-background: var(--color-warning-dark);--color-warning-color: var(--color-gray-80);--color-warning-icon-color: var(--color-gray-80);--color-muted: var(--color-gray-80);--color-muted-darker: var(--color-gray-60);--color-muted-darkest: var(--color-gray-20);--color-muted-background: var(--color-gray-40);--color-muted-background-darker: var(--color-gray-20);--color-promo: #d297ff;--color-logo-text: #e2dfff;--color-surface-high: hsl(245, 10%, 21%);--color-surface-low: hsl(240, 8%, 15%);--color-surface-mid: hsl(240 6% 10%);--color-surface-lowest: hsl(0, 0%, 7%);--color-on-surface: #e3e3e8;--color-brand-hover: #bbb8ff;--color-on-primary-container: #e0dfff;--color-surface-primary-container: #403e6a;--color-brand-active: #d0ccff;--color-border-outline: #8e8d9c;--color-border-outline-variant: #46464f;--color-surface-primary-container: #403e6a}:root{--zIndex-canvas: 1;--zIndex-interactiveCanvas: 2;--zIndex-wysiwyg: 3;--zIndex-layerUI: 4;--zIndex-eyeDropperBackdrop: 5;--zIndex-eyeDropperPreview: 6;--zIndex-modal: 1000;--zIndex-popup: 1001;--zIndex-toast: 999999;--sab: env(safe-area-inset-bottom);--sal: env(safe-area-inset-left);--sar: env(safe-area-inset-right);--sat: env(safe-area-inset-top)}.excalidraw{--ui-font: Assistant, system-ui, BlinkMacSystemFont, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;font-family:var(--ui-font);position:relative;overflow:hidden;color:var(--text-primary-color);display:flex;top:0;bottom:0;left:0;right:0;height:100%;width:100%;-webkit-user-select:none;user-select:none}.excalidraw button{cursor:pointer}.excalidraw:focus{outline:none}.excalidraw a{font-weight:500;text-decoration:none;color:var(--link-color)}.excalidraw a:hover{text-decoration:underline}.excalidraw canvas{touch-action:none;image-rendering:pixelated;image-rendering:-moz-crisp-edges;z-index:var(--zIndex-canvas)}.excalidraw canvas.interactive{z-index:var(--zIndex-interactiveCanvas)}.excalidraw__canvas-wrapper,.excalidraw__canvas.static{pointer-events:none}.excalidraw__canvas{position:absolute}.excalidraw__embeddable{width:100%;height:100%;border:0}.excalidraw__embeddable-container{position:absolute;z-index:2;-webkit-transform-origin:top left;transform-origin:top left;pointer-events:none}.excalidraw.theme--dark canvas{-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .FixedSideContainer{padding-top:var(--sat, 0);padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0)}.excalidraw .panelRow{display:flex;justify-content:space-between}.excalidraw .panelColumn{display:flex;flex-direction:column;row-gap:.75rem}.excalidraw .panelColumn h3,.excalidraw .panelColumn legend,.excalidraw .panelColumn .control-label{margin:0;margin-bottom:.25rem;font-size:.75rem;color:var(--text-primary-color);font-weight:normal;display:block}.excalidraw .panelColumn .control-label input{display:block;width:100%}.excalidraw .panelColumn legend{padding:0}.excalidraw .panelColumn .iconSelectList{flex-wrap:wrap;position:relative}.excalidraw .panelColumn .buttonList{flex-wrap:wrap;display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;row-gap:.5rem}.excalidraw .panelColumn .buttonList label{font-size:.75rem}.excalidraw .panelColumn .buttonList input[type=radio],.excalidraw .panelColumn .buttonList input[type=button]{opacity:0;position:absolute;pointer-events:none}.excalidraw .panelColumn .buttonList .iconRow{margin-top:8px}.excalidraw .panelColumn fieldset{margin:0;padding:0;border:none}.excalidraw .divider{width:1px;background-color:#e9ecef;margin:1px}.excalidraw .welcome-screen-menu-item:focus-visible,.excalidraw .dropdown-menu-item:focus-visible,.excalidraw button:focus-visible,.excalidraw .buttonList label:focus-within,.excalidraw input:focus-visible{outline:rgba(0,0,0,0);box-shadow:0 0 0 1px var(--color-brand-hover)}.excalidraw .buttonList .ToolIcon__icon{all:unset !important;display:flex !important}.excalidraw .buttonList button{background-color:rgba(0,0,0,0)}.excalidraw .buttonList label,.excalidraw .buttonList button,.excalidraw .buttonList .zIndexButton{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--color-on-surface));padding:0}.excalidraw .buttonList label svg,.excalidraw .buttonList button svg,.excalidraw .buttonList .zIndexButton svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .buttonList label:hover,.excalidraw .buttonList button:hover,.excalidraw .buttonList .zIndexButton:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--button-border, var(--default-border-color)));color:var(--button-hover-color, var(--button-color, var(--text-primary-color, inherit)))}.excalidraw .buttonList label:active,.excalidraw .buttonList button:active,.excalidraw .buttonList .zIndexButton:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .buttonList label.active,.excalidraw .buttonList button.active,.excalidraw .buttonList .zIndexButton.active{background-color:var(--button-selected-bg, var(--color-surface-primary-container));border-color:var(--button-selected-border, var(--color-surface-primary-container))}.excalidraw .buttonList label.active:hover,.excalidraw .buttonList button.active:hover,.excalidraw .buttonList .zIndexButton.active:hover{background-color:var(--button-selected-hover-bg, var(--color-surface-primary-container))}.excalidraw .buttonList label.active svg,.excalidraw .buttonList button.active svg,.excalidraw .buttonList .zIndexButton.active svg{color:var(--button-color, var(--color-on-primary-container))}.excalidraw .buttonList label svg,.excalidraw .buttonList button svg,.excalidraw .buttonList .zIndexButton svg{width:var(--default-icon-size);height:var(--default-icon-size)}.excalidraw .App-top-bar{z-index:var(--zIndex-layerUI);display:flex;flex-direction:column;align-items:center}.excalidraw .App-bottom-bar{position:absolute;top:0;bottom:0;left:0;right:0;--bar-padding: calc(4 * var(--space-factor));padding-top:max(var(--bar-padding), var(--sat,0));padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0);z-index:4;display:flex;align-items:flex-end;pointer-events:none}.excalidraw .App-bottom-bar>.Island{width:100%;max-width:100%;min-width:100%;box-sizing:border-box;max-height:100%;display:flex;flex-direction:column;pointer-events:var(--ui-pointerEvents)}.excalidraw .App-bottom-bar>.Island .panelColumn{padding:8px 8px 0 8px}.excalidraw .App-toolbar{width:100%}.excalidraw .App-toolbar .eraser.ToolIcon:hover{--icon-fill-color: #fff;--keybinding-color: #fff}.excalidraw .App-toolbar .eraser.active{background-color:var(--color-primary)}.excalidraw .App-toolbar-content{display:flex;align-items:center;justify-content:space-between;padding:8px}.excalidraw .App-toolbar-content .dropdown-menu--mobile{bottom:55px;top:auto}.excalidraw .App-mobile-menu{width:100%;overflow-x:visible;overflow-y:auto;box-sizing:border-box;margin-bottom:var(--bar-padding)}.excalidraw .App-menu{display:grid;color:var(--icon-fill-color)}.excalidraw .shapes-section{display:flex;justify-content:center;pointer-events:none !important}.excalidraw .shapes-section>*{pointer-events:var(--ui-pointerEvents)}.excalidraw .App-menu_top{grid-template-columns:1fr 2fr 1fr;grid-gap:2rem;align-items:flex-start;cursor:default;pointer-events:none !important}.excalidraw .App-menu_top>*{pointer-events:var(--ui-pointerEvents)}@media(min-width: 1536px){.excalidraw .App-menu_top{grid-template-columns:1fr 1fr 1fr;grid-gap:3rem}}.excalidraw .App-menu_top>*:first-child{justify-self:flex-start}.excalidraw .App-menu_top>*:last-child{justify-self:flex-end}.excalidraw .App-menu_bottom{position:absolute;bottom:1rem;display:flex;justify-content:space-between;align-items:flex-start;cursor:default;pointer-events:none !important;box-sizing:border-box;padding:0 1rem}.excalidraw .App-menu_bottom--transition-left section{width:185px}.excalidraw .App-menu_bottom section{display:flex}.excalidraw .App-menu_bottom>*:first-child{justify-self:flex-start}.excalidraw .App-menu_bottom>*:last-child{justify-self:flex-end}.excalidraw .App-menu_left{grid-template-rows:1fr auto 1fr;height:100%}.excalidraw .App-menu_right{grid-template-rows:1fr;height:100%}.excalidraw .App-menu__left{overflow-y:auto;padding:.75rem;width:202px;box-sizing:border-box;position:absolute}.excalidraw .dropdown-select{height:1.5rem;padding:0;-webkit-padding-start:.5rem;padding-inline-start:.5rem;-webkit-padding-end:1.5rem;padding-inline-end:1.5rem;color:var(--icon-fill-color);background-color:var(--button-gray-1);border-radius:var(--space-factor);border:1px solid var(--button-gray-2);font-size:.8rem;font-family:inherit;outline:none;-webkit-appearance:none;appearance:none;background-image:var(--dropdown-icon);background-repeat:no-repeat;background-position:right .7rem top 50%,0 0;background-size:.65em auto,100%}:root[dir=rtl] .excalidraw .dropdown-select{background-position:left .7rem top 50%,0 0}.excalidraw .dropdown-select:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .dropdown-select:hover{background-color:var(--button-gray-2)}.excalidraw .dropdown-select:active{background-color:var(--button-gray-2)}.excalidraw .dropdown-select__language{height:2rem;background-color:var(--island-bg-color);border-color:var(--default-border-color) !important;cursor:pointer}.excalidraw .dropdown-select__language:hover{background-color:var(--island-bg-color)}.excalidraw .scroll-back-to-content{border-radius:var(--border-radius-lg);background-color:var(--island-bg-color);color:var(--icon-fill-color);border:1px solid var(--default-border-color);padding:10px 20px;position:absolute;left:50%;bottom:30px;-webkit-transform:translateX(-50%);transform:translateX(-50%);pointer-events:var(--ui-pointerEvents);font-family:inherit}.excalidraw .scroll-back-to-content:hover{background-color:var(--button-hover-bg)}.excalidraw .scroll-back-to-content:active{border:1px solid var(--button-active-border)}.excalidraw .help-icon{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--color-on-surface));border:none;box-shadow:0 0 0 1px var(--color-surface-lowest);background-color:var(--color-surface-low);width:var(--lg-button-size);height:var(--lg-button-size)}.excalidraw .help-icon svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .help-icon:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--button-border, var(--default-border-color)));color:var(--button-hover-color, var(--button-color, var(--text-primary-color, inherit)))}.excalidraw .help-icon:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .help-icon.active{background-color:var(--button-selected-bg, var(--color-surface-primary-container));border-color:var(--button-selected-border, var(--color-surface-primary-container))}.excalidraw .help-icon.active:hover{background-color:var(--button-selected-hover-bg, var(--color-surface-primary-container))}.excalidraw .help-icon.active svg{color:var(--button-color, var(--color-on-primary-container))}.excalidraw .help-icon:active{box-shadow:0 0 0 1px var(--color-brand-active)}.excalidraw .help-icon svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .reset-zoom-button{font-family:var(--ui-font)}.excalidraw .finalize-button{display:grid;grid-auto-flow:column;gap:.4em;margin-top:auto;margin-bottom:auto;-webkit-margin-start:.6em;margin-inline-start:.6em}.excalidraw .undo-redo-buttons,.excalidraw .eraser-buttons{display:grid;grid-auto-flow:column;margin-top:auto;margin-bottom:auto;-webkit-margin-start:.6em;margin-inline-start:.6em}.excalidraw--mobile.excalidraw aside{display:none}.excalidraw--mobile.excalidraw .scroll-back-to-content{bottom:calc(80px + var(--sab, 0));z-index:-1}:root[dir=rtl] .excalidraw .rtl-mirror{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.excalidraw .zen-mode-visibility{visibility:visible;opacity:1;height:auto;width:auto;transition:opacity .5s}.excalidraw .zen-mode-visibility.zen-mode-visibility--hidden{visibility:hidden;opacity:0;height:0;width:0;transition:opacity .5s}.excalidraw .disable-pointerEvents{pointer-events:none !important}.excalidraw.excalidraw--view-mode .App-menu{display:flex;justify-content:space-between}.excalidraw input[type=text],.excalidraw textarea:not(.excalidraw-wysiwyg){color:var(--text-primary-color);border:1.5px solid var(--input-border-color);padding:.75rem;white-space:nowrap;border-radius:var(--space-factor);background-color:var(--input-bg-color)}.excalidraw input[type=text]:not(:focus):hover,.excalidraw textarea:not(.excalidraw-wysiwyg):not(:focus):hover{border-color:var(--color-brand-hover)}.excalidraw input[type=text]:focus,.excalidraw textarea:not(.excalidraw-wysiwyg):focus{outline:none;border-color:var(--color-brand-hover)}@media print{.excalidraw .App-bottom-bar,.excalidraw .FixedSideContainer,.excalidraw .layer-ui__wrapper{display:none}}.excalidraw ::-webkit-scrollbar{width:3px;height:3px}.excalidraw select::-webkit-scrollbar{width:10px}.excalidraw ::-webkit-scrollbar-thumb{background:var(--scrollbar-thumb);border-radius:10px}.excalidraw ::-webkit-scrollbar-thumb:hover{background:var(--scrollbar-thumb-hover)}.excalidraw ::-webkit-scrollbar-thumb:active{background:var(--scrollbar-thumb)}.excalidraw .mobile-misc-tools-container{position:absolute;top:calc(5rem - var(--editor-container-padding));right:calc(var(--editor-container-padding)*-1);display:flex;flex-direction:column;border:1px solid var(--sidebar-border-color);border-top-left-radius:var(--border-radius-lg);border-bottom-left-radius:var(--border-radius-lg);border-right:0;overflow:hidden;background-color:var(--island-bg-color)}.excalidraw .mobile-misc-tools-container .ToolIcon__icon{width:2rem;height:2rem;border-radius:0}.excalidraw .mobile-misc-tools-container .default-sidebar-trigger{border:0}.excalidraw .App-toolbar--mobile{overflow:visible;max-width:98vw}.excalidraw .App-toolbar--mobile .ToolIcon__keybinding{display:none}.excalidraw .UserList-Wrapper{margin:0;padding:0;border:none;text-align:left}.excalidraw .UserList-Wrapper legend{display:block;font-size:.75rem;font-weight:400;margin:0 0 .25rem;padding:0}.excalidraw .main-menu-trigger{border:none;box-shadow:0 0 0 1px var(--color-surface-lowest);background-color:var(--color-surface-low)}.excalidraw .main-menu-trigger:active{box-shadow:0 0 0 1px var(--color-brand-active)}.excalidraw .App-menu__left{--button-border: transparent;--button-bg: var(--color-surface-mid)}.excalidraw.theme--dark.excalidraw .App-menu__left{--button-hover-bg: #363541;--button-bg: var(--color-surface-high)}.ErrorSplash.excalidraw{min-height:100vh;padding:20px 0;overflow:auto;display:flex;align-items:center;justify-content:center;-webkit-user-select:text;user-select:text}.ErrorSplash.excalidraw .ErrorSplash-messageContainer{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;background-color:#ffe3e3;border:3px solid #c92a2a}.ErrorSplash.excalidraw .ErrorSplash-paragraph{margin:15px 0;max-width:600px}.ErrorSplash.excalidraw .ErrorSplash-paragraph.align-center{text-align:center}.ErrorSplash.excalidraw .bigger,.ErrorSplash.excalidraw .bigger button{font-size:1.1em}.ErrorSplash.excalidraw .smaller,.ErrorSplash.excalidraw .smaller button{font-size:.9em}.ErrorSplash.excalidraw .ErrorSplash-details{display:flex;flex-direction:column;align-items:flex-start}.ErrorSplash.excalidraw .ErrorSplash-details textarea{width:100%;margin:10px 0;font-family:"Cascadia";font-size:.8em}.excalidraw__embeddable-container .excalidraw__embeddable-container__inner{overflow:hidden;display:flex;align-items:center;justify-content:center;border-radius:var(--embeddable-radius)}.excalidraw__embeddable-container .excalidraw__embeddable__outer{width:100%;height:100%}.excalidraw__embeddable-container .excalidraw__embeddable__outer>*{border-radius:var(--embeddable-radius)}.excalidraw__embeddable-container .excalidraw__embeddable-hint{position:absolute;z-index:1;background:rgba(0,0,0,.5);padding:1rem 1.6rem;border-radius:12px;color:#fff;font-weight:bold;letter-spacing:.6px;font-family:"Assistant"}',""]),n.Z=j},6464:function(ue,n,r){var A=r(8081),k=r.n(A),b=r(3645),w=r.n(b)()(k());w.push([ue.id,"",""]),w.locals={themeFilter:"invert(93%) hue-rotate(180deg)",rightSidebarWidth:"302px"},n.Z=w},5260:function(ue,n,r){var A=r(8081),k=r.n(A),b=r(3645),w=r.n(b)()(k());w.push([ue.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw-hyperlinkContainer{display:flex;align-items:center;justify-content:space-between;position:absolute;box-shadow:0px 2px 4px 0 rgba(0,0,0,.3);z-index:100;background:var(--island-bg-color);border-radius:var(--border-radius-md);box-sizing:border-box;min-height:42px}.excalidraw-hyperlinkContainer-input,.excalidraw-hyperlinkContainer button{z-index:100}.excalidraw-hyperlinkContainer-input,.excalidraw-hyperlinkContainer-link{height:24px;padding:0 8px;line-height:24px;font-size:.9rem;font-weight:500;font-family:var(--ui-font)}.excalidraw-hyperlinkContainer-input{width:18rem;border:none;background-color:rgba(0,0,0,0);color:var(--text-primary-color);outline:none;border:none;box-shadow:none !important}.excalidraw-hyperlinkContainer-link{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:15rem}.excalidraw-hyperlinkContainer button{color:#228be6;background-color:rgba(0,0,0,0) !important;font-weight:500}.excalidraw-hyperlinkContainer button.excalidraw-hyperlinkContainer--remove{color:#c92a2a}.excalidraw-hyperlinkContainer--remove .ToolIcon__icon svg{color:#fa5252}.excalidraw-hyperlinkContainer .ToolIcon__icon{width:2rem;height:2rem}.excalidraw-hyperlinkContainer__buttons{flex:0 0 auto}",""]),n.Z=w},3645:function(ue){ue.exports=function(n){var r=[];return r.toString=function(){return this.map(function(A){var k="",b=A[5]!==void 0;return A[4]&&(k+="@supports (".concat(A[4],") {")),A[2]&&(k+="@media ".concat(A[2]," {")),b&&(k+="@layer".concat(A[5].length>0?" ".concat(A[5]):""," {")),k+=n(A),b&&(k+="}"),A[2]&&(k+="}"),A[4]&&(k+="}"),k}).join("")},r.i=function(A,k,b,w,N){typeof A=="string"&&(A=[[null,A,void 0]]);var M={};if(b)for(var f=0;f<this.length;f++){var d=this[f][0];d!=null&&(M[d]=!0)}for(var j=0;j<A.length;j++){var L=[].concat(A[j]);b&&M[L[0]]||(N!==void 0&&(L[5]===void 0||(L[1]="@layer".concat(L[5].length>0?" ".concat(L[5]):""," {").concat(L[1],"}")),L[5]=N),k&&(L[2]&&(L[1]="@media ".concat(L[2]," {").concat(L[1],"}")),L[2]=k),w&&(L[4]?(L[1]="@supports (".concat(L[4],") {").concat(L[1],"}"),L[4]=w):L[4]="".concat(w)),r.push(L))}},r}},1667:function(ue){ue.exports=function(n,r){return r||(r={}),n&&(n=String(n.__esModule?n.default:n),/^['"].*['"]$/.test(n)&&(n=n.slice(1,-1)),r.hash&&(n+=r.hash),/["'() \t\n]|(%20)/.test(n)||r.needQuotes?'"'.concat(n.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):n)}},8081:function(ue){ue.exports=function(n){return n[1]}},7392:function(ue,n,r){r.d(n,{JQ:function(){return ge},vD:function(){return ke},y7:function(){return ve}});var A=r(1930),k=r(7169),b=r(9937),w=r(7651),N=r(583),M=r(4761),f=r(3474),d=r(4183),j=r(9827),L=r(2767);function H(J,Q){var K=typeof Symbol<"u"&&J[Symbol.iterator]||J["@@iterator"];if(!K){if(Array.isArray(J)||(K=function(v,i){if(v){if(typeof v=="string")return x(v,i);var a=Object.prototype.toString.call(v).slice(8,-1);if(a==="Object"&&v.constructor&&(a=v.constructor.name),a==="Map"||a==="Set")return Array.from(v);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return x(v,i)}}(J))||Q){K&&(J=K);var T=0,B=function(){};return{s:B,n:function(){return T>=J.length?{done:!0}:{done:!1,value:J[T++]}},e:function(v){throw v},f:B}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var O,R=!0,E=!1;return{s:function(){K=K.call(J)},n:function(){var v=K.next();return R=v.done,v},e:function(v){E=!0,O=v},f:function(){try{R||K.return==null||K.return()}finally{if(E)throw O}}}}function x(J,Q){(Q==null||Q>J.length)&&(Q=J.length);for(var K=0,T=new Array(Q);K<Q;K++)T[K]=J[K];return T}function S(J,Q){var K=Object.keys(J);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(J);Q&&(T=T.filter(function(B){return Object.getOwnPropertyDescriptor(J,B).enumerable})),K.push.apply(K,T)}return K}function q(J){for(var Q=1;Q<arguments.length;Q++){var K=arguments[Q]!=null?arguments[Q]:{};Q%2?S(Object(K),!0).forEach(function(T){(0,k.Z)(J,T,K[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(J,Object.getOwnPropertyDescriptors(K)):S(Object(K)).forEach(function(T){Object.defineProperty(J,T,Object.getOwnPropertyDescriptor(K,T))})}return J}var ve=(0,L.z)({name:"unbindText",contextItemLabel:"labels.unbindText",trackEvent:{category:"element"},predicate:function(J,Q,K,T){return T.scene.getSelectedElements(Q).some(function(B){return(0,d.Xo)(B)})},perform:function(J,Q,K,T){return T.scene.getSelectedElements(Q).forEach(function(B){var O=(0,M.WJ)(B);if(O){var R,E=(0,M.X1)(O.originalText,(0,j.mO)(O),O.lineHeight),v=E.width,i=E.height,a=E.baseline,y=(0,f.eR)(B.id);(0,f.kT)(B.id);var h=(0,M.FE)(B,O),m=h.x,C=h.y;(0,N.DR)(O,{containerId:null,width:v,height:i,baseline:a,text:O.originalText,x:m,y:C}),(0,N.DR)(B,{boundElements:(R=B.boundElements)===null||R===void 0?void 0:R.filter(function(U){return U.id!==O.id}),height:y||B.height})}}),{elements:J,appState:Q,commitToHistory:!0}}}),ke=(0,L.z)({name:"bindText",contextItemLabel:"labels.bindText",trackEvent:{category:"element"},predicate:function(J,Q,K,T){var B=T.scene.getSelectedElements(Q);if(B.length===2){var O,R=(0,w.iB)(B[0])||(0,w.iB)(B[1]);if((0,d.mG)(B[0])?O=B[0]:(0,d.mG)(B[1])&&(O=B[1]),R&&O&&(0,M.WJ)(O)===null)return!0}return!1},perform:function(J,Q,K,T){var B,O,R=T.scene.getSelectedElements(Q);(0,w.iB)(R[0])&&(0,d.mG)(R[1])?(B=R[0],O=R[1]):(B=R[1],O=R[0]),(0,N.DR)(B,{containerId:O.id,verticalAlign:b.oX.MIDDLE,textAlign:b.I8.CENTER}),(0,N.DR)(O,{boundElements:(O.boundElements||[]).concat({type:"text",id:B.id})});var E=O.height;return(0,M.oN)(B,O),(0,f.h_)(O.id,E),{elements:Se(J,O,B),appState:q(q({},Q),{},{selectedElementIds:(0,k.Z)({},O.id,!0)}),commitToHistory:!0}}}),Se=function(J,Q,K){var T=J.slice(),B=T.findIndex(function(R){return R.id===K.id});T.splice(B,1);var O=T.findIndex(function(R){return R.id===Q.id});return T.splice(O+1,0,K),T},ge=(0,L.z)({name:"wrapTextInContainer",contextItemLabel:"labels.createContainerFromText",trackEvent:{category:"element"},predicate:function(J,Q,K,T){var B=T.scene.getSelectedElements(Q),O=B.every(function(R){return(0,w.iB)(R)});return B.length>0&&O},perform:function(J,Q,K,T){var B,O=T.scene.getSelectedElements(Q),R=J.slice(),E={},v=H(O);try{var i=function(){var a=B.value;if((0,w.iB)(a)){var y,h=(0,w.Up)({type:"rectangle",backgroundColor:Q.currentItemBackgroundColor,boundElements:[].concat((0,A.Z)(a.boundElements||[]),[{id:a.id,type:"text"}]),angle:a.angle,fillStyle:Q.currentItemFillStyle,strokeColor:Q.currentItemStrokeColor,roughness:Q.currentItemRoughness,strokeWidth:Q.currentItemStrokeWidth,strokeStyle:Q.currentItemStrokeStyle,roundness:Q.currentItemRoundness==="round"?{type:(0,d.QI)("rectangle")?b.a6.ADAPTIVE_RADIUS:b.a6.PROPORTIONAL_RADIUS}:null,opacity:100,locked:!1,x:a.x-b.gK,y:a.y-b.gK,width:(0,M.NS)(a.width,"rectangle"),height:(0,M.NS)(a.height,"rectangle"),groupIds:a.groupIds,frameId:a.frameId});if((y=a.boundElements)!==null&&y!==void 0&&y.length){var m=a.boundElements.filter(function(C){return C.type==="arrow"}).map(function(C){return C.id});R.filter(function(C){return m.includes(C.id)}).forEach(function(C){var U,V,D=C.startBinding,P=C.endBinding;((U=D)===null||U===void 0?void 0:U.elementId)===a.id&&(D=q(q({},D),{},{elementId:h.id})),((V=P)===null||V===void 0?void 0:V.elementId)===a.id&&(P=q(q({},P),{},{elementId:h.id})),(D||P)&&(0,N.DR)(C,{startBinding:D,endBinding:P},!1)})}(0,N.DR)(a,{containerId:h.id,verticalAlign:b.oX.MIDDLE,boundElements:null,textAlign:b.I8.CENTER},!1),(0,M.oN)(a,h),R=function(C,U,V){var D=C.slice(),P=D.findIndex(function(X){return X.id===U.id});D.splice(P,1);var F=D.findIndex(function(X){return X.id===V.id});return D.splice(F,0,U),D}([].concat((0,A.Z)(R),[h]),h,a),E[h.id]=!0}};for(v.s();!(B=v.n()).done;)i()}catch(a){v.e(a)}finally{v.f()}return{elements:R,appState:q(q({},Q),{},{selectedElementIds:E}),commitToHistory:!0}}})},6006:function(ue,n,r){r.d(n,{CZ:function(){return R},JB:function(){return E},Lo:function(){return O},Zp:function(){return v},eF:function(){return i},mo:function(){return B}});var A=r(2577),k=r(7169),b=r(193),w=r(8935),N=r(1512),M=r(9937),f=r(7651),d=r(8227),j=r(5491),L=r(4105),H=r(2382),x=r(4116),S=r(9827),q=r(2767),ve=r(8925),ke=r(583),Se=r(6853),ge=r(9240),J=r(7652),Q=r(1020);function K(a,y){var h=Object.keys(a);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(a);y&&(m=m.filter(function(C){return Object.getOwnPropertyDescriptor(a,C).enumerable})),h.push.apply(h,m)}return h}function T(a){for(var y=1;y<arguments.length;y++){var h=arguments[y]!=null?arguments[y]:{};y%2?K(Object(h),!0).forEach(function(m){(0,k.Z)(a,m,h[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(h)):K(Object(h)).forEach(function(m){Object.defineProperty(a,m,Object.getOwnPropertyDescriptor(h,m))})}return a}(0,q.z)({name:"changeViewBackgroundColor",trackEvent:!1,predicate:function(a,y,h,m){return!!m.props.UIOptions.canvasActions.changeViewBackgroundColor&&!y.viewModeEnabled},perform:function(a,y,h){return{appState:T(T({},y),h),commitToHistory:!!h.viewBackgroundColor}},PanelComponent:function(a){var y=a.elements,h=a.appState,m=a.updateData;return a.appProps,(0,Q.jsx)(b.z,{palette:null,topPicks:ge.ay,label:(0,d.t)("labels.canvasBackground"),type:"canvasBackground",color:h.viewBackgroundColor,onChange:function(C){return m({viewBackgroundColor:C})},"data-testid":"canvas-background-picker",elements:y,appState:h,updateData:m})}});var B=(0,q.z)({name:"clearCanvas",trackEvent:{category:"canvas"},predicate:function(a,y,h,m){return!!m.props.UIOptions.canvasActions.clearCanvas&&!y.viewModeEnabled},perform:function(a,y,h,m){return m.imageCache.clear(),{elements:a.map(function(C){return(0,ke.BE)(C,{isDeleted:!0})}),appState:T(T({},(0,Se.im)()),{},{files:{},theme:y.theme,penMode:y.penMode,penDetected:y.penDetected,exportBackground:y.exportBackground,exportEmbedScene:y.exportEmbedScene,gridSize:y.gridSize,showStats:y.showStats,pasteDialog:y.pasteDialog,activeTool:y.activeTool.type==="image"?T(T({},y.activeTool),{},{type:"selection"}):y.activeTool}),commitToHistory:!0}}}),O=(0,q.z)({name:"zoomIn",viewMode:!0,trackEvent:{category:"canvas"},perform:function(a,y,h,m){return{appState:T(T({},y),(0,x.E)({viewportX:y.width/2+y.offsetLeft,viewportY:y.height/2+y.offsetTop,nextZoom:(0,L.j)(y.zoom.value+M.V4)},y)),commitToHistory:!1}},PanelComponent:function(a){var y=a.updateData;return(0,Q.jsx)(N.V,{type:"button",className:"zoom-in-button zoom-button",icon:w.Sd,title:"".concat((0,d.t)("buttons.zoomIn")," — ").concat((0,S.uY)("CtrlOrCmd++")),"aria-label":(0,d.t)("buttons.zoomIn"),onClick:function(){y(null)}})},keyTest:function(a){return(a.code===j.aU.EQUAL||a.code===j.aU.NUM_ADD)&&(a[j.tW.CTRL_OR_CMD]||a.shiftKey)}}),R=(0,q.z)({name:"zoomOut",viewMode:!0,trackEvent:{category:"canvas"},perform:function(a,y,h,m){return{appState:T(T({},y),(0,x.E)({viewportX:y.width/2+y.offsetLeft,viewportY:y.height/2+y.offsetTop,nextZoom:(0,L.j)(y.zoom.value-M.V4)},y)),commitToHistory:!1}},PanelComponent:function(a){var y=a.updateData;return(0,Q.jsx)(N.V,{type:"button",className:"zoom-out-button zoom-button",icon:w.xL,title:"".concat((0,d.t)("buttons.zoomOut")," — ").concat((0,S.uY)("CtrlOrCmd+-")),"aria-label":(0,d.t)("buttons.zoomOut"),onClick:function(){y(null)}})},keyTest:function(a){return(a.code===j.aU.MINUS||a.code===j.aU.NUM_SUBTRACT)&&(a[j.tW.CTRL_OR_CMD]||a.shiftKey)}}),E=((0,q.z)({name:"resetZoom",viewMode:!0,trackEvent:{category:"canvas"},perform:function(a,y,h,m){return{appState:T(T({},y),(0,x.E)({viewportX:y.width/2+y.offsetLeft,viewportY:y.height/2+y.offsetTop,nextZoom:(0,L.j)(1)},y)),commitToHistory:!1}},PanelComponent:function(a){var y=a.updateData,h=a.appState;return(0,Q.jsx)(ve.u,{label:(0,d.t)("buttons.resetZoom"),style:{height:"100%"},children:(0,Q.jsxs)(N.V,{type:"button",className:"reset-zoom-button zoom-button",title:(0,d.t)("buttons.resetZoom"),"aria-label":(0,d.t)("buttons.resetZoom"),onClick:function(){y(null)},children:[(100*h.zoom.value).toFixed(0),"%"]})})},keyTest:function(a){return(a.code===j.aU.ZERO||a.code===j.aU.NUM_ZERO)&&(a[j.tW.CTRL_OR_CMD]||a.shiftKey)}}),function(a){var y,h,m,C=a.targetElements,U=a.appState,V=a.fitToViewport,D=V!==void 0&&V,P=a.viewportZoomFactor,F=P===void 0?.7:P,X=(0,f.KP)((0,f.Lm)(C)),le=(0,A.Z)(X,4),de=le[0],fe=le[1],pe=le[2],ne=le[3],oe=(de+pe)/2,be=(fe+ne)/2;if(D){var Me=pe-de,Ge=ne-fe;y=Math.min(U.width/Me,U.height/Ge)*Math.min(1,Math.max(F,.1)),y=Math.min(Math.max(y,.1),30),h=U.width/2*(1/y)-oe,m=U.height/2*(1/y)-be}else{y=function(Ne,Pe){var Re=(0,A.Z)(Ne,4),Ze=Re[0],Ie=Re[1],Ee=Re[2],xe=Re[3],Z=Ee-Ze,u=Pe.width/Z,g=xe-Ie,z=Pe.height/g,Y=Math.min(u,z),te=Math.floor(Y/M.V4)*M.V4;return Math.min(Math.max(te,M.Zj),1)}(X,{width:U.width,height:U.height});var qe=(0,H.s)({scenePoint:{x:oe,y:be},viewportDimensions:{width:U.width,height:U.height},zoom:{value:y}});h=qe.scrollX,m=qe.scrollY}return{appState:T(T({},U),{},{scrollX:h,scrollY:m,zoom:{value:y}}),commitToHistory:!1}}),v=((0,q.z)({name:"zoomToFitSelectionInViewport",trackEvent:{category:"canvas"},perform:function(a,y,h,m){var C=m.scene.getSelectedElements(y);return E({targetElements:C.length?C:a,appState:y,fitToViewport:!1})},keyTest:function(a){return a.code===j.aU.TWO&&a.shiftKey&&!a.altKey&&!a[j.tW.CTRL_OR_CMD]}}),(0,q.z)({name:"zoomToFitSelection",trackEvent:{category:"canvas"},perform:function(a,y,h,m){var C=m.scene.getSelectedElements(y);return E({targetElements:C.length?C:a,appState:y,fitToViewport:!0})},keyTest:function(a){return a.code===j.aU.THREE&&a.shiftKey&&!a.altKey&&!a[j.tW.CTRL_OR_CMD]}}),(0,q.z)({name:"zoomToFit",viewMode:!0,trackEvent:{category:"canvas"},perform:function(a,y){return E({targetElements:a,appState:y,fitToViewport:!1})},keyTest:function(a){return a.code===j.aU.ONE&&a.shiftKey&&!a.altKey&&!a[j.tW.CTRL_OR_CMD]}}),(0,q.z)({name:"toggleTheme",viewMode:!0,trackEvent:{category:"canvas"},perform:function(a,y,h){return{appState:T(T({},y),{},{theme:h||(y.theme===M.C6.LIGHT?M.C6.DARK:M.C6.LIGHT)}),commitToHistory:!1}},keyTest:function(a){return a.altKey&&a.shiftKey&&a.code===j.aU.D},predicate:function(a,y,h,m){return!!m.props.UIOptions.canvasActions.toggleTheme}})),i=((0,q.z)({name:"toggleEraserTool",trackEvent:{category:"toolbar"},perform:function(a,y){var h;return h=(0,Se.EN)(y)?(0,S.Om)(y,T(T({},y.activeTool.lastActiveTool||{type:"selection"}),{},{lastActiveToolBeforeEraser:null})):(0,S.Om)(y,{type:"eraser",lastActiveToolBeforeEraser:y.activeTool}),{appState:T(T({},y),{},{selectedElementIds:{},selectedGroupIds:{},activeEmbeddable:null,activeTool:h}),commitToHistory:!0}},keyTest:function(a){return a.key===j.tW.E}}),(0,q.z)({name:"toggleHandTool",trackEvent:{category:"toolbar"},perform:function(a,y,h,m){var C;return(0,Se.l$)(y)?C=(0,S.Om)(y,T(T({},y.activeTool.lastActiveTool||{type:"selection"}),{},{lastActiveToolBeforeEraser:null})):(C=(0,S.Om)(y,{type:"hand",lastActiveToolBeforeEraser:y.activeTool}),(0,J.KJ)(m.interactiveCanvas,M.oc.GRAB)),{appState:T(T({},y),{},{selectedElementIds:{},selectedGroupIds:{},activeEmbeddable:null,activeTool:C}),commitToHistory:!0}},keyTest:function(a){return!a.altKey&&!a[j.tW.CTRL_OR_CMD]&&a.key===j.tW.H}}))},5047:function(ue,n,r){r.d(n,{FA:function(){return T},ZM:function(){return K},jK:function(){return B},uN:function(){return J},yQ:function(){return Q},zp:function(){return O}});var A=r(7169),k=r(8950),b=r(2975),w=r.n(b),N=r(5491),M=r(2767),f=r(4694),d=r(2448),j=r(2435),L=r(7651),H=r(8227),x=r(9937);function S(R,E){var v=Object.keys(R);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(R);E&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(R,a).enumerable})),v.push.apply(v,i)}return v}function q(R){for(var E=1;E<arguments.length;E++){var v=arguments[E]!=null?arguments[E]:{};E%2?S(Object(v),!0).forEach(function(i){(0,A.Z)(R,i,v[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(v)):S(Object(v)).forEach(function(i){Object.defineProperty(R,i,Object.getOwnPropertyDescriptor(v,i))})}return R}var ve,ke,Se,ge,J=(0,M.z)({name:"copy",trackEvent:{category:"element"},perform:(ve=(0,k.Z)(w().mark(function R(E,v,i,a){var y;return w().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return y=a.scene.getSelectedElements({selectedElementIds:v.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0}),h.prev=1,h.next=4,(0,f.vQ)(y,a.files,i);case 4:h.next=9;break;case 6:return h.prev=6,h.t0=h.catch(1),h.abrupt("return",{commitToHistory:!1,appState:q(q({},v),{},{errorMessage:h.t0.message})});case 9:return h.abrupt("return",{commitToHistory:!1});case 10:case"end":return h.stop()}},R,null,[[1,6]])})),function(R,E,v,i){return ve.apply(this,arguments)}),contextItemLabel:"labels.copy",keyTest:void 0}),Q=(0,M.z)({name:"paste",trackEvent:{category:"element"},perform:(ke=(0,k.Z)(w().mark(function R(E,v,i,a){var y;return w().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.prev=0,h.next=3,(0,f.Se)();case 3:y=h.sent,h.next=14;break;case 6:if(h.prev=6,h.t0=h.catch(0),h.t0.name!=="AbortError"&&h.t0.name!=="NotAllowedError"){h.next=10;break}return h.abrupt("return",!1);case 10:if(console.error("actionPaste ".concat(h.t0.name,": ").concat(h.t0.message)),!x.vU){h.next=13;break}return h.abrupt("return",{commitToHistory:!1,appState:q(q({},v),{},{errorMessage:(0,H.t)("hints.firefox_clipboard_write")})});case 13:return h.abrupt("return",{commitToHistory:!1,appState:q(q({},v),{},{errorMessage:(0,H.t)("errors.asyncPasteFailedOnRead")})});case 14:h.prev=14,a.pasteFromClipboard((0,f.OO)({types:y})),h.next=22;break;case 18:return h.prev=18,h.t1=h.catch(14),console.error(h.t1),h.abrupt("return",{commitToHistory:!1,appState:q(q({},v),{},{errorMessage:(0,H.t)("errors.asyncPasteFailedOnParse")})});case 22:return h.abrupt("return",{commitToHistory:!1});case 23:case"end":return h.stop()}},R,null,[[0,6],[14,18]])})),function(R,E,v,i){return ke.apply(this,arguments)}),contextItemLabel:"labels.paste",keyTest:void 0}),K=(0,M.z)({name:"cut",trackEvent:{category:"element"},perform:function(R,E,v,i){return J.perform(R,E,v,i),d.X.perform(R,E)},contextItemLabel:"labels.cut",keyTest:function(R){return R[N.tW.CTRL_OR_CMD]&&R.key===N.tW.X}}),T=(0,M.z)({name:"copyAsSvg",trackEvent:{category:"element"},perform:(Se=(0,k.Z)(w().mark(function R(E,v,i,a){var y,h,m;return w().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(a.canvas){C.next=2;break}return C.abrupt("return",{commitToHistory:!1});case 2:return y=(0,j.HD)(E,v,!0),h=y.exportedElements,m=y.exportingFrame,C.prev=3,C.next=6,(0,j.p1)("clipboard-svg",h,v,a.files,q(q({},v),{},{exportingFrame:m}));case 6:return C.abrupt("return",{commitToHistory:!1});case 9:return C.prev=9,C.t0=C.catch(3),console.error(C.t0),C.abrupt("return",{appState:q(q({},v),{},{errorMessage:C.t0.message}),commitToHistory:!1});case 13:case"end":return C.stop()}},R,null,[[3,9]])})),function(R,E,v,i){return Se.apply(this,arguments)}),predicate:function(R){return f.wx&&R.length>0},contextItemLabel:"labels.copyAsSvg"}),B=(0,M.z)({name:"copyAsPng",trackEvent:{category:"element"},perform:(ge=(0,k.Z)(w().mark(function R(E,v,i,a){var y,h,m,C;return w().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(a.canvas){U.next=2;break}return U.abrupt("return",{commitToHistory:!1});case 2:return y=a.scene.getSelectedElements({selectedElementIds:v.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0}),h=(0,j.HD)(E,v,!0),m=h.exportedElements,C=h.exportingFrame,U.prev=4,U.next=7,(0,j.p1)("clipboard",m,v,a.files,q(q({},v),{},{exportingFrame:C}));case 7:return U.abrupt("return",{appState:q(q({},v),{},{toast:{message:(0,H.t)("toast.copyToClipboardAsPng",{exportSelection:y.length?(0,H.t)("toast.selection"):(0,H.t)("toast.canvas"),exportColorScheme:v.exportWithDarkMode?(0,H.t)("buttons.darkMode"):(0,H.t)("buttons.lightMode")})}}),commitToHistory:!1});case 10:return U.prev=10,U.t0=U.catch(4),console.error(U.t0),U.abrupt("return",{appState:q(q({},v),{},{errorMessage:U.t0.message}),commitToHistory:!1});case 14:case"end":return U.stop()}},R,null,[[4,10]])})),function(R,E,v,i){return ge.apply(this,arguments)}),predicate:function(R){return f.vt&&R.length>0},contextItemLabel:"labels.copyAsPng",keyTest:function(R){return R.code===N.aU.C&&R.altKey&&R.shiftKey}}),O=(0,M.z)({name:"copyText",trackEvent:{category:"element"},perform:function(R,E,v,i){var a=i.scene.getSelectedElements({selectedElementIds:E.selectedElementIds,includeBoundTextElement:!0}).reduce(function(y,h){return(0,L.iB)(h)&&y.push(h.text),y},[]).join(`

`);return(0,f.dd)(a),{commitToHistory:!1}},predicate:function(R,E,v,i){return f.wx&&i.scene.getSelectedElements({selectedElementIds:E.selectedElementIds,includeBoundTextElement:!0}).some(L.iB)},contextItemLabel:"labels.copyText"})},2448:function(ue,n,r){r.d(n,{X:function(){return J}});var A=r(7169),k=r(4105),b=r(5491),w=r(1512),N=r(8227),M=r(2767),f=r(7651),d=r(583),j=r(9215),L=r(7422),H=r(9645),x=r(4183),S=r(9827),q=r(8935),ve=r(1020);function ke(Q,K){var T=Object.keys(Q);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(Q);K&&(B=B.filter(function(O){return Object.getOwnPropertyDescriptor(Q,O).enumerable})),T.push.apply(T,B)}return T}function Se(Q){for(var K=1;K<arguments.length;K++){var T=arguments[K]!=null?arguments[K]:{};K%2?ke(Object(T),!0).forEach(function(B){(0,A.Z)(Q,B,T[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Q,Object.getOwnPropertyDescriptors(T)):ke(Object(T)).forEach(function(B){Object.defineProperty(Q,B,Object.getOwnPropertyDescriptor(T,B))})}return Q}var ge=function(Q,K){if(Q.editingGroupId){var T=(0,j.Fb)((0,f.Lm)(K),Q.editingGroupId);if(T.length)return Se(Se({},Q),{},{selectedElementIds:(0,A.Z)({},T[0].id,!0)})}return Q},J=(0,M.z)({name:"deleteSelectedElements",trackEvent:{category:"element",action:"delete"},perform:function(Q,K){if(K.editingLinearElement){var T=K.editingLinearElement,B=T.elementId,O=T.selectedPointsIndices,R=T.startBindingElement,E=T.endBindingElement,v=L._.getElement(B);if(!v||O==null)return!1;if(v.points.length<2){var i=Q.map(function(C){return C.id===v.id?(0,d.BE)(C,{isDeleted:!0}):C});return{elements:i,appState:Se(Se({},ge(K,i)),{},{editingLinearElement:null}),commitToHistory:!1}}var a={startBindingElement:O!=null&&O.includes(0)?null:R,endBindingElement:O!=null&&O.includes(v.points.length-1)?null:E};return L._.deletePoints(v,O),{elements:Q,appState:Se(Se({},K),{},{editingLinearElement:Se(Se(Se({},K.editingLinearElement),a),{},{selectedPointsIndices:(O==null?void 0:O[0])>0?[O[0]-1]:[0]})}),commitToHistory:!0}}var y=function(C,U){var V=new Set((0,k.eD)(C.filter(function(D){return D.type==="frame"}),U).map(function(D){return D.id}));return{elements:C.map(function(D){return U.selectedElementIds[D.id]||D.frameId&&V.has(D.frameId)||(0,x.Xh)(D)&&U.selectedElementIds[D.containerId]?(0,d.BE)(D,{isDeleted:!0}):D}),appState:Se(Se({},U),{},{selectedElementIds:{},selectedGroupIds:{}})}}(Q,K),h=y.elements,m=y.appState;return(0,H.$q)(h,Q.filter(function(C){var U=C.id;return K.selectedElementIds[U]})),{elements:h,appState:Se(Se({},m=ge(m,h)),{},{activeTool:(0,S.Om)(K,{type:"selection"}),multiElement:null,activeEmbeddable:null}),commitToHistory:(0,k.N)((0,f.Lm)(Q),K)}},contextItemLabel:"labels.delete",keyTest:function(Q,K,T){return(Q.key===b.tW.BACKSPACE||Q.key===b.tW.DELETE)&&!Q[b.tW.CTRL_OR_CMD]},PanelComponent:function(Q){var K=Q.elements,T=Q.appState,B=Q.updateData;return(0,ve.jsx)(w.V,{type:"button",icon:q.XH,title:(0,N.t)("labels.delete"),"aria-label":(0,N.t)("labels.delete"),onClick:function(){return B(null)},visible:(0,k.N)((0,f.Lm)(K),T)})}})},9672:function(ue,n,r){r.d(n,{$:function(){return j},U:function(){return L}});var A=r(7169),k=r(583),b=r(5491),w=r(9827),N=r(2767);function M(H,x){var S=Object.keys(H);if(Object.getOwnPropertySymbols){var q=Object.getOwnPropertySymbols(H);x&&(q=q.filter(function(ve){return Object.getOwnPropertyDescriptor(H,ve).enumerable})),S.push.apply(S,q)}return S}function f(H){for(var x=1;x<arguments.length;x++){var S=arguments[x]!=null?arguments[x]:{};x%2?M(Object(S),!0).forEach(function(q){(0,A.Z)(H,q,S[q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(H,Object.getOwnPropertyDescriptors(S)):M(Object(S)).forEach(function(q){Object.defineProperty(H,q,Object.getOwnPropertyDescriptor(S,q))})}return H}var d=function(H){return H.every(function(x){return!x.locked})},j=(0,N.z)({name:"toggleElementLock",trackEvent:{category:"element"},predicate:function(H,x,S,q){return!q.scene.getSelectedElements(x).some(function(ve){return ve.locked&&ve.frameId})},perform:function(H,x,S,q){var ve=q.scene.getSelectedElements({selectedElementIds:x.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0});if(!ve.length)return!1;var ke=d(ve),Se=(0,w.xn)(ve);return{elements:H.map(function(ge){return Se.has(ge.id)?(0,k.BE)(ge,{locked:ke}):ge}),appState:f(f({},x),{},{selectedLinearElement:ke?null:x.selectedLinearElement}),commitToHistory:!0}},contextItemLabel:function(H,x,S){var q=S.scene.getSelectedElements({selectedElementIds:x.selectedElementIds,includeBoundTextElement:!1});return q.length===1&&q[0].type!=="frame"?q[0].locked?"labels.elementLock.unlock":"labels.elementLock.lock":d(q)?"labels.elementLock.lockAll":"labels.elementLock.unlockAll"},keyTest:function(H,x,S,q){return H.key.toLocaleLowerCase()===b.tW.L&&H[b.tW.CTRL_OR_CMD]&&H.shiftKey&&q.scene.getSelectedElements({selectedElementIds:x.selectedElementIds,includeBoundTextElement:!1}).length>0}}),L=(0,N.z)({name:"unlockAllElements",trackEvent:{category:"canvas"},viewMode:!1,predicate:function(H){return H.some(function(x){return x.locked})},perform:function(H,x){var S=H.filter(function(q){return q.locked});return{elements:H.map(function(q){return q.locked?(0,k.BE)(q,{locked:!1}):q}),appState:f(f({},x),{},{selectedElementIds:Object.fromEntries(S.map(function(q){return[q.id,!0]}))}),commitToHistory:!0}},contextItemLabel:"labels.elementLock.unlockAll"})},4406:function(ue,n,r){r.d(n,{XA:function(){return Ze},Du:function(){return Ie},sK:function(){return Re},zX:function(){return Pe},bJ:function(){return u},_d:function(){return Z},mM:function(){return xe},ns:function(){return Ee}});var A=r(8950),k=r(2577),b=r(7169),w=r(2975),N=r.n(w),M=r(8935),f=r(3379),d=r.n(f),j=r(7795),L=r.n(j),H=r(569),x=r.n(H),S=r(3565),q=r.n(S),ve=r(9216),ke=r.n(ve),Se=r(4589),ge=r.n(Se),J=r(6759),Q={};Q.styleTagTransform=ge(),Q.setAttributes=q(),Q.insert=x().bind(null,"head"),Q.domAPI=L(),Q.insertStyleElement=ke(),d()(J.Z,Q),J.Z&&J.Z.locals&&J.Z.locals;var K=r(9787),T=r(9827),B=r(532),O={};O.styleTagTransform=ge(),O.setAttributes=q(),O.insert=x().bind(null,"head"),O.domAPI=L(),O.insertStyleElement=ke(),d()(B.Z,O),B.Z&&B.Z.locals&&B.Z.locals;var R=r(8242),E=r(5491),v=r(1020),i=function(g){var z=(0,R.J0)().id,Y=(0,K.useState)(g.value),te=(0,k.Z)(Y,2),ae=te[0],ce=te[1];return(0,v.jsxs)("div",{className:"ProjectName",children:[(0,v.jsx)("label",{className:"ProjectName-label",htmlFor:"filename",children:"".concat(g.label).concat(g.isNameEditable?"":":")}),g.isNameEditable?(0,v.jsx)("input",{type:"text",className:"TextInput",onBlur:function(ye){g.ignoreFocus||(0,T.qz)(ye.target);var je=ye.target.value;je!==g.value&&g.onChange(je)},onKeyDown:function(ye){if(ye.key===E.tW.ENTER){if(ye.preventDefault(),ye.nativeEvent.isComposing||ye.keyCode===229)return;ye.currentTarget.blur()}},id:"".concat(z,"-filename"),value:ae,onChange:function(ye){return ce(ye.target.value)}}):(0,v.jsx)("span",{className:"TextInput TextInput--readonly",id:"".concat(z,"-filename"),children:g.value})]})},a=r(1512),y=r(8925),h=(r(3041),r(8227)),m=r(9937),C=function(g){var z=g.title||(g.value==="dark"?(0,h.t)("buttons.lightMode"):(0,h.t)("buttons.darkMode"));return(0,v.jsx)(a.V,{type:"icon",icon:g.value===m.C6.LIGHT?U.MOON:U.SUN,title:z,"aria-label":z,onClick:function(){return g.onChange(g.value===m.C6.DARK?m.C6.LIGHT:m.C6.DARK)},"data-testid":"toggle-dark-mode"})},U={SUN:(0,v.jsx)("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512",children:(0,v.jsx)("path",{fill:"currentColor",d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"})}),MOON:(0,v.jsx)("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512",children:(0,v.jsx)("path",{fill:"currentColor",d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"})})},V=r(2435),D=r(5796);function P(g,z){var Y=Object.keys(g);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(g);z&&(te=te.filter(function(ae){return Object.getOwnPropertyDescriptor(g,ae).enumerable})),Y.push.apply(Y,te)}return Y}function F(g){for(var z=1;z<arguments.length;z++){var Y=arguments[z]!=null?arguments[z]:{};z%2?P(Object(Y),!0).forEach(function(te){(0,b.Z)(g,te,Y[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(Y)):P(Object(Y)).forEach(function(te){Object.defineProperty(g,te,Object.getOwnPropertyDescriptor(Y,te))})}return g}var X=function(){var g=(0,A.Z)(N().mark(function z(Y,te,ae){var ce,ye,je,Be,Qe,rt,Ye,tt,ht;return N().wrap(function(gt){for(;;)switch(gt.prev=gt.next){case 0:if(ye=(ce=te).exportBackground,je=ce.viewBackgroundColor,Be=ce.name,Qe=ce.fileHandle,rt=(0,D.Qk)(Qe),Qe&&(0,D.DQ)(rt)){gt.next=4;break}throw new Error("fileHandle should exist and should be of type svg or png when resaving");case 4:return te=F(F({},te),{},{exportEmbedScene:!0}),Ye=(0,V.HD)(Y,te,!1),tt=Ye.exportedElements,ht=Ye.exportingFrame,gt.next=8,(0,V.p1)(rt,tt,te,ae,{exportBackground:ye,viewBackgroundColor:je,name:Be,fileHandle:Qe,exportingFrame:ht});case 8:return gt.abrupt("return",{fileHandle:Qe});case 9:case"end":return gt.stop()}},z)}));return function(z,Y,te){return g.apply(this,arguments)}}(),le=r(2767),de=r(6238),fe=r(3668),pe=r(4105),ne=r(7651),oe=r(6548);function be(g,z){var Y=Object.keys(g);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(g);z&&(te=te.filter(function(ae){return Object.getOwnPropertyDescriptor(g,ae).enumerable})),Y.push.apply(Y,te)}return Y}function Me(g){for(var z=1;z<arguments.length;z++){var Y=arguments[z]!=null?arguments[z]:{};z%2?be(Object(Y),!0).forEach(function(te){(0,b.Z)(g,te,Y[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(Y)):be(Object(Y)).forEach(function(te){Object.defineProperty(g,te,Object.getOwnPropertyDescriptor(Y,te))})}return g}var Ge,qe,Ne,Pe=(0,le.z)({name:"changeProjectName",trackEvent:!1,perform:function(g,z,Y){return{appState:Me(Me({},z),{},{name:Y}),commitToHistory:!1}},PanelComponent:function(g){var z,Y=g.appState,te=g.updateData,ae=g.appProps,ce=g.data;return(0,v.jsx)(i,{label:(0,h.t)("labels.fileTitle"),value:Y.name||"Unnamed",onChange:function(ye){return te(ye)},isNameEditable:ae.name===void 0&&!Y.viewModeEnabled,ignoreFocus:(z=ce==null?void 0:ce.ignoreFocus)!==null&&z!==void 0&&z})}}),Re=(0,le.z)({name:"changeExportScale",trackEvent:{category:"export",action:"scale"},perform:function(g,z,Y){return{appState:Me(Me({},z),{},{exportScale:Y}),commitToHistory:!1}},PanelComponent:function(g){var z=g.elements,Y=g.appState,te=g.updateData,ae=(0,ne.Lm)(z),ce=(0,pe.N)(ae,Y)?(0,pe.eD)(ae,Y):ae;return(0,v.jsx)(v.Fragment,{children:m.ZB.map(function(ye){var je=(0,fe.Cg)(ce,m.qy,ye),Be=(0,k.Z)(je,2),Qe=Be[0],rt=Be[1],Ye="".concat((0,h.t)("imageExportDialog.label.scale")," ").concat(ye,"x (").concat(Qe,"x").concat(rt,")");return(0,v.jsx)(a.V,{size:"small",type:"radio",icon:"".concat(ye,"x"),name:"export-canvas-scale",title:Ye,"aria-label":Ye,id:"export-canvas-scale",checked:ye===Y.exportScale,onChange:function(){return te(ye)}},ye)})})}}),Ze=(0,le.z)({name:"changeExportBackground",trackEvent:{category:"export",action:"toggleBackground"},perform:function(g,z,Y){return{appState:Me(Me({},z),{},{exportBackground:Y}),commitToHistory:!1}},PanelComponent:function(g){var z=g.appState,Y=g.updateData;return(0,v.jsx)(de.o,{checked:z.exportBackground,onChange:function(te){return Y(te)},children:(0,h.t)("imageExportDialog.label.withBackground")})}}),Ie=(0,le.z)({name:"changeExportEmbedScene",trackEvent:{category:"export",action:"embedScene"},perform:function(g,z,Y){return{appState:Me(Me({},z),{},{exportEmbedScene:Y}),commitToHistory:!1}},PanelComponent:function(g){var z=g.appState,Y=g.updateData;return(0,v.jsxs)(de.o,{checked:z.exportEmbedScene,onChange:function(te){return Y(te)},children:[(0,h.t)("imageExportDialog.label.embedScene"),(0,v.jsx)(y.u,{label:(0,h.t)("imageExportDialog.tooltip.embedScene"),long:!0,children:(0,v.jsx)("div",{className:"excalidraw-tooltip-icon",children:M.Vl})})]})}}),Ee=(0,le.z)({name:"saveToActiveFile",trackEvent:{category:"export"},predicate:function(g,z,Y,te){return!!te.props.UIOptions.canvasActions.saveToActiveFile&&!!z.fileHandle&&!z.viewModeEnabled},perform:(Ge=(0,A.Z)(N().mark(function g(z,Y,te,ae){var ce,ye,je;return N().wrap(function(Be){for(;;)switch(Be.prev=Be.next){case 0:if(ce=!!Y.fileHandle,Be.prev=1,!(0,D.g8)(Y.fileHandle)){Be.next=8;break}return Be.next=5,X(z,Y,ae.files);case 5:Be.t0=Be.sent,Be.next=11;break;case 8:return Be.next=10,(0,V.Um)(z,Y,ae.files);case 10:Be.t0=Be.sent;case 11:return ye=Be.t0,je=ye.fileHandle,Be.abrupt("return",{commitToHistory:!1,appState:Me(Me({},Y),{},{fileHandle:je,toast:ce?{message:je!=null&&je.name?(0,h.t)("toast.fileSavedToFilename").replace("{filename}",'"'.concat(je.name,'"')):(0,h.t)("toast.fileSaved")}:null})});case 16:return Be.prev=16,Be.t1=Be.catch(1),(Be.t1===null||Be.t1===void 0?void 0:Be.t1.name)!=="AbortError"?console.error(Be.t1):console.warn(Be.t1),Be.abrupt("return",{commitToHistory:!1});case 20:case"end":return Be.stop()}},g,null,[[1,16]])})),function(g,z,Y,te){return Ge.apply(this,arguments)}),keyTest:function(g){return g.key===E.tW.S&&g[E.tW.CTRL_OR_CMD]&&!g.shiftKey}}),xe=(0,le.z)({name:"saveFileToDisk",viewMode:!0,trackEvent:{category:"export"},perform:(qe=(0,A.Z)(N().mark(function g(z,Y,te,ae){var ce,ye;return N().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:return je.prev=0,je.next=3,(0,V.Um)(z,Me(Me({},Y),{},{fileHandle:null}),ae.files);case 3:return ce=je.sent,ye=ce.fileHandle,je.abrupt("return",{commitToHistory:!1,appState:Me(Me({},Y),{},{openDialog:null,fileHandle:ye,toast:{message:(0,h.t)("toast.fileSaved")}})});case 8:return je.prev=8,je.t0=je.catch(0),(je.t0===null||je.t0===void 0?void 0:je.t0.name)!=="AbortError"?console.error(je.t0):console.warn(je.t0),je.abrupt("return",{commitToHistory:!1});case 12:case"end":return je.stop()}},g,null,[[0,8]])})),function(g,z,Y,te){return qe.apply(this,arguments)}),keyTest:function(g){return g.key===E.tW.S&&g.shiftKey&&g[E.tW.CTRL_OR_CMD]},PanelComponent:function(g){var z=g.updateData;return(0,v.jsx)(a.V,{type:"button",icon:M.po,title:(0,h.t)("buttons.saveAs"),"aria-label":(0,h.t)("buttons.saveAs"),showAriaLabel:(0,R.Fy)().editor.isMobile,hidden:!oe.kr,onClick:function(){return z(null)},"data-testid":"save-as-button"})}}),Z=(0,le.z)({name:"loadScene",trackEvent:{category:"export"},predicate:function(g,z,Y,te){return!!te.props.UIOptions.canvasActions.loadScene&&!z.viewModeEnabled},perform:(Ne=(0,A.Z)(N().mark(function g(z,Y,te,ae){var ce,ye,je,Be;return N().wrap(function(Qe){for(;;)switch(Qe.prev=Qe.next){case 0:return Qe.prev=0,Qe.next=3,(0,V.n8)(Y,z);case 3:return ce=Qe.sent,ye=ce.elements,je=ce.appState,Be=ce.files,Qe.abrupt("return",{elements:ye,appState:je,files:Be,commitToHistory:!0});case 10:if(Qe.prev=10,Qe.t0=Qe.catch(0),(Qe.t0===null||Qe.t0===void 0?void 0:Qe.t0.name)!=="AbortError"){Qe.next=15;break}return console.warn(Qe.t0),Qe.abrupt("return",!1);case 15:return Qe.abrupt("return",{elements:z,appState:Me(Me({},Y),{},{errorMessage:Qe.t0.message}),files:ae.files,commitToHistory:!1});case 16:case"end":return Qe.stop()}},g,null,[[0,10]])})),function(g,z,Y,te){return Ne.apply(this,arguments)}),keyTest:function(g){return g[E.tW.CTRL_OR_CMD]&&g.key===E.tW.O}}),u=(0,le.z)({name:"exportWithDarkMode",trackEvent:{category:"export",action:"toggleTheme"},perform:function(g,z,Y){return{appState:Me(Me({},z),{},{exportWithDarkMode:Y}),commitToHistory:!1}},PanelComponent:function(g){var z=g.appState,Y=g.updateData;return(0,v.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"-45px",marginBottom:"10px"},children:(0,v.jsx)(C,{value:z.exportWithDarkMode?m.C6.DARK:m.C6.LIGHT,onChange:function(te){Y(te===m.C6.DARK)},title:(0,h.t)("imageExportDialog.label.darkMode")})})}})},3361:function(ue,n,r){r.d(n,{Tu:function(){return qe},Zq:function(){return Ne}});var A=r(1930),k=r(7169),b=r(9240),w=r(3646),N=r(45),M=r(1020),f=function(Pe){return(0,M.jsx)("div",{className:"buttonList buttonListIcon",children:Pe.options.map(function(Re){var Ze;return Pe.type==="button"?(0,M.jsx)("button",{onClick:function(Ie){return Pe.onClick(Re.value,Ie)},className:(0,N.Z)({active:(Ze=Re.active)!==null&&Ze!==void 0?Ze:Pe.value===Re.value}),"data-testid":Re.testId,title:Re.text,children:Re.icon},Re.text):(0,M.jsxs)("label",{className:(0,N.Z)({active:Pe.value===Re.value}),title:Re.text,children:[(0,M.jsx)("input",{type:"radio",name:Pe.group,onChange:function(){return Pe.onChange(Re.value)},checked:Pe.value===Re.value,"data-testid":Re.testId}),Re.icon]},Re.text)})})},d=r(193),j=r(2577),L=r(9787),H=r.n(L),x=r(3204),S=r(3379),q=r.n(S),ve=r(7795),ke=r.n(ve),Se=r(569),ge=r.n(Se),J=r(3565),Q=r.n(J),K=r(9216),T=r.n(K),B=r(4589),O=r.n(B),R=r(9478),E={};E.styleTagTransform=O(),E.setAttributes=Q(),E.insert=ge().bind(null,"head"),E.domAPI=ke(),E.insertStyleElement=T(),q()(R.Z,E),R.Z&&R.Z.locals&&R.Z.locals;var v=r(5491),i=r(8227);function a(Pe,Re){var Ze=Object.keys(Pe);if(Object.getOwnPropertySymbols){var Ie=Object.getOwnPropertySymbols(Pe);Re&&(Ie=Ie.filter(function(Ee){return Object.getOwnPropertyDescriptor(Pe,Ee).enumerable})),Ze.push.apply(Ze,Ie)}return Ze}function y(Pe){for(var Re=1;Re<arguments.length;Re++){var Ze=arguments[Re]!=null?arguments[Re]:{};Re%2?a(Object(Ze),!0).forEach(function(Ie){(0,k.Z)(Pe,Ie,Ze[Ie])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Pe,Object.getOwnPropertyDescriptors(Ze)):a(Object(Ze)).forEach(function(Ie){Object.defineProperty(Pe,Ie,Object.getOwnPropertyDescriptor(Ze,Ie))})}return Pe}function h(Pe){var Re=Pe.options,Ze=Pe.value,Ie=Pe.label,Ee=Pe.onChange,xe=Pe.onClose,Z=H().useRef(),u=H().useRef(),g=H().useRef(null);return H().useEffect(function(){u.current?u.current.focus():g.current&&g.current.focus()},[]),(0,M.jsx)("div",{className:"picker",role:"dialog","aria-modal":"true","aria-label":Ie,onKeyDown:function(z){var Y=Re.find(function(Qe){return Qe.keyBinding===z.key.toLowerCase()});if(z.metaKey||z.altKey||z.ctrlKey||!Y)if(z.key===v.tW.TAB)setTimeout(function(){u.current!==document.activeElement&&xe()},0);else if((0,v.Wl)(z.key)){var te=document.activeElement,ae=(0,i.G3)().rtl,ce=Array.prototype.indexOf.call(g.current.children,te);if(ce!==-1){var ye=Re.length,je=ce;switch(z.key){case(ae?v.tW.ARROW_LEFT:v.tW.ARROW_RIGHT):case v.tW.ARROW_DOWN:je=(ce+1)%ye;break;case(ae?v.tW.ARROW_RIGHT:v.tW.ARROW_LEFT):case v.tW.ARROW_UP:je=(ye+ce-1)%ye}g.current.children[je].focus()}z.preventDefault()}else z.key!==v.tW.ESCAPE&&z.key!==v.tW.ENTER||(z.preventDefault(),xe());else{var Be=Re.indexOf(Y);g.current.children[Be].focus(),z.preventDefault()}z.nativeEvent.stopImmediatePropagation(),z.stopPropagation()},children:(0,M.jsx)("div",{className:"picker-content",ref:g,children:Re.map(function(z,Y){return(0,M.jsxs)("button",{className:(0,N.Z)("picker-option",{active:Ze===z.value}),onClick:function(te){te.currentTarget.focus(),Ee(z.value)},title:"".concat(z.text," — ").concat(z.keyBinding.toUpperCase()),"aria-label":z.text||"none","aria-keyshortcuts":z.keyBinding,ref:function(te){te&&Y===0&&(Z.current=te),te&&z.value===Ze&&(u.current=te)},onFocus:function(){Ee(z.value)},children:[z.icon,(0,M.jsx)("span",{className:"picker-keybinding",children:z.keyBinding})]},z.text)})})})}function m(Pe){var Re,Ze=Pe.value,Ie=Pe.label,Ee=Pe.options,xe=Pe.onChange,Z=Pe.group,u=Z===void 0?"":Z,g=H().useState(!1),z=(0,j.Z)(g,2),Y=z[0],te=z[1],ae=H().useRef(null),ce=(0,i.G3)().rtl;return(0,M.jsxs)("div",{children:[(0,M.jsx)("button",{name:u,className:Y?"active":"","aria-label":Ie,onClick:function(){return te(!Y)},ref:ae,children:(Re=Ee.find(function(ye){return ye.value===Ze}))===null||Re===void 0?void 0:Re.icon}),(0,M.jsx)(H().Suspense,{fallback:"",children:Y?(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(x.J,y(y({onCloseRequest:function(ye){return ye.target!==ae.current&&te(!1)}},ce?{right:5.5}:{left:-5.5}),{},{children:(0,M.jsx)(h,{options:Ee,value:Ze,label:Ie,onChange:xe,onClose:function(){var ye;te(!1),(ye=ae.current)===null||ye===void 0||ye.focus()}})})),(0,M.jsx)("div",{className:"picker-triangle"})]}):null})]})}var C=r(8935),U=r(9937),V=r(7651),D=r(583),P=r(4761),F=r(4183),X=r(4643),le=r(4105),de=r(1648),fe=r(9827),pe=r(2767);function ne(Pe,Re){var Ze=Object.keys(Pe);if(Object.getOwnPropertySymbols){var Ie=Object.getOwnPropertySymbols(Pe);Re&&(Ie=Ie.filter(function(Ee){return Object.getOwnPropertyDescriptor(Pe,Ee).enumerable})),Ze.push.apply(Ze,Ie)}return Ze}function oe(Pe){for(var Re=1;Re<arguments.length;Re++){var Ze=arguments[Re]!=null?arguments[Re]:{};Re%2?ne(Object(Ze),!0).forEach(function(Ie){(0,k.Z)(Pe,Ie,Ze[Ie])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Pe,Object.getOwnPropertyDescriptors(Ze)):ne(Object(Ze)).forEach(function(Ie){Object.defineProperty(Pe,Ie,Object.getOwnPropertyDescriptor(Ze,Ie))})}return Pe}var be=function(Pe,Re,Ze){var Ie=arguments.length>3&&arguments[3]!==void 0&&arguments[3],Ee=(0,fe.xn)((0,le.eD)(Pe,Re,{includeBoundTextElement:Ie}));return Pe.map(function(xe){var Z;return Ee.get(xe.id)||xe.id===((Z=Re.editingElement)===null||Z===void 0?void 0:Z.id)?Ze(xe):xe})},Me=function(Pe,Re,Ze,Ie,Ee){var xe,Z=Re.editingElement,u=(0,V.Lm)(Pe),g=null;return Z&&(g=Ze(Z)),g||(g=(0,le.N)(u,Re)?(xe=(0,le.PR)(Ie===!0?u:u.filter(function(z){return Ie(z)}),Re,Ze))!==null&&xe!==void 0?xe:typeof Ee=="function"?Ee(!0):Ee:typeof Ee=="function"?Ee(!1):Ee),g},Ge=function(Pe,Re,Ze,Ie){var Ee=new Set;return{elements:be(Pe,Re,function(xe){if((0,V.iB)(xe)){var Z=Ze(xe);Ee.add(Z);var u=(0,D.BE)(xe,{fontSize:Z});return(0,V.oN)(u,(0,P.tl)(xe)),g=xe,z=u,u=(0,F.Xh)(z)?z:(0,D.DR)(z,{x:g.textAlign==="left"?g.x:g.x+(g.width-z.width)/(g.textAlign==="center"?2:1),y:g.y+(g.height-z.height)/2},!1)}var g,z;return xe},!0),appState:oe(oe({},Re),{},{currentItemFontSize:Ee.size===1?(0,A.Z)(Ee)[0]:Ie??Re.currentItemFontSize}),commitToHistory:!0}},qe=((0,pe.z)({name:"changeStrokeColor",trackEvent:!1,perform:function(Pe,Re,Ze){return oe(oe({},Ze.currentItemStrokeColor&&{elements:be(Pe,Re,function(Ie){return(0,de.PD)(Ie.type)?(0,D.BE)(Ie,{strokeColor:Ze.currentItemStrokeColor}):Ie},!0)}),{},{appState:oe(oe({},Re),Ze),commitToHistory:!!Ze.currentItemStrokeColor})},PanelComponent:function(Pe){var Re=Pe.elements,Ze=Pe.appState,Ie=Pe.updateData;return Pe.appProps,(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)("h3",{"aria-hidden":"true",children:(0,i.t)("labels.stroke")}),(0,M.jsx)(d.z,{topPicks:b.fY,palette:b.Wk,type:"elementStroke",label:(0,i.t)("labels.stroke"),color:Me(Re,Ze,function(Ee){return Ee.strokeColor},!0,Ze.currentItemStrokeColor),onChange:function(Ee){return Ie({currentItemStrokeColor:Ee})},elements:Re,appState:Ze,updateData:Ie})]})}}),(0,pe.z)({name:"changeBackgroundColor",trackEvent:!1,perform:function(Pe,Re,Ze){return oe(oe({},Ze.currentItemBackgroundColor&&{elements:be(Pe,Re,function(Ie){return(0,D.BE)(Ie,{backgroundColor:Ze.currentItemBackgroundColor})})}),{},{appState:oe(oe({},Re),Ze),commitToHistory:!!Ze.currentItemBackgroundColor})},PanelComponent:function(Pe){var Re=Pe.elements,Ze=Pe.appState,Ie=Pe.updateData;return Pe.appProps,(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)("h3",{"aria-hidden":"true",children:(0,i.t)("labels.background")}),(0,M.jsx)(d.z,{topPicks:b.eq,palette:b.SF,type:"elementBackground",label:(0,i.t)("labels.background"),color:Me(Re,Ze,function(Ee){return Ee.backgroundColor},!0,Ze.currentItemBackgroundColor),onChange:function(Ee){return Ie({currentItemBackgroundColor:Ee})},elements:Re,appState:Ze,updateData:Ie})]})}}),(0,pe.z)({name:"changeFillStyle",trackEvent:!1,perform:function(Pe,Re,Ze,Ie){return(0,w.L)("element","changeFillStyle","".concat(Ze," (").concat(Ie.device.editor.isMobile?"mobile":"desktop",")")),{elements:be(Pe,Re,function(Ee){return(0,D.BE)(Ee,{fillStyle:Ze})}),appState:oe(oe({},Re),{},{currentItemFillStyle:Ze}),commitToHistory:!0}},PanelComponent:function(Pe){var Re=Pe.elements,Ze=Pe.appState,Ie=Pe.updateData,Ee=(0,le.eD)(Re,Ze),xe=Ee.length>0&&Ee.every(function(Z){return Z.fillStyle==="zigzag"});return(0,M.jsxs)("fieldset",{children:[(0,M.jsx)("legend",{children:(0,i.t)("labels.fill")}),(0,M.jsx)(f,{type:"button",options:[{value:"hachure",text:"".concat(xe?(0,i.t)("labels.zigzag"):(0,i.t)("labels.hachure")," (").concat((0,fe.uY)("Alt-Click"),")"),icon:xe?C.lF:C.a0,active:!!xe||void 0,testId:"fill-hachure"},{value:"cross-hatch",text:(0,i.t)("labels.crossHatch"),icon:C.np,testId:"fill-cross-hatch"},{value:"solid",text:(0,i.t)("labels.solid"),icon:C.X7,testId:"fill-solid"}],value:Me(Re,Ze,function(Z){return Z.fillStyle},function(Z){return Z.hasOwnProperty("fillStyle")},function(Z){return Z?null:Ze.currentItemFillStyle}),onClick:function(Z,u){var g=u.altKey&&Z==="hachure"&&Ee.every(function(z){return z.fillStyle==="hachure"})?"zigzag":Z;Ie(g)}})]})}}),(0,pe.z)({name:"changeStrokeWidth",trackEvent:!1,perform:function(Pe,Re,Ze){return{elements:be(Pe,Re,function(Ie){return(0,D.BE)(Ie,{strokeWidth:Ze})}),appState:oe(oe({},Re),{},{currentItemStrokeWidth:Ze}),commitToHistory:!0}},PanelComponent:function(Pe){var Re=Pe.elements,Ze=Pe.appState,Ie=Pe.updateData;return(0,M.jsxs)("fieldset",{children:[(0,M.jsx)("legend",{children:(0,i.t)("labels.strokeWidth")}),(0,M.jsx)(f,{group:"stroke-width",options:[{value:U.dg.thin,text:(0,i.t)("labels.thin"),icon:C.ZA,testId:"strokeWidth-thin"},{value:U.dg.bold,text:(0,i.t)("labels.bold"),icon:C.Wl,testId:"strokeWidth-bold"},{value:U.dg.extraBold,text:(0,i.t)("labels.extraBold"),icon:C.m9,testId:"strokeWidth-extraBold"}],value:Me(Re,Ze,function(Ee){return Ee.strokeWidth},function(Ee){return Ee.hasOwnProperty("strokeWidth")},function(Ee){return Ee?null:Ze.currentItemStrokeWidth}),onChange:function(Ee){return Ie(Ee)}})]})}}),(0,pe.z)({name:"changeSloppiness",trackEvent:!1,perform:function(Pe,Re,Ze){return{elements:be(Pe,Re,function(Ie){return(0,D.BE)(Ie,{seed:(0,X.LU)(),roughness:Ze})}),appState:oe(oe({},Re),{},{currentItemRoughness:Ze}),commitToHistory:!0}},PanelComponent:function(Pe){var Re=Pe.elements,Ze=Pe.appState,Ie=Pe.updateData;return(0,M.jsxs)("fieldset",{children:[(0,M.jsx)("legend",{children:(0,i.t)("labels.sloppiness")}),(0,M.jsx)(f,{group:"sloppiness",options:[{value:0,text:(0,i.t)("labels.architect"),icon:C.bf},{value:1,text:(0,i.t)("labels.artist"),icon:C.kM},{value:2,text:(0,i.t)("labels.cartoonist"),icon:C.W2}],value:Me(Re,Ze,function(Ee){return Ee.roughness},function(Ee){return Ee.hasOwnProperty("roughness")},function(Ee){return Ee?null:Ze.currentItemRoughness}),onChange:function(Ee){return Ie(Ee)}})]})}}),(0,pe.z)({name:"changeStrokeStyle",trackEvent:!1,perform:function(Pe,Re,Ze){return{elements:be(Pe,Re,function(Ie){return(0,D.BE)(Ie,{strokeStyle:Ze})}),appState:oe(oe({},Re),{},{currentItemStrokeStyle:Ze}),commitToHistory:!0}},PanelComponent:function(Pe){var Re=Pe.elements,Ze=Pe.appState,Ie=Pe.updateData;return(0,M.jsxs)("fieldset",{children:[(0,M.jsx)("legend",{children:(0,i.t)("labels.strokeStyle")}),(0,M.jsx)(f,{group:"strokeStyle",options:[{value:"solid",text:(0,i.t)("labels.strokeStyle_solid"),icon:C.ZA},{value:"dashed",text:(0,i.t)("labels.strokeStyle_dashed"),icon:C.a5},{value:"dotted",text:(0,i.t)("labels.strokeStyle_dotted"),icon:C.aT}],value:Me(Re,Ze,function(Ee){return Ee.strokeStyle},function(Ee){return Ee.hasOwnProperty("strokeStyle")},function(Ee){return Ee?null:Ze.currentItemStrokeStyle}),onChange:function(Ee){return Ie(Ee)}})]})}}),(0,pe.z)({name:"changeOpacity",trackEvent:!1,perform:function(Pe,Re,Ze){return{elements:be(Pe,Re,function(Ie){return(0,D.BE)(Ie,{opacity:Ze})},!0),appState:oe(oe({},Re),{},{currentItemOpacity:Ze}),commitToHistory:!0}},PanelComponent:function(Pe){var Re,Ze=Pe.elements,Ie=Pe.appState,Ee=Pe.updateData;return(0,M.jsxs)("label",{className:"control-label",children:[(0,i.t)("labels.opacity"),(0,M.jsx)("input",{type:"range",min:"0",max:"100",step:"10",onChange:function(xe){return Ee(+xe.target.value)},value:(Re=Me(Ze,Ie,function(xe){return xe.opacity},!0,Ie.currentItemOpacity))!==null&&Re!==void 0?Re:void 0})]})}}),(0,pe.z)({name:"changeFontSize",trackEvent:!1,perform:function(Pe,Re,Ze){return Ge(Pe,Re,function(){return Ze},Ze)},PanelComponent:function(Pe){var Re=Pe.elements,Ze=Pe.appState,Ie=Pe.updateData;return(0,M.jsxs)("fieldset",{children:[(0,M.jsx)("legend",{children:(0,i.t)("labels.fontSize")}),(0,M.jsx)(f,{group:"font-size",options:[{value:16,text:(0,i.t)("labels.small"),icon:C.q0,testId:"fontSize-small"},{value:20,text:(0,i.t)("labels.medium"),icon:C.nq,testId:"fontSize-medium"},{value:28,text:(0,i.t)("labels.large"),icon:C.tW,testId:"fontSize-large"},{value:36,text:(0,i.t)("labels.veryLarge"),icon:C.OA,testId:"fontSize-veryLarge"}],value:Me(Re,Ze,function(Ee){if((0,V.iB)(Ee))return Ee.fontSize;var xe=(0,P.WJ)(Ee);return xe?xe.fontSize:null},function(Ee){return(0,V.iB)(Ee)||(0,P.WJ)(Ee)!==null},function(Ee){return Ee?null:Ze.currentItemFontSize||U.n5}),onChange:function(Ee){return Ie(Ee)}})]})}}),(0,pe.z)({name:"decreaseFontSize",trackEvent:!1,perform:function(Pe,Re,Ze){return Ge(Pe,Re,function(Ie){return Math.round(1/1.1*Ie.fontSize)})},keyTest:function(Pe){return Pe[v.tW.CTRL_OR_CMD]&&Pe.shiftKey&&(Pe.key===v.tW.CHEVRON_LEFT||Pe.key===v.tW.COMMA)}})),Ne=(0,pe.z)({name:"increaseFontSize",trackEvent:!1,perform:function(Pe,Re,Ze){return Ge(Pe,Re,function(Ie){return Math.round(1.1*Ie.fontSize)})},keyTest:function(Pe){return Pe[v.tW.CTRL_OR_CMD]&&Pe.shiftKey&&(Pe.key===v.tW.CHEVRON_RIGHT||Pe.key===v.tW.PERIOD)}});(0,pe.z)({name:"changeFontFamily",trackEvent:!1,perform:function(Pe,Re,Ze){return{elements:be(Pe,Re,function(Ie){if((0,V.iB)(Ie)){var Ee=(0,D.BE)(Ie,{fontFamily:Ze,lineHeight:(0,P.PT)(Ze)});return(0,V.oN)(Ee,(0,P.tl)(Ie)),Ee}return Ie},!0),appState:oe(oe({},Re),{},{currentItemFontFamily:Ze}),commitToHistory:!0}},PanelComponent:function(Pe){var Re=Pe.elements,Ze=Pe.appState,Ie=Pe.updateData,Ee=[{value:U.ut.Virgil,text:(0,i.t)("labels.handDrawn"),icon:C.Pm,testId:"font-family-virgil"},{value:U.ut.Helvetica,text:(0,i.t)("labels.normal"),icon:C.vo,testId:"font-family-normal"},{value:U.ut.Cascadia,text:(0,i.t)("labels.code"),icon:C.z6,testId:"font-family-code"}];return(0,M.jsxs)("fieldset",{children:[(0,M.jsx)("legend",{children:(0,i.t)("labels.fontFamily")}),(0,M.jsx)(f,{group:"font-family",options:Ee,value:Me(Re,Ze,function(xe){if((0,V.iB)(xe))return xe.fontFamily;var Z=(0,P.WJ)(xe);return Z?Z.fontFamily:null},function(xe){return(0,V.iB)(xe)||(0,P.WJ)(xe)!==null},function(xe){return xe?null:Ze.currentItemFontFamily||U.rk}),onChange:function(xe){return Ie(xe)}})]})}}),(0,pe.z)({name:"changeTextAlign",trackEvent:!1,perform:function(Pe,Re,Ze){return{elements:be(Pe,Re,function(Ie){if((0,V.iB)(Ie)){var Ee=(0,D.BE)(Ie,{textAlign:Ze});return(0,V.oN)(Ee,(0,P.tl)(Ie)),Ee}return Ie},!0),appState:oe(oe({},Re),{},{currentItemTextAlign:Ze}),commitToHistory:!0}},PanelComponent:function(Pe){var Re=Pe.elements,Ze=Pe.appState,Ie=Pe.updateData;return(0,M.jsxs)("fieldset",{children:[(0,M.jsx)("legend",{children:(0,i.t)("labels.textAlign")}),(0,M.jsx)(f,{group:"text-align",options:[{value:"left",text:(0,i.t)("labels.left"),icon:C.rr,testId:"align-left"},{value:"center",text:(0,i.t)("labels.center"),icon:C.o3,testId:"align-horizontal-center"},{value:"right",text:(0,i.t)("labels.right"),icon:C.oT,testId:"align-right"}],value:Me(Re,Ze,function(Ee){if((0,V.iB)(Ee))return Ee.textAlign;var xe=(0,P.WJ)(Ee);return xe?xe.textAlign:null},function(Ee){return(0,V.iB)(Ee)||(0,P.WJ)(Ee)!==null},function(Ee){return Ee?null:Ze.currentItemTextAlign}),onChange:function(Ee){return Ie(Ee)}})]})}}),(0,pe.z)({name:"changeVerticalAlign",trackEvent:{category:"element"},perform:function(Pe,Re,Ze){return{elements:be(Pe,Re,function(Ie){if((0,V.iB)(Ie)){var Ee=(0,D.BE)(Ie,{verticalAlign:Ze});return(0,V.oN)(Ee,(0,P.tl)(Ie)),Ee}return Ie},!0),appState:oe({},Re),commitToHistory:!0}},PanelComponent:function(Pe){var Re=Pe.elements,Ze=Pe.appState,Ie=Pe.updateData;return(0,M.jsx)("fieldset",{children:(0,M.jsx)(f,{group:"text-align",options:[{value:U.oX.TOP,text:(0,i.t)("labels.alignTop"),icon:(0,M.jsx)(C.EO,{theme:Ze.theme}),testId:"align-top"},{value:U.oX.MIDDLE,text:(0,i.t)("labels.centerVertically"),icon:(0,M.jsx)(C.P7,{theme:Ze.theme}),testId:"align-middle"},{value:U.oX.BOTTOM,text:(0,i.t)("labels.alignBottom"),icon:(0,M.jsx)(C.aA,{theme:Ze.theme}),testId:"align-bottom"}],value:Me(Re,Ze,function(Ee){if((0,V.iB)(Ee)&&Ee.containerId)return Ee.verticalAlign;var xe=(0,P.WJ)(Ee);return xe?xe.verticalAlign:null},function(Ee){return(0,V.iB)(Ee)||(0,P.WJ)(Ee)!==null},function(Ee){return Ee?null:U.oX.MIDDLE}),onChange:function(Ee){return Ie(Ee)}})})}}),(0,pe.z)({name:"changeRoundness",trackEvent:!1,perform:function(Pe,Re,Ze){return{elements:be(Pe,Re,function(Ie){return(0,D.BE)(Ie,{roundness:Ze==="round"?{type:(0,F.QI)(Ie.type)?U.a6.ADAPTIVE_RADIUS:U.a6.PROPORTIONAL_RADIUS}:null})}),appState:oe(oe({},Re),{},{currentItemRoundness:Ze}),commitToHistory:!0}},PanelComponent:function(Pe){var Re=Pe.elements,Ze=Pe.appState,Ie=Pe.updateData,Ee=(0,le.Zs)((0,V.Lm)(Re),Ze).some(function(xe){var Z;return((Z=xe.roundness)===null||Z===void 0?void 0:Z.type)===U.a6.LEGACY});return(0,M.jsxs)("fieldset",{children:[(0,M.jsx)("legend",{children:(0,i.t)("labels.edges")}),(0,M.jsx)(f,{group:"edges",options:[{value:"sharp",text:(0,i.t)("labels.sharp"),icon:C.wr},{value:"round",text:(0,i.t)("labels.round"),icon:C.DS}],value:Me(Re,Ze,function(xe){return Ee?null:xe.roundness?"round":"sharp"},function(xe){return xe.hasOwnProperty("roundness")},function(xe){return xe?null:Ze.currentItemRoundness}),onChange:function(xe){return Ie(xe)}})]})}}),(0,pe.z)({name:"changeArrowhead",trackEvent:!1,perform:function(Pe,Re,Ze){return{elements:be(Pe,Re,function(Ie){if((0,F.bt)(Ie)){var Ee=Ze.position,xe=Ze.type;if(Ee==="start")return(0,D.BE)(Ie,{startArrowhead:xe});if(Ee==="end")return(0,D.BE)(Ie,{endArrowhead:xe})}return Ie}),appState:oe(oe({},Re),{},(0,k.Z)({},Ze.position==="start"?"currentItemStartArrowhead":"currentItemEndArrowhead",Ze.type)),commitToHistory:!0}},PanelComponent:function(Pe){var Re=Pe.elements,Ze=Pe.appState,Ie=Pe.updateData,Ee=(0,i.G3)().rtl;return(0,M.jsxs)("fieldset",{children:[(0,M.jsx)("legend",{children:(0,i.t)("labels.arrowheads")}),(0,M.jsxs)("div",{className:"iconSelectList buttonList",children:[(0,M.jsx)(m,{label:"arrowhead_start",options:[{value:null,text:(0,i.t)("labels.arrowhead_none"),icon:C.fr,keyBinding:"q"},{value:"arrow",text:(0,i.t)("labels.arrowhead_arrow"),icon:(0,M.jsx)(C.il,{flip:!Ee}),keyBinding:"w"},{value:"bar",text:(0,i.t)("labels.arrowhead_bar"),icon:(0,M.jsx)(C.m,{flip:!Ee}),keyBinding:"e"},{value:"dot",text:(0,i.t)("labels.arrowhead_dot"),icon:(0,M.jsx)(C.tn,{flip:!Ee}),keyBinding:"r"},{value:"triangle",text:(0,i.t)("labels.arrowhead_triangle"),icon:(0,M.jsx)(C.j8,{flip:!Ee}),keyBinding:"t"}],value:Me(Re,Ze,function(xe){return(0,F.bt)(xe)&&(0,le.Un)(xe.type)?xe.startArrowhead:Ze.currentItemStartArrowhead},!0,Ze.currentItemStartArrowhead),onChange:function(xe){return Ie({position:"start",type:xe})}}),(0,M.jsx)(m,{label:"arrowhead_end",group:"arrowheads",options:[{value:null,text:(0,i.t)("labels.arrowhead_none"),keyBinding:"q",icon:C.fr},{value:"arrow",text:(0,i.t)("labels.arrowhead_arrow"),keyBinding:"w",icon:(0,M.jsx)(C.il,{flip:Ee})},{value:"bar",text:(0,i.t)("labels.arrowhead_bar"),keyBinding:"e",icon:(0,M.jsx)(C.m,{flip:Ee})},{value:"dot",text:(0,i.t)("labels.arrowhead_dot"),keyBinding:"r",icon:(0,M.jsx)(C.tn,{flip:Ee})},{value:"triangle",text:(0,i.t)("labels.arrowhead_triangle"),icon:(0,M.jsx)(C.j8,{flip:Ee}),keyBinding:"t"}],value:Me(Re,Ze,function(xe){return(0,F.bt)(xe)&&(0,le.Un)(xe.type)?xe.endArrowhead:Ze.currentItemEndArrowhead},!0,Ze.currentItemEndArrowhead),onChange:function(xe){return Ie({position:"end",type:xe})}})]})]})}})},7080:function(ue,n,r){r.d(n,{u:function(){return M}});var A=r(7169),k=r(2767),b=r(5491);function w(f,d){var j=Object.keys(f);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(f);d&&(L=L.filter(function(H){return Object.getOwnPropertyDescriptor(f,H).enumerable})),j.push.apply(j,L)}return j}function N(f){for(var d=1;d<arguments.length;d++){var j=arguments[d]!=null?arguments[d]:{};d%2?w(Object(j),!0).forEach(function(L){(0,A.Z)(f,L,j[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(j)):w(Object(j)).forEach(function(L){Object.defineProperty(f,L,Object.getOwnPropertyDescriptor(j,L))})}return f}var M=(0,k.z)({name:"stats",viewMode:!0,trackEvent:{category:"menu"},perform:function(f,d){return{appState:N(N({},d),{},{showStats:!this.checked(d)}),commitToHistory:!1}},checked:function(f){return f.showStats},contextItemLabel:"stats.title",keyTest:function(f){return!f[b.tW.CTRL_OR_CMD]&&f.altKey&&f.code===b.aU.SLASH}})},5463:function(ue,n,r){r.d(n,{FL:function(){return rr},vD:function(){return bo.vD},yA:function(){return h},BZ:function(){return C},mo:function(){return Ee.mo},uN:function(){return ln.uN},jK:function(){return ln.jK},FA:function(){return ln.FA},pw:function(){return ye},ZM:function(){return ln.ZM},X9:function(){return A.X},xF:function(){return Ze},pL:function(){return z},jl:function(){return Cr},kt:function(){return Zr},EQ:function(){return et},nz:function(){return _o.nz},_d:function(){return Y._d},W3:function(){return je},mM:function(){return Y.mM},ns:function(){return Y.ns},Yy:function(){return le},V:function(){return y},zi:function(){return m},jY:function(){return rt},$h:function(){return wo.$},Pb:function(){return Wr},Qs:function(){return it},pm:function(){return Xn},u0:function(){return go.u},Zp:function(){return Ee.Zp},JN:function(){return an},y7:function(){return bo.y7},s:function(){return ft},zp:function(){return ln.zp}});var A=r(2448),k=r(2577),b=r(1930),w=r(583),N=r(4183),M=r(9215),f=r(4105),d=r(457),j=r(9827);function L(Oe,ze){var $e=typeof Symbol<"u"&&Oe[Symbol.iterator]||Oe["@@iterator"];if(!$e){if(Array.isArray(Oe)||($e=function(Vt,Er){if(Vt){if(typeof Vt=="string")return H(Vt,Er);var Lr=Object.prototype.toString.call(Vt).slice(8,-1);if(Lr==="Object"&&Vt.constructor&&(Lr=Vt.constructor.name),Lr==="Map"||Lr==="Set")return Array.from(Vt);if(Lr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Lr))return H(Vt,Er)}}(Oe))||ze){$e&&(Oe=$e);var pt=0,Kt=function(){};return{s:Kt,n:function(){return pt>=Oe.length?{done:!0}:{done:!1,value:Oe[pt++]}},e:function(Vt){throw Vt},f:Kt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var fr,vr=!0,Qt=!1;return{s:function(){$e=$e.call(Oe)},n:function(){var Vt=$e.next();return vr=Vt.done,Vt},e:function(Vt){Qt=!0,fr=Vt},f:function(){try{vr||$e.return==null||$e.return()}finally{if(Qt)throw fr}}}}function H(Oe,ze){(ze==null||ze>Oe.length)&&(ze=Oe.length);for(var $e=0,pt=new Array(ze);$e<ze;$e++)pt[$e]=Oe[$e];return pt}var x=function(Oe,ze){return Oe.frameId===ze||Oe.id===ze},S=function(Oe,ze,$e){for(var pt=[],Kt=[],fr=null,vr=-1,Qt=(0,j.xn)($e||(0,f.eD)(Oe,ze,{includeBoundTextElement:!0,includeElementsInFrames:!0}));++vr<Oe.length;){var Vt=Oe[vr];Qt.get(Vt.id)?(Kt.length&&(pt=pt.concat(Kt),Kt=[]),pt.push(vr),fr=vr+1):Vt.isDeleted&&fr===vr?(fr=vr+1,Kt.push(vr)):Kt=[]}return pt},q=function(Oe,ze,$e){if("containerId"in Oe&&Oe.containerId){if($e!=="left")return ze.indexOf(Oe);var pt=d.Z.getScene(Oe).getElement(Oe.containerId);if(pt)return ze.indexOf(pt)}else{var Kt,fr,vr=(Kt=Oe.boundElements)===null||Kt===void 0||(fr=Kt.find(function(Vt){return Vt.type!=="arrow"}))===null||fr===void 0?void 0:fr.id;if(vr){if($e==="left")return ze.indexOf(Oe);var Qt=d.Z.getScene(Oe).getElement(vr);if(Qt)return ze.indexOf(Qt)}}},ve=function(Oe,ze,$e,pt,Kt){var fr,vr,Qt,Vt,Er,Lr=ze[$e],Jr=function(eo){return!eo.isDeleted&&(Kt?eo.frameId===Kt:!Oe.editingGroupId||eo.groupIds.includes(Oe.editingGroupId))},on=pt==="left"?(0,j.qr)(ze,function(eo){return Jr(eo)},Math.max(0,$e-1)):(0,j.cx)(ze,function(eo){return Jr(eo)},$e+1),gn=ze[on];if(!gn)return-1;if(Oe.editingGroupId){var yn;if((Lr==null?void 0:Lr.groupIds.join(""))===(gn==null?void 0:gn.groupIds.join("")))return(yn=q(gn,ze,pt))!==null&&yn!==void 0?yn:on;if(gn==null||!gn.groupIds.includes(Oe.editingGroupId))return-1}if(!Kt&&(gn.frameId||gn.type==="frame")){var dn=(fr=ze,vr=gn.frameId||gn.id,Qt=-1,Vt=-1,fr.forEach(function(eo,So){x(eo,vr)&&(Qt===-1&&(Qt=So),Vt=So)}),Qt===-1?[]:fr.slice(Qt,Vt+1));return pt==="left"?ze.indexOf(dn[0]):ze.indexOf(dn[dn.length-1])}if(!gn.groupIds.length)return(Er=q(gn,ze,pt))!==null&&Er!==void 0?Er:on;var mn=Oe.editingGroupId?gn.groupIds[gn.groupIds.indexOf(Oe.editingGroupId)-1]:gn.groupIds[gn.groupIds.length-1],Hn=(0,M.Fb)(ze,mn);return Hn.length?pt==="left"?ze.indexOf(Hn[0]):ze.indexOf(Hn[Hn.length-1]):on},ke=function(Oe,ze){return ze.reduce(function($e,pt){var Kt=Oe[pt];return $e[Kt.id]=Kt,$e},{})},Se=function(Oe,ze,$e){var pt=S(Oe,ze),Kt=ke(Oe,pt),fr=function(Qt){var Vt=0;return Qt.reduce(function(Er,Lr,Jr){return Jr>0&&Qt[Jr-1]!==Lr-1&&(Vt=++Vt),(Er[Vt]||(Er[Vt]=[])).push(Lr),Er},[])}(pt);$e==="right"&&(fr=fr.reverse());var vr=new Set(pt.filter(function(Qt){return Oe[Qt].type==="frame"}).map(function(Qt){return Oe[Qt].id}));return fr.forEach(function(Qt,Vt){var Er,Lr=Qt[0],Jr=Qt[Qt.length-1],on=$e==="left"?Lr:Jr,gn=Qt.some(function(So){var Qo=Oe[So];return Qo.frameId&&vr.has(Qo.frameId)})?null:(Er=Oe[on])===null||Er===void 0?void 0:Er.frameId,yn=ve(ze,Oe,on,$e,gn);if(yn!==-1&&on!==yn){var dn=$e==="left"?Oe.slice(0,yn):Oe.slice(0,Lr),mn=Oe.slice(Lr,Jr+1),Hn=$e==="left"?Oe.slice(yn,Lr):Oe.slice(Jr+1,yn+1),eo=$e==="left"?Oe.slice(Jr+1):Oe.slice(yn+1);Oe=$e==="left"?[].concat((0,b.Z)(dn),(0,b.Z)(mn),(0,b.Z)(Hn),(0,b.Z)(eo)):[].concat((0,b.Z)(dn),(0,b.Z)(Hn),(0,b.Z)(mn),(0,b.Z)(eo))}}),Oe.map(function(Qt){return Kt[Qt.id]?(0,w.ZP)(Qt):Qt})},ge=function(Oe,ze,$e,pt,Kt){var fr,vr,Qt=S(Oe,ze,Kt),Vt=ke(Oe,Qt),Er=[];if($e==="left"){if(pt)fr=(0,j.cx)(Oe,function(mn){return x(mn,pt)});else if(ze.editingGroupId){var Lr=(0,M.Fb)(Oe,ze.editingGroupId);if(!Lr.length)return Oe;fr=Oe.indexOf(Lr[0])}else fr=0;vr=Qt[Qt.length-1]}else{if(pt)vr=(0,j.qr)(Oe,function(mn){return x(mn,pt)});else if(ze.editingGroupId){var Jr=(0,M.Fb)(Oe,ze.editingGroupId);if(!Jr.length)return Oe;vr=Oe.indexOf(Jr[Jr.length-1])}else vr=Oe.length-1;fr=Qt[0]}fr===-1&&(fr=0);for(var on=fr;on<vr+1;on++)Qt.includes(on)||Er.push(Oe[on]);var gn=Object.values(Vt).map(function(mn){return(0,w.ZP)(mn)}),yn=Oe.slice(0,fr),dn=Oe.slice(vr+1);return $e==="left"?[].concat((0,b.Z)(yn),(0,b.Z)(gn),Er,(0,b.Z)(dn)):[].concat((0,b.Z)(yn),Er,(0,b.Z)(gn),(0,b.Z)(dn))};function J(Oe,ze,$e,pt){var Kt,fr=(0,j.xn)((0,f.eD)(Oe,ze,{includeBoundTextElement:!0,includeElementsInFrames:!0})),vr={regularElements:[],frameChildren:new Map},Qt=new Set,Vt=L(Oe);try{for(Vt.s();!(Kt=Vt.n()).done;){var Er=Kt.value;fr.has(Er.id)&&(0,N.He)(Er)&&Qt.add(Er.id)}}catch(eo){Vt.e(eo)}finally{Vt.f()}var Lr,Jr=L(Oe);try{for(Jr.s();!(Lr=Jr.n()).done;){var on=Lr.value;if(fr.has(on.id))if((0,N.He)(on)||on.frameId&&Qt.has(on.frameId))vr.regularElements.push(on);else if(on.frameId){var gn=vr.frameChildren.get(on.frameId)||[];gn.push(on),vr.frameChildren.set(on.frameId,gn)}else vr.regularElements.push(on)}}catch(eo){Jr.e(eo)}finally{Jr.f()}for(var yn=Oe,dn=0,mn=Array.from(vr.frameChildren.entries());dn<mn.length;dn++){var Hn=(0,k.Z)(mn[dn],2);yn=pt(Oe,ze,$e,Hn[0],Hn[1])}return pt(yn,ze,$e,null,vr.regularElements)}var Q=function(Oe,ze){return Se(Oe,ze,"left")},K=function(Oe,ze){return Se(Oe,ze,"right")},T=function(Oe,ze){return J(Oe,ze,"left",ge)},B=function(Oe,ze){return J(Oe,ze,"right",ge)},O=r(5491),R=r(8227),E=r(2767),v=r(8935),i=r(9937),a=r(1020),y=(0,E.z)({name:"sendBackward",trackEvent:{category:"element"},perform:function(Oe,ze){return{elements:Q(Oe,ze),appState:ze,commitToHistory:!0}},contextItemLabel:"labels.sendBackward",keyPriority:40,keyTest:function(Oe){return Oe[O.tW.CTRL_OR_CMD]&&!Oe.shiftKey&&Oe.code===O.aU.BRACKET_LEFT},PanelComponent:function(Oe){var ze=Oe.updateData;return Oe.appState,(0,a.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return ze(null)},title:"".concat((0,R.t)("labels.sendBackward")," — ").concat((0,j.uY)("CtrlOrCmd+[")),children:v.Gc})}}),h=(0,E.z)({name:"bringForward",trackEvent:{category:"element"},perform:function(Oe,ze){return{elements:K(Oe,ze),appState:ze,commitToHistory:!0}},contextItemLabel:"labels.bringForward",keyPriority:40,keyTest:function(Oe){return Oe[O.tW.CTRL_OR_CMD]&&!Oe.shiftKey&&Oe.code===O.aU.BRACKET_RIGHT},PanelComponent:function(Oe){var ze=Oe.updateData;return Oe.appState,(0,a.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return ze(null)},title:"".concat((0,R.t)("labels.bringForward")," — ").concat((0,j.uY)("CtrlOrCmd+]")),children:v.t5})}}),m=(0,E.z)({name:"sendToBack",trackEvent:{category:"element"},perform:function(Oe,ze){return{elements:T(Oe,ze),appState:ze,commitToHistory:!0}},contextItemLabel:"labels.sendToBack",keyTest:function(Oe){return i.Um?Oe[O.tW.CTRL_OR_CMD]&&Oe.altKey&&Oe.code===O.aU.BRACKET_LEFT:Oe[O.tW.CTRL_OR_CMD]&&Oe.shiftKey&&Oe.code===O.aU.BRACKET_LEFT},PanelComponent:function(Oe){var ze=Oe.updateData;return Oe.appState,(0,a.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return ze(null)},title:"".concat((0,R.t)("labels.sendToBack")," — ").concat(i.Um?(0,j.uY)("CtrlOrCmd+Alt+["):(0,j.uY)("CtrlOrCmd+Shift+[")),children:v.pw})}}),C=(0,E.z)({name:"bringToFront",trackEvent:{category:"element"},perform:function(Oe,ze){return{elements:B(Oe,ze),appState:ze,commitToHistory:!0}},contextItemLabel:"labels.bringToFront",keyTest:function(Oe){return i.Um?Oe[O.tW.CTRL_OR_CMD]&&Oe.altKey&&Oe.code===O.aU.BRACKET_RIGHT:Oe[O.tW.CTRL_OR_CMD]&&Oe.shiftKey&&Oe.code===O.aU.BRACKET_RIGHT},PanelComponent:function(Oe){var ze=Oe.updateData;return Oe.appState,(0,a.jsx)("button",{type:"button",className:"zIndexButton",onClick:function($e){return ze(null)},title:"".concat((0,R.t)("labels.bringToFront")," — ").concat(i.Um?(0,j.uY)("CtrlOrCmd+Alt+]"):(0,j.uY)("CtrlOrCmd+Shift+]")),children:v.IN})}}),U=r(7169),V=r(7651),D=r(7422),P=r(6264);function F(Oe,ze){var $e=Object.keys(Oe);if(Object.getOwnPropertySymbols){var pt=Object.getOwnPropertySymbols(Oe);ze&&(pt=pt.filter(function(Kt){return Object.getOwnPropertyDescriptor(Oe,Kt).enumerable})),$e.push.apply($e,pt)}return $e}function X(Oe){for(var ze=1;ze<arguments.length;ze++){var $e=arguments[ze]!=null?arguments[ze]:{};ze%2?F(Object($e),!0).forEach(function(pt){(0,U.Z)(Oe,pt,$e[pt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Oe,Object.getOwnPropertyDescriptors($e)):F(Object($e)).forEach(function(pt){Object.defineProperty(Oe,pt,Object.getOwnPropertyDescriptor($e,pt))})}return Oe}var le=(0,E.z)({name:"selectAll",trackEvent:{category:"canvas"},perform:function(Oe,ze,$e,pt){if(ze.editingLinearElement)return!1;var Kt=(0,P.aI)(Oe.filter(function(fr){return!(fr.isDeleted||(0,V.iB)(fr)&&fr.containerId||fr.locked)})).reduce(function(fr,vr){return fr[vr.id]=!0,fr},{});return{appState:X(X(X({},ze),(0,M.bO)({editingGroupId:null,selectedElementIds:Kt},(0,V.Lm)(Oe),ze,pt)),{},{selectedLinearElement:Object.keys(Kt).length===1&&(0,N.bt)(Oe[0])?new D._(Oe[0],pt.scene):null}),commitToHistory:!0}},contextItemLabel:"labels.selectAll",keyTest:function(Oe){return Oe[O.tW.CTRL_OR_CMD]&&Oe.key===O.tW.A}}),de=r(1512),fe=r(9645),pe=r(4761);function ne(Oe,ze){var $e=typeof Symbol<"u"&&Oe[Symbol.iterator]||Oe["@@iterator"];if(!$e){if(Array.isArray(Oe)||($e=function(Vt,Er){if(Vt){if(typeof Vt=="string")return oe(Vt,Er);var Lr=Object.prototype.toString.call(Vt).slice(8,-1);if(Lr==="Object"&&Vt.constructor&&(Lr=Vt.constructor.name),Lr==="Map"||Lr==="Set")return Array.from(Vt);if(Lr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Lr))return oe(Vt,Er)}}(Oe))||ze){$e&&(Oe=$e);var pt=0,Kt=function(){};return{s:Kt,n:function(){return pt>=Oe.length?{done:!0}:{done:!1,value:Oe[pt++]}},e:function(Vt){throw Vt},f:Kt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var fr,vr=!0,Qt=!1;return{s:function(){$e=$e.call(Oe)},n:function(){var Vt=$e.next();return vr=Vt.done,Vt},e:function(Vt){Qt=!0,fr=Vt},f:function(){try{vr||$e.return==null||$e.return()}finally{if(Qt)throw fr}}}}function oe(Oe,ze){(ze==null||ze>Oe.length)&&(ze=Oe.length);for(var $e=0,pt=new Array(ze);$e<ze;$e++)pt[$e]=Oe[$e];return pt}var be=function(Oe){var ze=Oe.slice(),$e=new Set,pt=function fr(vr){var Qt,Vt,Er,Lr=(Qt=vr[0])===null||Qt===void 0||(Vt=Qt.groupIds)===null||Vt===void 0?void 0:Vt.join(""),Jr=[vr[0]],on=[],gn=ne(vr.slice(1));try{for(gn.s();!(Er=gn.n()).done;){var yn,dn=Er.value;((yn=dn.groupIds)===null||yn===void 0?void 0:yn.join(""))===Lr?Jr.push(dn):on.push(dn)}}catch(mn){gn.e(mn)}finally{gn.f()}return on.length?[].concat(Jr,(0,b.Z)(fr(on))):Jr},Kt=new Map;return ze.forEach(function(fr,vr){var Qt;if(!Kt.has(fr.id))if((Qt=fr.groupIds)!==null&&Qt!==void 0&&Qt.length){var Vt,Er=fr.groupIds[fr.groupIds.length-1],Lr=ze.slice(vr).filter(function(gn){var yn,dn=gn==null||(yn=gn.groupIds)===null||yn===void 0?void 0:yn.some(function(mn){return mn===Er});return dn&&Kt.set(gn.id,!0),dn}),Jr=ne(pt(Lr));try{for(Jr.s();!(Vt=Jr.n()).done;){var on=Vt.value;$e.add(on)}}catch(gn){Jr.e(gn)}finally{Jr.f()}}else $e.add(fr)}),$e.size!==Oe.length?(console.error("normalizeGroupElementOrder: lost some elements... bailing!"),Oe):(0,b.Z)($e)},Me=function(Oe){var ze=function($e){var pt=(0,j.I4)($e),Kt=$e.slice(),fr=new Set;return Kt.forEach(function(vr,Qt){var Vt;if(vr)if((Vt=vr.boundElements)!==null&&Vt!==void 0&&Vt.length)fr.add(vr),Kt[Qt]=null,vr.boundElements.forEach(function(Jr){var on=pt.get(Jr.id);on&&Jr.type==="text"&&(fr.add(on[0]),Kt[on[1]]=null)});else if(vr.type==="text"&&vr.containerId){var Er,Lr=pt.get(vr.containerId);Lr!=null&&(Er=Lr[0].boundElements)!==null&&Er!==void 0&&Er.find(function(Jr){return Jr.id===vr.id})||(fr.add(vr),Kt[Qt]=null)}else fr.add(vr),Kt[Qt]=null}),fr.size!==$e.length?(console.error("normalizeBoundElementsOrder: lost some elements... bailing!"),$e):(0,b.Z)(fr)}(be(Oe));return ze},Ge=r(4682);function qe(Oe,ze){var $e=typeof Symbol<"u"&&Oe[Symbol.iterator]||Oe["@@iterator"];if(!$e){if(Array.isArray(Oe)||($e=function(Vt,Er){if(Vt){if(typeof Vt=="string")return Ne(Vt,Er);var Lr=Object.prototype.toString.call(Vt).slice(8,-1);if(Lr==="Object"&&Vt.constructor&&(Lr=Vt.constructor.name),Lr==="Map"||Lr==="Set")return Array.from(Vt);if(Lr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Lr))return Ne(Vt,Er)}}(Oe))||ze){$e&&(Oe=$e);var pt=0,Kt=function(){};return{s:Kt,n:function(){return pt>=Oe.length?{done:!0}:{done:!1,value:Oe[pt++]}},e:function(Vt){throw Vt},f:Kt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var fr,vr=!0,Qt=!1;return{s:function(){$e=$e.call(Oe)},n:function(){var Vt=$e.next();return vr=Vt.done,Vt},e:function(Vt){Qt=!0,fr=Vt},f:function(){try{vr||$e.return==null||$e.return()}finally{if(Qt)throw fr}}}}function Ne(Oe,ze){(ze==null||ze>Oe.length)&&(ze=Oe.length);for(var $e=0,pt=new Array(ze);$e<ze;$e++)pt[$e]=Oe[$e];return pt}function Pe(Oe,ze){var $e=Object.keys(Oe);if(Object.getOwnPropertySymbols){var pt=Object.getOwnPropertySymbols(Oe);ze&&(pt=pt.filter(function(Kt){return Object.getOwnPropertyDescriptor(Oe,Kt).enumerable})),$e.push.apply($e,pt)}return $e}function Re(Oe){for(var ze=1;ze<arguments.length;ze++){var $e=arguments[ze]!=null?arguments[ze]:{};ze%2?Pe(Object($e),!0).forEach(function(pt){(0,U.Z)(Oe,pt,$e[pt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Oe,Object.getOwnPropertyDescriptors($e)):Pe(Object($e)).forEach(function(pt){Object.defineProperty(Oe,pt,Object.getOwnPropertyDescriptor($e,pt))})}return Oe}var Ze=(0,E.z)({name:"duplicateSelection",trackEvent:{category:"element"},perform:function(Oe,ze){if(ze.editingLinearElement){var $e=D._.duplicateSelectedPoints(ze);return!!$e&&{elements:Oe,appState:$e.appState,commitToHistory:!0}}return Re(Re({},Ie(Oe,ze)),{},{commitToHistory:!0})},contextItemLabel:"labels.duplicateSelection",keyTest:function(Oe){return Oe[O.tW.CTRL_OR_CMD]&&Oe.key===O.tW.D},PanelComponent:function(Oe){var ze=Oe.elements,$e=Oe.appState,pt=Oe.updateData;return(0,a.jsx)(de.V,{type:"button",icon:v.NA,title:"".concat((0,R.t)("labels.duplicateSelection")," — ").concat((0,j.uY)("CtrlOrCmd+D")),"aria-label":(0,R.t)("labels.duplicateSelection"),onClick:function(){return pt(null)},visible:(0,f.N)((0,V.Lm)(ze),$e)})}}),Ie=function(Oe,ze){for(var $e=Me(Oe),pt=new Map,Kt=[],fr=[],vr=new Map,Qt=function(Yn){var vo=(0,V.Sy)(ze.editingGroupId,pt,Yn,{x:Yn.x+i.k/2,y:Yn.y+i.k/2});return vr.set(Yn.id,vo.id),fr.push(Yn),Kt.push(vo),vo},Vt=(0,j.xn)((0,P.eD)($e,ze,{includeBoundTextElement:!0,includeElementsInFrames:!0})),Er=new Map,Lr=function(Yn){var vo,Ao=qe(Yn);try{for(Ao.s();!(vo=Ao.n()).done;){var Yo=vo.value;Er.set(Yo.id,!0)}}catch(vi){Ao.e(vi)}finally{Ao.f()}return Yn},Jr=[],on=-1;++on<$e.length;){var gn=$e[on];if(!Er.get(gn.id)){var yn=(0,pe.WJ)(gn),dn=(0,N.He)(gn);if(Vt.get(gn.id)){if(gn.groupIds.length||yn||dn){var mn=(0,M.yO)(ze,gn);if(mn){var Hn=(0,M.Fb)($e,mn).flatMap(function(Yn){return(0,N.He)(Yn)?[].concat((0,b.Z)((0,Ge.zD)(Oe,Yn.id)),[Yn]):[Yn]});Jr.push.apply(Jr,(0,b.Z)(Lr([].concat((0,b.Z)(Hn),(0,b.Z)(Hn.map(function(Yn){return Qt(Yn)}))))));continue}if(yn){Jr.push.apply(Jr,(0,b.Z)(Lr([gn,yn,Qt(gn),Qt(yn)])));continue}if(dn){var eo=(0,Ge.zD)($e,gn.id);Jr.push.apply(Jr,(0,b.Z)(Lr([].concat((0,b.Z)(eo),[gn],(0,b.Z)(eo.map(function(Yn){return Qt(Yn)})),[Qt(gn)]))));continue}}gn.frameId&&Vt.has(gn.frameId)||Jr.push.apply(Jr,(0,b.Z)(Lr([gn,Qt(gn)])))}else Jr.push.apply(Jr,(0,b.Z)(Lr([gn])))}}var So=[],Qo=new Map;for(on=Jr.length;--on>=0;){var Fo=Jr[on];Qo.get(Fo.id)||(Qo.set(Fo.id,!0),So.push(Fo))}var On=So.reverse();(0,pe.P7)(Jr,fr,vr),(0,fe.ek)(Jr,fr,vr),(0,Ge.xr)(On,fr,vr);var bn=(0,P.aI)(Kt);return{elements:On,appState:Re(Re({},ze),(0,M.bO)({editingGroupId:ze.editingGroupId,selectedElementIds:bn.reduce(function(Yn,vo){return(0,N.Xh)(vo)||(Yn[vo.id]=!0),Yn},{})},(0,V.Lm)(On),ze,null))}},Ee=(r(3361),r(6006)),xe=r(2361),Z=r(7652);function u(Oe,ze){var $e=Object.keys(Oe);if(Object.getOwnPropertySymbols){var pt=Object.getOwnPropertySymbols(Oe);ze&&(pt=pt.filter(function(Kt){return Object.getOwnPropertyDescriptor(Oe,Kt).enumerable})),$e.push.apply($e,pt)}return $e}function g(Oe){for(var ze=1;ze<arguments.length;ze++){var $e=arguments[ze]!=null?arguments[ze]:{};ze%2?u(Object($e),!0).forEach(function(pt){(0,U.Z)(Oe,pt,$e[pt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Oe,Object.getOwnPropertyDescriptors($e)):u(Object($e)).forEach(function(pt){Object.defineProperty(Oe,pt,Object.getOwnPropertyDescriptor($e,pt))})}return Oe}var z=(0,E.z)({name:"finalize",trackEvent:!1,perform:function(Oe,ze,$e,pt){var Kt,fr=pt.interactiveCanvas,vr=pt.focusContainer,Qt=pt.scene;if(ze.editingLinearElement){var Vt=ze.editingLinearElement,Er=Vt.elementId,Lr=Vt.startBindingElement,Jr=Vt.endBindingElement,on=D._.getElement(Er);if(on)return(0,N.Mn)(on)&&(0,fe.HG)(on,Lr,Jr),{elements:on.points.length<2||(0,V.QD)(on)?Oe.filter(function(Ao){return Ao.id!==on.id}):void 0,appState:g(g({},ze),{},{cursorButton:"up",editingLinearElement:null}),commitToHistory:!0}}var gn=Oe,yn=ze.pendingImageElementId&&Qt.getElement(ze.pendingImageElementId);yn&&(0,w.DR)(yn,{isDeleted:!0},!1),window.document.activeElement instanceof HTMLElement&&vr();var dn,mn=ze.multiElement?ze.multiElement:((Kt=ze.editingElement)===null||Kt===void 0?void 0:Kt.type)==="freedraw"?ze.editingElement:null;if(mn){if(mn.type!=="freedraw"&&ze.lastPointerDownWith!=="touch"){var Hn=mn.points,eo=mn.lastCommittedPoint;eo&&Hn[Hn.length-1]===eo||(0,w.DR)(mn,{points:mn.points.slice(0,-1)})}(0,V.QD)(mn)&&(gn=gn.filter(function(Ao){return Ao.id!==mn.id}));var So=(0,xe.g6)(mn.points,ze.zoom.value);if((mn.type==="line"||mn.type==="freedraw")&&So){var Qo=mn.points,Fo=Qo[0];(0,w.DR)(mn,{points:Qo.map(function(Ao,Yo){return Yo===Qo.length-1?[Fo[0],Fo[1]]:Ao})})}if((0,N.Mn)(mn)&&!So&&mn.points.length>1){var On=D._.getPointAtIndexGlobalCoordinates(mn,-1),bn=(0,k.Z)(On,2),Yn=bn[0],vo=bn[1];(0,fe.R)(mn,ze,d.Z.getScene(mn),{x:Yn,y:vo})}}return(ze.activeTool.locked||ze.activeTool.type==="freedraw")&&mn||(0,Z.z8)(fr),dn=ze.activeTool.type==="eraser"?(0,j.Om)(ze,g(g({},ze.activeTool.lastActiveTool||{type:"selection"}),{},{lastActiveToolBeforeEraser:null})):(0,j.Om)(ze,{type:"selection"}),{elements:gn,appState:g(g({},ze),{},{cursorButton:"up",activeTool:(ze.activeTool.locked||ze.activeTool.type==="freedraw")&&mn?ze.activeTool:dn,activeEmbeddable:null,draggingElement:null,multiElement:null,editingElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:mn&&!ze.activeTool.locked&&ze.activeTool.type!=="freedraw"?g(g({},ze.selectedElementIds),{},(0,U.Z)({},mn.id,!0)):ze.selectedElementIds,selectedLinearElement:mn&&(0,N.bt)(mn)?new D._(mn,Qt):ze.selectedLinearElement,pendingImageElementId:null}),commitToHistory:ze.activeTool.type==="freedraw"}},keyTest:function(Oe,ze){return Oe.key===O.tW.ESCAPE&&(ze.editingLinearElement!==null||!ze.draggingElement&&ze.multiElement===null)||(Oe.key===O.tW.ESCAPE||Oe.key===O.tW.ENTER)&&ze.multiElement!==null},PanelComponent:function(Oe){var ze=Oe.appState,$e=Oe.updateData,pt=Oe.data;return(0,a.jsx)(de.V,{type:"button",icon:v.$c,title:(0,R.t)("buttons.done"),"aria-label":(0,R.t)("buttons.done"),onClick:$e,visible:ze.multiElement!=null,size:(pt==null?void 0:pt.size)||"medium"})}}),Y=r(4406);function te(Oe,ze){var $e=Object.keys(Oe);if(Object.getOwnPropertySymbols){var pt=Object.getOwnPropertySymbols(Oe);ze&&(pt=pt.filter(function(Kt){return Object.getOwnPropertyDescriptor(Oe,Kt).enumerable})),$e.push.apply($e,pt)}return $e}function ae(Oe){for(var ze=1;ze<arguments.length;ze++){var $e=arguments[ze]!=null?arguments[ze]:{};ze%2?te(Object($e),!0).forEach(function(pt){(0,U.Z)(Oe,pt,$e[pt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Oe,Object.getOwnPropertyDescriptors($e)):te(Object($e)).forEach(function(pt){Object.defineProperty(Oe,pt,Object.getOwnPropertyDescriptor($e,pt))})}return Oe}var ce="{}",ye=(0,E.z)({name:"copyStyles",trackEvent:{category:"element"},perform:function(Oe,ze){var $e=[],pt=Oe.find(function(fr){return ze.selectedElementIds[fr.id]});if($e.push(pt),pt&&(0,N.Xo)(pt)){var Kt=(0,pe.WJ)(pt);$e.push(Kt)}return pt&&(ce=JSON.stringify($e)),{appState:ae(ae({},ze),{},{toast:{message:(0,R.t)("toast.copyStyles")}}),commitToHistory:!1}},contextItemLabel:"labels.copyStyles",keyTest:function(Oe){return Oe[O.tW.CTRL_OR_CMD]&&Oe.altKey&&Oe.code===O.aU.C}}),je=(0,E.z)({name:"pasteStyles",trackEvent:{category:"element"},perform:function(Oe,ze){var $e=JSON.parse(ce),pt=$e[0],Kt=$e[1];if(!(0,V.r2)(pt))return{elements:Oe,commitToHistory:!1};var fr=(0,f.eD)(Oe,ze,{includeBoundTextElement:!0}),vr=fr.map(function(Qt){return Qt.id});return{elements:Oe.map(function(Qt){if(vr.includes(Qt.id)){var Vt,Er,Lr,Jr,on,gn,yn,dn=pt;if((0,V.iB)(Qt)&&Qt.containerId&&(dn=Kt),!dn)return Qt;var mn=(0,w.BE)(Qt,{backgroundColor:(Vt=dn)===null||Vt===void 0?void 0:Vt.backgroundColor,strokeWidth:(Er=dn)===null||Er===void 0?void 0:Er.strokeWidth,strokeColor:(Lr=dn)===null||Lr===void 0?void 0:Lr.strokeColor,strokeStyle:(Jr=dn)===null||Jr===void 0?void 0:Jr.strokeStyle,fillStyle:(on=dn)===null||on===void 0?void 0:on.fillStyle,opacity:(gn=dn)===null||gn===void 0?void 0:gn.opacity,roughness:(yn=dn)===null||yn===void 0?void 0:yn.roughness,roundness:dn.roundness?(0,N.eK)(dn.roundness.type,Qt)?dn.roundness:(0,N.UQ)(Qt):null});if((0,V.iB)(mn)){var Hn=dn.fontSize||i.n5,eo=dn.fontFamily||i.rk,So=null;(mn=(0,w.BE)(mn,{fontSize:Hn,fontFamily:eo,textAlign:dn.textAlign||i.Hg,lineHeight:dn.lineHeight||(0,pe.PT)(eo)})).containerId&&(So=fr.find(function(Qo){return(0,V.iB)(mn)&&Qo.id===mn.containerId})||null),(0,V.oN)(mn,So)}return mn.type==="arrow"&&(0,N.Yv)(dn)&&(mn=(0,w.BE)(mn,{startArrowhead:dn.startArrowhead,endArrowhead:dn.endArrowhead})),(0,N.He)(Qt)&&(mn=(0,w.BE)(mn,{roundness:null,backgroundColor:"transparent"})),mn}return Qt}),commitToHistory:!0}},contextItemLabel:"labels.pasteStyles",keyTest:function(Oe){return Oe[O.tW.CTRL_OR_CMD]&&Oe.altKey&&Oe.code===O.aU.V}});function Be(Oe,ze){var $e=Object.keys(Oe);if(Object.getOwnPropertySymbols){var pt=Object.getOwnPropertySymbols(Oe);ze&&(pt=pt.filter(function(Kt){return Object.getOwnPropertyDescriptor(Oe,Kt).enumerable})),$e.push.apply($e,pt)}return $e}function Qe(Oe){for(var ze=1;ze<arguments.length;ze++){var $e=arguments[ze]!=null?arguments[ze]:{};ze%2?Be(Object($e),!0).forEach(function(pt){(0,U.Z)(Oe,pt,$e[pt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Oe,Object.getOwnPropertyDescriptors($e)):Be(Object($e)).forEach(function(pt){Object.defineProperty(Oe,pt,Object.getOwnPropertyDescriptor($e,pt))})}return Oe}(0,E.z)({name:"toggleCanvasMenu",trackEvent:{category:"menu"},perform:function(Oe,ze){return{appState:Qe(Qe({},ze),{},{openMenu:ze.openMenu==="canvas"?null:"canvas"}),commitToHistory:!1}},PanelComponent:function(Oe){var ze=Oe.appState,$e=Oe.updateData;return(0,a.jsx)(de.V,{type:"button",icon:v.RY,"aria-label":(0,R.t)("buttons.menu"),onClick:$e,selected:ze.openMenu==="canvas"})}}),(0,E.z)({name:"toggleEditMenu",trackEvent:{category:"menu"},perform:function(Oe,ze){return{appState:Qe(Qe({},ze),{},{openMenu:ze.openMenu==="shape"?null:"shape"}),commitToHistory:!1}},PanelComponent:function(Oe){var ze=Oe.elements,$e=Oe.appState,pt=Oe.updateData;return(0,a.jsx)(de.V,{visible:(0,V.RT)($e,(0,V.Lm)(ze)),type:"button",icon:v.DG,"aria-label":(0,R.t)("buttons.edit"),onClick:pt,selected:$e.openMenu==="shape"})}});var rt=(0,E.z)({name:"toggleShortcuts",viewMode:!0,trackEvent:{category:"menu",action:"toggleHelpDialog"},perform:function(Oe,ze,$e,pt){var Kt=pt.focusContainer;return ze.openDialog==="help"&&Kt(),{appState:Qe(Qe({},ze),{},{openDialog:ze.openDialog==="help"?null:"help"}),commitToHistory:!1}},keyTest:function(Oe){return Oe.key===O.tW.QUESTION_MARK}}),Ye=r(6655),tt=r(4643);function ht(Oe,ze){var $e=Object.keys(Oe);if(Object.getOwnPropertySymbols){var pt=Object.getOwnPropertySymbols(Oe);ze&&(pt=pt.filter(function(Kt){return Object.getOwnPropertyDescriptor(Oe,Kt).enumerable})),$e.push.apply($e,pt)}return $e}function gt(Oe){for(var ze=1;ze<arguments.length;ze++){var $e=arguments[ze]!=null?arguments[ze]:{};ze%2?ht(Object($e),!0).forEach(function(pt){(0,U.Z)(Oe,pt,$e[pt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Oe,Object.getOwnPropertyDescriptors($e)):ht(Object($e)).forEach(function(pt){Object.defineProperty(Oe,pt,Object.getOwnPropertyDescriptor($e,pt))})}return Oe}function Ue(Oe,ze){var $e=typeof Symbol<"u"&&Oe[Symbol.iterator]||Oe["@@iterator"];if(!$e){if(Array.isArray(Oe)||($e=function(Vt,Er){if(Vt){if(typeof Vt=="string")return Ce(Vt,Er);var Lr=Object.prototype.toString.call(Vt).slice(8,-1);if(Lr==="Object"&&Vt.constructor&&(Lr=Vt.constructor.name),Lr==="Map"||Lr==="Set")return Array.from(Vt);if(Lr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Lr))return Ce(Vt,Er)}}(Oe))||ze){$e&&(Oe=$e);var pt=0,Kt=function(){};return{s:Kt,n:function(){return pt>=Oe.length?{done:!0}:{done:!1,value:Oe[pt++]}},e:function(Vt){throw Vt},f:Kt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var fr,vr=!0,Qt=!1;return{s:function(){$e=$e.call(Oe)},n:function(){var Vt=$e.next();return vr=Vt.done,Vt},e:function(Vt){Qt=!0,fr=Vt},f:function(){try{vr||$e.return==null||$e.return()}finally{if(Qt)throw fr}}}}function Ce(Oe,ze){(ze==null||ze>Oe.length)&&(ze=Oe.length);for(var $e=0,pt=new Array(ze);$e<ze;$e++)pt[$e]=Oe[$e];return pt}var Le=function(Oe,ze,$e){var pt=$e.scene.getSelectedElements({selectedElementIds:ze.selectedElementIds,includeBoundTextElement:!0});return pt.length>=2&&!function(Kt){if(Kt.length>=2){var fr,vr=Ue(Kt[0].groupIds);try{var Qt=function(){var Er=fr.value;if(Kt.reduce(function(Lr,Jr){return Lr&&(0,M.Nd)(Jr,Er)},!0))return{v:!0}};for(vr.s();!(fr=vr.n()).done;){var Vt=Qt();if((0,Ye.Z)(Vt)==="object")return Vt.v}}catch(Er){vr.e(Er)}finally{vr.f()}}return!1}(pt)},et=(0,E.z)({name:"group",trackEvent:{category:"element"},perform:function(Oe,ze,$e,pt){var Kt=pt.scene.getSelectedElements({selectedElementIds:ze.selectedElementIds,includeBoundTextElement:!0});if(Kt.length<2)return{appState:ze,elements:Oe,commitToHistory:!1};var fr=(0,M.iJ)(ze);if(fr.length===1){var vr=fr[0],Qt=new Set((0,M.Fb)(Oe,vr).map(function(Hn){return Hn.id})),Vt=new Set(Kt.map(function(Hn){return Hn.id}));if(new Set([].concat((0,b.Z)(Array.from(Qt)),(0,b.Z)(Array.from(Vt)))).size===Qt.size)return{appState:ze,elements:Oe,commitToHistory:!1}}var Er=(0,b.Z)(Oe);new Set(Kt.map(function(Hn){return Hn.frameId})).size>1&&(0,Ge.SH)(Kt).forEach(function(Hn,eo){Er=(0,Ge.lz)(Er,Hn,ze)});var Lr=(0,tt.kb)(),Jr=(0,j.xn)(Kt);Er=Er.map(function(Hn){return Jr.get(Hn.id)?(0,w.BE)(Hn,{groupIds:(0,M.S_)(Hn.groupIds,Lr,ze.editingGroupId)}):Hn});var on=(0,M.Fb)(Er,Lr),gn=on[on.length-1],yn=Er.lastIndexOf(gn),dn=Er.slice(yn+1),mn=Er.slice(0,yn).filter(function(Hn){return!(0,M.Nd)(Hn,Lr)});return Er=[].concat((0,b.Z)(mn),(0,b.Z)(on),(0,b.Z)(dn)),{appState:gt(gt({},ze),(0,M.F$)(Lr,gt(gt({},ze),{},{selectedGroupIds:{}}),(0,V.Lm)(Er))),elements:Er,commitToHistory:!0}},contextItemLabel:"labels.group",predicate:function(Oe,ze,$e,pt){return Le(0,ze,pt)},keyTest:function(Oe){return!Oe.shiftKey&&Oe[O.tW.CTRL_OR_CMD]&&Oe.key===O.tW.G},PanelComponent:function(Oe){var ze=Oe.elements,$e=Oe.appState,pt=Oe.updateData,Kt=Oe.app;return(0,a.jsx)(de.V,{hidden:!Le(0,$e,Kt),type:"button",icon:(0,a.jsx)(v.BF,{theme:$e.theme}),onClick:function(){return pt(null)},title:"".concat((0,R.t)("labels.group")," — ").concat((0,j.uY)("CtrlOrCmd+G")),"aria-label":(0,R.t)("labels.group"),visible:(0,f.N)((0,V.Lm)(ze),$e)})}}),ft=(0,E.z)({name:"ungroup",trackEvent:{category:"element"},perform:function(Oe,ze,$e,pt){if((0,M.iJ)(ze).length===0)return{appState:ze,elements:Oe,commitToHistory:!1};var Kt=(0,b.Z)(Oe),fr=[];Kt=Kt.map(function(Er){(0,N.Xh)(Er)&&fr.push(Er.id);var Lr=(0,M.h6)(Er.groupIds,ze.selectedGroupIds);return Lr.length===Er.groupIds.length?Er:(0,w.BE)(Er,{groupIds:Lr})});var vr=(0,M.bO)(ze,(0,V.Lm)(Kt),ze,null),Qt=pt.scene.getSelectedElements(ze),Vt=new Set(Qt.filter(function(Er){return Er.frameId}).map(function(Er){return Er.frameId}));return(0,Ge.wO)(Oe).filter(function(Er){return Vt.has(Er.id)}).forEach(function(Er){Er&&(Kt=(0,Ge.pr)(Kt,(0,Ge.ni)(Kt,Er,ze),Er,ze))}),vr.selectedElementIds=Object.entries(vr.selectedElementIds).reduce(function(Er,Lr){var Jr=(0,k.Z)(Lr,2),on=Jr[0];return Jr[1]&&!fr.includes(on)&&(Er[on]=!0),Er},{}),{appState:gt(gt({},ze),vr),elements:Kt,commitToHistory:!0}},keyTest:function(Oe){return Oe.shiftKey&&Oe[O.tW.CTRL_OR_CMD]&&Oe.key===O.tW.G.toUpperCase()},contextItemLabel:"labels.ungroup",predicate:function(Oe,ze){return(0,M.iJ)(ze).length>0},PanelComponent:function(Oe){var ze=Oe.elements,$e=Oe.appState,pt=Oe.updateData;return(0,a.jsx)(de.V,{type:"button",hidden:(0,M.iJ)($e).length===0,icon:(0,a.jsx)(v.RJ,{theme:$e.theme}),onClick:function(){return pt(null)},title:"".concat((0,R.t)("labels.ungroup")," — ").concat((0,j.uY)("CtrlOrCmd+Shift+G")),"aria-label":(0,R.t)("labels.ungroup"),visible:(0,f.N)((0,V.Lm)(ze),$e)})}}),xt=r(957),wt=r(3379),Rt=r.n(wt),It=r(7795),At=r.n(It),Xt=r(569),tr=r.n(Xt),Gt=r(3565),Jt=r.n(Gt),gr=r(9216),Pt=r.n(gr),St=r(4589),Zt=r.n(St),Tt=r(3729),Lt={};Lt.styleTagTransform=Zt(),Lt.setAttributes=Jt(),Lt.insert=tr().bind(null,"head"),Lt.domAPI=At(),Lt.insertStyleElement=Pt(),Rt()(Tt.Z,Lt),Tt.Z&&Tt.Z.locals&&Tt.Z.locals;var Wt=r(9787),qt=function(Oe){var ze=Oe.color,$e=Oe.onClick,pt=Oe.name,Kt=Oe.src,fr=(0,xt.l)(pt),vr=(0,Wt.useState)(!1),Qt=(0,k.Z)(vr,2),Vt=Qt[0],Er=Qt[1],Lr=!Vt&&Kt,Jr=Lr?void 0:{background:ze};return(0,a.jsx)("div",{className:"Avatar",style:Jr,onClick:$e,children:Lr?(0,a.jsx)("img",{className:"Avatar-img",src:Kt,alt:fr,referrerPolicy:"no-referrer",onError:function(){return Er(!0)}}):fr})},sr=r(2382);function cr(Oe,ze){var $e=Object.keys(Oe);if(Object.getOwnPropertySymbols){var pt=Object.getOwnPropertySymbols(Oe);ze&&(pt=pt.filter(function(Kt){return Object.getOwnPropertyDescriptor(Oe,Kt).enumerable})),$e.push.apply($e,pt)}return $e}function Sr(Oe){for(var ze=1;ze<arguments.length;ze++){var $e=arguments[ze]!=null?arguments[ze]:{};ze%2?cr(Object($e),!0).forEach(function(pt){(0,U.Z)(Oe,pt,$e[pt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Oe,Object.getOwnPropertyDescriptors($e)):cr(Object($e)).forEach(function(pt){Object.defineProperty(Oe,pt,Object.getOwnPropertyDescriptor($e,pt))})}return Oe}(0,E.z)({name:"goToCollaborator",viewMode:!0,trackEvent:{category:"collab"},perform:function(Oe,ze,$e){var pt=$e;return pt?{appState:Sr(Sr(Sr({},ze),(0,sr.s)({scenePoint:pt,viewportDimensions:{width:ze.width,height:ze.height},zoom:ze.zoom})),{},{openMenu:ze.openMenu==="canvas"?null:ze.openMenu}),commitToHistory:!1}:{appState:ze,commitToHistory:!1}},PanelComponent:function(Oe){var ze=Oe.updateData,$e=Oe.data,pt=(0,k.Z)($e,2),Kt=pt[0],fr=pt[1],vr=(0,xt.G)(Kt);return(0,a.jsx)(qt,{color:vr,onClick:function(){return ze(fr.pointer)},name:fr.username||"",src:fr.avatarUrl})}});var Mr=r(5742);function zr(Oe,ze){var $e=Object.keys(Oe);if(Object.getOwnPropertySymbols){var pt=Object.getOwnPropertySymbols(Oe);ze&&(pt=pt.filter(function(Kt){return Object.getOwnPropertyDescriptor(Oe,Kt).enumerable})),$e.push.apply($e,pt)}return $e}function pr(Oe){for(var ze=1;ze<arguments.length;ze++){var $e=arguments[ze]!=null?arguments[ze]:{};ze%2?zr(Object($e),!0).forEach(function(pt){(0,U.Z)(Oe,pt,$e[pt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Oe,Object.getOwnPropertyDescriptors($e)):zr(Object($e)).forEach(function(pt){Object.defineProperty(Oe,pt,Object.getOwnPropertyDescriptor($e,pt))})}return Oe}function Ft(Oe,ze){var $e=typeof Symbol<"u"&&Oe[Symbol.iterator]||Oe["@@iterator"];if(!$e){if(Array.isArray(Oe)||($e=function(Vt,Er){if(Vt){if(typeof Vt=="string")return or(Vt,Er);var Lr=Object.prototype.toString.call(Vt).slice(8,-1);if(Lr==="Object"&&Vt.constructor&&(Lr=Vt.constructor.name),Lr==="Map"||Lr==="Set")return Array.from(Vt);if(Lr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Lr))return or(Vt,Er)}}(Oe))||ze){$e&&(Oe=$e);var pt=0,Kt=function(){};return{s:Kt,n:function(){return pt>=Oe.length?{done:!0}:{done:!1,value:Oe[pt++]}},e:function(Vt){throw Vt},f:Kt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var fr,vr=!0,Qt=!1;return{s:function(){$e=$e.call(Oe)},n:function(){var Vt=$e.next();return vr=Vt.done,Vt},e:function(Vt){Qt=!0,fr=Vt},f:function(){try{vr||$e.return==null||$e.return()}finally{if(Qt)throw fr}}}}function or(Oe,ze){(ze==null||ze>Oe.length)&&(ze=Oe.length);for(var $e=0,pt=new Array(ze);$e<ze;$e++)pt[$e]=Oe[$e];return pt}var rr=(0,E.z)({name:"addToLibrary",trackEvent:{category:"element"},perform:function(Oe,ze,$e,pt){var Kt,fr=pt.scene.getSelectedElements({selectedElementIds:ze.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0}),vr=Ft(i.PR);try{var Qt=function(){var Er=Kt.value;if(fr.some(function(Lr){return Lr.type===Er}))return{v:{commitToHistory:!1,appState:pr(pr({},ze),{},{errorMessage:(0,R.t)("errors.libraryElementTypeError.".concat(Er))})}}};for(vr.s();!(Kt=vr.n()).done;){var Vt=Qt();if((0,Ye.Z)(Vt)==="object")return Vt.v}}catch(Er){vr.e(Er)}finally{vr.f()}return pt.library.getLatestLibrary().then(function(Er){return pt.library.setLibrary([{id:(0,tt.kb)(),status:"unpublished",elements:fr.map(Mr.OL),created:Date.now()}].concat((0,b.Z)(Er)))}).then(function(){return{commitToHistory:!1,appState:pr(pr({},ze),{},{toast:{message:(0,R.t)("toast.addedToLibrary")}})}}).catch(function(Er){return{commitToHistory:!1,appState:pr(pr({},ze),{},{errorMessage:Er.message})}})},contextItemLabel:"labels.addToLibrary"}),Or=r(4949);function Kr(Oe,ze){var $e=Object.keys(Oe);if(Object.getOwnPropertySymbols){var pt=Object.getOwnPropertySymbols(Oe);ze&&(pt=pt.filter(function(Kt){return Object.getOwnPropertyDescriptor(Oe,Kt).enumerable})),$e.push.apply($e,pt)}return $e}function Xr(Oe){for(var ze=1;ze<arguments.length;ze++){var $e=arguments[ze]!=null?arguments[ze]:{};ze%2?Kr(Object($e),!0).forEach(function(pt){(0,U.Z)(Oe,pt,$e[pt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Oe,Object.getOwnPropertyDescriptors($e)):Kr(Object($e)).forEach(function(pt){Object.defineProperty(Oe,pt,Object.getOwnPropertyDescriptor($e,pt))})}return Oe}var cn=function(Oe,ze,$e){var pt=$e.axis,Kt=$e.position,fr=(0,Or.v2)(Oe),vr=pt==="x"?["minX","maxX"]:["minY","maxY"],Qt=(0,k.Z)(vr,2),Vt=Qt[0],Er=Qt[1],Lr={x:0,y:0};return Xr(Xr({},Lr),{},Kt==="start"?(0,U.Z)({},pt,ze[Vt]-fr[Vt]):Kt==="end"?(0,U.Z)({},pt,ze[Er]-fr[Er]):(0,U.Z)({},pt,(ze[Vt]+ze[Er])/2-(fr[Vt]+fr[Er])/2))},en=function(Oe,ze,$e,pt){var Kt=pt.scene.getSelectedElements(ze);return Kt.length>1&&!Kt.some(function(fr){return fr.type==="frame"})},ur=function(Oe,ze,$e,pt){var Kt=function(vr,Qt){var Vt=(0,M.AI)(vr),Er=(0,Or.v2)(vr);return Vt.flatMap(function(Lr){var Jr=cn(Lr,Er,Qt);return Lr.map(function(on){return(0,w.BE)(on,{x:on.x+Jr.x,y:on.y+Jr.y})})})}($e.scene.getSelectedElements(ze),pt),fr=(0,j.xn)(Kt);return(0,Ge.Tq)(Oe.map(function(vr){return fr.get(vr.id)||vr}),ze,$e)};(0,E.z)({name:"alignTop",trackEvent:{category:"element"},predicate:en,perform:function(Oe,ze,$e,pt){return{appState:ze,elements:ur(Oe,ze,pt,{position:"start",axis:"y"}),commitToHistory:!0}},keyTest:function(Oe){return Oe[O.tW.CTRL_OR_CMD]&&Oe.shiftKey&&Oe.key===O.tW.ARROW_UP},PanelComponent:function(Oe){var ze=Oe.elements,$e=Oe.appState,pt=Oe.updateData,Kt=Oe.app;return(0,a.jsx)(de.V,{hidden:!en(0,$e,0,Kt),type:"button",icon:v.Ct,onClick:function(){return pt(null)},title:"".concat((0,R.t)("labels.alignTop")," — ").concat((0,j.uY)("CtrlOrCmd+Shift+Up")),"aria-label":(0,R.t)("labels.alignTop"),visible:(0,f.N)((0,V.Lm)(ze),$e)})}}),(0,E.z)({name:"alignBottom",trackEvent:{category:"element"},predicate:en,perform:function(Oe,ze,$e,pt){return{appState:ze,elements:ur(Oe,ze,pt,{position:"end",axis:"y"}),commitToHistory:!0}},keyTest:function(Oe){return Oe[O.tW.CTRL_OR_CMD]&&Oe.shiftKey&&Oe.key===O.tW.ARROW_DOWN},PanelComponent:function(Oe){var ze=Oe.elements,$e=Oe.appState,pt=Oe.updateData,Kt=Oe.app;return(0,a.jsx)(de.V,{hidden:!en(0,$e,0,Kt),type:"button",icon:v.HL,onClick:function(){return pt(null)},title:"".concat((0,R.t)("labels.alignBottom")," — ").concat((0,j.uY)("CtrlOrCmd+Shift+Down")),"aria-label":(0,R.t)("labels.alignBottom"),visible:(0,f.N)((0,V.Lm)(ze),$e)})}}),(0,E.z)({name:"alignLeft",trackEvent:{category:"element"},predicate:en,perform:function(Oe,ze,$e,pt){return{appState:ze,elements:ur(Oe,ze,pt,{position:"start",axis:"x"}),commitToHistory:!0}},keyTest:function(Oe){return Oe[O.tW.CTRL_OR_CMD]&&Oe.shiftKey&&Oe.key===O.tW.ARROW_LEFT},PanelComponent:function(Oe){var ze=Oe.elements,$e=Oe.appState,pt=Oe.updateData,Kt=Oe.app;return(0,a.jsx)(de.V,{hidden:!en(0,$e,0,Kt),type:"button",icon:v.xs,onClick:function(){return pt(null)},title:"".concat((0,R.t)("labels.alignLeft")," — ").concat((0,j.uY)("CtrlOrCmd+Shift+Left")),"aria-label":(0,R.t)("labels.alignLeft"),visible:(0,f.N)((0,V.Lm)(ze),$e)})}}),(0,E.z)({name:"alignRight",trackEvent:{category:"element"},predicate:en,perform:function(Oe,ze,$e,pt){return{appState:ze,elements:ur(Oe,ze,pt,{position:"end",axis:"x"}),commitToHistory:!0}},keyTest:function(Oe){return Oe[O.tW.CTRL_OR_CMD]&&Oe.shiftKey&&Oe.key===O.tW.ARROW_RIGHT},PanelComponent:function(Oe){var ze=Oe.elements,$e=Oe.appState,pt=Oe.updateData,Kt=Oe.app;return(0,a.jsx)(de.V,{hidden:!en(0,$e,0,Kt),type:"button",icon:v.mh,onClick:function(){return pt(null)},title:"".concat((0,R.t)("labels.alignRight")," — ").concat((0,j.uY)("CtrlOrCmd+Shift+Right")),"aria-label":(0,R.t)("labels.alignRight"),visible:(0,f.N)((0,V.Lm)(ze),$e)})}}),(0,E.z)({name:"alignVerticallyCentered",trackEvent:{category:"element"},predicate:en,perform:function(Oe,ze,$e,pt){return{appState:ze,elements:ur(Oe,ze,pt,{position:"center",axis:"y"}),commitToHistory:!0}},PanelComponent:function(Oe){var ze=Oe.elements,$e=Oe.appState,pt=Oe.updateData,Kt=Oe.app;return(0,a.jsx)(de.V,{hidden:!en(0,$e,0,Kt),type:"button",icon:v.ST,onClick:function(){return pt(null)},title:(0,R.t)("labels.centerVertically"),"aria-label":(0,R.t)("labels.centerVertically"),visible:(0,f.N)((0,V.Lm)(ze),$e)})}}),(0,E.z)({name:"alignHorizontallyCentered",trackEvent:{category:"element"},predicate:en,perform:function(Oe,ze,$e,pt){return{appState:ze,elements:ur(Oe,ze,pt,{position:"center",axis:"x"}),commitToHistory:!0}},PanelComponent:function(Oe){var ze=Oe.elements,$e=Oe.appState,pt=Oe.updateData,Kt=Oe.app;return(0,a.jsx)(de.V,{hidden:!en(0,$e,0,Kt),type:"button",icon:v.gK,onClick:function(){return pt(null)},title:(0,R.t)("labels.centerHorizontally"),"aria-label":(0,R.t)("labels.centerHorizontally"),visible:(0,f.N)((0,V.Lm)(ze),$e)})}});function Dt(Oe,ze){var $e=typeof Symbol<"u"&&Oe[Symbol.iterator]||Oe["@@iterator"];if(!$e){if(Array.isArray(Oe)||($e=function(Vt,Er){if(Vt){if(typeof Vt=="string")return Nt(Vt,Er);var Lr=Object.prototype.toString.call(Vt).slice(8,-1);if(Lr==="Object"&&Vt.constructor&&(Lr=Vt.constructor.name),Lr==="Map"||Lr==="Set")return Array.from(Vt);if(Lr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Lr))return Nt(Vt,Er)}}(Oe))||ze){$e&&(Oe=$e);var pt=0,Kt=function(){};return{s:Kt,n:function(){return pt>=Oe.length?{done:!0}:{done:!1,value:Oe[pt++]}},e:function(Vt){throw Vt},f:Kt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var fr,vr=!0,Qt=!1;return{s:function(){$e=$e.call(Oe)},n:function(){var Vt=$e.next();return vr=Vt.done,Vt},e:function(Vt){Qt=!0,fr=Vt},f:function(){try{vr||$e.return==null||$e.return()}finally{if(Qt)throw fr}}}}function Nt(Oe,ze){(ze==null||ze>Oe.length)&&(ze=Oe.length);for(var $e=0,pt=new Array(ze);$e<ze;$e++)pt[$e]=Oe[$e];return pt}var Ut=function(Oe,ze){var $e=ze.scene.getSelectedElements(Oe);return $e.length>1&&!$e.some(function(pt){return pt.type==="frame"})},hr=function(Oe,ze,$e,pt){var Kt=function(vr,Qt){var Vt,Er=Qt.axis==="x"?["minX","midX","maxX","width"]:["minY","midY","maxY","height"],Lr=(0,k.Z)(Er,4),Jr=Lr[0],on=Lr[1],gn=Lr[2],yn=Lr[3],dn=(0,Or.v2)(vr),mn=(0,M.AI)(vr).map(function(vo){return[vo,(0,Or.v2)(vo)]}).sort(function(vo,Ao){return vo[1][on]-Ao[1][on]}),Hn=0,eo=Dt(mn);try{for(eo.s();!(Vt=eo.n()).done;)Hn+=Vt.value[1][yn]}catch(vo){eo.e(vo)}finally{eo.f()}var So=(dn[yn]-Hn)/(mn.length-1);if(So<0){var Qo=mn.findIndex(function(vo){return vo[1][Jr]===dn[Jr]}),Fo=mn.findIndex(function(vo){return vo[1][gn]===dn[gn]}),On=(mn[Fo][1][on]-mn[Qo][1][on])/(mn.length-1),bn=mn[Qo][1][on];return mn.flatMap(function(vo,Ao){var Yo=(0,k.Z)(vo,2),vi=Yo[0],Oi=Yo[1],bi={x:0,y:0};return Ao!==Qo&&Ao!==Fo&&(bn+=On,bi[Qt.axis]=bn-Oi[on]),vi.map(function(Qi){return(0,w.BE)(Qi,{x:Qi.x+bi.x,y:Qi.y+bi.y})})})}var Yn=dn[Jr];return mn.flatMap(function(vo){var Ao=(0,k.Z)(vo,2),Yo=Ao[0],vi=Ao[1],Oi={x:0,y:0};return Oi[Qt.axis]=Yn-vi[Jr],Yn+=So,Yn+=vi[yn],Yo.map(function(bi){return(0,w.BE)(bi,{x:bi.x+Oi.x,y:bi.y+Oi.y})})})}($e.scene.getSelectedElements(ze),pt),fr=(0,j.xn)(Kt);return(0,Ge.Tq)(Oe.map(function(vr){return fr.get(vr.id)||vr}),ze,$e)},jr=((0,E.z)({name:"distributeHorizontally",trackEvent:{category:"element"},perform:function(Oe,ze,$e,pt){return{appState:ze,elements:hr(Oe,ze,pt,{axis:"x"}),commitToHistory:!0}},keyTest:function(Oe){return!Oe[O.tW.CTRL_OR_CMD]&&Oe.altKey&&Oe.code===O.aU.H},PanelComponent:function(Oe){var ze=Oe.elements,$e=Oe.appState,pt=Oe.updateData,Kt=Oe.app;return(0,a.jsx)(de.V,{hidden:!Ut($e,Kt),type:"button",icon:v.uD,onClick:function(){return pt(null)},title:"".concat((0,R.t)("labels.distributeHorizontally")," — ").concat((0,j.uY)("Alt+H")),"aria-label":(0,R.t)("labels.distributeHorizontally"),visible:(0,f.N)((0,V.Lm)(ze),$e)})}}),(0,E.z)({name:"distributeVertically",trackEvent:{category:"element"},perform:function(Oe,ze,$e,pt){return{appState:ze,elements:hr(Oe,ze,pt,{axis:"y"}),commitToHistory:!0}},keyTest:function(Oe){return!Oe[O.tW.CTRL_OR_CMD]&&Oe.altKey&&Oe.code===O.aU.V},PanelComponent:function(Oe){var ze=Oe.elements,$e=Oe.appState,pt=Oe.updateData,Kt=Oe.app;return(0,a.jsx)(de.V,{hidden:!Ut($e,Kt),type:"button",icon:v.W5,onClick:function(){return pt(null)},title:"".concat((0,R.t)("labels.distributeVertically")," — ").concat((0,j.uY)("Alt+V")),"aria-label":(0,R.t)("labels.distributeVertically"),visible:(0,f.N)((0,V.Lm)(ze),$e)})}}),r(4381)),Cr=(0,E.z)({name:"flipHorizontal",trackEvent:{category:"element"},perform:function(Oe,ze,$e,pt){return{elements:(0,Ge.Tq)(Dr(Oe,ze,"horizontal"),ze,pt),appState:ze,commitToHistory:!0}},keyTest:function(Oe){return Oe.shiftKey&&Oe.code===O.aU.H},contextItemLabel:"labels.flipHorizontal"}),Zr=(0,E.z)({name:"flipVertical",trackEvent:{category:"element"},perform:function(Oe,ze,$e,pt){return{elements:(0,Ge.Tq)(Dr(Oe,ze,"vertical"),ze,pt),appState:ze,commitToHistory:!0}},keyTest:function(Oe){return Oe.shiftKey&&Oe.code===O.aU.V&&!Oe[O.tW.CTRL_OR_CMD]},contextItemLabel:"labels.flipVertical"}),Dr=function(Oe,ze,$e){var pt=(0,f.eD)((0,V.Lm)(Oe),ze,{includeBoundTextElement:!0,includeElementsInFrames:!0}),Kt=Fr(pt,ze,$e),fr=(0,j.xn)(Kt);return Oe.map(function(vr){return fr.get(vr.id)||vr})},Fr=function(Oe,ze,$e){var pt=(0,Or.v2)(Oe),Kt=pt.minX,fr=pt.minY,vr=pt.maxX,Qt=pt.maxY;return(0,jr.LM)({originalElements:(0,j.xn)(Oe)},Oe,"nw",!0,$e==="horizontal"?vr:Kt,$e==="horizontal"?fr:Qt),((0,fe.N1)(ze)?fe.el:fe.H)(Oe),Oe},ln=r(5047);function Gr(Oe,ze){var $e=Object.keys(Oe);if(Object.getOwnPropertySymbols){var pt=Object.getOwnPropertySymbols(Oe);ze&&(pt=pt.filter(function(Kt){return Object.getOwnPropertyDescriptor(Oe,Kt).enumerable})),$e.push.apply($e,pt)}return $e}function Rr(Oe){for(var ze=1;ze<arguments.length;ze++){var $e=arguments[ze]!=null?arguments[ze]:{};ze%2?Gr(Object($e),!0).forEach(function(pt){(0,U.Z)(Oe,pt,$e[pt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Oe,Object.getOwnPropertyDescriptors($e)):Gr(Object($e)).forEach(function(pt){Object.defineProperty(Oe,pt,Object.getOwnPropertyDescriptor($e,pt))})}return Oe}var Wr=(0,E.z)({name:"gridMode",viewMode:!0,trackEvent:{category:"canvas",predicate:function(Oe){return!Oe.gridSize}},perform:function(Oe,ze){return{appState:Rr(Rr({},ze),{},{gridSize:this.checked(ze)?null:i.k,objectsSnapModeEnabled:!1}),commitToHistory:!1}},checked:function(Oe){return Oe.gridSize!==null},predicate:function(Oe,ze,$e){return $e.gridModeEnabled===void 0},contextItemLabel:"labels.showGrid",keyTest:function(Oe){return Oe[O.tW.CTRL_OR_CMD]&&Oe.code===O.aU.QUOTE}});function Ur(Oe,ze){var $e=Object.keys(Oe);if(Object.getOwnPropertySymbols){var pt=Object.getOwnPropertySymbols(Oe);ze&&(pt=pt.filter(function(Kt){return Object.getOwnPropertyDescriptor(Oe,Kt).enumerable})),$e.push.apply($e,pt)}return $e}function rn(Oe){for(var ze=1;ze<arguments.length;ze++){var $e=arguments[ze]!=null?arguments[ze]:{};ze%2?Ur(Object($e),!0).forEach(function(pt){(0,U.Z)(Oe,pt,$e[pt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Oe,Object.getOwnPropertyDescriptors($e)):Ur(Object($e)).forEach(function(pt){Object.defineProperty(Oe,pt,Object.getOwnPropertyDescriptor($e,pt))})}return Oe}var an=(0,E.z)({name:"zenMode",viewMode:!0,trackEvent:{category:"canvas",predicate:function(Oe){return!Oe.zenModeEnabled}},perform:function(Oe,ze){return{appState:rn(rn({},ze),{},{zenModeEnabled:!this.checked(ze)}),commitToHistory:!1}},checked:function(Oe){return Oe.zenModeEnabled},predicate:function(Oe,ze,$e){return $e.zenModeEnabled===void 0},contextItemLabel:"buttons.zenMode",keyTest:function(Oe){return!Oe[O.tW.CTRL_OR_CMD]&&Oe.altKey&&Oe.code===O.aU.Z}});function Qr(Oe,ze){var $e=Object.keys(Oe);if(Object.getOwnPropertySymbols){var pt=Object.getOwnPropertySymbols(Oe);ze&&(pt=pt.filter(function(Kt){return Object.getOwnPropertyDescriptor(Oe,Kt).enumerable})),$e.push.apply($e,pt)}return $e}function In(Oe){for(var ze=1;ze<arguments.length;ze++){var $e=arguments[ze]!=null?arguments[ze]:{};ze%2?Qr(Object($e),!0).forEach(function(pt){(0,U.Z)(Oe,pt,$e[pt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Oe,Object.getOwnPropertyDescriptors($e)):Qr(Object($e)).forEach(function(pt){Object.defineProperty(Oe,pt,Object.getOwnPropertyDescriptor($e,pt))})}return Oe}var Xn=(0,E.z)({name:"objectsSnapMode",viewMode:!0,trackEvent:{category:"canvas",predicate:function(Oe){return!Oe.objectsSnapModeEnabled}},perform:function(Oe,ze){return{appState:In(In({},ze),{},{objectsSnapModeEnabled:!this.checked(ze),gridSize:null}),commitToHistory:!1}},checked:function(Oe){return Oe.objectsSnapModeEnabled},predicate:function(Oe,ze,$e){return $e.objectsSnapModeEnabled===void 0},contextItemLabel:"buttons.objectsSnapMode",keyTest:function(Oe){return!Oe[O.tW.CTRL_OR_CMD]&&Oe.altKey&&Oe.code===O.aU.S}}),go=r(7080),bo=r(7392),_o=r(5992),wo=r(9672);function ao(Oe,ze){var $e=Object.keys(Oe);if(Object.getOwnPropertySymbols){var pt=Object.getOwnPropertySymbols(Oe);ze&&(pt=pt.filter(function(Kt){return Object.getOwnPropertyDescriptor(Oe,Kt).enumerable})),$e.push.apply($e,pt)}return $e}function co(Oe){for(var ze=1;ze<arguments.length;ze++){var $e=arguments[ze]!=null?arguments[ze]:{};ze%2?ao(Object($e),!0).forEach(function(pt){(0,U.Z)(Oe,pt,$e[pt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Oe,Object.getOwnPropertyDescriptors($e)):ao(Object($e)).forEach(function(pt){Object.defineProperty(Oe,pt,Object.getOwnPropertyDescriptor($e,pt))})}return Oe}var it=(0,E.z)({name:"toggleLinearEditor",trackEvent:{category:"element"},predicate:function(Oe,ze,$e,pt){var Kt=pt.scene.getSelectedElements(ze);return!(Kt.length!==1||!(0,N.bt)(Kt[0]))},perform:function(Oe,ze,$e,pt){var Kt,fr=pt.scene.getSelectedElements({selectedElementIds:ze.selectedElementIds,includeBoundTextElement:!0})[0],vr=((Kt=ze.editingLinearElement)===null||Kt===void 0?void 0:Kt.elementId)===fr.id?null:new D._(fr,pt.scene);return{appState:co(co({},ze),{},{editingLinearElement:vr}),commitToHistory:!1}},contextItemLabel:function(Oe,ze,$e){var pt,Kt=$e.scene.getSelectedElements({selectedElementIds:ze.selectedElementIds,includeBoundTextElement:!0})[0];return((pt=ze.editingLinearElement)===null||pt===void 0?void 0:pt.elementId)===Kt.id?"labels.lineEditor.exit":"labels.lineEditor.edit"}})},2767:function(ue,n,r){r.d(n,{N:function(){return A},z:function(){return k}});var A=[],k=function(b){return A=A.concat(b),b}},2529:function(ue,n,r){r.d(n,{C:function(){return N}});var A=r(9937),k=r(8227),b=r(9827),w={toggleTheme:[(0,b.uY)("Shift+Alt+D")],saveScene:[(0,b.uY)("CtrlOrCmd+S")],loadScene:[(0,b.uY)("CtrlOrCmd+O")],clearCanvas:[(0,b.uY)("CtrlOrCmd+Delete")],imageExport:[(0,b.uY)("CtrlOrCmd+Shift+E")],cut:[(0,b.uY)("CtrlOrCmd+X")],copy:[(0,b.uY)("CtrlOrCmd+C")],paste:[(0,b.uY)("CtrlOrCmd+V")],copyStyles:[(0,b.uY)("CtrlOrCmd+Alt+C")],pasteStyles:[(0,b.uY)("CtrlOrCmd+Alt+V")],selectAll:[(0,b.uY)("CtrlOrCmd+A")],deleteSelectedElements:[(0,b.uY)("Delete")],duplicateSelection:[(0,b.uY)("CtrlOrCmd+D"),(0,b.uY)("Alt+".concat((0,k.t)("helpDialog.drag")))],sendBackward:[(0,b.uY)("CtrlOrCmd+[")],bringForward:[(0,b.uY)("CtrlOrCmd+]")],sendToBack:[A.Um?(0,b.uY)("CtrlOrCmd+Alt+["):(0,b.uY)("CtrlOrCmd+Shift+[")],bringToFront:[A.Um?(0,b.uY)("CtrlOrCmd+Alt+]"):(0,b.uY)("CtrlOrCmd+Shift+]")],copyAsPng:[(0,b.uY)("Shift+Alt+C")],copyAsSvg:[],group:[(0,b.uY)("CtrlOrCmd+G")],ungroup:[(0,b.uY)("CtrlOrCmd+Shift+G")],gridMode:[(0,b.uY)("CtrlOrCmd+'")],zenMode:[(0,b.uY)("Alt+Z")],objectsSnapMode:[(0,b.uY)("Alt+S")],stats:[(0,b.uY)("Alt+/")],addToLibrary:[],flipHorizontal:[(0,b.uY)("Shift+H")],flipVertical:[(0,b.uY)("Shift+V")],viewMode:[(0,b.uY)("Alt+R")],hyperlink:[(0,b.uY)("CtrlOrCmd+K")],toggleElementLock:[(0,b.uY)("CtrlOrCmd+Shift+L")]},N=function(M){var f=w[M];return f&&f.length>0?f[0]:""}},3646:function(ue,n,r){r.d(n,{L:function(){return A}});var A=function(k,b,w,N){try{if(typeof window>"u"||{VITE_APP_BACKEND_V2_GET_URL:"https://json.excalidraw.com/api/v2/",VITE_APP_BACKEND_V2_POST_URL:"https://json.excalidraw.com/api/v2/post/",VITE_APP_LIBRARY_URL:"https://libraries.excalidraw.com",VITE_APP_LIBRARY_BACKEND:"https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries",VITE_APP_PORTAL_URL:"https://portal.excalidraw.com",VITE_APP_PLUS_LP:"https://plus.excalidraw.com",VITE_APP_PLUS_APP:"https://app.excalidraw.com",VITE_APP_WS_SERVER_URL:"",VITE_APP_FIREBASE_CONFIG:'{"apiKey":"AIzaSyAd15pYlMci_xIp9ko6wkEsDzAAA0Dn0RU","authDomain":"excalidraw-room-persistence.firebaseapp.com","databaseURL":"https://excalidraw-room-persistence.firebaseio.com","projectId":"excalidraw-room-persistence","storageBucket":"excalidraw-room-persistence.appspot.com","messagingSenderId":"654800341332","appId":"1:654800341332:web:4a692de832b55bd57ce0c1"}',VITE_APP_DISABLE_TRACKING:"",VITE_PKG_NAME:"@excalidraw/excalidraw",VITE_PKG_VERSION:"0.17.6",VITE_IS_EXCALIDRAW_NPM_PACKAGE:!0}.VITE_WORKER_ID||![].includes(k))return;window.sa_event&&window.sa_event(b,{category:k,label:w,value:N})}catch(M){console.error("error during analytics",M)}}},6853:function(ue,n,r){r.d(n,{EN:function(){return H},eS:function(){return L},im:function(){return M},l$:function(){return x},s:function(){return j}});var A=r(9240),k=r(9937),b=r(8227),w=r(9827),N=k.ZB.includes(devicePixelRatio)?devicePixelRatio:1,M=function(){return{showWelcomeScreen:!1,theme:k.C6.LIGHT,collaborators:new Map,currentChartType:"bar",currentItemBackgroundColor:k.HN.backgroundColor,currentItemEndArrowhead:"arrow",currentItemFillStyle:k.HN.fillStyle,currentItemFontFamily:k.rk,currentItemFontSize:k.n5,currentItemOpacity:k.HN.opacity,currentItemRoughness:k.HN.roughness,currentItemStartArrowhead:null,currentItemStrokeColor:k.HN.strokeColor,currentItemRoundness:"round",currentItemStrokeStyle:k.HN.strokeStyle,currentItemStrokeWidth:k.HN.strokeWidth,currentItemTextAlign:k.Hg,cursorButton:"up",activeEmbeddable:null,draggingElement:null,editingElement:null,editingGroupId:null,editingLinearElement:null,activeTool:{type:"selection",customType:null,locked:k.HN.locked,lastActiveTool:null},penMode:!1,penDetected:!1,errorMessage:null,exportBackground:!0,exportScale:N,exportEmbedScene:!1,exportWithDarkMode:!1,fileHandle:null,gridSize:null,isBindingEnabled:!0,defaultSidebarDockedPreference:!1,isLoading:!1,isResizing:!1,isRotating:!1,lastPointerDownWith:"mouse",multiElement:null,name:"".concat((0,b.t)("labels.untitled"),"-").concat((0,w.Fc)()),contextMenu:null,openMenu:null,openPopup:null,openSidebar:null,openDialog:null,pasteDialog:{shown:!1,data:null},previousSelectedElementIds:{},resizingElement:null,scrolledOutside:!1,scrollX:0,scrollY:0,selectedElementIds:{},selectedGroupIds:{},selectedElementsAreBeingDragged:!1,selectionElement:null,shouldCacheIgnoreZoom:!1,showStats:!1,startBoundElement:null,suggestedBindings:[],frameRendering:{enabled:!0,clip:!0,name:!0,outline:!0},frameToHighlight:null,editingFrame:null,elementsToHighlight:null,toast:null,viewBackgroundColor:A.HO.white,zenModeEnabled:!1,zoom:{value:1},viewModeEnabled:!1,pendingImageElementId:null,showHyperlinkPopup:!1,selectedLinearElement:null,snapLines:[],originSnapOffset:{x:0,y:0},objectsSnapModeEnabled:!1}},f={showWelcomeScreen:{browser:!0,export:!1,server:!1},theme:{browser:!0,export:!1,server:!1},collaborators:{browser:!1,export:!1,server:!1},currentChartType:{browser:!0,export:!1,server:!1},currentItemBackgroundColor:{browser:!0,export:!1,server:!1},currentItemEndArrowhead:{browser:!0,export:!1,server:!1},currentItemFillStyle:{browser:!0,export:!1,server:!1},currentItemFontFamily:{browser:!0,export:!1,server:!1},currentItemFontSize:{browser:!0,export:!1,server:!1},currentItemRoundness:{browser:!0,export:!1,server:!1},currentItemOpacity:{browser:!0,export:!1,server:!1},currentItemRoughness:{browser:!0,export:!1,server:!1},currentItemStartArrowhead:{browser:!0,export:!1,server:!1},currentItemStrokeColor:{browser:!0,export:!1,server:!1},currentItemStrokeStyle:{browser:!0,export:!1,server:!1},currentItemStrokeWidth:{browser:!0,export:!1,server:!1},currentItemTextAlign:{browser:!0,export:!1,server:!1},cursorButton:{browser:!0,export:!1,server:!1},activeEmbeddable:{browser:!1,export:!1,server:!1},draggingElement:{browser:!1,export:!1,server:!1},editingElement:{browser:!1,export:!1,server:!1},editingGroupId:{browser:!0,export:!1,server:!1},editingLinearElement:{browser:!1,export:!1,server:!1},activeTool:{browser:!0,export:!1,server:!1},penMode:{browser:!0,export:!1,server:!1},penDetected:{browser:!0,export:!1,server:!1},errorMessage:{browser:!1,export:!1,server:!1},exportBackground:{browser:!0,export:!1,server:!1},exportEmbedScene:{browser:!0,export:!1,server:!1},exportScale:{browser:!0,export:!1,server:!1},exportWithDarkMode:{browser:!0,export:!1,server:!1},fileHandle:{browser:!1,export:!1,server:!1},gridSize:{browser:!0,export:!0,server:!0},height:{browser:!1,export:!1,server:!1},isBindingEnabled:{browser:!1,export:!1,server:!1},defaultSidebarDockedPreference:{browser:!0,export:!1,server:!1},isLoading:{browser:!1,export:!1,server:!1},isResizing:{browser:!1,export:!1,server:!1},isRotating:{browser:!1,export:!1,server:!1},lastPointerDownWith:{browser:!0,export:!1,server:!1},multiElement:{browser:!1,export:!1,server:!1},name:{browser:!0,export:!1,server:!1},offsetLeft:{browser:!1,export:!1,server:!1},offsetTop:{browser:!1,export:!1,server:!1},contextMenu:{browser:!1,export:!1,server:!1},openMenu:{browser:!0,export:!1,server:!1},openPopup:{browser:!1,export:!1,server:!1},openSidebar:{browser:!0,export:!1,server:!1},openDialog:{browser:!1,export:!1,server:!1},pasteDialog:{browser:!1,export:!1,server:!1},previousSelectedElementIds:{browser:!0,export:!1,server:!1},resizingElement:{browser:!1,export:!1,server:!1},scrolledOutside:{browser:!0,export:!1,server:!1},scrollX:{browser:!0,export:!1,server:!1},scrollY:{browser:!0,export:!1,server:!1},selectedElementIds:{browser:!0,export:!1,server:!1},selectedGroupIds:{browser:!0,export:!1,server:!1},selectedElementsAreBeingDragged:{browser:!1,export:!1,server:!1},selectionElement:{browser:!1,export:!1,server:!1},shouldCacheIgnoreZoom:{browser:!0,export:!1,server:!1},showStats:{browser:!0,export:!1,server:!1},startBoundElement:{browser:!1,export:!1,server:!1},suggestedBindings:{browser:!1,export:!1,server:!1},frameRendering:{browser:!1,export:!1,server:!1},frameToHighlight:{browser:!1,export:!1,server:!1},editingFrame:{browser:!1,export:!1,server:!1},elementsToHighlight:{browser:!1,export:!1,server:!1},toast:{browser:!1,export:!1,server:!1},viewBackgroundColor:{browser:!0,export:!0,server:!0},width:{browser:!1,export:!1,server:!1},zenModeEnabled:{browser:!0,export:!1,server:!1},zoom:{browser:!0,export:!1,server:!1},viewModeEnabled:{browser:!1,export:!1,server:!1},pendingImageElementId:{browser:!1,export:!1,server:!1},showHyperlinkPopup:{browser:!1,export:!1,server:!1},selectedLinearElement:{browser:!0,export:!1,server:!1},snapLines:{browser:!1,export:!1,server:!1},originSnapOffset:{browser:!1,export:!1,server:!1},objectsSnapModeEnabled:{browser:!0,export:!1,server:!1}},d=function(S,q){for(var ve={},ke=0,Se=Object.keys(S);ke<Se.length;ke++){var ge=Se[ke],J=f[ge];if(J!=null&&J[q]){var Q=S[ge];ve[ge]=Q}}return ve},j=function(S){return d(S,"export")},L=function(S){return d(S,"server")},H=function(S){return S.activeTool.type==="eraser"},x=function(S){return S.activeTool.type==="hand"}},901:function(ue,n,r){r.d(n,{dz:function(){return Q},i$:function(){return ke},ps:function(){return R}});var A=r(1930),k=r(7169),b=r(2577),w=r(9240),N=r(9937),M=r(7651),f=r(4643);function d(E,v){var i=typeof Symbol<"u"&&E[Symbol.iterator]||E["@@iterator"];if(!i){if(Array.isArray(E)||(i=function(U,V){if(U){if(typeof U=="string")return j(U,V);var D=Object.prototype.toString.call(U).slice(8,-1);if(D==="Object"&&U.constructor&&(D=U.constructor.name),D==="Map"||D==="Set")return Array.from(U);if(D==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D))return j(U,V)}}(E))||v){i&&(E=i);var a=0,y=function(){};return{s:y,n:function(){return a>=E.length?{done:!0}:{done:!1,value:E[a++]}},e:function(U){throw U},f:y}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var h,m=!0,C=!1;return{s:function(){i=i.call(E)},n:function(){var U=i.next();return m=U.done,U},e:function(U){C=!0,h=U},f:function(){try{m||i.return==null||i.return()}finally{if(C)throw h}}}}function j(E,v){(v==null||v>E.length)&&(v=E.length);for(var i=0,a=new Array(v);i<v;i++)a[i]=E[i];return a}function L(E,v){var i=Object.keys(E);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(E);v&&(a=a.filter(function(y){return Object.getOwnPropertyDescriptor(E,y).enumerable})),i.push.apply(i,a)}return i}function H(E){for(var v=1;v<arguments.length;v++){var i=arguments[v]!=null?arguments[v]:{};v%2?L(Object(i),!0).forEach(function(a){(0,k.Z)(E,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(i)):L(Object(i)).forEach(function(a){Object.defineProperty(E,a,Object.getOwnPropertyDescriptor(i,a))})}return E}var x=32,S=12,q=256,ve="NOT_SPREADSHEET",ke="VALID_SPREADSHEET",Se=function(E){var v=/^([-+]?)[$€£¥₩]?([-+]?)([\d.,]+)[%]?$/.exec(E);return v?parseFloat("".concat((v[1]||v[2])+v[3]).replace(/,/g,"")):null},ge=function(E,v){return E.slice(1).every(function(i){return Se(i[v])!==null})},J=function(E){var v=E[0].length;if(v>2)return{type:ve,reason:"More than 2 columns"};if(v===1){if(!ge(E,0))return{type:ve,reason:"Value is not numeric"};var i=Se(E[0][0])===null,a=(i?E.slice(1):E).map(function(F){return Se(F[0])});return a.length<2?{type:ve,reason:"Less than two rows"}:{type:ke,spreadsheet:{title:i?E[0][0]:null,labels:null,values:a}}}var y=ge(E,0),h=ge(E,1);if(!y&&!h)return{type:ve,reason:"Value is not numeric"};var m=h?[0,1]:[1,0],C=(0,b.Z)(m,2),U=C[0],V=C[1],D=Se(E[0][V])===null,P=D?E.slice(1):E;return P.length<2?{type:ve,reason:"Less than 2 rows"}:{type:ke,spreadsheet:{title:D?E[0][V]:null,labels:P.map(function(F){return F[U]}),values:P.map(function(F){return Se(F[V])})}}},Q=function(E){var v=E.trim().split(`
`).map(function(h){return h.trim().split("	")});if(v.length&&v[0].length!==2&&(v=E.trim().split(`
`).map(function(h){return h.trim().split(",")})),v.length===0)return{type:ve,reason:"No values"};var i=v[0].length;if(!v.every(function(h){return h.length===i}))return{type:ve,reason:"All rows don't have same number of columns"};var a=J(v);if(a.type!==ke){var y=J(function(h){for(var m=[],C=0;C<h[0].length;C++){for(var U=[],V=0;V<h.length;V++)U.push(h[V][C]);m.push(U)}return m}(v));if(y.type===ke)return y}return a},K=(0,w.sF)(w.C2),T={fillStyle:"hachure",fontFamily:N.rk,fontSize:N.n5,opacity:100,roughness:1,strokeColor:w.HO.black,roundness:null,strokeStyle:"solid",strokeWidth:1,verticalAlign:N.oX.MIDDLE,locked:!1},B=function(E){return{chartWidth:44*E.values.length+S,chartHeight:280}},O=function(E,v,i,a,y,h){var m=B(E),C=m.chartWidth,U=E.title?(0,M.VL)(H(H({backgroundColor:y,groupIds:[a]},T),{},{text:E.title,x:v+C/2,y:i-q-24-N.n5,roundness:null,textAlign:"center"})):null;return[].concat((0,A.Z)([]),(0,A.Z)(U?[U]:[]),(0,A.Z)(function(V,D,P,F,X){var le;return((le=V.labels)===null||le===void 0?void 0:le.map(function(de,fe){return(0,M.VL)(H(H({groupIds:[F],backgroundColor:X},T),{},{text:de.length>8?"".concat(de.slice(0,5),"..."):de,x:D+44*fe+24,y:P+6,width:x,angle:5.87,fontSize:16,textAlign:"center",verticalAlign:"top"}))}))||[]}(E,v,i,a,y)),(0,A.Z)(function(V,D,P,F,X){var le=(0,M.VL)(H(H({groupIds:[F],backgroundColor:X},T),{},{x:D-S,y:P-S,text:"0",textAlign:"right"}));return[le,(0,M.VL)(H(H({groupIds:[F],backgroundColor:X},T),{},{x:D-S,y:P-q-le.height/2,text:Math.max.apply(Math,(0,A.Z)(V.values)).toLocaleString(),textAlign:"right"}))]}(E,v,i,a,y)),(0,A.Z)(function(V,D,P,F,X){var le=B(V),de=le.chartWidth,fe=le.chartHeight;return[(0,M.y8)(H(H({backgroundColor:X,groupIds:[F]},T),{},{type:"line",x:D,y:P,startArrowhead:null,endArrowhead:null,width:de,points:[[0,0],[de,0]]})),(0,M.y8)(H(H({backgroundColor:X,groupIds:[F]},T),{},{type:"line",x:D,y:P,startArrowhead:null,endArrowhead:null,height:fe,points:[[0,0],[0,-280]]})),(0,M.y8)(H(H({backgroundColor:X,groupIds:[F]},T),{},{type:"line",x:D,y:P-q-S,startArrowhead:null,endArrowhead:null,strokeStyle:"dotted",width:de,opacity:50,points:[[0,0],[de,0]]}))]}(E,v,i,a,y)))},R=function(E,v,i,a){return E==="line"?function(y,h,m){var C,U=Math.max.apply(Math,(0,A.Z)(y.values)),V=(0,f.kb)(),D=K[Math.floor(Math.random()*K.length)],P=0,F=[],X=d(y.values);try{for(X.s();!(C=X.n()).done;){var le=C.value,de=44*P,fe=-le/U*q;F.push([de,fe]),P++}}catch(Ne){X.e(Ne)}finally{X.f()}var pe=Math.max.apply(Math,(0,A.Z)(F.map(function(Ne){return Ne[0]}))),ne=Math.max.apply(Math,(0,A.Z)(F.map(function(Ne){return Ne[1]}))),oe=Math.min.apply(Math,(0,A.Z)(F.map(function(Ne){return Ne[0]}))),be=Math.min.apply(Math,(0,A.Z)(F.map(function(Ne){return Ne[1]}))),Me=(0,M.y8)(H(H({backgroundColor:D,groupIds:[V]},T),{},{type:"line",x:h+S+16,y:m-S,startArrowhead:null,endArrowhead:null,height:ne-be,width:pe-oe,strokeWidth:2,points:F})),Ge=y.values.map(function(Ne,Pe){var Re=44*Pe+6,Ze=-Ne/U*q+6;return(0,M.Up)(H(H({backgroundColor:D,groupIds:[V]},T),{},{fillStyle:"solid",strokeWidth:2,type:"ellipse",x:h+Re+16,y:m+Ze-24,width:S,height:S}))}),qe=y.values.map(function(Ne,Pe){var Re=44*Pe+6,Ze=Ne/U*q+6+S;return(0,M.y8)(H(H({backgroundColor:D,groupIds:[V]},T),{},{type:"line",x:h+Re+16+6,y:m-Ze,startArrowhead:null,endArrowhead:null,height:Ze,strokeStyle:"dotted",opacity:50,points:[[0,0],[0,Ze]]}))});return[].concat((0,A.Z)(O(y,h,m,V,D)),[Me],(0,A.Z)(qe),(0,A.Z)(Ge))}(v,i,a):function(y,h,m){var C=Math.max.apply(Math,(0,A.Z)(y.values)),U=(0,f.kb)(),V=K[Math.floor(Math.random()*K.length)],D=y.values.map(function(P,F){var X=P/C*q;return(0,M.Up)(H(H({backgroundColor:V,groupIds:[U]},T),{},{type:"rectangle",x:h+44*F+S,y:m-X-S,width:x,height:X}))});return[].concat((0,A.Z)(D),(0,A.Z)(O(y,h,m,U,V)))}(v,i,a)}},957:function(ue,n,r){r.d(n,{G:function(){return A},l:function(){return k}});var A=function(b){var w=Math.abs(function(N){var M=0;if(N.length===0)return M;for(var f=0;f<N.length;f++)M=(M<<5)-M+N.charCodeAt(f);return M}(b));return"hsl(".concat(w%37*10,", ").concat(100,"%, ").concat(83,"%)")},k=function(b){var w,N=b==null||(w=b.trim())===null||w===void 0?void 0:w.codePointAt(0);return(N?String.fromCodePoint(N):"?").toUpperCase()}},4694:function(ue,n,r){r.d(n,{OO:function(){return J},Se:function(){return R},dd:function(){return a},mQ:function(){return v},uR:function(){return i},vQ:function(){return K},vt:function(){return Se},wx:function(){return ke}});var A=r(7169),k=r(8950),b=r(2577),w=r(2975),N=r.n(w),M=r(901),f=r(9937),d=r(4183),j=r(5742),L=r(583),H=r(4682),x=r(9827),S=r(8227);function q(h,m){var C=typeof Symbol<"u"&&h[Symbol.iterator]||h["@@iterator"];if(!C){if(Array.isArray(h)||(C=function(X,le){if(X){if(typeof X=="string")return ve(X,le);var de=Object.prototype.toString.call(X).slice(8,-1);if(de==="Object"&&X.constructor&&(de=X.constructor.name),de==="Map"||de==="Set")return Array.from(X);if(de==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(de))return ve(X,le)}}(h))||m){C&&(h=C);var U=0,V=function(){};return{s:V,n:function(){return U>=h.length?{done:!0}:{done:!1,value:h[U++]}},e:function(X){throw X},f:V}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var D,P=!0,F=!1;return{s:function(){C=C.call(h)},n:function(){var X=C.next();return P=X.done,X},e:function(X){F=!0,D=X},f:function(){try{P||C.return==null||C.return()}finally{if(F)throw D}}}}function ve(h,m){(m==null||m>h.length)&&(m=h.length);for(var C=0,U=new Array(m);C<m;C++)U[C]=h[C];return U}var ke="clipboard"in navigator&&"writeText"in navigator.clipboard,Se="clipboard"in navigator&&"write"in navigator.clipboard&&"ClipboardItem"in window&&"toBlob"in HTMLCanvasElement.prototype,ge=function(h){return!(![f.r8.excalidraw,f.r8.excalidrawClipboard,f.r8.excalidrawClipboardWithAPI].includes(h==null?void 0:h.type)||!Array.isArray(h.elements))},J=function(h){var m=h.types,C=h.files;m||C||console.warn("createPasteEvent: no types or files provided");var U=new ClipboardEvent("paste",{clipboardData:new DataTransfer});if(m)for(var V=0,D=Object.entries(m);V<D.length;V++){var P=(0,b.Z)(D[V],2),F=P[0],X=P[1];try{var le,de;if((le=U.clipboardData)===null||le===void 0||le.setData(F,X),((de=U.clipboardData)===null||de===void 0?void 0:de.getData(F))!==X)throw new Error('Failed to set "'.concat(F,'" as clipboardData item'))}catch(Ge){throw new Error(Ge.message)}}if(C){var fe,pe=-1,ne=q(C);try{for(ne.s();!(fe=ne.n()).done;){var oe=fe.value;pe++;try{var be,Me;if((be=U.clipboardData)===null||be===void 0||be.items.add(oe),((Me=U.clipboardData)===null||Me===void 0?void 0:Me.files[pe])!==oe)throw new Error('Failed to set file "'.concat(oe.name,'" as clipboardData item'))}catch(Ge){throw new Error(Ge.message)}}}catch(Ge){ne.e(Ge)}finally{ne.f()}}return U},Q=function(h){var m=h.elements,C=h.files,U=new Set(m.filter(function(F){return F.type==="frame"})),V=!1,D=m.reduce(function(F,X){return(0,d.wi)(X)&&(V=!0,C&&C[X.fileId]&&(F[X.fileId]=C[X.fileId])),F},{});V&&!C&&console.warn("copyToClipboard: attempting to file element(s) without providing associated `files` object.");var P={type:f.r8.excalidrawClipboard,elements:m.map(function(F){if((0,H.$Z)(F)&&!U.has((0,H.$Z)(F))){var X=(0,j.OL)(F);return(0,L.DR)(X,{frameId:null}),X}return F}),files:C?D:void 0};return JSON.stringify(P)},K=function(){var h=(0,k.Z)(N().mark(function m(C,U,V){return N().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,a(Q({elements:C,files:U}),V);case 2:case"end":return D.stop()}},m)}));return function(m,C,U){return h.apply(this,arguments)}}(),T=function(h){var m=(0,M.dz)(h);return m.type===M.i$?{spreadsheet:m.spreadsheet}:null};function B(h){var m,C=[],U=q(h.childNodes);try{for(U.s();!(m=U.n()).done;){var V=m.value;if(V.nodeType===3){var D,P=(D=V.textContent)===null||D===void 0?void 0:D.trim();P&&C.push({type:"text",value:P})}else if(V instanceof HTMLImageElement){var F=V.getAttribute("src");F&&F.startsWith("http")&&C.push({type:"imageUrl",value:F})}else C=C.concat(B(V))}}catch(X){U.e(X)}finally{U.f()}return C}var O=function(h){var m,C=(m=h.clipboardData)===null||m===void 0?void 0:m.getData("text/html");if(!C)return null;try{var U=B(new DOMParser().parseFromString(C,"text/html").body);if(U.length)return{type:"mixedContent",value:U}}catch(V){console.error("error in parseHTMLFromPaste: ".concat(V.message))}return null},R=function(){var h=(0,k.Z)(N().mark(function m(){var C,U,V,D,P,F,X,le,de,fe,pe,ne;return N().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:if(C={},oe.prev=1,(U=navigator.clipboard)===null||U===void 0||!U.readText){oe.next=7;break}return oe.next=5,(V=navigator.clipboard)===null||V===void 0?void 0:V.readText();case 5:return oe.t0=oe.sent,oe.abrupt("return",{"text/plain":oe.t0});case 7:oe.next=16;break;case 9:if(oe.prev=9,oe.t1=oe.catch(1),(D=navigator.clipboard)===null||D===void 0||!D.read){oe.next=15;break}console.warn("navigator.clipboard.readText() failed (".concat(oe.t1.message,"). Failling back to navigator.clipboard.read()")),oe.next=16;break;case 15:throw oe.t1;case 16:return oe.prev=16,oe.next=19,(F=navigator.clipboard)===null||F===void 0?void 0:F.read();case 19:P=oe.sent,oe.next=28;break;case 22:if(oe.prev=22,oe.t2=oe.catch(16),oe.t2.name!=="DataError"){oe.next=27;break}return console.warn("navigator.clipboard.read() error, clipboard is probably empty: ".concat(oe.t2.message)),oe.abrupt("return",C);case 27:throw oe.t2;case 28:X=q(P),oe.prev=29,X.s();case 31:if((le=X.n()).done){oe.next=63;break}de=le.value,fe=q(de.types),oe.prev=34,fe.s();case 36:if((pe=fe.n()).done){oe.next=53;break}if(ne=pe.value,(0,x.XF)(f.wL,ne)){oe.next=40;break}return oe.abrupt("continue",51);case 40:return oe.prev=40,oe.next=43,de.getType(ne);case 43:return oe.next=45,oe.sent.text();case 45:C[ne]=oe.sent,oe.next=51;break;case 48:oe.prev=48,oe.t3=oe.catch(40),console.warn("Cannot retrieve ".concat(ne," from clipboardItem: ").concat(oe.t3.message));case 51:oe.next=36;break;case 53:oe.next=58;break;case 55:oe.prev=55,oe.t4=oe.catch(34),fe.e(oe.t4);case 58:return oe.prev=58,fe.f(),oe.finish(58);case 61:oe.next=31;break;case 63:oe.next=68;break;case 65:oe.prev=65,oe.t5=oe.catch(29),X.e(oe.t5);case 68:return oe.prev=68,X.f(),oe.finish(68);case 71:if(Object.keys(C).length!==0){oe.next=74;break}return console.warn("No clipboard data found from clipboard.read()."),oe.abrupt("return",C);case 74:return oe.abrupt("return",C);case 75:case"end":return oe.stop()}},m,null,[[1,9],[16,22],[29,65,68,71],[34,55,58,61],[40,48]])}));return function(){return h.apply(this,arguments)}}(),E=function(){var h=(0,k.Z)(N().mark(function m(C){var U,V,D,P,F,X=arguments;return N().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:if(U=X.length>1&&X[1]!==void 0&&X[1],le.prev=1,!(D=!U&&C&&O(C))){le.next=7;break}if(!D.value.every(function(de){return de.type==="text"})){le.next=6;break}return le.abrupt("return",{type:"text",value:((P=C.clipboardData)===null||P===void 0?void 0:P.getData("text/plain"))||D.value.map(function(de){return de.value}).join(`
`).trim()});case 6:return le.abrupt("return",D);case 7:return F=(V=C.clipboardData)===null||V===void 0?void 0:V.getData("text/plain"),le.abrupt("return",{type:"text",value:(F||"").trim()});case 11:return le.prev=11,le.t0=le.catch(1),le.abrupt("return",{type:"text",value:""});case 14:case"end":return le.stop()}},m,null,[[1,11]])}));return function(m){return h.apply(this,arguments)}}(),v=function(){var h=(0,k.Z)(N().mark(function m(C){var U,V,D,P,F,X=arguments;return N().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:return U=X.length>1&&X[1]!==void 0&&X[1],le.next=3,E(C,U);case 3:if((V=le.sent).type!=="mixedContent"){le.next=6;break}return le.abrupt("return",{mixedContent:V.value});case 6:if(le.prev=6,!(D=!U&&T(V.value))){le.next=10;break}return le.abrupt("return",D);case 10:le.next=15;break;case 12:le.prev=12,le.t0=le.catch(6),console.error(le.t0);case 15:if(le.prev=15,P=JSON.parse(V.value),F=P.type===f.r8.excalidrawClipboardWithAPI,!ge(P)){le.next=20;break}return le.abrupt("return",{elements:P.elements,files:P.files,text:U?JSON.stringify(P.elements,null,2):void 0,programmaticAPI:F});case 20:le.next=24;break;case 22:le.prev=22,le.t1=le.catch(15);case 24:return le.abrupt("return",{text:V.value});case 25:case"end":return le.stop()}},m,null,[[6,12],[15,22]])}));return function(m){return h.apply(this,arguments)}}(),i=function(){var h=(0,k.Z)(N().mark(function m(C){return N().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.prev=0,U.next=3,navigator.clipboard.write([new window.ClipboardItem((0,A.Z)({},f.LO.png,C))]);case 3:case 21:U.next=24;break;case 5:if(U.prev=5,U.t0=U.catch(0),!(0,x.y8)(C)){U.next=23;break}return U.t1=navigator.clipboard,U.t2=window.ClipboardItem,U.t3=A.Z,U.t4={},U.t5=f.LO.png,U.next=15,C;case 15:return U.t6=U.sent,U.t7=(0,U.t3)(U.t4,U.t5,U.t6),U.t8=new U.t2(U.t7),U.t9=[U.t8],U.next=21,U.t1.write.call(U.t1,U.t9);case 23:throw U.t0;case 24:case"end":return U.stop()}},m,null,[[0,5]])}));return function(m){return h.apply(this,arguments)}}(),a=function(){var h=(0,k.Z)(N().mark(function m(C,U){var V,D;return N().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(!ke){P.next=10;break}return P.prev=1,P.next=4,navigator.clipboard.writeText(C||"");case 4:return P.abrupt("return");case 7:P.prev=7,P.t0=P.catch(1),console.error(P.t0);case 10:if(P.prev=10,!U){P.next=16;break}if((V=U.clipboardData)===null||V===void 0||V.setData("text/plain",C||""),((D=U.clipboardData)===null||D===void 0?void 0:D.getData("text/plain"))===C){P.next=15;break}throw new Error("Failed to setData on clipboardEvent");case 15:return P.abrupt("return");case 16:P.next=21;break;case 18:P.prev=18,P.t1=P.catch(10),console.error(P.t1);case 21:if(y(C)){P.next=23;break}throw new Error((0,S.t)("errors.copyToSystemClipboardFailed"));case 23:case"end":return P.stop()}},m,null,[[1,7],[10,18]])}));return function(m,C){return h.apply(this,arguments)}}(),y=function(h){h||(h=" ");var m=document.documentElement.getAttribute("dir")==="rtl",C=document.createElement("textarea");C.style.border="0",C.style.padding="0",C.style.margin="0",C.style.position="absolute",C.style[m?"right":"left"]="-9999px";var U=window.pageYOffset||document.documentElement.scrollTop;C.style.top="".concat(U,"px"),C.style.fontSize="12pt",C.setAttribute("readonly",""),C.value=h,document.body.appendChild(C);var V=!1;try{C.select(),C.setSelectionRange(0,C.value.length),V=document.execCommand("copy")}catch(D){console.error(D)}return C.remove(),V}},9240:function(ue,n,r){r.d(n,{C2:function(){return d},HO:function(){return S},Lx:function(){return M},SF:function(){return J},Wk:function(){return ge},_T:function(){return L},ay:function(){return Se},dC:function(){return f},eq:function(){return ke},fY:function(){return ve},sF:function(){return Q},vq:function(){return K},z8:function(){return j}});var A=r(7169),k=r(5284);function b(T,B){var O=Object.keys(T);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(T);B&&(R=R.filter(function(E){return Object.getOwnPropertyDescriptor(T,E).enumerable})),O.push.apply(O,R)}return O}function w(T){for(var B=1;B<arguments.length;B++){var O=arguments[B]!=null?arguments[B]:{};B%2?b(Object(O),!0).forEach(function(R){(0,A.Z)(T,R,O[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(O)):b(Object(O)).forEach(function(R){Object.defineProperty(T,R,Object.getOwnPropertyDescriptor(O,R))})}return T}var N,M=5,f=5,d=4,j=4,L=1,H=[0,2,4,6,8],x=function(T,B){return B.map(function(O){return k[T][O]})},S={transparent:"transparent",black:"#1e1e1e",white:"#ffffff",gray:x("gray",H),red:x("red",H),pink:x("pink",H),grape:x("grape",H),violet:x("violet",H),blue:x("blue",H),cyan:x("cyan",H),teal:x("teal",H),green:x("green",H),yellow:x("yellow",H),orange:x("orange",H),bronze:["#f8f1ee","#eaddd7","#d2bab0","#a18072","#846358"]},q=(N=S,["cyan","blue","violet","grape","pink","green","teal","yellow","orange","red"].reduce(function(T,B){return B in N&&(T[B]=N[B]),T},{})),ve=[S.black,S.red[j],S.green[j],S.blue[j],S.yellow[j]],ke=[S.transparent,S.red[L],S.green[L],S.blue[L],S.yellow[L]],Se=[S.white,"#f8f9fa","#f5faff","#fffce8","#fdf8f6"],ge=w({transparent:S.transparent,white:S.white,gray:S.gray,black:S.black,bronze:S.bronze},q),J=w({transparent:S.transparent,white:S.white,gray:S.gray,black:S.black,bronze:S.bronze},q),Q=function(T){return[S.cyan[T],S.blue[T],S.violet[T],S.grape[T],S.pink[T],S.green[T],S.teal[T],S.yellow[T],S.orange[T],S.red[T]]},K=function(T,B,O){return"#".concat(((1<<24)+(T<<16)+(B<<8)+O).toString(16).slice(1))}},8973:function(ue,n,r){r.d(n,{o:function(){return L},w:function(){return j}});var A=r(2577),k=r(3607),b=r(5463),w=r(8227),N=r(453),M=r(8242),f=r(6887),d=r(1020),j=(0,k.cn)(null),L=function(){var H=(0,k.KO)(j,N.yE),x=(0,A.Z)(H,2),S=x[0],q=x[1],ve=(0,M.eh)();return S&&S==="clearCanvas"?(0,d.jsx)(f.Z,{onConfirm:function(){ve.executeAction(b.mo),q(null)},onCancel:function(){return q(null)},title:(0,w.t)("clearCanvasDialog.title"),children:(0,d.jsxs)("p",{className:"clear-canvas__content",children:[" ",(0,w.t)("alerts.clearReset")]})}):null}},8242:function(ue,n,r){var Vl,ns;r.d(n,{ZP:function(){return Ul},qD:function(){return Tl},hY:function(){return Pa},Fy:function(){return ka},eh:function(){return sc},gF:function(){return Os},J0:function(){return Ws},bd:function(){return Is},n9:function(){return Us}});var A=r(6655),k=r(2577),b=r(1930),w=r(8950),N=r(8821),M=r(5169),f=r(3173),d=r(2248),j=r(7245),L=r(2312),H=r(7169),x=r(2975),S=r.n(x),q=r(9787),ve=r.n(q),ke=r(5156),Se=r(9845),ge=r(45),J=r(5605),Q=r(5463),K=r(8935),T=r(1512),B=r(8227),O=r(5491),R=r(583),E=r(9645),v=r(9827),i=r(9937),a=r(1020);function y(s,I){var G=Object.keys(s);if(Object.getOwnPropertySymbols){var se=Object.getOwnPropertySymbols(s);I&&(se=se.filter(function(_e){return Object.getOwnPropertyDescriptor(s,_e).enumerable})),G.push.apply(G,se)}return G}function h(s){for(var I=1;I<arguments.length;I++){var G=arguments[I]!=null?arguments[I]:{};I%2?y(Object(G),!0).forEach(function(se){(0,H.Z)(s,se,G[se])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(G)):y(Object(G)).forEach(function(se){Object.defineProperty(s,se,Object.getOwnPropertyDescriptor(G,se))})}return s}var m=function(s,I,G){var se=!1;if(!(I.multiElement||I.resizingElement||I.editingElement||I.draggingElement)){var _e=G();if(_e===null)return{commitToHistory:se};var he=(0,v.xn)(s),$=_e.elements,ie=(0,v.xn)($),De=s.filter(function(Ve){return!ie.has(Ve.id)}),He=$.map(function(Ve){return(0,R.BE)(he.get(Ve.id)||Ve,Ve)}).concat(De.map(function(Ve){return(0,R.BE)(Ve,{isDeleted:!0})}));return(0,E.$q)(He,De),{elements:He,appState:h(h({},I),_e.appState),commitToHistory:se,syncHistory:!0}}return{commitToHistory:se}},C=r(3646),U=function(s,I,G,se,_e,he){if(s.trackEvent)try{(0,A.Z)(s.trackEvent)==="object"&&(!s.trackEvent.predicate||s.trackEvent.predicate(G,se,he))&&(0,C.L)(s.trackEvent.category,s.trackEvent.action||s.name,"".concat(I," (").concat(_e.device.editor.isMobile?"mobile":"desktop",")"))}catch($){console.error("error while logging action:",$)}},V=function(){function s(I,G,se,_e){var he=this;(0,N.Z)(this,s),this.actions={},this.renderAction=function($,ie){var De=he.app.props.UIOptions.canvasActions;if(he.actions[$]&&"PanelComponent"in he.actions[$]&&(!($ in De)||De[$])){var He=he.actions[$],Ve=He.PanelComponent;Ve.displayName="PanelComponent";var lt=he.getElementsIncludingDeleted(),dt=he.getAppState();return(0,a.jsx)(Ve,{elements:he.getElementsIncludingDeleted(),appState:he.getAppState(),updateData:function(vt){U(He,"ui",dt,lt,he.app,vt),he.updater(He.perform(he.getElementsIncludingDeleted(),he.getAppState(),vt,he.app))},appProps:he.app.props,app:he.app,data:ie})}return null},this.isActionEnabled=function($){var ie=he.getElementsIncludingDeleted(),De=he.getAppState();return!$.predicate||$.predicate(ie,De,he.app.props,he.app)},this.updater=function($){if(!$||!("then"in $))return I($);$.then(function(ie){return I(ie)})},this.getAppState=G,this.getElementsIncludingDeleted=se,this.app=_e}return(0,M.Z)(s,[{key:"registerAction",value:function(I){this.actions[I.name]=I}},{key:"registerAll",value:function(I){var G=this;I.forEach(function(se){return G.registerAction(se)})}},{key:"handleKeyDown",value:function(I){var G=this,se=this.app.props.UIOptions.canvasActions,_e=Object.values(this.actions).sort(function(De,He){return(He.keyPriority||0)-(De.keyPriority||0)}).filter(function(De){return(!(De.name in se)||se[De.name])&&De.keyTest&&De.keyTest(I,G.getAppState(),G.getElementsIncludingDeleted(),G.app)});if(_e.length!==1)return _e.length>1&&console.warn("Canceling as multiple actions match this shortcut",_e),!1;var he=_e[0];if(this.getAppState().viewModeEnabled&&he.viewMode!==!0)return!1;var $=this.getElementsIncludingDeleted(),ie=this.getAppState();return U(he,"keyboard",ie,$,this.app,null),I.preventDefault(),I.stopPropagation(),this.updater(_e[0].perform($,ie,null,this.app)),!0}},{key:"executeAction",value:function(I){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"api",se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,_e=this.getElementsIncludingDeleted(),he=this.getAppState();U(I,G,he,_e,this.app,se),this.updater(I.perform(_e,he,se,this.app))}}]),s}(),D=r(2767),P=r(6853),F=r(4694),X=r(2435),le=r(9326),de=r(7994),fe=r(7651),pe=r(7422),ne=r(5742),oe=r(4183),be=function(s){var I=Array.from(s.values());return{x:Ge(I,function(G){return G.x})/I.length,y:Ge(I,function(G){return G.y})/I.length}},Me=function(s){var I=(0,k.Z)(s,2),G=I[0],se=I[1];return Math.hypot(G.x-se.x,G.y-se.y)},Ge=function(s,I){return s.reduce(function(G,se){return G+I(se)},0)},qe=r(9215);function Ne(s,I){var G=Object.keys(s);if(Object.getOwnPropertySymbols){var se=Object.getOwnPropertySymbols(s);I&&(se=se.filter(function(_e){return Object.getOwnPropertyDescriptor(s,_e).enumerable})),G.push.apply(G,se)}return G}function Pe(s){for(var I=1;I<arguments.length;I++){var G=arguments[I]!=null?arguments[I]:{};I%2?Ne(Object(G),!0).forEach(function(se){(0,H.Z)(s,se,G[se])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(G)):Ne(Object(G)).forEach(function(se){Object.defineProperty(s,se,Object.getOwnPropertyDescriptor(G,se))})}return s}var Re=function(s){return{selectedElementIds:s.selectedElementIds,selectedGroupIds:s.selectedGroupIds,viewBackgroundColor:s.viewBackgroundColor,editingLinearElement:s.editingLinearElement,editingGroupId:s.editingGroupId,name:s.name}},Ze=function(){function s(){var I=this;(0,N.Z)(this,s),this.elementCache=new Map,this.recording=!0,this.stateHistory=[],this.redoStack=[],this.lastEntry=null,this.generateEntry=function(G,se){return I.dehydrateHistoryEntry({appState:Re(G),elements:se.reduce(function(_e,he){if((0,oe.bt)(he)&&G.multiElement&&G.multiElement.id===he.id){if(G.multiElement&&G.multiElement.id===he.id&&he.points.length<2)return _e;_e.push(Pe(Pe({},he),{},{points:he.lastCommittedPoint!==he.points[he.points.length-1]?he.points.slice(0,-1):he.points}))}else _e.push(he);return _e},[])})}}return(0,M.Z)(s,[{key:"hydrateHistoryEntry",value:function(I){var G=this,se=I.appState,_e=I.elements;return{appState:JSON.parse(se),elements:_e.map(function(he){var $,ie=($=G.elementCache.get(he.id))===null||$===void 0?void 0:$.get(he.versionNonce);if(!ie)throw new Error("Element not found: ".concat(he.id,":").concat(he.versionNonce));return ie})}}},{key:"dehydrateHistoryEntry",value:function(I){var G=this,se=I.appState,_e=I.elements;return{appState:JSON.stringify(se),elements:_e.map(function(he){G.elementCache.has(he.id)||G.elementCache.set(he.id,new Map);var $=G.elementCache.get(he.id);return $.has(he.versionNonce)||$.set(he.versionNonce,(0,ne.OL)(he)),{id:he.id,versionNonce:he.versionNonce}})}}},{key:"getSnapshotForTest",value:function(){var I=this;return{recording:this.recording,stateHistory:this.stateHistory.map(function(G){return I.hydrateHistoryEntry(G)}),redoStack:this.redoStack.map(function(G){return I.hydrateHistoryEntry(G)})}}},{key:"clear",value:function(){this.stateHistory.length=0,this.redoStack.length=0,this.lastEntry=null,this.elementCache.clear()}},{key:"shouldCreateEntry",value:function(I){var G,se=this.lastEntry;if(!se||I.elements.length!==se.elements.length)return!0;for(var _e=I.elements.length-1;_e>-1;_e--){var he=I.elements[_e],$=se.elements[_e];if(!he||!$||he.id!==$.id||he.versionNonce!==$.versionNonce)return!0}for(G in I.appState){var ie,De;if(!(G==="editingLinearElement"&&((ie=I.appState[G])===null||ie===void 0?void 0:ie.elementId)===((De=se.appState[G])===null||De===void 0?void 0:De.elementId))&&G!=="selectedElementIds"&&G!=="selectedGroupIds"&&I.appState[G]!==se.appState[G])return!0}return!1}},{key:"pushEntry",value:function(I,G){var se=this.generateEntry(I,G),_e=this.hydrateHistoryEntry(se);if(_e){if(!this.shouldCreateEntry(_e))return;this.stateHistory.push(se),this.lastEntry=_e,this.clearRedoStack()}}},{key:"clearRedoStack",value:function(){this.redoStack.splice(0,this.redoStack.length)}},{key:"redoOnce",value:function(){if(this.redoStack.length===0)return null;var I=this.redoStack.pop();return I!==void 0?(this.stateHistory.push(I),this.hydrateHistoryEntry(I)):null}},{key:"undoOnce",value:function(){if(this.stateHistory.length===1)return null;var I=this.stateHistory.pop(),G=this.stateHistory[this.stateHistory.length-1];return I!==void 0?(this.redoStack.push(I),this.hydrateHistoryEntry(G)):null}},{key:"setCurrentState",value:function(I,G){this.lastEntry=this.hydrateHistoryEntry(this.generateEntry(I,G))}},{key:"resumeRecording",value:function(){this.recording=!0}},{key:"record",value:function(I,G){this.recording&&(this.pushEntry(I,G),this.recording=!1)}}]),s}(),Ie=r(7935),Ee=r(2361),xe=r(4105),Z=r(457),u=r(4116),g=[{icon:K.zu,value:"selection",key:O.tW.V,numericKey:O.tW[1],fillable:!0},{icon:K.OW,value:"rectangle",key:O.tW.R,numericKey:O.tW[2],fillable:!0},{icon:K.nb,value:"diamond",key:O.tW.D,numericKey:O.tW[3],fillable:!0},{icon:K.Re,value:"ellipse",key:O.tW.O,numericKey:O.tW[4],fillable:!0},{icon:K.e0,value:"arrow",key:O.tW.A,numericKey:O.tW[5],fillable:!0},{icon:K.zb,value:"line",key:O.tW.L,numericKey:O.tW[6],fillable:!0},{icon:K.Pm,value:"freedraw",key:[O.tW.P,O.tW.X],numericKey:O.tW[7],fillable:!1},{icon:K.VL,value:"text",key:O.tW.T,numericKey:O.tW[8],fillable:!1},{icon:K.XB,value:"image",key:null,numericKey:O.tW[9],fillable:!1},{icon:K.$q,value:"eraser",key:O.tW.E,numericKey:O.tW[0],fillable:!1}],z=r(761),Y=r(3204),te=r(3379),ae=r.n(te),ce=r(7795),ye=r.n(ce),je=r(569),Be=r.n(je),Qe=r(3565),rt=r.n(Qe),Ye=r(9216),tt=r.n(Ye),ht=r(4589),gt=r.n(ht),Ue=r(6578),Ce={};Ce.styleTagTransform=gt(),Ce.setAttributes=rt(),Ce.insert=Be().bind(null,"head"),Ce.domAPI=ye(),Ce.insertStyleElement=tt(),ae()(Ue.Z,Ce),Ue.Z&&Ue.Z.locals&&Ue.Z.locals;var Le=r(2529),et="separator",ft=ve().memo(function(s){var I=s.actionManager,G=s.items,se=s.top,_e=s.left,he=s.onClose,$=Os(),ie=Is(),De=G.reduce(function(He,Ve){return!Ve||Ve!==et&&Ve.predicate&&!Ve.predicate(ie,$,I.app.props,I.app)||He.push(Ve),He},[]);return(0,a.jsx)(Y.J,{onCloseRequest:function(){he()},top:se,left:_e,fitInViewport:!0,offsetLeft:$.offsetLeft,offsetTop:$.offsetTop,viewportWidth:$.width,viewportHeight:$.height,children:(0,a.jsx)("ul",{className:"context-menu",onContextMenu:function(He){return He.preventDefault()},children:De.map(function(He,Ve){var lt;if(He===et)return De[Ve-1]&&De[Ve-1]!==et?(0,a.jsx)("hr",{className:"context-menu-item-separator"},Ve):null;var dt=He.name,vt="";return He.contextItemLabel&&(vt=typeof He.contextItemLabel=="function"?(0,B.t)(He.contextItemLabel(ie,$,I.app)):(0,B.t)(He.contextItemLabel)),(0,a.jsx)("li",{"data-testid":dt,onClick:function(){he(function(){I.executeAction(He,"contextMenu")})},children:(0,a.jsxs)("button",{className:(0,ge.Z)("context-menu-item",{dangerous:dt==="deleteSelectedElements",checkmark:(lt=He.checked)===null||lt===void 0?void 0:lt.call(He,$)}),children:[(0,a.jsx)("div",{className:"context-menu-item__label",children:vt}),(0,a.jsx)("kbd",{className:"context-menu-item__shortcut",children:dt?(0,Le.C)(dt):""})]})},Ve)})})})}),xt=r(2726),wt=r(2540),Rt=r(1648),It=r(8925),At=r(4761),Xt=r(6086),tr={};tr.styleTagTransform=gt(),tr.setAttributes=rt(),tr.insert=Be().bind(null,"head"),tr.domAPI=ye(),tr.insertStyleElement=tt(),ae()(Xt.Z,tr),Xt.Z&&Xt.Z.locals&&Xt.Z.locals;var Gt=r(7104);function Jt(s,I){var G=typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(!G){if(Array.isArray(s)||(G=function(De,He){if(De){if(typeof De=="string")return gr(De,He);var Ve=Object.prototype.toString.call(De).slice(8,-1);if(Ve==="Object"&&De.constructor&&(Ve=De.constructor.name),Ve==="Map"||Ve==="Set")return Array.from(De);if(Ve==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ve))return gr(De,He)}}(s))||I){G&&(s=G);var se=0,_e=function(){};return{s:_e,n:function(){return se>=s.length?{done:!0}:{done:!1,value:s[se++]}},e:function(De){throw De},f:_e}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var he,$=!0,ie=!1;return{s:function(){G=G.call(s)},n:function(){var De=G.next();return $=De.done,De},e:function(De){ie=!0,he=De},f:function(){try{$||G.return==null||G.return()}finally{if(ie)throw he}}}}function gr(s,I){(I==null||I>s.length)&&(I=s.length);for(var G=0,se=new Array(I);G<I;G++)se[G]=s[G];return se}var Pt=function(s){var I,G=s.appState,se=s.elements,_e=s.renderAction,he=(0,xe.Zs)((0,fe.Lm)(se),G),$=!1;he.length===2&&((0,oe.Xo)(he[0])||(0,oe.Xo)(he[1]))&&($=!0);var ie,De=!!G.editingElement,He=ka(),Ve=document.documentElement.getAttribute("dir")==="rtl",lt=(0,xe.$b)(G.activeTool.type)&&!(0,v.Qm)(G.currentItemBackgroundColor)||he.some(function(Yt){return(0,xe.$b)(Yt.type)&&!(0,v.Qm)(Yt.backgroundColor)}),dt=(0,xe.$b)(G.activeTool.type)||he.some(function(Yt){return(0,xe.$b)(Yt.type)}),vt=he.length===1||$,Ct=((I=he[0])===null||I===void 0?void 0:I.type)||null,Mt=Jt(he);try{for(Mt.s();!(ie=Mt.n()).done;)if(ie.value.type!==Ct){Ct=null;break}}catch(Yt){Mt.e(Yt)}finally{Mt.f()}return(0,a.jsxs)("div",{className:"panelColumn",children:[(0,a.jsx)("div",{children:((0,Rt.PD)(G.activeTool.type)&&G.activeTool.type!=="image"&&Ct!=="image"&&Ct!=="frame"||he.some(function(Yt){return(0,Rt.PD)(Yt.type)}))&&_e("changeStrokeColor")}),dt&&(0,a.jsx)("div",{children:_e("changeBackgroundColor")}),lt&&_e("changeFillStyle"),((0,xe.Zd)(G.activeTool.type)||he.some(function(Yt){return(0,xe.Zd)(Yt.type)}))&&_e("changeStrokeWidth"),(G.activeTool.type==="freedraw"||he.some(function(Yt){return Yt.type==="freedraw"}))&&_e("changeStrokeShape"),((0,xe.M9)(G.activeTool.type)||he.some(function(Yt){return(0,xe.M9)(Yt.type)}))&&(0,a.jsxs)(a.Fragment,{children:[_e("changeStrokeStyle"),_e("changeSloppiness")]}),((0,xe.sh)(G.activeTool.type)||he.some(function(Yt){return(0,xe.sh)(Yt.type)}))&&(0,a.jsx)(a.Fragment,{children:_e("changeRoundness")}),(G.activeTool.type==="text"||he.some(oe.iB))&&(0,a.jsxs)(a.Fragment,{children:[_e("changeFontSize"),_e("changeFontFamily"),(G.activeTool.type==="text"||(0,At.aV)(he))&&_e("changeTextAlign")]}),(0,At.cn)(he)&&_e("changeVerticalAlign"),((0,xe.Un)(G.activeTool.type)||he.some(function(Yt){return(0,xe.Un)(Yt.type)}))&&(0,a.jsx)(a.Fragment,{children:_e("changeArrowhead")}),_e("changeOpacity"),(0,a.jsxs)("fieldset",{children:[(0,a.jsx)("legend",{children:(0,B.t)("labels.layers")}),(0,a.jsxs)("div",{className:"buttonList",children:[_e("sendToBack"),_e("sendBackward"),_e("bringToFront"),_e("bringForward")]})]}),he.length>1&&!$&&(0,a.jsxs)("fieldset",{children:[(0,a.jsx)("legend",{children:(0,B.t)("labels.align")}),(0,a.jsxs)("div",{className:"buttonList",children:[Ve?(0,a.jsxs)(a.Fragment,{children:[_e("alignRight"),_e("alignHorizontallyCentered"),_e("alignLeft")]}):(0,a.jsxs)(a.Fragment,{children:[_e("alignLeft"),_e("alignHorizontallyCentered"),_e("alignRight")]}),he.length>2&&_e("distributeHorizontally"),(0,a.jsx)("div",{style:{flexBasis:"100%",height:0}}),(0,a.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:".5rem",marginTop:"-0.5rem"},children:[_e("alignTop"),_e("alignVerticallyCentered"),_e("alignBottom"),he.length>2&&_e("distributeVertically")]})]})]}),!De&&he.length>0&&(0,a.jsxs)("fieldset",{children:[(0,a.jsx)("legend",{children:(0,B.t)("labels.actions")}),(0,a.jsxs)("div",{className:"buttonList",children:[!He.editor.isMobile&&_e("duplicateSelection"),!He.editor.isMobile&&_e("deleteSelectedElements"),_e("group"),_e("ungroup"),vt&&_e("hyperlink")]})]})]})},St=function(s){var I=s.activeTool,G=s.appState,se=s.app,_e=s.UIOptions,he=(0,q.useState)(!1),$=(0,k.Z)(he,2),ie=$[0],De=$[1],He=I.type==="frame",Ve=I.type==="laser",lt=I.type==="embeddable";return(0,a.jsxs)(a.Fragment,{children:[g.map(function(dt,vt){var Ct,Mt=dt.value,Yt=dt.icon,ar=dt.key,Bt=dt.numericKey,zt=dt.fillable;if(((Ct=_e.tools)===null||Ct===void 0?void 0:Ct[Mt])===!1)return null;var $t=(0,B.t)("toolBar.".concat(Mt)),dr=ar&&(0,v.Oo)(typeof ar=="string"?ar:ar[0]),yr=dr?"".concat(dr," ").concat((0,B.t)("helpDialog.or")," ").concat(Bt):"".concat(Bt);return(0,a.jsx)(T.V,{className:(0,ge.Z)("Shape",{fillable:zt}),type:"radio",icon:Yt,checked:I.type===Mt,name:"editor-current-shape",title:"".concat((0,v.Oo)($t)," — ").concat(yr),keyBindingLabel:Bt||dr,"aria-label":(0,v.Oo)($t),"aria-keyshortcuts":yr,"data-testid":"toolbar-".concat(Mt),onPointerDown:function(lr){var nr=lr.pointerType;G.penDetected||nr!=="pen"||se.togglePenMode(!0)},onChange:function(lr){var nr=lr.pointerType;G.activeTool.type!==Mt&&(0,C.L)("toolbar",Mt,"ui"),Mt==="image"?se.setActiveTool({type:Mt,insertOnCanvasDirectly:nr!=="mouse"}):se.setActiveTool({type:Mt})}},Mt)}),(0,a.jsx)("div",{className:"App-toolbar__divider"}),(0,a.jsxs)(Gt.Z,{open:ie,children:[(0,a.jsx)(Gt.Z.Trigger,{className:(0,ge.Z)("App-toolbar__extra-tools-trigger",{"App-toolbar__extra-tools-trigger--selected":He||lt||Ve&&!se.props.isCollaborating}),onToggle:function(){return De(!ie)},title:(0,B.t)("toolBar.extraTools"),children:K.dg}),(0,a.jsxs)(Gt.Z.Content,{onClickOutside:function(){return De(!1)},onSelect:function(){return De(!1)},className:"App-toolbar__extra-tools-dropdown",children:[(0,a.jsx)(Gt.Z.Item,{onSelect:function(){return se.setActiveTool({type:"frame"})},icon:K.zl,shortcut:O.tW.F.toLocaleUpperCase(),"data-testid":"toolbar-frame",selected:He,children:(0,B.t)("toolBar.frame")}),(0,a.jsx)(Gt.Z.Item,{onSelect:function(){return se.setActiveTool({type:"embeddable"})},icon:K.FL,"data-testid":"toolbar-embeddable",selected:lt,children:(0,B.t)("toolBar.embeddable")}),(0,a.jsx)(Gt.Z.Item,{onSelect:function(){return se.setActiveTool({type:"laser"})},icon:K.d,"data-testid":"toolbar-laser",selected:Ve,shortcut:O.tW.K.toLocaleUpperCase(),children:(0,B.t)("toolBar.laser")}),(0,a.jsx)(Gt.Z.Item,{onSelect:function(){return se.setOpenDialog("mermaid")},icon:K.II,"data-testid":"toolbar-embeddable",children:(0,B.t)("toolBar.mermaidToExcalidraw")})]})]})]})},Zt=function(s){var I=s.renderAction;return s.zoom,(0,a.jsx)(wt.Z.Col,{gap:1,className:"zoom-actions",children:(0,a.jsxs)(wt.Z.Row,{align:"center",children:[I("zoomOut"),I("resetZoom"),I("zoomIn")]})})},Tt=function(s){var I=s.renderAction,G=s.className;return(0,a.jsxs)("div",{className:"undo-redo-buttons ".concat(G),children:[(0,a.jsx)("div",{className:"undo-button-container",children:(0,a.jsx)(It.u,{label:(0,B.t)("buttons.undo"),children:I("undo")})}),(0,a.jsx)("div",{className:"redo-button-container",children:(0,a.jsxs)(It.u,{label:(0,B.t)("buttons.redo"),children:[" ",I("redo")]})})]})},Lt=function(s){var I=s.actionManager,G=s.showExitZenModeBtn;return(0,a.jsx)("button",{className:(0,ge.Z)("disable-zen-mode",{"disable-zen-mode--visible":G}),onClick:function(){return I.executeAction(Q.JN)},children:(0,B.t)("buttons.exitZenMode")})},Wt=function(s){var I=s.renderAction,G=s.className;return(0,a.jsx)("div",{className:"finalize-button ".concat(G),children:I("finalize",{size:"small"})})},qt=r(1300),sr=function(s){var I=s.children,G=s.onClose,se=(0,q.useState)(!!I),_e=(0,k.Z)(se,2),he=_e[0],$=_e[1],ie=Ws().container,De=ve().useCallback(function(){$(!1),G&&G(),ie==null||ie.focus()},[G,ie]);return(0,a.jsx)(a.Fragment,{children:he&&(0,a.jsx)(qt.V,{size:"small",onCloseRequest:De,title:(0,B.t)("errorDialog.title"),children:(0,a.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:I})})})},cr=r(4406),Sr=r(5796),Mr=r(6548),zr=r(507),pr=r(6217),Ft={};Ft.styleTagTransform=gt(),Ft.setAttributes=rt(),Ft.insert=Be().bind(null,"head"),Ft.domAPI=ye(),Ft.insertStyleElement=tt(),ae()(pr.Z,Ft),pr.Z&&pr.Z.locals&&pr.Z.locals;var or=function(s){var I=s.onChange,G=s.value,se=s.choices,_e=s.name;return(0,a.jsx)("div",{className:"RadioGroup",children:se.map(function(he){return(0,a.jsxs)("div",{className:(0,ge.Z)("RadioGroup__choice",{active:he.value===G}),children:[(0,a.jsx)("input",{name:_e,type:"radio",checked:he.value===G,onChange:function(){return I(he.value)}}),he.label]},he.label)})})},rr=r(7802),Or={};Or.styleTagTransform=gt(),Or.setAttributes=rt(),Or.insert=Be().bind(null,"head"),Or.domAPI=ye(),Or.insertStyleElement=tt(),ae()(rr.Z,Or),rr.Z&&rr.Z.locals&&rr.Z.locals;var Kr=function(s){var I=s.title,G=s.name,se=s.checked,_e=s.onChange,he=s.disabled,$=he!==void 0&&he;return(0,a.jsx)("div",{className:(0,ge.Z)("Switch",{toggled:se,disabled:$}),children:(0,a.jsx)("input",{name:G,id:G,title:I,type:"checkbox",checked:se,disabled:$,onChange:function(){return _e(!se)},onKeyDown:function(ie){ie.key===" "&&_e(!se)}})})},Xr=r(9706),cn={};cn.styleTagTransform=gt(),cn.setAttributes=rt(),cn.insert=Be().bind(null,"head"),cn.domAPI=ye(),cn.insertStyleElement=tt(),ae()(Xr.Z,cn),Xr.Z&&Xr.Z.locals&&Xr.Z.locals;var en=r(8960),ur={};ur.styleTagTransform=gt(),ur.setAttributes=rt(),ur.insert=Be().bind(null,"head"),ur.domAPI=ye(),ur.insertStyleElement=tt(),ae()(en.Z,ur),en.Z&&en.Z.locals&&en.Z.locals;var Dt=(0,q.forwardRef)(function(s,I){var G=s.children,se=s.startIcon,_e=s.onClick,he=s.label,$=s.variant,ie=$===void 0?"filled":$,De=s.color,He=De===void 0?"primary":De,Ve=s.size,lt=Ve===void 0?"medium":Ve,dt=s.fullWidth,vt=s.className;return(0,a.jsxs)("button",{className:(0,ge.Z)("ExcButton","ExcButton--color-".concat(He),"ExcButton--variant-".concat(ie),"ExcButton--size-".concat(lt),{"ExcButton--fullWidth":dt},vt),onClick:_e,type:"button","aria-label":he,ref:I,children:[se&&(0,a.jsx)("div",{className:"ExcButton__icon","aria-hidden":!0,children:se}),ie!=="icon"&&(G??he)]})});function Nt(s,I){var G=Object.keys(s);if(Object.getOwnPropertySymbols){var se=Object.getOwnPropertySymbols(s);I&&(se=se.filter(function(_e){return Object.getOwnPropertyDescriptor(s,_e).enumerable})),G.push.apply(G,se)}return G}function Ut(s){for(var I=1;I<arguments.length;I++){var G=arguments[I]!=null?arguments[I]:{};I%2?Nt(Object(G),!0).forEach(function(se){(0,H.Z)(s,se,G[se])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(G)):Nt(Object(G)).forEach(function(se){Object.defineProperty(s,se,Object.getOwnPropertyDescriptor(G,se))})}return s}var hr="filter"in document.createElement("canvas").getContext("2d"),jr=function(){return(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{children:(0,B.t)("canvasError.cannotShowPreview")}),(0,a.jsx)("p",{children:(0,a.jsx)("span",{children:(0,B.t)("canvasError.canvasTooBig")})}),(0,a.jsxs)("em",{children:["(",(0,B.t)("canvasError.canvasTooBigTip"),")"]})]})},Cr=function(s){var I=s.appStateSnapshot,G=s.elementsSnapshot,se=s.files,_e=s.actionManager,he=s.onExportImage,$=(0,xe.N)(G,I),ie=Pa(),De=(0,q.useState)(I.name),He=(0,k.Z)(De,2),Ve=He[0],lt=He[1],dt=(0,q.useState)($),vt=(0,k.Z)(dt,2),Ct=vt[0],Mt=vt[1],Yt=(0,q.useState)(I.exportBackground),ar=(0,k.Z)(Yt,2),Bt=ar[0],zt=ar[1],$t=(0,q.useState)(I.exportWithDarkMode),dr=(0,k.Z)($t,2),yr=dr[0],lr=dr[1],nr=(0,q.useState)(I.exportEmbedScene),Tr=(0,k.Z)(nr,2),qr=Tr[0],pn=Tr[1],_n=(0,q.useState)(I.exportScale),Nn=(0,k.Z)(_n,2),Un=Nn[0],kn=Nn[1],vn=(0,q.useRef)(null),An=(0,q.useState)(null),jn=(0,k.Z)(An,2),qn=jn[0],oo=jn[1],no=(0,X.HD)(G,I,Ct),so=no.exportedElements,zn=no.exportingFrame;return(0,q.useEffect)(function(){var Mn=vn.current;if(Mn){var Jn=Mn.offsetWidth,Ro=Mn.offsetHeight;Jn&&(0,zr.NL)({elements:so,appState:Ut(Ut({},I),{},{name:Ve,exportBackground:Bt,exportWithDarkMode:yr,exportScale:Un,exportEmbedScene:qr}),files:se,exportPadding:i.qy,maxWidthOrHeight:Math.max(Jn,Ro),exportingFrame:zn}).then(function(Do){return oo(null),(0,Sr._c)(Do).then(function(){Mn.replaceChildren(Do)})}).catch(function(Do){console.error(Do),oo(Do)})}},[I,se,so,zn,Ve,Bt,yr,Un,qr]),(0,a.jsxs)("div",{className:"ImageExportModal",children:[(0,a.jsx)("h3",{children:(0,B.t)("imageExportDialog.header")}),(0,a.jsxs)("div",{className:"ImageExportModal__preview",children:[(0,a.jsx)("div",{className:"ImageExportModal__preview__canvas",ref:vn,children:qn&&(0,a.jsx)(jr,{})}),(0,a.jsx)("div",{className:"ImageExportModal__preview__filename",children:!Mr.kr&&(0,a.jsx)("input",{type:"text",className:"TextInput",value:Ve,style:{width:"30ch"},disabled:ie.name!==void 0||I.viewModeEnabled,onChange:function(Mn){lt(Mn.target.value),_e.executeAction(cr.zX,"ui",Mn.target.value)}})})]}),(0,a.jsxs)("div",{className:"ImageExportModal__settings",children:[(0,a.jsx)("h3",{children:(0,B.t)("imageExportDialog.header")}),$&&(0,a.jsx)(Zr,{label:(0,B.t)("imageExportDialog.label.onlySelected"),name:"exportOnlySelected",children:(0,a.jsx)(Kr,{name:"exportOnlySelected",checked:Ct,onChange:function(Mn){Mt(Mn)}})}),(0,a.jsx)(Zr,{label:(0,B.t)("imageExportDialog.label.withBackground"),name:"exportBackgroundSwitch",children:(0,a.jsx)(Kr,{name:"exportBackgroundSwitch",checked:Bt,onChange:function(Mn){zt(Mn),_e.executeAction(cr.XA,"ui",Mn)}})}),hr&&(0,a.jsx)(Zr,{label:(0,B.t)("imageExportDialog.label.darkMode"),name:"exportDarkModeSwitch",children:(0,a.jsx)(Kr,{name:"exportDarkModeSwitch",checked:yr,onChange:function(Mn){lr(Mn),_e.executeAction(cr.bJ,"ui",Mn)}})}),(0,a.jsx)(Zr,{label:(0,B.t)("imageExportDialog.label.embedScene"),tooltip:(0,B.t)("imageExportDialog.tooltip.embedScene"),name:"exportEmbedSwitch",children:(0,a.jsx)(Kr,{name:"exportEmbedSwitch",checked:qr,onChange:function(Mn){pn(Mn),_e.executeAction(cr.Du,"ui",Mn)}})}),(0,a.jsx)(Zr,{label:(0,B.t)("imageExportDialog.label.scale"),name:"exportScale",children:(0,a.jsx)(or,{name:"exportScale",value:Un,onChange:function(Mn){kn(Mn),_e.executeAction(cr.sK,"ui",Mn)},choices:i.ZB.map(function(Mn){return{value:Mn,label:"".concat(Mn,"×")}})})}),(0,a.jsxs)("div",{className:"ImageExportModal__settings__buttons",children:[(0,a.jsx)(Dt,{className:"ImageExportModal__settings__buttons__button",label:(0,B.t)("imageExportDialog.title.exportToPng"),onClick:function(){return he(i.I_.png,so,{exportingFrame:zn})},startIcon:K.aL,children:(0,B.t)("imageExportDialog.button.exportToPng")}),(0,a.jsx)(Dt,{className:"ImageExportModal__settings__buttons__button",label:(0,B.t)("imageExportDialog.title.exportToSvg"),onClick:function(){return he(i.I_.svg,so,{exportingFrame:zn})},startIcon:K.aL,children:(0,B.t)("imageExportDialog.button.exportToSvg")}),(F.vt||i.vU)&&(0,a.jsx)(Dt,{className:"ImageExportModal__settings__buttons__button",label:(0,B.t)("imageExportDialog.title.copyPngToClipboard"),onClick:function(){return he(i.I_.clipboard,so,{exportingFrame:zn})},startIcon:K.UI,children:(0,B.t)("imageExportDialog.button.copyPngToClipboard")})]})]})]})},Zr=function(s){var I=s.label,G=s.children,se=s.tooltip,_e=s.name;return(0,a.jsxs)("div",{className:"ImageExportModal__settings__setting",title:I,children:[(0,a.jsxs)("label",{htmlFor:_e,className:"ImageExportModal__settings__setting__label",children:[I,se&&(0,a.jsx)(It.u,{label:se,long:!0,children:K.mv})]}),(0,a.jsx)("div",{className:"ImageExportModal__settings__setting__content",children:G})]})},Dr=function(s){var I=s.elements,G=s.appState,se=s.files,_e=s.actionManager,he=s.onExportImage,$=s.onCloseRequest,ie=(0,q.useState)(function(){return{appStateSnapshot:(0,v.xU)(G),elementsSnapshot:(0,v.xU)(I)}}),De=(0,k.Z)(ie,1)[0],He=De.appStateSnapshot,Ve=De.elementsSnapshot;return(0,a.jsx)(qt.V,{onCloseRequest:$,size:"wide",title:!1,children:(0,a.jsx)(Cr,{elementsSnapshot:Ve,appStateSnapshot:He,files:se,actionManager:_e,onExportImage:he})})},Fr=r(3195),ln={};ln.styleTagTransform=gt(),ln.setAttributes=rt(),ln.insert=Be().bind(null,"head"),ln.domAPI=ye(),ln.insertStyleElement=tt(),ae()(Fr.Z,ln),Fr.Z&&Fr.Z.locals&&Fr.Z.locals;var Gr=function(s){var I=s.children,G=s.side,se=s.className;return(0,a.jsx)("div",{className:(0,ge.Z)("FixedSideContainer","FixedSideContainer_side_".concat(G),se),children:I})},Rr=r(1587),Wr={};Wr.styleTagTransform=gt(),Wr.setAttributes=rt(),Wr.insert=Be().bind(null,"head"),Wr.domAPI=ye(),Wr.insertStyleElement=tt(),ae()(Rr.Z,Wr),Rr.Z&&Rr.Z.locals&&Rr.Z.locals;var Ur=function(s){var I=function(G){var se=G.appState,_e=G.isMobile,he=G.device,$=G.app,ie=se.activeTool,De=se.isResizing,He=se.isRotating,Ve=se.lastPointerDownWith,lt=se.multiElement!==null;if(se.openSidebar&&!he.editor.canFitSidebar)return null;if((0,P.EN)(se))return(0,B.t)("hints.eraserRevert");if(ie.type==="arrow"||ie.type==="line")return lt?(0,B.t)("hints.linearElementMulti"):(0,B.t)("hints.linearElement");if(ie.type==="freedraw")return(0,B.t)("hints.freeDraw");if(ie.type==="text")return(0,B.t)("hints.text");if(ie.type==="embeddable")return(0,B.t)("hints.embeddable");if(se.activeTool.type==="image"&&se.pendingImageElementId)return(0,B.t)("hints.placeImage");var dt=$.scene.getSelectedElements(se);if(De&&Ve==="mouse"&&dt.length===1){var vt=dt[0];return(0,oe.bt)(vt)&&vt.points.length===2?(0,B.t)("hints.lockAngle"):(0,oe.pC)(vt)?(0,B.t)("hints.resizeImage"):(0,B.t)("hints.resize")}if(He&&Ve==="mouse")return(0,B.t)("hints.rotate");if(dt.length===1&&(0,oe.iB)(dt[0]))return(0,B.t)("hints.text_selected");if(se.editingElement&&(0,oe.iB)(se.editingElement))return(0,B.t)("hints.text_editing");if(ie.type==="selection"){var Ct;if(((Ct=se.draggingElement)===null||Ct===void 0?void 0:Ct.type)==="selection"&&!dt.length&&!se.editingElement&&!se.editingLinearElement)return(0,B.t)("hints.deepBoxSelect");if(se.gridSize&&se.draggingElement)return(0,B.t)("hints.disableSnapping");if(!dt.length&&!_e)return(0,B.t)("hints.canvasPanning");if(dt.length===1){if((0,oe.bt)(dt[0]))return se.editingLinearElement?se.editingLinearElement.selectedPointsIndices?(0,B.t)("hints.lineEditor_pointSelected"):(0,B.t)("hints.lineEditor_nothingSelected"):(0,B.t)("hints.lineEditor_info");if(!se.draggingElement&&(0,oe.mG)(dt[0]))return(0,B.t)("hints.bindTextToElement")}}return null}({appState:s.appState,isMobile:s.isMobile,device:s.device,app:s.app});return I?(I=(0,v.uY)(I),(0,a.jsx)("div",{className:"HintViewer",children:(0,a.jsx)("span",{children:I})})):null},rn=r(1404),an=r(7165),Qr=(r(3041),{CHECKED:K.FC,UNCHECKED:K._C}),In=function(s){return(0,a.jsxs)("label",{className:(0,ge.Z)("ToolIcon ToolIcon__lock","ToolIcon_size_".concat("medium"),{"is-mobile":s.isMobile}),title:"".concat(s.title," — Q"),children:[(0,a.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:s.name,onChange:s.onChange,checked:s.checked,"aria-label":s.title,"data-testid":"toolbar-lock"}),(0,a.jsx)("div",{className:"ToolIcon__icon",children:s.checked?Qr.CHECKED:Qr.UNCHECKED})]})},Xn=["heading","children"];function go(s,I){var G=Object.keys(s);if(Object.getOwnPropertySymbols){var se=Object.getOwnPropertySymbols(s);I&&(se=se.filter(function(_e){return Object.getOwnPropertyDescriptor(s,_e).enumerable})),G.push.apply(G,se)}return G}function bo(s){for(var I=1;I<arguments.length;I++){var G=arguments[I]!=null?arguments[I]:{};I%2?go(Object(G),!0).forEach(function(se){(0,H.Z)(s,se,G[se])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(G)):go(Object(G)).forEach(function(se){Object.defineProperty(s,se,Object.getOwnPropertyDescriptor(G,se))})}return s}var _o=function(s){var I=s.heading,G=s.children,se=(0,xt.Z)(s,Xn),_e=Ws().id,he=(0,a.jsx)("h2",{className:"visually-hidden",id:"".concat(_e,"-").concat(I,"-title"),children:(0,B.t)("headings.".concat(I))});return(0,a.jsx)("section",bo(bo({},se),{},{"aria-labelledby":"".concat(_e,"-").concat(I,"-title"),children:typeof G=="function"?G(he):(0,a.jsxs)(a.Fragment,{children:[he,G]})}))},wo=r(4726),ao=function(s){return s.penDetected?(0,a.jsxs)("label",{className:(0,ge.Z)("ToolIcon ToolIcon__penMode","ToolIcon_size_".concat("medium"),{"is-mobile":s.isMobile}),title:"".concat(s.title),children:[(0,a.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:s.name,onChange:s.onChange,checked:s.checked,"aria-label":s.title}),(0,a.jsx)("div",{className:"ToolIcon__icon",children:K.tb})]}):null},co=r(4949),it=r(2681),Oe={};Oe.styleTagTransform=gt(),Oe.setAttributes=rt(),Oe.insert=Be().bind(null,"head"),Oe.domAPI=ye(),Oe.insertStyleElement=tt(),ae()(it.Z,Oe),it.Z&&it.Z.locals&&it.Z.locals;var ze=function(s){var I,G=(0,co.KP)(s.elements),se=(0,xe.Zs)(s.elements,s.appState),_e=(0,co.KP)(se);return(0,a.jsx)("div",{className:"Stats",children:(0,a.jsxs)(rn.W,{padding:2,children:[(0,a.jsx)("div",{className:"close",onClick:s.onClose,children:K.Tw}),(0,a.jsx)("h3",{children:(0,B.t)("stats.title")}),(0,a.jsx)("table",{children:(0,a.jsxs)("tbody",{children:[(0,a.jsx)("tr",{children:(0,a.jsx)("th",{colSpan:2,children:(0,B.t)("stats.scene")})}),(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:(0,B.t)("stats.elements")}),(0,a.jsx)("td",{children:s.elements.length})]}),(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:(0,B.t)("stats.width")}),(0,a.jsx)("td",{children:Math.round(G[2])-Math.round(G[0])})]}),(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:(0,B.t)("stats.height")}),(0,a.jsx)("td",{children:Math.round(G[3])-Math.round(G[1])})]}),se.length===1&&(0,a.jsx)("tr",{children:(0,a.jsx)("th",{colSpan:2,children:(0,B.t)("stats.element")})}),se.length>1&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("tr",{children:(0,a.jsx)("th",{colSpan:2,children:(0,B.t)("stats.selected")})}),(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:(0,B.t)("stats.elements")}),(0,a.jsx)("td",{children:se.length})]})]}),se.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:"x"}),(0,a.jsx)("td",{children:Math.round(_e[0])})]}),(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:"y"}),(0,a.jsx)("td",{children:Math.round(_e[1])})]}),(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:(0,B.t)("stats.width")}),(0,a.jsx)("td",{children:Math.round(_e[2]-_e[0])})]}),(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:(0,B.t)("stats.height")}),(0,a.jsx)("td",{children:Math.round(_e[3]-_e[1])})]})]}),se.length===1&&(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:(0,B.t)("stats.angle")}),(0,a.jsx)("td",{children:"".concat(Math.round(180*se[0].angle/Math.PI),"°")})]}),(I=s.renderCustomStats)===null||I===void 0?void 0:I.call(s,s.elements,s.appState)]})})]})})},$e=function(s){return(0,a.jsx)(T.V,{className:(0,ge.Z)("Shape",{fillable:!1}),type:"radio",icon:K.Hk,name:"editor-current-shape",checked:s.checked,title:"".concat(s.title," — H"),keyBindingLabel:s.isMobile?void 0:O.tW.H.toLocaleUpperCase(),"aria-label":"".concat(s.title," — H"),"aria-keyshortcuts":O.tW.H,"data-testid":"toolbar-hand",onChange:function(){var I;return(I=s.onChange)===null||I===void 0?void 0:I.call(s)}})},pt=r(4572);function Kt(s,I){var G=Object.keys(s);if(Object.getOwnPropertySymbols){var se=Object.getOwnPropertySymbols(s);I&&(se=se.filter(function(_e){return Object.getOwnPropertyDescriptor(s,_e).enumerable})),G.push.apply(G,se)}return G}var fr=function(s){var I=s.appState,G=s.elements,se=s.actionManager,_e=s.setAppState,he=s.onLockToggle,$=s.onHandToolToggle,ie=s.onPenModeToggle,De=s.renderTopRightUI,He=s.renderCustomStats,Ve=s.renderSidebars,lt=s.device,dt=s.renderWelcomeScreen,vt=s.UIOptions,Ct=s.app,Mt=(0,pt.R6)(),Yt=Mt.WelcomeScreenCenterTunnel,ar=Mt.MainMenuTunnel,Bt=Mt.DefaultSidebarTriggerTunnel;return(0,a.jsxs)(a.Fragment,{children:[Ve(),!I.viewModeEnabled&&(0,a.jsxs)(Gr,{side:"top",className:"App-top-bar",children:[dt&&(0,a.jsx)(Yt.Out,{}),(0,a.jsx)(_o,{heading:"shapes",children:function(zt){return(0,a.jsx)(wt.Z.Col,{gap:4,align:"center",children:(0,a.jsxs)(wt.Z.Row,{gap:1,className:"App-toolbar-container",children:[(0,a.jsxs)(rn.W,{padding:1,className:"App-toolbar App-toolbar--mobile",children:[zt,(0,a.jsx)(wt.Z.Row,{gap:1,children:(0,a.jsx)(St,{appState:I,activeTool:I.activeTool,UIOptions:vt,app:Ct})})]}),De&&De(!0,I),(0,a.jsxs)("div",{className:"mobile-misc-tools-container",children:[!I.viewModeEnabled&&(0,a.jsx)(Bt.Out,{}),(0,a.jsx)(ao,{checked:I.penMode,onChange:function(){return ie(null)},title:(0,B.t)("toolBar.penMode"),isMobile:!0,penDetected:I.penDetected}),(0,a.jsx)(In,{checked:I.activeTool.locked,onChange:he,title:(0,B.t)("toolBar.lock"),isMobile:!0}),(0,a.jsx)($e,{checked:(0,P.l$)(I),onChange:function(){return $()},title:(0,B.t)("toolBar.hand"),isMobile:!0})]})]})})}}),(0,a.jsx)(Ur,{appState:I,isMobile:!0,device:lt,app:Ct})]}),!I.openMenu&&I.showStats&&(0,a.jsx)(ze,{appState:I,setAppState:_e,elements:G,onClose:function(){se.executeAction(Q.u0)},renderCustomStats:He}),(0,a.jsx)("div",{className:"App-bottom-bar",style:{marginBottom:wo.nn+2*wo.WM,marginLeft:wo.nn+2*wo.WM,marginRight:wo.nn+2*wo.WM},children:(0,a.jsxs)(rn.W,{padding:0,children:[I.openMenu==="shape"&&!I.viewModeEnabled&&(0,fe.RT)(I,G)?(0,a.jsx)(_o,{className:"App-mobile-menu",heading:"selectedShapeActions",children:(0,a.jsx)(Pt,{appState:I,elements:G,renderAction:se.renderAction})}):null,(0,a.jsxs)("footer",{className:"App-toolbar",children:[I.viewModeEnabled?(0,a.jsx)("div",{className:"App-toolbar-content",children:(0,a.jsx)(ar.Out,{})}):(0,a.jsxs)("div",{className:"App-toolbar-content",children:[(0,a.jsx)(ar.Out,{}),se.renderAction("toggleEditMenu"),se.renderAction("undo"),se.renderAction("redo"),se.renderAction(I.multiElement?"finalize":"duplicateSelection"),se.renderAction("deleteSelectedElements")]}),I.scrolledOutside&&!I.openMenu&&!I.openSidebar&&(0,a.jsx)("button",{className:"scroll-back-to-content",onClick:function(){_e(function(zt){return function($t){for(var dr=1;dr<arguments.length;dr++){var yr=arguments[dr]!=null?arguments[dr]:{};dr%2?Kt(Object(yr),!0).forEach(function(lr){(0,H.Z)($t,lr,yr[lr])}):Object.getOwnPropertyDescriptors?Object.defineProperties($t,Object.getOwnPropertyDescriptors(yr)):Kt(Object(yr)).forEach(function(lr){Object.defineProperty($t,lr,Object.getOwnPropertyDescriptor(yr,lr))})}return $t}({},(0,xe.W)(G,zt))})},children:(0,B.t)("buttons.scrollBackToContent")})]})]})})]})},vr=r(5284),Qt=r(901),Vt=r(3668),Er=r(8461),Lr={};Lr.styleTagTransform=gt(),Lr.setAttributes=rt(),Lr.insert=Be().bind(null,"head"),Lr.domAPI=ye(),Lr.insertStyleElement=tt(),ae()(Er.Z,Lr),Er.Z&&Er.Z.locals&&Er.Z.locals;var Jr=function(s){var I=(0,q.useRef)(null),G=(0,q.useState)(null),se=(0,k.Z)(G,2),_e=se[0],he=se[1];return(0,q.useLayoutEffect)(function(){if(s.spreadsheet){var $,ie=(0,Qt.ps)(s.chartType,s.spreadsheet,0,0);he(ie);var De=I.current;return(0,w.Z)(S().mark(function He(){var Ve;return S().wrap(function(lt){for(;;)switch(lt.prev=lt.next){case 0:return lt.next=2,(0,Vt.$D)(ie,{exportBackground:!1,viewBackgroundColor:vr.white},null);case 2:$=lt.sent,(Ve=$.querySelector(".style-fonts"))===null||Ve===void 0||Ve.remove(),De.replaceChildren(),De.appendChild($),s.selected&&De.parentNode.focus();case 7:case"end":return lt.stop()}},He)}))(),function(){De.replaceChildren()}}},[s.spreadsheet,s.chartType,s.selected]),(0,a.jsx)("button",{className:"ChartPreview",onClick:function(){_e&&s.onClick(s.chartType,_e)},children:(0,a.jsx)("div",{ref:I})})},on=function(s){var I=s.setAppState,G=s.appState,se=s.onClose,_e=Tl().onInsertElements,he=ve().useCallback(function(){se&&se()},[se]),$=function(ie,De){_e(De),(0,C.L)("magic","chart",ie),I({currentChartType:ie,pasteDialog:{shown:!1,data:null}})};return(0,a.jsx)(qt.V,{size:"small",onCloseRequest:he,title:(0,B.t)("labels.pasteCharts"),className:"PasteChartDialog",autofocus:!1,children:(0,a.jsxs)("div",{className:"container",children:[(0,a.jsx)(Jr,{chartType:"bar",spreadsheet:G.pasteDialog.data,selected:G.currentChartType==="bar",onClick:$}),(0,a.jsx)(Jr,{chartType:"line",spreadsheet:G.pasteDialog.data,selected:G.currentChartType==="line",onClick:$})]})})},gn=r(2978),yn={};yn.styleTagTransform=gt(),yn.setAttributes=rt(),yn.insert=Be().bind(null,"head"),yn.domAPI=ye(),yn.insertStyleElement=tt(),ae()(gn.Z,yn),gn.Z&&gn.Z.locals&&gn.Z.locals;function dn(s,I){var G=Object.keys(s);if(Object.getOwnPropertySymbols){var se=Object.getOwnPropertySymbols(s);I&&(se=se.filter(function(_e){return Object.getOwnPropertyDescriptor(s,_e).enumerable})),G.push.apply(G,se)}return G}var mn=S().mark(On);function Hn(s,I){var G=typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(!G){if(Array.isArray(s)||(G=function(De,He){if(De){if(typeof De=="string")return eo(De,He);var Ve=Object.prototype.toString.call(De).slice(8,-1);if(Ve==="Object"&&De.constructor&&(Ve=De.constructor.name),Ve==="Map"||Ve==="Set")return Array.from(De);if(Ve==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ve))return eo(De,He)}}(s))||I){G&&(s=G);var se=0,_e=function(){};return{s:_e,n:function(){return se>=s.length?{done:!0}:{done:!1,value:s[se++]}},e:function(De){throw De},f:_e}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var he,$=!0,ie=!1;return{s:function(){G=G.call(s)},n:function(){var De=G.next();return $=De.done,De},e:function(De){ie=!0,he=De},f:function(){try{$||G.return==null||G.return()}finally{if(ie)throw he}}}}function eo(s,I){(I==null||I>s.length)&&(I=s.length);for(var G=0,se=new Array(I);G<I;G++)se[G]=s[G];return se}var So=function(){return(0,a.jsxs)("div",{className:"HelpDialog__header",children:[(0,a.jsxs)("a",{className:"HelpDialog__btn",href:"https://docs.excalidraw.com",target:"_blank",rel:"noopener noreferrer",children:[(0,B.t)("helpDialog.documentation"),(0,a.jsx)("div",{className:"HelpDialog__link-icon",children:K.h0})]}),(0,a.jsxs)("a",{className:"HelpDialog__btn",href:"https://blog.excalidraw.com",target:"_blank",rel:"noopener noreferrer",children:[(0,B.t)("helpDialog.blog"),(0,a.jsx)("div",{className:"HelpDialog__link-icon",children:K.h0})]}),(0,a.jsxs)("a",{className:"HelpDialog__btn",href:"https://github.com/excalidraw/excalidraw/issues",target:"_blank",rel:"noopener noreferrer",children:[(0,B.t)("helpDialog.github"),(0,a.jsx)("div",{className:"HelpDialog__link-icon",children:K.h0})]})]})},Qo=function(s){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h3",{children:s.title}),(0,a.jsx)("div",{className:"HelpDialog__islands-container",children:s.children})]})},Fo=function(s){return(0,a.jsxs)("div",{className:"HelpDialog__island ".concat(s.className),children:[(0,a.jsx)("h4",{className:"HelpDialog__island-title",children:s.caption}),(0,a.jsx)("div",{className:"HelpDialog__island-content",children:s.children})]})};function On(s,I){var G,se,_e,he;return S().wrap(function($){for(;;)switch($.prev=$.next){case 0:G=!0,se=Hn(s),$.prev=2,se.s();case 4:if((_e=se.n()).done){$.next=14;break}if(he=_e.value,G){$.next=9;break}return $.next=9,I;case 9:return G=!1,$.next=12,he;case 12:$.next=4;break;case 14:$.next=19;break;case 16:$.prev=16,$.t0=$.catch(2),se.e($.t0);case 19:return $.prev=19,se.f(),$.finish(19);case 22:case"end":return $.stop()}},mn,null,[[2,16,19,22]])}var bn=function(s){var I=s.label,G=s.shortcuts,se=s.isOr,_e=se===void 0||se,he=G.map(function($){return($.endsWith("++")?[].concat((0,b.Z)($.slice(0,-2).split("+")),["+"]):$.split("+")).map(function(ie){return(0,a.jsx)(Yn,{children:(De=ie,De.replace(/\b[a-z]\b/,function(He){return He.toUpperCase()}))},ie);var De})});return(0,a.jsxs)("div",{className:"HelpDialog__shortcut",children:[(0,a.jsx)("div",{children:I}),(0,a.jsx)("div",{className:"HelpDialog__key-container",children:(0,b.Z)(On(he,_e?(0,B.t)("helpDialog.or"):null))})]})},Yn=function(s){return(0,a.jsx)("kbd",function(I){for(var G=1;G<arguments.length;G++){var se=arguments[G]!=null?arguments[G]:{};G%2?dn(Object(se),!0).forEach(function(_e){(0,H.Z)(I,_e,se[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(se)):dn(Object(se)).forEach(function(_e){Object.defineProperty(I,_e,Object.getOwnPropertyDescriptor(se,_e))})}return I}({className:"HelpDialog__key"},s))},vo=function(s){var I=s.onClose,G=ve().useCallback(function(){I&&I()},[I]);return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(qt.V,{onCloseRequest:G,title:(0,B.t)("helpDialog.title"),className:"HelpDialog",children:[(0,a.jsx)(So,{}),(0,a.jsxs)(Qo,{title:(0,B.t)("helpDialog.shortcuts"),children:[(0,a.jsxs)(Fo,{className:"HelpDialog__island--tools",caption:(0,B.t)("helpDialog.tools"),children:[(0,a.jsx)(bn,{label:(0,B.t)("toolBar.hand"),shortcuts:[O.tW.H]}),(0,a.jsx)(bn,{label:(0,B.t)("toolBar.selection"),shortcuts:[O.tW.V,O.tW[1]]}),(0,a.jsx)(bn,{label:(0,B.t)("toolBar.rectangle"),shortcuts:[O.tW.R,O.tW[2]]}),(0,a.jsx)(bn,{label:(0,B.t)("toolBar.diamond"),shortcuts:[O.tW.D,O.tW[3]]}),(0,a.jsx)(bn,{label:(0,B.t)("toolBar.ellipse"),shortcuts:[O.tW.O,O.tW[4]]}),(0,a.jsx)(bn,{label:(0,B.t)("toolBar.arrow"),shortcuts:[O.tW.A,O.tW[5]]}),(0,a.jsx)(bn,{label:(0,B.t)("toolBar.line"),shortcuts:[O.tW.L,O.tW[6]]}),(0,a.jsx)(bn,{label:(0,B.t)("toolBar.freedraw"),shortcuts:[O.tW.P,O.tW[7]]}),(0,a.jsx)(bn,{label:(0,B.t)("toolBar.text"),shortcuts:[O.tW.T,O.tW[8]]}),(0,a.jsx)(bn,{label:(0,B.t)("toolBar.image"),shortcuts:[O.tW[9]]}),(0,a.jsx)(bn,{label:(0,B.t)("toolBar.eraser"),shortcuts:[O.tW.E,O.tW[0]]}),(0,a.jsx)(bn,{label:(0,B.t)("toolBar.frame"),shortcuts:[O.tW.F]}),(0,a.jsx)(bn,{label:(0,B.t)("toolBar.laser"),shortcuts:[O.tW.K]}),(0,a.jsx)(bn,{label:(0,B.t)("labels.eyeDropper"),shortcuts:[O.tW.I,"Shift+S","Shift+G"]}),(0,a.jsx)(bn,{label:(0,B.t)("helpDialog.editLineArrowPoints"),shortcuts:[(0,v.uY)("CtrlOrCmd+Enter")]}),(0,a.jsx)(bn,{label:(0,B.t)("helpDialog.editText"),shortcuts:[(0,v.uY)("Enter")]}),(0,a.jsx)(bn,{label:(0,B.t)("helpDialog.textNewLine"),shortcuts:[(0,v.uY)("Enter"),(0,v.uY)("Shift+Enter")]}),(0,a.jsx)(bn,{label:(0,B.t)("helpDialog.textFinish"),shortcuts:[(0,v.uY)("Esc"),(0,v.uY)("CtrlOrCmd+Enter")]}),(0,a.jsx)(bn,{label:(0,B.t)("helpDialog.curvedArrow"),shortcuts:["A",(0,B.t)("helpDialog.click"),(0,B.t)("helpDialog.click"),(0,B.t)("helpDialog.click")],isOr:!1}),(0,a.jsx)(bn,{label:(0,B.t)("helpDialog.curvedLine"),shortcuts:["L",(0,B.t)("helpDialog.click"),(0,B.t)("helpDialog.click"),(0,B.t)("helpDialog.click")],isOr:!1}),(0,a.jsx)(bn,{label:(0,B.t)("toolBar.lock"),shortcuts:[O.tW.Q]}),(0,a.jsx)(bn,{label:(0,B.t)("helpDialog.preventBinding"),shortcuts:[(0,v.uY)("CtrlOrCmd")]}),(0,a.jsx)(bn,{label:(0,B.t)("toolBar.link"),shortcuts:[(0,v.uY)("CtrlOrCmd+K")]})]}),(0,a.jsxs)(Fo,{className:"HelpDialog__island--view",caption:(0,B.t)("helpDialog.view"),children:[(0,a.jsx)(bn,{label:(0,B.t)("buttons.zoomIn"),shortcuts:[(0,v.uY)("CtrlOrCmd++")]}),(0,a.jsx)(bn,{label:(0,B.t)("buttons.zoomOut"),shortcuts:[(0,v.uY)("CtrlOrCmd+-")]}),(0,a.jsx)(bn,{label:(0,B.t)("buttons.resetZoom"),shortcuts:[(0,v.uY)("CtrlOrCmd+0")]}),(0,a.jsx)(bn,{label:(0,B.t)("helpDialog.zoomToFit"),shortcuts:["Shift+1"]}),(0,a.jsx)(bn,{label:(0,B.t)("helpDialog.zoomToSelection"),shortcuts:["Shift+2"]}),(0,a.jsx)(bn,{label:(0,B.t)("helpDialog.movePageUpDown"),shortcuts:["PgUp/PgDn"]}),(0,a.jsx)(bn,{label:(0,B.t)("helpDialog.movePageLeftRight"),shortcuts:["Shift+PgUp/PgDn"]}),(0,a.jsx)(bn,{label:(0,B.t)("buttons.zenMode"),shortcuts:[(0,v.uY)("Alt+Z")]}),(0,a.jsx)(bn,{label:(0,B.t)("buttons.objectsSnapMode"),shortcuts:[(0,v.uY)("Alt+S")]}),(0,a.jsx)(bn,{label:(0,B.t)("labels.showGrid"),shortcuts:[(0,v.uY)("CtrlOrCmd+'")]}),(0,a.jsx)(bn,{label:(0,B.t)("labels.viewMode"),shortcuts:[(0,v.uY)("Alt+R")]}),(0,a.jsx)(bn,{label:(0,B.t)("labels.toggleTheme"),shortcuts:[(0,v.uY)("Alt+Shift+D")]}),(0,a.jsx)(bn,{label:(0,B.t)("stats.title"),shortcuts:[(0,v.uY)("Alt+/")]})]}),(0,a.jsxs)(Fo,{className:"HelpDialog__island--editor",caption:(0,B.t)("helpDialog.editor"),children:[(0,a.jsx)(bn,{label:(0,B.t)("labels.moveCanvas"),shortcuts:[(0,v.uY)("Space+".concat((0,B.t)("helpDialog.drag"))),(0,v.uY)("Wheel+".concat((0,B.t)("helpDialog.drag")))],isOr:!0}),(0,a.jsx)(bn,{label:(0,B.t)("buttons.clearReset"),shortcuts:[(0,v.uY)("CtrlOrCmd+Delete")]}),(0,a.jsx)(bn,{label:(0,B.t)("labels.delete"),shortcuts:[(0,v.uY)("Delete")]}),(0,a.jsx)(bn,{label:(0,B.t)("labels.cut"),shortcuts:[(0,v.uY)("CtrlOrCmd+X")]}),(0,a.jsx)(bn,{label:(0,B.t)("labels.copy"),shortcuts:[(0,v.uY)("CtrlOrCmd+C")]}),(0,a.jsx)(bn,{label:(0,B.t)("labels.paste"),shortcuts:[(0,v.uY)("CtrlOrCmd+V")]}),(0,a.jsx)(bn,{label:(0,B.t)("labels.pasteAsPlaintext"),shortcuts:[(0,v.uY)("CtrlOrCmd+Shift+V")]}),(0,a.jsx)(bn,{label:(0,B.t)("labels.selectAll"),shortcuts:[(0,v.uY)("CtrlOrCmd+A")]}),(0,a.jsx)(bn,{label:(0,B.t)("labels.multiSelect"),shortcuts:[(0,v.uY)("Shift+".concat((0,B.t)("helpDialog.click")))]}),(0,a.jsx)(bn,{label:(0,B.t)("helpDialog.deepSelect"),shortcuts:[(0,v.uY)("CtrlOrCmd+".concat((0,B.t)("helpDialog.click")))]}),(0,a.jsx)(bn,{label:(0,B.t)("helpDialog.deepBoxSelect"),shortcuts:[(0,v.uY)("CtrlOrCmd+".concat((0,B.t)("helpDialog.drag")))]}),(F.vt||i.vU)&&(0,a.jsx)(bn,{label:(0,B.t)("labels.copyAsPng"),shortcuts:[(0,v.uY)("Shift+Alt+C")]}),(0,a.jsx)(bn,{label:(0,B.t)("labels.copyStyles"),shortcuts:[(0,v.uY)("CtrlOrCmd+Alt+C")]}),(0,a.jsx)(bn,{label:(0,B.t)("labels.pasteStyles"),shortcuts:[(0,v.uY)("CtrlOrCmd+Alt+V")]}),(0,a.jsx)(bn,{label:(0,B.t)("labels.sendToBack"),shortcuts:[i.Um?(0,v.uY)("CtrlOrCmd+Alt+["):(0,v.uY)("CtrlOrCmd+Shift+[")]}),(0,a.jsx)(bn,{label:(0,B.t)("labels.bringToFront"),shortcuts:[i.Um?(0,v.uY)("CtrlOrCmd+Alt+]"):(0,v.uY)("CtrlOrCmd+Shift+]")]}),(0,a.jsx)(bn,{label:(0,B.t)("labels.sendBackward"),shortcuts:[(0,v.uY)("CtrlOrCmd+[")]}),(0,a.jsx)(bn,{label:(0,B.t)("labels.bringForward"),shortcuts:[(0,v.uY)("CtrlOrCmd+]")]}),(0,a.jsx)(bn,{label:(0,B.t)("labels.alignTop"),shortcuts:[(0,v.uY)("CtrlOrCmd+Shift+Up")]}),(0,a.jsx)(bn,{label:(0,B.t)("labels.alignBottom"),shortcuts:[(0,v.uY)("CtrlOrCmd+Shift+Down")]}),(0,a.jsx)(bn,{label:(0,B.t)("labels.alignLeft"),shortcuts:[(0,v.uY)("CtrlOrCmd+Shift+Left")]}),(0,a.jsx)(bn,{label:(0,B.t)("labels.alignRight"),shortcuts:[(0,v.uY)("CtrlOrCmd+Shift+Right")]}),(0,a.jsx)(bn,{label:(0,B.t)("labels.duplicateSelection"),shortcuts:[(0,v.uY)("CtrlOrCmd+D"),(0,v.uY)("Alt+".concat((0,B.t)("helpDialog.drag")))]}),(0,a.jsx)(bn,{label:(0,B.t)("helpDialog.toggleElementLock"),shortcuts:[(0,v.uY)("CtrlOrCmd+Shift+L")]}),(0,a.jsx)(bn,{label:(0,B.t)("buttons.undo"),shortcuts:[(0,v.uY)("CtrlOrCmd+Z")]}),(0,a.jsx)(bn,{label:(0,B.t)("buttons.redo"),shortcuts:i.ED?[(0,v.uY)("CtrlOrCmd+Y"),(0,v.uY)("CtrlOrCmd+Shift+Z")]:[(0,v.uY)("CtrlOrCmd+Shift+Z")]}),(0,a.jsx)(bn,{label:(0,B.t)("labels.group"),shortcuts:[(0,v.uY)("CtrlOrCmd+G")]}),(0,a.jsx)(bn,{label:(0,B.t)("labels.ungroup"),shortcuts:[(0,v.uY)("CtrlOrCmd+Shift+G")]}),(0,a.jsx)(bn,{label:(0,B.t)("labels.flipHorizontal"),shortcuts:[(0,v.uY)("Shift+H")]}),(0,a.jsx)(bn,{label:(0,B.t)("labels.flipVertical"),shortcuts:[(0,v.uY)("Shift+V")]}),(0,a.jsx)(bn,{label:(0,B.t)("labels.showStroke"),shortcuts:[(0,v.uY)("S")]}),(0,a.jsx)(bn,{label:(0,B.t)("labels.showBackground"),shortcuts:[(0,v.uY)("G")]}),(0,a.jsx)(bn,{label:(0,B.t)("labels.decreaseFontSize"),shortcuts:[(0,v.uY)("CtrlOrCmd+Shift+<")]}),(0,a.jsx)(bn,{label:(0,B.t)("labels.increaseFontSize"),shortcuts:[(0,v.uY)("CtrlOrCmd+Shift+>")]})]})]})]})})},Ao=r(4704),Yo=r(4241),vi={};vi.styleTagTransform=gt(),vi.setAttributes=rt(),vi.insert=Be().bind(null,"head"),vi.domAPI=ye(),vi.insertStyleElement=tt(),ae()(Yo.Z,vi),Yo.Z&&Yo.Z.locals&&Yo.Z.locals;var Oi=function(s){var I,G=s.children,se=s.color;return(0,a.jsx)("div",{className:"Card",style:(I={},(0,H.Z)(I,"--card-color",se==="primary"?"var(--color-primary)":vr[se][7]),(0,H.Z)(I,"--card-color-darker",se==="primary"?"var(--color-primary-darker)":vr[se][8]),(0,H.Z)(I,"--card-color-darkest",se==="primary"?"var(--color-primary-darkest)":vr[se][9]),I),children:G})},bi=r(7955),Qi={};Qi.styleTagTransform=gt(),Qi.setAttributes=rt(),Qi.insert=Be().bind(null,"head"),Qi.domAPI=ye(),Qi.insertStyleElement=tt(),ae()(bi.Z,Qi),bi.Z&&bi.Z.locals&&bi.Z.locals;var Ja=function(s){var I=s.elements,G=s.appState,se=s.setAppState,_e=s.files,he=s.actionManager,$=s.exportOpts,ie=s.canvas,De=s.onCloseRequest,He=$.onExportToBackend;return(0,a.jsx)("div",{className:"ExportDialog ExportDialog--json",children:(0,a.jsxs)("div",{className:"ExportDialog-cards",children:[$.saveFileToDisk&&(0,a.jsxs)(Oi,{color:"lime",children:[(0,a.jsx)("div",{className:"Card-icon",children:K.TP}),(0,a.jsx)("h2",{children:(0,B.t)("exportDialog.disk_title")}),(0,a.jsxs)("div",{className:"Card-details",children:[(0,B.t)("exportDialog.disk_details"),!Mr.kr&&he.renderAction("changeProjectName")]}),(0,a.jsx)(T.V,{className:"Card-button",type:"button",title:(0,B.t)("exportDialog.disk_button"),"aria-label":(0,B.t)("exportDialog.disk_button"),showAriaLabel:!0,onClick:function(){he.executeAction(cr.mM,"ui")}})]}),He&&(0,a.jsxs)(Oi,{color:"pink",children:[(0,a.jsx)("div",{className:"Card-icon",children:K.xP}),(0,a.jsx)("h2",{children:(0,B.t)("exportDialog.link_title")}),(0,a.jsx)("div",{className:"Card-details",children:(0,B.t)("exportDialog.link_details")}),(0,a.jsx)(T.V,{className:"Card-button",type:"button",title:(0,B.t)("exportDialog.link_button"),"aria-label":(0,B.t)("exportDialog.link_button"),showAriaLabel:!0,onClick:(0,w.Z)(S().mark(function Ve(){return S().wrap(function(lt){for(;;)switch(lt.prev=lt.next){case 0:return lt.prev=0,(0,C.L)("export","link","ui (".concat((0,v.$h)(),")")),lt.next=4,He(I,G,_e,ie);case 4:De(),lt.next=10;break;case 7:lt.prev=7,lt.t0=lt.catch(0),se({errorMessage:lt.t0.message});case 10:case"end":return lt.stop()}},Ve,null,[[0,7]])}))})]}),$.renderCustomUI&&$.renderCustomUI(I,G,_e,ie)]})})},Ha=function(s){var I=s.elements,G=s.appState,se=s.files,_e=s.actionManager,he=s.exportOpts,$=s.canvas,ie=s.setAppState,De=ve().useCallback(function(){ie({openDialog:null})},[ie]);return(0,a.jsx)(a.Fragment,{children:G.openDialog==="jsonExport"&&(0,a.jsx)(qt.V,{onCloseRequest:De,title:(0,B.t)("buttons.export"),children:(0,a.jsx)(Ja,{elements:I,appState:G,setAppState:ie,files:se,actionManager:_e,onCloseRequest:De,exportOpts:he,canvas:$})})})},ks=r(7080),ol=function(s){return(0,a.jsx)("button",{className:"help-icon",onClick:s.onClick,type:"button",title:"".concat((0,B.t)("helpDialog.title")," — ?"),"aria-label":(0,B.t)("helpDialog.title"),children:K.by})},Da=function(s){var I=s.appState,G=s.actionManager,se=s.showExitZenModeBtn,_e=s.renderWelcomeScreen,he=(0,pt.R6)(),$=he.FooterCenterTunnel,ie=he.WelcomeScreenHelpHintTunnel,De=ka(),He=!I.viewModeEnabled&&I.multiElement&&De.isTouchScreen;return(0,a.jsxs)("footer",{role:"contentinfo",className:"layer-ui__wrapper__footer App-menu App-menu_bottom",children:[(0,a.jsx)("div",{className:(0,ge.Z)("layer-ui__wrapper__footer-left zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-left":I.zenModeEnabled}),children:(0,a.jsx)(wt.Z.Col,{gap:2,children:(0,a.jsxs)(_o,{heading:"canvasActions",children:[(0,a.jsx)(Zt,{renderAction:G.renderAction,zoom:I.zoom}),!I.viewModeEnabled&&(0,a.jsx)(Tt,{renderAction:G.renderAction,className:(0,ge.Z)("zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-bottom":I.zenModeEnabled})}),He&&(0,a.jsx)(Wt,{renderAction:G.renderAction,className:(0,ge.Z)("zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-left":I.zenModeEnabled})})]})})}),(0,a.jsx)($.Out,{}),(0,a.jsx)("div",{className:(0,ge.Z)("layer-ui__wrapper__footer-right zen-mode-transition",{"transition-right":I.zenModeEnabled}),children:(0,a.jsxs)("div",{style:{position:"relative"},children:[_e&&(0,a.jsx)(ie.Out,{}),(0,a.jsx)(ol,{onClick:function(){return G.executeAction(Q.jY)}})]})}),(0,a.jsx)(Lt,{actionManager:G,showExitZenModeBtn:se})]})},As=Da;Da.displayName="Footer";var Ca=r(5902),da=r(453),Hi=r(3607),Gi=r(7021),ra=r(8973),Ds=r(6922),Ra=r(7827),Fi=function(s){var I=s.title,G=s.children,se=s.actionLabel,_e=s.onClick;return(0,a.jsxs)("div",{className:"OverwriteConfirm__Actions__Action",children:[(0,a.jsx)("h4",{children:I}),(0,a.jsx)("div",{className:"OverwriteConfirm__Actions__Action__content",children:G}),(0,a.jsx)(Dt,{variant:"outlined",color:"muted",label:se,size:"large",fullWidth:!0,onClick:_e})]})},me=Object.assign(function(s){var I=s.children;return(0,a.jsx)("div",{className:"OverwriteConfirm__Actions",children:I})},{ExportToImage:function(){var s=(0,B.QT)().t,I=sc(),G=Us();return(0,a.jsx)(Fi,{title:s("overwriteConfirm.action.exportToImage.title"),actionLabel:s("overwriteConfirm.action.exportToImage.button"),onClick:function(){I.executeAction(cr.Du,"ui",!0),G({openDialog:"imageExport"})},children:s("overwriteConfirm.action.exportToImage.description")})},SaveToDisk:function(){var s=(0,B.QT)().t,I=sc();return(0,a.jsx)(Fi,{title:s("overwriteConfirm.action.saveToDisk.title"),actionLabel:s("overwriteConfirm.action.saveToDisk.button"),onClick:function(){I.executeAction(Q.mM,"ui")},children:s("overwriteConfirm.action.saveToDisk.description")})}}),ot=r(9439),mt={};mt.styleTagTransform=gt(),mt.setAttributes=rt(),mt.insert=Be().bind(null,"head"),mt.domAPI=ye(),mt.insertStyleElement=tt(),ae()(ot.Z,mt),ot.Z&&ot.Z.locals&&ot.Z.locals;function Ht(s,I){var G=Object.keys(s);if(Object.getOwnPropertySymbols){var se=Object.getOwnPropertySymbols(s);I&&(se=se.filter(function(_e){return Object.getOwnPropertyDescriptor(s,_e).enumerable})),G.push.apply(G,se)}return G}function Hr(s){for(var I=1;I<arguments.length;I++){var G=arguments[I]!=null?arguments[I]:{};I%2?Ht(Object(G),!0).forEach(function(se){(0,H.Z)(s,se,G[se])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(G)):Ht(Object(G)).forEach(function(se){Object.defineProperty(s,se,Object.getOwnPropertyDescriptor(G,se))})}return s}var sn=Object.assign((0,Ds.$)("OverwriteConfirmDialog",function(s){var I=s.children,G=(0,pt.R6)().OverwriteConfirmDialogTunnel,se=(0,Hi.KO)(Ra.K,da.yE),_e=(0,k.Z)(se,2),he=_e[0],$=_e[1];return he.active?(0,a.jsx)(G.In,{children:(0,a.jsx)(qt.V,{onCloseRequest:function(){he.onClose(),$(function(ie){return Hr(Hr({},ie),{},{active:!1})})},title:!1,size:916,children:(0,a.jsxs)("div",{className:"OverwriteConfirm",children:[(0,a.jsx)("h3",{children:he.title}),(0,a.jsxs)("div",{className:"OverwriteConfirm__Description OverwriteConfirm__Description--color-".concat(he.color),children:[(0,a.jsx)("div",{className:"OverwriteConfirm__Description__icon",children:K.UT}),(0,a.jsx)("div",{children:he.description}),(0,a.jsx)("div",{className:"OverwriteConfirm__Description__spacer"}),(0,a.jsx)(Dt,{color:he.color,size:"large",label:he.actionLabel,onClick:function(){he.onConfirm(),$(function(ie){return Hr(Hr({},ie),{},{active:!1})})}})]}),(0,a.jsx)(me,{children:I})]})})}):null}),{Actions:me,Action:Fi}),Fn=r(100),ri=r(1925),Mi=r(8924),Co=r(1434),ai={};ai.styleTagTransform=gt(),ai.setAttributes=rt(),ai.insert=Be().bind(null,"head"),ai.domAPI=ye(),ai.insertStyleElement=tt(),ae()(Co.Z,ai),Co.Z&&Co.Z.locals&&Co.Z.locals;var hi=r(9144),Ai={};Ai.styleTagTransform=gt(),Ai.setAttributes=rt(),Ai.insert=Be().bind(null,"head"),Ai.domAPI=ye(),Ai.insertStyleElement=tt(),ae()(hi.Z,Ai),hi.Z&&hi.Z.locals&&hi.Z.locals;var Wi=r(2921),us=function(s){return(0,a.jsxs)("label",{className:(0,ge.Z)("ToolIcon ToolIcon__LaserPointer","ToolIcon_size_".concat("small"),{"is-mobile":s.isMobile}),title:"".concat(s.title),children:[(0,a.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:s.name,onChange:s.onChange,checked:s.checked,"aria-label":s.title,"data-testid":"toolbar-LaserPointer"}),(0,a.jsx)("div",{className:"ToolIcon__icon",children:K.d})]})},ds=["suggestedBindings","startBoundElement","cursorButton","scrollX","scrollY"],Bl=["canvas","appState"],il=["canvas","appState"];function Rs(s,I){var G=Object.keys(s);if(Object.getOwnPropertySymbols){var se=Object.getOwnPropertySymbols(s);I&&(se=se.filter(function(_e){return Object.getOwnPropertyDescriptor(s,_e).enumerable})),G.push.apply(G,se)}return G}function Ia(s,I){var G=typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(!G){if(Array.isArray(s)||(G=function(De,He){if(De){if(typeof De=="string")return _s(De,He);var Ve=Object.prototype.toString.call(De).slice(8,-1);if(Ve==="Object"&&De.constructor&&(Ve=De.constructor.name),Ve==="Map"||Ve==="Set")return Array.from(De);if(Ve==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ve))return _s(De,He)}}(s))||I){G&&(s=G);var se=0,_e=function(){};return{s:_e,n:function(){return se>=s.length?{done:!0}:{done:!1,value:s[se++]}},e:function(De){throw De},f:_e}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var he,$=!0,ie=!1;return{s:function(){G=G.call(s)},n:function(){var De=G.next();return $=De.done,De},e:function(De){ie=!0,he=De},f:function(){try{$||G.return==null||G.return()}finally{if(ie)throw he}}}}function _s(s,I){(I==null||I>s.length)&&(I=s.length);for(var G=0,se=new Array(I);G<I;G++)se[G]=s[G];return se}var oc=function(s){var I=s.UIOptions;return(0,a.jsxs)(Gi.Z,{__fallback:!0,children:[(0,a.jsx)(Gi.Z.DefaultItems.LoadScene,{}),(0,a.jsx)(Gi.Z.DefaultItems.SaveToActiveFile,{}),I.canvasActions.export&&(0,a.jsx)(Gi.Z.DefaultItems.Export,{}),I.canvasActions.saveAsImage&&(0,a.jsx)(Gi.Z.DefaultItems.SaveAsImage,{}),(0,a.jsx)(Gi.Z.DefaultItems.Help,{}),(0,a.jsx)(Gi.Z.DefaultItems.ClearCanvas,{}),(0,a.jsx)(Gi.Z.Separator,{}),(0,a.jsx)(Gi.Z.Group,{title:"Excalidraw links",children:(0,a.jsx)(Gi.Z.DefaultItems.Socials,{})}),(0,a.jsx)(Gi.Z.Separator,{}),(0,a.jsx)(Gi.Z.DefaultItems.ToggleTheme,{}),(0,a.jsx)(Gi.Z.DefaultItems.ChangeCanvasBackground,{})]})},ic=function(){return(0,a.jsxs)(sn,{__fallback:!0,children:[(0,a.jsx)(sn.Actions.SaveToDisk,{}),(0,a.jsx)(sn.Actions.ExportToImage,{})]})},ml=function(s){var I,G,se=s.actionManager,_e=s.appState,he=s.files,$=s.setAppState,ie=s.elements,De=s.canvas,He=s.onLockToggle,Ve=s.onHandToolToggle,lt=s.onPenModeToggle,dt=s.showExitZenModeBtn,vt=s.renderTopRightUI,Ct=s.renderCustomStats,Mt=s.UIOptions,Yt=s.onExportImage,ar=s.renderWelcomeScreen,Bt=s.children,zt=s.app,$t=s.isCollaborating,dr=ka(),yr=(0,pt.ZC)(),lr=(0,Hi.KO)(Mi.$,da.yE),nr=(0,k.Z)(lr,2),Tr=nr[0],qr=nr[1],pn=function(){return Mt.canvasActions.export?(0,a.jsx)(Ha,{elements:ie,appState:_e,files:he,actionManager:se,exportOpts:Mt.canvasActions.export,canvas:De,setAppState:$}):null},_n=function(){return Mt.canvasActions.saveAsImage&&_e.openDialog==="imageExport"?(0,a.jsx)(Dr,{elements:ie,appState:_e,files:he,actionManager:se,onExportImage:Yt,onCloseRequest:function(){return $({openDialog:null})}}):null},Nn=function(){return(0,a.jsx)(ri.O,{__fallback:!0,onDock:function(vn){(0,C.L)("sidebar","toggleDock (".concat(vn?"dock":"undock",")"),"(".concat(dr.editor.isMobile?"mobile":"desktop",")"))}})},Un=(0,Hi.Dv)(Ca.t6,da.yE),kn=(0,a.jsxs)(a.Fragment,{children:[Bt,(0,a.jsx)(oc,{UIOptions:Mt}),(0,a.jsx)(ri.O.Trigger,{__fallback:!0,icon:K.Vq,title:(0,v.Oo)((0,B.t)("toolBar.library")),onToggle:function(vn){vn&&(0,C.L)("sidebar","".concat(i.Cc.name," (open)"),"button (".concat(dr.editor.isMobile?"mobile":"desktop",")"))},tab:i.Cc.defaultTab,children:(0,B.t)("toolBar.library")}),(0,a.jsx)(ic,{}),_e.isLoading&&(0,a.jsx)(an.z,{delay:250}),_e.errorMessage&&(0,a.jsx)(sr,{onClose:function(){return $({errorMessage:null})},children:_e.errorMessage}),Tr&&!dr.editor.isMobile&&(0,a.jsx)(Mi.p,{colorPickerType:Tr.colorPickerType,onCancel:function(){qr(null)},onChange:function(vn,An,jn,qn){var oo=qn.altKey;if(vn==="elementBackground"||vn==="elementStroke")if(jn.length){var no,so,zn=Ia(jn);try{for(zn.s();!(so=zn.n()).done;){var Mn=so.value;(0,R.DR)(Mn,(0,H.Z)({},oo&&Tr.swapPreviewOnAlt?vn==="elementBackground"?"strokeColor":"backgroundColor":vn==="elementBackground"?"backgroundColor":"strokeColor",An),!1),Wi.R.delete(Mn)}}catch(Jn){zn.e(Jn)}finally{zn.f()}(no=Z.Z.getScene(jn[0]))===null||no===void 0||no.informMutation()}else $(vn==="elementBackground"?{currentItemBackgroundColor:An}:{currentItemStrokeColor:An})},onSelect:function(vn,An){var jn;qr(function(qn){return qn!=null&&qn.keepOpenOnAlt&&An.altKey?qn:null}),Tr==null||(jn=Tr.onSelect)===null||jn===void 0||jn.call(Tr,vn,An)}}),_e.openDialog==="help"&&(0,a.jsx)(vo,{onClose:function(){$({openDialog:null})}}),(0,a.jsx)(ra.o,{}),(0,a.jsx)(yr.OverwriteConfirmDialogTunnel.Out,{}),_n(),pn(),_e.pasteDialog.shown&&(0,a.jsx)(on,{setAppState:$,appState:_e,onClose:function(){return $({pasteDialog:{shown:!1,data:null}})}}),dr.editor.isMobile&&(0,a.jsx)(fr,{app:zt,appState:_e,elements:ie,actionManager:se,renderJSONExportDialog:pn,renderImageExportDialog:_n,setAppState:$,onLockToggle:He,onHandToolToggle:Ve,onPenModeToggle:lt,renderTopRightUI:vt,renderCustomStats:Ct,renderSidebars:Nn,device:dr,renderWelcomeScreen:ar,UIOptions:Mt}),!dr.editor.isMobile&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"layer-ui__wrapper",style:_e.openSidebar&&Un&&dr.editor.canFitSidebar?{width:"calc(100% - ".concat(i.EE,"px)")}:{},children:[ar&&(0,a.jsx)(yr.WelcomeScreenCenterTunnel.Out,{}),(G=(0,fe.RT)(_e,ie),(0,a.jsx)(Gr,{side:"top",children:(0,a.jsxs)("div",{className:"App-menu App-menu_top",children:[(0,a.jsxs)(wt.Z.Col,{gap:6,className:(0,ge.Z)("App-menu_top__left"),children:[(0,a.jsxs)("div",{style:{position:"relative"},children:[(0,a.jsx)(yr.MainMenuTunnel.Out,{}),ar&&(0,a.jsx)(yr.WelcomeScreenMenuHintTunnel.Out,{})]}),G&&(0,a.jsx)(_o,{heading:"selectedShapeActions",className:(0,ge.Z)("selected-shape-actions zen-mode-transition",{"transition-left":_e.zenModeEnabled}),children:(0,a.jsx)(rn.W,{className:i.$C.SHAPE_ACTIONS_MENU,padding:2,style:{maxHeight:"".concat(_e.height-166,"px")},children:(0,a.jsx)(Pt,{appState:_e,elements:ie,renderAction:se.renderAction})})})]}),!_e.viewModeEnabled&&(0,a.jsx)(_o,{heading:"shapes",className:"shapes-section",children:function(vn){return(0,a.jsxs)("div",{style:{position:"relative"},children:[ar&&(0,a.jsx)(yr.WelcomeScreenToolbarHintTunnel.Out,{}),(0,a.jsx)(wt.Z.Col,{gap:4,align:"start",children:(0,a.jsxs)(wt.Z.Row,{gap:1,className:(0,ge.Z)("App-toolbar-container",{"zen-mode":_e.zenModeEnabled}),children:[(0,a.jsxs)(rn.W,{padding:1,className:(0,ge.Z)("App-toolbar",{"zen-mode":_e.zenModeEnabled}),children:[(0,a.jsx)(Ur,{appState:_e,isMobile:dr.editor.isMobile,device:dr,app:zt}),vn,(0,a.jsxs)(wt.Z.Row,{gap:1,children:[(0,a.jsx)(ao,{zenModeEnabled:_e.zenModeEnabled,checked:_e.penMode,onChange:function(){return lt(null)},title:(0,B.t)("toolBar.penMode"),penDetected:_e.penDetected}),(0,a.jsx)(In,{checked:_e.activeTool.locked,onChange:He,title:(0,B.t)("toolBar.lock")}),(0,a.jsx)("div",{className:"App-toolbar__divider"}),(0,a.jsx)($e,{checked:(0,P.l$)(_e),onChange:function(){return Ve()},title:(0,B.t)("toolBar.hand"),isMobile:!0}),(0,a.jsx)(St,{appState:_e,activeTool:_e.activeTool,UIOptions:Mt,app:zt})]})]}),$t&&(0,a.jsx)(rn.W,{style:{marginLeft:8,alignSelf:"center",height:"fit-content"},children:(0,a.jsx)(us,{title:(0,B.t)("toolBar.laser"),checked:_e.activeTool.type==="laser",onChange:function(){return zt.setActiveTool({type:"laser"})},isMobile:!0})})]})})]})}}),(0,a.jsxs)("div",{className:(0,ge.Z)("layer-ui__wrapper__top-right zen-mode-transition",{"transition-right":_e.zenModeEnabled}),children:[(0,a.jsx)(Ao.Z,{collaborators:_e.collaborators}),vt==null?void 0:vt(dr.editor.isMobile,_e),!_e.viewModeEnabled&&(!Un||((I=_e.openSidebar)===null||I===void 0?void 0:I.name)!==i.Cc.name)&&(0,a.jsx)(yr.DefaultSidebarTriggerTunnel.Out,{})]})]})})),(0,a.jsx)(As,{appState:_e,actionManager:se,showExitZenModeBtn:dt,renderWelcomeScreen:ar}),_e.showStats&&(0,a.jsx)(ze,{appState:_e,setAppState:$,elements:ie,onClose:function(){se.executeAction(ks.u)},renderCustomStats:Ct}),_e.scrolledOutside&&(0,a.jsx)("button",{className:"scroll-back-to-content",onClick:function(){$(function(vn){return function(An){for(var jn=1;jn<arguments.length;jn++){var qn=arguments[jn]!=null?arguments[jn]:{};jn%2?Rs(Object(qn),!0).forEach(function(oo){(0,H.Z)(An,oo,qn[oo])}):Object.getOwnPropertyDescriptors?Object.defineProperties(An,Object.getOwnPropertyDescriptors(qn)):Rs(Object(qn)).forEach(function(oo){Object.defineProperty(An,oo,Object.getOwnPropertyDescriptor(qn,oo))})}return An}({},(0,xe.W)(ie,vn))})},children:(0,B.t)("buttons.scrollBackToContent")})]}),Nn()]})]});return(0,a.jsx)(Fn.k.Provider,{value:_e,children:(0,a.jsx)(Hi.zt,{scope:yr.jotaiScope,children:(0,a.jsx)(pt.A3.Provider,{value:yr,children:kn})})})},gl=function(s){return s.suggestedBindings,s.startBoundElement,s.cursorButton,s.scrollX,s.scrollY,(0,xt.Z)(s,ds)},al=function(s,I){if(s.children!==I.children)return!1;s.canvas;var G=s.appState,se=(0,xt.Z)(s,Bl),_e=(I.canvas,I.appState),he=(0,xt.Z)(I,il);return(0,v.w8)(gl(G),gl(_e),{selectedElementIds:v.w8,selectedGroupIds:v.w8})&&(0,v.w8)(se,he)},fs=ve().memo(ml,al),ba=r(9650),ya={};ya.styleTagTransform=gt(),ya.setAttributes=rt(),ya.insert=Be().bind(null,"head"),ya.domAPI=ye(),ya.insertStyleElement=tt(),ae()(ba.Z,ya),ba.Z&&ba.Z.locals&&ba.Z.locals;var Fl=function(s){var I=s.message,G=s.onClose,se=s.closable,_e=se!==void 0&&se,he=s.duration,$=he===void 0?5e3:he,ie=(0,q.useRef)(0),De=$!==1/0,He=(0,q.useCallback)(function(){De&&(ie.current=window.setTimeout(function(){return G()},$))},[G,$,De]);(0,q.useEffect)(function(){if(De)return He(),function(){return clearTimeout(ie.current)}},[He,I,$,De]);var Ve=De?function(){return clearTimeout(ie==null?void 0:ie.current)}:void 0,lt=De?He:void 0;return(0,a.jsxs)("div",{className:"Toast",onMouseEnter:Ve,onMouseLeave:lt,children:[(0,a.jsx)("p",{className:"Toast__message",children:I}),_e&&(0,a.jsx)(T.V,{icon:K.Tw,"aria-label":"close",type:"icon",onClick:G,className:"close"})]})};function vl(s,I){var G=Object.keys(s);if(Object.getOwnPropertySymbols){var se=Object.getOwnPropertySymbols(s);I&&(se=se.filter(function(_e){return Object.getOwnPropertyDescriptor(s,_e).enumerable})),G.push.apply(G,se)}return G}function Ls(s){for(var I=1;I<arguments.length;I++){var G=arguments[I]!=null?arguments[I]:{};I%2?vl(Object(G),!0).forEach(function(se){(0,H.Z)(s,se,G[se])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(G)):vl(Object(G)).forEach(function(se){Object.defineProperty(s,se,Object.getOwnPropertyDescriptor(G,se))})}return s}var hs=(0,D.z)({name:"viewMode",viewMode:!0,trackEvent:{category:"canvas",predicate:function(s){return!s.viewModeEnabled}},perform:function(s,I){return{appState:Ls(Ls({},I),{},{viewModeEnabled:!this.checked(I)}),commitToHistory:!1}},checked:function(s){return s.viewModeEnabled},predicate:function(s,I,G){return G.viewModeEnabled===void 0},contextItemLabel:"labels.viewMode",keyTest:function(s){return!s[O.tW.CTRL_OR_CMD]&&s.altKey&&s.code===O.aU.R}}),Ns=r(4178),Sl=r(200),Cl=r.n(Sl),ps=r(3528),La=r(5992),sl=r(8020),Il=r(4048),ll=r(9672);function fa(s,I){var G=Object.keys(s);if(Object.getOwnPropertySymbols){var se=Object.getOwnPropertySymbols(s);I&&(se=se.filter(function(_e){return Object.getOwnPropertyDescriptor(s,_e).enumerable})),G.push.apply(G,se)}return G}var pi=(0,M.Z)(function s(I){var G=this,se=I.scene,_e=I.onSceneUpdated;(0,N.Z)(this,s),this.onFontsLoaded=function(he){if(he.every(function(ie){var De="".concat(ie.family,"-").concat(ie.style,"-").concat(ie.weight);return!!s.loadedFontFaces.has(De)||(s.loadedFontFaces.add(De),!1)}))return!1;var $=!1;G.scene.mapElements(function(ie){return(0,fe.iB)(ie)&&!(0,oe.Xh)(ie)?(Wi.R.delete(ie),$=!0,(0,R.BE)(ie,function(De){for(var He=1;He<arguments.length;He++){var Ve=arguments[He]!=null?arguments[He]:{};He%2?fa(Object(Ve),!0).forEach(function(lt){(0,H.Z)(De,lt,Ve[lt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(De,Object.getOwnPropertyDescriptors(Ve)):fa(Object(Ve)).forEach(function(lt){Object.defineProperty(De,lt,Object.getOwnPropertyDescriptor(Ve,lt))})}return De}({},(0,fe.JZ)(ie)))):ie}),$&&G.onSceneUpdated()},this.loadFontsForElements=function(){var he=(0,w.Z)(S().mark(function $(ie){var De;return S().wrap(function(He){for(;;)switch(He.prev=He.next){case 0:return He.next=2,Promise.all((0,b.Z)(new Set(ie.filter(function(Ve){return(0,fe.iB)(Ve)}).map(function(Ve){return Ve.fontFamily}))).map(function(Ve){var lt,dt,vt,Ct,Mt=(0,v.mO)({fontFamily:Ve,fontSize:16});if((lt=document.fonts)===null||lt===void 0||(dt=lt.check)===null||dt===void 0||!dt.call(lt,Mt))return(vt=document.fonts)===null||vt===void 0||(Ct=vt.load)===null||Ct===void 0?void 0:Ct.call(vt,Mt)}));case 2:De=He.sent,G.onFontsLoaded(De.flat().filter(Boolean));case 4:case"end":return He.stop()}},$)}));return function($){return he.apply(this,arguments)}}(),this.scene=se,this.onSceneUpdated=_e});pi.loadedFontFaces=new Set;var uo=r(4682),Jo=r(6264),Io=r(5047),Oo=r(7652);function ia(s,I){var G=Object.keys(s);if(Object.getOwnPropertySymbols){var se=Object.getOwnPropertySymbols(s);I&&(se=se.filter(function(_e){return Object.getOwnPropertyDescriptor(s,_e).enumerable})),G.push.apply(G,se)}return G}function xa(s){for(var I=1;I<arguments.length;I++){var G=arguments[I]!=null?arguments[I]:{};I%2?ia(Object(G),!0).forEach(function(se){(0,H.Z)(s,se,G[se])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(G)):ia(Object(G)).forEach(function(se){Object.defineProperty(s,se,Object.getOwnPropertyDescriptor(G,se))})}return s}var Hl=function(s,I){var G=I.scene.getSelectedElements(s);return G.length===1&&G[0].type==="frame"},Zs=(0,D.z)({name:"selectAllElementsInFrame",trackEvent:{category:"canvas"},perform:function(s,I,G,se){var _e=se.scene.getSelectedElements(I)[0];if(_e&&_e.type==="frame"){var he=(0,uo.zD)((0,fe.Lm)(s),_e.id).filter(function($){return!($.type==="text"&&$.containerId)});return{elements:s,appState:xa(xa({},I),{},{selectedElementIds:he.reduce(function($,ie){return $[ie.id]=!0,$},{})}),commitToHistory:!1}}return{elements:s,appState:I,commitToHistory:!1}},contextItemLabel:"labels.selectAllElementsInFrame",predicate:function(s,I,G,se){return Hl(I,se)}}),bl=(0,D.z)({name:"removeAllElementsFromFrame",trackEvent:{category:"history"},perform:function(s,I,G,se){var _e=se.scene.getSelectedElements(I)[0];return _e&&_e.type==="frame"?{elements:(0,uo.yZ)(s,_e,I),appState:xa(xa({},I),{},{selectedElementIds:(0,H.Z)({},_e.id,!0)}),commitToHistory:!0}:{elements:s,appState:I,commitToHistory:!1}},contextItemLabel:"labels.removeAllElementsFromFrame",predicate:function(s,I,G,se){return Hl(I,se)}}),zs=((0,D.z)({name:"updateFrameRendering",viewMode:!0,trackEvent:{category:"canvas"},perform:function(s,I){return{elements:s,appState:xa(xa({},I),{},{frameRendering:xa(xa({},I.frameRendering),{},{enabled:!I.frameRendering.enabled})}),commitToHistory:!1}},contextItemLabel:"labels.updateFrameRendering",checked:function(s){return s.frameRendering.enabled}}),(0,D.z)({name:"setFrameAsActiveTool",trackEvent:{category:"toolbar"},perform:function(s,I,G,se){var _e=(0,v.Om)(I,{type:"frame"});return(0,Oo.Uk)(se.interactiveCanvas,xa(xa({},I),{},{activeTool:_e})),{elements:s,appState:xa(xa({},I),{},{activeTool:(0,v.Om)(I,{type:"frame"})}),commitToHistory:!1}},keyTest:function(s){return!s[O.tW.CTRL_OR_CMD]&&!s.shiftKey&&!s.altKey&&s.key.toLocaleLowerCase()===O.tW.F}}),r(6006)),yl=r(3506);function xl(s,I){var G=Object.keys(s);if(Object.getOwnPropertySymbols){var se=Object.getOwnPropertySymbols(s);I&&(se=se.filter(function(_e){return Object.getOwnPropertyDescriptor(s,_e).enumerable})),G.push.apply(G,se)}return G}function aa(s){for(var I=1;I<arguments.length;I++){var G=arguments[I]!=null?arguments[I]:{};I%2?xl(Object(G),!0).forEach(function(se){(0,H.Z)(s,se,G[se])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(G)):xl(Object(G)).forEach(function(se){Object.defineProperty(s,se,Object.getOwnPropertyDescriptor(G,se))})}return s}function Ui(s,I){var G=typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(!G){if(Array.isArray(s)||(G=function(De,He){if(De){if(typeof De=="string")return sa(De,He);var Ve=Object.prototype.toString.call(De).slice(8,-1);if(Ve==="Object"&&De.constructor&&(Ve=De.constructor.name),Ve==="Map"||Ve==="Set")return Array.from(De);if(Ve==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ve))return sa(De,He)}}(s))||I){G&&(s=G);var se=0,_e=function(){};return{s:_e,n:function(){return se>=s.length?{done:!0}:{done:!1,value:s[se++]}},e:function(De){throw De},f:_e}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var he,$=!0,ie=!1;return{s:function(){G=G.call(s)},n:function(){var De=G.next();return $=De.done,De},e:function(De){ie=!0,he=De},f:function(){try{$||G.return==null||G.return()}finally{if(ie)throw he}}}}function sa(s,I){(I==null||I>s.length)&&(I=s.length);for(var G=0,se=new Array(I);G<I;G++)se[G]=s[G];return se}var si=function(s){return 8/s},ei=(0,M.Z)(function s(){(0,N.Z)(this,s)});ei.referenceSnapPoints=null,ei.visibleGaps=null,ei.setReferenceSnapPoints=function(s){ei.referenceSnapPoints=s},ei.getReferenceSnapPoints=function(){return ei.referenceSnapPoints},ei.setVisibleGaps=function(s){ei.visibleGaps=s},ei.getVisibleGaps=function(){return ei.visibleGaps},ei.destroy=function(){ei.referenceSnapPoints=null,ei.visibleGaps=null};var ha=function(s){var I=s.event,G=s.appState,se=s.selectedElements;return I?G.objectsSnapModeEnabled&&!I[O.tW.CTRL_OR_CMD]||!G.objectsSnapModeEnabled&&I[O.tW.CTRL_OR_CMD]&&G.gridSize===null:(se.length!==1||se[0].type!=="arrow")&&G.objectsSnapModeEnabled},Ss=function(s){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{omitCenter:!1,boundingBoxCorners:!1},G=I.omitCenter,se=I.boundingBoxCorners,_e=I.dragOffset,he=[];if(s.length===1){var $=s[0],ie=(0,co.qf)($),De=(0,k.Z)(ie,6),He=De[0],Ve=De[1],lt=De[2],dt=De[3],vt=De[4],Ct=De[5];_e&&(He+=_e.x,lt+=_e.x,vt+=_e.x,Ve+=_e.y,dt+=_e.y,Ct+=_e.y);var Mt=(lt-He)/2,Yt=(dt-Ve)/2;if($.type!=="diamond"&&$.type!=="ellipse"||se){var ar=(0,Ee.xj)([He,Ve],[vt,Ct],$.angle),Bt=(0,Ee.xj)([lt,Ve],[vt,Ct],$.angle),zt=(0,Ee.xj)([He,dt],[vt,Ct],$.angle),$t=(0,Ee.xj)([lt,dt],[vt,Ct],$.angle),dr=[vt,Ct];he=G?[ar,Bt,zt,$t]:[ar,Bt,zt,$t,dr]}else{var yr=(0,Ee.xj)([He,Ve+Yt],[vt,Ct],$.angle),lr=(0,Ee.xj)([He+Mt,Ve],[vt,Ct],$.angle),nr=(0,Ee.xj)([lt,Ve+Yt],[vt,Ct],$.angle),Tr=(0,Ee.xj)([He+Mt,dt],[vt,Ct],$.angle),qr=[vt,Ct];he=G?[yr,lr,nr,Tr]:[yr,lr,nr,Tr,qr]}}else if(s.length>1){var pn=(0,co.hC)(s,_e??{x:0,y:0}),_n=(0,k.Z)(pn,4),Nn=_n[0],Un=_n[1],kn=_n[2],vn=_n[3],An=kn-Nn,jn=vn-Un,qn=[Nn,Un],oo=[kn,Un],no=[Nn,vn],so=[kn,vn],zn=[Nn+An/2,Un+jn/2];he=G?[qn,oo,no,so]:[qn,oo,no,so,zn]}return he.map(function(Mn){return[ct(Mn[0]),ct(Mn[1])]})},Ol=function(s,I,G){var se=I.filter(function(_e){return(0,oe.He)(_e)}).map(function(_e){return _e.id});return(0,Jo.CF)(s,I,G).filter(function(_e){return!(_e.frameId&&se.includes(_e.frameId))})},ut=function(s,I,G){var se=Ol(s,I,G),_e=(0,qe.AI)(se).filter(function(jn){return!(jn.length===1&&(0,oe.Xh)(jn[0]))}).map(function(jn){return(0,co.KP)(jn).map(function(qn){return ct(qn)})}),he=_e.sort(function(jn,qn){return jn[0]-qn[0]}),$=[],ie=0;e:for(var De=0;De<he.length;De++)for(var He=he[De],Ve=De+1;Ve<he.length;Ve++){if(++ie>99999)break e;var lt=he[Ve],dt=(0,k.Z)(He,4),vt=dt[1],Ct=dt[2],Mt=dt[3],Yt=(0,k.Z)(lt,4),ar=Yt[0],Bt=Yt[1],zt=Yt[3];Ct<ar&&(0,Ee.ep)([vt,Mt],[Bt,zt])&&$.push({startBounds:He,endBounds:lt,startSide:[[Ct,vt],[Ct,Mt]],endSide:[[ar,Bt],[ar,zt]],length:ar-Ct,overlap:(0,Ee.mW)([vt,Mt],[Bt,zt])})}var $t=_e.sort(function(jn,qn){return jn[1]-qn[1]}),dr=[];ie=0;e:for(var yr=0;yr<$t.length;yr++)for(var lr=$t[yr],nr=yr+1;nr<$t.length;nr++){if(++ie>99999)break e;var Tr=$t[nr],qr=(0,k.Z)(lr,4),pn=qr[0],_n=qr[2],Nn=qr[3],Un=(0,k.Z)(Tr,3),kn=Un[0],vn=Un[1],An=Un[2];Nn<vn&&(0,Ee.ep)([pn,_n],[kn,An])&&dr.push({startBounds:lr,endBounds:Tr,startSide:[[pn,Nn],[_n,Nn]],endSide:[[kn,vn],[An,vn]],length:vn-Nn,overlap:(0,Ee.mW)([pn,_n],[kn,An])})}return{horizontalGaps:$,verticalGaps:dr}},Ae=function(s,I,G,se,_e,he,$){if(!ha({appState:G,event:se,selectedElements:s}))return[];if(s.length===0)return[];var ie=ei.getVisibleGaps();if(ie){var De,He=ie.horizontalGaps,Ve=ie.verticalGaps,lt=(0,co.hC)(s,I).map(function(Do){return ct(Do)}),dt=(0,k.Z)(lt,4),vt=dt[0],Ct=dt[1],Mt=dt[2],Yt=dt[3],ar=(vt+Mt)/2,Bt=(Ct+Yt)/2,zt=Ui(He);try{for(zt.s();!(De=zt.n()).done;){var $t=De.value;if((0,Ee.ep)([Ct,Yt],$t.overlap)){var dr=$t.startSide[0][0]+$t.length/2,yr=ct(dr-ar);if($t.length>Mt-vt&&Math.abs(yr)<=$.x){Math.abs(yr)<$.x&&(_e.length=0),$.x=Math.abs(yr);var lr={type:"gap",direction:"center_horizontal",gap:$t,offset:yr};_e.push(lr)}else{var nr=vt-(0,k.Z)($t.endBounds,3)[2],Tr=ct($t.length-nr);if(Math.abs(Tr)<=$.x){Math.abs(Tr)<$.x&&(_e.length=0),$.x=Math.abs(Tr);var qr={type:"gap",direction:"side_right",gap:$t,offset:Tr};_e.push(qr)}else{var pn=(0,k.Z)($t.startBounds,3)[0],_n=ct(pn-Mt-$t.length);if(Math.abs(_n)<=$.x){Math.abs(_n)<$.x&&(_e.length=0),$.x=Math.abs(_n);var Nn={type:"gap",direction:"side_left",gap:$t,offset:_n};_e.push(Nn)}}}}}}catch(Do){zt.e(Do)}finally{zt.f()}var Un,kn=Ui(Ve);try{for(kn.s();!(Un=kn.n()).done;){var vn=Un.value;if((0,Ee.ep)([vt,Mt],vn.overlap)){var An=vn.startSide[0][1]+vn.length/2,jn=ct(An-Bt);if(vn.length>Yt-Ct&&Math.abs(jn)<=$.y){Math.abs(jn)<$.y&&(he.length=0),$.y=Math.abs(jn);var qn={type:"gap",direction:"center_vertical",gap:vn,offset:jn};he.push(qn)}else{var oo=(0,k.Z)(vn.startBounds,3)[1],no=ct(oo-Yt-vn.length);if(Math.abs(no)<=$.y){Math.abs(no)<$.y&&(he.length=0),$.y=Math.abs(no);var so={type:"gap",direction:"side_top",gap:vn,offset:no};he.push(so)}else{var zn=(0,k.Z)(vn.endBounds,4)[3],Mn=ct(Ct-zn),Jn=vn.length-Mn;if(Math.abs(Jn)<=$.y){Math.abs(Jn)<$.y&&(he.length=0),$.y=Math.abs(Jn);var Ro={type:"gap",direction:"side_bottom",gap:vn,offset:Jn};he.push(Ro)}}}}}}catch(Do){kn.e(Do)}finally{kn.f()}}},Xe=function(s,I,G){var se=Ol(s,I,G);return(0,qe.AI)(se).filter(function(_e){return!(_e.length===1&&(0,oe.Xh)(_e[0]))}).flatMap(function(_e){return Ss(_e)})},Je=function(s,I,G,se,_e,he,$){if(!ha({appState:G,event:se,selectedElements:s})||s.length===0&&I.length===0)return[];var ie=ei.getReferenceSnapPoints();if(ie){var De,He=Ui(I);try{for(He.s();!(De=He.n()).done;){var Ve,lt=De.value,dt=Ui(ie);try{for(dt.s();!(Ve=dt.n()).done;){var vt=Ve.value,Ct=vt[0]-lt[0],Mt=vt[1]-lt[1];Math.abs(Ct)<=$.x&&(Math.abs(Ct)<$.x&&(_e.length=0),_e.push({type:"point",points:[lt,vt],offset:Ct}),$.x=Math.abs(Ct)),Math.abs(Mt)<=$.y&&(Math.abs(Mt)<$.y&&(he.length=0),he.push({type:"point",points:[lt,vt],offset:Mt}),$.y=Math.abs(Mt))}}catch(Yt){dt.e(Yt)}finally{dt.f()}}}catch(Yt){He.e(Yt)}finally{He.f()}}},ct=function(s){return Math.round(s*Math.pow(10,6))/Math.pow(10,6)},bt=function(s){var I,G=new Map,se=Ui(s);try{for(se.s();!(I=se.n()).done;){var _e=I.value,he=_e.join(",");G.has(he)||G.set(he,_e)}}catch($){se.e($)}finally{se.f()}return Array.from(G.values())},_t=function(s,I){var G={},se={};if(s.length>0){var _e,he=Ui(s);try{for(he.s();!(_e=he.n()).done;){var $=_e.value;if($.type==="point"){var ie,De=ct($.points[0][0]);G[De]||(G[De]=[]),(ie=G[De]).push.apply(ie,(0,b.Z)($.points.map(function(Ct){return[ct(Ct[0]),ct(Ct[1])]})))}}}catch(Ct){he.e(Ct)}finally{he.f()}}if(I.length>0){var He,Ve=Ui(I);try{for(Ve.s();!(He=Ve.n()).done;){var lt=He.value;if(lt.type==="point"){var dt,vt=ct(lt.points[0][1]);se[vt]||(se[vt]=[]),(dt=se[vt]).push.apply(dt,(0,b.Z)(lt.points.map(function(Ct){return[ct(Ct[0]),ct(Ct[1])]})))}}}catch(Ct){Ve.e(Ct)}finally{Ve.f()}}return Object.entries(G).map(function(Ct){var Mt=(0,k.Z)(Ct,2),Yt=Mt[0],ar=Mt[1];return{type:"points",points:bt(ar.map(function(Bt){return[Number(Yt),Bt[1]]}).sort(function(Bt,zt){return Bt[1]-zt[1]}))}}).concat(Object.entries(se).map(function(Ct){var Mt=(0,k.Z)(Ct,2),Yt=Mt[0],ar=Mt[1];return{type:"points",points:bt(ar.map(function(Bt){return[Bt[0],Number(Yt)]}).sort(function(Bt,zt){return Bt[0]-zt[0]}))}}))},Et=function(s,I,G){var se,_e=(0,co.hC)(s,I),he=(0,k.Z)(_e,4),$=he[0],ie=he[1],De=he[2],He=he[3],Ve=[],lt=Ui(G);try{for(lt.s();!(se=lt.n()).done;){var dt=se.value,vt=(0,k.Z)(dt.gap.startBounds,4),Ct=vt[0],Mt=vt[1],Yt=vt[2],ar=vt[3],Bt=(0,k.Z)(dt.gap.endBounds,4),zt=Bt[0],$t=Bt[1],dr=Bt[2],yr=Bt[3],lr=(0,Ee.mW)([ie,He],dt.gap.overlap),nr=(0,Ee.mW)([$,De],dt.gap.overlap);switch(dt.direction){case"center_horizontal":if(lr){var Tr=(lr[0]+lr[1])/2;Ve.push({type:"gap",direction:"horizontal",points:[[dt.gap.startSide[0][0],Tr],[$,Tr]]},{type:"gap",direction:"horizontal",points:[[De,Tr],[dt.gap.endSide[0][0],Tr]]})}break;case"center_vertical":if(nr){var qr=(nr[0]+nr[1])/2;Ve.push({type:"gap",direction:"vertical",points:[[qr,dt.gap.startSide[0][1]],[qr,ie]]},{type:"gap",direction:"vertical",points:[[qr,He],[qr,dt.gap.endSide[0][1]]]})}break;case"side_right":if(lr){var pn=(lr[0]+lr[1])/2;Ve.push({type:"gap",direction:"horizontal",points:[[Yt,pn],[zt,pn]]},{type:"gap",direction:"horizontal",points:[[dr,pn],[$,pn]]})}break;case"side_left":if(lr){var _n=(lr[0]+lr[1])/2;Ve.push({type:"gap",direction:"horizontal",points:[[De,_n],[Ct,_n]]},{type:"gap",direction:"horizontal",points:[[Yt,_n],[zt,_n]]})}break;case"side_top":if(nr){var Nn=(nr[0]+nr[1])/2;Ve.push({type:"gap",direction:"vertical",points:[[Nn,He],[Nn,Mt]]},{type:"gap",direction:"vertical",points:[[Nn,ar],[Nn,$t]]})}break;case"side_bottom":if(nr){var Un=(nr[0]+nr[1])/2;Ve.push({type:"gap",direction:"vertical",points:[[Un,ar],[Un,$t]]},{type:"gap",direction:"vertical",points:[[Un,yr],[Un,ie]]})}}}}catch(kn){lt.e(kn)}finally{lt.f()}return function(kn){var vn,An=new Map,jn=Ui(kn);try{for(jn.s();!(vn=jn.n()).done;){var qn=vn.value,oo=qn.points.flat().map(function(no){return[ct(no)]}).join(",");An.has(oo)||An.set(oo,qn)}}catch(no){jn.e(no)}finally{jn.f()}return Array.from(An.values())}(Ve.map(function(kn){return aa(aa({},kn),{},{points:kn.points.map(function(vn){return[ct(vn[0]),ct(vn[1])]})})}))},jt=function(s,I,G,se,_e,he){var $,ie,De,He;if(!ha({event:se,selectedElements:s,appState:G})||s.length===0||s.length===1&&!function(_n,Nn){var Un=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.01;return Math.abs(_n-Nn)<=Un}(s[0].angle,0))return{snapOffset:{x:0,y:0},snapLines:[]};var Ve=(0,co.KP)(I),lt=(0,k.Z)(Ve,4),dt=lt[0],vt=lt[1],Ct=lt[2],Mt=lt[3];he&&(he.includes("e")?Ct+=_e.x:he.includes("w")&&(dt+=_e.x),he.includes("n")?vt+=_e.y:he.includes("s")&&(Mt+=_e.y));var Yt=[];if(he)switch(he){case"e":Yt.push([Ct,vt],[Ct,Mt]);break;case"w":Yt.push([dt,vt],[dt,Mt]);break;case"n":Yt.push([dt,vt],[Ct,vt]);break;case"s":Yt.push([dt,Mt],[Ct,Mt]);break;case"ne":Yt.push([Ct,vt]);break;case"nw":Yt.push([dt,vt]);break;case"se":Yt.push([Ct,Mt]);break;case"sw":Yt.push([dt,Mt])}var ar=si(G.zoom.value),Bt={x:ar,y:ar},zt=[],$t=[];Je(I,Yt,G,se,zt,$t,Bt);var dr={x:($=(ie=zt[0])===null||ie===void 0?void 0:ie.offset)!==null&&$!==void 0?$:0,y:(De=(He=$t[0])===null||He===void 0?void 0:He.offset)!==null&&De!==void 0?De:0};Bt.x=0,Bt.y=0,zt.length=0,$t.length=0;var yr=(0,co.KP)(s).map(function(_n){return ct(_n)}),lr=(0,k.Z)(yr,4),nr=lr[0],Tr=lr[1],qr=lr[2],pn=lr[3];return Je(s,[[nr,Tr],[nr,pn],[qr,Tr],[qr,pn]],G,se,zt,$t,Bt),{snapOffset:dr,snapLines:_t(zt,$t)}},mr=r(7392),xr=r(9247),ir=function(){return(0,a.jsxs)("div",{"data-testid":"brave-measure-text-error",children:[(0,a.jsx)("p",{children:(0,a.jsx)(xr.Z,{i18nKey:"errors.brave_measure_text_error.line1",bold:function(s){return(0,a.jsx)("span",{style:{fontWeight:600},children:s})}})}),(0,a.jsx)("p",{children:(0,a.jsx)(xr.Z,{i18nKey:"errors.brave_measure_text_error.line2",bold:function(s){return(0,a.jsx)("span",{style:{fontWeight:600},children:s})}})}),(0,a.jsx)("p",{children:(0,a.jsx)(xr.Z,{i18nKey:"errors.brave_measure_text_error.line3",link:function(s){return(0,a.jsx)("a",{href:"http://docs.excalidraw.com/docs/@excalidraw/excalidraw/faq#turning-off-aggresive-block-fingerprinting-in-brave-browser",children:s})}})}),(0,a.jsx)("p",{children:(0,a.jsx)(xr.Z,{i18nKey:"errors.brave_measure_text_error.line4",issueLink:function(s){return(0,a.jsx)("a",{href:"https://github.com/excalidraw/excalidraw/issues/new",children:s})},discordLink:function(s){return(0,a.jsxs)("a",{href:"https://discord.gg/UexuTaE",children:[s,"."]})}})})]})},er=r(6199),kr=r(7766),Ir=function(s){var I=(0,q.useRef)(!1);return(0,q.useEffect)(function(){var G;if(I.current){var se={},_e={},he={},$={},ie={};s.appState.collaborators.forEach(function(He,Ve){if(He.selectedElementIds)for(var lt=0,dt=Object.keys(He.selectedElementIds);lt<dt.length;lt++){var vt=dt[lt];vt in he||(he[vt]=[]),he[vt].push(Ve)}He.pointer&&(He.username&&($[Ve]=He.username),He.userState&&(ie[Ve]=He.userState),_e[Ve]=(0,v._i)({sceneX:He.pointer.x,sceneY:He.pointer.y},s.appState),se[Ve]=He.button)});var De=((G=s.containerRef)===null||G===void 0?void 0:G.current)&&getComputedStyle(s.containerRef.current).getPropertyValue("--color-selection")||"#6965db";(0,kr.tp)({canvas:s.canvas,elements:s.elements,visibleElements:s.visibleElements,selectedElements:s.selectedElements,scale:window.devicePixelRatio,appState:s.appState,renderConfig:{remotePointerViewportCoords:_e,remotePointerButton:se,remoteSelectedElementIds:he,remotePointerUsernames:$,remotePointerUserStates:ie,selectionColor:De,renderScrollbars:!1},callback:s.renderInteractiveSceneCallback},(0,v.G9)())}else I.current=!0}),(0,a.jsx)("canvas",{className:"excalidraw__canvas interactive",style:{width:s.appState.width,height:s.appState.height,cursor:s.appState.viewModeEnabled?i.oc.GRAB:i.oc.AUTO},width:s.appState.width*s.scale,height:s.appState.height*s.scale,ref:s.handleCanvasRef,onContextMenu:s.onContextMenu,onPointerMove:s.onPointerMove,onPointerUp:s.onPointerUp,onPointerCancel:s.onPointerCancel,onTouchMove:s.onTouchMove,onPointerDown:s.onPointerDown,onDoubleClick:s.appState.viewModeEnabled?void 0:s.onDoubleClick,children:(0,B.t)("labels.drawingCanvas")})},_r=function(s){return{zoom:s.zoom,scrollX:s.scrollX,scrollY:s.scrollY,width:s.width,height:s.height,viewModeEnabled:s.viewModeEnabled,editingGroupId:s.editingGroupId,editingLinearElement:s.editingLinearElement,selectedElementIds:s.selectedElementIds,frameToHighlight:s.frameToHighlight,offsetLeft:s.offsetLeft,offsetTop:s.offsetTop,theme:s.theme,pendingImageElementId:s.pendingImageElementId,selectionElement:s.selectionElement,selectedGroupIds:s.selectedGroupIds,selectedLinearElement:s.selectedLinearElement,multiElement:s.multiElement,isBindingEnabled:s.isBindingEnabled,suggestedBindings:s.suggestedBindings,isRotating:s.isRotating,elementsToHighlight:s.elementsToHighlight,openSidebar:s.openSidebar,showHyperlinkPopup:s.showHyperlinkPopup,collaborators:s.collaborators,activeEmbeddable:s.activeEmbeddable,snapLines:s.snapLines,zenModeEnabled:s.zenModeEnabled}},wr=function(s,I){return s.selectionNonce===I.selectionNonce&&s.versionNonce===I.versionNonce&&s.scale===I.scale&&s.elements===I.elements&&s.visibleElements===I.visibleElements&&s.selectedElements===I.selectedElements&&(0,v.w8)(_r(s.appState),_r(I.appState))},Ar=ve().memo(Ir,wr),Vr=function(s){var I=(0,q.useRef)(null),G=(0,q.useRef)(!1);return(0,q.useEffect)(function(){var se=I.current;if(se){var _e=s.canvas;G.current||(G.current=!0,se.replaceChildren(_e),_e.classList.add("excalidraw__canvas","static"));var he="".concat(s.appState.width,"px"),$="".concat(s.appState.height,"px");_e.style.width!==he&&(_e.style.width=he),_e.style.height!==$&&(_e.style.height=$);var ie=s.appState.width*s.scale,De=s.appState.height*s.scale;_e.width!==ie&&(_e.width=ie),_e.height!==De&&(_e.height=De),(0,kr.AW)({canvas:_e,rc:s.rc,scale:s.scale,elements:s.elements,visibleElements:s.visibleElements,appState:s.appState,renderConfig:s.renderConfig},(0,v.G9)())}}),(0,a.jsx)("div",{className:"excalidraw__canvas-wrapper",ref:I})},Yr=function(s){return{zoom:s.zoom,scrollX:s.scrollX,scrollY:s.scrollY,width:s.width,height:s.height,viewModeEnabled:s.viewModeEnabled,offsetLeft:s.offsetLeft,offsetTop:s.offsetTop,theme:s.theme,pendingImageElementId:s.pendingImageElementId,shouldCacheIgnoreZoom:s.shouldCacheIgnoreZoom,viewBackgroundColor:s.viewBackgroundColor,exportScale:s.exportScale,selectedElementsAreBeingDragged:s.selectedElementsAreBeingDragged,gridSize:s.gridSize,frameRendering:s.frameRendering,selectedElementIds:s.selectedElementIds,frameToHighlight:s.frameToHighlight,editingGroupId:s.editingGroupId}},Br=function(s,I){return s.versionNonce===I.versionNonce&&s.scale===I.scale&&s.elements===I.elements&&s.visibleElements===I.visibleElements&&(0,v.w8)(Yr(s.appState),Yr(I.appState))&&(0,v.w8)(s.renderConfig,I.renderConfig)},tn=ve().memo(Vr,Br),Sn=function(){function s(I){var G=this;(0,N.Z)(this,s),this.getRenderableElements=(0,v.HP)(function(se){var _e=se.zoom,he=se.offsetLeft,$=se.offsetTop,ie=se.scrollX,De=se.scrollY,He=se.height,Ve=se.width,lt=se.editingElement,dt=se.pendingImageElementId,vt=(se.versionNonce,function(Mt){var Yt=Mt.editingElement,ar=Mt.elements,Bt=Mt.pendingImageElementId;return ar.filter(function(zt){return!((0,oe.pC)(zt)&&Bt===zt.id||Yt&&Yt.type==="text"&&zt.id===Yt.id)})}({elements:G.scene.getNonDeletedElements(),editingElement:lt,pendingImageElementId:dt})),Ct=function(Mt){var Yt=Mt.elements,ar=Mt.zoom,Bt=Mt.offsetLeft,zt=Mt.offsetTop,$t=Mt.scrollX,dr=Mt.scrollY,yr=Mt.height,lr=Mt.width;return Yt.filter(function(nr){return(0,Ie.PZ)(nr,lr,yr,{zoom:ar,offsetLeft:Bt,offsetTop:zt,scrollX:$t,scrollY:dr})})}({elements:vt,zoom:_e,offsetLeft:he,offsetTop:$,scrollX:ie,scrollY:De,height:He,width:Ve});return{canvasElements:vt,visibleElements:Ct}}),this.scene=I}return(0,M.Z)(s,[{key:"destroy",value:function(){(0,kr.n_)(),this.getRenderableElements.clear()}}]),s}(),Tn=r(8806),xn=r(4864),En=r(8531),Ln=r(5830),Zn={};Zn.styleTagTransform=gt(),Zn.setAttributes=rt(),Zn.insert=Be().bind(null,"head"),Zn.domAPI=ye(),Zn.insertStyleElement=tt(),ae()(Ln.Z,Zn),Ln.Z&&Ln.Z.locals&&Ln.Z.locals;var Kn="mermaid-to-excalidraw",$n=function(s){var I=s.error;return(0,a.jsxs)("div",{"data-testid":"mermaid-error",className:"mermaid-error",children:["Error! ",(0,a.jsx)("p",{children:I})]})},ro=function(){var s=(0,q.useState)({loaded:!1,api:null}),I=(0,k.Z)(s,2),G=I[0],se=I[1],_e=(0,q.useState)(""),he=(0,k.Z)(_e,2),$=he[0],ie=he[1],De=(0,q.useDeferredValue)($.trim()),He=(0,q.useState)(null),Ve=(0,k.Z)(He,2),lt=Ve[0],dt=Ve[1],vt=(0,q.useRef)(null),Ct=(0,q.useRef)({elements:[],files:null}),Mt=Tl(),Yt=function(){var Bt=vt.current;if(Bt){var zt=Bt.parentElement;zt&&(zt.style.background="",dt(null),Bt.replaceChildren())}};(0,q.useEffect)(function(){var Bt=function(){var zt=(0,w.Z)(S().mark(function $t(){var dr;return S().wrap(function(yr){for(;;)switch(yr.prev=yr.next){case 0:return yr.next=2,r.e(4736).then(r.bind(r,1049));case 2:dr=yr.sent,se({loaded:!0,api:dr});case 4:case"end":return yr.stop()}},$t)}));return function(){return zt.apply(this,arguments)}}();Bt()},[]),(0,q.useEffect)(function(){var Bt=function(){try{var zt=localStorage.getItem(Kn);if(zt)return zt}catch($t){console.error($t)}return null}()||`flowchart TD
 A[Christmas] -->|Get money| B(Go shopping)
 B --> C{Let me think}
 C -->|One| D[Laptop]
 C -->|Two| E[iPhone]
 C -->|Three| F[Car]`;ie(Bt)},[]),(0,q.useEffect)(function(){var Bt=function(){var zt=(0,w.Z)(S().mark(function $t(){var dr,yr,lr,nr,Tr,qr;return S().wrap(function(pn){for(;;)switch(pn.prev=pn.next){case 0:if(dr=vt.current,yr=dr==null?void 0:dr.parentElement,G.loaded&&dr&&yr&&G.api){pn.next=4;break}return pn.abrupt("return");case 4:if(De){pn.next=7;break}return Yt(),pn.abrupt("return");case 7:return pn.prev=7,pn.next=10,G.api.parseMermaidToExcalidraw(De,{fontSize:i.n5});case 10:return lr=pn.sent,nr=lr.elements,Tr=lr.files,dt(null),Ct.current={elements:(0,xn.wc)(nr,{regenerateIds:!0}),files:Tr},pn.next=17,(0,xn.NL)({elements:Ct.current.elements,files:Ct.current.files,exportPadding:i.qy,maxWidthOrHeight:Math.max(yr.offsetWidth,yr.offsetHeight)*window.devicePixelRatio});case 17:return qr=pn.sent,pn.next=20,(0,Sr._c)(qr);case 20:yr.style.background="var(--default-bg-color)",dr.replaceChildren(qr),pn.next=28;break;case 24:pn.prev=24,pn.t0=pn.catch(7),yr.style.background="var(--default-bg-color)",De&&dt(pn.t0.message);case 28:case"end":return pn.stop()}},$t,null,[[7,24]])}));return function(){return zt.apply(this,arguments)}}();Bt()},[De,G]);var ar=function(){Mt.setOpenDialog(null),function(Bt){try{localStorage.setItem(Kn,Bt)}catch(zt){console.error(zt)}}($)};return(0,a.jsx)(qt.V,{className:"dialog-mermaid",onCloseRequest:ar,size:1200,title:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{className:"dialog-mermaid-title",children:(0,B.t)("mermaid.title")}),(0,a.jsxs)("span",{className:"dialog-mermaid-desc",children:[(0,a.jsx)(xr.Z,{i18nKey:"mermaid.description",flowchartLink:function(Bt){return(0,a.jsx)("a",{href:"https://mermaid.js.org/syntax/flowchart.html",children:Bt})},sequenceLink:function(Bt){return(0,a.jsx)("a",{href:"https://mermaid.js.org/syntax/sequenceDiagram.html",children:Bt})}}),(0,a.jsx)("br",{})]})]}),children:(0,a.jsxs)("div",{className:"dialog-mermaid-body",children:[(0,a.jsxs)("div",{className:"dialog-mermaid-panels",children:[(0,a.jsxs)("div",{className:"dialog-mermaid-panels-text",children:[(0,a.jsx)("label",{children:(0,B.t)("mermaid.syntax")}),(0,a.jsx)("textarea",{onChange:function(Bt){return ie(Bt.target.value)},value:$})]}),(0,a.jsxs)("div",{className:"dialog-mermaid-panels-preview",children:[(0,a.jsx)("label",{children:(0,B.t)("mermaid.preview")}),(0,a.jsxs)("div",{className:"dialog-mermaid-panels-preview-wrapper",children:[lt&&(0,a.jsx)($n,{error:lt}),G.loaded?(0,a.jsx)("div",{ref:vt,style:{opacity:lt?"0.15":1},className:"dialog-mermaid-panels-preview-canvas-container"}):(0,a.jsx)(En.Z,{size:"2rem"})]})]})]}),(0,a.jsx)("div",{className:"dialog-mermaid-buttons",children:(0,a.jsxs)(Tn.z,{className:"dialog-mermaid-insert",onSelect:function(){var Bt=Ct.current,zt=Bt.elements,$t=Bt.files;Mt.addElementsFromPasteOrLibrary({elements:zt,files:$t,position:"center",fitToContent:!0}),ar()},children:[(0,B.t)("mermaid.button"),(0,a.jsx)("span",{children:K.LZ})]})})]})})},Uo=r(7930),Ti={};Ti.styleTagTransform=gt(),Ti.setAttributes=rt(),Ti.insert=Be().bind(null,"head"),Ti.domAPI=ye(),Ti.insertStyleElement=tt(),ae()(Uo.Z,Ti),Uo.Z&&Uo.Z.locals&&Uo.Z.locals;var Bi=function(s){var I=s.manager,G=(0,q.useRef)(null);return(0,q.useEffect)(function(){return G.current&&I.start(G.current),function(){I.stop()}},[I]),(0,a.jsx)("div",{className:"LaserToolOverlay",children:(0,a.jsx)("svg",{ref:G,className:"LaserToolOverlayCanvas"})})},Ei,Vi,Ni,ti;function $o([s,I,G],[se,_e,he]){return[s+se,I+_e,G+he]}function Vo([s,I,G],[se,_e,he]){return[s-se,I-_e,G-he]}function Xo([s,I,G],se){return[s*se,I*se,G*se]}function Go([s,I,G]){return[s/Math.sqrt(s**2+I**2),I/Math.sqrt(s**2+I**2),G]}function Di([s,I,G],se){return[Math.cos(se)*s-Math.sin(se)*I,Math.sin(se)*s+Math.cos(se)*I,G]}function Oa(s,I,G){return Math.atan2(G[1]-s[1],G[0]-s[0])-Math.atan2(I[1]-s[1],I[0]-s[0])}function Ta(s){return Math.atan2(Math.sin(s),Math.cos(s))}function Ki([s,I]){return Math.sqrt(s**2+I**2)}function na([s,I],[G,se]){return Math.sqrt((G-s)**2+(se-I)**2)}Ei={},Vi="LaserPointer",Ni=()=>es,Object.defineProperty(Ei,Vi,{get:Ni,set:ti,enumerable:!0,configurable:!0});function Wa(s,I,G){const se=na(I,G);if(se===0)return na(s,I);const _e=((he,$,ie)=>Math.max($,Math.min(ie,he)))(((s[0]-I[0])*(G[0]-I[0])+(s[1]-I[1])*(G[1]-I[1]))/se**2,0,1);return na([I[0]+_e*(G[0]-I[0]),I[1]+_e*(G[1]-I[1]),s[2]],s)}function wa(s,I){if(I===0||s.length<=2)return s;const G=s[0],se=s[s.length-1],[_e,he]=s.reduce(([$,ie],De,He)=>{const Ve=Wa(De,G,se);return Ve>$?[Ve,He]:[$,ie]},[0,-1]);if(_e>=I){const $=s[he];return[...wa([G,...s.slice(1,he),$],I).slice(0,-1),$,...wa([$,...s.slice(he,-1),se],I).slice(1)]}return[G,se]}const W=class W{constructor(I){this.originalPoints=[],this.stablePoints=[],this.tailPoints=[],this.isFresh=!0,this.options=Object.assign({},W.defaults,I)}get lastPoint(){return this.tailPoints[this.tailPoints.length-1]??this.stablePoints[this.stablePoints.length-1]}addPoint(I){const G=this.originalPoints[this.originalPoints.length-1];if(!G||G[0]!==I[0]||G[1]!==I[1]){if(this.originalPoints.push(I),this.isFresh)return this.isFresh=!1,void this.stablePoints.push(I);var se,_e,he;this.options.streamline>0&&(se=this.lastPoint,_e=I,he=1-this.options.streamline,I=$o(se,Xo(Vo(_e,se),he))),this.tailPoints.push(I),function($){if($.length<2)return 0;let ie=0;for(let De=1;De<=$.length-1;De++)ie+=na($[De-1],$[De]);return ie+=na($[$.length-2],$[$.length-1]),ie}(this.tailPoints)>W.constants.maxTailLength&&this.stabilizeTail()}}close(){this.stabilizeTail()}stabilizeTail(){if(this.options.simplify>0&&this.options.simplifyPhase=="tail")throw new Error("Not implemented yet");this.stablePoints.push(...this.tailPoints),this.tailPoints=[]}getSize(I,G,se,_e,he){return(I??this.options.size)*this.options.sizeMapping({pressure:G,runningLength:he,currentIndex:se,totalLength:_e})}getStrokeOutline(I){if(this.isFresh)return[];let G=[...this.stablePoints,...this.tailPoints];this.options.simplify>0&&this.options.simplifyPhase==="input"&&(G=wa(G,this.options.simplify));const se=G.length;if(se===0)return[];if(se===1){const lr=G[0],nr=[];for(let Tr=0;Tr<=2*Math.PI;Tr+=Math.PI/16)nr.push($o(lr,Xo(Di([1,0,0],Tr),this.getSize(I,lr[2],0,se,0))));return nr.push($o(lr,Xo([1,0,0],this.getSize(I,lr[2],0,se,0)))),nr}if(se===2){const lr=G[0],nr=G[1],Tr=[],qr=Oa(lr,[lr[0],lr[1]-100,lr[2]],nr);for(let pn=qr;pn<=Math.PI+qr;pn+=Math.PI/16)Tr.push($o(lr,Xo(Di([1,0,0],pn),this.getSize(I,lr[2],0,se,0))));for(let pn=Math.PI+qr;pn<=2*Math.PI+qr;pn+=Math.PI/16)Tr.push($o(nr,Xo(Di([1,0,0],pn),this.getSize(I,nr[2],0,se,0))));return Tr.push(Tr[0]),Tr}const _e=[],he=[];let $=0,ie=0,De=0,He=0;for(let lr=1;lr<se-1;lr++){const nr=G[lr-1],Tr=G[lr],qr=G[lr+1];let pn=Tr[2];const _n=na(nr,Tr);He+=_n,$=ie+.2*(_n-ie);const Nn=this.getSize(I,pn,lr,se,He);if(Nn===0){De=lr+1;continue}const Un=Go(Vo(nr,Tr)),kn=Go(Vo(qr,Tr)),vn=Di(Un,Math.PI/2),An=Di(Un,-Math.PI/2),jn=Di(kn,Math.PI/2),qn=Di(kn,-Math.PI/2),oo=$o(Tr,Xo(vn,Nn)),no=$o(Tr,Xo(An,Nn)),so=$o(Tr,Xo(jn,Nn)),zn=$o(Tr,Xo(qn,Nn)),Mn=$o(vn,qn),Jn=$o(An,jn),Ro=$o(Tr,Xo(Ki(Mn)===0?Un:Go(Mn),Nn)),Do=$o(Tr,Xo(Ki(Jn)===0?kn:Go(Jn),Nn)),Eo=Ta(Oa(Tr,nr,qr)),To=W.constants.cornerDetectionMaxAngle/180*Math.PI*W.constants.cornerDetectionVariance($);if(Math.abs(Eo)<To){const ho=Math.abs(Ta(Math.PI-Eo));if(ho===0)continue;if(Eo<0){he.push(no,Do);for(let po=0;po<=ho;po+=ho/4)_e.push($o(Tr,Di(Xo(vn,Nn),po)));for(let po=ho;po>=0;po-=ho/4)he.push($o(Tr,Di(Xo(vn,Nn),po)));he.push(Do,so)}else{_e.push(oo,Ro);for(let po=0;po<=ho;po+=ho/4)he.push($o(Tr,Di(Xo(vn,-Nn),-po)));for(let po=ho;po>=0;po-=ho/4)_e.push($o(Tr,Di(Xo(vn,-Nn),-po)));_e.push(Ro,zn)}}else _e.push(Ro),he.push(Do);ie=$}const Ve=G[De],lt=G[De+1],dt=G[se-2],vt=G[se-1];if(De>=se-2)return[];const Ct=Go(Vo(lt,Ve)),Mt=Go(Vo(dt,vt)),Yt=Di(Ct,-Math.PI/2),ar=Di(Mt,Math.PI/2),Bt=this.getSize(I,Ve[2],0,se,0),zt=[],$t=this.getSize(I,dt[2],se-2,se,He),dr=[];for(let lr=0;lr<=Math.PI;lr+=Math.PI/16)zt.unshift($o(Ve,Di(Xo(Yt,Bt),-lr)));zt.unshift($o(Ve,Xo(Yt,-Bt)));for(let lr=0;lr<=Math.PI;lr+=Math.PI/16)dr.push($o(vt,Di(Xo(ar,-$t),-lr)));const yr=[...zt,..._e,...dr.reverse(),...he.reverse()];return zt.length>0&&yr.push(zt[0]),this.options.simplify>0&&this.options.simplifyPhase==="output"?wa(yr,this.options.simplify):yr}};Vl=new WeakMap,ns=new WeakMap,dd(W,Vl,(()=>{W.defaults={size:2,streamline:.45,simplify:.1,simplifyPhase:"output",sizeMapping:()=>1}})()),dd(W,ns,(()=>{W.constants={cornerDetectionMaxAngle:120,cornerDetectionVariance:I=>I>35?.5:1,maxTailLength:50}})());let es=W;var Cs=r(957);function Ua(s,I){var G=typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(!G){if(Array.isArray(s)||(G=function(De,He){if(De){if(typeof De=="string")return yi(De,He);var Ve=Object.prototype.toString.call(De).slice(8,-1);if(Ve==="Object"&&De.constructor&&(Ve=De.constructor.name),Ve==="Map"||Ve==="Set")return Array.from(De);if(Ve==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ve))return yi(De,He)}}(s))||I){G&&(s=G);var se=0,_e=function(){};return{s:_e,n:function(){return se>=s.length?{done:!0}:{done:!1,value:s[se++]}},e:function(De){throw De},f:_e}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var he,$=!0,ie=!1;return{s:function(){G=G.call(s)},n:function(){var De=G.next();return $=De.done,De},e:function(De){ie=!0,he=De},f:function(){try{$||G.return==null||G.return()}finally{if(ie)throw he}}}}function yi(s,I){(I==null||I>s.length)&&(I=s.length);for(var G=0,se=new Array(I);G<I;G++)se[G]=s[G];return se}var ci=1e3,ja=function(s,I){return(s+I)/2};function Ri(s){return 1-Math.pow(1-s,3)}function ki(){return{currentPath:void 0,finishedPaths:[],lastPoint:[-1e4,-1e4],svg:document.createElementNS("http://www.w3.org/2000/svg","path")}}function Ea(){return es.constants.cornerDetectionMaxAngle=70,new es({simplify:0,streamline:.4,sizeMapping:function(s){var I=Math.max(0,1-(performance.now()-s.pressure)/1e3),G=(50-Math.min(50,s.totalLength-s.currentIndex))/50;return Math.min(Ri(G),Ri(I))}})}var Zi=function(){function s(I){(0,N.Z)(this,s),this.app=I,this.collaboratorsState=new Map,this.isDrawing=!1,this.isRunning=!1,this.ownState=ki()}return(0,M.Z)(s,[{key:"destroy",value:function(){this.stop(),this.isDrawing=!1,this.ownState=ki(),this.collaboratorsState=new Map}},{key:"startPath",value:function(I,G){this.ownState.currentPath=Ea(),this.ownState.currentPath.addPoint([I,G,performance.now()]),this.updatePath(this.ownState)}},{key:"addPointToPath",value:function(I,G){var se;this.ownState.currentPath&&((se=this.ownState.currentPath)===null||se===void 0||se.addPoint([I,G,performance.now()]),this.updatePath(this.ownState))}},{key:"endPath",value:function(){this.ownState.currentPath&&(this.ownState.currentPath.close(),this.ownState.finishedPaths.push(this.ownState.currentPath),this.updatePath(this.ownState))}},{key:"updatePath",value:function(I){this.isDrawing=!0,this.isRunning||this.start()}},{key:"start",value:function(I){I&&(this.container=I,this.container.appendChild(this.ownState.svg)),this.stop(),this.isRunning=!0,this.loop()}},{key:"stop",value:function(){this.isRunning=!1,this.rafId&&cancelAnimationFrame(this.rafId),this.rafId=void 0}},{key:"loop",value:function(){this.rafId=requestAnimationFrame(this.loop.bind(this)),this.updateCollabolatorsState(),this.isDrawing?this.update():this.isRunning=!1}},{key:"draw",value:function(I){var G=this;return function(se){var _e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],he=se.length;if(he<4)return"";for(var $=se[0],ie=se[1],De=se[2],He="M".concat($[0].toFixed(2),",").concat($[1].toFixed(2)," Q").concat(ie[0].toFixed(2),",").concat(ie[1].toFixed(2)," ").concat(ja(ie[0],De[0]).toFixed(2),",").concat(ja(ie[1],De[1]).toFixed(2)," T"),Ve=2,lt=he-1;Ve<lt;Ve++)$=se[Ve],ie=se[Ve+1],He+="".concat(ja($[0],ie[0]).toFixed(2),",").concat(ja($[1],ie[1]).toFixed(2)," ");return _e&&(He+="Z"),He}(I.getStrokeOutline(I.options.size/this.app.state.zoom.value).map(function(se){var _e=(0,k.Z)(se,2),he=_e[0],$=_e[1],ie=(0,v._i)({sceneX:he,sceneY:$},G.app.state);return[ie.x,ie.y]}),!0)}},{key:"updateCollabolatorsState",value:function(){if(this.container&&this.app.state.collaborators.size){var I,G=Ua(this.app.state.collaborators.entries());try{for(G.s();!(I=G.n()).done;){var se=(0,k.Z)(I.value,2),_e=se[0],he=se[1];if(!this.collaboratorsState.has(_e)){var $=ki();this.container.appendChild($.svg),this.collaboratorsState.set(_e,$),this.updatePath($)}var ie=this.collaboratorsState.get(_e);he.pointer&&he.pointer.tool==="laser"&&(he.button==="down"&&ie.currentPath===void 0&&(ie.lastPoint=[he.pointer.x,he.pointer.y],ie.currentPath=Ea(),ie.currentPath.addPoint([he.pointer.x,he.pointer.y,performance.now()]),this.updatePath(ie)),he.button==="down"&&ie.currentPath!==void 0&&(he.pointer.x===ie.lastPoint[0]&&he.pointer.y===ie.lastPoint[1]||(ie.lastPoint=[he.pointer.x,he.pointer.y],ie.currentPath.addPoint([he.pointer.x,he.pointer.y,performance.now()]),this.updatePath(ie))),he.button==="up"&&ie.currentPath!==void 0&&(ie.lastPoint=[he.pointer.x,he.pointer.y],ie.currentPath.addPoint([he.pointer.x,he.pointer.y,performance.now()]),ie.currentPath.close(),ie.finishedPaths.push(ie.currentPath),ie.currentPath=void 0,this.updatePath(ie)))}}catch(De){G.e(De)}finally{G.f()}}}},{key:"update",value:function(){var I=this;if(this.container){var G,se=!1,_e=Ua(this.collaboratorsState.entries());try{for(_e.s();!(G=_e.n()).done;){var he=(0,k.Z)(G.value,2),$=he[0],ie=he[1];if(this.app.state.collaborators.has($)){ie.finishedPaths=ie.finishedPaths.filter(function(Ve){var lt=Ve.originalPoints[Ve.originalPoints.length-1];return!(lt&&lt[2]<performance.now()-ci)});var De=ie.finishedPaths.map(function(Ve){return I.draw(Ve)}).join(" ");ie.currentPath&&(De+=" ".concat(this.draw(ie.currentPath))),De.trim()&&(se=!0),ie.svg.setAttribute("d",De),ie.svg.setAttribute("fill",(0,Cs.G)($))}else ie.svg.remove(),this.collaboratorsState.delete($)}}catch(Ve){_e.e(Ve)}finally{_e.f()}this.ownState.finishedPaths=this.ownState.finishedPaths.filter(function(Ve){var lt=Ve.originalPoints[Ve.originalPoints.length-1];return!(lt&&lt[2]<performance.now()-ci)});var He=this.ownState.finishedPaths.map(function(Ve){return I.draw(Ve)}).join(" ");this.ownState.currentPath&&(He+=" ".concat(this.draw(this.ownState.currentPath))),(He=He.trim())&&(se=!0),this.ownState.svg.setAttribute("d",He),this.ownState.svg.setAttribute("fill","red"),se||(this.isDrawing=!1)}}}]),s}(),Ko=function(){function s(I){var G;(0,N.Z)(this,s),this.subscribers=[],this.updateOnChangeOnly=(G=I==null?void 0:I.updateOnChangeOnly)!==null&&G!==void 0&&G,this.value=I==null?void 0:I.initialState}return(0,M.Z)(s,[{key:"on",value:function(){for(var I,G=this,se=arguments.length,_e=new Array(se),he=0;he<se;he++)_e[he]=arguments[he];var $=_e.flat().filter(function(ie){return typeof ie=="function"});return(I=this.subscribers).push.apply(I,(0,b.Z)($)),function(){return G.off($)}}},{key:"off",value:function(){for(var I=arguments.length,G=new Array(I),se=0;se<I;se++)G[se]=arguments[se];var _e=G.flat();this.subscribers=this.subscribers.filter(function(he){return!_e.includes(he)})}},{key:"trigger",value:function(){for(var I=arguments.length,G=new Array(I),se=0;se<I;se++)G[se]=arguments[se];return this.updateOnChangeOnly&&this.value===G?[]:(this.value=G,this.subscribers.map(function(_e){return _e.apply(void 0,G)}))}},{key:"destroy",value:function(){this.subscribers=[],this.value=void 0}}]),s}();function Ji(s,I){var G=typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(!G){if(Array.isArray(s)||(G=function(De,He){if(De){if(typeof De=="string")return ms(De,He);var Ve=Object.prototype.toString.call(De).slice(8,-1);if(Ve==="Object"&&De.constructor&&(Ve=De.constructor.name),Ve==="Map"||Ve==="Set")return Array.from(De);if(Ve==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ve))return ms(De,He)}}(s))||I){G&&(s=G);var se=0,_e=function(){};return{s:_e,n:function(){return se>=s.length?{done:!0}:{done:!1,value:s[se++]}},e:function(De){throw De},f:_e}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var he,$=!0,ie=!1;return{s:function(){G=G.call(s)},n:function(){var De=G.next();return $=De.done,De},e:function(De){ie=!0,he=De},f:function(){try{$||G.return==null||G.return()}finally{if(ie)throw he}}}}function ms(s,I){(I==null||I>s.length)&&(I=s.length);for(var G=0,se=new Array(I);G<I;G++)se[G]=s[G];return se}function Bs(s){var I=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var G,se=(0,L.Z)(s);if(I){var _e=(0,L.Z)(this).constructor;G=Reflect.construct(se,arguments,_e)}else G=se.apply(this,arguments);return(0,j.Z)(this,G)}}function fn(s,I){var G=Object.keys(s);if(Object.getOwnPropertySymbols){var se=Object.getOwnPropertySymbols(s);I&&(se=se.filter(function(_e){return Object.getOwnPropertyDescriptor(s,_e).enumerable})),G.push.apply(G,se)}return G}function hn(s){for(var I=1;I<arguments.length;I++){var G=arguments[I]!=null?arguments[I]:{};I%2?fn(Object(G),!0).forEach(function(se){(0,H.Z)(s,se,G[se])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(G)):fn(Object(G)).forEach(function(se){Object.defineProperty(s,se,Object.getOwnPropertyDescriptor(G,se))})}return s}var la=ve().createContext(null),Va=ve().createContext(null),ts={viewport:{isMobile:!1,isLandscape:!1},editor:{isMobile:!1,canFitSidebar:!1},isTouchScreen:!1},cl=ve().createContext(ts);cl.displayName="DeviceContext";var ac=ve().createContext({container:null,id:null});ac.displayName="ExcalidrawContainerContext";var gs=ve().createContext([]);gs.displayName="ExcalidrawElementsContext";var Fs=ve().createContext(hn(hn({},(0,P.im)()),{},{width:0,height:0,offsetLeft:0,offsetTop:0}));Fs.displayName="ExcalidrawAppStateContext";var Hs=ve().createContext(function(){console.warn("unitialized ExcalidrawSetAppStateContext context!")});Hs.displayName="ExcalidrawSetAppStateContext";var wl=ve().createContext(null);wl.displayName="ExcalidrawActionManagerContext";var Tl=function(){return(0,q.useContext)(la)},Pa=function(){return(0,q.useContext)(Va)},ka=function(){return(0,q.useContext)(cl)},Ws=function(){return(0,q.useContext)(ac)},Is=function(){return(0,q.useContext)(gs)},Os=function(){return(0,q.useContext)(Fs)},Us=function(){return(0,q.useContext)(Hs)},sc=function(){return(0,q.useContext)(wl)},El=typeof window<"u"&&"ResizeObserver"in window,ul=!1,ea=0,Yi=!1,_i=!1,Na=!1,Ts={horizontal:null,vertical:null},rs=0,dl=!1,jl=new Map,lc=!1,Wl=0,Vs=!1,Zo=null,ni={pointers:new Map,lastCenter:null,initialDistance:null,initialScale:null},$c=function(s){(0,d.Z)(he,s);var I,G,se,_e=Bs(he);function he($){var ie;(0,N.Z)(this,he),ie=_e.call(this,$),cc.call((0,f.Z)(ie));var De,He=(0,P.im)(),Ve=$.excalidrawAPI,lt=$.viewModeEnabled,dt=lt!==void 0&&lt,vt=$.zenModeEnabled,Ct=vt!==void 0&&vt,Mt=$.gridModeEnabled,Yt=Mt!==void 0&&Mt,ar=$.objectsSnapModeEnabled,Bt=ar!==void 0&&ar,zt=$.theme,$t=zt===void 0?He.theme:zt,dr=$.name,yr=dr===void 0?He.name:dr;if(ie.state=hn(hn(hn({},He),{},{theme:$t,isLoading:!0},ie.getCanvasOffsets()),{},{viewModeEnabled:dt,zenModeEnabled:Ct,objectsSnapModeEnabled:Bt,gridSize:Yt?i.k:null,name:yr,width:window.innerWidth,height:window.innerHeight}),ie.id=(0,J.x0)(),ie.library=new le.ZP((0,f.Z)(ie)),ie.scene=new Z.Z,ie.canvas=document.createElement("canvas"),ie.rc=Se.Z.canvas(ie.canvas),ie.renderer=new Sn(ie.scene),Ve){var lr={updateScene:ie.updateScene,updateLibrary:ie.library.updateLibrary,addFiles:ie.addFiles,resetScene:ie.resetScene,getSceneElementsIncludingDeleted:ie.getSceneElementsIncludingDeleted,history:{clear:ie.resetHistory},scrollToContent:ie.scrollToContent,getSceneElements:ie.getSceneElements,getAppState:function(){return ie.state},getFiles:function(){return ie.files},refresh:ie.refresh,setToast:ie.setToast,id:ie.id,setActiveTool:ie.setActiveTool,setCursor:ie.setCursor,resetCursor:ie.resetCursor,updateFrameRendering:ie.updateFrameRendering,toggleSidebar:ie.toggleSidebar,onChange:function(nr){return ie.onChangeEmitter.on(nr)},onPointerDown:function(nr){return ie.onPointerDownEmitter.on(nr)},onPointerUp:function(nr){return ie.onPointerUpEmitter.on(nr)}};typeof Ve=="function"?Ve(lr):console.error("excalidrawAPI should be a function!")}return ie.excalidrawContainerValue={container:ie.excalidrawContainerRef.current,id:ie.id},ie.fonts=new pi({scene:ie.scene,onSceneUpdated:ie.onSceneUpdated}),ie.history=new Ze,ie.actionManager=new V(ie.syncActionResult,function(){return ie.state},function(){return ie.scene.getElementsIncludingDeleted()},(0,f.Z)(ie)),ie.actionManager.registerAll(D.N),ie.actionManager.registerAction((De=ie.history,{name:"undo",trackEvent:{category:"history"},perform:function(nr,Tr){return m(nr,Tr,function(){return De.undoOnce()})},keyTest:function(nr){return nr[O.tW.CTRL_OR_CMD]&&nr.key.toLowerCase()===O.tW.Z&&!nr.shiftKey},PanelComponent:function(nr){var Tr=nr.updateData,qr=nr.data;return(0,a.jsx)(T.V,{type:"button",icon:K.UE,"aria-label":(0,B.t)("buttons.undo"),onClick:Tr,size:(qr==null?void 0:qr.size)||"medium"})},commitToHistory:function(){return!1}})),ie.actionManager.registerAction(function(nr){return{name:"redo",trackEvent:{category:"history"},perform:function(Tr,qr){return m(Tr,qr,function(){return nr.redoOnce()})},keyTest:function(Tr){return Tr[O.tW.CTRL_OR_CMD]&&Tr.shiftKey&&Tr.key.toLowerCase()===O.tW.Z||i.ED&&Tr.ctrlKey&&!Tr.shiftKey&&Tr.key===O.tW.Y},PanelComponent:function(Tr){var qr=Tr.updateData,pn=Tr.data;return(0,a.jsx)(T.V,{type:"button",icon:K.zG,"aria-label":(0,B.t)("buttons.redo"),onClick:qr,size:(pn==null?void 0:pn.size)||"medium"})},commitToHistory:function(){return!1}}}(ie.history)),ie}return(0,M.Z)(he,[{key:"onWindowMessage",value:function($){if($.origin==="https://player.vimeo.com"||$.origin==="https://www.youtube.com"){var ie=null;try{ie=JSON.parse($.data)}catch{}if(ie)switch($.origin){case"https://player.vimeo.com":if(ie.method==="paused"){var De,He=null,Ve=document.body.querySelectorAll("iframe.excalidraw__embeddable");if(!Ve)break;var lt,dt=Ji(Ve);try{for(dt.s();!(lt=dt.n()).done;){var vt=lt.value;vt.contentWindow===$.source&&(He=vt.contentWindow)}}catch(Yt){dt.e(Yt)}finally{dt.f()}(De=He)===null||De===void 0||De.postMessage(JSON.stringify({method:ie.value?"play":"pause",value:!0}),"*")}break;case"https://www.youtube.com":if(ie.event==="infoDelivery"&&ie.info&&ie.id&&typeof ie.info.playerState=="number"){var Ct=ie.id,Mt=ie.info.playerState;Object.values(i.vf).includes(Mt)&&jl.set(Ct,Mt)}}}}},{key:"updateEmbeddableRef",value:function($,ie){ie&&this.iFrameRefs.set($,ie)}},{key:"getHTMLIFrameElement",value:function($){return this.iFrameRefs.get($)}},{key:"handleEmbeddableCenterClick",value:function($){var ie,De,He,Ve,lt=this;if(((ie=this.state.activeEmbeddable)===null||ie===void 0?void 0:ie.element)!==$||((De=this.state.activeEmbeddable)===null||De===void 0?void 0:De.state)!=="active"){setTimeout(function(){lt.setState({activeEmbeddable:{element:$,state:"active"},selectedElementIds:(0,H.Z)({},$.id,!0),draggingElement:null,selectionElement:null})},100);var dt=this.getHTMLIFrameElement($.id);if(dt!=null&&dt.contentWindow){if(dt.src.includes("youtube")){var vt=jl.get($.id);switch(vt||(jl.set($.id,i.vf.UNSTARTED),dt.contentWindow.postMessage(JSON.stringify({event:"listening",id:$.id}),"*")),vt){case i.vf.PLAYING:case i.vf.BUFFERING:(He=dt.contentWindow)===null||He===void 0||He.postMessage(JSON.stringify({event:"command",func:"pauseVideo",args:""}),"*");break;default:(Ve=dt.contentWindow)===null||Ve===void 0||Ve.postMessage(JSON.stringify({event:"command",func:"playVideo",args:""}),"*")}}dt.src.includes("player.vimeo.com")&&dt.contentWindow.postMessage(JSON.stringify({method:"paused"}),"*")}}}},{key:"isEmbeddableCenter",value:function($,ie,De,He){var Ve,lt;return $&&!ie.altKey&&!ie.shiftKey&&!ie.metaKey&&!ie.ctrlKey&&(((Ve=this.state.activeEmbeddable)===null||Ve===void 0?void 0:Ve.element)!==$||((lt=this.state.activeEmbeddable)===null||lt===void 0?void 0:lt.state)==="hover"||!this.state.activeEmbeddable)&&De>=$.x+$.width/3&&De<=$.x+2*$.width/3&&He>=$.y+$.height/3&&He<=$.y+2*$.height/3}},{key:"renderEmbeddables",value:function(){var $=this,ie=this.state.zoom.value,De=this.state.width,He=this.state.height,Ve=this.scene.getNonDeletedElements().filter(function(lt){return(0,oe.gs)(lt)&&!!lt.validated});return(0,a.jsx)(a.Fragment,{children:Ve.map(function(lt){var dt,vt,Ct,Mt,Yt,ar,Bt,zt,$t,dr=(0,v._i)({sceneX:lt.x,sceneY:lt.y},$.state),yr=dr.x,lr=dr.y,nr=(0,z.LM)((0,sl.ye)(lt.link||"")),Tr=(0,Ie.PZ)(lt,De,He,$.state),qr=((dt=$.state.activeEmbeddable)===null||dt===void 0?void 0:dt.element)===lt&&((vt=$.state.activeEmbeddable)===null||vt===void 0?void 0:vt.state)==="active",pn=((Ct=$.state.activeEmbeddable)===null||Ct===void 0?void 0:Ct.element)===lt&&((Mt=$.state.activeEmbeddable)===null||Mt===void 0?void 0:Mt.state)==="hover";return(0,a.jsx)("div",{className:(0,ge.Z)("excalidraw__embeddable-container",{"is-hovered":pn}),style:(0,H.Z)({transform:Tr?"translate(".concat(yr-$.state.offsetLeft,"px, ").concat(lr-$.state.offsetTop,"px) scale(").concat(ie,")"):"none",display:Tr?"block":"none",opacity:lt.opacity/100},"--embeddable-radius","".concat((0,Ee.yW)(Math.min(lt.width,lt.height),lt),"px")),children:(0,a.jsxs)("div",{className:"excalidraw__embeddable-container__inner",style:{width:Tr?"".concat(lt.width,"px"):0,height:Tr?"".concat(lt.height,"px"):0,transform:Tr?"rotate(".concat(lt.angle,"rad)"):"none",pointerEvents:qr?i.XI.enabled:i.XI.disabled},children:[pn&&(0,a.jsx)("div",{className:"excalidraw__embeddable-hint",children:(0,B.t)("buttons.embeddableInteractionButton")}),(0,a.jsx)("div",{className:"excalidraw__embeddable__outer",style:{padding:"".concat(lt.strokeWidth,"px")},children:(Yt=(ar=(Bt=$.props).renderEmbeddable)===null||ar===void 0?void 0:ar.call(Bt,lt,$.state))!==null&&Yt!==void 0?Yt:(0,a.jsx)("iframe",{ref:function(_n){return $.updateEmbeddableRef(lt.id,_n)},className:"excalidraw__embeddable",srcDoc:(nr==null?void 0:nr.type)==="document"?nr.srcdoc($.state.theme):void 0,src:(nr==null?void 0:nr.type)!=="document"?(zt=nr==null?void 0:nr.link)!==null&&zt!==void 0?zt:"":void 0,scrolling:"no",referrerPolicy:"no-referrer-when-downgrade",title:"Excalidraw Embedded Content",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,sandbox:"".concat(nr!=null&&($t=nr.sandbox)!==null&&$t!==void 0&&$t.allowSameOrigin?"allow-same-origin":""," allow-scripts allow-forms allow-popups allow-popups-to-escape-sandbox allow-presentation allow-downloads")})})]})},lt.id)})})}},{key:"render",value:function(){var $,ie,De,He=this,Ve=this.scene.getSelectedElements(this.state),lt=this.props,dt=lt.renderTopRightUI,vt=lt.renderCustomStats,Ct=this.scene.getVersionNonce(),Mt=this.renderer.getRenderableElements({versionNonce:Ct,zoom:this.state.zoom,offsetLeft:this.state.offsetLeft,offsetTop:this.state.offsetTop,scrollX:this.state.scrollX,scrollY:this.state.scrollY,height:this.state.height,width:this.state.width,editingElement:this.state.editingElement,pendingImageElementId:this.state.pendingImageElementId}),Yt=Mt.canvasElements,ar=Mt.visibleElements,Bt=!(this.state.editingElement&&(0,oe.bt)(this.state.editingElement))&&(this.state.selectionElement||this.state.draggingElement||this.state.resizingElement||this.state.activeTool.type==="laser"&&this.state.cursorButton==="down"||this.state.editingElement&&!(0,fe.iB)(this.state.editingElement));return(0,a.jsx)("div",{className:(0,ge.Z)("excalidraw excalidraw-container",{"excalidraw--view-mode":this.state.viewModeEnabled,"excalidraw--mobile":this.device.editor.isMobile}),style:(0,H.Z)({},"--ui-pointerEvents",Bt?i.XI.disabled:i.XI.enabled),ref:this.excalidrawContainerRef,onDrop:this.handleAppOnDrop,tabIndex:0,onKeyDown:this.props.handleKeyboardGlobally?void 0:this.onKeyDown,children:(0,a.jsx)(la.Provider,{value:this,children:(0,a.jsx)(Va.Provider,{value:this.props,children:(0,a.jsx)(ac.Provider,{value:this.excalidrawContainerValue,children:(0,a.jsx)(cl.Provider,{value:this.device,children:(0,a.jsx)(Hs.Provider,{value:this.setAppState,children:(0,a.jsx)(Fs.Provider,{value:this.state,children:(0,a.jsxs)(gs.Provider,{value:this.scene.getNonDeletedElements(),children:[(0,a.jsxs)(wl.Provider,{value:this.actionManager,children:[(0,a.jsxs)(fs,{canvas:this.canvas,appState:this.state,files:this.files,setAppState:this.setAppState,actionManager:this.actionManager,elements:this.scene.getNonDeletedElements(),onLockToggle:this.toggleLock,onPenModeToggle:this.togglePenMode,onHandToolToggle:this.onHandToolToggle,langCode:(0,B.G3)().code,renderTopRightUI:dt,renderCustomStats:vt,showExitZenModeBtn:(($=this.props)===null||$===void 0?void 0:$.zenModeEnabled)===void 0&&this.state.zenModeEnabled,UIOptions:this.props.UIOptions,onExportImage:this.onExportImage,renderWelcomeScreen:!this.state.isLoading&&this.state.showWelcomeScreen&&this.state.activeTool.type==="selection"&&!this.state.zenModeEnabled&&!this.scene.getElementsIncludingDeleted().length,app:this,isCollaborating:this.props.isCollaborating,children:[this.props.children,this.state.openDialog==="mermaid"&&(0,a.jsx)(ro,{})]}),(0,a.jsx)("div",{className:"excalidraw-textEditorContainer"}),(0,a.jsx)("div",{className:"excalidraw-contextMenuContainer"}),(0,a.jsx)("div",{className:"excalidraw-eye-dropper-container"}),(0,a.jsx)(Bi,{manager:this.laserPathManager}),Ve.length===1&&!this.state.contextMenu&&this.state.showHyperlinkPopup&&(0,a.jsx)(La.nW,{element:Ve[0],setAppState:this.setAppState,onLinkOpen:this.props.onLinkOpen,setToast:this.setToast},Ve[0].id),this.state.toast!==null&&(0,a.jsx)(Fl,{message:this.state.toast.message,onClose:function(){return He.setToast(null)},duration:this.state.toast.duration,closable:this.state.toast.closable}),this.state.contextMenu&&(0,a.jsx)(ft,{items:this.state.contextMenu.items,top:this.state.contextMenu.top,left:this.state.contextMenu.left,actionManager:this.actionManager,onClose:function(zt){He.setState({contextMenu:null},function(){He.focusContainer(),zt==null||zt()})}}),(0,a.jsx)(tn,{canvas:this.canvas,rc:this.rc,elements:Yt,visibleElements:ar,versionNonce:Ct,selectionNonce:(ie=this.state.selectionElement)===null||ie===void 0?void 0:ie.versionNonce,scale:window.devicePixelRatio,appState:this.state,renderConfig:{imageCache:this.imageCache,isExporting:!1,renderGrid:!0}}),(0,a.jsx)(Ar,{containerRef:this.excalidrawContainerRef,canvas:this.interactiveCanvas,elements:Yt,visibleElements:ar,selectedElements:Ve,versionNonce:Ct,selectionNonce:(De=this.state.selectionElement)===null||De===void 0?void 0:De.versionNonce,scale:window.devicePixelRatio,appState:this.state,renderInteractiveSceneCallback:this.renderInteractiveSceneCallback,handleCanvasRef:this.handleInteractiveCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.handleCanvasPointerUp,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onPointerDown:this.handleCanvasPointerDown,onDoubleClick:this.handleCanvasDoubleClick}),this.renderFrameNames()]}),this.renderEmbeddables()]})})})})})})})})}},{key:"componentDidMount",value:(se=(0,w.Z)(S().mark(function $(){var ie,De=this;return S().wrap(function(He){for(;;)switch(He.prev=He.next){case 0:this.unmounted=!1,this.excalidrawContainerValue.container=this.excalidrawContainerRef.current,i.Vi.TEST==="production"&&(this.setState.bind(this),Object.defineProperties(window.h,{state:{configurable:!0,get:function(){return De.state}},setState:{configurable:!0,value:function(){return De.setState.apply(De,arguments)}},app:{configurable:!0,value:this},history:{configurable:!0,value:this.history}})),this.scene.addCallback(this.onSceneUpdated),this.addEventListeners(),this.props.autoFocus&&this.excalidrawContainerRef.current&&this.focusContainer(),(0,v.h2)()||(this.refreshViewportBreakpoints(),this.refreshEditorBreakpoints()),El&&this.excalidrawContainerRef.current&&(this.resizeObserver=new ResizeObserver(function(){De.refreshEditorBreakpoints(),De.updateDOMRect()}),(ie=this.resizeObserver)===null||ie===void 0||ie.observe(this.excalidrawContainerRef.current)),new URLSearchParams(window.location.search.slice(1)).has("web-share-target")?this.restoreFileFromShare():this.updateDOMRect(this.initializeScene),(0,i.jP)()&&!(0,At.eB)()&&this.setState({errorMessage:(0,a.jsx)(ir,{})});case 11:case"end":return He.stop()}},$,this)})),function(){return se.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){var $;this.renderer.destroy(),this.scene=new Z.Z,this.renderer=new Sn(this.scene),this.files={},this.imageCache.clear(),($=this.resizeObserver)===null||$===void 0||$.disconnect(),this.unmounted=!0,this.removeEventListeners(),this.scene.destroy(),this.library.destroy(),this.laserPathManager.destroy(),this.onChangeEmitter.destroy(),Wi.R.destroy(),ei.destroy(),clearTimeout(rs),xe.N.clearCache(),qe.bO.clearCache(),rs=0}},{key:"removeEventListeners",value:function(){var $,ie,De,He;document.removeEventListener(i.Ks.POINTER_UP,this.removePointer),document.removeEventListener(i.Ks.COPY,this.onCopy),document.removeEventListener(i.Ks.PASTE,this.pasteFromClipboard),document.removeEventListener(i.Ks.CUT,this.onCut),($=this.excalidrawContainerRef.current)===null||$===void 0||$.removeEventListener(i.Ks.WHEEL,this.onWheel),(ie=this.nearestScrollableContainer)===null||ie===void 0||ie.removeEventListener(i.Ks.SCROLL,this.onScroll),document.removeEventListener(i.Ks.KEYDOWN,this.onKeyDown,!1),document.removeEventListener(i.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition,!1),document.removeEventListener(i.Ks.KEYUP,this.onKeyUp),window.removeEventListener(i.Ks.RESIZE,this.onResize,!1),window.removeEventListener(i.Ks.UNLOAD,this.onUnload,!1),window.removeEventListener(i.Ks.BLUR,this.onBlur,!1),(De=this.excalidrawContainerRef.current)===null||De===void 0||De.removeEventListener(i.Ks.DRAG_OVER,this.disableEvent,!1),(He=this.excalidrawContainerRef.current)===null||He===void 0||He.removeEventListener(i.Ks.DROP,this.disableEvent,!1),document.removeEventListener(i.Ks.GESTURE_START,this.onGestureStart,!1),document.removeEventListener(i.Ks.GESTURE_CHANGE,this.onGestureChange,!1),document.removeEventListener(i.Ks.GESTURE_END,this.onGestureEnd,!1),window.removeEventListener(i.Ks.MESSAGE,this.onWindowMessage,!1)}},{key:"addEventListeners",value:function(){var $,ie,De,He,Ve,lt=this;this.removeEventListeners(),window.addEventListener(i.Ks.MESSAGE,this.onWindowMessage,!1),document.addEventListener(i.Ks.POINTER_UP,this.removePointer),document.addEventListener(i.Ks.COPY,this.onCopy),($=this.excalidrawContainerRef.current)===null||$===void 0||$.addEventListener(i.Ks.WHEEL,this.onWheel,{passive:!1}),this.props.handleKeyboardGlobally&&document.addEventListener(i.Ks.KEYDOWN,this.onKeyDown,!1),document.addEventListener(i.Ks.KEYUP,this.onKeyUp,{passive:!0}),document.addEventListener(i.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition),(ie=document.fonts)===null||ie===void 0||(De=ie.addEventListener)===null||De===void 0||De.call(ie,"loadingdone",function(dt){var vt=dt.fontfaces;lt.fonts.onFontsLoaded(vt)}),document.addEventListener(i.Ks.GESTURE_START,this.onGestureStart,!1),document.addEventListener(i.Ks.GESTURE_CHANGE,this.onGestureChange,!1),document.addEventListener(i.Ks.GESTURE_END,this.onGestureEnd,!1),this.state.viewModeEnabled||(document.addEventListener(i.Ks.PASTE,this.pasteFromClipboard),document.addEventListener(i.Ks.CUT,this.onCut),this.props.detectScroll&&(this.nearestScrollableContainer=(0,v.Ip)(this.excalidrawContainerRef.current),this.nearestScrollableContainer.addEventListener(i.Ks.SCROLL,this.onScroll)),window.addEventListener(i.Ks.RESIZE,this.onResize,!1),window.addEventListener(i.Ks.UNLOAD,this.onUnload,!1),window.addEventListener(i.Ks.BLUR,this.onBlur,!1),(He=this.excalidrawContainerRef.current)===null||He===void 0||He.addEventListener(i.Ks.DRAG_OVER,this.disableEvent,!1),(Ve=this.excalidrawContainerRef.current)===null||Ve===void 0||Ve.addEventListener(i.Ks.DROP,this.disableEvent,!1))}},{key:"componentDidUpdate",value:function($,ie){var De,He,Ve,lt,dt=this;this.updateEmbeddables(),this.state.showWelcomeScreen||this.scene.getElementsIncludingDeleted().length||this.setState({showWelcomeScreen:!0}),$.UIOptions.dockedSidebarBreakpoint!==this.props.UIOptions.dockedSidebarBreakpoint&&this.refreshEditorBreakpoints(),(ie.scrollX!==this.state.scrollX||ie.scrollY!==this.state.scrollY)&&((Ve=this.props)===null||Ve===void 0||(lt=Ve.onScrollChange)===null||lt===void 0||lt.call(Ve,this.state.scrollX,this.state.scrollY)),Object.keys(this.state.selectedElementIds).length&&(0,P.EN)(this.state)&&this.setState({activeTool:(0,v.Om)(this.state,{type:"selection"})}),this.state.activeTool.type==="eraser"&&ie.theme!==this.state.theme&&(0,Oo.OF)(this.interactiveCanvas,this.state.theme),ie.activeTool.type==="selection"&&this.state.activeTool.type!=="selection"&&this.state.showHyperlinkPopup&&this.setState({showHyperlinkPopup:!1}),$.langCode!==this.props.langCode&&this.updateLanguage(),$.viewModeEnabled!==this.props.viewModeEnabled&&this.setState({viewModeEnabled:!!this.props.viewModeEnabled}),ie.viewModeEnabled!==this.state.viewModeEnabled&&(this.addEventListeners(),this.deselectElements()),$.zenModeEnabled!==this.props.zenModeEnabled&&this.setState({zenModeEnabled:!!this.props.zenModeEnabled}),$.theme!==this.props.theme&&this.props.theme&&this.setState({theme:this.props.theme}),$.gridModeEnabled!==this.props.gridModeEnabled&&this.setState({gridSize:this.props.gridModeEnabled?i.k:null}),this.props.name&&$.name!==this.props.name&&this.setState({name:this.props.name}),(De=this.excalidrawContainerRef.current)===null||De===void 0||De.classList.toggle("theme--dark",this.state.theme==="dark"),this.state.editingLinearElement&&!this.state.selectedElementIds[this.state.editingLinearElement.elementId]&&setTimeout(function(){dt.state.editingLinearElement&&dt.actionManager.executeAction(Q.pL)}),(He=this.state.editingElement)!==null&&He!==void 0&&He.isDeleted&&this.setState({editingElement:null}),this.state.selectedLinearElement&&!this.state.selectedElementIds[this.state.selectedLinearElement.elementId]&&this.setState({selectedLinearElement:null});var vt,Ct,Mt=ie.multiElement;ie.activeTool!==this.state.activeTool&&Mt!=null&&(0,E.N1)(this.state)&&(0,oe.Mn)(Mt,!1)&&(0,E.R)(Mt,this.state,this.scene,(0,v.AK)(pe._.getPointAtIndexGlobalCoordinates(Mt,-1))),this.history.record(this.state,this.scene.getElementsIncludingDeleted()),this.state.isLoading||((vt=(Ct=this.props).onChange)===null||vt===void 0||vt.call(Ct,this.scene.getElementsIncludingDeleted(),this.state,this.files),this.onChangeEmitter.trigger(this.scene.getElementsIncludingDeleted(),this.state,this.files))}},{key:"addElementsFromMixedContentPaste",value:(G=(0,w.Z)(S().mark(function $(ie,De){var He,Ve,lt,dt,vt,Ct,Mt,Yt,ar,Bt,zt,$t,dr,yr,lr;return S().wrap(function(nr){for(;;)switch(nr.prev=nr.next){case 0:if(He=De.isPlainPaste,Ve=De.sceneX,lt=De.sceneY,He||!ie.some(function(Tr){return Tr.type==="imageUrl"})||!this.isToolSupported("image")){nr.next=35;break}return dt=ie.filter(function(Tr){return Tr.type==="imageUrl"}).map(function(Tr){return Tr.value}),nr.next=5,Promise.all(dt.map(function(){var Tr=(0,w.Z)(S().mark(function qr(pn){return S().wrap(function(_n){for(;;)switch(_n.prev=_n.next){case 0:return _n.prev=0,_n.next=3,(0,Sr._p)(pn);case 3:return _n.t0=_n.sent,_n.abrupt("return",{file:_n.t0});case 7:return _n.prev=7,_n.t1=_n.catch(0),_n.abrupt("return",{errorMessage:_n.t1.message});case 10:case"end":return _n.stop()}},qr,null,[[0,7]])}));return function(qr){return Tr.apply(this,arguments)}}()));case 5:vt=nr.sent,Ct=lt,Mt=!1,Yt={},ar=Ji(vt),nr.prev=10,ar.s();case 12:if((Bt=ar.n()).done){nr.next=22;break}if(!(zt=Bt.value).file){nr.next=20;break}return $t=this.createImageElement({sceneX:Ve,sceneY:Ct}),nr.next=18,this.insertImageElement($t,zt.file);case 18:(dr=nr.sent)&&(Mt||(Mt=!0,Ct-=dr.height/2),(0,R.DR)(dr,{y:Ct},!1),Ct=$t.y+$t.height+25,Yt[$t.id]=!0);case 20:nr.next=12;break;case 22:nr.next=27;break;case 24:nr.prev=24,nr.t0=nr.catch(10),ar.e(nr.t0);case 27:return nr.prev=27,ar.f(),nr.finish(27);case 30:this.setState({selectedElementIds:(0,Jo.Oh)(Yt,this.state)}),yr=vt.find(function(Tr){return!!Tr.errorMessage}),yr&&yr.errorMessage&&this.setState({errorMessage:yr.errorMessage}),nr.next=37;break;case 35:(lr=ie.filter(function(Tr){return Tr.type==="text"})).length&&this.addTextFromPaste(lr.map(function(Tr){return Tr.value}).join(`

`),He);case 37:case"end":return nr.stop()}},$,this,[[10,24,27,30]])})),function($,ie){return G.apply(this,arguments)})},{key:"addTextFromPaste",value:function($){var ie=this,De=arguments.length>1&&arguments[1]!==void 0&&arguments[1],He=(0,v.dE)({clientX:this.lastViewportPosition.x,clientY:this.lastViewportPosition.y},this.state),Ve=He.x,lt=He.y,dt={x:Ve,y:lt,strokeColor:this.state.currentItemStrokeColor,backgroundColor:this.state.currentItemBackgroundColor,fillStyle:this.state.currentItemFillStyle,strokeWidth:this.state.currentItemStrokeWidth,strokeStyle:this.state.currentItemStrokeStyle,roundness:null,roughness:this.state.currentItemRoughness,opacity:this.state.currentItemOpacity,text:$,fontSize:this.state.currentItemFontSize,fontFamily:this.state.currentItemFontFamily,textAlign:this.state.currentItemTextAlign,verticalAlign:i.hs,locked:!1},vt=10,Ct=lt,Mt=De?[$]:$.split(`
`),Yt=Mt.reduce(function(Bt,zt,$t){var dr=zt.trim(),yr=(0,At.PT)(dt.fontFamily);if(dr.length){var lr=ie.getTopLayerFrameAtSceneCoords({x:Ve,y:Ct}),nr=(0,fe.VL)(hn(hn({},dt),{},{x:Ve,y:Ct,text:dr,lineHeight:yr,frameId:lr?lr.id:null}));Bt.push(nr),Ct+=nr.height+vt}else{var Tr;!((Tr=Mt[$t-1])===null||Tr===void 0)&&Tr.trim()&&(Ct+=(0,At.Rg)(dt.fontSize,yr)+vt)}return Bt},[]);if(Yt.length!==0){var ar=Yt[0].frameId;ar?this.scene.insertElementsAtIndex(Yt,this.scene.getElementIndex(ar)):this.scene.replaceAllElements([].concat((0,b.Z)(this.scene.getElementsIncludingDeleted()),(0,b.Z)(Yt))),this.setState({selectedElementIds:(0,Jo.Oh)(Object.fromEntries(Yt.map(function(Bt){return[Bt.id,!0]})),this.state)}),!De&&Yt.length>1&&Vs===!1&&!this.device.editor.isMobile&&(this.setToast({message:(0,B.t)("toast.pasteAsSingleElement",{shortcut:(0,v.uY)("CtrlOrCmd+Shift+V")}),duration:5e3}),Vs=!0),this.history.resumeRecording()}}},{key:"handleTextWysiwyg",value:function($,ie){var De=this,He=ie.isExistingElement,Ve=He!==void 0&&He,lt=function(dt,vt,Ct){De.scene.replaceAllElements((0,b.Z)(De.scene.getElementsIncludingDeleted().map(function(Mt){return Mt.id===$.id&&(0,fe.iB)(Mt)?(0,fe.N_)(Mt,{text:dt,isDeleted:Ct,originalText:vt}):Mt})))};(0,fe.b_)({id:$.id,canvas:this.canvas,getViewportCoords:function(dt,vt){var Ct=(0,v._i)({sceneX:dt,sceneY:vt},De.state),Mt=Ct.x,Yt=Ct.y;return[Mt-De.state.offsetLeft,Yt-De.state.offsetTop]},onChange:(0,v.tH)(function(dt){lt(dt,dt,!1),(0,fe.qP)($)&&(0,E.Ww)($)}),onSubmit:(0,v.tH)(function(dt){var vt=dt.text,Ct=dt.viaKeyboard,Mt=dt.originalText,Yt=!vt.trim();if(lt(vt,Mt,Yt),!Yt&&Ct){var ar=$.containerId?$.containerId:$.id;De.setState(function(Bt){return{selectedElementIds:(0,Jo.Oh)(hn(hn({},Bt.selectedElementIds),{},(0,H.Z)({},ar,!0)),Bt)}})}Yt&&(0,E.$q)(De.scene.getNonDeletedElements(),[$]),Yt&&!Ve||De.history.resumeRecording(),De.setState({draggingElement:null,editingElement:null}),De.state.activeTool.locked&&(0,Oo.Uk)(De.interactiveCanvas,De.state),De.focusContainer()}),element:$,excalidrawContainer:this.excalidrawContainerRef.current,app:this}),this.deselectElements(),lt($.text,$.originalText,!1)}},{key:"deselectElements",value:function(){this.setState({selectedElementIds:(0,Jo.Oh)({},this.state),selectedGroupIds:{},editingGroupId:null,activeEmbeddable:null})}},{key:"getTextElementAtPosition",value:function($,ie){var De=this.getElementAtPosition($,ie,{includeBoundTextElement:!0});return De&&(0,fe.iB)(De)&&!De.isDeleted?De:null}},{key:"getElementAtPosition",value:function($,ie,De){var He=this.getElementsAtPosition($,ie,De==null?void 0:De.includeBoundTextElement,De==null?void 0:De.includeLockedElements);if(He.length>1){if(De!=null&&De.preferSelected){for(var Ve=He.length-1;Ve>-1;Ve--)if(this.state.selectedElementIds[He[Ve].id])return He[Ve]}var lt=He[He.length-1];return(0,fe.wB)(lt,this.state,this.frameNameBoundsCache,$,ie)?He[He.length-2]:lt}return He.length===1?He[0]:null}},{key:"getElementsAtPosition",value:function($,ie){var De=this,He=arguments.length>2&&arguments[2]!==void 0&&arguments[2],Ve=arguments.length>3&&arguments[3]!==void 0&&arguments[3],lt=He&&Ve?this.scene.getNonDeletedElements():this.scene.getNonDeletedElements().filter(function(dt){return(Ve||!dt.locked)&&(He||!((0,fe.iB)(dt)&&dt.containerId))});return(0,xe.CJ)(lt,function(dt){return(0,fe.wX)(dt,De.state,De.frameNameBoundsCache,$,ie)}).filter(function(dt){var vt=(0,uo.$Z)(dt);return!(vt&&De.state.frameRendering.enabled&&De.state.frameRendering.clip)||(0,uo.Dn)({x:$,y:ie},vt)})}},{key:"handleHoverSelectedLinearElement",value:function($,ie,De){var He=pe._.getElement($.elementId),Ve=(0,At.WJ)(He);if(He)if(this.state.selectedLinearElement){var lt=-1,dt=null;(0,ps.Qu)(He,this.state,this.frameNameBoundsCache,[ie,De])?(lt=pe._.getPointIndexUnderCursor(He,this.state.zoom,ie,De),dt=pe._.getSegmentMidpointHitCoords($,{x:ie,y:De},this.state),lt>=0||dt?(0,Oo.KJ)(this.interactiveCanvas,i.oc.POINTER):(0,Oo.KJ)(this.interactiveCanvas,i.oc.MOVE)):((0,Il.oY)([He],this.state)&&(0,fe.wB)(He,this.state,this.frameNameBoundsCache,ie,De)||Ve&&(0,fe.wX)(Ve,this.state,this.frameNameBoundsCache,ie,De))&&(0,Oo.KJ)(this.interactiveCanvas,i.oc.MOVE),this.state.selectedLinearElement.hoverPointIndex!==lt&&this.setState({selectedLinearElement:hn(hn({},this.state.selectedLinearElement),{},{hoverPointIndex:lt})}),pe._.arePointsEqual(this.state.selectedLinearElement.segmentMidPointHoveredCoords,dt)||this.setState({selectedLinearElement:hn(hn({},this.state.selectedLinearElement),{},{segmentMidPointHoveredCoords:dt})})}else(0,Oo.KJ)(this.interactiveCanvas,i.oc.AUTO)}},{key:"maybeCleanupAfterMissingPointerUp",value:function($){Zo!==null&&Zo($)}},{key:"updateGestureOnPointerDown",value:function($){ni.pointers.set($.pointerId,{x:$.clientX,y:$.clientY}),ni.pointers.size===2&&(ni.lastCenter=be(ni.pointers),ni.initialScale=this.state.zoom.value,ni.initialDistance=Me(Array.from(ni.pointers.values())))}},{key:"initialPointerDownState",value:function($){var ie=(0,v.dE)($,this.state),De=this.scene.getSelectedElements(this.state),He=(0,fe.KP)(De),Ve=(0,k.Z)(He,4),lt=Ve[0],dt=Ve[1],vt=Ve[2],Ct=Ve[3];return{origin:ie,withCmdOrCtrl:$[O.tW.CTRL_OR_CMD],originInGrid:(0,v.AK)((0,Ee.wC)(ie.x,ie.y,$[O.tW.CTRL_OR_CMD]?null:this.state.gridSize)),scrollbars:(0,xe._4)(Ts,$.clientX-this.state.offsetLeft,$.clientY-this.state.offsetTop),lastCoords:hn({},ie),originalElements:this.scene.getNonDeletedElements().reduce(function(Mt,Yt){return Mt.set(Yt.id,(0,ne.OL)(Yt)),Mt},new Map),resize:{handleType:!1,isResizing:!1,offset:{x:0,y:0},arrowDirection:"origin",center:{x:(vt+lt)/2,y:(Ct+dt)/2}},hit:{element:null,allHitElements:[],wasAddedToSelection:!1,hasBeenDuplicated:!1,hasHitCommonBoundingBoxOfSelectedElements:this.isHittingCommonBoundingBoxOfSelectedElements(ie,De)},drag:{hasOccurred:!1,offset:null},eventListeners:{onMove:null,onUp:null,onKeyUp:null,onKeyDown:null},boxSelection:{hasOccurred:!1},elementIdsToErase:{}}}},{key:"handleDraggingScrollBar",value:function($,ie){var De=this;if(!ie.scrollbars.isOverEither||this.state.multiElement)return!1;Na=!0,ie.lastCoords.x=$.clientX,ie.lastCoords.y=$.clientY;var He=(0,v.$9)(function(lt){lt.target instanceof HTMLElement&&De.handlePointerMoveOverScrollbars(lt,ie)}),Ve=(0,v.tH)(function(){Na=!1,(0,Oo.Uk)(De.interactiveCanvas,De.state),Zo=null,De.setState({cursorButton:"up"}),De.savePointer($.clientX,$.clientY,"up"),window.removeEventListener(i.Ks.POINTER_MOVE,He),window.removeEventListener(i.Ks.POINTER_UP,Ve),He.flush()});return Zo=Ve,window.addEventListener(i.Ks.POINTER_MOVE,He),window.addEventListener(i.Ks.POINTER_UP,Ve),!0}},{key:"isASelectedElement",value:function($){return $!=null&&this.state.selectedElementIds[$.id]}},{key:"isHittingCommonBoundingBoxOfSelectedElements",value:function($,ie){if(ie.length<2)return!1;var De=10/this.state.zoom.value,He=(0,fe.KP)(ie),Ve=(0,k.Z)(He,4),lt=Ve[0],dt=Ve[1],vt=Ve[2],Ct=Ve[3];return $.x>lt-De&&$.x<vt+De&&$.y>dt-De&&$.y<Ct+De}},{key:"getCurrentItemRoundness",value:function($){return this.state.currentItemRoundness==="round"?{type:(0,oe.QI)($)?i.a6.ADAPTIVE_RADIUS:i.a6.PROPORTIONAL_RADIUS}:null}},{key:"maybeCacheReferenceSnapPoints",value:function($,ie){var De=arguments.length>2&&arguments[2]!==void 0&&arguments[2];!ha({event:$,appState:this.state,selectedElements:ie})||!De&&ei.getReferenceSnapPoints()||ei.setReferenceSnapPoints(Xe(this.scene.getNonDeletedElements(),ie,this.state))}},{key:"maybeCacheVisibleGaps",value:function($,ie){var De=arguments.length>2&&arguments[2]!==void 0&&arguments[2];!ha({event:$,appState:this.state,selectedElements:ie})||!De&&ei.getVisibleGaps()||ei.setVisibleGaps(ut(this.scene.getNonDeletedElements(),ie,this.state))}},{key:"onKeyDownFromPointerDownHandler",value:function($){var ie=this;return(0,v.tH)(function(De){ie.maybeHandleResize($,De)||ie.maybeDragNewGenericElement($,De)})}},{key:"onKeyUpFromPointerDownHandler",value:function($){var ie=this;return(0,v.tH)(function(De){De.key===O.tW.ALT&&De.preventDefault(),ie.maybeHandleResize($,De)||ie.maybeDragNewGenericElement($,De)})}},{key:"onPointerMoveFromPointerDownHandler",value:function($){var ie=this;return(0,v.$9)(function(De){var He;if($.drag.offset===null&&($.drag.offset=(0,v.AK)((0,fe.$V)(ie.scene.getSelectedElements(ie.state),$.origin.x,$.origin.y))),De.target instanceof HTMLElement&&!ie.handlePointerMoveOverScrollbars(De,$)){var Ve=(0,v.dE)(De,ie.state);if((0,P.EN)(ie.state))ie.handleEraser(De,$,Ve);else{ie.state.activeTool.type==="laser"&&ie.laserPathManager.addPointToPath(Ve.x,Ve.y);var lt=(0,Ee.wC)(Ve.x,Ve.y,De[O.tW.CTRL_OR_CMD]?null:ie.state.gridSize),dt=(0,k.Z)(lt,2),vt=dt[0],Ct=dt[1];if($.drag.hasOccurred||ie.state.activeTool.type!=="arrow"&&ie.state.activeTool.type!=="line"||!((0,Ee.LW)(Ve.x,Ve.y,$.origin.x,$.origin.y)<i.f)){if($.resize.isResizing&&($.lastCoords.x=Ve.x,$.lastCoords.y=Ve.y,ie.maybeHandleResize($,De)))return!0;if(ie.state.selectedLinearElement){var Mt=ie.state.editingLinearElement||ie.state.selectedLinearElement;if(pe._.shouldAddMidpoint(ie.state.selectedLinearElement,Ve,ie.state)){var Yt=pe._.addMidpoint(ie.state.selectedLinearElement,Ve,ie.state,!De[O.tW.CTRL_OR_CMD]);return Yt?void(0,ke.flushSync)(function(){ie.state.selectedLinearElement&&ie.setState({selectedLinearElement:hn(hn({},ie.state.selectedLinearElement),{},{pointerDownState:Yt.pointerDownState,selectedPointsIndices:Yt.selectedPointsIndices})}),ie.state.editingLinearElement&&ie.setState({editingLinearElement:hn(hn({},ie.state.editingLinearElement),{},{pointerDownState:Yt.pointerDownState,selectedPointsIndices:Yt.selectedPointsIndices})})}):void 0}if(Mt.pointerDownState.segmentMidpoint.value!==null&&!Mt.pointerDownState.segmentMidpoint.added)return;var ar=pe._.handlePointDragging(De,ie.state,Ve.x,Ve.y,function(ko,xi){ie.maybeSuggestBindingsForLinearElementAtCoords(ko,xi)},Mt);if(ar)return $.lastCoords.x=Ve.x,$.lastCoords.y=Ve.y,$.drag.hasOccurred=!0,ie.state.editingLinearElement&&!ie.state.editingLinearElement.isDragging&&ie.setState({editingLinearElement:hn(hn({},ie.state.editingLinearElement),{},{isDragging:!0})}),void(ie.state.selectedLinearElement.isDragging||ie.setState({selectedLinearElement:hn(hn({},ie.state.selectedLinearElement),{},{isDragging:!0})}))}var Bt=$.hit.allHitElements.some(function(ko){return ie.isASelectedElement(ko)}),zt=ie.state.editingLinearElement&&De.shiftKey&&ie.state.editingLinearElement.elementId===((He=$.hit.element)===null||He===void 0?void 0:He.id);if((Bt||$.hit.hasHitCommonBoundingBoxOfSelectedElements)&&!zt){var $t,dr=ie.scene.getSelectedElements(ie.state);if(dr.every(function(ko){return ko.locked}))return;var yr=dr.find(function(ko){return(0,oe.He)(ko)}),lr=ie.getTopLayerFrameAtSceneCoords(Ve);if(ie.setState({frameToHighlight:lr&&!yr?lr:null}),$.drag.hasOccurred=!0,ie.setState({selectedElementsAreBeingDragged:!0}),dr.length>0&&!$.withCmdOrCtrl&&!ie.state.editingElement&&(($t=ie.state.activeEmbeddable)===null||$t===void 0?void 0:$t.state)!=="active"){var nr={x:Ve.x-$.origin.x,y:Ve.y-$.origin.y},Tr=(0,b.Z)($.originalElements.values()),qr=De.shiftKey;if(qr){var pn=Math.abs(nr.x),_n=Math.abs(nr.y),Nn=qr&&pn>_n;qr&&pn<_n&&(nr.x=0),Nn&&(nr.y=0)}ie.maybeCacheVisibleGaps(De,dr),ie.maybeCacheReferenceSnapPoints(De,dr);var Un=function(ko,xi,oa,Ks){var Kl,fl,Gl,os;if(!ha({appState:oa,event:Ks,selectedElements:ko})||ko.length===0)return{snapOffset:{x:0,y:0},snapLines:[]};xi.x=ct(xi.x),xi.y=ct(xi.y);var pa=[],Gs=[],hl=si(oa.zoom.value),Pl={x:hl,y:hl},kc=Ss(ko,{dragOffset:xi});Je(ko,kc,oa,Ks,pa,Gs,Pl),Ae(ko,xi,oa,Ks,pa,Gs,Pl);var Yl={x:(Kl=(fl=pa[0])===null||fl===void 0?void 0:fl.offset)!==null&&Kl!==void 0?Kl:0,y:(Gl=(os=Gs[0])===null||os===void 0?void 0:os.offset)!==null&&Gl!==void 0?Gl:0};Pl.x=0,Pl.y=0,pa.length=0,Gs.length=0;var _c={x:ct(xi.x+Yl.x),y:ct(xi.y+Yl.y)};Je(ko,Ss(ko,{dragOffset:_c}),oa,Ks,pa,Gs,Pl),Ae(ko,_c,oa,Ks,pa,Gs,Pl);var Xc=_t(pa,Gs),yu=Et(ko,_c,[].concat(pa,Gs).filter(function(sf){return sf.type==="gap"}));return{snapOffset:Yl,snapLines:[].concat(Xc,yu)}}((0,xe.eD)(Tr,ie.state),nr,ie.state,De),kn=Un.snapOffset,vn=Un.snapLines;if(ie.setState({snapLines:vn}),!ie.state.editingFrame&&(0,fe.o8)($,dr,nr,ie.state,ie.scene,kn,De[O.tW.CTRL_OR_CMD]?null:ie.state.gridSize),ie.maybeSuggestBindingForAll(dr),De.altKey&&!$.hit.hasBeenDuplicated){$.hit.hasBeenDuplicated=!0;var An,jn=[],qn=[],oo=new Map,no=new Map,so=$.hit.element,zn=new Set(ie.scene.getSelectedElements({selectedElementIds:ie.state.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0}).map(function(ko){return ko.id})),Mn=Ji(ie.scene.getElementsIncludingDeleted());try{for(Mn.s();!(An=Mn.n()).done;){var Jn=An.value;if(zn.has(Jn.id)||Jn.id===(so==null?void 0:so.id)&&$.hit.wasAddedToSelection){var Ro=(0,fe.Sy)(ie.state.editingGroupId,oo,Jn),Do=$.originalElements.get(Jn.id);(0,R.DR)(Ro,{x:Do.x,y:Do.y}),$.originalElements.set(Ro.id,Ro),jn.push(Ro),qn.push(Jn),no.set(Jn.id,Ro.id)}else jn.push(Jn)}}catch(ko){Mn.e(ko)}finally{Mn.f()}var Eo=[].concat(jn,qn);(0,At.P7)(jn,qn,no),(0,E.ek)(Eo,qn,no,"duplicatesServeAsOld"),(0,uo.xr)(Eo,qn,no),ie.scene.replaceAllElements(Eo),ie.maybeCacheVisibleGaps(De,dr,!0),ie.maybeCacheReferenceSnapPoints(De,dr,!0)}return}}var To=ie.state.draggingElement;if(To){if(To.type==="freedraw"){var ho=To.points,po=Ve.x-To.x,zo=Ve.y-To.y,Xi=ho.length>0&&ho[ho.length-1];if(!(Xi&&Xi[0]===po&&Xi[1]===zo)){var Vn=To.simulatePressure?To.pressures:[].concat((0,b.Z)(To.pressures),[De.pressure]);(0,R.DR)(To,{points:[].concat((0,b.Z)(ho),[[po,zo]]),pressures:Vn})}}else if((0,oe.bt)(To)){$.drag.hasOccurred=!0,ie.setState({selectedElementsAreBeingDragged:!0});var Pn=To.points,yo=vt-To.x,Ho=Ct-To.y;if((0,O.Ge)(De)&&Pn.length===2){var oi=(0,fe.o4)(To.x,To.y,Ve.x,Ve.y);yo=oi.width,Ho=oi.height}Pn.length===1?(0,R.DR)(To,{points:[].concat((0,b.Z)(Pn),[[yo,Ho]])}):Pn.length===2&&(0,R.DR)(To,{points:[].concat((0,b.Z)(Pn.slice(0,-1)),[[yo,Ho]])}),(0,oe.Mn)(To,!1)&&ie.maybeSuggestBindingsForLinearElementAtCoords(To,[Ve],ie.state.startBoundElement)}else $.lastCoords.x=Ve.x,$.lastCoords.y=Ve.y,ie.maybeDragNewGenericElement($,De);if(ie.state.activeTool.type==="selection"){$.boxSelection.hasOccurred=!0;var li=ie.scene.getNonDeletedElements();if(ie.state.editingLinearElement)pe._.handleBoxSelection(De,ie.state,ie.setState.bind(ie));else{var gi=!0;!De.shiftKey&&(0,xe.N)(li,ie.state)&&($.withCmdOrCtrl&&$.hit.element?ie.setState(function(ko){return(0,qe.bO)(hn(hn({},ko),{},{selectedElementIds:(0,H.Z)({},$.hit.element.id,!0)}),ie.scene.getNonDeletedElements(),ko,ie)}):gi=!1);var jo=(0,xe.Yp)(li,To);ie.setState(function(ko){var xi=hn(hn({},gi&&ko.selectedElementIds),jo.reduce(function(oa,Ks){return oa[Ks.id]=!0,oa},{}));return $.hit.element&&(jo.length?delete xi[$.hit.element.id]:xi[$.hit.element.id]=!0),ko=gi?ko:hn(hn({},ko),{},{selectedGroupIds:{},editingGroupId:null}),hn(hn({},(0,qe.bO)({editingGroupId:ko.editingGroupId,selectedElementIds:xi},ie.scene.getNonDeletedElements(),ko,ie)),{},{selectedLinearElement:jo.length===1&&(0,oe.bt)(jo[0])?new pe._(jo[0],ie.scene):null,showHyperlinkPopup:!(jo.length!==1||!jo[0].link&&!(0,oe.gs)(jo[0]))&&"info"})})}}}}}}})}},{key:"handlePointerMoveOverScrollbars",value:function($,ie){if(ie.scrollbars.isOverHorizontal){var De=$.clientX,He=De-ie.lastCoords.x;return this.translateCanvas({scrollX:this.state.scrollX-He/this.state.zoom.value}),ie.lastCoords.x=De,!0}if(ie.scrollbars.isOverVertical){var Ve=$.clientY,lt=Ve-ie.lastCoords.y;return this.translateCanvas({scrollY:this.state.scrollY-lt/this.state.zoom.value}),ie.lastCoords.y=Ve,!0}return!1}},{key:"onPointerUpFromPointerDownHandler",value:function($){var ie=this;return(0,v.tH)(function(De){var He;$.eventListeners.onMove&&$.eventListeners.onMove.flush();var Ve,lt,dt=ie.state,vt=dt.draggingElement,Ct=dt.resizingElement,Mt=dt.multiElement,Yt=dt.activeTool,ar=dt.isResizing,Bt=dt.isRotating;if(ie.setState({isResizing:!1,isRotating:!1,resizingElement:null,selectionElement:null,frameToHighlight:null,elementsToHighlight:null,cursorButton:"up",editingElement:Mt||(0,fe.iB)(ie.state.editingElement)?ie.state.editingElement:null,snapLines:[],originSnapOffset:null}),ei.setReferenceSnapPoints(null),ei.setVisibleGaps(null),ie.savePointer(De.clientX,De.clientY,"up"),ie.setState({selectedElementsAreBeingDragged:!1}),ie.state.editingLinearElement)if($.boxSelection.hasOccurred||((Ve=$.hit)===null||Ve===void 0||(lt=Ve.element)===null||lt===void 0?void 0:lt.id)===ie.state.editingLinearElement.elementId){var zt=pe._.handlePointerUp(De,ie.state.editingLinearElement,ie.state);zt!==ie.state.editingLinearElement&&ie.setState({editingLinearElement:zt,suggestedBindings:[]})}else ie.actionManager.executeAction(Q.pL);else if(ie.state.selectedLinearElement){var $t,dr;if((($t=$.hit)===null||$t===void 0||(dr=$t.element)===null||dr===void 0?void 0:dr.id)!==ie.state.selectedLinearElement.elementId)ie.scene.getSelectedElements(ie.state).length>1&&ie.setState({selectedLinearElement:null});else{var yr=pe._.handlePointerUp(De,ie.state.selectedLinearElement,ie.state),lr=yr.startBindingElement,nr=yr.endBindingElement,Tr=ie.scene.getElement(yr.elementId);(0,oe.Mn)(Tr)&&(0,E.HG)(Tr,lr,nr),yr!==ie.state.selectedLinearElement&&ie.setState({selectedLinearElement:hn(hn({},yr),{},{selectedPointsIndices:null}),suggestedBindings:[]})}}if(Zo=null,window.removeEventListener(i.Ks.POINTER_MOVE,$.eventListeners.onMove),window.removeEventListener(i.Ks.POINTER_UP,$.eventListeners.onUp),window.removeEventListener(i.Ks.KEYDOWN,$.eventListeners.onKeyDown),window.removeEventListener(i.Ks.KEYUP,$.eventListeners.onKeyUp),ie.state.pendingImageElementId&&ie.setState({pendingImageElementId:null}),ie.onPointerUpEmitter.trigger(ie.state.activeTool,$,De),(vt==null?void 0:vt.type)==="freedraw"){var qr=(0,v.dE)(De,ie.state),pn=vt.points,_n=qr.x-vt.x,Nn=qr.y-vt.y;_n===pn[0][0]&&Nn===pn[0][1]&&(Nn+=1e-4,_n+=1e-4);var Un=vt.simulatePressure?[]:[].concat((0,b.Z)(vt.pressures),[De.pressure]);return(0,R.DR)(vt,{points:[].concat((0,b.Z)(pn),[[_n,Nn]]),pressures:Un,lastCommittedPoint:[_n,Nn]}),void ie.actionManager.executeAction(Q.pL)}if((0,oe.pC)(vt)){var kn=vt;try{ie.initializeImageDimensions(kn),ie.setState({selectedElementIds:(0,Jo.Oh)((0,H.Z)({},kn.id,!0),ie.state)},function(){ie.actionManager.executeAction(Q.pL)})}catch(Pn){console.error(Pn),ie.scene.replaceAllElements(ie.scene.getElementsIncludingDeleted().filter(function(yo){return yo.id!==kn.id})),ie.actionManager.executeAction(Q.pL)}}else if((0,oe.bt)(vt)){vt.points.length>1&&ie.history.resumeRecording();var vn=(0,v.dE)(De,ie.state);$.drag.hasOccurred||!vt||Mt?$.drag.hasOccurred&&!Mt&&((0,E.N1)(ie.state)&&(0,oe.Mn)(vt,!1)&&(0,E.R)(vt,ie.state,ie.scene,vn),ie.setState({suggestedBindings:[],startBoundElement:null}),Yt.locked?ie.setState(function(Pn){return{draggingElement:null}}):((0,Oo.z8)(ie.interactiveCanvas),ie.setState(function(Pn){return{draggingElement:null,activeTool:(0,v.Om)(ie.state,{type:"selection"}),selectedElementIds:(0,Jo.Oh)(hn(hn({},Pn.selectedElementIds),{},(0,H.Z)({},vt.id,!0)),Pn),selectedLinearElement:new pe._(vt,ie.scene)}}))):((0,R.DR)(vt,{points:[].concat((0,b.Z)(vt.points),[[vn.x-vt.x,vn.y-vt.y]])}),ie.setState({multiElement:vt,editingElement:ie.state.draggingElement}))}else{if(Yt.type!=="selection"&&vt&&(0,fe.QD)(vt))return ie.scene.replaceAllElements(ie.scene.getElementsIncludingDeleted().filter(function(Pn){return Pn.id!==vt.id})),void ie.setState({draggingElement:null});if(vt){if($.drag.hasOccurred){var An=(0,v.dE)(De,ie.state);if(ie.state.selectedLinearElement&&ie.state.selectedLinearElement.isDragging){var jn=ie.scene.getElement(ie.state.selectedLinearElement.elementId);if(jn!=null&&jn.frameId){var qn=(0,uo.$Z)(jn);qn&&jn&&((0,uo.cO)(jn,qn)||((0,R.DR)(jn,{groupIds:[]}),ie.scene.replaceAllElements((0,uo.lz)(ie.scene.getElementsIncludingDeleted(),[jn],ie.state))))}}else{var oo=ie.getTopLayerFrameAtSceneCoords(An),no=ie.scene.getSelectedElements(ie.state),so=ie.scene.getElementsIncludingDeleted(),zn=function(Pn){if(Pn.length>0){var yo,Ho=Ji(Pn);try{for(Ho.s();!(yo=Ho.n()).done;){var oi=yo.value,li=oi.groupIds.indexOf(ie.state.editingGroupId);(0,R.DR)(oi,{groupIds:oi.groupIds.slice(0,li)},!1)}}catch(gi){Ho.e(gi)}finally{Ho.f()}so.forEach(function(gi){gi.groupIds.length&&(0,qe.Fb)(so,gi.groupIds[gi.groupIds.length-1]).length<2&&(0,R.DR)(gi,{groupIds:[]},!1)}),ie.setState({editingGroupId:null})}};if(oo&&!ie.state.selectedElementIds[oo.id]){var Mn=no.filter(function(Pn){return Pn.frameId!==oo.id&&(0,uo.Qs)(Pn,so,ie.state)});ie.state.editingGroupId&&zn(Mn),so=(0,uo.A_)(so,Mn,oo)}else if(!oo&&ie.state.editingGroupId){var Jn=no.filter(function(Pn){return Pn.frameId&&!(0,uo.Qs)(Pn,so,ie.state)});zn(Jn)}so=(0,uo.Tq)(so,ie.state,ie),ie.scene.replaceAllElements(so)}}if(vt.type==="frame"){var Ro=(0,uo.fj)(ie.scene.getElementsIncludingDeleted(),vt);ie.scene.replaceAllElements((0,uo.A_)(ie.scene.getElementsIncludingDeleted(),Ro,vt))}(0,R.DR)(vt,(0,fe.Qp)(vt))}if(Ct&&ie.history.resumeRecording(),Ct&&(0,fe.QD)(Ct)&&ie.scene.replaceAllElements(ie.scene.getElementsIncludingDeleted().filter(function(Pn){return Pn.id!==Ct.id})),$.resize.isResizing){var Do,Eo=(0,uo.Tq)(ie.scene.getElementsIncludingDeleted(),ie.state,ie),To=ie.scene.getSelectedElements(ie.state).filter(function(Pn){return Pn.type==="frame"}),ho=Ji(To);try{for(ho.s();!(Do=ho.n()).done;){var po=Do.value;Eo=(0,uo.pr)(Eo,(0,uo.ni)(ie.scene.getElementsIncludingDeleted(),po,ie.state),po,ie.state)}}catch(Pn){ho.e(Pn)}finally{ho.f()}ie.scene.replaceAllElements(Eo)}var zo=$.hit.element;if(((He=ie.state.selectedLinearElement)===null||He===void 0?void 0:He.elementId)!==(zo==null?void 0:zo.id)&&(0,oe.bt)(zo)&&ie.scene.getSelectedElements(ie.state).length===1&&ie.setState({selectedLinearElement:new pe._(zo,ie.scene)}),(0,P.EN)(ie.state)){if((0,Ee.LW)(ie.lastPointerDownEvent.clientX,ie.lastPointerDownEvent.clientY,ie.lastPointerUpEvent.clientX,ie.lastPointerUpEvent.clientY)===0){var Xi=(0,v.dE)({clientX:ie.lastPointerUpEvent.clientX,clientY:ie.lastPointerUpEvent.clientY},ie.state);ie.getElementsAtPosition(Xi.x,Xi.y).forEach(function(Pn){return $.elementIdsToErase[Pn.id]={erase:!0,opacity:Pn.opacity}})}ie.eraseElements($)}else{var Vn;Object.keys($.elementIdsToErase).length&&ie.restoreReadyToEraseElements($),zo&&!$.drag.hasOccurred&&!$.hit.wasAddedToSelection&&(!ie.state.editingLinearElement||!$.boxSelection.hasOccurred)&&(De.shiftKey&&!ie.state.editingLinearElement?ie.state.selectedElementIds[zo.id]?(0,qe.zq)(ie.state,zo)?ie.setState(function(Pn){var yo,Ho=hn({},Pn.selectedElementIds),oi=Ji(zo.groupIds.flatMap(function(li){return(0,qe.Fb)(ie.scene.getNonDeletedElements(),li)}));try{for(oi.s();!(yo=oi.n()).done;)delete Ho[yo.value.id]}catch(li){oi.e(li)}finally{oi.f()}return{selectedGroupIds:hn(hn({},Pn.selectedElementIds),zo.groupIds.map(function(li){return(0,H.Z)({},li,!1)}).reduce(function(li,gi){return hn(hn({},li),gi)},{})),selectedElementIds:(0,Jo.Oh)(Ho,Pn)}}):(Vn=ie.state.selectedLinearElement)!==null&&Vn!==void 0&&Vn.isDragging||ie.setState(function(Pn){var yo=hn({},Pn.selectedElementIds);delete yo[zo.id];var Ho=(0,xe.eD)(ie.scene.getNonDeletedElements(),{selectedElementIds:yo});return hn(hn({},(0,qe.bO)({editingGroupId:Pn.editingGroupId,selectedElementIds:yo},ie.scene.getNonDeletedElements(),Pn,ie)),{},{selectedLinearElement:Ho.length===1&&(0,oe.bt)(Ho[0])?new pe._(Ho[0],ie.scene):Pn.selectedLinearElement})}):zo.frameId&&ie.state.selectedElementIds[zo.frameId]?ie.setState(function(Pn){var yo,Ho,oi=hn(hn({},Pn.selectedElementIds),{},(0,H.Z)({},zo.id,!0));return delete oi[zo.frameId],((yo=(Ho=ie.scene.getElement(zo.frameId))===null||Ho===void 0?void 0:Ho.groupIds)!==null&&yo!==void 0?yo:[]).flatMap(function(li){return(0,qe.Fb)(ie.scene.getNonDeletedElements(),li)}).forEach(function(li){delete oi[li.id]}),hn(hn({},(0,qe.bO)({editingGroupId:Pn.editingGroupId,selectedElementIds:oi},ie.scene.getNonDeletedElements(),Pn,ie)),{},{showHyperlinkPopup:!(!zo.link&&!(0,oe.gs)(zo))&&"info"})}):ie.setState(function(Pn){return{selectedElementIds:(0,Jo.Oh)(hn(hn({},Pn.selectedElementIds),{},(0,H.Z)({},zo.id,!0)),Pn)}}):ie.setState(function(Pn){var yo;return hn(hn({},(0,qe.bO)({editingGroupId:Pn.editingGroupId,selectedElementIds:(0,H.Z)({},zo.id,!0)},ie.scene.getNonDeletedElements(),Pn,ie)),{},{selectedLinearElement:(0,oe.bt)(zo)&&((yo=Pn.selectedLinearElement)===null||yo===void 0?void 0:yo.elementId)!==zo.id?new pe._(zo,ie.scene):Pn.selectedLinearElement})})),$.drag.hasOccurred||ie.state.isResizing||!(zo&&(0,fe.wB)(zo,ie.state,ie.frameNameBoundsCache,$.origin.x,$.origin.y)||!zo&&$.hit.hasHitCommonBoundingBoxOfSelectedElements)?(!Yt.locked&&Yt.type!=="freedraw"&&vt&&vt.type!=="selection"&&ie.setState(function(Pn){return{selectedElementIds:(0,Jo.Oh)(hn(hn({},Pn.selectedElementIds),{},(0,H.Z)({},vt.id,!0)),Pn),showHyperlinkPopup:(0,oe.gs)(vt)&&!vt.link?"editor":Pn.showHyperlinkPopup}}),(Yt.type!=="selection"||(0,xe.N)(ie.scene.getNonDeletedElements(),ie.state))&&ie.history.resumeRecording(),($.drag.hasOccurred||ar||Bt)&&((0,E.N1)(ie.state)?E.el:E.H)(ie.scene.getSelectedElements(ie.state)),Yt.type!=="laser"?(Yt.locked||Yt.type==="freedraw"?ie.setState({draggingElement:null,suggestedBindings:[]}):((0,Oo.z8)(ie.interactiveCanvas),ie.setState({draggingElement:null,suggestedBindings:[],activeTool:(0,v.Om)(ie.state,{type:"selection"})})),zo&&ie.lastPointerUpEvent&&ie.lastPointerDownEvent&&ie.lastPointerUpEvent.timeStamp-ie.lastPointerDownEvent.timeStamp<300&&ni.pointers.size<=1&&(0,oe.gs)(zo)&&ie.isEmbeddableCenter(zo,ie.lastPointerUpEvent,$.origin.x,$.origin.y)&&ie.handleEmbeddableCenterClick(zo)):ie.laserPathManager.endPath()):ie.state.editingLinearElement?ie.setState({editingLinearElement:null}):ie.setState({selectedElementIds:(0,Jo.Oh)({},ie.state),selectedGroupIds:{},editingGroupId:null,activeEmbeddable:null})}}})}},{key:"maybeSuggestBindingForAll",value:function($){if(!($.length>50)){var ie=(0,E.ZB)($);this.setState({suggestedBindings:ie})}}},{key:"clearSelection",value:function($){this.setState(function(ie){return{selectedElementIds:(0,Jo.Oh)({},ie),activeEmbeddable:null,selectedGroupIds:{},editingGroupId:ie.editingGroupId&&$!=null&&(0,qe.Nd)($,ie.editingGroupId)?ie.editingGroupId:null}}),this.setState({selectedElementIds:(0,Jo.Oh)({},this.state),activeEmbeddable:null,previousSelectedElementIds:this.state.selectedElementIds})}},{key:"getTextWysiwygSnappedToCenterPosition",value:function($,ie,De,He){if(He){var Ve=He.x+He.width/2,lt=He.y+He.height/2,dt=(0,At.TP)(He,De);if(dt&&(Ve=dt.x,lt=dt.y),Math.hypot($-Ve,ie-lt)<i.wZ){var vt=(0,v._i)({sceneX:Ve,sceneY:lt},De);return{viewportX:vt.x,viewportY:vt.y,elementCenterX:Ve,elementCenterY:lt}}}}},{key:"getCanvasOffsets",value:function(){var $;if(($=this.excalidrawContainerRef)!==null&&$!==void 0&&$.current){var ie=this.excalidrawContainerRef.current.getBoundingClientRect();return{offsetLeft:ie.left,offsetTop:ie.top}}return{offsetLeft:0,offsetTop:0}}},{key:"updateLanguage",value:(I=(0,w.Z)(S().mark(function $(){var ie,De=this;return S().wrap(function(He){for(;;)switch(He.prev=He.next){case 0:return ie=B.Mj.find(function(Ve){return Ve.code===De.props.langCode})||B.Fp,He.next=3,(0,B.m0)(ie);case 3:this.setAppState({});case 4:case"end":return He.stop()}},$,this)})),function(){return I.apply(this,arguments)})}],[{key:"resetTapTwice",value:function(){ul=!1}}]),he}(ve().Component);$c.defaultProps={UIOptions:i.cW};var cc=function(){var s=this;this.interactiveCanvas=null,this.unmounted=!1,this.device=ts,this.excalidrawContainerRef=ve().createRef(),this.files={},this.imageCache=new Map,this.iFrameRefs=new Map,this.lastPointerDownEvent=null,this.lastPointerUpEvent=null,this.lastViewportPosition={x:0,y:0},this.laserPathManager=new Zi(this),this.onChangeEmitter=new Ko,this.onPointerDownEmitter=new Ko,this.onPointerUpEmitter=new Ko,this.updateEmbeddables=function(){var I=new Map,G=!1;s.scene.getNonDeletedElements().filter(function(se){if((0,oe.gs)(se)&&(I.set(se.id,!0),se.validated==null)){G=!0;var _e=(0,z.xm)(se.link,s.props.validateEmbeddable);(0,R.DR)(se,{validated:_e},!1),Wi.R.delete(se)}return!1}),G&&s.scene.informMutation(),s.iFrameRefs.forEach(function(se,_e){I.has(_e)||s.iFrameRefs.delete(_e)})},this.getFrameNameDOMId=function(I){return"".concat(s.id,"-frame-name-").concat(I.id)},this.frameNameBoundsCache={get:function(I){var G=s.frameNameBoundsCache._cache.get(I.id);if(!G||G.zoom!==s.state.zoom.value||G.versionNonce!==I.versionNonce){var se=document.getElementById(s.getFrameNameDOMId(I));if(se){var _e=se.getBoundingClientRect(),he=(0,v.dE)({clientX:_e.x,clientY:_e.y},s.state),$=(0,v.dE)({clientX:_e.right,clientY:_e.bottom},s.state);return G={x:he.x,y:he.y,width:$.x-he.x,height:$.y-he.y,angle:0,zoom:s.state.zoom.value,versionNonce:I.versionNonce},s.frameNameBoundsCache._cache.set(I.id,G),G}return null}return G},_cache:new Map},this.renderFrameNames=function(){if(!s.state.frameRendering.enabled||!s.state.frameRendering.name)return null;var I=s.state.theme==="dark";return s.scene.getNonDeletedFrames().map(function(G,se){if(!(0,Ie.PZ)(G,s.canvas.width/window.devicePixelRatio,s.canvas.height/window.devicePixelRatio,{offsetLeft:s.state.offsetLeft,offsetTop:s.state.offsetTop,scrollX:s.state.scrollX,scrollY:s.state.scrollY,zoom:s.state.zoom}))return null;var _e,he=(0,v._i)({sceneX:G.x,sceneY:G.y},s.state),$=he.x,ie=he.y,De=function(){var Ve;((Ve=G.name)===null||Ve===void 0?void 0:Ve.trim())===""&&(0,R.DR)(G,{name:null}),s.setState({editingFrame:null})};if(G.id===s.state.editingFrame){var He=G.name==null?"Frame ".concat(se+1):G.name;_e=(0,a.jsx)("input",{autoFocus:!0,value:He,onChange:function(Ve){(0,R.DR)(G,{name:Ve.target.value})},onBlur:function(){return De()},onKeyDown:function(Ve){Ve.key!==O.tW.ESCAPE&&Ve.key!==O.tW.ENTER||De()},style:{background:s.state.viewBackgroundColor,filter:I?i.ZF:"none",zIndex:2,border:"none",display:"block",padding:"".concat(6,"px"),borderRadius:4,boxShadow:"inset 0 0 0 1px var(--color-primary)",fontFamily:"Assistant",fontSize:"14px",transform:"translate(-".concat(6,"px, ").concat(6,"px)"),color:"var(--color-gray-80)",overflow:"hidden",maxWidth:"".concat(document.body.clientWidth-$-6,"px")},size:He.length+1||1,dir:"auto",autoComplete:"off",autoCapitalize:"off",autoCorrect:"off"})}else _e=G.name==null||G.name.trim()===""?"Frame ".concat(se+1):G.name.trim();return(0,a.jsx)("div",{id:s.getFrameNameDOMId(G),style:{position:"absolute",bottom:"".concat(s.state.height+i.iG.nameOffsetY-ie+s.state.offsetTop,"px"),left:"".concat($-s.state.offsetLeft,"px"),zIndex:2,fontSize:i.iG.nameFontSize,color:I?i.iG.nameColorDarkTheme:i.iG.nameColorLightTheme,lineHeight:i.iG.nameLineHeight,width:"max-content",maxWidth:"".concat(G.width,"px"),overflow:G.id===s.state.editingFrame?"visible":"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:i.oc.MOVE,pointerEvents:s.state.viewModeEnabled?i.XI.disabled:i.XI.enabled},onPointerDown:function(Ve){return s.handleCanvasPointerDown(Ve)},onWheel:function(Ve){return s.handleWheel(Ve)},onContextMenu:s.handleCanvasContextMenu,onDoubleClick:function(){s.setState({editingFrame:G.id})},children:_e},G.id)})},this.focusContainer=function(){var I;(I=s.excalidrawContainerRef.current)===null||I===void 0||I.focus()},this.getSceneElementsIncludingDeleted=function(){return s.scene.getElementsIncludingDeleted()},this.getSceneElements=function(){return s.scene.getNonDeletedElements()},this.onInsertElements=function(I){s.addElementsFromPasteOrLibrary({elements:I,position:"center",files:null})},this.onExportImage=function(){var I=(0,w.Z)(S().mark(function G(se,_e,he){var $;return S().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return(0,C.L)("export",se,"ui"),ie.next=3,(0,X.p1)(se,_e,s.state,s.files,{exportBackground:s.state.exportBackground,name:s.state.name,viewBackgroundColor:s.state.viewBackgroundColor,exportingFrame:he.exportingFrame}).catch(v.FG).catch(function(De){console.error(De),s.setState({errorMessage:De.message})});case 3:$=ie.sent,s.state.exportEmbedScene&&$&&(0,Sr.g8)($)&&s.setState({fileHandle:$});case 5:case"end":return ie.stop()}},G)}));return function(G,se,_e){return I.apply(this,arguments)}}(),this.openEyeDropper=function(I){var G=I.type;da.e_.set(Mi.$,{swapPreviewOnAlt:!0,colorPickerType:G==="stroke"?"elementStroke":"elementBackground",onSelect:function(se,_e){var he=G==="background"&&_e.altKey||G==="stroke"&&!_e.altKey;s.scene.getSelectedElements(s.state).length&&s.state.activeTool.type==="selection"?s.updateScene({elements:s.scene.getElementsIncludingDeleted().map(function($){return s.state.selectedElementIds[$.id]?(0,R.BE)($,(0,H.Z)({},he?"strokeColor":"backgroundColor",se)):$})}):he?s.syncActionResult({appState:hn(hn({},s.state),{},{currentItemStrokeColor:se}),commitToHistory:!0}):s.syncActionResult({appState:hn(hn({},s.state),{},{currentItemBackgroundColor:se}),commitToHistory:!0})},keepOpenOnAlt:!1})},this.syncActionResult=(0,v.tH)(function(I){if(!s.unmounted&&I!==!1){var G=null;if(I.elements&&(I.elements.forEach(function(zt){var $t;(($t=s.state.editingElement)===null||$t===void 0?void 0:$t.id)===zt.id&&s.state.editingElement!==zt&&(0,fe.qP)(zt)&&(G=zt)}),s.scene.replaceAllElements(I.elements),I.commitToHistory&&s.history.resumeRecording()),I.files&&(s.files=I.replaceFiles?I.files:hn(hn({},s.files),I.files),s.addNewImagesToImageCache()),I.appState||G||s.state.contextMenu){var se,_e,he,$,ie,De,He,Ve,lt,dt;I.commitToHistory&&s.history.resumeRecording();var vt=(I==null||(se=I.appState)===null||se===void 0?void 0:se.viewModeEnabled)||!1,Ct=(I==null||(_e=I.appState)===null||_e===void 0?void 0:_e.zenModeEnabled)||!1,Mt=(I==null||(he=I.appState)===null||he===void 0?void 0:he.gridSize)||null,Yt=(I==null||($=I.appState)===null||$===void 0?void 0:$.theme)||s.props.theme||i.C6.LIGHT,ar=(ie=I==null||(De=I.appState)===null||De===void 0?void 0:De.name)!==null&&ie!==void 0?ie:s.state.name,Bt=(He=I==null||(Ve=I.appState)===null||Ve===void 0?void 0:Ve.errorMessage)!==null&&He!==void 0?He:s.state.errorMessage;s.props.viewModeEnabled!==void 0&&(vt=s.props.viewModeEnabled),s.props.zenModeEnabled!==void 0&&(Ct=s.props.zenModeEnabled),s.props.gridModeEnabled!==void 0&&(Mt=s.props.gridModeEnabled?i.k:null),s.props.name!==void 0&&(ar=s.props.name),(dt=G=G||((lt=I.appState)===null||lt===void 0?void 0:lt.editingElement)||null)!==null&&dt!==void 0&&dt.isDeleted&&(G=null),s.setState(function(zt){return Object.assign(I.appState||{},{contextMenu:null,editingElement:G,viewModeEnabled:vt,zenModeEnabled:Ct,gridSize:Mt,theme:Yt,name:ar,errorMessage:Bt})},function(){I.syncHistory&&s.history.setCurrentState(s.state,s.scene.getElementsIncludingDeleted())})}}}),this.onBlur=(0,v.tH)(function(){Yi=!1,s.setState({isBindingEnabled:!0})}),this.onUnload=function(){s.onBlur()},this.disableEvent=function(I){I.preventDefault()},this.resetHistory=function(){s.history.clear()},this.resetScene=(0,v.tH)(function(I){s.scene.replaceAllElements([]),s.setState(function(G){return hn(hn({},(0,P.im)()),{},{isLoading:(I==null||!I.resetLoadingState)&&G.isLoading,theme:s.state.theme})}),s.resetHistory()}),this.initializeScene=(0,w.Z)(S().mark(function I(){var G,se,_e,he,$;return S().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return"launchQueue"in window&&"LaunchParams"in window&&window.launchQueue.setConsumer(function(){var De=(0,w.Z)(S().mark(function He(Ve){var lt,dt;return S().wrap(function(vt){for(;;)switch(vt.prev=vt.next){case 0:if(Ve.files.length){vt.next=2;break}return vt.abrupt("return");case 2:return lt=Ve.files[0],vt.next=5,lt.getFile();case 5:dt=vt.sent,s.loadFileToCanvas(new File([dt],dt.name||"",{type:dt.type}),lt);case 7:case"end":return vt.stop()}},He)}));return function(He){return De.apply(this,arguments)}}()),s.props.theme&&s.setState({theme:s.props.theme}),s.state.isLoading||s.setState({isLoading:!0}),_e=null,ie.prev=4,ie.next=7,s.props.initialData;case 7:if(ie.t0=ie.sent,ie.t0){ie.next=10;break}ie.t0=null;case 10:_e=ie.t0,(he=_e)!==null&&he!==void 0&&he.libraryItems&&s.library.updateLibrary({libraryItems:_e.libraryItems,merge:!0}).catch(function(De){console.error(De)}),ie.next=18;break;case 14:ie.prev=14,ie.t1=ie.catch(4),console.error(ie.t1),_e={appState:{errorMessage:ie.t1.message||"Encountered an error during importing or restoring scene data"}};case 18:($=(0,de.nu)(_e,null,null,{repairBindings:!0})).appState=hn(hn({},$.appState),{},{theme:s.props.theme||$.appState.theme,openSidebar:((G=$.appState)===null||G===void 0?void 0:G.openSidebar)||s.state.openSidebar,activeTool:$.appState.activeTool.type==="image"?hn(hn({},$.appState.activeTool),{},{type:"selection"}):$.appState.activeTool,isLoading:!1,toast:s.state.toast}),(se=_e)!==null&&se!==void 0&&se.scrollToContent&&($.appState=hn(hn({},$.appState),(0,xe.W)($.elements,hn(hn({},$.appState),{},{width:s.state.width,height:s.state.height,offsetTop:s.state.offsetTop,offsetLeft:s.state.offsetLeft})))),s.fonts.loadFontsForElements($.elements),s.resetHistory(),s.syncActionResult(hn(hn({},$),{},{commitToHistory:!0}));case 24:case"end":return ie.stop()}},I,null,[[4,14]])})),this.isMobileBreakpoint=function(I,G){return I<i.kV||G<i.Yx&&I<i.sS},this.refreshViewportBreakpoints=function(){if(s.excalidrawContainerRef.current){var I=document.body,G=I.clientWidth,se=I.clientHeight,_e=s.device.viewport,he=(0,v.v4)(_e,{isLandscape:G>se,isMobile:s.isMobileBreakpoint(G,se)});return _e!==he&&(s.device=hn(hn({},s.device),{},{viewport:he}),!0)}},this.refreshEditorBreakpoints=function(){var I=s.excalidrawContainerRef.current;if(I){var G=I.getBoundingClientRect(),se=G.width,_e=G.height,he=s.props.UIOptions.dockedSidebarBreakpoint!=null?s.props.UIOptions.dockedSidebarBreakpoint:i.sk,$=s.device.editor,ie=(0,v.v4)($,{isMobile:s.isMobileBreakpoint(se,_e),canFitSidebar:se>he});return $!==ie&&(s.device=hn(hn({},s.device),{},{editor:ie}),!0)}},this.onResize=(0,v.tH)(function(){s.scene.getElementsIncludingDeleted().forEach(function(I){return Wi.R.delete(I)}),s.refreshViewportBreakpoints(),s.updateDOMRect(),El||s.refreshEditorBreakpoints(),s.setState({})}),this.renderInteractiveSceneCallback=function(I){var G=I.atLeastOneVisibleElement,se=I.scrollBars,_e=I.elements;se&&(Ts=se);var he=!(0,fe.iB)(s.state.editingElement)&&!G&&_e.length>0;s.state.scrolledOutside!==he&&s.setState({scrolledOutside:he}),s.scheduleImageRefresh()},this.onScroll=(0,v.Ds)(function(){var I=s.getCanvasOffsets(),G=I.offsetTop,se=I.offsetLeft;s.setState(function(_e){return _e.offsetLeft===se&&_e.offsetTop===G?null:{offsetTop:G,offsetLeft:se}})},i.HM),this.onCut=(0,v.tH)(function(I){var G;!((G=s.excalidrawContainerRef.current)===null||G===void 0)&&G.contains(document.activeElement)&&!(0,v.s)(I.target)&&(s.actionManager.executeAction(Q.ZM,"keyboard",I),I.preventDefault(),I.stopPropagation())}),this.onCopy=(0,v.tH)(function(I){var G;!((G=s.excalidrawContainerRef.current)===null||G===void 0)&&G.contains(document.activeElement)&&!(0,v.s)(I.target)&&(s.actionManager.executeAction(Q.uN,"keyboard",I),I.preventDefault(),I.stopPropagation())}),this.onTouchStart=function(I){if(i.Dt||I.preventDefault(),!ul)return ul=!0,clearTimeout(ea),void(ea=window.setTimeout($c.resetTapTwice,i.Gj));if(ul&&I.touches.length===1){var G=I.touches[0];s.handleCanvasDoubleClick({clientX:G.clientX,clientY:G.clientY}),ul=!1,clearTimeout(ea)}i.Dt&&I.preventDefault(),I.touches.length===2&&s.setState({selectedElementIds:(0,Jo.Oh)({},s.state),activeEmbeddable:null})},this.onTouchEnd=function(I){s.resetContextMenuTimer(),I.touches.length>0?s.setState({previousSelectedElementIds:{},selectedElementIds:(0,Jo.Oh)(s.state.previousSelectedElementIds,s.state)}):ni.pointers.clear()},this.pasteFromClipboard=(0,v.tH)(function(){var I=(0,w.Z)(S().mark(function G(se){var _e,he,$,ie,De,He,Ve,lt,dt,vt,Ct,Mt,Yt,ar,Bt,zt,$t;return S().wrap(function(dr){for(;;)switch(dr.prev=dr.next){case 0:if($=!!lc,ie=document.activeElement,De=(_e=s.excalidrawContainerRef.current)===null||_e===void 0?void 0:_e.contains(ie),!se||De){dr.next=5;break}return dr.abrupt("return");case 5:if(He=document.elementFromPoint(s.lastViewportPosition.x,s.lastViewportPosition.y),!se||He instanceof HTMLCanvasElement&&!(0,v.s)(ie)){dr.next=8;break}return dr.abrupt("return");case 8:return Ve=(0,v.dE)({clientX:s.lastViewportPosition.x,clientY:s.lastViewportPosition.y},s.state),lt=Ve.x,dt=Ve.y,vt=se==null||(he=se.clipboardData)===null||he===void 0?void 0:he.files[0],dr.next=12,(0,F.mQ)(se,$);case 12:if(Ct=dr.sent,vt||$){dr.next=19;break}if(!Ct.mixedContent){dr.next=18;break}return dr.abrupt("return",s.addElementsFromMixedContentPaste(Ct.mixedContent,{isPlainPaste:$,sceneX:lt,sceneY:dt}));case 18:Ct.text&&(Mt=Ct.text.trim()).startsWith("<svg")&&Mt.endsWith("</svg>")&&(vt=(0,Sr.Pn)(Mt));case 19:if(!(0,Sr.Wr)(vt)||Ct.spreadsheet){dr.next=28;break}if(s.isToolSupported("image")){dr.next=23;break}return s.setState({errorMessage:(0,B.t)("errors.imageToolNotSupported")}),dr.abrupt("return");case 23:return Yt=s.createImageElement({sceneX:lt,sceneY:dt}),s.insertImageElement(Yt,vt),s.initializeImageDimensions(Yt),s.setState({selectedElementIds:(0,Jo.Oh)((0,H.Z)({},Yt.id,!0),s.state)}),dr.abrupt("return");case 28:if(!s.props.onPaste){dr.next=40;break}return dr.prev=29,dr.next=32,s.props.onPaste(Ct,se);case 32:if(dr.t0=dr.sent,dr.t0!==!1){dr.next=35;break}return dr.abrupt("return");case 35:dr.next=40;break;case 37:dr.prev=37,dr.t1=dr.catch(29),console.error(dr.t1);case 40:if(!Ct.errorMessage){dr.next=44;break}s.setState({errorMessage:Ct.errorMessage}),dr.next=60;break;case 44:if(!Ct.spreadsheet||$){dr.next=48;break}s.setState({pasteDialog:{data:Ct.spreadsheet,shown:!0}}),dr.next=60;break;case 48:if(!Ct.elements){dr.next=53;break}ar=Ct.programmaticAPI?(0,er.w)(Ct.elements):Ct.elements,s.addElementsFromPasteOrLibrary({elements:ar,files:Ct.files||null,position:"cursor",retainSeed:$}),dr.next=60;break;case 53:if(!Ct.text){dr.next=60;break}if(zt=(0,z.eX)(Ct.text),$||!(0,z.xm)(zt,s.props.validateEmbeddable)||!/^(http|https):\/\/[^\s/$.?#].[^\s]*$/.test(zt)&&((Bt=(0,z.LM)(zt))===null||Bt===void 0?void 0:Bt.type)!=="video"){dr.next=59;break}return($t=s.insertEmbeddableElement({sceneX:lt,sceneY:dt,link:(0,sl.$u)(zt)}))&&s.setState({selectedElementIds:(0,H.Z)({},$t.id,!0)}),dr.abrupt("return");case 59:s.addTextFromPaste(Ct.text,$);case 60:s.setActiveTool({type:"selection"}),se==null||se.preventDefault();case 62:case"end":return dr.stop()}},G,null,[[29,37]])}));return function(G){return I.apply(this,arguments)}}()),this.addElementsFromPasteOrLibrary=function(I){var G=(0,de.ET)(I.elements,null,void 0),se=(0,fe.KP)(G),_e=(0,k.Z)(se,4),he=_e[0],$=_e[1],ie=_e[2],De=_e[3],He=(0,v.TE)(he,ie)/2,Ve=(0,v.TE)($,De)/2,lt=(0,A.Z)(I.position)==="object"?I.position.clientX:I.position==="cursor"?s.lastViewportPosition.x:s.state.width/2+s.state.offsetLeft,dt=(0,A.Z)(I.position)==="object"?I.position.clientY:I.position==="cursor"?s.lastViewportPosition.y:s.state.height/2+s.state.offsetTop,vt=(0,v.dE)({clientX:lt,clientY:dt},s.state),Ct=vt.x-He,Mt=vt.y-Ve,Yt=(0,Ee.wC)(Ct,Mt,s.state.gridSize),ar=(0,k.Z)(Yt,2),Bt=ar[0],zt=ar[1],$t=(0,ne._N)(G.map(function(lr){return(0,R.BE)(lr,{x:lr.x+Bt-he,y:lr.y+zt-$})}),{randomizeSeed:!I.retainSeed}),dr=[].concat((0,b.Z)(s.scene.getElementsIncludingDeleted()),(0,b.Z)($t));s.scene.replaceAllElements(dr),$t.forEach(function(lr){if((0,fe.iB)(lr)&&(0,oe.Xh)(lr)){var nr=(0,At.tl)(lr);(0,fe.oN)(lr,nr)}}),I.files&&(s.files=hn(hn({},s.files),I.files)),s.history.resumeRecording();var yr=(0,Jo.aI)($t);s.setState(hn(hn({},s.state),{},{openSidebar:s.state.openSidebar&&s.device.editor.canFitSidebar&&da.e_.get(Ca.t6)?s.state.openSidebar:null},(0,qe.bO)({editingGroupId:null,selectedElementIds:yr.reduce(function(lr,nr){return(0,oe.Xh)(nr)||(lr[nr.id]=!0),lr},{})},s.scene.getNonDeletedElements(),s.state,s)),function(){I.files&&s.addNewImagesToImageCache()}),s.setActiveTool({type:"selection"}),I.fitToContent&&s.scrollToContent($t,{fitToContent:!0})},this.setAppState=function(I,G){s.setState(I,G)},this.removePointer=function(I){rs&&s.resetContextMenuTimer(),ni.pointers.delete(I.pointerId)},this.toggleLock=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ui";s.state.activeTool.locked||(0,C.L)("toolbar","toggleLock","".concat(I," (").concat(s.device.editor.isMobile?"mobile":"desktop",")")),s.setState(function(G){return{activeTool:hn(hn(hn({},G.activeTool),(0,v.Om)(s.state,G.activeTool.locked?{type:"selection"}:G.activeTool)),{},{locked:!G.activeTool.locked})}})},this.updateFrameRendering=function(I){s.setState(function(G){var se,_e,he,$,ie=typeof I=="function"?I(G.frameRendering):I;return{frameRendering:{enabled:(se=ie==null?void 0:ie.enabled)!==null&&se!==void 0?se:G.frameRendering.enabled,clip:(_e=ie==null?void 0:ie.clip)!==null&&_e!==void 0?_e:G.frameRendering.clip,name:(he=ie==null?void 0:ie.name)!==null&&he!==void 0?he:G.frameRendering.name,outline:($=ie==null?void 0:ie.outline)!==null&&$!==void 0?$:G.frameRendering.outline}}})},this.togglePenMode=function(I){s.setState(function(G){return{penMode:I??!G.penMode,penDetected:!0}})},this.onHandToolToggle=function(){s.actionManager.executeAction(zs.eF)},this.zoomCanvas=function(I){s.setState(hn({},(0,u.E)({viewportX:s.state.width/2+s.state.offsetLeft,viewportY:s.state.height/2+s.state.offsetTop,nextZoom:(0,xe.j)(I)},s.state)))},this.cancelInProgresAnimation=null,this.scrollToContent=function(){var I,G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:s.scene.getNonDeletedElements(),se=arguments.length>1?arguments[1]:void 0;(I=s.cancelInProgresAnimation)===null||I===void 0||I.call(s);var _e=Array.isArray(G)?G:[G],he=s.state.zoom,$=s.state.scrollX,ie=s.state.scrollY;if(se!=null&&se.fitToContent||se!=null&&se.fitToViewport){var De=(0,zs.JB)({targetElements:_e,appState:s.state,fitToViewport:!(se==null||!se.fitToViewport),viewportZoomFactor:se==null?void 0:se.viewportZoomFactor}),He=De.appState;he=He.zoom,$=He.scrollX,ie=He.scrollY}else{var Ve=(0,xe.W)(_e,s.state);$=Ve.scrollX,ie=Ve.scrollY}if(se!=null&&se.animate){var lt,dt=s.state.scrollX,vt=s.state.scrollY,Ct=s.state.zoom.value,Mt=(0,v.B4)({fromValues:{scrollX:dt,scrollY:vt,zoom:Ct},toValues:{scrollX:$,scrollY:ie,zoom:he.value},interpolateValue:function(Yt,ar,Bt,zt){if(zt==="zoom")return Yt*Math.pow(ar/Yt,(0,v.Vv)(Bt))},onStep:function(Yt){var ar=Yt.scrollX,Bt=Yt.scrollY,zt=Yt.zoom;s.setState({scrollX:ar,scrollY:Bt,zoom:{value:zt}})},onStart:function(){s.setState({shouldCacheIgnoreZoom:!0})},onEnd:function(){s.setState({shouldCacheIgnoreZoom:!1})},onCancel:function(){s.setState({shouldCacheIgnoreZoom:!1})},duration:(lt=se==null?void 0:se.duration)!==null&&lt!==void 0?lt:500});s.cancelInProgresAnimation=function(){Mt(),s.cancelInProgresAnimation=null}}else s.setState({scrollX:$,scrollY:ie,zoom:he})},this.translateCanvas=function(I){var G;(G=s.cancelInProgresAnimation)===null||G===void 0||G.call(s),s.setState(I)},this.setToast=function(I){s.setState({toast:I})},this.restoreFileFromShare=(0,w.Z)(S().mark(function I(){var G,se,_e,he;return S().wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.prev=0,$.next=3,caches.open("web-share-target");case 3:return G=$.sent,$.next=6,G.match("shared-file");case 6:if(!(se=$.sent)){$.next=16;break}return $.next=10,se.blob();case 10:return _e=$.sent,he=new File([_e],_e.name||"",{type:_e.type}),s.loadFileToCanvas(he,null),$.next=15,G.delete("shared-file");case 15:window.history.replaceState(null,i.iC,window.location.pathname);case 16:$.next=21;break;case 18:$.prev=18,$.t0=$.catch(0),s.setState({errorMessage:$.t0.message});case 21:case"end":return $.stop()}},I,null,[[0,18]])})),this.addFiles=(0,v.tH)(function(I){var G=I.reduce(function(se,_e){return se.set(_e.id,_e),se},new Map);s.files=hn(hn({},s.files),Object.fromEntries(G)),s.scene.getNonDeletedElements().forEach(function(se){(0,oe.wi)(se)&&G.has(se.fileId)&&(s.imageCache.delete(se.fileId),Wi.R.delete(se))}),s.scene.informMutation(),s.addNewImagesToImageCache()}),this.updateScene=(0,v.tH)(function(I){I.commitToHistory&&s.history.resumeRecording(),I.appState&&s.setState(I.appState),I.elements&&s.scene.replaceAllElements(I.elements),I.collaborators&&s.setState({collaborators:I.collaborators})}),this.onSceneUpdated=function(){s.setState({})},this.toggleSidebar=function(I){var G,se,_e=I.name,he=I.tab,$=I.force;return $===void 0?G=((se=s.state.openSidebar)===null||se===void 0?void 0:se.name)===_e?null:_e:G=$?_e:null,s.setState({openSidebar:G?{name:G,tab:he}:null}),!!G},this.updateCurrentCursorPosition=(0,v.tH)(function(I){s.lastViewportPosition.x=I.clientX,s.lastViewportPosition.y=I.clientY}),this.onKeyDown=(0,v.tH)(function(I){if("Proxy"in window&&(!I.shiftKey&&/^[A-Z]$/.test(I.key)||I.shiftKey&&/^[a-z]$/.test(I.key))&&(I=new Proxy(I,{get:function(Bt,zt){var $t=Bt[zt];return typeof $t=="function"?$t.bind(Bt):zt==="key"?I.shiftKey?Bt.key.toUpperCase():Bt.key.toLowerCase():$t}})),I[O.tW.CTRL_OR_CMD]&&I.key.toLowerCase()===O.tW.V&&(lc=I.shiftKey,clearTimeout(Wl),Wl=window.setTimeout(function(){lc=!1},100)),!I[O.tW.CTRL_OR_CMD]||!(0,v.s)(I.target)||I.code!==O.aU.MINUS&&I.code!==O.aU.EQUAL){if(!((0,v.s)(I.target)&&I.key!==O.tW.ESCAPE||(0,O.Wl)(I.key)&&(0,v._Z)(I.target)))if(I.key!==O.tW.QUESTION_MARK){if(I.key.toLowerCase()===O.tW.E&&I.shiftKey&&I[O.tW.CTRL_OR_CMD])return I.preventDefault(),void s.setState({openDialog:"imageExport"});if(I.key===O.tW.PAGE_UP||I.key===O.tW.PAGE_DOWN){var G=(I.shiftKey?s.state.width:s.state.height)/s.state.zoom.value;I.key===O.tW.PAGE_DOWN&&(G=-G),I.shiftKey?s.translateCanvas(function(Bt){return{scrollX:Bt.scrollX+G}}):s.translateCanvas(function(Bt){return{scrollY:Bt.scrollY+G}})}if(!s.actionManager.handleKeyDown(I)&&!s.state.viewModeEnabled){if(I[O.tW.CTRL_OR_CMD]&&s.state.isBindingEnabled&&s.setState({isBindingEnabled:!1}),(0,O.Wl)(I.key)){var se=s.state.gridSize&&(I.shiftKey?i.$e:s.state.gridSize)||(I.shiftKey?i.Iw:i.$e),_e=0,he=0;I.key===O.tW.ARROW_LEFT?_e=-se:I.key===O.tW.ARROW_RIGHT?_e=se:I.key===O.tW.ARROW_UP?he=-se:I.key===O.tW.ARROW_DOWN&&(he=se);var $=s.scene.getSelectedElements({selectedElementIds:s.state.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0});$.forEach(function(Bt){(0,R.DR)(Bt,{x:Bt.x+_e,y:Bt.y+he}),(0,E.Ww)(Bt,{simultaneouslyUpdated:$})}),s.maybeSuggestBindingForAll($),I.preventDefault()}else if(I.key===O.tW.ENTER){var ie=s.scene.getSelectedElements(s.state);if(ie.length===1){var De=ie[0];if(I[O.tW.CTRL_OR_CMD])(0,oe.bt)(De)&&(s.state.editingLinearElement&&s.state.editingLinearElement.elementId===ie[0].id||(s.history.resumeRecording(),s.setState({editingLinearElement:new pe._(De,s.scene)})));else{if((0,fe.iB)(De)||(0,At.Zr)(De)){var He;(0,fe.iB)(De)||(He=De);var Ve=(0,At.TP)(De,s.state),lt=Ve.x,dt=Ve.y;return s.startTextEditing({sceneX:lt,sceneY:dt,container:He}),void I.preventDefault()}(0,oe.He)(De)&&s.setState({editingFrame:De.id})}}}else if(!I.ctrlKey&&!I.altKey&&!I.metaKey&&s.state.draggingElement===null){var vt=function(Bt){var zt=g.find(function($t,dr){return $t.numericKey!=null&&Bt===$t.numericKey.toString()||$t.key&&(typeof $t.key=="string"?$t.key===Bt:$t.key.includes(Bt))});return(zt==null?void 0:zt.value)||null}(I.key);vt?(s.state.activeTool.type!==vt&&(0,C.L)("toolbar",vt,"keyboard (".concat(s.device.editor.isMobile?"mobile":"desktop",")")),s.setActiveTool({type:vt}),I.stopPropagation()):I.key===O.tW.Q&&(s.toggleLock("keyboard"),I.stopPropagation())}if(I.key===O.tW.SPACE&&ni.pointers.size===0&&(Yi=!0,(0,Oo.KJ)(s.interactiveCanvas,i.oc.GRAB),I.preventDefault()),!(I.key!==O.tW.G&&I.key!==O.tW.S||I.altKey||I[O.tW.CTRL_OR_CMD])){var Ct=s.scene.getSelectedElements(s.state);if(s.state.activeTool.type==="selection"&&!Ct.length)return;I.key===O.tW.G&&((0,xe.$b)(s.state.activeTool.type)||Ct.some(function(Bt){return(0,xe.$b)(Bt.type)}))&&(s.setState({openPopup:"elementBackground"}),I.stopPropagation()),I.key===O.tW.S&&(s.setState({openPopup:"elementStroke"}),I.stopPropagation())}if(I.key!==O.tW.K||I.altKey||I[O.tW.CTRL_OR_CMD]){!I[O.tW.CTRL_OR_CMD]||I.key!==O.tW.BACKSPACE&&I.key!==O.tW.DELETE||da.e_.set(ra.w,"clearCanvas");var Mt=I.key.toLocaleLowerCase(),Yt=Mt===O.tW.S&&I.shiftKey,ar=I.key===O.tW.I||Mt===O.tW.G&&I.shiftKey;(Yt||ar)&&s.openEyeDropper({type:Yt?"stroke":"background"})}else s.state.activeTool.type==="laser"?s.setActiveTool({type:"selection"}):s.setActiveTool({type:"laser"})}}else s.setState({openDialog:"help"})}else I.preventDefault()}),this.onWheel=(0,v.tH)(function(I){I.target instanceof HTMLCanvasElement||!I.ctrlKey||I.preventDefault()}),this.onKeyUp=(0,v.tH)(function(I){if(I.key===O.tW.SPACE&&(s.state.viewModeEnabled?(0,Oo.KJ)(s.interactiveCanvas,i.oc.GRAB):s.state.activeTool.type==="selection"?(0,Oo.z8)(s.interactiveCanvas):((0,Oo.Uk)(s.interactiveCanvas,s.state),s.setState({selectedElementIds:(0,Jo.Oh)({},s.state),selectedGroupIds:{},editingGroupId:null,activeEmbeddable:null})),Yi=!1),I[O.tW.CTRL_OR_CMD]||s.state.isBindingEnabled||s.setState({isBindingEnabled:!0}),(0,O.Wl)(I.key)){var G=s.scene.getSelectedElements(s.state);(0,E.N1)(s.state)?(0,E.el)(G):(0,E.H)(G),s.setState({suggestedBindings:[]})}}),this.isToolSupported=function(I){var G;return((G=s.props.UIOptions.tools)===null||G===void 0?void 0:G[I])!==!1},this.setActiveTool=function(I){if(s.isToolSupported(I.type)){var G,se=(0,v.Om)(s.state,I);se.type==="hand"?(0,Oo.KJ)(s.interactiveCanvas,i.oc.GRAB):Yi||(0,Oo.Uk)(s.interactiveCanvas,s.state),(0,v.wO)(document.activeElement)&&s.focusContainer(),(0,oe.dt)(se.type)||s.setState({suggestedBindings:[]}),se.type==="image"&&s.onImageAction({insertOnCanvasDirectly:(G=I.type==="image"&&I.insertOnCanvasDirectly)!==null&&G!==void 0&&G}),s.setState(function(_e){var he={snapLines:_e.snapLines.length?[]:_e.snapLines,originSnapOffset:null,activeEmbeddable:null};return se.type!=="selection"?hn(hn({},_e),{},{activeTool:se,selectedElementIds:(0,Jo.Oh)({},_e),selectedGroupIds:(0,Jo.Oh)({},_e),editingGroupId:null,multiElement:null},he):hn(hn({},_e),{},{activeTool:se},he)})}else console.warn('"'.concat(I.type,'" tool is disabled via "UIOptions.canvasActions.tools.').concat(I.type,'"'))},this.setOpenDialog=function(I){s.setState({openDialog:I})},this.setCursor=function(I){(0,Oo.KJ)(s.interactiveCanvas,I)},this.resetCursor=function(){(0,Oo.z8)(s.interactiveCanvas)},this.isTouchScreenMultiTouchGesture=function(){return ni.pointers.size>=2},this.onGestureStart=(0,v.tH)(function(I){I.preventDefault(),s.isTouchScreenMultiTouchGesture()&&s.setState({selectedElementIds:(0,Jo.Oh)({},s.state),activeEmbeddable:null}),ni.initialScale=s.state.zoom.value}),this.onGestureChange=(0,v.tH)(function(I){if(I.preventDefault(),!s.isTouchScreenMultiTouchGesture()){var G=ni.initialScale;G&&s.setState(function(se){return hn({},(0,u.E)({viewportX:s.lastViewportPosition.x,viewportY:s.lastViewportPosition.y,nextZoom:(0,xe.j)(G*I.scale)},se))})}}),this.onGestureEnd=(0,v.tH)(function(I){I.preventDefault(),s.isTouchScreenMultiTouchGesture()&&s.setState({previousSelectedElementIds:{},selectedElementIds:(0,Jo.Oh)(s.state.previousSelectedElementIds,s.state)}),ni.initialScale=null}),this.startTextEditing=function(I){var G,se,_e,he,$=I.sceneX,ie=I.sceneY,De=I.insertAtParentCenter,He=De===void 0||De,Ve=I.container,lt=!1,dt=He&&s.getTextWysiwygSnappedToCenterPosition($,ie,s.state,Ve);Ve&&dt&&((0,At.WJ)(Ve)||(lt=!0));var vt=null,Ct=s.scene.getSelectedElements(s.state),Mt=((G=vt=Ct.length===1?(0,fe.iB)(Ct[0])?Ct[0]:Ve?(0,At.WJ)(Ct[0]):s.getTextElementAtPosition($,ie):s.getTextElementAtPosition($,ie))===null||G===void 0?void 0:G.fontFamily)||s.state.currentItemFontFamily,Yt=((se=vt)===null||se===void 0?void 0:se.lineHeight)||(0,At.PT)(Mt),ar=s.state.currentItemFontSize;if(!vt&&lt&&Ve&&!(0,oe.Yv)(Ve)){var Bt={fontSize:ar,fontFamily:Mt},zt=(0,At.AT)((0,v.mO)(Bt),Yt),$t=(0,At.w_)(ar,Yt),dr=Math.max(Ve.height,$t),yr=Math.max(Ve.width,zt);(0,R.DR)(Ve,{height:dr,width:yr}),$=Ve.x+yr/2,ie=Ve.y+dr/2,dt&&(dt=s.getTextWysiwygSnappedToCenterPosition($,ie,s.state,Ve))}var lr=s.getTopLayerFrameAtSceneCoords({x:$,y:ie}),nr=vt||(0,fe.VL)({x:dt?dt.elementCenterX:$,y:dt?dt.elementCenterY:ie,strokeColor:s.state.currentItemStrokeColor,backgroundColor:s.state.currentItemBackgroundColor,fillStyle:s.state.currentItemFillStyle,strokeWidth:s.state.currentItemStrokeWidth,strokeStyle:s.state.currentItemStrokeStyle,roughness:s.state.currentItemRoughness,opacity:s.state.currentItemOpacity,text:"",fontSize:ar,fontFamily:Mt,textAlign:dt?"center":s.state.currentItemTextAlign,verticalAlign:dt?i.oX.MIDDLE:i.hs,containerId:lt?Ve==null?void 0:Ve.id:void 0,groupIds:(_e=Ve==null?void 0:Ve.groupIds)!==null&&_e!==void 0?_e:[],lineHeight:Yt,angle:(he=Ve==null?void 0:Ve.angle)!==null&&he!==void 0?he:0,frameId:lr?lr.id:null});if(!vt&&lt&&Ve&&(0,R.DR)(Ve,{boundElements:(Ve.boundElements||[]).concat({type:"text",id:nr.id})}),s.setState({editingElement:nr}),!vt)if(Ve&&lt){var Tr=s.scene.getElementIndex(Ve.id);s.scene.insertElementAtIndex(nr,Tr+1)}else s.scene.addNewElement(nr);s.setState({editingElement:nr}),s.handleTextWysiwyg(nr,{isExistingElement:!!vt})},this.handleCanvasDoubleClick=function(I){if(!s.state.multiElement&&s.state.activeTool.type==="selection"){var G=s.scene.getSelectedElements(s.state);if(G.length===1&&(0,oe.bt)(G[0])){if(I[O.tW.CTRL_OR_CMD]&&(!s.state.editingLinearElement||s.state.editingLinearElement.elementId!==G[0].id))return s.history.resumeRecording(),void s.setState({editingLinearElement:new pe._(G[0],s.scene)});if(s.state.editingLinearElement&&s.state.editingLinearElement.elementId===G[0].id)return}(0,Oo.z8)(s.interactiveCanvas);var se=(0,v.dE)(I,s.state),_e=se.x,he=se.y;if((0,qe.iJ)(s.state).length>0){var $=s.getElementAtPosition(_e,he),ie=$&&(0,qe.YS)($,s.state.selectedGroupIds);if(ie)return void s.setState(function(lt){return hn(hn({},lt),(0,qe.bO)({editingGroupId:ie,selectedElementIds:(0,H.Z)({},$.id,!0)},s.scene.getNonDeletedElements(),lt,s))})}if((0,Oo.z8)(s.interactiveCanvas),!I[O.tW.CTRL_OR_CMD]&&!s.state.viewModeEnabled){var De=s.getElementAtPosition(_e,he);if((0,oe.gs)(De))return void s.setState({activeEmbeddable:{element:De,state:"active"}});var He=(0,At.OW)(s.scene.getNonDeletedElements(),s.state,_e,he);if(He&&((0,oe.Xo)(He)||!(0,v.Qm)(He.backgroundColor)||(0,ps.Qu)(He,s.state,s.frameNameBoundsCache,[_e,he]))){var Ve=(0,At.TP)(He,s.state);_e=Ve.x,he=Ve.y}s.startTextEditing({sceneX:_e,sceneY:he,insertAtParentCenter:!I.altKey,container:He})}}},this.getElementLinkAtPosition=function(I,G){var se=s.scene.getNonDeletedElements().slice().reverse(),_e=1/0;return se.find(function(he,$){return G&&he.id===G.id&&(_e=$),he.link&&$<=_e&&(0,La.Ni)(he,s.state,[I.x,I.y],s.device.editor.isMobile)})},this.redirectToLink=function(I,G){var se=(0,Ee.LW)(s.lastPointerDownEvent.clientX,s.lastPointerDownEvent.clientY,s.lastPointerUpEvent.clientX,s.lastPointerUpEvent.clientY);if(!(!s.hitLinkElement||G&&se>i.f||!G&&se!==0)){var _e=(0,v.dE)(s.lastPointerDownEvent,s.state),he=(0,La.Ni)(s.hitLinkElement,s.state,[_e.x,_e.y],s.device.editor.isMobile),$=(0,v.dE)(s.lastPointerUpEvent,s.state),ie=(0,La.Ni)(s.hitLinkElement,s.state,[$.x,$.y],s.device.editor.isMobile);if(he&&ie){var De,He,Ve=s.hitLinkElement.link;if(Ve&&(Ve=(0,sl.$u)(Ve),s.props.onLinkOpen&&(He=(0,v.ag)(i.Ks.EXCALIDRAW_LINK,I.nativeEvent),s.props.onLinkOpen(hn(hn({},s.hitLinkElement),{},{link:Ve}),He)),(De=He)===null||De===void 0||!De.defaultPrevented)){var lt=(0,sl.q$)(Ve)?"_self":"_blank",dt=window.open(void 0,lt);dt&&(dt.opener=null,dt.location=Ve)}}}},this.getTopLayerFrameAtSceneCoords=function(I){var G=s.scene.getNonDeletedFrames().filter(function(se){return(0,uo.Dn)(I,se)});return G.length?G[G.length-1]:null},this.handleCanvasPointerMove=function(I){s.savePointer(I.clientX,I.clientY,s.state.cursorButton),ni.pointers.has(I.pointerId)&&ni.pointers.set(I.pointerId,{x:I.clientX,y:I.clientY});var G=ni.initialScale;if(ni.pointers.size===2&&ni.lastCenter&&G&&ni.initialDistance){var se=be(ni.pointers),_e=se.x-ni.lastCenter.x,he=se.y-ni.lastCenter.y;ni.lastCenter=se;var $=Me(Array.from(ni.pointers.values())),ie=s.state.activeTool.type==="freedraw"&&s.state.penMode?1:$/ni.initialDistance,De=ie?(0,xe.j)(G*ie):s.state.zoom.value;s.setState(function(Do){var Eo=(0,u.E)({viewportX:se.x,viewportY:se.y,nextZoom:De},Do);s.translateCanvas({zoom:Eo.zoom,scrollX:Eo.scrollX+_e/De,scrollY:Eo.scrollY+he/De,shouldCacheIgnoreZoom:!0})}),s.resetShouldCacheIgnoreZoomDebounced()}else ni.lastCenter=ni.initialDistance=ni.initialScale=null;if(!(Yi||_i||Na||(0,P.l$)(s.state))){var He=(0,xe._4)(Ts,I.clientX-s.state.offsetLeft,I.clientY-s.state.offsetTop).isOverEither;s.state.draggingElement||s.state.multiElement||(He?(0,Oo.z8)(s.interactiveCanvas):(0,Oo.Uk)(s.interactiveCanvas,s.state));var Ve,lt=(0,v.dE)(I,s.state),dt=lt.x,vt=lt.y;if(s.state.draggingElement||(Ve=s.state.activeTool.type)!=="rectangle"&&Ve!=="ellipse"&&Ve!=="diamond"&&Ve!=="frame"&&Ve!=="image")s.state.draggingElement||s.setState({snapLines:[]});else{var Ct=function(Do,Eo,To,ho){if(!ha({event:ho,selectedElements:[],appState:Eo}))return{originOffset:{x:0,y:0},snapLines:[]};var po,zo=(0,Jo.CF)(Do,[],Eo),Xi=si(Eo.zoom.value),Vn={x:Xi,y:Xi},Pn=[],yo=[],Ho=Ui(zo);try{for(Ho.s();!(po=Ho.n()).done;){var oi,li=po.value,gi=Ui(Ss([li]));try{for(gi.s();!(oi=gi.n()).done;){var jo=oi.value,ko=jo[0]-To.x;Math.abs(ko)<=Math.abs(Vn.x)&&(Math.abs(ko)<Math.abs(Vn.x)&&(yo.length=0),yo.push({type:"pointer",points:[jo,[jo[0],To.y]],direction:"vertical"}),Vn.x=ko);var xi=jo[1]-To.y;Math.abs(xi)<=Math.abs(Vn.y)&&(Math.abs(xi)<Math.abs(Vn.y)&&(Pn.length=0),Pn.push({type:"pointer",points:[jo,[To.x,jo[1]]],direction:"horizontal"}),Vn.y=xi)}}catch(oa){gi.e(oa)}finally{gi.f()}}}catch(oa){Ho.e(oa)}finally{Ho.f()}return{originOffset:{x:yo.length>0?yo[0].points[0][0]-To.x:0,y:Pn.length>0?Pn[0].points[0][1]-To.y:0},snapLines:[].concat(yo,Pn)}}(s.scene.getNonDeletedElements(),s.state,{x:dt,y:vt},I),Mt=Ct.originOffset,Yt=Ct.snapLines;s.setState({snapLines:Yt,originSnapOffset:Mt})}if(s.state.editingLinearElement&&!s.state.editingLinearElement.isDragging){var ar=pe._.handlePointerMove(I,dt,vt,s.state);ar&&ar!==s.state.editingLinearElement&&(0,ke.flushSync)(function(){s.setState({editingLinearElement:ar})}),(ar==null?void 0:ar.lastUncommittedPoint)!=null?s.maybeSuggestBindingAtCursor(lt):(0,ke.flushSync)(function(){s.setState({suggestedBindings:[]})})}if((0,oe.Lx)(s.state.activeTool.type)){var Bt=s.state.draggingElement;(0,oe.Mn)(Bt,!1)?s.maybeSuggestBindingsForLinearElementAtCoords(Bt,[lt],s.state.startBoundElement):s.maybeSuggestBindingAtCursor(lt)}if(s.state.multiElement){var zt=s.state.multiElement,$t=zt.x,dr=zt.y,yr=zt.points,lr=zt.lastCommittedPoint,nr=yr[yr.length-1];if((0,Oo.Uk)(s.interactiveCanvas,s.state),nr===lr)(0,Ee.LW)(dt-$t,vt-dr,nr[0],nr[1])>=i.qx?(0,R.DR)(zt,{points:[].concat((0,b.Z)(yr),[[dt-$t,vt-dr]])}):(0,Oo.KJ)(s.interactiveCanvas,i.oc.POINTER);else if(yr.length>2&&lr&&(0,Ee.LW)(dt-$t,vt-dr,lr[0],lr[1])<i.qx)(0,Oo.KJ)(s.interactiveCanvas,i.oc.POINTER),(0,R.DR)(zt,{points:yr.slice(0,-1)});else{var Tr,qr=(0,Ee.wC)(dt,vt,I[O.tW.CTRL_OR_CMD]?null:s.state.gridSize),pn=(0,k.Z)(qr,2),_n=pn[0],Nn=pn[1],Un=(Tr=zt==null?void 0:zt.lastCommittedPoint)!==null&&Tr!==void 0?Tr:[0,0],kn=(0,k.Z)(Un,2),vn=kn[0],An=kn[1],jn=_n-$t-vn,qn=Nn-dr-An;if((0,O.Ge)(I)){var oo=(0,fe.o4)(vn+$t,An+dr,_n,Nn);jn=oo.width,qn=oo.height}(0,Ee.g6)(yr,s.state.zoom.value)&&(0,Oo.KJ)(s.interactiveCanvas,i.oc.POINTER),(0,R.DR)(zt,{points:[].concat((0,b.Z)(yr.slice(0,-1)),[[vn+jn,An+qn]])})}}else if(!(I.buttons||s.state.activeTool.type!=="selection"&&s.state.activeTool.type!=="text"&&s.state.activeTool.type!=="eraser")){var no=s.scene.getNonDeletedElements(),so=s.scene.getSelectedElements(s.state);if(so.length!==1||He||s.state.editingLinearElement){if(so.length>1&&!He){var zn=(0,fe.n2)((0,fe.KP)(so),dt,vt,s.state.zoom,I.pointerType);if(zn)return void(0,Oo.KJ)(s.interactiveCanvas,(0,fe.Un)({transformHandleType:zn}))}}else{var Mn=(0,fe.jt)(no,s.state,dt,vt,s.state.zoom,I.pointerType);if(Mn&&Mn.transformHandleType)return void(0,Oo.KJ)(s.interactiveCanvas,(0,fe.Un)(Mn))}var Jn=s.getElementAtPosition(lt.x,lt.y);if(s.hitLinkElement=s.getElementLinkAtPosition(lt,Jn),!(0,P.EN)(s.state))if(s.hitLinkElement&&!s.state.selectedElementIds[s.hitLinkElement.id])(0,Oo.KJ)(s.interactiveCanvas,i.oc.POINTER),(0,La.Pp)(s.hitLinkElement,s.state);else if((0,La.lV)(),Jn&&(Jn.link||(0,oe.gs)(Jn))&&s.state.selectedElementIds[Jn.id]&&!s.state.contextMenu&&!s.state.showHyperlinkPopup)s.setState({showHyperlinkPopup:"info"});else if(s.state.activeTool.type==="text")(0,Oo.KJ)(s.interactiveCanvas,(0,fe.iB)(Jn)?i.oc.TEXT:i.oc.CROSSHAIR);else if(s.state.viewModeEnabled)(0,Oo.KJ)(s.interactiveCanvas,i.oc.GRAB);else if(He)(0,Oo.KJ)(s.interactiveCanvas,i.oc.AUTO);else if(s.state.selectedLinearElement)s.handleHoverSelectedLinearElement(s.state.selectedLinearElement,dt,vt);else if(I[O.tW.CTRL_OR_CMD])(0,Oo.KJ)(s.interactiveCanvas,i.oc.AUTO);else{var Ro;(Jn||s.isHittingCommonBoundingBoxOfSelectedElements(lt,so))&&(Jn==null||!Jn.locked)&&(Jn&&(0,oe.gs)(Jn)&&s.isEmbeddableCenter(Jn,I,dt,vt)?((0,Oo.KJ)(s.interactiveCanvas,i.oc.POINTER),s.setState({activeEmbeddable:{element:Jn,state:"hover"}})):((0,Oo.KJ)(s.interactiveCanvas,i.oc.MOVE),((Ro=s.state.activeEmbeddable)===null||Ro===void 0?void 0:Ro.state)==="hover"&&s.setState({activeEmbeddable:null})))}}}},this.handleEraser=function(I,G,se){for(var _e=function(Ct){Ct.forEach(function(Mt){Mt.locked||(he.push(Mt.id),I.altKey?G.elementIdsToErase[Mt.id]&&G.elementIdsToErase[Mt.id].erase&&(G.elementIdsToErase[Mt.id].erase=!1):G.elementIdsToErase[Mt.id]||(G.elementIdsToErase[Mt.id]={erase:!0,opacity:Mt.opacity}))})},he=[],$=(0,Ee.LW)(G.lastCoords.x,G.lastCoords.y,se.x,se.y),ie=10/s.state.zoom.value,De=hn({},G.lastCoords),He=0;He<=$&&(_e(s.getElementsAtPosition(De.x,De.y)),He!==$);){var Ve=(He=Math.min(He+ie,$))/$,lt=(1-Ve)*De.x+Ve*se.x,dt=(1-Ve)*De.y+Ve*se.y;De.x=lt,De.y=dt}var vt=s.scene.getElementsIncludingDeleted().map(function(Ct){var Mt=(0,oe.Xh)(Ct)&&he.includes(Ct.containerId)?Ct.containerId:Ct.id;if(he.includes(Mt)){if(!I.altKey)return(0,R.BE)(Ct,{opacity:i.xY});if(G.elementIdsToErase[Mt]&&G.elementIdsToErase[Mt].erase===!1)return(0,R.BE)(Ct,{opacity:G.elementIdsToErase[Mt].opacity})}return Ct});s.scene.replaceAllElements(vt),G.lastCoords.x=se.x,G.lastCoords.y=se.y},this.handleTouchMove=function(I){dl=!0},this.handleCanvasPointerDown=function(I){var G,se;if(s.state.contextMenu&&s.setState({contextMenu:null}),s.state.snapLines&&s.setAppState({snapLines:[]}),s.updateGestureOnPointerDown(I),I.pointerType==="touch"&&s.state.draggingElement&&s.state.draggingElement.type==="freedraw"){var _e=s.state.draggingElement;s.updateScene(hn(hn({},_e.points.length<10?{elements:s.scene.getElementsIncludingDeleted().filter(function(Yt){return Yt.id!==_e.id})}:{}),{},{appState:{draggingElement:null,editingElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:(0,Jo.Oh)(Object.keys(s.state.selectedElementIds).filter(function(Yt){return Yt!==_e.id}).reduce(function(Yt,ar){return Yt[ar]=s.state.selectedElementIds[ar],Yt},{}),s.state)}}))}else{var he=document.getSelection();if(he!=null&&he.anchorNode&&he.removeAllRanges(),s.maybeOpenContextMenuAfterPointerDownOnTouchDevices(I),s.maybeCleanupAfterMissingPointerUp(I),s.state.penDetected||I.pointerType!=="pen"||s.setState(function(Yt){return{penMode:!0,penDetected:!0}}),!s.device.isTouchScreen&&["pen","touch"].includes(I.pointerType)&&(s.device=(0,v.v4)(s.device,{isTouchScreen:!0})),!(_i||(s.lastPointerDownEvent=I,s.handleCanvasPanUsingWheelOrSpaceDrag(I)||(s.setState({lastPointerDownWith:I.pointerType,cursorButton:"down"}),s.savePointer(I.clientX,I.clientY,"down"),I.button!==i.Oh.MAIN&&I.button!==i.Oh.TOUCH||ni.pointers.size>1)))){var $=s.initialPointerDownState(I);if(s.setState({selectedElementsAreBeingDragged:!1}),!s.handleDraggingScrollBar(I,$)&&(s.clearSelectionIfNotUsingSelection(),s.updateBindingEnabledOnPointerMove(I),!s.handleSelectionOnPointerDown(I,$)&&(!s.state.penMode||I.pointerType!=="touch"||s.state.activeTool.type==="selection"||s.state.activeTool.type==="text"||s.state.activeTool.type==="image")))if(s.state.activeTool.type!=="text"){if(s.state.activeTool.type==="arrow"||s.state.activeTool.type==="line")s.handleLinearElementOnPointerDown(I,s.state.activeTool.type,$);else if(s.state.activeTool.type==="image"){(0,Oo.KJ)(s.interactiveCanvas,i.oc.CROSSHAIR);var ie=s.state.pendingImageElementId&&s.scene.getElement(s.state.pendingImageElementId);if(!ie)return;s.setState({draggingElement:ie,editingElement:ie,pendingImageElementId:null,multiElement:null});var De=(0,v.dE)(I,s.state),He=De.x,Ve=De.y,lt=s.getTopLayerFrameAtSceneCoords({x:He,y:Ve});(0,R.DR)(ie,{x:He,y:Ve,frameId:lt?lt.id:null})}else s.state.activeTool.type==="freedraw"?s.handleFreeDrawElementOnPointerDown(I,s.state.activeTool.type,$):s.state.activeTool.type==="custom"?(0,Oo.Uk)(s.interactiveCanvas,s.state):s.state.activeTool.type==="frame"?s.createFrameElementOnPointerDown($):s.state.activeTool.type==="laser"?s.laserPathManager.startPath($.lastCoords.x,$.lastCoords.y):s.state.activeTool.type!=="eraser"&&s.state.activeTool.type!=="hand"&&s.createGenericElementOnPointerDown(s.state.activeTool.type,$);(G=s.props)===null||G===void 0||(se=G.onPointerDown)===null||se===void 0||se.call(G,s.state.activeTool,$),s.onPointerDownEmitter.trigger(s.state.activeTool,$,I);var dt=s.onPointerMoveFromPointerDownHandler($),vt=s.onPointerUpFromPointerDownHandler($),Ct=s.onKeyDownFromPointerDownHandler($),Mt=s.onKeyUpFromPointerDownHandler($);Zo=vt,s.state.viewModeEnabled&&s.state.activeTool.type!=="laser"||(window.addEventListener(i.Ks.POINTER_MOVE,dt),window.addEventListener(i.Ks.POINTER_UP,vt),window.addEventListener(i.Ks.KEYDOWN,Ct),window.addEventListener(i.Ks.KEYUP,Mt),$.eventListeners.onMove=dt,$.eventListeners.onUp=vt,$.eventListeners.onKeyUp=Mt,$.eventListeners.onKeyDown=Ct)}else s.handleTextOnPointerDown(I,$)}}},this.handleCanvasPointerUp=function(I){var G,se;s.removePointer(I),s.lastPointerUpEvent=I;var _e=(0,v.dE)({clientX:I.clientX,clientY:I.clientY},s.state),he=I.timeStamp-((G=(se=s.lastPointerDownEvent)===null||se===void 0?void 0:se.timeStamp)!==null&&G!==void 0?G:0);if(s.device.editor.isMobile&&he<300){var $=s.getElementAtPosition(_e.x,_e.y);if((0,oe.gs)($)&&s.isEmbeddableCenter($,I,_e.x,_e.y))return void s.handleEmbeddableCenterClick($)}if(s.device.isTouchScreen){var ie=s.getElementAtPosition(_e.x,_e.y);s.hitLinkElement=s.getElementLinkAtPosition(_e,ie)}s.hitLinkElement&&!s.state.selectedElementIds[s.hitLinkElement.id]?he<300&&s.hitLinkElement.type==="embeddable"&&!(0,La.wq)(s.hitLinkElement,s.state,[_e.x,_e.y])?s.handleEmbeddableCenterClick(s.hitLinkElement):s.redirectToLink(I,s.device.isTouchScreen):s.state.viewModeEnabled&&s.setState({activeEmbeddable:null,selectedElementIds:{}})},this.maybeOpenContextMenuAfterPointerDownOnTouchDevices=function(I){I.pointerType==="touch"&&(dl=!1,rs?dl=!0:rs=window.setTimeout(function(){rs=0,dl||s.handleCanvasContextMenu(I)},i.nM))},this.resetContextMenuTimer=function(){clearTimeout(rs),rs=0,dl=!1},this.handleCanvasPanUsingWheelOrSpaceDrag=function(I){if(!(ni.pointers.size<=1&&(I.button===i.Oh.WHEEL||I.button===i.Oh.MAIN&&Yi||(0,P.l$)(s.state)||s.state.viewModeEnabled))||(0,fe.iB)(s.state.editingElement))return!1;_i=!0,I.preventDefault();var G=!1,se=/Linux/.test(window.navigator.platform);(0,Oo.KJ)(s.interactiveCanvas,i.oc.GRABBING);var _e=I.clientX,he=I.clientY,$=(0,v.$9)(function(De){var He=_e-De.clientX,Ve=he-De.clientY;if(_e=De.clientX,he=De.clientY,se&&!G&&(Math.abs(He)>1||Math.abs(Ve)>1)){G=!0;var lt=function dt(vt){document.body.removeEventListener(i.Ks.PASTE,dt),vt.stopPropagation()};document.body.addEventListener(i.Ks.PASTE,lt),window.addEventListener(i.Ks.POINTER_UP,function dt(){setTimeout(function(){document.body.removeEventListener(i.Ks.PASTE,lt),window.removeEventListener(i.Ks.POINTER_UP,dt)},100)})}s.translateCanvas({scrollX:s.state.scrollX-He/s.state.zoom.value,scrollY:s.state.scrollY-Ve/s.state.zoom.value})}),ie=(0,v.tH)(Zo=function(){Zo=null,_i=!1,Yi||(s.state.viewModeEnabled?(0,Oo.KJ)(s.interactiveCanvas,i.oc.GRAB):(0,Oo.Uk)(s.interactiveCanvas,s.state)),s.setState({cursorButton:"up"}),s.savePointer(I.clientX,I.clientY,"up"),window.removeEventListener(i.Ks.POINTER_MOVE,$),window.removeEventListener(i.Ks.POINTER_UP,ie),window.removeEventListener(i.Ks.BLUR,ie),$.flush()});return window.addEventListener(i.Ks.BLUR,ie),window.addEventListener(i.Ks.POINTER_MOVE,$,{passive:!0}),window.addEventListener(i.Ks.POINTER_UP,ie),!0},this.clearSelectionIfNotUsingSelection=function(){s.state.activeTool.type!=="selection"&&s.setState({selectedElementIds:(0,Jo.Oh)({},s.state),selectedGroupIds:{},editingGroupId:null,activeEmbeddable:null})},this.handleSelectionOnPointerDown=function(I,G){if(s.state.activeTool.type==="selection"){var se=s.scene.getNonDeletedElements(),_e=s.scene.getSelectedElements(s.state);if(_e.length!==1||s.state.editingLinearElement)_e.length>1&&(G.resize.handleType=(0,fe.n2)((0,fe.KP)(_e),G.origin.x,G.origin.y,s.state.zoom,I.pointerType));else{var he=(0,fe.jt)(se,s.state,G.origin.x,G.origin.y,s.state.zoom,I.pointerType);he!=null&&(s.setState({resizingElement:he.element}),G.resize.handleType=he.transformHandleType)}if(G.resize.handleType)G.resize.isResizing=!0,G.resize.offset=(0,v.AK)((0,fe.xx)(G.resize.handleType,_e,G.origin.x,G.origin.y)),_e.length===1&&(0,oe.bt)(_e[0])&&_e[0].points.length===2&&(G.resize.arrowDirection=(0,fe.T)(G.resize.handleType,_e[0]));else{var $;if(s.state.selectedLinearElement){var ie=s.state.editingLinearElement||s.state.selectedLinearElement,De=pe._.handlePointerDown(I,s.state,s.history,G.origin,ie);if(De.hitElement&&(G.hit.element=De.hitElement),De.linearElementEditor&&(s.setState({selectedLinearElement:De.linearElementEditor}),s.state.editingLinearElement&&s.setState({editingLinearElement:De.linearElementEditor})),De.didAddPoint)return!0}if(G.hit.element=($=G.hit.element)!==null&&$!==void 0?$:s.getElementAtPosition(G.origin.x,G.origin.y),G.hit.element&&s.getElementLinkAtPosition({x:G.origin.x,y:G.origin.y},G.hit.element))return!1;G.hit.allHitElements=s.getElementsAtPosition(G.origin.x,G.origin.y);var He=G.hit.element,Ve=G.hit.allHitElements.some(function(lt){return s.isASelectedElement(lt)});if(He!==null&&Ve||I.shiftKey||G.hit.hasHitCommonBoundingBoxOfSelectedElements||s.clearSelection(He),s.state.editingLinearElement)s.setState({selectedElementIds:(0,Jo.Oh)((0,H.Z)({},s.state.editingLinearElement.elementId,!0),s.state)});else if(He!=null){if(I[O.tW.CTRL_OR_CMD])return s.state.selectedElementIds[He.id]||(G.hit.wasAddedToSelection=!0),s.setState(function(lt){return hn(hn({},(0,qe.iE)(lt,He)),{},{previousSelectedElementIds:s.state.selectedElementIds})}),!1;s.state.selectedElementIds[He.id]||(s.state.editingGroupId&&!(0,qe.Nd)(He,s.state.editingGroupId)&&s.setState({selectedElementIds:(0,Jo.Oh)({},s.state),selectedGroupIds:{},editingGroupId:null,activeEmbeddable:null}),Ve||G.hit.hasHitCommonBoundingBoxOfSelectedElements||(s.setState(function(lt){var dt=hn(hn({},lt.selectedElementIds),{},(0,H.Z)({},He.id,!0)),vt=[];if(Object.keys(lt.selectedElementIds).forEach(function(Yt){var ar=s.scene.getElement(Yt);ar&&vt.push(ar)}),He.type==="frame")(0,uo.zD)(vt,He.id).forEach(function(Yt){delete dt[Yt.id]});else if(He.frameId)dt[He.frameId]&&delete dt[He.id];else{var Ct=He.groupIds,Mt=new Set(Ct.flatMap(function(Yt){return(0,qe.Fb)(s.scene.getNonDeletedElements(),Yt)}).filter(function(Yt){return Yt.type==="frame"}).map(function(Yt){return Yt.id}));Mt.size>0&&vt.forEach(function(Yt){Yt.frameId&&Mt.has(Yt.frameId)&&(delete dt[Yt.id],Yt.groupIds.flatMap(function(ar){return(0,qe.Fb)(s.scene.getNonDeletedElements(),ar)}).forEach(function(ar){delete dt[ar.id]}))})}return hn(hn({},(0,qe.bO)({editingGroupId:lt.editingGroupId,selectedElementIds:dt},s.scene.getNonDeletedElements(),lt,s)),{},{showHyperlinkPopup:!(!He.link&&!(0,oe.gs)(He))&&"info"})}),G.hit.wasAddedToSelection=!0))}s.setState({previousSelectedElementIds:s.state.selectedElementIds})}}return!1},this.handleTextOnPointerDown=function(I,G){if(!(0,fe.iB)(s.state.editingElement)){var se=G.origin.x,_e=G.origin.y,he=s.getElementAtPosition(se,_e,{includeBoundTextElement:!0}),$=(0,At.OW)(s.scene.getNonDeletedElements(),s.state,se,_e);(0,oe.Xo)(he)&&($=he,se=he.x+he.width/2,_e=he.y+he.height/2),s.startTextEditing({sceneX:se,sceneY:_e,insertAtParentCenter:!I.altKey,container:$}),(0,Oo.z8)(s.interactiveCanvas),s.state.activeTool.locked||s.setState({activeTool:(0,v.Om)(s.state,{type:"selection"})})}},this.handleFreeDrawElementOnPointerDown=function(I,G,se){var _e=(0,Ee.wC)(se.origin.x,se.origin.y,null),he=(0,k.Z)(_e,2),$=he[0],ie=he[1],De=s.getTopLayerFrameAtSceneCoords({x:$,y:ie}),He=(0,ne.KE)({type:G,x:$,y:ie,strokeColor:s.state.currentItemStrokeColor,backgroundColor:s.state.currentItemBackgroundColor,fillStyle:s.state.currentItemFillStyle,strokeWidth:s.state.currentItemStrokeWidth,strokeStyle:s.state.currentItemStrokeStyle,roughness:s.state.currentItemRoughness,opacity:s.state.currentItemOpacity,roundness:null,simulatePressure:I.pressure===.5,locked:!1,frameId:De?De.id:null});s.setState(function(dt){var vt=hn({},dt.selectedElementIds);return delete vt[He.id],{selectedElementIds:(0,Jo.Oh)(vt,dt)}});var Ve=He.simulatePressure?He.pressures:[].concat((0,b.Z)(He.pressures),[I.pressure]);(0,R.DR)(He,{points:[[0,0]],pressures:Ve});var lt=(0,E.Y9)(se.origin,s.scene);s.scene.addNewElement(He),s.setState({draggingElement:He,editingElement:He,startBoundElement:lt,suggestedBindings:[]})},this.insertEmbeddableElement=function(I){var G,se=I.sceneX,_e=I.sceneY,he=I.link,$=(0,Ee.wC)(se,_e,(G=s.lastPointerDownEvent)!==null&&G!==void 0&&G[O.tW.CTRL_OR_CMD]?null:s.state.gridSize),ie=(0,k.Z)($,2),De=ie[0],He=ie[1],Ve=(0,z.LM)(he);if(Ve){Ve.warning&&s.setToast({message:Ve.warning,closable:!0});var lt=(0,ne.M)({type:"embeddable",x:De,y:He,strokeColor:"transparent",backgroundColor:"transparent",fillStyle:s.state.currentItemFillStyle,strokeWidth:s.state.currentItemStrokeWidth,strokeStyle:s.state.currentItemStrokeStyle,roughness:s.state.currentItemRoughness,roundness:s.getCurrentItemRoundness("embeddable"),opacity:s.state.currentItemOpacity,locked:!1,width:Ve.aspectRatio.w,height:Ve.aspectRatio.h,link:he,validated:null});return s.scene.replaceAllElements([].concat((0,b.Z)(s.scene.getElementsIncludingDeleted()),[lt])),lt}},this.createImageElement=function(I){var G,se=I.sceneX,_e=I.sceneY,he=I.addToFrameUnderCursor,$=he===void 0||he,ie=(0,Ee.wC)(se,_e,(G=s.lastPointerDownEvent)!==null&&G!==void 0&&G[O.tW.CTRL_OR_CMD]?null:s.state.gridSize),De=(0,k.Z)(ie,2),He=De[0],Ve=De[1],lt=$?s.getTopLayerFrameAtSceneCoords({x:He,y:Ve}):null;return(0,fe.vw)({type:"image",x:He,y:Ve,strokeColor:s.state.currentItemStrokeColor,backgroundColor:s.state.currentItemBackgroundColor,fillStyle:s.state.currentItemFillStyle,strokeWidth:s.state.currentItemStrokeWidth,strokeStyle:s.state.currentItemStrokeStyle,roughness:s.state.currentItemRoughness,roundness:null,opacity:s.state.currentItemOpacity,locked:!1,frameId:lt?lt.id:null})},this.handleLinearElementOnPointerDown=function(I,G,se){if(s.state.multiElement){var _e=s.state.multiElement;if(_e.type==="line"&&(0,Ee.g6)(_e.points,s.state.zoom.value))return(0,R.DR)(_e,{lastCommittedPoint:_e.points[_e.points.length-1]}),void s.actionManager.executeAction(Q.pL);var he=_e.x,$=_e.y,ie=_e.lastCommittedPoint;if(_e.points.length>1&&ie&&(0,Ee.LW)(se.origin.x-he,se.origin.y-$,ie[0],ie[1])<i.qx)return void s.actionManager.executeAction(Q.pL);s.setState(function(yr){return{selectedElementIds:(0,Jo.Oh)(hn(hn({},yr.selectedElementIds),{},(0,H.Z)({},_e.id,!0)),yr)}}),(0,R.DR)(_e,{lastCommittedPoint:_e.points[_e.points.length-1]}),(0,Oo.KJ)(s.interactiveCanvas,i.oc.POINTER)}else{var De=(0,Ee.wC)(se.origin.x,se.origin.y,I[O.tW.CTRL_OR_CMD]?null:s.state.gridSize),He=(0,k.Z)(De,2),Ve=He[0],lt=He[1],dt=s.getTopLayerFrameAtSceneCoords({x:Ve,y:lt}),vt=s.state,Ct=vt.currentItemStartArrowhead,Mt=vt.currentItemEndArrowhead,Yt=G==="arrow"?[Ct,Mt]:[null,null],ar=(0,k.Z)(Yt,2),Bt=ar[0],zt=ar[1],$t=(0,fe.y8)({type:G,x:Ve,y:lt,strokeColor:s.state.currentItemStrokeColor,backgroundColor:s.state.currentItemBackgroundColor,fillStyle:s.state.currentItemFillStyle,strokeWidth:s.state.currentItemStrokeWidth,strokeStyle:s.state.currentItemStrokeStyle,roughness:s.state.currentItemRoughness,opacity:s.state.currentItemOpacity,roundness:s.state.currentItemRoundness==="round"?{type:i.a6.PROPORTIONAL_RADIUS}:null,startArrowhead:Bt,endArrowhead:zt,locked:!1,frameId:dt?dt.id:null});s.setState(function(yr){var lr=hn({},yr.selectedElementIds);return delete lr[$t.id],{selectedElementIds:(0,Jo.Oh)(lr,yr)}}),(0,R.DR)($t,{points:[].concat((0,b.Z)($t.points),[[0,0]])});var dr=(0,E.Y9)(se.origin,s.scene);s.scene.addNewElement($t),s.setState({draggingElement:$t,editingElement:$t,startBoundElement:dr,suggestedBindings:[]})}},this.createGenericElementOnPointerDown=function(I,G){var se,_e,he=(0,Ee.wC)(G.origin.x,G.origin.y,(se=s.lastPointerDownEvent)!==null&&se!==void 0&&se[O.tW.CTRL_OR_CMD]?null:s.state.gridSize),$=(0,k.Z)(he,2),ie=$[0],De=$[1],He=s.getTopLayerFrameAtSceneCoords({x:ie,y:De}),Ve={x:ie,y:De,strokeColor:s.state.currentItemStrokeColor,backgroundColor:s.state.currentItemBackgroundColor,fillStyle:s.state.currentItemFillStyle,strokeWidth:s.state.currentItemStrokeWidth,strokeStyle:s.state.currentItemStrokeStyle,roughness:s.state.currentItemRoughness,opacity:s.state.currentItemOpacity,roundness:s.getCurrentItemRoundness(I),locked:!1,frameId:He?He.id:null};(_e=I==="embeddable"?(0,ne.M)(hn({type:"embeddable",validated:null},Ve)):(0,fe.Up)(hn({type:I},Ve))).type==="selection"?s.setState({selectionElement:_e,draggingElement:_e}):(s.scene.addNewElement(_e),s.setState({multiElement:null,draggingElement:_e,editingElement:_e}))},this.createFrameElementOnPointerDown=function(I){var G,se=(0,Ee.wC)(I.origin.x,I.origin.y,(G=s.lastPointerDownEvent)!==null&&G!==void 0&&G[O.tW.CTRL_OR_CMD]?null:s.state.gridSize),_e=(0,k.Z)(se,2),he=_e[0],$=_e[1],ie=(0,ne.M3)(hn({x:he,y:$,opacity:s.state.currentItemOpacity,locked:!1},i.iG));s.scene.replaceAllElements([].concat((0,b.Z)(s.scene.getElementsIncludingDeleted()),[ie])),s.setState({multiElement:null,draggingElement:ie,editingElement:ie})},this.restoreReadyToEraseElements=function(I){var G=s.scene.getElementsIncludingDeleted().map(function(se){return I.elementIdsToErase[se.id]&&I.elementIdsToErase[se.id].erase?(0,R.BE)(se,{opacity:I.elementIdsToErase[se.id].opacity}):(0,oe.Xh)(se)&&I.elementIdsToErase[se.containerId]&&I.elementIdsToErase[se.containerId].erase?(0,R.BE)(se,{opacity:I.elementIdsToErase[se.containerId].opacity}):se.frameId&&I.elementIdsToErase[se.frameId]&&I.elementIdsToErase[se.frameId].erase?(0,R.BE)(se,{opacity:I.elementIdsToErase[se.frameId].opacity}):se});s.scene.replaceAllElements(G)},this.eraseElements=function(I){var G=s.scene.getElementsIncludingDeleted().map(function(se){return I.elementIdsToErase[se.id]&&I.elementIdsToErase[se.id].erase||(0,oe.Xh)(se)&&I.elementIdsToErase[se.containerId]&&I.elementIdsToErase[se.containerId].erase||se.frameId&&I.elementIdsToErase[se.frameId]&&I.elementIdsToErase[se.frameId].erase?(0,R.BE)(se,{isDeleted:!0}):se});s.history.resumeRecording(),s.scene.replaceAllElements(G)},this.initializeImage=function(){var I=(0,w.Z)(S().mark(function G(se){var _e,he,$,ie,De,He,Ve,lt,dt,vt,Ct,Mt,Yt,ar,Bt;return S().wrap(function(zt){for(;;)switch(zt.prev=zt.next){case 0:if(ie=se.imageFile,De=se.imageElement,He=se.showCursorImagePreview,Ve=He!==void 0&&He,(0,Sr.Wr)(ie)){zt.next=3;break}throw new Error((0,B.t)("errors.unsupportedFileType"));case 3:if(lt=ie.type,(0,Oo.KJ)(s.interactiveCanvas,"wait"),lt!==i.LO.svg){zt.next=23;break}return zt.prev=6,zt.t0=Sr.Pn,zt.t1=Ns.bp,zt.next=11,ie.text();case 11:return zt.t2=zt.sent,zt.next=14,(0,zt.t1)(zt.t2);case 14:zt.t3=zt.sent,zt.t4=ie.name,ie=(0,zt.t0)(zt.t3,zt.t4),zt.next=23;break;case 19:throw zt.prev=19,zt.t5=zt.catch(6),console.warn(zt.t5),new Error((0,B.t)("errors.svgImageInsertError"));case 23:return zt.next=25,((_e=(he=s.props).generateIdForFile)===null||_e===void 0?void 0:_e.call(he,ie))||(0,Sr.tW)(ie);case 25:if(dt=zt.sent){zt.next=29;break}throw console.warn("Couldn't generate file id or the supplied `generateIdForFile` didn't resolve to one."),new Error((0,B.t)("errors.imageInsertError"));case 29:if((vt=s.files[dt])!=null&&vt.dataURL){zt.next=42;break}return zt.prev=31,zt.next=34,(0,Sr.Tu)(ie,{maxWidthOrHeight:i.h6});case 34:ie=zt.sent,zt.next=40;break;case 37:zt.prev=37,zt.t6=zt.catch(31),console.error("error trying to resing image file on insertion",zt.t6);case 40:if(!(ie.size>i.$n)){zt.next=42;break}throw new Error((0,B.t)("errors.fileTooBig",{maxSize:"".concat(Math.trunc(i.$n/1024/1024),"MB")}));case 42:if(Ve&&(Mt=(Ct=s.files[dt])===null||Ct===void 0?void 0:Ct.dataURL,Yt=Mt&&(0,Sr.KG)(Mt),s.setImagePreviewCursor(Yt||ie)),zt.t7=($=s.files[dt])===null||$===void 0?void 0:$.dataURL,zt.t7){zt.next=48;break}return zt.next=47,(0,Sr.Sf)(ie);case 47:zt.t7=zt.sent;case 48:return ar=zt.t7,Bt=(0,R.DR)(De,{fileId:dt},!1),zt.abrupt("return",new Promise(function(){var $t=(0,w.Z)(S().mark(function dr(yr,lr){var nr,Tr;return S().wrap(function(qr){for(;;)switch(qr.prev=qr.next){case 0:if(qr.prev=0,s.files=hn(hn({},s.files),{},(0,H.Z)({},dt,{mimeType:lt,id:dt,dataURL:ar,created:Date.now(),lastRetrieved:Date.now()})),Tr=s.imageCache.get(dt)){qr.next=7;break}return s.addNewImagesToImageCache(),qr.next=7,s.updateImageCache([Bt]);case 7:if(!((Tr==null?void 0:Tr.image)instanceof Promise)){qr.next=10;break}return qr.next=10,Tr.image;case 10:s.state.pendingImageElementId!==Bt.id&&((nr=s.state.draggingElement)===null||nr===void 0?void 0:nr.id)!==Bt.id&&s.initializeImageDimensions(Bt,!0),yr(Bt),qr.next=18;break;case 14:qr.prev=14,qr.t0=qr.catch(0),console.error(qr.t0),lr(new Error((0,B.t)("errors.imageInsertError")));case 18:return qr.prev=18,Ve||(0,Oo.z8)(s.interactiveCanvas),qr.finish(18);case 21:case"end":return qr.stop()}},dr,null,[[0,14,18,21]])}));return function(dr,yr){return $t.apply(this,arguments)}}()));case 51:case"end":return zt.stop()}},G,null,[[6,19],[31,37]])}));return function(G){return I.apply(this,arguments)}}(),this.insertImageElement=function(){var I=(0,w.Z)(S().mark(function G(se,_e,he){return S().wrap(function($){for(;;)switch($.prev=$.next){case 0:if(s.isToolSupported("image")){$.next=3;break}return s.setState({errorMessage:(0,B.t)("errors.imageToolNotSupported")}),$.abrupt("return");case 3:return s.scene.addNewElement(se),$.prev=4,$.next=7,s.initializeImage({imageFile:_e,imageElement:se,showCursorImagePreview:he});case 7:return $.abrupt("return",$.sent);case 10:return $.prev=10,$.t0=$.catch(4),(0,R.DR)(se,{isDeleted:!0}),s.actionManager.executeAction(Q.pL),s.setState({errorMessage:$.t0.message||(0,B.t)("errors.imageInsertError")}),$.abrupt("return",null);case 16:case"end":return $.stop()}},G,null,[[4,10]])}));return function(G,se,_e){return I.apply(this,arguments)}}(),this.setImagePreviewCursor=function(){var I=(0,w.Z)(S().mark(function G(se){var _e,he,$,ie,De,He,Ve;return S().wrap(function(lt){for(;;)switch(lt.prev=lt.next){case 0:return _e=96,lt.next=3,(0,Sr.Tu)(se,{maxWidthOrHeight:_e});case 3:return he=lt.sent,lt.next=6,(0,Sr.Sf)(he);case 6:if($=lt.sent,se.type!==i.LO.svg){lt.next=20;break}return lt.next=10,(0,Ns.PK)($);case 10:ie=lt.sent,De=Math.min(ie.height,_e),(He=De*(ie.width/ie.height))>_e&&(De=(He=_e)*(ie.height/ie.width)),(Ve=document.createElement("canvas")).height=De,Ve.width=He,Ve.getContext("2d").drawImage(ie,0,0,He,De),$=Ve.toDataURL(i.LO.svg);case 20:s.state.pendingImageElementId&&(0,Oo.KJ)(s.interactiveCanvas,"url(".concat($,") 4 4, auto"));case 21:case"end":return lt.stop()}},G)}));return function(G){return I.apply(this,arguments)}}(),this.onImageAction=function(){var I=(0,w.Z)(S().mark(function G(se){var _e,he,$,ie,De,He,Ve,lt;return S().wrap(function(dt){for(;;)switch(dt.prev=dt.next){case 0:return _e=se.insertOnCanvasDirectly,dt.prev=1,he=s.state.width/2+s.state.offsetLeft,$=s.state.height/2+s.state.offsetTop,ie=(0,v.dE)({clientX:he,clientY:$},s.state),De=ie.x,He=ie.y,dt.next=7,(0,Mr.I$)({description:"Image",extensions:Object.keys(i.KL)});case 7:Ve=dt.sent,lt=s.createImageElement({sceneX:De,sceneY:He,addToFrameUnderCursor:!1}),_e?(s.insertImageElement(lt,Ve),s.initializeImageDimensions(lt),s.setState({selectedElementIds:(0,Jo.Oh)((0,H.Z)({},lt.id,!0),s.state)},function(){s.actionManager.executeAction(Q.pL)})):s.setState({pendingImageElementId:lt.id},function(){s.insertImageElement(lt,Ve,!0)}),dt.next=16;break;case 12:dt.prev=12,dt.t0=dt.catch(1),dt.t0.name!=="AbortError"?console.error(dt.t0):console.warn(dt.t0),s.setState({pendingImageElementId:null,editingElement:null,activeTool:(0,v.Om)(s.state,{type:"selection"})},function(){s.actionManager.executeAction(Q.pL)});case 16:case"end":return dt.stop()}},G,null,[[1,12]])}));return function(G){return I.apply(this,arguments)}}(),this.initializeImageDimensions=function(I){var G,se=arguments.length>1&&arguments[1]!==void 0&&arguments[1],_e=(0,oe.wi)(I)&&((G=s.imageCache.get(I.fileId))===null||G===void 0?void 0:G.image);if(!_e||_e instanceof Promise){if(I.width<i.f/s.state.zoom.value&&I.height<i.f/s.state.zoom.value){var he=100/s.state.zoom.value;(0,R.DR)(I,{x:I.x-he/2,y:I.y-he/2,width:he,height:he})}}else if(se||I.width<i.f/s.state.zoom.value&&I.height<i.f/s.state.zoom.value){var $=Math.max(s.state.height-120,160),ie=Math.min($,Math.floor(.5*s.state.height)/s.state.zoom.value),De=Math.min(_e.naturalHeight,ie),He=De*(_e.naturalWidth/_e.naturalHeight),Ve=I.x+I.width/2-He/2,lt=I.y+I.height/2-De/2;(0,R.DR)(I,{x:Ve,y:lt,width:He,height:De})}},this.updateImageCache=function(){var I=(0,w.Z)(S().mark(function G(se){var _e,he,$,ie,De,He,Ve,lt=arguments;return S().wrap(function(dt){for(;;)switch(dt.prev=dt.next){case 0:return _e=lt.length>1&&lt[1]!==void 0?lt[1]:s.files,dt.next=3,(0,Ns.Xx)({imageCache:s.imageCache,fileIds:se.map(function(vt){return vt.fileId}),files:_e});case 3:if(he=dt.sent,$=he.updatedFiles,ie=he.erroredFiles,$.size||ie.size){De=Ji(se);try{for(De.s();!(He=De.n()).done;)Ve=He.value,$.has(Ve.fileId)&&Wi.R.delete(Ve)}catch(vt){De.e(vt)}finally{De.f()}}return ie.size&&s.scene.replaceAllElements(s.scene.getElementsIncludingDeleted().map(function(vt){return(0,oe.wi)(vt)&&ie.has(vt.fileId)?(0,R.BE)(vt,{status:"error"}):vt})),dt.abrupt("return",{updatedFiles:$,erroredFiles:ie});case 9:case"end":return dt.stop()}},G)}));return function(G){return I.apply(this,arguments)}}(),this.addNewImagesToImageCache=(0,w.Z)(S().mark(function I(){var G,se,_e,he,$=arguments;return S().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:if(G=$.length>0&&$[0]!==void 0?$[0]:(0,Ns.oA)(s.scene.getNonDeletedElements()),se=$.length>1&&$[1]!==void 0?$[1]:s.files,!(_e=G.filter(function(De){return!De.isDeleted&&!s.imageCache.has(De.fileId)})).length){ie.next=9;break}return ie.next=6,s.updateImageCache(_e,se);case 6:he=ie.sent,he.updatedFiles.size&&s.scene.informMutation();case 9:case"end":return ie.stop()}},I)})),this.scheduleImageRefresh=Cl()(function(){s.addNewImagesToImageCache()},i.LL),this.updateBindingEnabledOnPointerMove=function(I){var G=(0,E.cz)(I);s.state.isBindingEnabled!==G&&s.setState({isBindingEnabled:G})},this.maybeSuggestBindingAtCursor=function(I){var G=(0,E.Y9)(I,s.scene);s.setState({suggestedBindings:G!=null?[G]:[]})},this.maybeSuggestBindingsForLinearElementAtCoords=function(I,G,se){if(G.length){var _e=G.reduce(function(he,$){var ie=(0,E.Y9)($,s.scene);return ie==null||(0,E.DK)(I,se==null?void 0:se.id,ie)||he.push(ie),he},[]);s.setState({suggestedBindings:_e})}},this.handleInteractiveCanvasRef=function(I){var G,se,_e;I!==null?(s.interactiveCanvas=I,s.interactiveCanvas.addEventListener(i.Ks.WHEEL,s.handleWheel),s.interactiveCanvas.addEventListener(i.Ks.TOUCH_START,s.onTouchStart),s.interactiveCanvas.addEventListener(i.Ks.TOUCH_END,s.onTouchEnd)):((G=s.interactiveCanvas)===null||G===void 0||G.removeEventListener(i.Ks.WHEEL,s.handleWheel),(se=s.interactiveCanvas)===null||se===void 0||se.removeEventListener(i.Ks.TOUCH_START,s.onTouchStart),(_e=s.interactiveCanvas)===null||_e===void 0||_e.removeEventListener(i.Ks.TOUCH_END,s.onTouchEnd))},this.handleAppOnDrop=function(){var I=(0,w.Z)(S().mark(function G(se){var _e,he,$,ie,De,He,Ve,lt,dt,vt,Ct,Mt,Yt,ar,Bt,zt;return S().wrap(function($t){for(;;)switch($t.prev=$t.next){case 0:return $t.next=2,(0,Sr.bv)(se);case 2:if($=$t.sent,ie=$.file,De=$.fileHandle,He=(0,v.dE)(se,s.state),Ve=He.x,lt=He.y,$t.prev=6,!(0,Sr.Wr)(ie)||!s.isToolSupported("image")){$t.next=26;break}if((ie==null?void 0:ie.type)!==i.LO.png&&(ie==null?void 0:ie.type)!==i.LO.svg){$t.next=21;break}return $t.prev=9,$t.next=12,(0,X.cT)(ie,s.state,s.scene.getElementsIncludingDeleted(),De);case 12:return dt=$t.sent,s.syncActionResult(hn(hn({},dt),{},{appState:hn(hn({},dt.appState||s.state),{},{isLoading:!1}),replaceFiles:!0,commitToHistory:!0})),$t.abrupt("return");case 17:if($t.prev=17,$t.t0=$t.catch(9),$t.t0.name==="EncodingError"){$t.next=21;break}throw $t.t0;case 21:return vt=s.createImageElement({sceneX:Ve,sceneY:lt}),s.insertImageElement(vt,ie),s.initializeImageDimensions(vt),s.setState({selectedElementIds:(0,Jo.Oh)((0,H.Z)({},vt.id,!0),s.state)}),$t.abrupt("return");case 26:$t.next=31;break;case 28:return $t.prev=28,$t.t1=$t.catch(6),$t.abrupt("return",s.setState({isLoading:!1,errorMessage:$t.t1.message}));case 31:if(!(Ct=se.dataTransfer.getData(i.LO.excalidrawlib))||typeof Ct!="string"){$t.next=35;break}try{Mt=(0,Sr.wf)(Ct),s.addElementsFromPasteOrLibrary({elements:(0,le.WV)(Mt),position:se,files:null})}catch(dr){s.setState({errorMessage:dr.message})}return $t.abrupt("return");case 35:if(!ie){$t.next=38;break}return $t.next=38,s.loadFileToCanvas(ie,De);case 38:(_e=se.dataTransfer)!==null&&_e!==void 0&&(he=_e.types)!==null&&he!==void 0&&he.includes("text/plain")&&(Bt=(Yt=se.dataTransfer)===null||Yt===void 0?void 0:Yt.getData("text"))&&(0,z.xm)(Bt,s.props.validateEmbeddable)&&(/^(http|https):\/\/[^\s/$.?#].[^\s]*$/.test(Bt)||((ar=(0,z.LM)(Bt))===null||ar===void 0?void 0:ar.type)==="video")&&(zt=s.insertEmbeddableElement({sceneX:Ve,sceneY:lt,link:(0,sl.$u)(Bt)}))&&s.setState({selectedElementIds:(0,H.Z)({},zt.id,!0)});case 39:case"end":return $t.stop()}},G,null,[[6,28],[9,17]])}));return function(G){return I.apply(this,arguments)}}(),this.loadFileToCanvas=function(){var I=(0,w.Z)(S().mark(function G(se,_e){var he;return S().wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.next=2,(0,Sr.gY)(se);case 2:return se=$.sent,$.prev=3,$.next=6,(0,Sr.ZY)(se,s.state,s.scene.getElementsIncludingDeleted(),_e);case 6:if((he=$.sent).type!==i.LO.excalidraw){$.next=12;break}s.setState({isLoading:!0}),s.syncActionResult(hn(hn({},he.data),{},{appState:hn(hn({},he.data.appState||s.state),{},{isLoading:!1}),replaceFiles:!0,commitToHistory:!0})),$.next=15;break;case 12:if(he.type!==i.LO.excalidrawlib){$.next=15;break}return $.next=15,s.library.updateLibrary({libraryItems:se,merge:!0,openLibraryMenu:!0}).catch(function(ie){console.error(ie),s.setState({errorMessage:(0,B.t)("errors.importLibraryError")})});case 15:$.next=23;break;case 17:if($.prev=17,$.t0=$.catch(3),!($.t0 instanceof yl.jk&&$.t0.code==="IMAGE_NOT_CONTAINS_SCENE_DATA")||s.isToolSupported("image")){$.next=22;break}return s.setState({isLoading:!1,errorMessage:(0,B.t)("errors.imageToolNotSupported")}),$.abrupt("return");case 22:s.setState({isLoading:!1,errorMessage:$.t0.message});case 23:case"end":return $.stop()}},G,null,[[3,17]])}));return function(G,se){return I.apply(this,arguments)}}(),this.handleCanvasContextMenu=function(I){if(I.preventDefault(),!("pointerType"in I.nativeEvent&&I.nativeEvent.pointerType==="touch"||"pointerType"in I.nativeEvent&&I.nativeEvent.pointerType==="pen"&&I.button!==i.Oh.SECONDARY)||s.state.activeTool.type==="selection"){var G=(0,v.dE)(I,s.state),se=G.x,_e=G.y,he=s.getElementAtPosition(se,_e,{preferSelected:!0,includeLockedElements:!0}),$=s.scene.getSelectedElements(s.state),ie=s.isHittingCommonBoundingBoxOfSelectedElements({x:se,y:_e},$),De=he||ie?"element":"canvas",He=s.excalidrawContainerRef.current.getBoundingClientRect(),Ve=He.top,lt=He.left,dt=I.clientX-lt,vt=I.clientY-Ve;(0,C.L)("contextMenu","openContextMenu",De),s.setState(hn(hn({},he&&!s.state.selectedElementIds[he.id]?hn(hn(hn({},s.state),(0,qe.bO)({editingGroupId:s.state.editingGroupId,selectedElementIds:(0,H.Z)({},he.id,!0)},s.scene.getNonDeletedElements(),s.state,s)),{},{selectedLinearElement:(0,oe.bt)(he)?new pe._(he,s.scene):null}):s.state),{},{showHyperlinkPopup:!1}),function(){s.setState({contextMenu:{top:vt,left:dt,items:s.getContextMenuItems(De)}})})}},this.maybeDragNewGenericElement=function(I,G){var se=s.state.draggingElement,_e=I.lastCoords;if(se)if(se.type==="selection"&&s.state.activeTool.type!=="eraser")(0,fe.EJ)(se,s.state.activeTool.type,I.origin.x,I.origin.y,_e.x,_e.y,(0,v.TE)(I.origin.x,_e.x),(0,v.TE)(I.origin.y,_e.y),(0,O.E0)(G),(0,O.OA)(G));else{var he,$,ie,De,He,Ve=(0,Ee.wC)(_e.x,_e.y,G[O.tW.CTRL_OR_CMD]?null:s.state.gridSize),lt=(0,k.Z)(Ve,2),dt=lt[0],vt=lt[1],Ct=(0,oe.wi)(se)&&((he=s.imageCache.get(se.fileId))===null||he===void 0?void 0:he.image),Mt=!Ct||Ct instanceof Promise?null:Ct.width/Ct.height;s.maybeCacheReferenceSnapPoints(G,[se]);var Yt=function(zt,$t,dr,yr,lr){var nr,Tr,qr,pn;if(!ha({event:dr,selectedElements:[zt],appState:$t}))return{snapOffset:{x:0,y:0},snapLines:[]};var _n=[[yr.x+lr.x,yr.y+lr.y]],Nn=si($t.zoom.value),Un={x:Nn,y:Nn},kn=[],vn=[];Je([zt],_n,$t,dr,kn,vn,Un);var An={x:(nr=(Tr=kn[0])===null||Tr===void 0?void 0:Tr.offset)!==null&&nr!==void 0?nr:0,y:(qr=(pn=vn[0])===null||pn===void 0?void 0:pn.offset)!==null&&qr!==void 0?qr:0};Un.x=0,Un.y=0,kn.length=0,vn.length=0;var jn=Ss([zt],{boundingBoxCorners:!0,omitCenter:!0});return Je([zt],jn,$t,dr,kn,vn,Un),{snapOffset:An,snapLines:_t(kn,vn)}}(se,s.state,G,{x:I.originInGrid.x+(($=(ie=s.state.originSnapOffset)===null||ie===void 0?void 0:ie.x)!==null&&$!==void 0?$:0),y:I.originInGrid.y+((De=(He=s.state.originSnapOffset)===null||He===void 0?void 0:He.y)!==null&&De!==void 0?De:0)},{x:dt-I.originInGrid.x,y:vt-I.originInGrid.y}),ar=Yt.snapOffset,Bt=Yt.snapLines;dt+=ar.x,vt+=ar.y,s.setState({snapLines:Bt}),(0,fe.EJ)(se,s.state.activeTool.type,I.originInGrid.x,I.originInGrid.y,dt,vt,(0,v.TE)(I.originInGrid.x,dt),(0,v.TE)(I.originInGrid.y,vt),(0,oe.pC)(se)?!(0,O.E0)(G):(0,O.E0)(G),(0,O.OA)(G),Mt,s.state.originSnapOffset),s.maybeSuggestBindingForAll([se]),s.state.activeTool.type==="frame"&&s.setState({elementsToHighlight:(0,uo.ni)(s.scene.getNonDeletedElements(),se,s.state)})}},this.maybeHandleResize=function(I,G){var se=s.scene.getSelectedElements(s.state),_e=se.filter(function(yr){return yr.type==="frame"}),he=I.resize.handleType;if(_e.length>0&&he==="rotation")return!1;s.setState({isResizing:he&&he!=="rotation",isRotating:he==="rotation",activeEmbeddable:null});var $=I.lastCoords,ie=(0,Ee.wC)($.x-I.resize.offset.x,$.y-I.resize.offset.y,G[O.tW.CTRL_OR_CMD]?null:s.state.gridSize),De=(0,k.Z)(ie,2),He=De[0],Ve=De[1],lt=new Map;if(_e.forEach(function(yr){(0,uo.zD)(s.scene.getNonDeletedElements(),yr.id).forEach(function(lr){lt.set(yr.id+lr.id,{x:lr.x-yr.x,y:lr.y-yr.y})})}),!s.state.selectedElementsAreBeingDragged){var dt=(0,Ee.wC)($.x,$.y,G[O.tW.CTRL_OR_CMD]?null:s.state.gridSize),vt=(0,k.Z)(dt,2),Ct=vt[0],Mt=vt[1],Yt={x:Ct-I.originInGrid.x,y:Mt-I.originInGrid.y},ar=(0,b.Z)(I.originalElements.values());s.maybeCacheReferenceSnapPoints(G,se);var Bt=jt(se,(0,xe.eD)(ar,s.state),s.state,G,Yt,he),zt=Bt.snapOffset,$t=Bt.snapLines;He+=zt.x,Ve+=zt.y,s.setState({snapLines:$t})}if((0,fe.vY)(I,he,se,I.resize.arrowDirection,(0,O.Ge)(G),(0,O.OA)(G),se.length===1&&(0,oe.pC)(se[0])?!(0,O.E0)(G):(0,O.E0)(G),He,Ve,I.resize.center.x,I.resize.center.y,s.state)){s.maybeSuggestBindingForAll(se);var dr=new Set;return _e.forEach(function(yr){var lr=(0,uo.zD)(s.scene.getNonDeletedElements(),yr.id);he&&(he.includes("w")&&lr.forEach(function(nr){var Tr,qr;(0,R.DR)(nr,{x:yr.x+(((Tr=lt.get(yr.id+nr.id))===null||Tr===void 0?void 0:Tr.x)||0),y:yr.y+(((qr=lt.get(yr.id+nr.id))===null||qr===void 0?void 0:qr.y)||0)})}),he.includes("n")&&lr.forEach(function(nr){var Tr,qr;(0,R.DR)(nr,{x:yr.x+(((Tr=lt.get(yr.id+nr.id))===null||Tr===void 0?void 0:Tr.x)||0),y:yr.y+(((qr=lt.get(yr.id+nr.id))===null||qr===void 0?void 0:qr.y)||0)})})),(0,uo.ni)(s.scene.getNonDeletedElements(),yr,s.state).forEach(function(nr){return dr.add(nr)})}),s.setState({elementsToHighlight:(0,b.Z)(dr)}),!0}return!1},this.getContextMenuItems=function(I){var G=[];return G.push(Q.jK,Q.FA),I==="canvas"?s.state.viewModeEnabled?[].concat(G,[Q.Pb,Q.JN,hs,Q.u0]):[Io.yQ,et,Q.jK,Q.FA,Q.zp,et,Q.Yy,ll.U,et,Q.Pb,Q.pm,Q.JN,hs,Q.u0]:(G.push(Q.zp),s.state.viewModeEnabled?[Q.uN].concat(G):[Q.ZM,Q.uN,Io.yQ,Zs,bl,et].concat(G,[et,Q.pw,Q.W3,et,Q.EQ,Q.y7,Q.vD,mr.JQ,Q.s,et,Q.FL,et,Q.V,Q.yA,Q.zi,Q.BZ,et,Q.jl,Q.kt,et,Q.Qs,Q.nz,Q.xF,Q.$h,et,Q.X9]))},this.handleWheel=(0,v.tH)(function(I){if(I.preventDefault(),!_i){var G=I.deltaX,se=I.deltaY;if(I.metaKey||I.ctrlKey){var _e=Math.sign(se),he=100*i.V4,$=Math.abs(se),ie=se;$>he&&(ie=he*_e);var De=s.state.zoom.value-ie/100;return De+=Math.log10(Math.max(1,s.state.zoom.value))*-_e*Math.min(1,$/20),s.translateCanvas(function(He){return hn(hn({},(0,u.E)({viewportX:s.lastViewportPosition.x,viewportY:s.lastViewportPosition.y,nextZoom:(0,xe.j)(De)},He)),{},{shouldCacheIgnoreZoom:!0})}),void s.resetShouldCacheIgnoreZoomDebounced()}I.shiftKey?s.translateCanvas(function(He){var Ve=He.zoom;return{scrollX:He.scrollX-(se||G)/Ve.value}}):s.translateCanvas(function(He){var Ve=He.zoom,lt=He.scrollX,dt=He.scrollY;return{scrollX:lt-G/Ve.value,scrollY:dt-se/Ve.value}})}}),this.savePointer=function(I,G,se){var _e,he;if(I&&G){var $=(0,v.dE)({clientX:I,clientY:G},s.state),ie=$.x,De=$.y,He={x:ie,y:De,tool:s.state.activeTool.type==="laser"?"laser":"pointer"};(_e=(he=s.props).onPointerUpdate)===null||_e===void 0||_e.call(he,{pointer:He,button:se,pointersMap:ni.pointers})}},this.resetShouldCacheIgnoreZoomDebounced=(0,v.Ds)(function(){s.unmounted||s.setState({shouldCacheIgnoreZoom:!1})},300),this.updateDOMRect=function(I){var G;if((G=s.excalidrawContainerRef)!==null&&G!==void 0&&G.current){var se=s.excalidrawContainerRef.current.getBoundingClientRect(),_e=se.width,he=se.height,$=se.left,ie=se.top,De=s.state,He=De.width,Ve=De.height,lt=De.offsetTop,dt=De.offsetLeft;if(_e===He&&he===Ve&&$===dt&&ie===lt)return void(I&&I());s.setState({width:_e,height:he,offsetLeft:$,offsetTop:ie},function(){I&&I()})}},this.refresh=function(){s.setState(hn({},s.getCanvasOffsets()))}};i.Vi.TEST==="production"&&(window.h=window.h||{},Object.defineProperties(window.h,{elements:{configurable:!0,get:function(){var s;return(s=this.app)===null||s===void 0?void 0:s.scene.getElementsIncludingDeleted()},set:function(s){var I;return(I=this.app)===null||I===void 0?void 0:I.scene.replaceAllElements(s)}}}));var Ul=$c},8806:function(ue,n,r){r.d(n,{z:function(){return B}});var A=r(7169),k=r(2726),b=r(45),w=r(9827),N=r(3379),M=r.n(N),f=r(7795),d=r.n(f),j=r(569),L=r.n(j),H=r(3565),x=r.n(H),S=r(9216),q=r.n(S),ve=r(4589),ke=r.n(ve),Se=r(3137),ge={};ge.styleTagTransform=ke(),ge.setAttributes=x(),ge.insert=L().bind(null,"head"),ge.domAPI=d(),ge.insertStyleElement=q(),M()(Se.Z,ge),Se.Z&&Se.Z.locals&&Se.Z.locals;var J=r(1020),Q=["type","onSelect","selected","children","className"];function K(O,R){var E=Object.keys(O);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(O);R&&(v=v.filter(function(i){return Object.getOwnPropertyDescriptor(O,i).enumerable})),E.push.apply(E,v)}return E}function T(O){for(var R=1;R<arguments.length;R++){var E=arguments[R]!=null?arguments[R]:{};R%2?K(Object(E),!0).forEach(function(v){(0,A.Z)(O,v,E[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(E)):K(Object(E)).forEach(function(v){Object.defineProperty(O,v,Object.getOwnPropertyDescriptor(E,v))})}return O}var B=function(O){var R=O.type,E=R===void 0?"button":R,v=O.onSelect,i=O.selected,a=O.children,y=O.className,h=y===void 0?"":y,m=(0,k.Z)(O,Q);return(0,J.jsx)("button",T(T({onClick:(0,w.Mj)(m.onClick,function(C){v()}),type:E,className:(0,b.Z)("excalidraw-button",h,{selected:i})},m),{},{children:a}))}},6238:function(ue,n,r){r.d(n,{o:function(){return ge}});var A=r(45),k=r(8935),b=r(3379),w=r.n(b),N=r(7795),M=r.n(N),f=r(569),d=r.n(f),j=r(3565),L=r.n(j),H=r(9216),x=r.n(H),S=r(4589),q=r.n(S),ve=r(6029),ke={};ke.styleTagTransform=q(),ke.setAttributes=L(),ke.insert=d().bind(null,"head"),ke.domAPI=M(),ke.insertStyleElement=x(),w()(ve.Z,ke),ve.Z&&ve.Z.locals&&ve.Z.locals;var Se=r(1020),ge=function(J){var Q=J.children,K=J.checked,T=J.onChange,B=J.className;return(0,Se.jsxs)("div",{className:(0,A.Z)("Checkbox",B,{"is-checked":K}),onClick:function(O){T(!K,O),O.currentTarget.querySelector(".Checkbox-box").focus()},children:[(0,Se.jsx)("button",{className:"Checkbox-box",role:"checkbox","aria-checked":K,children:k.eQ}),(0,Se.jsx)("div",{className:"Checkbox-label",children:Q})]})}},193:function(ue,n,r){r.d(n,{z:function(){return ut},L:function(){return ha}});var A=r(2577),k=r(9827),b=r(45),w=r(9240),N=r(1020),M=function(Ae){var Xe,Je=Ae.onChange,ct=Ae.type,bt=Ae.activeColor,_t=Ae.topPicks;return ct==="elementStroke"&&(Xe=w.fY),ct==="elementBackground"&&(Xe=w.eq),ct==="canvasBackground"&&(Xe=w.ay),_t&&(Xe=_t),Xe?(0,N.jsx)("div",{className:"color-picker__top-picks",children:Xe.map(function(Et){return(0,N.jsx)("button",{className:(0,b.Z)("color-picker__button",{active:Et===bt,"is-transparent":Et==="transparent"||!Et}),style:{"--swatch-color":Et},type:"button",title:Et,onClick:function(){return Je(Et)},"data-testid":"color-top-pick-".concat(Et),children:(0,N.jsx)("div",{className:"color-picker__button-outline"})},Et)})}):(console.error("Invalid type for TopPicks"),null)},f=r(9787),d=r.n(f),j=r(8227),L=r(3607),H=r(1930),x=function(Ae){for(var Xe=Ae.palette,Je=Ae.color,ct=0,bt=Object.entries(Xe);ct<bt.length;ct++){var _t=(0,A.Z)(bt[ct],2),Et=_t[0],jt=_t[1];if(Array.isArray(jt)){var mr=jt.indexOf(Je);if(mr>-1)return{colorName:Et,shade:mr}}else if(jt===Je)return{colorName:Et,shade:null}}return null},S=[["q","w","e","r","t"],["a","s","d","f","g"],["z","x","c","v","b"]].flat(),q=function(Ae){var Xe=Ae.color,Je=Ae.palette;return!Object.values(Je).flat().includes(Xe)},ve=(0,L.cn)(null),ke=function(Ae,Xe,Je){return(299*Ae+587*Xe+114*Je)/1e3>=160?"black":"white"},Se=function(Ae,Xe){if(Xe){var Je=new Option().style;if(Je.color=Ae,Je.color){var ct=Je.color.replace(/^(rgb|rgba)\(/,"").replace(/\)$/,"").replace(/\s/g,"").split(","),bt=parseInt(ct[0]),_t=parseInt(ct[1]),Et=parseInt(ct[2]);return ke(bt,_t,Et)}}if(Ae==="transparent")return"black";var jt=parseInt(Ae.substring(1,3),16),mr=parseInt(Ae.substring(3,5),16),xr=parseInt(Ae.substring(5,7),16);return ke(jt,mr,xr)},ge=function(Ae){var Xe=Ae.color,Je=Ae.keyLabel,ct=Ae.isCustomColor,bt=ct!==void 0&&ct,_t=Ae.isShade,Et=_t!==void 0&&_t;return(0,N.jsxs)("div",{className:"color-picker__button__hotkey-label",style:{color:Se(Xe,bt)},children:[Et&&"⇧",Je]})},J=function(Ae){var Xe=Ae.hex,Je=Ae.onChange,ct=Ae.palette,bt=x({color:Xe||"transparent",palette:ct}),_t=(0,L.KO)(ve),Et=(0,A.Z)(_t,2),jt=Et[0],mr=Et[1],xr=(0,f.useRef)(null);if((0,f.useEffect)(function(){xr.current&&jt==="shades"&&xr.current.focus()},[bt,jt]),bt){var ir=bt.colorName,er=bt.shade,kr=ct[ir];if(Array.isArray(kr))return(0,N.jsx)("div",{className:"color-picker-content--default shades",children:kr.map(function(Ir,_r){return(0,N.jsxs)("button",{ref:_r===er&&jt==="shades"?xr:void 0,tabIndex:-1,type:"button",className:(0,b.Z)("color-picker__button color-picker__button--large",{active:_r===er}),"aria-label":"Shade",title:"".concat(ir," - ").concat(_r+1),style:Ir?{"--swatch-color":Ir}:void 0,onClick:function(){Je(Ir),mr("shades")},children:[(0,N.jsx)("div",{className:"color-picker__button-outline"}),(0,N.jsx)(ge,{color:Ir,keyLabel:_r+1,isShade:!0})]},_r)})})}return(0,N.jsxs)("div",{className:"color-picker-content--default",style:{position:"relative"},tabIndex:-1,children:[(0,N.jsx)("button",{type:"button",tabIndex:-1,className:"color-picker__button color-picker__button--large color-picker__button--no-focus-visible"}),(0,N.jsx)("div",{tabIndex:-1,style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",fontSize:"0.75rem"},children:(0,j.t)("colorPicker.noShades")})]})},Q=function(Ae){var Xe=Ae.palette,Je=Ae.color,ct=Ae.onChange,bt=(Ae.label,Ae.activeShade),_t=x({color:Je||"transparent",palette:Xe}),Et=(0,L.KO)(ve),jt=(0,A.Z)(Et,2),mr=jt[0],xr=jt[1],ir=(0,f.useRef)(null);return(0,f.useEffect)(function(){ir.current&&mr==="baseColors"&&ir.current.focus()},[_t==null?void 0:_t.colorName,mr]),(0,N.jsx)("div",{className:"color-picker-content--default",children:Object.entries(Xe).map(function(er,kr){var Ir=(0,A.Z)(er,2),_r=Ir[0],wr=Ir[1],Ar=(Array.isArray(wr)?wr[bt]:wr)||"transparent",Vr=S[kr],Yr=(0,j.t)("colors.".concat(_r.replace(/\d+/,"")),null,"");return(0,N.jsxs)("button",{ref:(_t==null?void 0:_t.colorName)===_r?ir:void 0,tabIndex:-1,type:"button",className:(0,b.Z)("color-picker__button color-picker__button--large",{active:(_t==null?void 0:_t.colorName)===_r,"is-transparent":Ar==="transparent"||!1}),onClick:function(){ct(Ar),xr("baseColors")},title:"".concat(Yr).concat(Ar.startsWith("#")?" ".concat(Ar):""," — ").concat(Vr),"aria-label":"".concat(Yr," — ").concat(Vr),style:{"--swatch-color":Ar},"data-testid":"color-".concat(_r),children:[(0,N.jsx)("div",{className:"color-picker__button-outline"}),(0,N.jsx)(ge,{color:Ar,keyLabel:Vr})]},_r)})})},K=function(Ae){var Xe=Ae.colors,Je=Ae.color,ct=Ae.onChange,bt=Ae.label,_t=(0,L.KO)(ve),Et=(0,A.Z)(_t,2),jt=Et[0],mr=Et[1],xr=(0,f.useRef)(null);return(0,f.useEffect)(function(){xr.current&&xr.current.focus()},[Je,jt]),(0,N.jsx)("div",{className:"color-picker-content--default",children:Xe.map(function(ir,er){return(0,N.jsxs)("button",{ref:Je===ir?xr:void 0,tabIndex:-1,type:"button",className:(0,b.Z)("color-picker__button color-picker__button--large",{active:Je===ir,"is-transparent":ir==="transparent"||!ir}),onClick:function(){ct(ir),mr("custom")},title:ir,"aria-label":bt,style:{"--swatch-color":ir},children:[(0,N.jsx)("div",{className:"color-picker__button-outline"}),(0,N.jsx)(ge,{color:ir,keyLabel:er+1,isCustomColor:!0})]},er)})})},T=r(5491),B=function(Ae,Xe,Je){var ct,bt=Math.ceil(Je/w.dC);switch(Xe=(ct=Xe)!==null&&ct!==void 0?ct:-1,Ae){case"ArrowLeft":var _t=Xe-1;return _t<0?Je-1:_t;case"ArrowRight":return(Xe+1)%Je;case"ArrowDown":var Et=Xe+w.dC;return Et>=Je?Xe%w.dC:Et;case"ArrowUp":var jt=Xe-w.dC,mr=jt<0?w.dC*bt+jt:jt;return mr>=Je?void 0:mr}},O=function(Ae){var Xe=Ae.event,Je=Ae.activeColorPickerSection,ct=Ae.palette,bt=Ae.color,_t=Ae.onChange,Et=Ae.customColors,jt=Ae.setActiveColorPickerSection,mr=Ae.activeShade,xr=Ae.onEyeDropperToggle,ir=Ae.onEscape;if(Xe[T.tW.CTRL_OR_CMD])return!1;if(Xe.key===T.tW.ESCAPE)return ir(Xe),!0;if(Xe.key===T.tW.ALT)return xr(!0),!0;if(Xe.key===T.tW.I)return xr(),!0;var er=x({color:bt,palette:ct});if(Xe.key===T.tW.TAB){var kr={custom:!!Et.length,baseColors:!0,shades:(er==null?void 0:er.shade)!=null,hex:!0},Ir=Object.entries(kr).reduce(function(Zn,Kn){var $n=(0,A.Z)(Kn,2),ro=$n[0];return $n[1]&&Zn.push(ro),Zn},[]),_r=Ir.indexOf(Je),wr=Xe.shiftKey?-1:1,Ar=Ir[_r+wr>Ir.length-1?0:_r+wr<0?Ir.length-1:_r+wr];return Ar&&jt(Ar),Ar==="custom"?_t(Et[0]):Ar==="baseColors"&&(Object.entries(ct).find(function(Zn){var Kn=(0,A.Z)(Zn,2),$n=Kn[0],ro=Kn[1];return Array.isArray(ro)?ro.includes(bt):ro===bt?$n:null})||_t(w.HO.black)),Xe.preventDefault(),Xe.stopPropagation(),!0}if(function(Zn){var Kn=Zn.e,$n=Zn.colorObj,ro=Zn.onChange,Uo=Zn.palette,Ti=Zn.customColors,Bi=Zn.setActiveColorPickerSection,Ei=Zn.activeShade;if(($n==null?void 0:$n.shade)!=null&&["Digit1","Digit2","Digit3","Digit4","Digit5"].includes(Kn.code)&&Kn.shiftKey){var Vi=Number(Kn.code.slice(-1))-1;return ro(Uo[$n.colorName][Vi]),Bi("shades"),!0}if(["1","2","3","4","5"].includes(Kn.key)&&Ti[Number(Kn.key)-1])return ro(Ti[Number(Kn.key)-1]),Bi("custom"),!0;if(S.includes(Kn.key)){var Ni=S.indexOf(Kn.key),ti=Uo[Object.keys(Uo)[Ni]];return ro(Array.isArray(ti)?ti[Ei]:ti),Bi("baseColors"),!0}return!1}({e:Xe,colorObj:er,onChange:_t,palette:ct,customColors:Et,setActiveColorPickerSection:jt,activeShade:mr}))return!0;if(Je==="shades"&&er){var Vr=er.shade,Yr=B(Xe.key,Vr,w.dC);if(Yr!==void 0)return _t(ct[er.colorName][Yr]),!0}if(Je==="baseColors"&&er){var Br=er.colorName,tn=Object.keys(ct),Sn=tn.indexOf(Br),Tn=B(Xe.key,Sn,tn.length);if(Tn!==void 0){var xn=ct[tn[Tn]];return _t(Array.isArray(xn)?xn[mr]:xn),!0}}if(Je==="custom"){var En=Et.indexOf(bt),Ln=B(Xe.key,En,Et.length);if(Ln!==void 0)return _t(Et[Ln]),!0}return!1},R=function(Ae){var Xe=Ae.children;return(0,N.jsx)("div",{className:"color-picker__heading",children:Xe})},E=r(9937),v=function(Ae){var Xe,Je=Ae.color,ct=Ae.onChange,bt=Ae.label,_t=Ae.type,Et=Ae.elements,jt=Ae.palette;Ae.updateData;var mr=Ae.children,xr=Ae.onEyeDropperToggle,ir=Ae.onEscape,er=d().useState(function(){return _t==="canvasBackground"?[]:function(xn,En,Ln){var Zn={elementBackground:"backgroundColor",elementStroke:"strokeColor"},Kn=xn.filter(function(ro){if(ro.isDeleted)return!1;var Uo=ro[Zn[En]];return q({color:Uo,palette:Ln})}),$n=new Map;return Kn.forEach(function(ro){var Uo=ro[Zn[En]];$n.has(Uo)?$n.set(Uo,$n.get(Uo)+1):$n.set(Uo,1)}),(0,H.Z)($n.entries()).sort(function(ro,Uo){return Uo[1]-ro[1]}).map(function(ro){return ro[0]}).slice(0,w.Lx)}(Et,_t,jt)}),kr=(0,A.Z)(er,1)[0],Ir=(0,L.KO)(ve),_r=(0,A.Z)(Ir,2),wr=_r[0],Ar=_r[1],Vr=x({color:Je,palette:jt});(0,f.useEffect)(function(){if(!wr){var xn=q({color:Je,palette:jt}),En=xn&&!kr.includes(Je);Ar(En?"hex":xn?"custom":(Vr==null?void 0:Vr.shade)!=null?"shades":"baseColors")}},[wr,Je,jt,Ar,Vr,kr]);var Yr=(0,f.useState)((Xe=Vr==null?void 0:Vr.shade)!==null&&Xe!==void 0?Xe:_t==="elementBackground"?w._T:w.z8),Br=(0,A.Z)(Yr,2),tn=Br[0],Sn=Br[1];(0,f.useEffect)(function(){(Vr==null?void 0:Vr.shade)!=null&&Sn(Vr.shade);var xn=function(En){En.key===T.tW.ALT&&xr(!1)};return document.addEventListener(E.Ks.KEYUP,xn,{capture:!0}),function(){document.removeEventListener(E.Ks.KEYUP,xn,{capture:!0})}},[Vr,xr]);var Tn=d().useRef(null);return(0,N.jsx)("div",{role:"dialog","aria-modal":"true","aria-label":(0,j.t)("labels.colorPicker"),children:(0,N.jsxs)("div",{ref:Tn,onKeyDown:function(xn){O({event:xn,activeColorPickerSection:wr,palette:jt,color:Je,onChange:ct,onEyeDropperToggle:xr,customColors:kr,setActiveColorPickerSection:Ar,activeShade:tn,onEscape:ir})&&(xn.preventDefault(),xn.stopPropagation())},className:"color-picker-content",tabIndex:-1,children:[!!kr.length&&(0,N.jsxs)("div",{children:[(0,N.jsx)(R,{children:(0,j.t)("colorPicker.mostUsedCustomColors")}),(0,N.jsx)(K,{colors:kr,color:Je,label:(0,j.t)("colorPicker.mostUsedCustomColors"),onChange:ct})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)(R,{children:(0,j.t)("colorPicker.colors")}),(0,N.jsx)(Q,{color:Je,label:bt,palette:jt,onChange:ct,activeShade:tn})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)(R,{children:(0,j.t)("colorPicker.shades")}),(0,N.jsx)(J,{hex:Je,onChange:ct,palette:jt})]}),mr]})})},i=r(11),a=r(7217),y=r(9335),h=r(1267),m=r(3119),C=r(3060);const U="dismissableLayer.update",V="dismissableLayer.pointerDownOutside",D="dismissableLayer.focusOutside";let P;const F=(0,f.createContext)({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),X=(0,f.forwardRef)((Ae,Xe)=>{var Je;const{disableOutsidePointerEvents:ct=!1,onEscapeKeyDown:bt,onPointerDownOutside:_t,onFocusOutside:Et,onInteractOutside:jt,onDismiss:mr,...xr}=Ae,ir=(0,f.useContext)(F),[er,kr]=(0,f.useState)(null),Ir=(Je=er==null?void 0:er.ownerDocument)!==null&&Je!==void 0?Je:globalThis==null?void 0:globalThis.document,[,_r]=(0,f.useState)({}),wr=(0,y.e)(Xe,En=>kr(En)),Ar=Array.from(ir.layers),[Vr]=[...ir.layersWithOutsidePointerEventsDisabled].slice(-1),Yr=Ar.indexOf(Vr),Br=er?Ar.indexOf(er):-1,tn=ir.layersWithOutsidePointerEventsDisabled.size>0,Sn=Br>=Yr,Tn=function(En,Ln=globalThis==null?void 0:globalThis.document){const Zn=(0,C.W)(En),Kn=(0,f.useRef)(!1),$n=(0,f.useRef)(()=>{});return(0,f.useEffect)(()=>{const ro=Ti=>{if(Ti.target&&!Kn.current){let Vi=function(){de(V,Zn,Ei,{discrete:!0})};var Bi=Vi;const Ei={originalEvent:Ti};Ti.pointerType==="touch"?(Ln.removeEventListener("click",$n.current),$n.current=Vi,Ln.addEventListener("click",$n.current,{once:!0})):Vi()}Kn.current=!1},Uo=window.setTimeout(()=>{Ln.addEventListener("pointerdown",ro)},0);return()=>{window.clearTimeout(Uo),Ln.removeEventListener("pointerdown",ro),Ln.removeEventListener("click",$n.current)}},[Ln,Zn]),{onPointerDownCapture:()=>Kn.current=!0}}(En=>{const Ln=En.target,Zn=[...ir.branches].some(Kn=>Kn.contains(Ln));Sn&&!Zn&&(_t==null||_t(En),jt==null||jt(En),En.defaultPrevented||mr==null||mr())},Ir),xn=function(En,Ln=globalThis==null?void 0:globalThis.document){const Zn=(0,C.W)(En),Kn=(0,f.useRef)(!1);return(0,f.useEffect)(()=>{const $n=ro=>{ro.target&&!Kn.current&&de(D,Zn,{originalEvent:ro},{discrete:!1})};return Ln.addEventListener("focusin",$n),()=>Ln.removeEventListener("focusin",$n)},[Ln,Zn]),{onFocusCapture:()=>Kn.current=!0,onBlurCapture:()=>Kn.current=!1}}(En=>{const Ln=En.target;[...ir.branches].some(Zn=>Zn.contains(Ln))||(Et==null||Et(En),jt==null||jt(En),En.defaultPrevented||mr==null||mr())},Ir);return function(En,Ln=globalThis==null?void 0:globalThis.document){const Zn=(0,C.W)(En);(0,f.useEffect)(()=>{const Kn=$n=>{$n.key==="Escape"&&Zn($n)};return Ln.addEventListener("keydown",Kn),()=>Ln.removeEventListener("keydown",Kn)},[Zn,Ln])}(En=>{Br===ir.layers.size-1&&(bt==null||bt(En),!En.defaultPrevented&&mr&&(En.preventDefault(),mr()))},Ir),(0,f.useEffect)(()=>{if(er)return ct&&(ir.layersWithOutsidePointerEventsDisabled.size===0&&(P=Ir.body.style.pointerEvents,Ir.body.style.pointerEvents="none"),ir.layersWithOutsidePointerEventsDisabled.add(er)),ir.layers.add(er),le(),()=>{ct&&ir.layersWithOutsidePointerEventsDisabled.size===1&&(Ir.body.style.pointerEvents=P)}},[er,Ir,ct,ir]),(0,f.useEffect)(()=>()=>{er&&(ir.layers.delete(er),ir.layersWithOutsidePointerEventsDisabled.delete(er),le())},[er,ir]),(0,f.useEffect)(()=>{const En=()=>_r({});return document.addEventListener(U,En),()=>document.removeEventListener(U,En)},[]),(0,f.createElement)(m.WV.div,(0,i.Z)({},xr,{ref:wr,style:{pointerEvents:tn?Sn?"auto":"none":void 0,...Ae.style},onFocusCapture:(0,a.M)(Ae.onFocusCapture,xn.onFocusCapture),onBlurCapture:(0,a.M)(Ae.onBlurCapture,xn.onBlurCapture),onPointerDownCapture:(0,a.M)(Ae.onPointerDownCapture,Tn.onPointerDownCapture)}))});function le(){const Ae=new CustomEvent(U);document.dispatchEvent(Ae)}function de(Ae,Xe,Je,{discrete:ct}){const bt=Je.originalEvent.target,_t=new CustomEvent(Ae,{bubbles:!1,cancelable:!0,detail:Je});Xe&&bt.addEventListener(Ae,Xe,{once:!0}),ct?(0,m.jH)(bt,_t):bt.dispatchEvent(_t)}let fe=0;function pe(){(0,f.useEffect)(()=>{var Ae,Xe;const Je=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(Ae=Je[0])!==null&&Ae!==void 0?Ae:ne()),document.body.insertAdjacentElement("beforeend",(Xe=Je[1])!==null&&Xe!==void 0?Xe:ne()),fe++,()=>{fe===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(ct=>ct.remove()),fe--}},[])}function ne(){const Ae=document.createElement("span");return Ae.setAttribute("data-radix-focus-guard",""),Ae.tabIndex=0,Ae.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",Ae}const oe="focusScope.autoFocusOnMount",be="focusScope.autoFocusOnUnmount",Me={bubbles:!1,cancelable:!0},Ge=(0,f.forwardRef)((Ae,Xe)=>{const{loop:Je=!1,trapped:ct=!1,onMountAutoFocus:bt,onUnmountAutoFocus:_t,...Et}=Ae,[jt,mr]=(0,f.useState)(null),xr=(0,C.W)(bt),ir=(0,C.W)(_t),er=(0,f.useRef)(null),kr=(0,y.e)(Xe,wr=>mr(wr)),Ir=(0,f.useRef)({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;(0,f.useEffect)(()=>{if(ct){let Vr=function(Br){if(Ir.paused||!jt)return;const tn=Br.target;jt.contains(tn)?er.current=tn:Re(er.current,{select:!0})},Yr=function(Br){!Ir.paused&&jt&&(jt.contains(Br.relatedTarget)||Re(er.current,{select:!0}))};var wr=Vr,Ar=Yr;return document.addEventListener("focusin",Vr),document.addEventListener("focusout",Yr),()=>{document.removeEventListener("focusin",Vr),document.removeEventListener("focusout",Yr)}}},[ct,jt,Ir.paused]),(0,f.useEffect)(()=>{if(jt){Ze.add(Ir);const Ar=document.activeElement;if(!jt.contains(Ar)){const Vr=new CustomEvent(oe,Me);jt.addEventListener(oe,xr),jt.dispatchEvent(Vr),Vr.defaultPrevented||(function(Yr,{select:Br=!1}={}){const tn=document.activeElement;for(const Sn of Yr)if(Re(Sn,{select:Br}),document.activeElement!==tn)return}((wr=qe(jt),wr.filter(Yr=>Yr.tagName!=="A")),{select:!0}),document.activeElement===Ar&&Re(jt))}return()=>{jt.removeEventListener(oe,xr),setTimeout(()=>{const Vr=new CustomEvent(be,Me);jt.addEventListener(be,ir),jt.dispatchEvent(Vr),Vr.defaultPrevented||Re(Ar??document.body,{select:!0}),jt.removeEventListener(be,ir),Ze.remove(Ir)},0)}}var wr},[jt,xr,ir,Ir]);const _r=(0,f.useCallback)(wr=>{if(!Je&&!ct||Ir.paused)return;const Ar=wr.key==="Tab"&&!wr.altKey&&!wr.ctrlKey&&!wr.metaKey,Vr=document.activeElement;if(Ar&&Vr){const Yr=wr.currentTarget,[Br,tn]=function(Sn){const Tn=qe(Sn),xn=Ne(Tn,Sn),En=Ne(Tn.reverse(),Sn);return[xn,En]}(Yr);Br&&tn?wr.shiftKey||Vr!==tn?wr.shiftKey&&Vr===Br&&(wr.preventDefault(),Je&&Re(tn,{select:!0})):(wr.preventDefault(),Je&&Re(Br,{select:!0})):Vr===Yr&&wr.preventDefault()}},[Je,ct,Ir.paused]);return(0,f.createElement)(m.WV.div,(0,i.Z)({tabIndex:-1},Et,{ref:kr,onKeyDown:_r}))});function qe(Ae){const Xe=[],Je=document.createTreeWalker(Ae,NodeFilter.SHOW_ELEMENT,{acceptNode:ct=>{const bt=ct.tagName==="INPUT"&&ct.type==="hidden";return ct.disabled||ct.hidden||bt?NodeFilter.FILTER_SKIP:ct.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;Je.nextNode();)Xe.push(Je.currentNode);return Xe}function Ne(Ae,Xe){for(const Je of Ae)if(!Pe(Je,{upTo:Xe}))return Je}function Pe(Ae,{upTo:Xe}){if(getComputedStyle(Ae).visibility==="hidden")return!0;for(;Ae;){if(Xe!==void 0&&Ae===Xe)return!1;if(getComputedStyle(Ae).display==="none")return!0;Ae=Ae.parentElement}return!1}function Re(Ae,{select:Xe=!1}={}){if(Ae&&Ae.focus){const Je=document.activeElement;Ae.focus({preventScroll:!0}),Ae!==Je&&function(ct){return ct instanceof HTMLInputElement&&"select"in ct}(Ae)&&Xe&&Ae.select()}}const Ze=function(){let Ae=[];return{add(Xe){const Je=Ae[0];Xe!==Je&&(Je==null||Je.pause()),Ae=Ie(Ae,Xe),Ae.unshift(Xe)},remove(Xe){var Je;Ae=Ie(Ae,Xe),(Je=Ae[0])===null||Je===void 0||Je.resume()}}}();function Ie(Ae,Xe){const Je=[...Ae],ct=Je.indexOf(Xe);return ct!==-1&&Je.splice(ct,1),Je}var Ee=r(5622);function xe(Ae){return Ae.split("-")[0]}function Z(Ae){return Ae.split("-")[1]}function u(Ae){return["top","bottom"].includes(xe(Ae))?"x":"y"}function g(Ae){return Ae==="y"?"height":"width"}function z(Ae,Xe,Je){let{reference:ct,floating:bt}=Ae;const _t=ct.x+ct.width/2-bt.width/2,Et=ct.y+ct.height/2-bt.height/2,jt=u(Xe),mr=g(jt),xr=ct[mr]/2-bt[mr]/2,ir=jt==="x";let er;switch(xe(Xe)){case"top":er={x:_t,y:ct.y-bt.height};break;case"bottom":er={x:_t,y:ct.y+ct.height};break;case"right":er={x:ct.x+ct.width,y:Et};break;case"left":er={x:ct.x-bt.width,y:Et};break;default:er={x:ct.x,y:ct.y}}switch(Z(Xe)){case"start":er[jt]-=xr*(Je&&ir?-1:1);break;case"end":er[jt]+=xr*(Je&&ir?-1:1)}return er}function Y(Ae){return typeof Ae!="number"?function(Xe){return{top:0,right:0,bottom:0,left:0,...Xe}}(Ae):{top:Ae,right:Ae,bottom:Ae,left:Ae}}function te(Ae){return{...Ae,top:Ae.y,left:Ae.x,right:Ae.x+Ae.width,bottom:Ae.y+Ae.height}}async function ae(Ae,Xe){var Je;Xe===void 0&&(Xe={});const{x:ct,y:bt,platform:_t,rects:Et,elements:jt,strategy:mr}=Ae,{boundary:xr="clippingAncestors",rootBoundary:ir="viewport",elementContext:er="floating",altBoundary:kr=!1,padding:Ir=0}=Xe,_r=Y(Ir),wr=jt[kr?er==="floating"?"reference":"floating":er],Ar=te(await _t.getClippingRect({element:(Je=await(_t.isElement==null?void 0:_t.isElement(wr)))==null||Je?wr:wr.contextElement||await(_t.getDocumentElement==null?void 0:_t.getDocumentElement(jt.floating)),boundary:xr,rootBoundary:ir,strategy:mr})),Vr=te(_t.convertOffsetParentRelativeRectToViewportRelativeRect?await _t.convertOffsetParentRelativeRectToViewportRelativeRect({rect:er==="floating"?{...Et.floating,x:ct,y:bt}:Et.reference,offsetParent:await(_t.getOffsetParent==null?void 0:_t.getOffsetParent(jt.floating)),strategy:mr}):Et[er]);return{top:Ar.top-Vr.top+_r.top,bottom:Vr.bottom-Ar.bottom+_r.bottom,left:Ar.left-Vr.left+_r.left,right:Vr.right-Ar.right+_r.right}}const ce=Math.min,ye=Math.max;function je(Ae,Xe,Je){return ye(Ae,ce(Xe,Je))}const Be=Ae=>({name:"arrow",options:Ae,async fn(Xe){const{element:Je,padding:ct=0}=Ae??{},{x:bt,y:_t,placement:Et,rects:jt,platform:mr}=Xe;if(Je==null)return{};const xr=Y(ct),ir={x:bt,y:_t},er=u(Et),kr=Z(Et),Ir=g(er),_r=await mr.getDimensions(Je),wr=er==="y"?"top":"left",Ar=er==="y"?"bottom":"right",Vr=jt.reference[Ir]+jt.reference[er]-ir[er]-jt.floating[Ir],Yr=ir[er]-jt.reference[er],Br=await(mr.getOffsetParent==null?void 0:mr.getOffsetParent(Je));let tn=Br?er==="y"?Br.clientHeight||0:Br.clientWidth||0:0;tn===0&&(tn=jt.floating[Ir]);const Sn=Vr/2-Yr/2,Tn=xr[wr],xn=tn-_r[Ir]-xr[Ar],En=tn/2-_r[Ir]/2+Sn,Ln=je(Tn,En,xn),Zn=(kr==="start"?xr[wr]:xr[Ar])>0&&En!==Ln&&jt.reference[Ir]<=jt.floating[Ir];return{[er]:ir[er]-(Zn?En<Tn?Tn-En:xn-En:0),data:{[er]:Ln,centerOffset:En-Ln}}}}),Qe={left:"right",right:"left",bottom:"top",top:"bottom"};function rt(Ae){return Ae.replace(/left|right|bottom|top/g,Xe=>Qe[Xe])}function Ye(Ae,Xe,Je){Je===void 0&&(Je=!1);const ct=Z(Ae),bt=u(Ae),_t=g(bt);let Et=bt==="x"?ct===(Je?"end":"start")?"right":"left":ct==="start"?"bottom":"top";return Xe.reference[_t]>Xe.floating[_t]&&(Et=rt(Et)),{main:Et,cross:rt(Et)}}const tt={start:"end",end:"start"};function ht(Ae){return Ae.replace(/start|end/g,Xe=>tt[Xe])}const gt=["top","right","bottom","left"],Ue=(gt.reduce((Ae,Xe)=>Ae.concat(Xe,Xe+"-start",Xe+"-end"),[]),function(Ae){return Ae===void 0&&(Ae={}),{name:"flip",options:Ae,async fn(Xe){var Je;const{placement:ct,middlewareData:bt,rects:_t,initialPlacement:Et,platform:jt,elements:mr}=Xe,{mainAxis:xr=!0,crossAxis:ir=!0,fallbackPlacements:er,fallbackStrategy:kr="bestFit",flipAlignment:Ir=!0,..._r}=Ae,wr=xe(ct),Ar=er||(wr!==Et&&Ir?function(En){const Ln=rt(En);return[ht(En),Ln,ht(Ln)]}(Et):[rt(Et)]),Vr=[Et,...Ar],Yr=await ae(Xe,_r),Br=[];let tn=((Je=bt.flip)==null?void 0:Je.overflows)||[];if(xr&&Br.push(Yr[wr]),ir){const{main:En,cross:Ln}=Ye(ct,_t,await(jt.isRTL==null?void 0:jt.isRTL(mr.floating)));Br.push(Yr[En],Yr[Ln])}if(tn=[...tn,{placement:ct,overflows:Br}],!Br.every(En=>En<=0)){var Sn,Tn;const En=((Sn=(Tn=bt.flip)==null?void 0:Tn.index)!=null?Sn:0)+1,Ln=Vr[En];if(Ln)return{data:{index:En,overflows:tn},reset:{placement:Ln}};let Zn="bottom";switch(kr){case"bestFit":{var xn;const Kn=(xn=tn.map($n=>[$n,$n.overflows.filter(ro=>ro>0).reduce((ro,Uo)=>ro+Uo,0)]).sort(($n,ro)=>$n[1]-ro[1])[0])==null?void 0:xn[0].placement;Kn&&(Zn=Kn);break}case"initialPlacement":Zn=Et}if(ct!==Zn)return{reset:{placement:Zn}}}return{}}}});function Ce(Ae,Xe){return{top:Ae.top-Xe.height,right:Ae.right-Xe.width,bottom:Ae.bottom-Xe.height,left:Ae.left-Xe.width}}function Le(Ae){return gt.some(Xe=>Ae[Xe]>=0)}const et=function(Ae){let{strategy:Xe="referenceHidden",...Je}=Ae===void 0?{}:Ae;return{name:"hide",async fn(ct){const{rects:bt}=ct;switch(Xe){case"referenceHidden":{const _t=Ce(await ae(ct,{...Je,elementContext:"reference"}),bt.reference);return{data:{referenceHiddenOffsets:_t,referenceHidden:Le(_t)}}}case"escaped":{const _t=Ce(await ae(ct,{...Je,altBoundary:!0}),bt.floating);return{data:{escapedOffsets:_t,escaped:Le(_t)}}}default:return{}}}}},ft=function(Ae){return Ae===void 0&&(Ae=0),{name:"offset",options:Ae,async fn(Xe){const{x:Je,y:ct}=Xe,bt=await async function(_t,Et){const{placement:jt,platform:mr,elements:xr}=_t,ir=await(mr.isRTL==null?void 0:mr.isRTL(xr.floating)),er=xe(jt),kr=Z(jt),Ir=u(jt)==="x",_r=["left","top"].includes(er)?-1:1,wr=ir&&Ir?-1:1,Ar=typeof Et=="function"?Et(_t):Et;let{mainAxis:Vr,crossAxis:Yr,alignmentAxis:Br}=typeof Ar=="number"?{mainAxis:Ar,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...Ar};return kr&&typeof Br=="number"&&(Yr=kr==="end"?-1*Br:Br),Ir?{x:Yr*wr,y:Vr*_r}:{x:Vr*_r,y:Yr*wr}}(Xe,Ae);return{x:Je+bt.x,y:ct+bt.y,data:bt}}}};function xt(Ae){return Ae==="x"?"y":"x"}const wt=function(Ae){return Ae===void 0&&(Ae={}),{name:"shift",options:Ae,async fn(Xe){const{x:Je,y:ct,placement:bt}=Xe,{mainAxis:_t=!0,crossAxis:Et=!1,limiter:jt={fn:Ar=>{let{x:Vr,y:Yr}=Ar;return{x:Vr,y:Yr}}},...mr}=Ae,xr={x:Je,y:ct},ir=await ae(Xe,mr),er=u(xe(bt)),kr=xt(er);let Ir=xr[er],_r=xr[kr];if(_t){const Ar=er==="y"?"bottom":"right";Ir=je(Ir+ir[er==="y"?"top":"left"],Ir,Ir-ir[Ar])}if(Et){const Ar=kr==="y"?"bottom":"right";_r=je(_r+ir[kr==="y"?"top":"left"],_r,_r-ir[Ar])}const wr=jt.fn({...Xe,[er]:Ir,[kr]:_r});return{...wr,data:{x:wr.x-Je,y:wr.y-ct}}}}},Rt=function(Ae){return Ae===void 0&&(Ae={}),{options:Ae,fn(Xe){const{x:Je,y:ct,placement:bt,rects:_t,middlewareData:Et}=Xe,{offset:jt=0,mainAxis:mr=!0,crossAxis:xr=!0}=Ae,ir={x:Je,y:ct},er=u(bt),kr=xt(er);let Ir=ir[er],_r=ir[kr];const wr=typeof jt=="function"?jt({..._t,placement:bt}):jt,Ar=typeof wr=="number"?{mainAxis:wr,crossAxis:0}:{mainAxis:0,crossAxis:0,...wr};if(mr){const Sn=er==="y"?"height":"width",Tn=_t.reference[er]-_t.floating[Sn]+Ar.mainAxis,xn=_t.reference[er]+_t.reference[Sn]-Ar.mainAxis;Ir<Tn?Ir=Tn:Ir>xn&&(Ir=xn)}if(xr){var Vr,Yr,Br,tn;const Sn=er==="y"?"width":"height",Tn=["top","left"].includes(xe(bt)),xn=_t.reference[kr]-_t.floating[Sn]+(Tn&&(Vr=(Yr=Et.offset)==null?void 0:Yr[kr])!=null?Vr:0)+(Tn?0:Ar.crossAxis),En=_t.reference[kr]+_t.reference[Sn]+(Tn?0:(Br=(tn=Et.offset)==null?void 0:tn[kr])!=null?Br:0)-(Tn?Ar.crossAxis:0);_r<xn?_r=xn:_r>En&&(_r=En)}return{[er]:Ir,[kr]:_r}}}},It=function(Ae){return Ae===void 0&&(Ae={}),{name:"size",options:Ae,async fn(Xe){const{placement:Je,rects:ct,platform:bt,elements:_t}=Xe,{apply:Et,...jt}=Ae,mr=await ae(Xe,jt),xr=xe(Je),ir=Z(Je);let er,kr;xr==="top"||xr==="bottom"?(er=xr,kr=ir===(await(bt.isRTL==null?void 0:bt.isRTL(_t.floating))?"start":"end")?"left":"right"):(kr=xr,er=ir==="end"?"top":"bottom");const Ir=ye(mr.left,0),_r=ye(mr.right,0),wr=ye(mr.top,0),Ar=ye(mr.bottom,0),Vr={availableHeight:ct.floating.height-(["left","right"].includes(Je)?2*(wr!==0||Ar!==0?wr+Ar:ye(mr.top,mr.bottom)):mr[er]),availableWidth:ct.floating.width-(["top","bottom"].includes(Je)?2*(Ir!==0||_r!==0?Ir+_r:ye(mr.left,mr.right)):mr[kr])},Yr=await bt.getDimensions(_t.floating);Et==null||Et({...Xe,...Vr});const Br=await bt.getDimensions(_t.floating);return Yr.width!==Br.width||Yr.height!==Br.height?{reset:{rects:!0}}:{}}}};function At(Ae){return Ae&&Ae.document&&Ae.location&&Ae.alert&&Ae.setInterval}function Xt(Ae){if(Ae==null)return window;if(!At(Ae)){const Xe=Ae.ownerDocument;return Xe&&Xe.defaultView||window}return Ae}function tr(Ae){return Xt(Ae).getComputedStyle(Ae)}function Gt(Ae){return At(Ae)?"":Ae?(Ae.nodeName||"").toLowerCase():""}function Jt(){const Ae=navigator.userAgentData;return Ae!=null&&Ae.brands?Ae.brands.map(Xe=>Xe.brand+"/"+Xe.version).join(" "):navigator.userAgent}function gr(Ae){return Ae instanceof Xt(Ae).HTMLElement}function Pt(Ae){return Ae instanceof Xt(Ae).Element}function St(Ae){return typeof ShadowRoot<"u"&&(Ae instanceof Xt(Ae).ShadowRoot||Ae instanceof ShadowRoot)}function Zt(Ae){const{overflow:Xe,overflowX:Je,overflowY:ct}=tr(Ae);return/auto|scroll|overlay|hidden/.test(Xe+ct+Je)}function Tt(Ae){return["table","td","th"].includes(Gt(Ae))}function Lt(Ae){const Xe=/firefox/i.test(Jt()),Je=tr(Ae);return Je.transform!=="none"||Je.perspective!=="none"||Je.contain==="paint"||["transform","perspective"].includes(Je.willChange)||Xe&&Je.willChange==="filter"||Xe&&!!Je.filter&&Je.filter!=="none"}function Wt(){return!/^((?!chrome|android).)*safari/i.test(Jt())}const qt=Math.min,sr=Math.max,cr=Math.round;function Sr(Ae,Xe,Je){var ct,bt,_t,Et;Xe===void 0&&(Xe=!1),Je===void 0&&(Je=!1);const jt=Ae.getBoundingClientRect();let mr=1,xr=1;Xe&&gr(Ae)&&(mr=Ae.offsetWidth>0&&cr(jt.width)/Ae.offsetWidth||1,xr=Ae.offsetHeight>0&&cr(jt.height)/Ae.offsetHeight||1);const ir=Pt(Ae)?Xt(Ae):window,er=!Wt()&&Je,kr=(jt.left+(er&&(ct=(bt=ir.visualViewport)==null?void 0:bt.offsetLeft)!=null?ct:0))/mr,Ir=(jt.top+(er&&(_t=(Et=ir.visualViewport)==null?void 0:Et.offsetTop)!=null?_t:0))/xr,_r=jt.width/mr,wr=jt.height/xr;return{width:_r,height:wr,top:Ir,right:kr+_r,bottom:Ir+wr,left:kr,x:kr,y:Ir}}function Mr(Ae){return(Xe=Ae,(Xe instanceof Xt(Xe).Node?Ae.ownerDocument:Ae.document)||window.document).documentElement;var Xe}function zr(Ae){return Pt(Ae)?{scrollLeft:Ae.scrollLeft,scrollTop:Ae.scrollTop}:{scrollLeft:Ae.pageXOffset,scrollTop:Ae.pageYOffset}}function pr(Ae){return Sr(Mr(Ae)).left+zr(Ae).scrollLeft}function Ft(Ae,Xe,Je){const ct=gr(Xe),bt=Mr(Xe),_t=Sr(Ae,ct&&function(mr){const xr=Sr(mr);return cr(xr.width)!==mr.offsetWidth||cr(xr.height)!==mr.offsetHeight}(Xe),Je==="fixed");let Et={scrollLeft:0,scrollTop:0};const jt={x:0,y:0};if(ct||!ct&&Je!=="fixed")if((Gt(Xe)!=="body"||Zt(bt))&&(Et=zr(Xe)),gr(Xe)){const mr=Sr(Xe,!0);jt.x=mr.x+Xe.clientLeft,jt.y=mr.y+Xe.clientTop}else bt&&(jt.x=pr(bt));return{x:_t.left+Et.scrollLeft-jt.x,y:_t.top+Et.scrollTop-jt.y,width:_t.width,height:_t.height}}function or(Ae){return Gt(Ae)==="html"?Ae:Ae.assignedSlot||Ae.parentNode||(St(Ae)?Ae.host:null)||Mr(Ae)}function rr(Ae){return gr(Ae)&&getComputedStyle(Ae).position!=="fixed"?Ae.offsetParent:null}function Or(Ae){const Xe=Xt(Ae);let Je=rr(Ae);for(;Je&&Tt(Je)&&getComputedStyle(Je).position==="static";)Je=rr(Je);return Je&&(Gt(Je)==="html"||Gt(Je)==="body"&&getComputedStyle(Je).position==="static"&&!Lt(Je))?Xe:Je||function(ct){let bt=or(ct);for(St(bt)&&(bt=bt.host);gr(bt)&&!["html","body"].includes(Gt(bt));){if(Lt(bt))return bt;bt=bt.parentNode}return null}(Ae)||Xe}function Kr(Ae){if(gr(Ae))return{width:Ae.offsetWidth,height:Ae.offsetHeight};const Xe=Sr(Ae);return{width:Xe.width,height:Xe.height}}function Xr(Ae){const Xe=or(Ae);return["html","body","#document"].includes(Gt(Xe))?Ae.ownerDocument.body:gr(Xe)&&Zt(Xe)?Xe:Xr(Xe)}function cn(Ae,Xe){var Je;Xe===void 0&&(Xe=[]);const ct=Xr(Ae),bt=ct===((Je=Ae.ownerDocument)==null?void 0:Je.body),_t=Xt(ct),Et=bt?[_t].concat(_t.visualViewport||[],Zt(ct)?ct:[]):ct,jt=Xe.concat(Et);return bt?jt:jt.concat(cn(Et))}function en(Ae,Xe,Je){return Xe==="viewport"?te(function(ct,bt){const _t=Xt(ct),Et=Mr(ct),jt=_t.visualViewport;let mr=Et.clientWidth,xr=Et.clientHeight,ir=0,er=0;if(jt){mr=jt.width,xr=jt.height;const kr=Wt();(kr||!kr&&bt==="fixed")&&(ir=jt.offsetLeft,er=jt.offsetTop)}return{width:mr,height:xr,x:ir,y:er}}(Ae,Je)):Pt(Xe)?function(ct,bt){const _t=Sr(ct,!1,bt==="fixed"),Et=_t.top+ct.clientTop,jt=_t.left+ct.clientLeft;return{top:Et,left:jt,x:jt,y:Et,right:jt+ct.clientWidth,bottom:Et+ct.clientHeight,width:ct.clientWidth,height:ct.clientHeight}}(Xe,Je):te(function(ct){var bt;const _t=Mr(ct),Et=zr(ct),jt=(bt=ct.ownerDocument)==null?void 0:bt.body,mr=sr(_t.scrollWidth,_t.clientWidth,jt?jt.scrollWidth:0,jt?jt.clientWidth:0),xr=sr(_t.scrollHeight,_t.clientHeight,jt?jt.scrollHeight:0,jt?jt.clientHeight:0);let ir=-Et.scrollLeft+pr(ct);const er=-Et.scrollTop;return tr(jt||_t).direction==="rtl"&&(ir+=sr(_t.clientWidth,jt?jt.clientWidth:0)-mr),{width:mr,height:xr,x:ir,y:er}}(Mr(Ae)))}function ur(Ae){const Xe=cn(Ae),Je=["absolute","fixed"].includes(tr(Ae).position)&&gr(Ae)?Or(Ae):Ae;return Pt(Je)?Xe.filter(ct=>Pt(ct)&&function(bt,_t){const Et=_t.getRootNode==null?void 0:_t.getRootNode();if(bt.contains(_t))return!0;if(Et&&St(Et)){let jt=_t;do{if(jt&&bt===jt)return!0;jt=jt.parentNode||jt.host}while(jt)}return!1}(ct,Je)&&Gt(ct)!=="body"):[]}const Dt={getClippingRect:function(Ae){let{element:Xe,boundary:Je,rootBoundary:ct,strategy:bt}=Ae;const _t=[...Je==="clippingAncestors"?ur(Xe):[].concat(Je),ct],Et=_t[0],jt=_t.reduce((mr,xr)=>{const ir=en(Xe,xr,bt);return mr.top=sr(ir.top,mr.top),mr.right=qt(ir.right,mr.right),mr.bottom=qt(ir.bottom,mr.bottom),mr.left=sr(ir.left,mr.left),mr},en(Xe,Et,bt));return{width:jt.right-jt.left,height:jt.bottom-jt.top,x:jt.left,y:jt.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(Ae){let{rect:Xe,offsetParent:Je,strategy:ct}=Ae;const bt=gr(Je),_t=Mr(Je);if(Je===_t)return Xe;let Et={scrollLeft:0,scrollTop:0};const jt={x:0,y:0};if((bt||!bt&&ct!=="fixed")&&((Gt(Je)!=="body"||Zt(_t))&&(Et=zr(Je)),gr(Je))){const mr=Sr(Je,!0);jt.x=mr.x+Je.clientLeft,jt.y=mr.y+Je.clientTop}return{...Xe,x:Xe.x-Et.scrollLeft+jt.x,y:Xe.y-Et.scrollTop+jt.y}},isElement:Pt,getDimensions:Kr,getOffsetParent:Or,getDocumentElement:Mr,getElementRects:Ae=>{let{reference:Xe,floating:Je,strategy:ct}=Ae;return{reference:Ft(Xe,Or(Je),ct),floating:{...Kr(Je),x:0,y:0}}},getClientRects:Ae=>Array.from(Ae.getClientRects()),isRTL:Ae=>tr(Ae).direction==="rtl"};function Nt(Ae,Xe,Je,ct){ct===void 0&&(ct={});const{ancestorScroll:bt=!0,ancestorResize:_t=!0,elementResize:Et=!0,animationFrame:jt=!1}=ct,mr=bt&&!jt,xr=_t&&!jt,ir=mr||xr?[...Pt(Ae)?cn(Ae):[],...cn(Xe)]:[];ir.forEach(_r=>{mr&&_r.addEventListener("scroll",Je,{passive:!0}),xr&&_r.addEventListener("resize",Je)});let er,kr=null;if(Et){let _r=!0;kr=new ResizeObserver(()=>{_r||Je(),_r=!1}),Pt(Ae)&&!jt&&kr.observe(Ae),kr.observe(Xe)}let Ir=jt?Sr(Ae):null;return jt&&function _r(){const wr=Sr(Ae);!Ir||wr.x===Ir.x&&wr.y===Ir.y&&wr.width===Ir.width&&wr.height===Ir.height||Je(),Ir=wr,er=requestAnimationFrame(_r)}(),Je(),()=>{var _r;ir.forEach(wr=>{mr&&wr.removeEventListener("scroll",Je),xr&&wr.removeEventListener("resize",Je)}),(_r=kr)==null||_r.disconnect(),kr=null,jt&&cancelAnimationFrame(er)}}const Ut=(Ae,Xe,Je)=>(async(ct,bt,_t)=>{const{placement:Et="bottom",strategy:jt="absolute",middleware:mr=[],platform:xr}=_t,ir=await(xr.isRTL==null?void 0:xr.isRTL(bt));let er=await xr.getElementRects({reference:ct,floating:bt,strategy:jt}),{x:kr,y:Ir}=z(er,Et,ir),_r=Et,wr={},Ar=0;for(let Vr=0;Vr<mr.length;Vr++){const{name:Yr,fn:Br}=mr[Vr],{x:tn,y:Sn,data:Tn,reset:xn}=await Br({x:kr,y:Ir,initialPlacement:Et,placement:_r,strategy:jt,middlewareData:wr,rects:er,platform:xr,elements:{reference:ct,floating:bt}});kr=tn??kr,Ir=Sn??Ir,wr={...wr,[Yr]:{...wr[Yr],...Tn}},xn&&Ar<=50&&(Ar++,typeof xn=="object"&&(xn.placement&&(_r=xn.placement),xn.rects&&(er=xn.rects===!0?await xr.getElementRects({reference:ct,floating:bt,strategy:jt}):xn.rects),{x:kr,y:Ir}=z(er,_r,ir)),Vr=-1)}return{x:kr,y:Ir,placement:_r,strategy:jt,middlewareData:wr}})(Ae,Xe,{platform:Dt,...Je});var hr=r(5156),jr=r.n(hr),Cr=typeof document<"u"?f.useLayoutEffect:f.useEffect;function Zr(Ae,Xe){if(Ae===Xe)return!0;if(typeof Ae!=typeof Xe)return!1;if(typeof Ae=="function"&&Ae.toString()===Xe.toString())return!0;let Je,ct,bt;if(Ae&&Xe&&typeof Ae=="object"){if(Array.isArray(Ae)){if(Je=Ae.length,Je!=Xe.length)return!1;for(ct=Je;ct--!=0;)if(!Zr(Ae[ct],Xe[ct]))return!1;return!0}if(bt=Object.keys(Ae),Je=bt.length,Je!==Object.keys(Xe).length)return!1;for(ct=Je;ct--!=0;)if(!Object.prototype.hasOwnProperty.call(Xe,bt[ct]))return!1;for(ct=Je;ct--!=0;){const _t=bt[ct];if((_t!=="_owner"||!Ae.$$typeof)&&!Zr(Ae[_t],Xe[_t]))return!1}return!0}return Ae!=Ae&&Xe!=Xe}function Dr(Ae){let{middleware:Xe,placement:Je="bottom",strategy:ct="absolute",whileElementsMounted:bt}=Ae===void 0?{}:Ae;const _t=f.useRef(null),Et=f.useRef(null),jt=function(Br){const tn=f.useRef(Br);return Cr(()=>{tn.current=Br}),tn}(bt),mr=f.useRef(null),[xr,ir]=f.useState({x:null,y:null,strategy:ct,placement:Je,middlewareData:{}}),[er,kr]=f.useState(Xe);Zr(er==null?void 0:er.map(Br=>{let{options:tn}=Br;return tn}),Xe==null?void 0:Xe.map(Br=>{let{options:tn}=Br;return tn}))||kr(Xe);const Ir=f.useCallback(()=>{_t.current&&Et.current&&Ut(_t.current,Et.current,{middleware:er,placement:Je,strategy:ct}).then(Br=>{_r.current&&hr.flushSync(()=>{ir(Br)})})},[er,Je,ct]);Cr(()=>{_r.current&&Ir()},[Ir]);const _r=f.useRef(!1);Cr(()=>(_r.current=!0,()=>{_r.current=!1}),[]);const wr=f.useCallback(()=>{if(typeof mr.current=="function"&&(mr.current(),mr.current=null),_t.current&&Et.current)if(jt.current){const Br=jt.current(_t.current,Et.current,Ir);mr.current=Br}else Ir()},[Ir,jt]),Ar=f.useCallback(Br=>{_t.current=Br,wr()},[wr]),Vr=f.useCallback(Br=>{Et.current=Br,wr()},[wr]),Yr=f.useMemo(()=>({reference:_t,floating:Et}),[]);return f.useMemo(()=>({...xr,update:Ir,refs:Yr,reference:Ar,floating:Vr}),[xr,Ir,Yr,Ar,Vr])}const Fr=Ae=>{const{element:Xe,padding:Je}=Ae;return{name:"arrow",options:Ae,fn(ct){return bt=Xe,Object.prototype.hasOwnProperty.call(bt,"current")?Xe.current!=null?Be({element:Xe.current,padding:Je}).fn(ct):{}:Xe?Be({element:Xe,padding:Je}).fn(ct):{};var bt}}},ln=(0,f.forwardRef)((Ae,Xe)=>{const{children:Je,width:ct=10,height:bt=5,..._t}=Ae;return(0,f.createElement)(m.WV.svg,(0,i.Z)({},_t,{ref:Xe,width:ct,height:bt,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),Ae.asChild?Je:(0,f.createElement)("polygon",{points:"0,0 30,0 15,10"}))}),Gr=ln;var Rr=r(3348);const Wr="Popper",[Ur,rn]=(0,h.b)(Wr),[an,Qr]=Ur(Wr),In=Ae=>{const{__scopePopper:Xe,children:Je}=Ae,[ct,bt]=(0,f.useState)(null);return(0,f.createElement)(an,{scope:Xe,anchor:ct,onAnchorChange:bt},Je)},Xn="PopperAnchor",go=(0,f.forwardRef)((Ae,Xe)=>{const{__scopePopper:Je,virtualRef:ct,...bt}=Ae,_t=Qr(Xn,Je),Et=(0,f.useRef)(null),jt=(0,y.e)(Xe,Et);return(0,f.useEffect)(()=>{_t.onAnchorChange((ct==null?void 0:ct.current)||Et.current)}),ct?null:(0,f.createElement)(m.WV.div,(0,i.Z)({},bt,{ref:jt}))}),bo="PopperContent",[_o,wo]=Ur(bo),[ao,co]=Ur(bo,{hasParent:!1,positionUpdateFns:new Set}),it=(0,f.forwardRef)((Ae,Xe)=>{var Je,ct,bt,_t,Et,jt,mr,xr;const{__scopePopper:ir,side:er="bottom",sideOffset:kr=0,align:Ir="center",alignOffset:_r=0,arrowPadding:wr=0,collisionBoundary:Ar=[],collisionPadding:Vr=0,sticky:Yr="partial",hideWhenDetached:Br=!1,avoidCollisions:tn=!0,onPlaced:Sn,...Tn}=Ae,xn=Qr(bo,ir),[En,Ln]=(0,f.useState)(null),Zn=(0,y.e)(Xe,Ko=>Ln(Ko)),[Kn,$n]=(0,f.useState)(null),ro=function(Ko){const[Ji,ms]=(0,f.useState)(void 0);return(0,Rr.b)(()=>{if(Ko){ms({width:Ko.offsetWidth,height:Ko.offsetHeight});const Bs=new ResizeObserver(fn=>{if(!Array.isArray(fn)||!fn.length)return;const hn=fn[0];let la,Va;if("borderBoxSize"in hn){const ts=hn.borderBoxSize,cl=Array.isArray(ts)?ts[0]:ts;la=cl.inlineSize,Va=cl.blockSize}else la=Ko.offsetWidth,Va=Ko.offsetHeight;ms({width:la,height:Va})});return Bs.observe(Ko,{box:"border-box"}),()=>Bs.unobserve(Ko)}ms(void 0)},[Ko]),Ji}(Kn),Uo=(Je=ro==null?void 0:ro.width)!==null&&Je!==void 0?Je:0,Ti=(ct=ro==null?void 0:ro.height)!==null&&ct!==void 0?ct:0,Bi=er+(Ir!=="center"?"-"+Ir:""),Ei=typeof Vr=="number"?Vr:{top:0,right:0,bottom:0,left:0,...Vr},Vi=Array.isArray(Ar)?Ar:[Ar],Ni=Vi.length>0,ti={padding:Ei,boundary:Vi.filter(Kt),altBoundary:Ni},{reference:$o,floating:Vo,strategy:Xo,x:Go,y:Di,placement:Oa,middlewareData:Ta,update:Ki}=Dr({strategy:"fixed",placement:Bi,whileElementsMounted:Nt,middleware:[fr(),ft({mainAxis:kr+Ti,alignmentAxis:_r}),tn?wt({mainAxis:!0,crossAxis:!1,limiter:Yr==="partial"?Rt():void 0,...ti}):void 0,Kn?Fr({element:Kn,padding:wr}):void 0,tn?Ue({...ti}):void 0,It({...ti,apply:({elements:Ko,availableWidth:Ji,availableHeight:ms})=>{Ko.floating.style.setProperty("--radix-popper-available-width",`${Ji}px`),Ko.floating.style.setProperty("--radix-popper-available-height",`${ms}px`)}}),vr({arrowWidth:Uo,arrowHeight:Ti}),Br?et({strategy:"referenceHidden"}):void 0].filter(pt)});(0,Rr.b)(()=>{$o(xn.anchor)},[$o,xn.anchor]);const na=Go!==null&&Di!==null,[Wa,wa]=Qt(Oa),es=(0,C.W)(Sn);(0,Rr.b)(()=>{na&&(es==null||es())},[na,es]);const Cs=(bt=Ta.arrow)===null||bt===void 0?void 0:bt.x,Ua=(_t=Ta.arrow)===null||_t===void 0?void 0:_t.y,yi=((Et=Ta.arrow)===null||Et===void 0?void 0:Et.centerOffset)!==0,[ci,ja]=(0,f.useState)();(0,Rr.b)(()=>{En&&ja(window.getComputedStyle(En).zIndex)},[En]);const{hasParent:Ri,positionUpdateFns:ki}=co(bo,ir),Ea=!Ri;(0,f.useLayoutEffect)(()=>{if(!Ea)return ki.add(Ki),()=>{ki.delete(Ki)}},[Ea,ki,Ki]),(0,Rr.b)(()=>{Ea&&na&&Array.from(ki).reverse().forEach(Ko=>requestAnimationFrame(Ko))},[Ea,na,ki]);const Zi={"data-side":Wa,"data-align":wa,...Tn,ref:Zn,style:{...Tn.style,animation:na?void 0:"none",opacity:(jt=Ta.hide)!==null&&jt!==void 0&&jt.referenceHidden?0:void 0}};return(0,f.createElement)("div",{ref:Vo,"data-radix-popper-content-wrapper":"",style:{position:Xo,left:0,top:0,transform:na?`translate3d(${Math.round(Go)}px, ${Math.round(Di)}px, 0)`:"translate3d(0, -200%, 0)",minWidth:"max-content",zIndex:ci,"--radix-popper-transform-origin":[(mr=Ta.transformOrigin)===null||mr===void 0?void 0:mr.x,(xr=Ta.transformOrigin)===null||xr===void 0?void 0:xr.y].join(" ")},dir:Ae.dir},(0,f.createElement)(_o,{scope:ir,placedSide:Wa,onArrowChange:$n,arrowX:Cs,arrowY:Ua,shouldHideArrow:yi},Ea?(0,f.createElement)(ao,{scope:ir,hasParent:!0,positionUpdateFns:ki},(0,f.createElement)(m.WV.div,Zi)):(0,f.createElement)(m.WV.div,Zi)))}),Oe="PopperArrow",ze={top:"bottom",right:"left",bottom:"top",left:"right"},$e=(0,f.forwardRef)(function(Ae,Xe){const{__scopePopper:Je,...ct}=Ae,bt=wo(Oe,Je),_t=ze[bt.placedSide];return(0,f.createElement)("span",{ref:bt.onArrowChange,style:{position:"absolute",left:bt.arrowX,top:bt.arrowY,[_t]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[bt.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[bt.placedSide],visibility:bt.shouldHideArrow?"hidden":void 0}},(0,f.createElement)(Gr,(0,i.Z)({},ct,{ref:Xe,style:{...ct.style,display:"block"}})))});function pt(Ae){return Ae!==void 0}function Kt(Ae){return Ae!==null}const fr=()=>({name:"anchorCssProperties",fn(Ae){const{rects:Xe,elements:Je}=Ae,{width:ct,height:bt}=Xe.reference;return Je.floating.style.setProperty("--radix-popper-anchor-width",`${ct}px`),Je.floating.style.setProperty("--radix-popper-anchor-height",`${bt}px`),{}}}),vr=Ae=>({name:"transformOrigin",options:Ae,fn(Xe){var Je,ct,bt,_t,Et;const{placement:jt,rects:mr,middlewareData:xr}=Xe,ir=((Je=xr.arrow)===null||Je===void 0?void 0:Je.centerOffset)!==0,er=ir?0:Ae.arrowWidth,kr=ir?0:Ae.arrowHeight,[Ir,_r]=Qt(jt),wr={start:"0%",center:"50%",end:"100%"}[_r],Ar=((ct=(bt=xr.arrow)===null||bt===void 0?void 0:bt.x)!==null&&ct!==void 0?ct:0)+er/2,Vr=((_t=(Et=xr.arrow)===null||Et===void 0?void 0:Et.y)!==null&&_t!==void 0?_t:0)+kr/2;let Yr="",Br="";return Ir==="bottom"?(Yr=ir?wr:`${Ar}px`,Br=-kr+"px"):Ir==="top"?(Yr=ir?wr:`${Ar}px`,Br=`${mr.floating.height+kr}px`):Ir==="right"?(Yr=-kr+"px",Br=ir?wr:`${Vr}px`):Ir==="left"&&(Yr=`${mr.floating.width+kr}px`,Br=ir?wr:`${Vr}px`),{data:{x:Yr,y:Br}}}});function Qt(Ae){const[Xe,Je="center"]=Ae.split("-");return[Xe,Je]}const Vt=In,Er=go,Lr=it,Jr=$e,on=(0,f.forwardRef)((Ae,Xe)=>{var Je;const{container:ct=globalThis==null||(Je=globalThis.document)===null||Je===void 0?void 0:Je.body,...bt}=Ae;return ct?jr().createPortal((0,f.createElement)(m.WV.div,(0,i.Z)({},bt,{ref:Xe})),ct):null});var gn=r(1483),yn=r(4801),dn=r(2673),mn=function(Ae){return typeof document>"u"?null:(Array.isArray(Ae)?Ae[0]:Ae).ownerDocument.body},Hn=new WeakMap,eo=new WeakMap,So={},Qo=0,Fo=function(Ae){return Ae&&(Ae.host||Fo(Ae.parentNode))},On=function(Ae,Xe,Je,ct){var bt=function(er,kr){return kr.map(function(Ir){if(er.contains(Ir))return Ir;var _r=Fo(Ir);return _r&&er.contains(_r)?_r:(console.error("aria-hidden",Ir,"in not contained inside",er,". Doing nothing"),null)}).filter(function(Ir){return!!Ir})}(Xe,Array.isArray(Ae)?Ae:[Ae]);So[Je]||(So[Je]=new WeakMap);var _t=So[Je],Et=[],jt=new Set,mr=new Set(bt),xr=function(er){er&&!jt.has(er)&&(jt.add(er),xr(er.parentNode))};bt.forEach(xr);var ir=function(er){er&&!mr.has(er)&&Array.prototype.forEach.call(er.children,function(kr){if(jt.has(kr))ir(kr);else{var Ir=kr.getAttribute(ct),_r=Ir!==null&&Ir!=="false",wr=(Hn.get(kr)||0)+1,Ar=(_t.get(kr)||0)+1;Hn.set(kr,wr),_t.set(kr,Ar),Et.push(kr),wr===1&&_r&&eo.set(kr,!0),Ar===1&&kr.setAttribute(Je,"true"),_r||kr.setAttribute(ct,"true")}})};return ir(Xe),jt.clear(),Qo++,function(){Et.forEach(function(er){var kr=Hn.get(er)-1,Ir=_t.get(er)-1;Hn.set(er,kr),_t.set(er,Ir),kr||(eo.has(er)||er.removeAttribute(ct),eo.delete(er)),Ir||er.removeAttribute(Je)}),--Qo||(Hn=new WeakMap,Hn=new WeakMap,eo=new WeakMap,So={})}},bn=function(Ae,Xe,Je){Je===void 0&&(Je="data-aria-hidden");var ct=Array.from(Array.isArray(Ae)?Ae:[Ae]),bt=mn(Ae);return bt?(ct.push.apply(ct,Array.from(bt.querySelectorAll("[aria-live]"))),On(ct,bt,Je,"aria-hidden")):function(){return null}},Yn=function(){return Yn=Object.assign||function(Ae){for(var Xe,Je=1,ct=arguments.length;Je<ct;Je++)for(var bt in Xe=arguments[Je])Object.prototype.hasOwnProperty.call(Xe,bt)&&(Ae[bt]=Xe[bt]);return Ae},Yn.apply(this,arguments)};function vo(Ae,Xe){var Je={};for(var ct in Ae)Object.prototype.hasOwnProperty.call(Ae,ct)&&Xe.indexOf(ct)<0&&(Je[ct]=Ae[ct]);if(Ae!=null&&typeof Object.getOwnPropertySymbols=="function"){var bt=0;for(ct=Object.getOwnPropertySymbols(Ae);bt<ct.length;bt++)Xe.indexOf(ct[bt])<0&&Object.prototype.propertyIsEnumerable.call(Ae,ct[bt])&&(Je[ct[bt]]=Ae[ct[bt]])}return Je}var Ao="right-scroll-bar-position",Yo="width-before-scroll-bar";function vi(Ae,Xe){return Je=null,ct=function(_t){return Ae.forEach(function(Et){return function(jt,mr){return typeof jt=="function"?jt(mr):jt&&(jt.current=mr),jt}(Et,_t)})},(bt=(0,f.useState)(function(){return{value:Je,callback:ct,facade:{get current(){return bt.value},set current(_t){var Et=bt.value;Et!==_t&&(bt.value=_t,bt.callback(_t,Et))}}}})[0]).callback=ct,bt.facade;var Je,ct,bt}function Oi(Ae){return Ae}function bi(Ae,Xe){Xe===void 0&&(Xe=Oi);var Je=[],ct=!1,bt={read:function(){if(ct)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return Je.length?Je[Je.length-1]:Ae},useMedium:function(_t){var Et=Xe(_t,ct);return Je.push(Et),function(){Je=Je.filter(function(jt){return jt!==Et})}},assignSyncMedium:function(_t){for(ct=!0;Je.length;){var Et=Je;Je=[],Et.forEach(_t)}Je={push:function(jt){return _t(jt)},filter:function(){return Je}}},assignMedium:function(_t){ct=!0;var Et=[];if(Je.length){var jt=Je;Je=[],jt.forEach(_t),Et=Je}var mr=function(){var ir=Et;Et=[],ir.forEach(_t)},xr=function(){return Promise.resolve().then(mr)};xr(),Je={push:function(ir){Et.push(ir),xr()},filter:function(ir){return Et=Et.filter(ir),Je}}}};return bt}var Qi=function(Ae){Ae===void 0&&(Ae={});var Xe=bi(null);return Xe.options=Yn({async:!0,ssr:!1},Ae),Xe}(),Ja=function(){},Ha=f.forwardRef(function(Ae,Xe){var Je=f.useRef(null),ct=f.useState({onScrollCapture:Ja,onWheelCapture:Ja,onTouchMoveCapture:Ja}),bt=ct[0],_t=ct[1],Et=Ae.forwardProps,jt=Ae.children,mr=Ae.className,xr=Ae.removeScrollBar,ir=Ae.enabled,er=Ae.shards,kr=Ae.sideCar,Ir=Ae.noIsolation,_r=Ae.inert,wr=Ae.allowPinchZoom,Ar=Ae.as,Vr=Ar===void 0?"div":Ar,Yr=vo(Ae,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),Br=kr,tn=vi([Je,Xe]),Sn=Yn(Yn({},Yr),bt);return f.createElement(f.Fragment,null,ir&&f.createElement(Br,{sideCar:Qi,removeScrollBar:xr,shards:er,noIsolation:Ir,inert:_r,setCallbacks:_t,allowPinchZoom:!!wr,lockRef:Je}),Et?f.cloneElement(f.Children.only(jt),Yn(Yn({},Sn),{ref:tn})):f.createElement(Vr,Yn({},Sn,{className:mr,ref:tn}),jt))});Ha.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},Ha.classNames={fullWidth:Yo,zeroRight:Ao};var ks=function(Ae){var Xe=Ae.sideCar,Je=vo(Ae,["sideCar"]);if(!Xe)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var ct=Xe.read();if(!ct)throw new Error("Sidecar medium not found");return f.createElement(ct,Yn({},Je))};ks.isSideCarExport=!0;function ol(){if(!document)return null;var Ae=document.createElement("style");Ae.type="text/css";var Xe=r.nc;return Xe&&Ae.setAttribute("nonce",Xe),Ae}var Da=function(){var Ae=0,Xe=null;return{add:function(Je){var ct,bt;Ae==0&&(Xe=ol())&&(bt=Je,(ct=Xe).styleSheet?ct.styleSheet.cssText=bt:ct.appendChild(document.createTextNode(bt)),function(_t){(document.head||document.getElementsByTagName("head")[0]).appendChild(_t)}(Xe)),Ae++},remove:function(){!--Ae&&Xe&&(Xe.parentNode&&Xe.parentNode.removeChild(Xe),Xe=null)}}},As=function(){var Ae,Xe=(Ae=Da(),function(Je,ct){f.useEffect(function(){return Ae.add(Je),function(){Ae.remove()}},[Je&&ct])});return function(Je){var ct=Je.styles,bt=Je.dynamic;return Xe(ct,bt),null}},Ca={left:0,top:0,right:0,gap:0},da=function(Ae){return parseInt(Ae||"",10)||0},Hi=function(Ae){if(Ae===void 0&&(Ae="margin"),typeof window>"u")return Ca;var Xe=function(bt){var _t=window.getComputedStyle(document.body),Et=_t[bt==="padding"?"paddingLeft":"marginLeft"],jt=_t[bt==="padding"?"paddingTop":"marginTop"],mr=_t[bt==="padding"?"paddingRight":"marginRight"];return[da(Et),da(jt),da(mr)]}(Ae),Je=document.documentElement.clientWidth,ct=window.innerWidth;return{left:Xe[0],top:Xe[1],right:Xe[2],gap:Math.max(0,ct-Je+Xe[2]-Xe[0])}},Gi=As(),ra=function(Ae,Xe,Je,ct){var bt=Ae.left,_t=Ae.top,Et=Ae.right,jt=Ae.gap;return Je===void 0&&(Je="margin"),`
  .`.concat("with-scroll-bars-hidden",` {
   overflow: hidden `).concat(ct,`;
   padding-right: `).concat(jt,"px ").concat(ct,`;
  }
  body {
    overflow: hidden `).concat(ct,`;
    overscroll-behavior: contain;
    `).concat([Xe&&"position: relative ".concat(ct,";"),Je==="margin"&&`
    padding-left: `.concat(bt,`px;
    padding-top: `).concat(_t,`px;
    padding-right: `).concat(Et,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(jt,"px ").concat(ct,`;
    `),Je==="padding"&&"padding-right: ".concat(jt,"px ").concat(ct,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ao,` {
    right: `).concat(jt,"px ").concat(ct,`;
  }
  
  .`).concat(Yo,` {
    margin-right: `).concat(jt,"px ").concat(ct,`;
  }
  
  .`).concat(Ao," .").concat(Ao,` {
    right: 0 `).concat(ct,`;
  }
  
  .`).concat(Yo," .").concat(Yo,` {
    margin-right: 0 `).concat(ct,`;
  }
  
  body {
    `).concat("--removed-body-scroll-bar-size",": ").concat(jt,`px;
  }
`)},Ds=function(Ae){var Xe=Ae.noRelative,Je=Ae.noImportant,ct=Ae.gapMode,bt=ct===void 0?"margin":ct,_t=f.useMemo(function(){return Hi(bt)},[bt]);return f.createElement(Gi,{styles:ra(_t,!Xe,bt,Je?"":"!important")})},Ra=!1;if(typeof window<"u")try{var Fi=Object.defineProperty({},"passive",{get:function(){return Ra=!0,!0}});window.addEventListener("test",Fi,Fi),window.removeEventListener("test",Fi,Fi)}catch{Ra=!1}var me=!!Ra&&{passive:!1},ot=function(Ae,Xe){var Je=window.getComputedStyle(Ae);return Je[Xe]!=="hidden"&&!(Je.overflowY===Je.overflowX&&!function(ct){return ct.tagName==="TEXTAREA"}(Ae)&&Je[Xe]==="visible")},mt=function(Ae,Xe){var Je=Xe;do{if(typeof ShadowRoot<"u"&&Je instanceof ShadowRoot&&(Je=Je.host),Ht(Ae,Je)){var ct=Hr(Ae,Je);if(ct[1]>ct[2])return!0}Je=Je.parentNode}while(Je&&Je!==document.body);return!1},Ht=function(Ae,Xe){return Ae==="v"?function(Je){return ot(Je,"overflowY")}(Xe):function(Je){return ot(Je,"overflowX")}(Xe)},Hr=function(Ae,Xe){return Ae==="v"?[(Je=Xe).scrollTop,Je.scrollHeight,Je.clientHeight]:function(ct){return[ct.scrollLeft,ct.scrollWidth,ct.clientWidth]}(Xe);var Je},sn=function(Ae){return"changedTouches"in Ae?[Ae.changedTouches[0].clientX,Ae.changedTouches[0].clientY]:[0,0]},Fn=function(Ae){return[Ae.deltaX,Ae.deltaY]},ri=function(Ae){return Ae&&"current"in Ae?Ae.current:Ae},Mi=function(Ae){return`
  .block-interactivity-`.concat(Ae,` {pointer-events: none;}
  .allow-interactivity-`).concat(Ae,` {pointer-events: all;}
`)},Co=0,ai=[],hi,Ai=(hi=function(Ae){var Xe=f.useRef([]),Je=f.useRef([0,0]),ct=f.useRef(),bt=f.useState(Co++)[0],_t=f.useState(function(){return As()})[0],Et=f.useRef(Ae);f.useEffect(function(){Et.current=Ae},[Ae]),f.useEffect(function(){if(Ae.inert){document.body.classList.add("block-interactivity-".concat(bt));var wr=function(Ar,Vr,Yr){for(var Br,tn=0,Sn=Vr.length;tn<Sn;tn++)!Br&&tn in Vr||(Br||(Br=Array.prototype.slice.call(Vr,0,tn)),Br[tn]=Vr[tn]);return Ar.concat(Br||Array.prototype.slice.call(Vr))}([Ae.lockRef.current],(Ae.shards||[]).map(ri)).filter(Boolean);return wr.forEach(function(Ar){return Ar.classList.add("allow-interactivity-".concat(bt))}),function(){document.body.classList.remove("block-interactivity-".concat(bt)),wr.forEach(function(Ar){return Ar.classList.remove("allow-interactivity-".concat(bt))})}}},[Ae.inert,Ae.lockRef.current,Ae.shards]);var jt=f.useCallback(function(wr,Ar){if("touches"in wr&&wr.touches.length===2)return!Et.current.allowPinchZoom;var Vr,Yr=sn(wr),Br=Je.current,tn="deltaX"in wr?wr.deltaX:Br[0]-Yr[0],Sn="deltaY"in wr?wr.deltaY:Br[1]-Yr[1],Tn=wr.target,xn=Math.abs(tn)>Math.abs(Sn)?"h":"v";if("touches"in wr&&xn==="h"&&Tn.type==="range")return!1;var En=mt(xn,Tn);if(!En)return!0;if(En?Vr=xn:(Vr=xn==="v"?"h":"v",En=mt(xn,Tn)),!En)return!1;if(!ct.current&&"changedTouches"in wr&&(tn||Sn)&&(ct.current=Vr),!Vr)return!0;var Ln=ct.current||Vr;return function(Zn,Kn,$n,ro,Uo){var Ti=function(Oa,Ta){return Oa==="h"&&Ta==="rtl"?-1:1}(Zn,window.getComputedStyle(Kn).direction),Bi=Ti*ro,Ei=$n.target,Vi=Kn.contains(Ei),Ni=!1,ti=Bi>0,$o=0,Vo=0;do{var Xo=Hr(Zn,Ei),Go=Xo[0],Di=Xo[1]-Xo[2]-Ti*Go;(Go||Di)&&Ht(Zn,Ei)&&($o+=Di,Vo+=Go),Ei=Ei.parentNode}while(!Vi&&Ei!==document.body||Vi&&(Kn.contains(Ei)||Kn===Ei));return(ti&&$o===0||!ti&&Vo===0)&&(Ni=!0),Ni}(Ln,Ar,wr,Ln==="h"?tn:Sn)},[]),mr=f.useCallback(function(wr){var Ar=wr;if(ai.length&&ai[ai.length-1]===_t){var Vr="deltaY"in Ar?Fn(Ar):sn(Ar),Yr=Xe.current.filter(function(tn){return tn.name===Ar.type&&tn.target===Ar.target&&function(Sn,Tn){return Sn[0]===Tn[0]&&Sn[1]===Tn[1]}(tn.delta,Vr)})[0];if(Yr&&Yr.should)Ar.cancelable&&Ar.preventDefault();else if(!Yr){var Br=(Et.current.shards||[]).map(ri).filter(Boolean).filter(function(tn){return tn.contains(Ar.target)});(Br.length>0?jt(Ar,Br[0]):!Et.current.noIsolation)&&Ar.cancelable&&Ar.preventDefault()}}},[]),xr=f.useCallback(function(wr,Ar,Vr,Yr){var Br={name:wr,delta:Ar,target:Vr,should:Yr};Xe.current.push(Br),setTimeout(function(){Xe.current=Xe.current.filter(function(tn){return tn!==Br})},1)},[]),ir=f.useCallback(function(wr){Je.current=sn(wr),ct.current=void 0},[]),er=f.useCallback(function(wr){xr(wr.type,Fn(wr),wr.target,jt(wr,Ae.lockRef.current))},[]),kr=f.useCallback(function(wr){xr(wr.type,sn(wr),wr.target,jt(wr,Ae.lockRef.current))},[]);f.useEffect(function(){return ai.push(_t),Ae.setCallbacks({onScrollCapture:er,onWheelCapture:er,onTouchMoveCapture:kr}),document.addEventListener("wheel",mr,me),document.addEventListener("touchmove",mr,me),document.addEventListener("touchstart",ir,me),function(){ai=ai.filter(function(wr){return wr!==_t}),document.removeEventListener("wheel",mr,me),document.removeEventListener("touchmove",mr,me),document.removeEventListener("touchstart",ir,me)}},[]);var Ir=Ae.removeScrollBar,_r=Ae.inert;return f.createElement(f.Fragment,null,_r?f.createElement(_t,{styles:Mi(bt)}):null,Ir?f.createElement(Ds,{gapMode:"margin"}):null)},Qi.useMedium(hi),ks),Wi=f.forwardRef(function(Ae,Xe){return f.createElement(Ha,Yn({},Ae,{ref:Xe,sideCar:Ai}))});Wi.classNames=Ha.classNames;var us=Wi;const ds="Popover",[Bl,il]=(0,h.b)(ds,[rn]),Rs=rn(),[Ia,_s]=Bl(ds),oc=Ae=>{const{__scopePopover:Xe,children:Je,open:ct,defaultOpen:bt,onOpenChange:_t,modal:Et=!1}=Ae,jt=Rs(Xe),mr=(0,f.useRef)(null),[xr,ir]=(0,f.useState)(!1),[er=!1,kr]=(0,dn.T)({prop:ct,defaultProp:bt,onChange:_t});return(0,f.createElement)(Vt,jt,(0,f.createElement)(Ia,{scope:Xe,contentId:(0,Ee.M)(),triggerRef:mr,open:er,onOpenChange:kr,onOpenToggle:(0,f.useCallback)(()=>kr(Ir=>!Ir),[kr]),hasCustomAnchor:xr,onCustomAnchorAdd:(0,f.useCallback)(()=>ir(!0),[]),onCustomAnchorRemove:(0,f.useCallback)(()=>ir(!1),[]),modal:Et},Je))},ic="PopoverTrigger",ml=(0,f.forwardRef)((Ae,Xe)=>{const{__scopePopover:Je,...ct}=Ae,bt=_s(ic,Je),_t=Rs(Je),Et=(0,y.e)(Xe,bt.triggerRef),jt=(0,f.createElement)(m.WV.button,(0,i.Z)({type:"button","aria-haspopup":"dialog","aria-expanded":bt.open,"aria-controls":bt.contentId,"data-state":Sl(bt.open)},ct,{ref:Et,onClick:(0,a.M)(Ae.onClick,bt.onOpenToggle)}));return bt.hasCustomAnchor?jt:(0,f.createElement)(Er,(0,i.Z)({asChild:!0},_t),jt)}),gl="PopoverPortal",[al,fs]=Bl(gl,{forceMount:void 0}),ba=Ae=>{const{__scopePopover:Xe,forceMount:Je,children:ct,container:bt}=Ae,_t=_s(gl,Xe);return(0,f.createElement)(al,{scope:Xe,forceMount:Je},(0,f.createElement)(gn.z,{present:Je||_t.open},(0,f.createElement)(on,{asChild:!0,container:bt},ct)))},ya="PopoverContent",Fl=(0,f.forwardRef)((Ae,Xe)=>{const Je=fs(ya,Ae.__scopePopover),{forceMount:ct=Je.forceMount,...bt}=Ae,_t=_s(ya,Ae.__scopePopover);return(0,f.createElement)(gn.z,{present:ct||_t.open},_t.modal?(0,f.createElement)(vl,(0,i.Z)({},bt,{ref:Xe})):(0,f.createElement)(Ls,(0,i.Z)({},bt,{ref:Xe})))}),vl=(0,f.forwardRef)((Ae,Xe)=>{const Je=_s(ya,Ae.__scopePopover),ct=(0,f.useRef)(null),bt=(0,y.e)(Xe,ct),_t=(0,f.useRef)(!1);return(0,f.useEffect)(()=>{const Et=ct.current;if(Et)return bn(Et)},[]),(0,f.createElement)(us,{as:yn.g7,allowPinchZoom:!0},(0,f.createElement)(hs,(0,i.Z)({},Ae,{ref:bt,trapFocus:Je.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,a.M)(Ae.onCloseAutoFocus,Et=>{var jt;Et.preventDefault(),_t.current||(jt=Je.triggerRef.current)===null||jt===void 0||jt.focus()}),onPointerDownOutside:(0,a.M)(Ae.onPointerDownOutside,Et=>{const jt=Et.detail.originalEvent,mr=jt.button===0&&jt.ctrlKey===!0,xr=jt.button===2||mr;_t.current=xr},{checkForDefaultPrevented:!1}),onFocusOutside:(0,a.M)(Ae.onFocusOutside,Et=>Et.preventDefault(),{checkForDefaultPrevented:!1})})))}),Ls=(0,f.forwardRef)((Ae,Xe)=>{const Je=_s(ya,Ae.__scopePopover),ct=(0,f.useRef)(!1);return(0,f.createElement)(hs,(0,i.Z)({},Ae,{ref:Xe,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:bt=>{var _t,Et;(_t=Ae.onCloseAutoFocus)===null||_t===void 0||_t.call(Ae,bt),bt.defaultPrevented||(ct.current||(Et=Je.triggerRef.current)===null||Et===void 0||Et.focus(),bt.preventDefault()),ct.current=!1},onInteractOutside:bt=>{var _t,Et;(_t=Ae.onInteractOutside)===null||_t===void 0||_t.call(Ae,bt),bt.defaultPrevented||(ct.current=!0);const jt=bt.target;!((Et=Je.triggerRef.current)===null||Et===void 0)&&Et.contains(jt)&&bt.preventDefault()}}))}),hs=(0,f.forwardRef)((Ae,Xe)=>{const{__scopePopover:Je,trapFocus:ct,onOpenAutoFocus:bt,onCloseAutoFocus:_t,disableOutsidePointerEvents:Et,onEscapeKeyDown:jt,onPointerDownOutside:mr,onFocusOutside:xr,onInteractOutside:ir,...er}=Ae,kr=_s(ya,Je),Ir=Rs(Je);return pe(),(0,f.createElement)(Ge,{asChild:!0,loop:!0,trapped:ct,onMountAutoFocus:bt,onUnmountAutoFocus:_t},(0,f.createElement)(X,{asChild:!0,disableOutsidePointerEvents:Et,onInteractOutside:ir,onEscapeKeyDown:jt,onPointerDownOutside:mr,onFocusOutside:xr,onDismiss:()=>kr.onOpenChange(!1)},(0,f.createElement)(Lr,(0,i.Z)({"data-state":Sl(kr.open),role:"dialog",id:kr.contentId},Ir,er,{ref:Xe,style:{...er.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)"}}))))}),Ns=(0,f.forwardRef)((Ae,Xe)=>{const{__scopePopover:Je,...ct}=Ae,bt=Rs(Je);return(0,f.createElement)(Jr,(0,i.Z)({},bt,ct,{ref:Xe}))});function Sl(Ae){return Ae?"open":"closed"}const Cl=oc,ps=ml,La=ba,sl=Fl,Il=Ns;var ll=r(8242),fa=r(453),pi=r(8935),uo=r(8924),Jo=function(Ae){var Xe=Ae.color,Je=Ae.onChange,ct=Ae.label,bt=Ae.colorPickerType,_t=(0,ll.Fy)(),Et=(0,f.useState)(Xe),jt=(0,A.Z)(Et,2),mr=jt[0],xr=jt[1],ir=(0,L.KO)(ve),er=(0,A.Z)(ir,2),kr=er[0],Ir=er[1];(0,f.useEffect)(function(){xr(Xe)},[Xe]);var _r=(0,f.useCallback)(function(Sn){var Tn=Sn.toLowerCase(),xn=ha(Tn);xn&&Je(xn),xr(Tn)},[Je]),wr=(0,f.useRef)(null),Ar=(0,f.useRef)(null);(0,f.useEffect)(function(){wr.current&&wr.current.focus()},[kr]);var Vr=(0,L.KO)(uo.$,fa.yE),Yr=(0,A.Z)(Vr,2),Br=Yr[0],tn=Yr[1];return(0,f.useEffect)(function(){return function(){tn(null)}},[tn]),(0,N.jsxs)("div",{className:"color-picker__input-label",children:[(0,N.jsx)("div",{className:"color-picker__input-hash",children:"#"}),(0,N.jsx)("input",{ref:kr==="hex"?wr:void 0,style:{border:0,padding:0},spellCheck:!1,className:"color-picker-input","aria-label":ct,onChange:function(Sn){_r(Sn.target.value)},value:(mr||"").replace(/^#/,""),onBlur:function(){xr(Xe)},tabIndex:-1,onFocus:function(){return Ir("hex")},onKeyDown:function(Sn){var Tn;Sn.key!==T.tW.TAB&&(Sn.key===T.tW.ESCAPE&&((Tn=Ar.current)===null||Tn===void 0||Tn.focus()),Sn.stopPropagation())}}),!_t.editor.isMobile&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("div",{style:{width:"1px",height:"1.25rem",backgroundColor:"var(--default-border-color)"}}),(0,N.jsx)("div",{ref:Ar,className:(0,b.Z)("excalidraw-eye-dropper-trigger",{selected:Br}),onClick:function(){return tn(function(Sn){return Sn?null:{keepOpenOnAlt:!1,onSelect:function(Tn){return Je(Tn)},colorPickerType:bt}})},title:"".concat((0,j.t)("labels.eyeDropper")," — ").concat(T.tW.I.toLocaleUpperCase()," or ").concat((0,k.uY)("Alt")," "),children:pi.$W})]})]})},Io=r(3379),Oo=r.n(Io),ia=r(7795),xa=r.n(ia),Hl=r(569),Zs=r.n(Hl),bl=r(3565),zs=r.n(bl),yl=r(9216),xl=r.n(yl),aa=r(4589),Ui=r.n(aa),sa=r(4269),si={};si.styleTagTransform=Ui(),si.setAttributes=zs(),si.insert=Zs().bind(null,"head"),si.domAPI=xa(),si.insertStyleElement=xl(),Oo()(sa.Z,si),sa.Z&&sa.Z.locals&&sa.Z.locals;var ei=function(Ae){var Xe=new Option().style;return Xe.color=Ae,!!Xe.color},ha=function(Ae){return(0,k.Qm)(Ae)?Ae:ei("#".concat(Ae))?"#".concat(Ae):ei(Ae)?Ae:null},Ss=function(Ae){var Xe=Ae.type,Je=Ae.color,ct=Ae.onChange,bt=Ae.label,_t=Ae.elements,Et=Ae.palette,jt=Et===void 0?w.HO:Et,mr=Ae.updateData,xr=(0,L.KO)(ve),ir=(0,A.Z)(xr,2)[1],er=(0,L.KO)(uo.$,fa.yE),kr=(0,A.Z)(er,2),Ir=kr[0],_r=kr[1],wr=(0,ll.J0)().container,Ar=(0,ll.Fy)(),Vr=(0,N.jsxs)("div",{children:[(0,N.jsx)(R,{children:(0,j.t)("colorPicker.hexCode")}),(0,N.jsx)(Jo,{color:Je,label:bt,onChange:function(tn){ct(tn)},colorPickerType:Xe})]}),Yr=(0,f.useRef)(null),Br=function(){var tn,Sn;(tn=Yr.current)===null||tn===void 0||(Sn=tn.querySelector(".color-picker-content"))===null||Sn===void 0||Sn.focus()};return(0,N.jsx)(La,{container:wr,children:(0,N.jsxs)(sl,{ref:Yr,className:"focus-visible-none","data-prevent-outside-click":!0,onFocusOutside:function(tn){Br(),tn.preventDefault()},onPointerDownOutside:function(tn){Ir&&tn.preventDefault()},onCloseAutoFocus:function(tn){tn.stopPropagation(),tn.preventDefault(),wr&&!(0,k.y1)(document.activeElement)&&wr.focus(),mr({openPopup:null}),ir(null)},side:Ar.editor.isMobile&&!Ar.viewport.isLandscape?"bottom":"right",align:Ar.editor.isMobile&&!Ar.viewport.isLandscape?"center":"start",alignOffset:-16,sideOffset:20,style:{zIndex:"var(--zIndex-layerUI)",backgroundColor:"var(--popup-bg-color)",maxWidth:"208px",maxHeight:window.innerHeight,padding:"12px",borderRadius:"8px",boxSizing:"border-box",overflowY:"auto",boxShadow:"0px 7px 14px rgba(0, 0, 0, 0.05), 0px 0px 3.12708px rgba(0, 0, 0, 0.0798), 0px 0px 0.931014px rgba(0, 0, 0, 0.1702)"},children:[jt?(0,N.jsx)(v,{palette:jt,color:Je,onChange:function(tn){ct(tn)},onEyeDropperToggle:function(tn){_r(function(Sn){return tn?((Sn=Sn||{keepOpenOnAlt:!0,onSelect:ct,colorPickerType:Xe}).keepOpenOnAlt=!0,Sn):tn===!1||Sn?null:{keepOpenOnAlt:!1,onSelect:ct,colorPickerType:Xe}})},onEscape:function(tn){Ir?_r(null):(0,k.s)(tn.target)?Br():mr({openPopup:null})},label:bt,type:Xe,elements:_t,updateData:mr,children:Vr}):Vr,(0,N.jsx)(Il,{width:20,height:10,style:{fill:"var(--popup-bg-color)",filter:"drop-shadow(rgba(0, 0, 0, 0.05) 0px 3px 2px)"}})]})})},Ol=function(Ae){var Xe=Ae.label,Je=Ae.color,ct=Ae.type;return(0,N.jsx)(ps,{type:"button",className:(0,b.Z)("color-picker__button active-color",{"is-transparent":Je==="transparent"||!Je}),"aria-label":Xe,style:Je?{"--swatch-color":Je}:void 0,title:ct==="elementStroke"?(0,j.t)("labels.showStroke"):(0,j.t)("labels.showBackground"),children:(0,N.jsx)("div",{className:"color-picker__button-outline"})})},ut=function(Ae){var Xe=Ae.type,Je=Ae.color,ct=Ae.onChange,bt=Ae.label,_t=Ae.elements,Et=Ae.palette,jt=Et===void 0?w.HO:Et,mr=Ae.topPicks,xr=Ae.updateData,ir=Ae.appState;return(0,N.jsx)("div",{children:(0,N.jsxs)("div",{role:"dialog","aria-modal":"true",className:"color-picker-container",children:[(0,N.jsx)(M,{activeColor:Je,onChange:ct,type:Xe,topPicks:mr}),(0,N.jsx)("div",{style:{width:1,height:"100%",backgroundColor:"var(--default-border-color)",margin:"0 auto"}}),(0,N.jsxs)(Cl,{open:ir.openPopup===Xe,onOpenChange:function(er){xr({openPopup:er?Xe:null})},children:[(0,N.jsx)(Ol,{color:Je,label:bt,type:Xe}),ir.openPopup===Xe&&(0,N.jsx)(Ss,{type:Xe,color:Je,onChange:ct,label:bt,elements:_t,palette:jt,updateData:xr})]})]})})}},6887:function(ue,n,r){r.d(n,{Z:function(){return i}});var A=r(7169),k=r(2726),b=r(8227),w=r(1300),N=r(3379),M=r.n(N),f=r(7795),d=r.n(f),j=r(569),L=r.n(j),H=r(3565),x=r.n(H),S=r(9216),q=r.n(S),ve=r(4589),ke=r.n(ve),Se=r(9393),ge={};ge.styleTagTransform=ke(),ge.setAttributes=x(),ge.insert=L().bind(null,"head"),ge.domAPI=d(),ge.insertStyleElement=q(),M()(Se.Z,ge),Se.Z&&Se.Z.locals&&Se.Z.locals;var J=r(4932),Q=r(3607),K=r(3116),T=r(8242),B=r(453),O=r(1020),R=["onConfirm","onCancel","children","confirmText","cancelText","className"];function E(a,y){var h=Object.keys(a);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(a);y&&(m=m.filter(function(C){return Object.getOwnPropertyDescriptor(a,C).enumerable})),h.push.apply(h,m)}return h}function v(a){for(var y=1;y<arguments.length;y++){var h=arguments[y]!=null?arguments[y]:{};y%2?E(Object(h),!0).forEach(function(m){(0,A.Z)(a,m,h[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(h)):E(Object(h)).forEach(function(m){Object.defineProperty(a,m,Object.getOwnPropertyDescriptor(h,m))})}return a}var i=function(a){var y=a.onConfirm,h=a.onCancel,m=a.children,C=a.confirmText,U=C===void 0?(0,b.t)("buttons.confirm"):C,V=a.cancelText,D=V===void 0?(0,b.t)("buttons.cancel"):V,P=a.className,F=P===void 0?"":P,X=(0,k.Z)(a,R),le=(0,T.n9)(),de=(0,Q.b9)(K.uh,B.yE),fe=(0,T.J0)().container;return(0,O.jsxs)(w.V,v(v({onCloseRequest:h,size:"small"},X),{},{className:"confirm-dialog ".concat(F),children:[m,(0,O.jsxs)("div",{className:"confirm-dialog-buttons",children:[(0,O.jsx)(J.Z,{label:D,onClick:function(){le({openMenu:null}),de(!1),h(),fe==null||fe.focus()}}),(0,O.jsx)(J.Z,{label:U,onClick:function(){le({openMenu:null}),de(!1),y(),fe==null||fe.focus()},actionType:"danger"})]})]}))}},1925:function(ue,n,r){r.d(n,{O:function(){return K}});var A=r(2726),k=r(7169),b=r(45),w=r(9937),N=r(4572),M=r(100),f=r(8227),d=r(9827),j=r(8242),L=r(6922),H=r(3116),x=r(5902),S=r(1020),q=r(9787),ve=["children"],ke=["children","className","onDock","docked"];function Se(T,B){var O=Object.keys(T);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(T);B&&(R=R.filter(function(E){return Object.getOwnPropertyDescriptor(T,E).enumerable})),O.push.apply(O,R)}return O}function ge(T){for(var B=1;B<arguments.length;B++){var O=arguments[B]!=null?arguments[B]:{};B%2?Se(Object(O),!0).forEach(function(R){(0,k.Z)(T,R,O[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(O)):Se(Object(O)).forEach(function(R){Object.defineProperty(T,R,Object.getOwnPropertyDescriptor(O,R))})}return T}var J=(0,L.$)("DefaultSidebarTrigger",function(T){var B=(0,N.R6)().DefaultSidebarTriggerTunnel;return(0,S.jsx)(B.In,{children:(0,S.jsx)(x.YE.Trigger,ge(ge({},T),{},{className:"default-sidebar-trigger",name:w.Cc.name}))})});J.displayName="DefaultSidebarTrigger";var Q=function(T){var B=T.children,O=(0,A.Z)(T,ve),R=(0,N.R6)().DefaultSidebarTabTriggersTunnel;return(0,S.jsx)(R.In,{children:(0,S.jsx)(x.YE.TabTriggers,ge(ge({},O),{},{children:B}))})};Q.displayName="DefaultTabTriggers";var K=Object.assign((0,L.$)("DefaultSidebar",function(T){var B=T.children,O=T.className,R=T.onDock,E=T.docked,v=(0,A.Z)(T,ke),i=(0,M.I)(),a=(0,j.n9)(),y=(0,N.R6)().DefaultSidebarTabTriggersTunnel;return(0,q.createElement)(x.YE,ge(ge({},v),{},{name:"default",key:"default",className:(0,b.Z)("default-sidebar",O),docked:E??i.defaultSidebarDockedPreference,onDock:R===!1||!R&&E!=null?void 0:(0,d.Mj)(R,function(h){a({defaultSidebarDockedPreference:h})})}),(0,S.jsxs)(x.YE.Tabs,{children:[(0,S.jsxs)(x.YE.Header,{children:[v.__fallback&&(0,S.jsx)("div",{style:{color:"var(--color-primary)",fontSize:"1.2em",fontWeight:"bold",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",paddingRight:"1em"},children:(0,f.t)("toolBar.library")}),(0,S.jsx)(y.Out,{})]}),(0,S.jsx)(x.YE.Tab,{tab:w.tf,children:(0,S.jsx)(H.rY,{})}),B]}))}),{Trigger:J,TabTriggers:Q})},1300:function(ue,n,r){r.d(n,{V:function(){return U}});var A=r(2577),k=r(45),b=r(9787),w=r(8227),N=r(8242),M=r(5491),f=r(3379),d=r.n(f),j=r(7795),L=r.n(j),H=r(569),x=r.n(H),S=r(3565),q=r.n(S),ve=r(9216),ke=r.n(ve),Se=r(4589),ge=r.n(Se),J=r(9482),Q={};Q.styleTagTransform=ge(),Q.setAttributes=q(),Q.insert=x().bind(null,"head"),Q.domAPI=L(),Q.insertStyleElement=ke(),d()(J.Z,Q),J.Z&&J.Z.locals&&J.Z.locals;var K=r(8935),T=r(1404),B=r(6843),O={};O.styleTagTransform=ge(),O.setAttributes=q(),O.insert=x().bind(null,"head"),O.domAPI=L(),O.insertStyleElement=ke(),d()(B.Z,O),B.Z&&B.Z.locals&&B.Z.locals;var R=r(5156),E=r(334),v=r(1020),i=function(V){var D=V.closeOnClickOutside,P=D===void 0||D,F=(0,E.F)({className:"excalidraw-modal-container"});return F?(0,R.createPortal)((0,v.jsxs)("div",{className:(0,k.Z)("Modal",V.className),role:"dialog","aria-modal":"true",onKeyDown:function(X){X.key===M.tW.ESCAPE&&(X.nativeEvent.stopImmediatePropagation(),X.stopPropagation(),V.onCloseRequest())},"aria-labelledby":V.labelledBy,"data-prevent-outside-click":!0,children:[(0,v.jsx)("div",{className:"Modal__background",onClick:P?V.onCloseRequest:void 0}),(0,v.jsx)("div",{className:"Modal__content",style:{"--max-width":"".concat(V.maxWidth,"px")},tabIndex:0,children:V.children})]}),F):null},a=r(9827),y=r(3607),h=r(3116),m=r(453);function C(V){if(V&&typeof V=="number")return V;switch(V){case"small":return 550;case"wide":return 1024;default:return 800}}var U=function(V){var D=function(){var Me=(0,b.useState)(null),Ge=(0,A.Z)(Me,2),qe=Ge[0],Ne=Ge[1];return[qe,(0,b.useCallback)(function(Pe){return Ne(Pe)},[])]}(),P=(0,A.Z)(D,2),F=P[0],X=P[1],le=(0,b.useState)(document.activeElement),de=(0,A.Z)(le,1)[0],fe=(0,N.J0)().id,pe=(0,N.Fy)().viewport.isMobile;(0,b.useEffect)(function(){if(F){var Me=(0,a.xp)(F);Me.length>0&&V.autofocus!==!1&&(Me[1]||Me[0]).focus();var Ge=function(qe){if(qe.key===M.tW.TAB){var Ne=(0,a.xp)(F),Pe=document.activeElement,Re=Ne.findIndex(function(Ze){return Ze===Pe});Re===0&&qe.shiftKey?(Ne[Ne.length-1].focus(),qe.preventDefault()):Re!==Ne.length-1||qe.shiftKey||(Ne[0].focus(),qe.preventDefault())}};return F.addEventListener("keydown",Ge),function(){return F.removeEventListener("keydown",Ge)}}},[F,V.autofocus]);var ne=(0,N.n9)(),oe=(0,y.b9)(h.uh,m.yE),be=function(){ne({openMenu:null}),oe(!1),de.focus(),V.onCloseRequest()};return(0,v.jsx)(i,{className:(0,k.Z)("Dialog",V.className,{"Dialog--fullscreen":pe}),labelledBy:"dialog-title",maxWidth:C(V.size),onCloseRequest:be,closeOnClickOutside:V.closeOnClickOutside,children:(0,v.jsxs)(T.W,{ref:X,children:[V.title&&(0,v.jsx)("h2",{id:"".concat(fe,"-dialog-title"),className:"Dialog__title",children:(0,v.jsx)("span",{className:"Dialog__titleContent",children:V.title})}),(0,v.jsx)("button",{className:"Dialog__close",onClick:be,title:(0,w.t)("buttons.close"),"aria-label":(0,w.t)("buttons.close"),children:pe?K.op:K.Tw}),(0,v.jsx)("div",{className:"Dialog__content",children:V.children})]})})}},4932:function(ue,n,r){r.d(n,{Z:function(){return B}});var A=r(7169),k=r(2726),b=r(45),w=r(3379),N=r.n(w),M=r(7795),f=r.n(M),d=r(569),j=r.n(d),L=r(3565),H=r.n(L),x=r(9216),S=r.n(x),q=r(4589),ve=r.n(q),ke=r(6148),Se={};Se.styleTagTransform=ve(),Se.setAttributes=H(),Se.insert=j().bind(null,"head"),Se.domAPI=f(),Se.insertStyleElement=S(),N()(ke.Z,Se),ke.Z&&ke.Z.locals&&ke.Z.locals;var ge=r(8531),J=r(1020),Q=["label","onClick","className","children","actionType","type","isLoading"];function K(O,R){var E=Object.keys(O);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(O);R&&(v=v.filter(function(i){return Object.getOwnPropertyDescriptor(O,i).enumerable})),E.push.apply(E,v)}return E}function T(O){for(var R=1;R<arguments.length;R++){var E=arguments[R]!=null?arguments[R]:{};R%2?K(Object(E),!0).forEach(function(v){(0,A.Z)(O,v,E[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(E)):K(Object(E)).forEach(function(v){Object.defineProperty(O,v,Object.getOwnPropertyDescriptor(E,v))})}return O}var B=function(O){var R=O.label,E=O.onClick,v=O.className,i=O.children,a=O.actionType,y=O.type,h=y===void 0?"button":y,m=O.isLoading,C=(0,k.Z)(O,Q),U=a?"Dialog__action-button--".concat(a):"";return(0,J.jsxs)("button",T(T({className:(0,b.Z)("Dialog__action-button",U,v),type:h,"aria-label":R,onClick:E},C),{},{children:[i&&(0,J.jsx)("div",{style:m?{visibility:"hidden"}:{},children:i}),(0,J.jsx)("div",{style:m?{visibility:"hidden"}:{},children:R}),m&&(0,J.jsx)("div",{style:{position:"absolute",inset:0},children:(0,J.jsx)(ge.Z,{})})]}))}},8924:function(ue,n,r){r.d(n,{p:function(){return i},$:function(){return v}});var A=r(3607),k=r(9787),b=r(5156),w=r(9240),N=r(9937),M=r(100),f=r(334),d=r(1901),j=r(5491),L=r(4105),H=r(8242),x=r(3379),S=r.n(x),q=r(7795),ve=r.n(q),ke=r(569),Se=r.n(ke),ge=r(3565),J=r.n(ge),Q=r(9216),K=r.n(Q),T=r(4589),B=r.n(T),O=r(7522),R={};R.styleTagTransform=B(),R.setAttributes=J(),R.insert=Se().bind(null,"head"),R.domAPI=ve(),R.insertStyleElement=K(),S()(O.Z,R),O.Z&&O.Z.locals&&O.Z.locals;var E=r(1020),v=(0,A.cn)(null),i=function(a){var y=a.onCancel,h=a.onChange,m=a.onSelect,C=a.colorPickerType,U=(0,f.F)({className:"excalidraw-eye-dropper-backdrop",parentSelector:".excalidraw-eye-dropper-container"}),V=(0,M.I)(),D=(0,H.bd)(),P=(0,H.qD)(),F=(0,L.eD)(D,V),X=function(fe){var pe=(0,k.useRef)(fe);return Object.assign(pe.current,fe),pe.current}({app:P,onCancel:y,onChange:h,onSelect:m,selectedElements:F}),le=(0,H.J0)().container;(0,k.useEffect)(function(){var fe=de.current;if(fe&&P.canvas&&U){var pe=!1,ne=P.canvas.getContext("2d"),oe=function(Pe){var Re=Pe.clientX,Ze=Pe.clientY,Ie=ne.getImageData((Re-V.offsetLeft)*window.devicePixelRatio,(Ze-V.offsetTop)*window.devicePixelRatio,1,1).data;return(0,w.vq)(Ie[0],Ie[1],Ie[2])},be=function(Pe){var Re=Pe.clientX,Ze=Pe.clientY,Ie=Pe.altKey;fe.style.top="".concat(Ze+20,"px"),fe.style.left="".concat(Re+20,"px");var Ee=oe({clientX:Re,clientY:Ze});pe&&X.onChange(C,Ee,X.selectedElements,{altKey:Ie}),fe.style.background=Ee},Me=function(){X.onCancel()},Ge=function(Pe){pe=!0,Pe.stopImmediatePropagation()},qe=function(Pe){pe=!1,le==null||le.focus(),Pe.stopImmediatePropagation(),Pe.preventDefault(),function(Re,Ze){X.onSelect(Re,Ze)}(oe(Pe),Pe)},Ne=function(Pe){Pe.key===j.tW.ESCAPE&&(Pe.preventDefault(),Pe.stopImmediatePropagation(),Me())};return U.tabIndex=-1,U.focus(),be({clientX:X.app.lastViewportPosition.x,clientY:X.app.lastViewportPosition.y,altKey:!1}),U.addEventListener(N.Ks.KEYDOWN,Ne),U.addEventListener(N.Ks.POINTER_DOWN,Ge),U.addEventListener(N.Ks.POINTER_UP,qe),window.addEventListener("pointermove",be,{passive:!0}),window.addEventListener(N.Ks.BLUR,Me),function(){pe=!1,U.removeEventListener(N.Ks.KEYDOWN,Ne),U.removeEventListener(N.Ks.POINTER_DOWN,Ge),U.removeEventListener(N.Ks.POINTER_UP,qe),window.removeEventListener("pointermove",be),window.removeEventListener(N.Ks.BLUR,Me)}}},[X,P.canvas,U,C,le,V.offsetLeft,V.offsetTop]);var de=(0,k.useRef)(null);return(0,d.O)(de,function(){y()},function(fe){return!!fe.target.closest(".excalidraw-eye-dropper-trigger, .excalidraw-eye-dropper-backdrop")}),U?(0,b.createPortal)((0,E.jsx)("div",{ref:de,className:"excalidraw-eye-dropper-preview"}),U):null}},1404:function(ue,n,r){r.d(n,{W:function(){return T}});var A=r(7169),k=r(3379),b=r.n(k),w=r(7795),N=r.n(w),M=r(569),f=r.n(M),d=r(3565),j=r.n(d),L=r(9216),H=r.n(L),x=r(4589),S=r.n(x),q=r(7369),ve={};ve.styleTagTransform=S(),ve.setAttributes=j(),ve.insert=f().bind(null,"head"),ve.domAPI=N(),ve.insertStyleElement=H(),b()(q.Z,ve),q.Z&&q.Z.locals&&q.Z.locals;var ke=r(9787),Se=r.n(ke),ge=r(45),J=r(1020);function Q(B,O){var R=Object.keys(B);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(B);O&&(E=E.filter(function(v){return Object.getOwnPropertyDescriptor(B,v).enumerable})),R.push.apply(R,E)}return R}function K(B){for(var O=1;O<arguments.length;O++){var R=arguments[O]!=null?arguments[O]:{};O%2?Q(Object(R),!0).forEach(function(E){(0,A.Z)(B,E,R[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors(R)):Q(Object(R)).forEach(function(E){Object.defineProperty(B,E,Object.getOwnPropertyDescriptor(R,E))})}return B}var T=Se().forwardRef(function(B,O){var R=B.children,E=B.padding,v=B.className,i=B.style;return(0,J.jsx)("div",{className:(0,ge.Z)("Island",v),style:K({"--padding":E},i),ref:O,children:R})})},3116:function(ue,n,r){r.d(n,{rY:function(){return Pt},uh:function(){return Gt}});var A=r(6655),k=r(1930),b=r(8950),w=r(2577),N=r(2975),M=r.n(N),f=r(9787),d=r.n(f),j=r(9326),L=r(8227),H=r(4643),x=r(7169),S=r(4419),q=r(9827),ve=r(2540),ke=r(9937),Se=r(8531),ge=r(5742),J=r(1020),Q=function(St){var Zt=St.theme,Tt=St.id,Lt=St.libraryReturnUrl||window.location.origin+window.location.pathname;return(0,J.jsx)("a",{className:"library-menu-browse-button",href:"".concat("https://libraries.excalidraw.com","?target=").concat(window.name||"_blank","&referrer=").concat(Lt,"&useHash=true&token=").concat(Tt,"&theme=").concat(Zt,"&version=").concat(ke.Kr.excalidrawLibrary),target:"_excalidraw_libraries",children:(0,L.t)("labels.libraries")})},K=r(45),T=function(St){var Zt=St.libraryReturnUrl,Tt=St.theme,Lt=St.id,Wt=St.style,qt=St.children,sr=St.className;return(0,J.jsxs)("div",{className:(0,K.Z)("library-menu-control-buttons",sr),style:Wt,children:[(0,J.jsx)(Q,{id:Lt,libraryReturnUrl:Zt,theme:Tt}),qt]})},B=r(9247),O=r(453),R=r(8242),E=r(8935),v=r(1512),i=r(6548),a=r(3607),y=r(6887),h=r(5284),m=r(1300),C=r(507),U=r(5796),V=r(4932),D=r(3379),P=r.n(D),F=r(7795),X=r.n(F),le=r(569),de=r.n(le),fe=r(3565),pe=r.n(fe),ne=r(9216),oe=r.n(ne),be=r(4589),Me=r.n(be),Ge=r(7589),qe={};qe.styleTagTransform=Me(),qe.setAttributes=pe(),qe.insert=de().bind(null,"head"),qe.domAPI=X(),qe.insertStyleElement=oe(),P()(Ge.Z,qe),Ge.Z&&Ge.Z.locals&&Ge.Z.locals;function Ne(St,Zt){var Tt=Object.keys(St);if(Object.getOwnPropertySymbols){var Lt=Object.getOwnPropertySymbols(St);Zt&&(Lt=Lt.filter(function(Wt){return Object.getOwnPropertyDescriptor(St,Wt).enumerable})),Tt.push.apply(Tt,Lt)}return Tt}function Pe(St){for(var Zt=1;Zt<arguments.length;Zt++){var Tt=arguments[Zt]!=null?arguments[Zt]:{};Zt%2?Ne(Object(Tt),!0).forEach(function(Lt){(0,x.Z)(St,Lt,Tt[Lt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(St,Object.getOwnPropertyDescriptors(Tt)):Ne(Object(Tt)).forEach(function(Lt){Object.defineProperty(St,Lt,Object.getOwnPropertyDescriptor(Tt,Lt))})}return St}function Re(St,Zt){var Tt=typeof Symbol<"u"&&St[Symbol.iterator]||St["@@iterator"];if(!Tt){if(Array.isArray(St)||(Tt=function(Sr,Mr){if(Sr){if(typeof Sr=="string")return Ze(Sr,Mr);var zr=Object.prototype.toString.call(Sr).slice(8,-1);if(zr==="Object"&&Sr.constructor&&(zr=Sr.constructor.name),zr==="Map"||zr==="Set")return Array.from(Sr);if(zr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(zr))return Ze(Sr,Mr)}}(St))||Zt){Tt&&(St=Tt);var Lt=0,Wt=function(){};return{s:Wt,n:function(){return Lt>=St.length?{done:!0}:{done:!1,value:St[Lt++]}},e:function(Sr){throw Sr},f:Wt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var qt,sr=!0,cr=!1;return{s:function(){Tt=Tt.call(St)},n:function(){var Sr=Tt.next();return sr=Sr.done,Sr},e:function(Sr){cr=!0,qt=Sr},f:function(){try{sr||Tt.return==null||Tt.return()}finally{if(cr)throw qt}}}}function Ze(St,Zt){(Zt==null||Zt>St.length)&&(Zt=St.length);for(var Tt=0,Lt=new Array(Zt);Tt<Zt;Tt++)Lt[Tt]=St[Tt];return Lt}var Ie="publish-library-data",Ee=function(){var St=(0,b.Z)(M().mark(function Zt(Tt){var Lt,Wt,qt,sr,cr,Sr,Mr,zr,pr,Ft,or,rr,Or,Kr,Xr,cn,en;return M().wrap(function(ur){for(;;)switch(ur.prev=ur.next){case 0:Lt=6,Wt=128,qt=Math.round(Wt/16),sr=Math.max(Math.round(Wt/64),2),cr=(0,q.yo)(Tt,Lt),(Sr=document.createElement("canvas")).width=cr[0].length*Wt+(cr[0].length+1)*(2*qt)-2*qt,Sr.height=cr.length*Wt+(cr.length+1)*(2*qt)-2*qt,(Mr=Sr.getContext("2d")).fillStyle=h.white,Mr.fillRect(0,0,Sr.width,Sr.height),zr=Re(Tt.entries()),ur.prev=12,zr.s();case 14:if((pr=zr.n()).done){ur.next=28;break}return Ft=(0,w.Z)(pr.value,2),or=Ft[0],rr=Ft[1],ur.next=18,(0,C.NL)({elements:rr.elements,files:null,maxWidthOrHeight:Wt});case 18:Or=ur.sent,Kr=Or.width,Xr=Or.height,cn=Math.floor(or/Lt)*(Wt+2*qt),en=or%Lt*(Wt+2*qt),Mr.drawImage(Or,en+(Wt-Kr)/2+qt,cn+(Wt-Xr)/2+qt),Mr.lineWidth=sr,Mr.strokeStyle=h.gray[4],Mr.strokeRect(en+qt/2,cn+qt/2,Wt+qt,Wt+qt);case 26:ur.next=14;break;case 28:ur.next=33;break;case 30:ur.prev=30,ur.t0=ur.catch(12),zr.e(ur.t0);case 33:return ur.prev=33,zr.f(),ur.finish(33);case 36:return ur.t1=U.Tu,ur.t2=File,ur.next=40,(0,U._c)(Sr);case 40:return ur.t3=ur.sent,ur.t4=[ur.t3],ur.t5={type:ke.LO.png},ur.t6=new ur.t2(ur.t4,"preview",ur.t5),ur.t7={outputType:ke.LO.jpg,maxWidthOrHeight:5e3},ur.next=47,(0,ur.t1)(ur.t6,ur.t7);case 47:return ur.abrupt("return",ur.sent);case 48:case"end":return ur.stop()}},Zt,null,[[12,30,33,36]])}));return function(Zt){return St.apply(this,arguments)}}(),xe=function(St){var Zt=St.libItem,Tt=St.appState,Lt=St.index,Wt=St.onChange,qt=St.onRemove,sr=(0,f.useRef)(null),cr=(0,f.useRef)(null);return(0,f.useEffect)(function(){var Sr=sr.current;Sr&&(0,b.Z)(M().mark(function Mr(){var zr;return M().wrap(function(pr){for(;;)switch(pr.prev=pr.next){case 0:return pr.next=2,(0,C.$D)({elements:Zt.elements,appState:Pe(Pe({},Tt),{},{viewBackgroundColor:h.white,exportBackground:!0}),files:null});case 2:zr=pr.sent,Sr.innerHTML=zr.outerHTML;case 4:case"end":return pr.stop()}},Mr)}))()},[Zt.elements,Tt]),(0,J.jsxs)("div",{className:"single-library-item",children:[Zt.status==="published"&&(0,J.jsx)("span",{className:"single-library-item-status",children:(0,L.t)("labels.statusPublished")}),(0,J.jsx)("div",{ref:sr,className:"single-library-item__svg"}),(0,J.jsx)(v.V,{"aria-label":(0,L.t)("buttons.remove"),type:"button",icon:E.Tw,className:"single-library-item--remove",onClick:qt.bind(null,Zt.id),title:(0,L.t)("buttons.remove")}),(0,J.jsxs)("div",{style:{display:"flex",margin:"0.8rem 0",width:"100%",fontSize:"14px",fontWeight:500,flexDirection:"column"},children:[(0,J.jsxs)("label",{style:{display:"flex",justifyContent:"space-between",flexDirection:"column"},children:[(0,J.jsxs)("div",{style:{padding:"0.5em 0"},children:[(0,J.jsx)("span",{style:{fontWeight:500,color:h.gray[6]},children:(0,L.t)("publishDialog.itemName")}),(0,J.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,J.jsx)("input",{type:"text",ref:cr,style:{width:"80%",padding:"0.2rem"},defaultValue:Zt.name,placeholder:"Item name",onChange:function(Sr){Wt(Sr.target.value,Lt)}})]}),(0,J.jsx)("span",{className:"error",children:Zt.error})]})]})},Z=function(St){var Zt=St.onClose,Tt=St.libraryItems,Lt=St.appState,Wt=St.onSuccess,qt=St.onError,sr=St.updateItemsInStorage,cr=St.onRemove,Sr=(0,f.useState)({authorName:"",githubHandle:"",name:"",description:"",twitterHandle:"",website:""}),Mr=(0,w.Z)(Sr,2),zr=Mr[0],pr=Mr[1],Ft=(0,f.useState)(!1),or=(0,w.Z)(Ft,2),rr=or[0],Or=or[1];(0,f.useEffect)(function(){var Cr=function(){try{var Zr=localStorage.getItem(Ie);if(Zr)return JSON.parse(Zr)}catch(Dr){console.error(Dr)}return null}();Cr&&pr(Cr)},[]);var Kr=(0,f.useState)(Tt.slice()),Xr=(0,w.Z)(Kr,2),cn=Xr[0],en=Xr[1];(0,f.useEffect)(function(){en(Tt.slice())},[Tt]);var ur,Dt=function(Cr){pr(Pe(Pe({},zr),{},(0,x.Z)({},Cr.target.name,Cr.target.value)))},Nt=function(){var Cr=(0,b.Z)(M().mark(function Zr(Dr){var Fr,ln,Gr,Rr,Wr,Ur,rn;return M().wrap(function(an){for(;;)switch(an.prev=an.next){case 0:if(Dr.preventDefault(),Or(!0),Fr=[],ln=!1,cn.forEach(function(Qr){var In="";Qr.name||(In=(0,L.t)("publishDialog.errors.required"),ln=!0),Fr.push(Pe(Pe({},Qr),{},{error:In}))}),!ln){an.next=9;break}return en(Fr),Or(!1),an.abrupt("return");case 9:return an.next=11,Ee(cn);case 11:Gr=an.sent,Rr={type:ke.r8.excalidrawLibrary,version:ke.Kr.excalidrawLibrary,source:ke.pb,libraryItems:cn},Wr=JSON.stringify(Rr,null,2),Ur=new Blob([Wr],{type:"application/json"}),(rn=new FormData).append("excalidrawLib",Ur),rn.append("previewImage",Gr),rn.append("previewImageType",Gr.type),rn.append("title",zr.name),rn.append("authorName",zr.authorName),rn.append("githubHandle",zr.githubHandle),rn.append("name",zr.name),rn.append("description",zr.description),rn.append("twitterHandle",zr.twitterHandle),rn.append("website",zr.website),fetch("".concat("https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries","/submit"),{method:"post",body:rn}).then(function(Qr){return Qr.ok?Qr.json().then(function(In){var Xn=In.url;localStorage.removeItem(Ie),Wt({url:Xn,authorName:zr.authorName,items:cn})}):Qr.json().catch(function(){throw new Error(Qr.statusText||"something went wrong")}).then(function(In){throw new Error(In.message||Qr.statusText||"something went wrong")})},function(Qr){console.error(Qr),qt(Qr),Or(!1)}).catch(function(Qr){console.error(Qr),qt(Qr),Or(!1)});case 27:case"end":return an.stop()}},Zr)}));return function(Zr){return Cr.apply(this,arguments)}}(),Ut=(0,f.useCallback)(function(){sr(cn),function(Cr){try{localStorage.setItem(Ie,JSON.stringify(Cr))}catch(Zr){console.error(Zr)}}(zr),Zt()},[cn,Zt,sr,zr]),hr=!!Tt.length,jr=Tt.some(function(Cr){return Cr.status==="published"});return(0,J.jsx)(m.V,{onCloseRequest:Ut,title:(0,L.t)("publishDialog.title"),className:"publish-library",children:hr?(0,J.jsxs)("form",{onSubmit:Nt,children:[(0,J.jsx)("div",{className:"publish-library-note",children:(0,J.jsx)(B.Z,{i18nKey:"publishDialog.noteDescription",link:function(Cr){return(0,J.jsx)("a",{href:"https://libraries.excalidraw.com",target:"_blank",rel:"noopener noreferrer",children:Cr})}})}),(0,J.jsx)("span",{className:"publish-library-note",children:(0,J.jsx)(B.Z,{i18nKey:"publishDialog.noteGuidelines",link:function(Cr){return(0,J.jsx)("a",{href:"https://github.com/excalidraw/excalidraw-libraries#guidelines",target:"_blank",rel:"noopener noreferrer",children:Cr})}})}),(0,J.jsx)("div",{className:"publish-library-note",children:(0,L.t)("publishDialog.noteItems")}),jr&&(0,J.jsx)("span",{className:"publish-library-note publish-library-warning",children:(0,L.t)("publishDialog.republishWarning")}),(ur=[],cn.forEach(function(Cr,Zr){ur.push((0,J.jsx)("div",{className:"single-library-item-wrapper",children:(0,J.jsx)(xe,{libItem:Cr,appState:Lt,index:Zr,onChange:function(Dr,Fr){var ln=cn.slice();ln[Fr].name=Dr,en(ln)},onRemove:cr})},Zr))}),(0,J.jsx)("div",{className:"selected-library-items",children:ur})),(0,J.jsxs)("div",{className:"publish-library__fields",children:[(0,J.jsxs)("label",{children:[(0,J.jsxs)("div",{children:[(0,J.jsx)("span",{children:(0,L.t)("publishDialog.libraryName")}),(0,J.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,J.jsx)("input",{type:"text",name:"name",required:!0,value:zr.name,onChange:Dt,placeholder:(0,L.t)("publishDialog.placeholder.libraryName")})]}),(0,J.jsxs)("label",{style:{alignItems:"flex-start"},children:[(0,J.jsxs)("div",{children:[(0,J.jsx)("span",{children:(0,L.t)("publishDialog.libraryDesc")}),(0,J.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,J.jsx)("textarea",{name:"description",rows:4,required:!0,value:zr.description,onChange:Dt,placeholder:(0,L.t)("publishDialog.placeholder.libraryDesc")})]}),(0,J.jsxs)("label",{children:[(0,J.jsxs)("div",{children:[(0,J.jsx)("span",{children:(0,L.t)("publishDialog.authorName")}),(0,J.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,J.jsx)("input",{type:"text",name:"authorName",required:!0,value:zr.authorName,onChange:Dt,placeholder:(0,L.t)("publishDialog.placeholder.authorName")})]}),(0,J.jsxs)("label",{children:[(0,J.jsx)("span",{children:(0,L.t)("publishDialog.githubUsername")}),(0,J.jsx)("input",{type:"text",name:"githubHandle",value:zr.githubHandle,onChange:Dt,placeholder:(0,L.t)("publishDialog.placeholder.githubHandle")})]}),(0,J.jsxs)("label",{children:[(0,J.jsx)("span",{children:(0,L.t)("publishDialog.twitterUsername")}),(0,J.jsx)("input",{type:"text",name:"twitterHandle",value:zr.twitterHandle,onChange:Dt,placeholder:(0,L.t)("publishDialog.placeholder.twitterHandle")})]}),(0,J.jsxs)("label",{children:[(0,J.jsx)("span",{children:(0,L.t)("publishDialog.website")}),(0,J.jsx)("input",{type:"text",name:"website",pattern:"https?://.+",title:(0,L.t)("publishDialog.errors.website"),value:zr.website,onChange:Dt,placeholder:(0,L.t)("publishDialog.placeholder.website")})]}),(0,J.jsx)("span",{className:"publish-library-note",children:(0,J.jsx)(B.Z,{i18nKey:"publishDialog.noteLicense",link:function(Cr){return(0,J.jsx)("a",{href:"https://github.com/excalidraw/excalidraw-libraries/blob/main/LICENSE",target:"_blank",rel:"noopener noreferrer",children:Cr})}})})]}),(0,J.jsxs)("div",{className:"publish-library__buttons",children:[(0,J.jsx)(V.Z,{label:(0,L.t)("buttons.cancel"),onClick:Ut,"data-testid":"cancel-clear-canvas-button"}),(0,J.jsx)(V.Z,{type:"submit",label:(0,L.t)("buttons.submit"),actionType:"primary",isLoading:rr})]})]}):(0,J.jsx)("p",{style:{padding:"1em",textAlign:"center",fontWeight:500},children:(0,L.t)("publishDialog.atleastOneLibItem")})})},u=r(7104),g=r(100),z=r(5832),Y=function(St,Zt){return St.filter(function(Tt){return Zt.includes(Tt.id)})},te=function(St){var Zt,Tt,Lt=St.setAppState,Wt=St.selectedItems,qt=St.library,sr=St.onRemoveFromLibrary,cr=St.resetLibrary,Sr=St.onSelectItems,Mr=St.appState,zr=St.className,pr=(0,a.KO)(j.rF,O.yE),Ft=(0,w.Z)(pr,1)[0],or=(0,a.KO)(Gt,O.yE),rr=(0,w.Z)(or,2),Or=rr[0],Kr=rr[1],Xr=(0,f.useState)(!1),cn=(0,w.Z)(Xr,2),en=cn[0],ur=cn[1],Dt=!!Wt.length,Nt=Dt?Ft.libraryItems.filter(function(rn){return Wt.includes(rn.id)}):Ft.libraryItems,Ut=Dt?(0,L.t)("buttons.remove"):(0,L.t)("buttons.resetLibrary"),hr=(0,f.useState)(!1),jr=(0,w.Z)(hr,2),Cr=jr[0],Zr=jr[1],Dr=(0,f.useState)(null),Fr=(0,w.Z)(Dr,2),ln=Fr[0],Gr=Fr[1],Rr=(0,f.useCallback)(function(){return(0,J.jsxs)(m.V,{onCloseRequest:function(){return Gr(null)},title:(0,L.t)("publishSuccessDialog.title"),className:"publish-library-success",size:"small",children:[(0,J.jsx)("p",{children:(0,J.jsx)(B.Z,{i18nKey:"publishSuccessDialog.content",authorName:ln.authorName,link:function(rn){return(0,J.jsx)("a",{href:ln==null?void 0:ln.url,target:"_blank",rel:"noopener noreferrer",children:rn})}})}),(0,J.jsx)(v.V,{type:"button",title:(0,L.t)("buttons.close"),"aria-label":(0,L.t)("buttons.close"),label:(0,L.t)("buttons.close"),onClick:function(){return Gr(null)},"data-testid":"publish-library-success-close",className:"publish-library-success-close"})]})},[Gr,ln]),Wr=function(){var rn=(0,b.Z)(M().mark(function an(){return M().wrap(function(Qr){for(;;)switch(Qr.prev=Qr.next){case 0:return Qr.prev=0,Qr.next=3,qt.updateLibrary({libraryItems:(0,i.I$)({description:"Excalidraw library files"}),merge:!0,openLibraryMenu:!0});case 3:Qr.next=11;break;case 5:if(Qr.prev=5,Qr.t0=Qr.catch(0),(Qr.t0===null||Qr.t0===void 0?void 0:Qr.t0.name)!=="AbortError"){Qr.next=10;break}return console.warn(Qr.t0),Qr.abrupt("return");case 10:Lt({errorMessage:(0,L.t)("errors.importLibraryError")});case 11:case"end":return Qr.stop()}},an,null,[[0,5]])}));return function(){return rn.apply(this,arguments)}}(),Ur=function(){var rn=(0,b.Z)(M().mark(function an(){var Qr;return M().wrap(function(In){for(;;)switch(In.prev=In.next){case 0:if(!Dt){In.next=4;break}In.t0=Nt,In.next=7;break;case 4:return In.next=6,qt.getLatestLibrary();case 6:In.t0=In.sent;case 7:Qr=In.t0,(0,S.t1)(Qr).catch(q.FG).catch(function(Xn){Lt({errorMessage:Xn.message})});case 9:case"end":return In.stop()}},an)}));return function(){return rn.apply(this,arguments)}}();return(0,J.jsxs)("div",{className:(0,K.Z)("library-menu-dropdown-container",zr),children:[(0,J.jsxs)(u.Z,{open:Or,children:[(0,J.jsx)(u.Z.Trigger,{onToggle:function(){return Kr(!Or)},children:E.YA}),(0,J.jsxs)(u.Z.Content,{onClickOutside:function(){return Kr(!1)},onSelect:function(){return Kr(!1)},className:"library-menu",children:[!Dt&&(0,J.jsx)(u.Z.Item,{onSelect:Wr,icon:E.Tl,"data-testid":"lib-dropdown--load",children:(0,L.t)("buttons.load")}),!!Nt.length&&(0,J.jsx)(u.Z.Item,{onSelect:Ur,icon:E.Hy,"data-testid":"lib-dropdown--export",children:(0,L.t)("buttons.export")}),!!Nt.length&&(0,J.jsx)(u.Z.Item,{onSelect:function(){return ur(!0)},icon:E.XH,children:Ut}),Dt&&(0,J.jsx)(u.Z.Item,{icon:E.Nw,onSelect:function(){return Zr(!0)},"data-testid":"lib-dropdown--remove",children:(0,L.t)("buttons.publishLibrary")})]})]}),Wt.length>0&&(0,J.jsx)("div",{className:"library-actions-counter",children:Wt.length}),en&&(Zt=Wt.length?(0,L.t)("alerts.removeItemsFromsLibrary",{count:Wt.length}):(0,L.t)("alerts.resetLibrary"),Tt=Wt.length?(0,L.t)("confirmDialog.removeItemsFromLib"):(0,L.t)("confirmDialog.resetLibrary"),(0,J.jsx)(y.Z,{onConfirm:function(){Wt.length?sr():cr(),ur(!1)},onCancel:function(){ur(!1)},title:Tt,children:(0,J.jsx)("p",{children:Zt})})),Cr&&(0,J.jsx)(Z,{onClose:function(){return Zr(!1)},libraryItems:Y(Ft.libraryItems,Wt),appState:Mr,onSuccess:function(rn){return function(an,Qr){Zr(!1),Gr({url:an.url,authorName:an.authorName});var In=Qr.slice();In.forEach(function(Xn){Wt.includes(Xn.id)&&(Xn.status="published")}),qt.setLibrary(In)}(rn,Ft.libraryItems)},onError:function(rn){return window.alert(rn)},updateItemsInStorage:function(){return qt.setLibrary(Ft.libraryItems)},onRemove:function(rn){return Sr(Wt.filter(function(an){return an!==rn}))}}),ln&&Rr()]})},ae=function(St){var Zt=St.selectedItems,Tt=St.onSelectItems,Lt=St.className,Wt=(0,R.qD)().library,qt=(0,z.yT)(),sr=qt.clearLibraryCache,cr=qt.deleteItemsFromLibraryCache,Sr=(0,g.I)(),Mr=(0,R.n9)(),zr=(0,a.KO)(j.rF,O.yE),pr=(0,w.Z)(zr,1)[0],Ft=function(){var or=(0,b.Z)(M().mark(function rr(Or){var Kr;return M().wrap(function(Xr){for(;;)switch(Xr.prev=Xr.next){case 0:Kr=Or.filter(function(cn){return!Zt.includes(cn.id)}),Wt.setLibrary(Kr).catch(function(){Mr({errorMessage:(0,L.t)("alerts.errorRemovingFromLibrary")})}),cr(Zt),Tt([]);case 4:case"end":return Xr.stop()}},rr)}));return function(rr){return or.apply(this,arguments)}}();return(0,J.jsx)(te,{appState:Sr,setAppState:Mr,selectedItems:Zt,onSelectItems:Tt,library:Wt,onRemoveFromLibrary:function(){return Ft(pr.libraryItems)},resetLibrary:function(){Wt.resetLibrary(),sr()},className:Lt})},ce=r(5644),ye={};ye.styleTagTransform=Me(),ye.setAttributes=pe(),ye.insert=de().bind(null,"head"),ye.domAPI=X(),ye.insertStyleElement=oe(),P()(ce.Z,ye),ce.Z&&ce.Z.locals&&ce.Z.locals;var je=r(6238),Be=(0,f.memo)(function(St){var Zt=St.id,Tt=St.elements,Lt=St.isPending,Wt=St.onClick,qt=St.selected,sr=St.onToggle,cr=St.onDrag,Sr=St.svgCache,Mr=(0,f.useRef)(null),zr=(0,z.mF)(Zt,Tt,Sr);(0,f.useEffect)(function(){var Xr=Mr.current;if(Xr)return zr&&(Xr.innerHTML=zr.outerHTML),function(){Xr.innerHTML=""}},[zr]);var pr=(0,f.useState)(!1),Ft=(0,w.Z)(pr,2),or=Ft[0],rr=Ft[1],Or=(0,R.Fy)().editor.isMobile,Kr=Lt&&(0,J.jsx)("div",{className:"library-unit__adder",children:E.pO});return(0,J.jsxs)("div",{className:(0,K.Z)("library-unit",{"library-unit__active":Tt,"library-unit--hover":Tt&&or,"library-unit--selected":qt,"library-unit--skeleton":!zr}),onMouseEnter:function(){return rr(!0)},onMouseLeave:function(){return rr(!1)},children:[(0,J.jsx)("div",{className:(0,K.Z)("library-unit__dragger",{"library-unit__pulse":!!Lt}),ref:Mr,draggable:!!Tt,onClick:Tt||Lt?function(Xr){Zt&&Xr.shiftKey?sr(Zt,Xr):Wt(Zt)}:void 0,onDragStart:function(Xr){Zt?(rr(!1),cr(Zt,Xr)):Xr.preventDefault()}}),Kr,Zt&&Tt&&(or||Or||qt)&&(0,J.jsx)(je.o,{checked:qt,onChange:function(Xr,cn){return sr(Zt,cn)},className:"library-unit__checkbox"})]})}),Qe=function(){return(0,J.jsx)("div",{className:"library-unit library-unit--skeleton"})},rt=d().useTransition||function(){return[!1,(0,f.useCallback)(function(St){return St()},[])]},Ye=function(St){var Zt=St.children;return(0,J.jsx)("div",{className:"library-menu-items-container__grid",children:Zt})},tt=(0,f.memo)(function(St){var Zt=St.items,Tt=St.onItemSelectToggle,Lt=St.onItemDrag,Wt=St.isItemSelected,qt=St.onClick,sr=St.svgCache,cr=St.itemsRenderedPerBatch,Sr=rt(),Mr=(0,w.Z)(Sr,2)[1],zr=(0,f.useState)(0),pr=(0,w.Z)(zr,2),Ft=pr[0],or=pr[1];return(0,f.useEffect)(function(){Ft<Zt.length&&Mr(function(){or(Ft+cr)})},[Ft,Zt.length,Mr,cr]),(0,J.jsx)(J.Fragment,{children:Zt.map(function(rr,Or){var Kr;return Or<Ft?(0,J.jsx)(Be,{elements:rr==null?void 0:rr.elements,isPending:!(rr!=null&&rr.id||rr==null||!rr.elements),onClick:qt,svgCache:sr,id:rr==null?void 0:rr.id,selected:Wt(rr.id),onToggle:Tt,onDrag:Lt},(Kr=rr==null?void 0:rr.id)!==null&&Kr!==void 0?Kr:Or):(0,J.jsx)(Qe,{},Or)})})}),ht=r(200),gt=r.n(ht),Ue=(0,a.cn)(0),Ce=r(6440),Le={};Le.styleTagTransform=Me(),Le.setAttributes=pe(),Le.insert=de().bind(null,"head"),Le.domAPI=X(),Le.insertStyleElement=oe(),P()(Ce.Z,Le),Ce.Z&&Ce.Z.locals&&Ce.Z.locals;function et(St,Zt){var Tt=Object.keys(St);if(Object.getOwnPropertySymbols){var Lt=Object.getOwnPropertySymbols(St);Zt&&(Lt=Lt.filter(function(Wt){return Object.getOwnPropertyDescriptor(St,Wt).enumerable})),Tt.push.apply(Tt,Lt)}return Tt}function ft(St){for(var Zt=1;Zt<arguments.length;Zt++){var Tt=arguments[Zt]!=null?arguments[Zt]:{};Zt%2?et(Object(Tt),!0).forEach(function(Lt){(0,x.Z)(St,Lt,Tt[Lt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(St,Object.getOwnPropertyDescriptors(Tt)):et(Object(Tt)).forEach(function(Lt){Object.defineProperty(St,Lt,Object.getOwnPropertyDescriptor(Tt,Lt))})}return St}function xt(St){var Zt=St.isLoading,Tt=St.libraryItems,Lt=St.onAddToLibrary,Wt=St.onInsertLibraryItems,qt=St.pendingElements,sr=St.theme,cr=St.id,Sr=St.libraryReturnUrl,Mr=St.onSelectItems,zr=St.selectedItems,pr=(0,f.useRef)(null),Ft=function(Fr){var ln=(0,a.KO)(Ue),Gr=(0,w.Z)(ln,2),Rr=Gr[0],Wr=Gr[1];return(0,f.useEffect)(function(){var Ur=Fr.current;if(Ur){var rn=gt()(function(){var an=Ur.scrollTop;Wr(an)},200);return Ur.addEventListener("scroll",rn),function(){rn.cancel(),Ur.removeEventListener("scroll",rn)}}},[Fr,Wr]),Rr}(pr);(0,f.useEffect)(function(){var Fr;Ft>0&&((Fr=pr.current)===null||Fr===void 0||Fr.scrollTo(0,Ft))},[]);var or=(0,z.yT)().svgCache,rr=(0,f.useMemo)(function(){return Tt.filter(function(Fr){return Fr.status!=="published"})},[Tt]),Or=(0,f.useMemo)(function(){return Tt.filter(function(Fr){return Fr.status==="published"})},[Tt]),Kr=!Tt.length&&!qt.length,Xr=!qt.length&&!rr.length&&!Or.length,cn=(0,f.useState)(null),en=(0,w.Z)(cn,2),ur=en[0],Dt=en[1],Nt=(0,f.useCallback)(function(Fr,ln){var Gr=!zr.includes(Fr),Rr=[].concat((0,k.Z)(rr),(0,k.Z)(Or));if(Gr){if(ln.shiftKey&&ur){var Wr=Rr.findIndex(function(Qr){return Qr.id===ur}),Ur=Rr.findIndex(function(Qr){return Qr.id===Fr});if(Wr===-1||Ur===-1)return void Mr([].concat((0,k.Z)(zr),[Fr]));var rn=(0,q.xn)(zr),an=Rr.reduce(function(Qr,In,Xn){return(Xn>=Wr&&Xn<=Ur||rn.has(In.id))&&Qr.push(In.id),Qr},[]);Mr(an)}else Mr([].concat((0,k.Z)(zr),[Fr]));Dt(Fr)}else Dt(null),Mr(zr.filter(function(Qr){return Qr!==Fr}))},[ur,Mr,Or,zr,rr]),Ut=(0,f.useCallback)(function(Fr){return(zr.includes(Fr)?Tt.filter(function(ln){return zr.includes(ln.id)}):Tt.filter(function(ln){return ln.id===Fr})).map(function(ln){return ft(ft({},ln),{},{elements:(0,ge._N)(ln.elements,{randomizeSeed:!0})})})},[Tt,zr]),hr=(0,f.useCallback)(function(Fr,ln){ln.dataTransfer.setData(ke.LO.excalidrawlib,(0,S.NI)(Ut(Fr)))},[Ut]),jr=(0,f.useCallback)(function(Fr){return!!Fr&&zr.includes(Fr)},[zr]),Cr=(0,f.useCallback)(function(){Lt(qt)},[qt,Lt]),Zr=(0,f.useCallback)(function(Fr){Fr&&Wt(Ut(Fr))},[Ut,Wt]),Dr=or.size>=Tt.length?64:17;return(0,J.jsxs)("div",{className:"library-menu-items-container",style:qt.length||rr.length||Or.length?{justifyContent:"flex-start"}:{borderBottom:0},children:[!Xr&&(0,J.jsx)(ae,{selectedItems:zr,onSelectItems:Mr,className:"library-menu-dropdown-container--in-heading"}),(0,J.jsxs)(ve.Z.Col,{className:"library-menu-items-container__items",align:"start",gap:1,style:{flex:Or.length>0?1:"0 1 auto",marginBottom:0},ref:pr,children:[(0,J.jsxs)(J.Fragment,{children:[!Xr&&(0,J.jsx)("div",{className:"library-menu-items-container__header",children:(0,L.t)("labels.personalLib")}),Zt&&(0,J.jsx)("div",{style:{position:"absolute",top:"var(--container-padding-y)",right:"var(--container-padding-x)",transform:"translateY(50%)"},children:(0,J.jsx)(Se.Z,{})}),qt.length||rr.length?(0,J.jsxs)(Ye,{children:[qt.length>0&&(0,J.jsx)(tt,{itemsRenderedPerBatch:Dr,items:[{id:null,elements:qt}],onItemSelectToggle:Nt,onItemDrag:hr,onClick:Cr,isItemSelected:jr,svgCache:or}),(0,J.jsx)(tt,{itemsRenderedPerBatch:Dr,items:rr,onItemSelectToggle:Nt,onItemDrag:hr,onClick:Zr,isItemSelected:jr,svgCache:or})]}):(0,J.jsxs)("div",{className:"library-menu-items__no-items",children:[(0,J.jsx)("div",{className:"library-menu-items__no-items__label",children:(0,L.t)("library.noItems")}),(0,J.jsx)("div",{className:"library-menu-items__no-items__hint",children:Or.length>0?(0,L.t)("library.hint_emptyPrivateLibrary"):(0,L.t)("library.hint_emptyLibrary")})]})]}),(0,J.jsxs)(J.Fragment,{children:[(Or.length>0||qt.length>0||rr.length>0)&&(0,J.jsx)("div",{className:"library-menu-items-container__header library-menu-items-container__header--excal",children:(0,L.t)("labels.excalidrawLib")}),Or.length>0?(0,J.jsx)(Ye,{children:(0,J.jsx)(tt,{itemsRenderedPerBatch:Dr,items:Or,onItemSelectToggle:Nt,onItemDrag:hr,onClick:Zr,isItemSelected:jr,svgCache:or})}):rr.length>0?(0,J.jsx)("div",{style:{margin:"1rem 0",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",fontSize:".9rem"},children:(0,L.t)("library.noItems")}):null]}),Kr&&(0,J.jsx)(T,{style:{padding:"16px 0",width:"100%"},id:cr,libraryReturnUrl:Sr,theme:sr,children:(0,J.jsx)(ae,{selectedItems:zr,onSelectItems:Mr})})]})]})}var wt=r(3646),Rt=r(4105),It=r(8923),At={};At.styleTagTransform=Me(),At.setAttributes=pe(),At.insert=de().bind(null,"head"),At.domAPI=X(),At.insertStyleElement=oe(),P()(It.Z,At),It.Z&&It.Z.locals&&It.Z.locals;function Xt(St,Zt){var Tt=typeof Symbol<"u"&&St[Symbol.iterator]||St["@@iterator"];if(!Tt){if(Array.isArray(St)||(Tt=function(Sr,Mr){if(Sr){if(typeof Sr=="string")return tr(Sr,Mr);var zr=Object.prototype.toString.call(Sr).slice(8,-1);if(zr==="Object"&&Sr.constructor&&(zr=Sr.constructor.name),zr==="Map"||zr==="Set")return Array.from(Sr);if(zr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(zr))return tr(Sr,Mr)}}(St))||Zt){Tt&&(St=Tt);var Lt=0,Wt=function(){};return{s:Wt,n:function(){return Lt>=St.length?{done:!0}:{done:!1,value:St[Lt++]}},e:function(Sr){throw Sr},f:Wt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var qt,sr=!0,cr=!1;return{s:function(){Tt=Tt.call(St)},n:function(){var Sr=Tt.next();return sr=Sr.done,Sr},e:function(Sr){cr=!0,qt=Sr},f:function(){try{sr||Tt.return==null||Tt.return()}finally{if(cr)throw qt}}}}function tr(St,Zt){(Zt==null||Zt>St.length)&&(Zt=St.length);for(var Tt=0,Lt=new Array(Zt);Tt<Zt;Tt++)Lt[Tt]=St[Tt];return Lt}var Gt=(0,a.cn)(!1),Jt=function(St){var Zt=St.children;return(0,J.jsx)("div",{className:"layer-ui__library",children:Zt})},gr=function(St){var Zt=St.onInsertLibraryItems,Tt=St.pendingElements,Lt=St.onAddToLibrary,Wt=St.setAppState,qt=St.libraryReturnUrl,sr=St.library,cr=St.id,Sr=St.theme,Mr=St.selectedItems,zr=St.onSelectItems,pr=(0,a.KO)(j.rF,O.yE),Ft=(0,w.Z)(pr,1)[0],or=(0,f.useCallback)(function(Kr){var Xr=function(){var cn=(0,b.Z)(M().mark(function en(ur,Dt){var Nt,Ut,hr,jr,Cr;return M().wrap(function(Zr){for(;;)switch(Zr.prev=Zr.next){case 0:(0,wt.L)("element","addToLibrary","ui"),Nt=Xt(ke.PR),Zr.prev=2,hr=function(){var Dr=Ut.value;if(ur.some(function(Fr){return Fr.type===Dr}))return{v:Wt({errorMessage:(0,L.t)("errors.libraryElementTypeError.".concat(Dr))})}},Nt.s();case 5:if((Ut=Nt.n()).done){Zr.next=11;break}if(jr=hr(),(0,A.Z)(jr)!=="object"){Zr.next=9;break}return Zr.abrupt("return",jr.v);case 9:Zr.next=5;break;case 11:Zr.next=16;break;case 13:Zr.prev=13,Zr.t0=Zr.catch(2),Nt.e(Zr.t0);case 16:return Zr.prev=16,Nt.f(),Zr.finish(16);case 19:Cr=[{status:"unpublished",elements:ur,id:(0,H.kb)(),created:Date.now()}].concat((0,k.Z)(Dt)),Lt(),sr.setLibrary(Cr).catch(function(){Wt({errorMessage:(0,L.t)("alerts.errorAddingToLibrary")})});case 22:case"end":return Zr.stop()}},en,null,[[2,13,16,19]])}));return function(en,ur){return cn.apply(this,arguments)}}();Xr(Kr,Ft.libraryItems)},[Lt,sr,Wt,Ft.libraryItems]),rr=(0,f.useMemo)(function(){return Ft.libraryItems},[Ft]);if(Ft.status==="loading"&&!Ft.isInitialized)return(0,J.jsx)(Jt,{children:(0,J.jsx)("div",{className:"layer-ui__library-message",children:(0,J.jsxs)("div",{children:[(0,J.jsx)(Se.Z,{size:"2em"}),(0,J.jsx)("span",{children:(0,L.t)("labels.libraryLoadingMessage")})]})})});var Or=Ft.libraryItems.length>0||Tt.length>0;return(0,J.jsxs)(Jt,{children:[(0,J.jsx)(xt,{isLoading:Ft.status==="loading",libraryItems:rr,onAddToLibrary:or,onInsertLibraryItems:Zt,pendingElements:Tt,id:cr,libraryReturnUrl:qt,theme:Sr,onSelectItems:zr,selectedItems:Mr}),Or&&(0,J.jsx)(T,{className:"library-menu-control-buttons--at-bottom",style:{padding:"16px 12px 0 12px"},id:cr,libraryReturnUrl:qt,theme:Sr})]})},Pt=function(){var St=(0,R.qD)(),Zt=St.library,Tt=St.id,Lt=St.onInsertElements,Wt=(0,R.hY)(),qt=(0,g.I)(),sr=(0,R.n9)(),cr=(0,R.bd)(),Sr=(0,f.useState)([]),Mr=(0,w.Z)(Sr,2),zr=Mr[0],pr=Mr[1],Ft=(0,f.useMemo)(function(){return Zt},[Zt]),or=function(Kr,Xr){var cn=function(){return(0,Rt.eD)(Xr,Kr,{includeBoundTextElement:!0,includeElementsInFrames:!0})},en=(0,f.useRef)(cn()),ur=(0,f.useRef)(Kr),Dt=(0,f.useRef)(Xr);return(0,q.w8)(Kr.selectedElementIds,ur.current.selectedElementIds)&&(0,q.w8)(Xr,Dt.current)||(en.current=cn(),ur.current=Kr,Dt.current=Xr),en.current}(qt,cr),rr=(0,f.useCallback)(function(Kr){Lt((0,j.WV)(Kr))},[Lt]),Or=(0,f.useCallback)(function(){sr({selectedElementIds:{},selectedGroupIds:{},activeEmbeddable:null})},[sr]);return(0,J.jsx)(gr,{pendingElements:or,onInsertLibraryItems:rr,onAddToLibrary:Or,setAppState:sr,libraryReturnUrl:Wt.libraryReturnUrl,library:Ft,id:Tt,theme:qt.theme,selectedItems:zr,onSelectItems:pr})}},7165:function(ue,n,r){r.d(n,{z:function(){return d}});var A=r(2577),k=r(8227),b=r(9787),w=r(8531),N=r(45),M=r(9937),f=r(1020),d=function(j){var L=j.delay,H=j.theme,x=(0,b.useState)(!!L),S=(0,A.Z)(x,2),q=S[0],ve=S[1];return(0,b.useEffect)(function(){if(L){var ke=setTimeout(function(){ve(!1)},L);return function(){return clearTimeout(ke)}}},[L]),q?null:(0,f.jsxs)("div",{className:(0,N.Z)("LoadingMessage",{"LoadingMessage--dark":H===M.C6.DARK}),children:[(0,f.jsx)("div",{children:(0,f.jsx)(w.Z,{})}),(0,f.jsx)("div",{className:"LoadingMessage-text",children:(0,k.t)("labels.loadingScene")})]})}},7827:function(ue,n,r){r.d(n,{K:function(){return M},_:function(){return f}});var A=r(8950),k=r(2975),b=r.n(k),w=r(3607),N=r(453),M=(0,w.cn)({active:!1});function f(j){return d.apply(this,arguments)}function d(){return(d=(0,A.Z)(b().mark(function j(L){var H,x,S,q;return b().wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:return H=L.title,x=L.description,S=L.actionLabel,q=L.color,ve.abrupt("return",new Promise(function(ke){N.e_.set(M,{active:!0,onConfirm:function(){return ke(!0)},onClose:function(){return ke(!1)},onReject:function(){return ke(!1)},title:H,description:x,actionLabel:S,color:q})}));case 2:case"end":return ve.stop()}},j)}))).apply(this,arguments)}},3204:function(ue,n,r){r.d(n,{J:function(){return Q}});var A=r(9787),k=r(3379),b=r.n(k),w=r(7795),N=r.n(w),M=r(569),f=r.n(M),d=r(3565),j=r.n(d),L=r(9216),H=r.n(L),x=r(4589),S=r.n(x),q=r(9935),ve={};ve.styleTagTransform=S(),ve.setAttributes=j(),ve.insert=f().bind(null,"head"),ve.domAPI=N(),ve.insertStyleElement=H(),b()(q.Z,ve),q.Z&&q.Z.locals&&q.Z.locals;var ke=r(5156),Se=r(9827),ge=r(5491),J=r(1020),Q=function(K){var T=K.children,B=K.left,O=K.top,R=K.onCloseRequest,E=K.fitInViewport,v=E!==void 0&&E,i=K.offsetLeft,a=i===void 0?0:i,y=K.offsetTop,h=y===void 0?0:y,m=K.viewportWidth,C=m===void 0?window.innerWidth:m,U=K.viewportHeight,V=U===void 0?window.innerHeight:U,D=(0,A.useRef)(null);(0,A.useEffect)(function(){var F=D.current;if(F){F.contains(document.activeElement)||F.focus();var X=function(le){if(le.key===ge.tW.TAB){var de=(0,Se.xp)(F),fe=document.activeElement,pe=de.findIndex(function(Me){return Me===fe});if(fe===F){var ne;le.shiftKey?(ne=de[de.length-1])===null||ne===void 0||ne.focus():de[0].focus(),le.preventDefault(),le.stopImmediatePropagation()}else if(pe===0&&le.shiftKey){var oe;(oe=de[de.length-1])===null||oe===void 0||oe.focus(),le.preventDefault(),le.stopImmediatePropagation()}else if(pe===de.length-1&&!le.shiftKey){var be;(be=de[0])===null||be===void 0||be.focus(),le.preventDefault(),le.stopImmediatePropagation()}}};return F.addEventListener("keydown",X),function(){return F.removeEventListener("keydown",X)}}},[]);var P=(0,A.useRef)(null);return(0,A.useLayoutEffect)(function(){if(v&&D.current&&O!=null&&B!=null){var F,X,le=D.current,de=le.getBoundingClientRect(),fe=de.width,pe=de.height;if(((F=P.current)===null||F===void 0?void 0:F.top)===O&&((X=P.current)===null||X===void 0?void 0:X.left)===B)return;P.current={top:O,left:B},fe>=C?(le.style.width="".concat(C,"px"),le.style.left="0px",le.style.overflowX="scroll"):le.style.left="".concat(B+fe-a>C?C-fe-10:B,"px"),pe>=V?(le.style.height="".concat(V-20,"px"),le.style.top="10px",le.style.overflowY="scroll"):le.style.top="".concat(O+pe-h>V?V-pe:O,"px")}},[O,B,v,C,V,a,h]),(0,A.useEffect)(function(){if(R){var F=function(X){var le;(le=D.current)!==null&&le!==void 0&&le.contains(X.target)||(0,ke.unstable_batchedUpdates)(function(){return R(X)})};return document.addEventListener("pointerdown",F,!1),function(){return document.removeEventListener("pointerdown",F,!1)}}},[R]),(0,J.jsx)("div",{className:"popover",ref:D,tabIndex:-1,children:T})}},5902:function(ue,n,r){r.d(n,{YE:function(){return ur},t6:function(){return cn}});var A=r(2577),k=r(7169),b=r(2726),w=r(9787),N=r.n(w),M=r(1404),f=r(3607),d=r(453),j=N().createContext({}),L=r(45),H=r(8227),x=r(8242),S=r(8935),q=r(8925),ve=r(8806),ke=r(1020),Se=function(Dt){var Nt=Dt.children,Ut=Dt.className,hr=(0,x.Fy)(),jr=(0,w.useContext)(j),Cr=!(!hr.editor.canFitSidebar||!jr.shouldRenderDockButton);return(0,ke.jsxs)("div",{className:(0,L.Z)("sidebar__header",Ut),"data-testid":"sidebar-header",children:[Nt,(0,ke.jsxs)("div",{className:"sidebar__header__buttons",children:[Cr&&(0,ke.jsx)(q.u,{label:(0,H.t)("labels.sidebarLock"),children:(0,ke.jsx)(ve.z,{onSelect:function(){var Zr;return(Zr=jr.onDock)===null||Zr===void 0?void 0:Zr.call(jr,!jr.docked)},selected:!!jr.docked,className:"sidebar__dock","data-testid":"sidebar-dock","aria-label":(0,H.t)("labels.sidebarLock"),children:S.qQ})}),(0,ke.jsx)(ve.z,{"data-testid":"sidebar-close",className:"sidebar__close",onSelect:jr.onCloseRequest,"aria-label":(0,H.t)("buttons.close"),children:S.Tw})]})]})};Se.displayName="SidebarHeader";var ge=r(9827),J=r(5491),Q=r(9937),K=r(100),T=r(3379),B=r.n(T),O=r(7795),R=r.n(O),E=r(569),v=r.n(E),i=r(3565),a=r.n(i),y=r(9216),h=r.n(y),m=r(4589),C=r.n(m),U=r(7051),V={};V.styleTagTransform=C(),V.setAttributes=a(),V.insert=v().bind(null,"head"),V.domAPI=R(),V.insertStyleElement=h(),B()(U.Z,V),U.Z&&U.Z.locals&&U.Z.locals;var D=function(Dt){var Nt,Ut=Dt.name,hr=Dt.tab,jr=Dt.icon,Cr=Dt.title,Zr=Dt.children,Dr=Dt.onToggle,Fr=Dt.className,ln=Dt.style,Gr=(0,x.n9)(),Rr=(0,K.I)();return(0,ke.jsxs)("label",{title:Cr,children:[(0,ke.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",onChange:function(Wr){var Ur;(Ur=document.querySelector(".layer-ui__wrapper"))===null||Ur===void 0||Ur.classList.remove("animate");var rn=Wr.target.checked;Gr({openSidebar:rn?{name:Ut,tab:hr}:null}),Dr==null||Dr(rn)},checked:((Nt=Rr.openSidebar)===null||Nt===void 0?void 0:Nt.name)===Ut,"aria-label":Cr,"aria-keyshortcuts":"0"}),(0,ke.jsxs)("div",{className:(0,L.Z)("sidebar-trigger",Fr),style:ln,children:[jr&&(0,ke.jsx)("div",{children:jr}),Zr&&(0,ke.jsx)("div",{className:"sidebar-trigger__label",children:Zr})]})]})};D.displayName="SidebarTrigger";var P=r(11),F=r(7217),X=r(1267),le=r(9335),de=r(4801),fe=r(5622),pe=r(3119),ne=r(3060),oe=r(2673);const be=(0,w.createContext)(void 0);function Me(Dt){const Nt=(0,w.useContext)(be);return Dt||Nt||"ltr"}const Ge="rovingFocusGroup.onEntryFocus",qe={bubbles:!1,cancelable:!0},Ne="RovingFocusGroup",[Pe,Re,Ze]=function(Dt){const Nt=Dt+"CollectionProvider",[Ut,hr]=(0,X.b)(Nt),[jr,Cr]=Ut(Nt,{collectionRef:{current:null},itemMap:new Map}),Zr=Wr=>{const{scope:Ur,children:rn}=Wr,an=N().useRef(null),Qr=N().useRef(new Map).current;return N().createElement(jr,{scope:Ur,itemMap:Qr,collectionRef:an},rn)},Dr=Dt+"CollectionSlot",Fr=N().forwardRef((Wr,Ur)=>{const{scope:rn,children:an}=Wr,Qr=Cr(Dr,rn),In=(0,le.e)(Ur,Qr.collectionRef);return N().createElement(de.g7,{ref:In},an)}),ln=Dt+"CollectionItemSlot",Gr="data-radix-collection-item",Rr=N().forwardRef((Wr,Ur)=>{const{scope:rn,children:an,...Qr}=Wr,In=N().useRef(null),Xn=(0,le.e)(Ur,In),go=Cr(ln,rn);return N().useEffect(()=>(go.itemMap.set(In,{ref:In,...Qr}),()=>{go.itemMap.delete(In)})),N().createElement(de.g7,{[Gr]:"",ref:Xn},an)});return[{Provider:Zr,Slot:Fr,ItemSlot:Rr},function(Wr){const Ur=Cr(Dt+"CollectionConsumer",Wr);return N().useCallback(()=>{const rn=Ur.collectionRef.current;if(!rn)return[];const an=Array.from(rn.querySelectorAll(`[${Gr}]`));return Array.from(Ur.itemMap.values()).sort((Qr,In)=>an.indexOf(Qr.ref.current)-an.indexOf(In.ref.current))},[Ur.collectionRef,Ur.itemMap])},hr]}(Ne),[Ie,Ee]=(0,X.b)(Ne,[Ze]),[xe,Z]=Ie(Ne),u=(0,w.forwardRef)((Dt,Nt)=>(0,w.createElement)(Pe.Provider,{scope:Dt.__scopeRovingFocusGroup},(0,w.createElement)(Pe.Slot,{scope:Dt.__scopeRovingFocusGroup},(0,w.createElement)(g,(0,P.Z)({},Dt,{ref:Nt}))))),g=(0,w.forwardRef)((Dt,Nt)=>{const{__scopeRovingFocusGroup:Ut,orientation:hr,loop:jr=!1,dir:Cr,currentTabStopId:Zr,defaultCurrentTabStopId:Dr,onCurrentTabStopIdChange:Fr,onEntryFocus:ln,...Gr}=Dt,Rr=(0,w.useRef)(null),Wr=(0,le.e)(Nt,Rr),Ur=Me(Cr),[rn=null,an]=(0,oe.T)({prop:Zr,defaultProp:Dr,onChange:Fr}),[Qr,In]=(0,w.useState)(!1),Xn=(0,ne.W)(ln),go=Re(Ut),bo=(0,w.useRef)(!1),[_o,wo]=(0,w.useState)(0);return(0,w.useEffect)(()=>{const ao=Rr.current;if(ao)return ao.addEventListener(Ge,Xn),()=>ao.removeEventListener(Ge,Xn)},[Xn]),(0,w.createElement)(xe,{scope:Ut,orientation:hr,dir:Ur,loop:jr,currentTabStopId:rn,onItemFocus:(0,w.useCallback)(ao=>an(ao),[an]),onItemShiftTab:(0,w.useCallback)(()=>In(!0),[]),onFocusableItemAdd:(0,w.useCallback)(()=>wo(ao=>ao+1),[]),onFocusableItemRemove:(0,w.useCallback)(()=>wo(ao=>ao-1),[])},(0,w.createElement)(pe.WV.div,(0,P.Z)({tabIndex:Qr||_o===0?-1:0,"data-orientation":hr},Gr,{ref:Wr,style:{outline:"none",...Dt.style},onMouseDown:(0,F.M)(Dt.onMouseDown,()=>{bo.current=!0}),onFocus:(0,F.M)(Dt.onFocus,ao=>{const co=!bo.current;if(ao.target===ao.currentTarget&&co&&!Qr){const it=new CustomEvent(Ge,qe);if(ao.currentTarget.dispatchEvent(it),!it.defaultPrevented){const Oe=go().filter(ze=>ze.focusable);ae([Oe.find(ze=>ze.active),Oe.find(ze=>ze.id===rn),...Oe].filter(Boolean).map(ze=>ze.ref.current))}}bo.current=!1}),onBlur:(0,F.M)(Dt.onBlur,()=>In(!1))})))}),z="RovingFocusGroupItem",Y=(0,w.forwardRef)((Dt,Nt)=>{const{__scopeRovingFocusGroup:Ut,focusable:hr=!0,active:jr=!1,tabStopId:Cr,...Zr}=Dt,Dr=(0,fe.M)(),Fr=Cr||Dr,ln=Z(z,Ut),Gr=ln.currentTabStopId===Fr,Rr=Re(Ut),{onFocusableItemAdd:Wr,onFocusableItemRemove:Ur}=ln;return(0,w.useEffect)(()=>{if(hr)return Wr(),()=>Ur()},[hr,Wr,Ur]),(0,w.createElement)(Pe.ItemSlot,{scope:Ut,id:Fr,focusable:hr,active:jr},(0,w.createElement)(pe.WV.span,(0,P.Z)({tabIndex:Gr?0:-1,"data-orientation":ln.orientation},Zr,{ref:Nt,onMouseDown:(0,F.M)(Dt.onMouseDown,rn=>{hr?ln.onItemFocus(Fr):rn.preventDefault()}),onFocus:(0,F.M)(Dt.onFocus,()=>ln.onItemFocus(Fr)),onKeyDown:(0,F.M)(Dt.onKeyDown,rn=>{if(rn.key==="Tab"&&rn.shiftKey)return void ln.onItemShiftTab();if(rn.target!==rn.currentTarget)return;const an=function(Xn,go,bo){const _o=function(wo,ao){return ao!=="rtl"?wo:wo==="ArrowLeft"?"ArrowRight":wo==="ArrowRight"?"ArrowLeft":wo}(Xn.key,bo);return go==="vertical"&&["ArrowLeft","ArrowRight"].includes(_o)||go==="horizontal"&&["ArrowUp","ArrowDown"].includes(_o)?void 0:te[_o]}(rn,ln.orientation,ln.dir);if(an!==void 0){rn.preventDefault();let Xn=Rr().filter(go=>go.focusable).map(go=>go.ref.current);if(an==="last")Xn.reverse();else if(an==="prev"||an==="next"){an==="prev"&&Xn.reverse();const go=Xn.indexOf(rn.currentTarget);Xn=ln.loop?(In=go+1,(Qr=Xn).map((bo,_o)=>Qr[(In+_o)%Qr.length])):Xn.slice(go+1)}setTimeout(()=>ae(Xn))}var Qr,In})})))}),te={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ae(Dt){const Nt=document.activeElement;for(const Ut of Dt)if(Ut===Nt||(Ut.focus(),document.activeElement!==Nt))return}const ce=u,ye=Y;var je=r(1483);const Be="Tabs",[Qe,rt]=(0,X.b)(Be,[Ee]),Ye=Ee(),[tt,ht]=Qe(Be),gt=(0,w.forwardRef)((Dt,Nt)=>{const{__scopeTabs:Ut,value:hr,onValueChange:jr,defaultValue:Cr,orientation:Zr="horizontal",dir:Dr,activationMode:Fr="automatic",...ln}=Dt,Gr=Me(Dr),[Rr,Wr]=(0,oe.T)({prop:hr,onChange:jr,defaultProp:Cr});return(0,w.createElement)(tt,{scope:Ut,baseId:(0,fe.M)(),value:Rr,onValueChange:Wr,orientation:Zr,dir:Gr,activationMode:Fr},(0,w.createElement)(pe.WV.div,(0,P.Z)({dir:Gr,"data-orientation":Zr},ln,{ref:Nt})))}),Ue="TabsList",Ce=(0,w.forwardRef)((Dt,Nt)=>{const{__scopeTabs:Ut,loop:hr=!0,...jr}=Dt,Cr=ht(Ue,Ut),Zr=Ye(Ut);return(0,w.createElement)(ce,(0,P.Z)({asChild:!0},Zr,{orientation:Cr.orientation,dir:Cr.dir,loop:hr}),(0,w.createElement)(pe.WV.div,(0,P.Z)({role:"tablist","aria-orientation":Cr.orientation},jr,{ref:Nt})))}),Le="TabsTrigger",et=(0,w.forwardRef)((Dt,Nt)=>{const{__scopeTabs:Ut,value:hr,disabled:jr=!1,...Cr}=Dt,Zr=ht(Le,Ut),Dr=Ye(Ut),Fr=wt(Zr.baseId,hr),ln=Rt(Zr.baseId,hr),Gr=hr===Zr.value;return(0,w.createElement)(ye,(0,P.Z)({asChild:!0},Dr,{focusable:!jr,active:Gr}),(0,w.createElement)(pe.WV.button,(0,P.Z)({type:"button",role:"tab","aria-selected":Gr,"aria-controls":ln,"data-state":Gr?"active":"inactive","data-disabled":jr?"":void 0,disabled:jr,id:Fr},Cr,{ref:Nt,onMouseDown:(0,F.M)(Dt.onMouseDown,Rr=>{jr||Rr.button!==0||Rr.ctrlKey!==!1?Rr.preventDefault():Zr.onValueChange(hr)}),onKeyDown:(0,F.M)(Dt.onKeyDown,Rr=>{[" ","Enter"].includes(Rr.key)&&Zr.onValueChange(hr)}),onFocus:(0,F.M)(Dt.onFocus,()=>{const Rr=Zr.activationMode!=="manual";Gr||jr||!Rr||Zr.onValueChange(hr)})})))}),ft="TabsContent",xt=(0,w.forwardRef)((Dt,Nt)=>{const{__scopeTabs:Ut,value:hr,forceMount:jr,children:Cr,...Zr}=Dt,Dr=ht(ft,Ut),Fr=wt(Dr.baseId,hr),ln=Rt(Dr.baseId,hr),Gr=hr===Dr.value,Rr=(0,w.useRef)(Gr);return(0,w.useEffect)(()=>{const Wr=requestAnimationFrame(()=>Rr.current=!1);return()=>cancelAnimationFrame(Wr)},[]),(0,w.createElement)(je.z,{present:jr||Gr},({present:Wr})=>(0,w.createElement)(pe.WV.div,(0,P.Z)({"data-state":Gr?"active":"inactive","data-orientation":Dr.orientation,role:"tabpanel","aria-labelledby":Fr,hidden:!Wr,id:ln,tabIndex:0},Zr,{ref:Nt,style:{...Dt.style,animationDuration:Rr.current?"0s":void 0}}),Wr&&Cr))});function wt(Dt,Nt){return`${Dt}-trigger-${Nt}`}function Rt(Dt,Nt){return`${Dt}-content-${Nt}`}const It=gt,At=Ce,Xt=et,tr=xt;var Gt=["children"];function Jt(Dt,Nt){var Ut=Object.keys(Dt);if(Object.getOwnPropertySymbols){var hr=Object.getOwnPropertySymbols(Dt);Nt&&(hr=hr.filter(function(jr){return Object.getOwnPropertyDescriptor(Dt,jr).enumerable})),Ut.push.apply(Ut,hr)}return Ut}function gr(Dt){for(var Nt=1;Nt<arguments.length;Nt++){var Ut=arguments[Nt]!=null?arguments[Nt]:{};Nt%2?Jt(Object(Ut),!0).forEach(function(hr){(0,k.Z)(Dt,hr,Ut[hr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Dt,Object.getOwnPropertyDescriptors(Ut)):Jt(Object(Ut)).forEach(function(hr){Object.defineProperty(Dt,hr,Object.getOwnPropertyDescriptor(Ut,hr))})}return Dt}var Pt=function(Dt){var Nt=Dt.children,Ut=(0,b.Z)(Dt,Gt);return(0,ke.jsx)(At,gr(gr({className:"sidebar-triggers"},Ut),{},{children:Nt}))};Pt.displayName="SidebarTabTriggers";var St=["children","tab","onSelect"];function Zt(Dt,Nt){var Ut=Object.keys(Dt);if(Object.getOwnPropertySymbols){var hr=Object.getOwnPropertySymbols(Dt);Nt&&(hr=hr.filter(function(jr){return Object.getOwnPropertyDescriptor(Dt,jr).enumerable})),Ut.push.apply(Ut,hr)}return Ut}function Tt(Dt){for(var Nt=1;Nt<arguments.length;Nt++){var Ut=arguments[Nt]!=null?arguments[Nt]:{};Nt%2?Zt(Object(Ut),!0).forEach(function(hr){(0,k.Z)(Dt,hr,Ut[hr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Dt,Object.getOwnPropertyDescriptors(Ut)):Zt(Object(Ut)).forEach(function(hr){Object.defineProperty(Dt,hr,Object.getOwnPropertyDescriptor(Ut,hr))})}return Dt}var Lt=function(Dt){var Nt=Dt.children,Ut=Dt.tab,hr=Dt.onSelect,jr=(0,b.Z)(Dt,St);return(0,ke.jsx)(Xt,{value:Ut,asChild:!0,onSelect:hr,children:(0,ke.jsx)("button",Tt(Tt({type:"button",className:"excalidraw-button sidebar-tab-trigger"},jr),{},{children:Nt}))})};Lt.displayName="SidebarTabTrigger";var Wt=["children"];function qt(Dt,Nt){var Ut=Object.keys(Dt);if(Object.getOwnPropertySymbols){var hr=Object.getOwnPropertySymbols(Dt);Nt&&(hr=hr.filter(function(jr){return Object.getOwnPropertyDescriptor(Dt,jr).enumerable})),Ut.push.apply(Ut,hr)}return Ut}function sr(Dt){for(var Nt=1;Nt<arguments.length;Nt++){var Ut=arguments[Nt]!=null?arguments[Nt]:{};Nt%2?qt(Object(Ut),!0).forEach(function(hr){(0,k.Z)(Dt,hr,Ut[hr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Dt,Object.getOwnPropertyDescriptors(Ut)):qt(Object(Ut)).forEach(function(hr){Object.defineProperty(Dt,hr,Object.getOwnPropertyDescriptor(Ut,hr))})}return Dt}var cr=function(Dt){var Nt=Dt.children,Ut=(0,b.Z)(Dt,Wt),hr=(0,K.I)(),jr=(0,x.n9)();if(!hr.openSidebar)return null;var Cr=hr.openSidebar.name;return(0,ke.jsx)(It,sr(sr({className:"sidebar-tabs-root",value:hr.openSidebar.tab,onValueChange:function(Zr){return jr(function(Dr){return sr(sr({},Dr),{},{openSidebar:sr(sr({},Dr.openSidebar),{},{name:Cr,tab:Zr})})})}},Ut),{},{children:Nt}))};cr.displayName="SidebarTabs";var Sr=["tab","children"];function Mr(Dt,Nt){var Ut=Object.keys(Dt);if(Object.getOwnPropertySymbols){var hr=Object.getOwnPropertySymbols(Dt);Nt&&(hr=hr.filter(function(jr){return Object.getOwnPropertyDescriptor(Dt,jr).enumerable})),Ut.push.apply(Ut,hr)}return Ut}function zr(Dt){for(var Nt=1;Nt<arguments.length;Nt++){var Ut=arguments[Nt]!=null?arguments[Nt]:{};Nt%2?Mr(Object(Ut),!0).forEach(function(hr){(0,k.Z)(Dt,hr,Ut[hr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Dt,Object.getOwnPropertyDescriptors(Ut)):Mr(Object(Ut)).forEach(function(hr){Object.defineProperty(Dt,hr,Object.getOwnPropertyDescriptor(Ut,hr))})}return Dt}var pr=function(Dt){var Nt=Dt.tab,Ut=Dt.children,hr=(0,b.Z)(Dt,Sr);return(0,ke.jsx)(tr,zr(zr({},hr),{},{value:Nt,children:Ut}))};pr.displayName="SidebarTab";var Ft=r(1901),or=r(8208),rr={};rr.styleTagTransform=C(),rr.setAttributes=a(),rr.insert=v().bind(null,"head"),rr.domAPI=R(),rr.insertStyleElement=h(),B()(or.Z,rr),or.Z&&or.Z.locals&&or.Z.locals;var Or=["name","children","onDock","docked","className"];function Kr(Dt,Nt){var Ut=Object.keys(Dt);if(Object.getOwnPropertySymbols){var hr=Object.getOwnPropertySymbols(Dt);Nt&&(hr=hr.filter(function(jr){return Object.getOwnPropertyDescriptor(Dt,jr).enumerable})),Ut.push.apply(Ut,hr)}return Ut}function Xr(Dt){for(var Nt=1;Nt<arguments.length;Nt++){var Ut=arguments[Nt]!=null?arguments[Nt]:{};Nt%2?Kr(Object(Ut),!0).forEach(function(hr){(0,k.Z)(Dt,hr,Ut[hr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Dt,Object.getOwnPropertyDescriptors(Ut)):Kr(Object(Ut)).forEach(function(hr){Object.defineProperty(Dt,hr,Object.getOwnPropertyDescriptor(Ut,hr))})}return Dt}var cn=(0,f.cn)(!1),en=(0,w.forwardRef)(function(Dt,Nt){Dt.name;var Ut=Dt.children,hr=Dt.onDock,jr=Dt.docked,Cr=Dt.className,Zr=(0,b.Z)(Dt,Or),Dr=(0,x.n9)(),Fr=(0,f.b9)(cn,d.yE);(0,w.useLayoutEffect)(function(){return Fr(!!jr),function(){Fr(!1)}},[Fr,jr]);var ln=(0,w.useRef)({});ln.current.onCloseRequest=function(){Dr({openSidebar:null})},ln.current.onDock=function(Ur){return hr==null?void 0:hr(Ur)},ln.current=(0,ge.v4)(ln.current,{docked:jr,shouldRenderDockButton:!!hr&&jr!=null});var Gr=(0,w.useRef)(null);(0,w.useImperativeHandle)(Nt,function(){return Gr.current});var Rr=(0,x.Fy)(),Wr=(0,w.useCallback)(function(){document.querySelector(".Dialog")||Dr({openSidebar:null})},[Dr]);return(0,Ft.O)(Gr,(0,w.useCallback)(function(Ur){Ur.target.closest(".sidebar-trigger")||jr&&Rr.editor.canFitSidebar||Wr()},[Wr,jr,Rr.editor.canFitSidebar])),(0,w.useEffect)(function(){var Ur=function(rn){rn.key!==J.tW.ESCAPE||jr&&Rr.editor.canFitSidebar||Wr()};return document.addEventListener(Q.Ks.KEYDOWN,Ur),function(){document.removeEventListener(Q.Ks.KEYDOWN,Ur)}},[Wr,jr,Rr.editor.canFitSidebar]),(0,ke.jsx)(M.W,Xr(Xr({},Zr),{},{className:(0,L.Z)("sidebar",{"sidebar--docked":jr},Cr),ref:Gr,children:(0,ke.jsx)(j.Provider,{value:ln.current,children:Ut})}))});en.displayName="SidebarInner";var ur=Object.assign((0,w.forwardRef)(function(Dt,Nt){var Ut,hr=(0,K.I)(),jr=Dt.onStateChange,Cr=(0,w.useRef)(hr.openSidebar);(0,w.useEffect)(function(){var Gr,Rr,Wr,Ur,rn;(!hr.openSidebar&&(Cr==null||(Gr=Cr.current)===null||Gr===void 0?void 0:Gr.name)===Dt.name||((Rr=hr.openSidebar)===null||Rr===void 0?void 0:Rr.name)===Dt.name&&(Cr==null||(Wr=Cr.current)===null||Wr===void 0?void 0:Wr.name)!==Dt.name||((Ur=Cr.current)===null||Ur===void 0?void 0:Ur.name)===Dt.name)&&hr.openSidebar!==Cr.current&&(jr==null||jr(((rn=hr.openSidebar)===null||rn===void 0?void 0:rn.name)!==Dt.name?null:hr.openSidebar)),Cr.current=hr.openSidebar},[hr.openSidebar,jr,Dt.name]);var Zr=(0,w.useState)(!1),Dr=(0,A.Z)(Zr,2),Fr=Dr[0],ln=Dr[1];return(0,w.useLayoutEffect)(function(){return ln(!0),function(){return ln(!1)}},[]),Fr&&((Ut=hr.openSidebar)===null||Ut===void 0?void 0:Ut.name)===Dt.name?(0,w.createElement)(en,Xr(Xr({},Dt),{},{ref:Nt,key:Dt.name})):null}),{Header:Se,TabTriggers:Pt,TabTrigger:Lt,Tabs:cr,Tab:pr,Trigger:D});ur.displayName="Sidebar"},8531:function(ue,n,r){r.d(n,{Z:function(){return J}});var A=r(7169),k=r(9787),b=r.n(k),w=r(3379),N=r.n(w),M=r(7795),f=r.n(M),d=r(569),j=r.n(d),L=r(3565),H=r.n(L),x=r(9216),S=r.n(x),q=r(4589),ve=r.n(q),ke=r(5892),Se={};Se.styleTagTransform=ve(),Se.setAttributes=H(),Se.insert=j().bind(null,"head"),Se.domAPI=f(),Se.insertStyleElement=S(),N()(ke.Z,Se),ke.Z&&ke.Z.locals&&ke.Z.locals;var ge=r(1020),J=function(Q){var K=Q.size,T=K===void 0?"1em":K,B=Q.circleWidth,O=B===void 0?8:B,R=Q.synchronized,E=R!==void 0&&R,v=-b().useRef(Date.now()).current%1600;return(0,ge.jsx)("div",{className:"Spinner",children:(0,ge.jsx)("svg",{viewBox:"0 0 100 100",style:(0,A.Z)({width:T,height:T},"--spinner-delay",E?"".concat(v,"ms"):0),children:(0,ge.jsx)("circle",{cx:"50",cy:"50",r:50-O/2,strokeWidth:O,fill:"none",strokeMiterlimit:"10"})})})}},2540:function(ue,n,r){r.d(n,{Z:function(){return K}});var A=r(7169),k=r(3379),b=r.n(k),w=r(7795),N=r.n(w),M=r(569),f=r.n(M),d=r(3565),j=r.n(d),L=r(9216),H=r.n(L),x=r(4589),S=r.n(x),q=r(3874),ve={};ve.styleTagTransform=S(),ve.setAttributes=j(),ve.insert=f().bind(null,"head"),ve.domAPI=N(),ve.insertStyleElement=H(),b()(q.Z,ve),q.Z&&q.Z.locals&&q.Z.locals;var ke=r(9787),Se=r(45),ge=r(1020);function J(T,B){var O=Object.keys(T);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(T);B&&(R=R.filter(function(E){return Object.getOwnPropertyDescriptor(T,E).enumerable})),O.push.apply(O,R)}return O}function Q(T){for(var B=1;B<arguments.length;B++){var O=arguments[B]!=null?arguments[B]:{};B%2?J(Object(O),!0).forEach(function(R){(0,A.Z)(T,R,O[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(O)):J(Object(O)).forEach(function(R){Object.defineProperty(T,R,Object.getOwnPropertyDescriptor(O,R))})}return T}var K={Row:(0,ke.forwardRef)(function(T,B){var O=T.children,R=T.gap,E=T.align,v=T.justifyContent,i=T.className,a=T.style;return(0,ge.jsx)("div",{className:(0,Se.Z)("Stack Stack_horizontal",i),style:Q({"--gap":R,alignItems:E,justifyContent:v},a),ref:B,children:O})}),Col:(0,ke.forwardRef)(function(T,B){var O=T.children,R=T.gap,E=T.align,v=T.justifyContent,i=T.className,a=T.style;return(0,ge.jsx)("div",{className:(0,Se.Z)("Stack Stack_vertical",i),style:Q({"--gap":R,justifyItems:E,justifyContent:v},a),ref:B,children:O})})}},1512:function(ue,n,r){r.d(n,{V:function(){return x}});var A=r(8950),k=r(2577),b=r(2975),w=r.n(b),N=(r(3041),r(9787)),M=r.n(N),f=r(45),d=r(8242),j=r(3506),L=r(8531),H=r(1020),x=M().forwardRef(function(S,q){var ve=(0,d.J0)().id,ke=M().useRef(null);M().useImperativeHandle(q,function(){return ke.current});var Se="ToolIcon_size_".concat(S.size),ge=(0,N.useState)(!1),J=(0,k.Z)(ge,2),Q=J[0],K=J[1],T=(0,N.useRef)(!0),B=function(){var E=(0,A.Z)(w().mark(function v(i){var a,y;return w().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(!(y="onClick"in S&&((a=S.onClick)===null||a===void 0?void 0:a.call(S,i)))||!("then"in y)){h.next=18;break}return h.prev=2,K(!0),h.next=6,y;case 6:h.next=15;break;case 8:if(h.prev=8,h.t0=h.catch(2),h.t0 instanceof j._L){h.next=14;break}throw h.t0;case 14:console.warn(h.t0);case 15:return h.prev=15,T.current&&K(!1),h.finish(15);case 18:case"end":return h.stop()}},v,null,[[2,8,15,18]])}));return function(v){return E.apply(this,arguments)}}();(0,N.useEffect)(function(){return T.current=!0,function(){T.current=!1}},[]);var O=(0,N.useRef)(null);if(S.type==="button"||S.type==="icon"||S.type==="submit"){var R=S.type==="icon"?"button":S.type;return(0,H.jsxs)("button",{className:(0,f.Z)("ToolIcon_type_button",Se,S.className,S.visible&&!S.hidden?"ToolIcon_type_button--show":"ToolIcon_type_button--hide",{ToolIcon:!S.hidden,"ToolIcon--selected":S.selected,"ToolIcon--plain":S.type==="icon"}),style:S.style,"data-testid":S["data-testid"],hidden:S.hidden,title:S.title,"aria-label":S["aria-label"],type:R,onClick:B,ref:ke,disabled:Q||S.isLoading,children:[(S.icon||S.label)&&(0,H.jsxs)("div",{className:"ToolIcon__icon","aria-hidden":"true",children:[S.icon||S.label,S.keyBindingLabel&&(0,H.jsx)("span",{className:"ToolIcon__keybinding",children:S.keyBindingLabel}),S.isLoading&&(0,H.jsx)(L.Z,{})]}),S.showAriaLabel&&(0,H.jsxs)("div",{className:"ToolIcon__label",children:[S["aria-label"]," ",Q&&(0,H.jsx)(L.Z,{})]}),S.children]})}return(0,H.jsxs)("label",{className:(0,f.Z)("ToolIcon",S.className),title:S.title,onPointerDown:function(E){var v;O.current=E.pointerType||null,(v=S.onPointerDown)===null||v===void 0||v.call(S,{pointerType:E.pointerType||null})},onPointerUp:function(){requestAnimationFrame(function(){O.current=null})},children:[(0,H.jsx)("input",{className:"ToolIcon_type_radio ".concat(Se),type:"radio",name:S.name,"aria-label":S["aria-label"],"aria-keyshortcuts":S["aria-keyshortcuts"],"data-testid":S["data-testid"],id:"".concat(ve,"-").concat(S.id),onChange:function(){var E;(E=S.onChange)===null||E===void 0||E.call(S,{pointerType:O.current})},checked:S.checked,ref:ke}),(0,H.jsxs)("div",{className:"ToolIcon__icon",children:[S.icon,S.keyBindingLabel&&(0,H.jsx)("span",{className:"ToolIcon__keybinding",children:S.keyBindingLabel})]})]})});x.defaultProps={visible:!0,className:"",size:"medium"},x.displayName="ToolButton"},8925:function(ue,n,r){r.d(n,{u:function(){return J},bK:function(){return Se},Js:function(){return ge}});var A=r(3379),k=r.n(A),b=r(7795),w=r.n(b),N=r(569),M=r.n(N),f=r(3565),d=r.n(f),j=r(9216),L=r.n(j),H=r(4589),x=r.n(H),S=r(6626),q={};q.styleTagTransform=x(),q.setAttributes=d(),q.insert=M().bind(null,"head"),q.domAPI=w(),q.insertStyleElement=L(),k()(S.Z,q),S.Z&&S.Z.locals&&S.Z.locals;var ve=r(9787),ke=r(1020),Se=function(){var Q=document.querySelector(".excalidraw-tooltip");if(Q)return Q;var K=document.createElement("div");return document.body.appendChild(K),K.classList.add("excalidraw-tooltip"),K},ge=function(Q,K){var T,B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"bottom",O=Q.getBoundingClientRect(),R=window.innerWidth,E=window.innerHeight,v=5,i=K.left+K.width/2-O.width/2;i<0?i=v:i+O.width>=R&&(i=R-O.width-v),B==="bottom"?(T=K.top+K.height+v)+O.height>=E&&(T=K.top-O.height-v):(T=K.top-O.height-v)<0&&(T=K.top+K.height+v),Object.assign(Q.style,{top:"".concat(T,"px"),left:"".concat(i,"px")})},J=function(Q){var K=Q.children,T=Q.label,B=Q.long,O=B!==void 0&&B,R=Q.style;return(0,ve.useEffect)(function(){return function(){return Se().classList.remove("excalidraw-tooltip--visible")}},[]),(0,ke.jsx)("div",{className:"excalidraw-tooltip-wrapper",onPointerEnter:function(E){return function(v,i,a,y){i.classList.add("excalidraw-tooltip--visible"),i.style.minWidth=y?"50ch":"10ch",i.style.maxWidth=y?"50ch":"15ch",i.textContent=a;var h=v.getBoundingClientRect();ge(i,h)}(E.currentTarget,Se(),T,O)},onPointerLeave:function(){return Se().classList.remove("excalidraw-tooltip--visible")},style:R,children:K})}},9247:function(ue,n,r){var A=r(2726),k=r(1930),b=r(9787),w=r.n(b),N=r(8227),M=["i18nKey","children"],f=/({{[\w-]+}})|(<[\w-]+>)|(<\/[\w-]+>)/g,d=/{{([\w-]+)}}/,j=/<([\w-]+)>/,L=/<\/([\w-]+)>/;n.Z=function(H){var x=H.i18nKey,S=(H.children,(0,A.Z)(H,M)),q=(0,N.QT)().t;return w().createElement.apply(w(),[w().Fragment,{}].concat((0,k.Z)(function(ve,ke){var Se=[{name:"",children:[]}];return ve.split(f).filter(Boolean).forEach(function(ge){var J=ge.match(j),Q=ge.match(L),K=ge.match(d);if(J!==null){var T=J[1];ke.hasOwnProperty(T)?Se.push({name:T,children:[]}):console.warn("Trans: missed to pass in prop ".concat(T," for interpolating ").concat(ve))}else if(Q!==null)if(Q[1]===Se[Se.length-1].name){var B=Se.pop(),O=w().createElement.apply(w(),[w().Fragment,{}].concat((0,k.Z)(B.children))),R=ke[B.name];typeof R=="function"&&Se[Se.length-1].children.push(R(O))}else console.warn("Trans: unexpected end tag ".concat(ge," for interpolating ").concat(ve));else if(K!==null){var E=K[1];ke.hasOwnProperty(E)?Se[Se.length-1].children.push(ke[E]):console.warn("Trans: key ".concat(E," not in props for interpolating ").concat(ve))}else Se[Se.length-1].children.push(ge)}),Se.length!==1&&console.warn("Trans: stack not empty for interpolating ".concat(ve)),Se[0].children}(q(x),S))))}},4704:function(ue,n,r){r.d(n,{Z:function(){return T}});var A=r(2577),k=r(3379),b=r.n(k),w=r(7795),N=r.n(w),M=r(569),f=r.n(M),d=r(3565),j=r.n(d),L=r(9216),H=r.n(L),x=r(4589),S=r.n(x),q=r(6359),ve={};ve.styleTagTransform=S(),ve.setAttributes=j(),ve.insert=f().bind(null,"head"),ve.domAPI=N(),ve.insertStyleElement=H(),b()(q.Z,ve),q.Z&&q.Z.locals&&q.Z.locals;var ke=r(9787),Se=r.n(ke),ge=r(45),J=r(8925),Q=r(8242),K=r(1020),T=function(B){var O=B.className,R=B.mobile,E=B.collaborators,v=(0,Q.eh)(),i=new Map;E.forEach(function(y,h){i.set(y.id||h,y)});var a=i.size>0&&Array.from(i).filter(function(y){var h=(0,A.Z)(y,2),m=(h[0],h[1]);return Object.keys(m).length!==0}).map(function(y){var h=(0,A.Z)(y,2),m=h[0],C=h[1],U=v.renderAction("goToCollaborator",[m,C]);return R?(0,K.jsx)(J.u,{label:C.username||"Unknown user",children:U},m):(0,K.jsx)(Se().Fragment,{children:U},m)});return(0,K.jsx)("div",{className:(0,ge.Z)("UserList",O,{UserList_mobile:R}),children:a})}},7104:function(ue,n,r){r.d(n,{Z:function(){return ne}});var A=r(7169),k=r(2726),b=r(45),w=r(8242),N=r(1020),M=["className","children","onToggle","title"];function f(oe,be){var Me=Object.keys(oe);if(Object.getOwnPropertySymbols){var Ge=Object.getOwnPropertySymbols(oe);be&&(Ge=Ge.filter(function(qe){return Object.getOwnPropertyDescriptor(oe,qe).enumerable})),Me.push.apply(Me,Ge)}return Me}function d(oe){for(var be=1;be<arguments.length;be++){var Me=arguments[be]!=null?arguments[be]:{};be%2?f(Object(Me),!0).forEach(function(Ge){(0,A.Z)(oe,Ge,Me[Ge])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(Me)):f(Object(Me)).forEach(function(Ge){Object.defineProperty(oe,Ge,Object.getOwnPropertyDescriptor(Me,Ge))})}return oe}var j=function(oe){var be=oe.className,Me=be===void 0?"":be,Ge=oe.children,qe=oe.onToggle,Ne=oe.title,Pe=(0,k.Z)(oe,M),Re=(0,w.Fy)(),Ze=(0,b.Z)("dropdown-menu-button ".concat(Me),"zen-mode-transition",{"dropdown-menu-button--mobile":Re.editor.isMobile}).trim();return(0,N.jsx)("button",d(d({"data-prevent-outside-click":!0,className:Ze,onClick:qe,type:"button","data-testid":"dropdown-menu-button",title:Ne},Pe),{},{children:Ge}))},L=j;j.displayName="DropdownMenuTrigger";var H=r(5735),x=function(){return(0,N.jsx)("div",{style:{height:"1px",backgroundColor:"var(--default-border-color)",margin:".5rem 0"}})},S=x;x.displayName="DropdownMenuSeparator";var q=function(oe){var be=oe.children,Me=oe.className,Ge=Me===void 0?"":Me,qe=oe.style,Ne=oe.title;return(0,N.jsxs)("div",{className:"dropdown-menu-group ".concat(Ge),style:qe,children:[Ne&&(0,N.jsx)("p",{className:"dropdown-menu-group-title",children:Ne}),be]})},ve=q;q.displayName="DropdownMenuGroup";var ke=r(1404),Se=r(2540),ge=r(9787),J=r.n(ge),Q=r(7009),K=r(1901),T=function(oe){var be=oe.children,Me=oe.onClickOutside,Ge=oe.className,qe=Ge===void 0?"":Ge,Ne=oe.onSelect,Pe=oe.style,Re=(0,w.Fy)(),Ze=(0,ge.useRef)(null);(0,K.O)(Ze,function(){Me==null||Me()});var Ie=(0,b.Z)("dropdown-menu ".concat(qe),{"dropdown-menu--mobile":Re.editor.isMobile}).trim();return(0,N.jsx)(Q.N7.Provider,{value:{onSelect:Ne},children:(0,N.jsx)("div",{ref:Ze,className:Ie,style:Pe,"data-testid":"dropdown-menu",children:Re.editor.isMobile?(0,N.jsx)(Se.Z.Col,{className:"dropdown-menu-container",children:be}):(0,N.jsx)(ke.W,{className:"dropdown-menu-container",padding:2,style:{zIndex:2},children:be})})})};T.displayName="DropdownMenuContent";var B=T,O=r(3858),R=["children","className","selected"];function E(oe,be){var Me=Object.keys(oe);if(Object.getOwnPropertySymbols){var Ge=Object.getOwnPropertySymbols(oe);be&&(Ge=Ge.filter(function(qe){return Object.getOwnPropertyDescriptor(oe,qe).enumerable})),Me.push.apply(Me,Ge)}return Me}function v(oe){for(var be=1;be<arguments.length;be++){var Me=arguments[be]!=null?arguments[be]:{};be%2?E(Object(Me),!0).forEach(function(Ge){(0,A.Z)(oe,Ge,Me[Ge])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(Me)):E(Object(Me)).forEach(function(Ge){Object.defineProperty(oe,Ge,Object.getOwnPropertyDescriptor(Me,Ge))})}return oe}var i=function(oe){var be=oe.children,Me=oe.className,Ge=Me===void 0?"":Me,qe=oe.selected,Ne=(0,k.Z)(oe,R);return(0,N.jsx)("div",v(v({},Ne),{},{className:"dropdown-menu-item-base dropdown-menu-item-custom ".concat(Ge," ").concat(qe?"dropdown-menu-item--selected":"").trim(),children:be}))},a=r(3379),y=r.n(a),h=r(7795),m=r.n(h),C=r(569),U=r.n(C),V=r(3565),D=r.n(V),P=r(9216),F=r.n(P),X=r(4589),le=r.n(X),de=r(7399),fe={};fe.styleTagTransform=le(),fe.setAttributes=D(),fe.insert=U().bind(null,"head"),fe.domAPI=m(),fe.insertStyleElement=F(),y()(de.Z,fe),de.Z&&de.Z.locals&&de.Z.locals;var pe=function(oe){var be=oe.children,Me=oe.open,Ge=function(Ne){return J().Children.toArray(Ne).find(function(Pe){return J().isValidElement(Pe)&&typeof Pe.type!="string"&&(Pe==null?void 0:Pe.type.displayName)&&Pe.type.displayName==="DropdownMenuTrigger"})||null}(be),qe=function(Ne){return J().Children.toArray(Ne).find(function(Pe){return J().isValidElement(Pe)&&typeof Pe.type!="string"&&(Pe==null?void 0:Pe.type.displayName)&&Pe.type.displayName==="DropdownMenuContent"})||null}(be);return(0,N.jsxs)(N.Fragment,{children:[Ge,Me&&qe]})};pe.Trigger=L,pe.Content=B,pe.Item=H.Z,pe.ItemLink=O.Z,pe.ItemCustom=i,pe.Group=ve,pe.Separator=S;var ne=pe;pe.displayName="DropdownMenu"},5735:function(ue,n,r){var A=r(7169),k=r(2726),b=r(7009),w=r(6732),N=r(1020),M=["icon","onSelect","children","shortcut","className","selected"];function f(L,H){var x=Object.keys(L);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(L);H&&(S=S.filter(function(q){return Object.getOwnPropertyDescriptor(L,q).enumerable})),x.push.apply(x,S)}return x}function d(L){for(var H=1;H<arguments.length;H++){var x=arguments[H]!=null?arguments[H]:{};H%2?f(Object(x),!0).forEach(function(S){(0,A.Z)(L,S,x[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(x)):f(Object(x)).forEach(function(S){Object.defineProperty(L,S,Object.getOwnPropertyDescriptor(x,S))})}return L}var j=function(L){var H,x=L.icon,S=L.onSelect,q=L.children,ve=L.shortcut,ke=L.className,Se=L.selected,ge=(0,k.Z)(L,M),J=(0,b.qZ)(ge.onClick,S);return(0,N.jsx)("button",d(d({},ge),{},{onClick:J,type:"button",className:(0,b.n)(ke,Se),title:(H=ge.title)!==null&&H!==void 0?H:ge["aria-label"],children:(0,N.jsx)(w.Z,{icon:x,shortcut:ve,children:q})}))};n.Z=j,j.displayName="DropdownMenuItem"},6732:function(ue,n,r){var A=r(8242),k=r(1020);n.Z=function(b){var w=b.icon,N=b.shortcut,M=b.children,f=(0,A.Fy)();return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{className:"dropdown-menu-item__icon",children:w}),(0,k.jsx)("div",{className:"dropdown-menu-item__text",children:M}),N&&!f.editor.isMobile&&(0,k.jsx)("div",{className:"dropdown-menu-item__shortcut",children:N})]})}},3858:function(ue,n,r){var A=r(7169),k=r(2726),b=r(6732),w=r(7009),N=r(1020),M=["icon","shortcut","href","children","onSelect","className","selected"];function f(L,H){var x=Object.keys(L);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(L);H&&(S=S.filter(function(q){return Object.getOwnPropertyDescriptor(L,q).enumerable})),x.push.apply(x,S)}return x}function d(L){for(var H=1;H<arguments.length;H++){var x=arguments[H]!=null?arguments[H]:{};H%2?f(Object(x),!0).forEach(function(S){(0,A.Z)(L,S,x[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(x)):f(Object(x)).forEach(function(S){Object.defineProperty(L,S,Object.getOwnPropertyDescriptor(x,S))})}return L}var j=function(L){var H,x=L.icon,S=L.shortcut,q=L.href,ve=L.children,ke=L.onSelect,Se=L.className,ge=Se===void 0?"":Se,J=L.selected,Q=(0,k.Z)(L,M),K=(0,w.qZ)(Q.onClick,ke);return(0,N.jsx)("a",d(d({},Q),{},{href:q,target:"_blank",rel:"noreferrer",className:(0,w.n)(ge,J),title:(H=Q.title)!==null&&H!==void 0?H:Q["aria-label"],onClick:K,children:(0,N.jsx)(b.Z,{icon:x,shortcut:S,children:ve})}))};n.Z=j,j.displayName="DropdownMenuItemLink"},7009:function(ue,n,r){r.d(n,{N7:function(){return N},n:function(){return M},qZ:function(){return f}});var A=r(9787),k=r.n(A),b=r(9937),w=r(9827),N=k().createContext({}),M=function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",j=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return"dropdown-menu-item dropdown-menu-item-base ".concat(d," ").concat(j?"dropdown-menu-item--selected":"").trim()},f=function(d,j){var L=(0,A.useContext)(N);return(0,w.Mj)(d,function(H){var x,S=new CustomEvent(b.Ks.MENU_ITEM_SELECT,{bubbles:!0,cancelable:!0});j==null||j(S),S.defaultPrevented||(x=L.onSelect)===null||x===void 0||x.call(L,S)})}},6922:function(ue,n,r){r.d(n,{$:function(){return d}});var A=r(7169),k=r(2577),b=r(3607),w=r(9787),N=r(4572),M=r(1020);function f(j,L){var H=Object.keys(j);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(j);L&&(x=x.filter(function(S){return Object.getOwnPropertyDescriptor(j,S).enumerable})),H.push.apply(H,x)}return H}var d=function(j,L){var H=(0,b.cn)(0),x=function(S){var q=(0,N.R6)().jotaiScope,ve=(0,b.KO)(H,q),ke=(0,k.Z)(ve,2)[1],Se=(0,w.useRef)({preferHost:!1,counter:0});return(0,w.useLayoutEffect)(function(){var ge=Se.current;return ke(function(J){var Q=J+1;return ge.counter=Q,Q}),function(){ke(function(J){var Q=J-1;return ge.counter=Q,Q||(ge.preferHost=!1),Q})}},[ke]),S.__fallback||(Se.current.preferHost=!0),!Se.current.counter&&S.__fallback&&Se.current.preferHost||Se.current.counter>1&&S.__fallback?null:(0,M.jsx)(L,function(ge){for(var J=1;J<arguments.length;J++){var Q=arguments[J]!=null?arguments[J]:{};J%2?f(Object(Q),!0).forEach(function(K){(0,A.Z)(ge,K,Q[K])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ge,Object.getOwnPropertyDescriptors(Q)):f(Object(Q)).forEach(function(K){Object.defineProperty(ge,K,Object.getOwnPropertyDescriptor(Q,K))})}return ge}({},S))};return x.displayName=j,x}},8935:function(ue,n,r){r.d(n,{$W:function(){return Cr},$c:function(){return u},$q:function(){return V},BF:function(){return et},Ct:function(){return je},D7:function(){return Ge},DG:function(){return Ee},DJ:function(){return O},DS:function(){return Tt},EO:function(){return Xr},ET:function(){return Me},FC:function(){return K},FL:function(){return X},Gc:function(){return ae},HL:function(){return Be},Hk:function(){return Dt},Hy:function(){return ne},II:function(){return Fr},IN:function(){return ce},J8:function(){return xe},LZ:function(){return ln},NA:function(){return le},NW:function(){return fe},Nw:function(){return ur},OA:function(){return pr},OW:function(){return E},P7:function(){return en},Pm:function(){return m},RJ:function(){return ft},RY:function(){return pe},Re:function(){return i},ST:function(){return ht},Sd:function(){return D},TP:function(){return Z},Tl:function(){return Ie},Tw:function(){return Ce},UE:function(){return g},UI:function(){return Ut},UT:function(){return jr},VL:function(){return C},Vl:function(){return Y},Vq:function(){return ke},W2:function(){return St},W5:function(){return tt},Wl:function(){return Xt},X7:function(){return It},XB:function(){return U},XH:function(){return F},YA:function(){return ge},ZA:function(){return At},Zm:function(){return qe},_C:function(){return Q},_U:function(){return B},a0:function(){return wt},a1:function(){return Re},a5:function(){return Gt},aA:function(){return cn},aL:function(){return Nt},aT:function(){return Jt},bf:function(){return gr},by:function(){return oe},d:function(){return Gr},dg:function(){return Zr},e0:function(){return a},eQ:function(){return Ne},fr:function(){return Lt},gK:function(){return gt},h0:function(){return be},il:function(){return Wt},j8:function(){return cr},jn:function(){return Ue},kL:function(){return de},kM:function(){return Pt},lF:function(){return xt},m:function(){return sr},m9:function(){return tr},mh:function(){return rt},mv:function(){return hr},nb:function(){return v},np:function(){return Rt},nq:function(){return Mr},o3:function(){return Or},oQ:function(){return T},oT:function(){return Kr},op:function(){return Le},pO:function(){return Se},po:function(){return Ze},pw:function(){return ye},q0:function(){return Sr},qQ:function(){return J},rr:function(){return rr},t5:function(){return te},tW:function(){return zr},tb:function(){return h},tn:function(){return qt},uD:function(){return Ye},vo:function(){return Ft},wr:function(){return Zt},xL:function(){return P},xP:function(){return Pe},xs:function(){return Qe},z6:function(){return or},zG:function(){return z},zb:function(){return y},zl:function(){return Dr},zu:function(){return R}});var A=r(7169),k=r(2726),b=r(9787),w=r.n(b),N=r(5284),M=r(45),f=r(9937),d=r(1020),j=["width","height","mirror","style"];function L(Rr,Wr){var Ur=Object.keys(Rr);if(Object.getOwnPropertySymbols){var rn=Object.getOwnPropertySymbols(Rr);Wr&&(rn=rn.filter(function(an){return Object.getOwnPropertyDescriptor(Rr,an).enumerable})),Ur.push.apply(Ur,rn)}return Ur}function H(Rr){for(var Wr=1;Wr<arguments.length;Wr++){var Ur=arguments[Wr]!=null?arguments[Wr]:{};Wr%2?L(Object(Ur),!0).forEach(function(rn){(0,A.Z)(Rr,rn,Ur[rn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Rr,Object.getOwnPropertyDescriptors(Ur)):L(Object(Ur)).forEach(function(rn){Object.defineProperty(Rr,rn,Object.getOwnPropertyDescriptor(Ur,rn))})}return Rr}var x=function(Rr){return Rr===f.C6.LIGHT?N.white:"#1e1e1e"},S=function(Rr){var Wr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:512,Ur=typeof Wr=="number"?{width:Wr}:Wr,rn=Ur.width,an=rn===void 0?512:rn,Qr=Ur.height,In=Qr===void 0?an:Qr,Xn=Ur.mirror,go=Ur.style,bo=(0,k.Z)(Ur,j);return(0,d.jsx)("svg",H(H({"aria-hidden":"true",focusable:"false",role:"img",viewBox:"0 0 ".concat(an," ").concat(In),className:(0,M.Z)({"rtl-mirror":Xn}),style:go},bo),{},{children:typeof Rr=="string"?(0,d.jsx)("path",{fill:"currentColor",d:Rr}):Rr}))},q={width:24,height:24,fill:"none",strokeWidth:2,stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},ve={width:20,height:20,fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},ke=(S((0,d.jsxs)("g",{strokeWidth:"1.5",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("rect",{x:3,y:8,width:18,height:4,rx:1}),(0,d.jsx)("line",{x1:12,y1:8,x2:12,y2:21}),(0,d.jsx)("path",{d:"M19 12v7a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-7"}),(0,d.jsx)("path",{d:"M7.5 8a2.5 2.5 0 0 1 0 -5a4.8 8 0 0 1 4.5 5a4.8 8 0 0 1 4.5 -5a2.5 2.5 0 0 1 0 5"})]}),q),S((0,d.jsxs)("g",{strokeWidth:"1.5",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("path",{d:"M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0"}),(0,d.jsx)("path",{d:"M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0"}),(0,d.jsx)("line",{x1:"3",y1:"6",x2:"3",y2:"19"}),(0,d.jsx)("line",{x1:"12",y1:"6",x2:"12",y2:"19"}),(0,d.jsx)("line",{x1:"21",y1:"6",x2:"21",y2:"19"})]}),q)),Se=S((0,d.jsxs)("svg",{strokeWidth:"1.5",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,d.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),q),ge=S((0,d.jsxs)("g",{strokeWidth:"1.5",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("circle",{cx:"12",cy:"12",r:"1"}),(0,d.jsx)("circle",{cx:"12",cy:"19",r:"1"}),(0,d.jsx)("circle",{cx:"12",cy:"5",r:"1"})]}),q),J=S((0,d.jsxs)("svg",{strokeWidth:"1.5",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("path",{d:"M9 4v6l-2 4v2h10v-2l-2 -4v-6"}),(0,d.jsx)("line",{x1:"12",y1:"16",x2:"12",y2:"21"}),(0,d.jsx)("line",{x1:"8",y1:"4",x2:"16",y2:"4"})]}),q),Q=S((0,d.jsxs)("g",{children:[(0,d.jsx)("path",{d:"M13.542 8.542H6.458a2.5 2.5 0 0 0-2.5 2.5v3.75a2.5 2.5 0 0 0 2.5 2.5h7.084a2.5 2.5 0 0 0 2.5-2.5v-3.75a2.5 2.5 0 0 0-2.5-2.5Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,d.jsx)("path",{d:"M10 13.958a1.042 1.042 0 1 0 0-2.083 1.042 1.042 0 0 0 0 2.083Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,d.jsx)("mask",{id:"UnlockedIcon",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:6,y:1,width:9,height:9,children:(0,d.jsx)("path",{stroke:"none",d:"M6.399 9.561V5.175c0-.93.401-1.823 1.116-2.48a3.981 3.981 0 0 1 2.693-1.028c1.01 0 1.98.37 2.694 1.027.715.658 1.116 1.55 1.116 2.481",fill:"#fff"})}),(0,d.jsx)("g",{mask:"url(#UnlockedIcon)",children:(0,d.jsx)("path",{stroke:"none",d:"M5.149 9.561v1.25h2.5v-1.25h-2.5Zm5.06-7.894V.417v1.25Zm2.559 3.508v1.25h2.5v-1.25h-2.5ZM7.648 8.51V5.175h-2.5V8.51h2.5Zm0-3.334c0-.564.243-1.128.713-1.561L6.668 1.775c-.959.883-1.52 2.104-1.52 3.4h2.5Zm.713-1.561a2.732 2.732 0 0 1 1.847-.697v-2.5c-1.31 0-2.585.478-3.54 1.358L8.36 3.614Zm1.847-.697c.71 0 1.374.26 1.847.697l1.694-1.839a5.231 5.231 0 0 0-3.54-1.358v2.5Zm1.847.697c.47.433.713.997.713 1.561h2.5c0-1.296-.56-2.517-1.52-3.4l-1.693 1.839Z",fill:"currentColor"})})]}),ve),K=S((0,d.jsxs)("g",{strokeWidth:"1.25",children:[(0,d.jsx)("path",{d:"M13.542 8.542H6.458a2.5 2.5 0 0 0-2.5 2.5v3.75a2.5 2.5 0 0 0 2.5 2.5h7.084a2.5 2.5 0 0 0 2.5-2.5v-3.75a2.5 2.5 0 0 0-2.5-2.5Z"}),(0,d.jsx)("path",{d:"M10 13.958a1.042 1.042 0 1 0 0-2.083 1.042 1.042 0 0 0 0 2.083Z"}),(0,d.jsx)("path",{d:"M6.667 8.333V5.417C6.667 3.806 8.159 2.5 10 2.5c1.841 0 3.333 1.306 3.333 2.917v2.916"})]}),ve),T=S((0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("path",{d:"M38.5 83.5c-14-2-17.833-10.473-21-22.5C14.333 48.984 12 22 12 12.5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),(0,d.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m12.005 10.478 7.905 14.423L6 25.75l6.005-15.273Z",fill:"currentColor"}),(0,d.jsx)("path",{d:"M12.005 10.478c1.92 3.495 3.838 7 7.905 14.423m-7.905-14.423c3.11 5.683 6.23 11.368 7.905 14.423m0 0c-3.68.226-7.35.455-13.91.85m13.91-.85c-5.279.33-10.566.647-13.91.85m0 0c1.936-4.931 3.882-9.86 6.005-15.273M6 25.75c2.069-5.257 4.135-10.505 6.005-15.272",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})]}),{width:41,height:94,fill:"none"}),B=S((0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("path",{d:"M18.026 1.232c-5.268 13.125-5.548 33.555 3.285 42.311 8.823 8.75 33.31 12.304 42.422 13.523",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),(0,d.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m72.181 59.247-13.058-10-2.948 13.62 16.006-3.62Z",fill:"currentColor"}),(0,d.jsx)("path",{d:"M72.181 59.247c-3.163-2.429-6.337-4.856-13.058-10m13.058 10c-5.145-3.936-10.292-7.882-13.058-10m0 0c-.78 3.603-1.563 7.196-2.948 13.62m2.948-13.62c-1.126 5.168-2.24 10.346-2.948 13.62m0 0c5.168-1.166 10.334-2.343 16.006-3.62m-16.006 3.62c5.51-1.248 11.01-2.495 16.006-3.62",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})]}),{width:85,height:71,fill:"none"}),O=S((0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("path",{d:"M1 77c14-2 31.833-11.973 35-24 3.167-12.016-6-35-9.5-43.5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),(0,d.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m24.165 1.093-2.132 16.309 13.27-4.258-11.138-12.05Z",fill:"currentColor"}),(0,d.jsx)("path",{d:"M24.165 1.093c-.522 3.953-1.037 7.916-2.132 16.309m2.131-16.309c-.835 6.424-1.68 12.854-2.13 16.308m0 0c3.51-1.125 7.013-2.243 13.27-4.257m-13.27 4.257c5.038-1.608 10.08-3.232 13.27-4.257m0 0c-3.595-3.892-7.197-7.777-11.14-12.05m11.14 12.05c-3.837-4.148-7.667-8.287-11.14-12.05",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})]}),{width:38,height:78,fill:"none"}),R=(S((0,d.jsx)("g",{fill:"currentColor",children:(0,d.jsx)("path",{d:"M39.9 32.889a.326.326 0 0 0-.279-.056c-2.094-3.083-4.774-6-7.343-8.833l-.419-.472a.212.212 0 0 0-.056-.139.586.586 0 0 0-.167-.111l-.084-.083-.056-.056c-.084-.167-.28-.278-.475-.167-.782.39-1.507.973-2.206 1.528-.92.722-1.842 1.445-2.708 2.25a8.405 8.405 0 0 0-.977 1.028c-.14.194-.028.361.14.444-.615.611-1.23 1.223-1.843 1.861a.315.315 0 0 0-.084.223c0 .083.056.166.111.194l1.09.833v.028c1.535 1.528 4.244 3.611 7.12 5.861.418.334.865.667 1.284 1 .195.223.39.473.558.695.084.11.28.139.391.055.056.056.14.111.196.167a.398.398 0 0 0 .167.056.255.255 0 0 0 .224-.111.394.394 0 0 0 .055-.167c.029 0 .028.028.056.028a.318.318 0 0 0 .224-.084l5.082-5.528a.309.309 0 0 0 0-.444Zm-14.63-1.917a.485.485 0 0 0 .111.14c.586.5 1.2 1 1.843 1.555l-2.569-1.945-.251-.166c-.056-.028-.112-.084-.168-.111l-.195-.167.056-.056.055-.055.112-.111c.866-.861 2.346-2.306 3.1-3.028-.81.805-2.43 3.167-2.095 3.944Zm8.767 6.89-2.122-1.612a44.713 44.713 0 0 0-2.625-2.5c1.145.861 2.122 1.611 2.262 1.75 1.117.972 1.06.806 1.815 1.445l.921.666a1.06 1.06 0 0 1-.251.25Zm.558.416-.056-.028c.084-.055.168-.111.252-.194l-.196.222ZM1.089 5.75c.055.361.14.722.195 1.056.335 1.833.67 3.5 1.284 4.75l.252.944c.084.361.223.806.363.917 1.424 1.25 3.602 3.11 5.947 4.889a.295.295 0 0 0 .363 0s0 .027.028.027a.254.254 0 0 0 .196.084.318.318 0 0 0 .223-.084c2.988-3.305 5.221-6.027 6.813-8.305.112-.111.14-.278.14-.417.111-.111.195-.25.307-.333.111-.111.111-.306 0-.39l-.028-.027c0-.055-.028-.139-.084-.167-.698-.666-1.2-1.138-1.731-1.638-.922-.862-1.871-1.75-3.881-3.75l-.028-.028c-.028-.028-.056-.056-.112-.056-.558-.194-1.703-.389-3.127-.639C6.087 2.223 3.21 1.723.614.944c0 0-.168 0-.196.028l-.083.084c-.028.027-.056.055-.224.11h.056-.056c.028.167.028.278.084.473 0 .055.112.5.112.555l.782 3.556Zm15.496 3.278-.335-.334c.084.112.196.195.335.334Zm-3.546 4.666-.056.056c0-.028.028-.056.056-.056Zm-2.038-10c.168.167.866.834 1.033.973-.726-.334-2.54-1.167-3.379-1.445.838.167 1.983.334 2.346.472ZM1.424 2.306c.419.722.754 3.222 1.089 5.666-.196-.778-.335-1.555-.503-2.278-.251-1.277-.503-2.416-.838-3.416.056 0 .14 0 .252.028Zm-.168-.584c-.112 0-.223-.028-.307-.028 0-.027 0-.055-.028-.055.14 0 .223.028.335.083Zm-1.089.222c0-.027 0-.027 0 0ZM39.453 1.333c.028-.11-.558-.61-.363-.639.42-.027.42-.666 0-.666-.558.028-1.144.166-1.675.25-.977.194-1.982.389-2.96.61-2.205.473-4.383.973-6.561 1.557-.67.194-1.424.333-2.066.666-.224.111-.196.333-.084.472-.056.028-.084.028-.14.056-.195.028-.363.056-.558.083-.168.028-.252.167-.224.334 0 .027.028.083.028.11-1.173 1.556-2.485 3.195-3.909 4.945-1.396 1.611-2.876 3.306-4.356 5.056-4.719 5.5-10.052 11.75-15.943 17.25a.268.268 0 0 0 0 .389c.028.027.056.055.084.055-.084.084-.168.14-.252.222-.056.056-.084.111-.084.167a.605.605 0 0 0-.111.139c-.112.111-.112.305.028.389.111.11.307.11.39-.028.029-.028.029-.056.056-.056a.44.44 0 0 1 .615 0c.335.362.67.723.977 1.028l-.698-.583c-.112-.111-.307-.083-.39.028-.113.11-.085.305.027.389l7.427 6.194c.056.056.112.056.196.056s.14-.028.195-.084l.168-.166c.028.027.083.027.111.027.084 0 .14-.027.196-.083 10.052-10.055 18.15-17.639 27.42-24.417.083-.055.111-.166.111-.25.112 0 .196-.083.251-.194 1.704-5.194 2.039-9.806 2.15-12.083v-.028c0-.028.028-.056.028-.083.028-.056.028-.084.028-.084a1.626 1.626 0 0 0-.111-1.028ZM21.472 9.5c.446-.5.893-1.028 1.34-1.5-2.876 3.778-7.65 9.583-14.408 16.5 4.607-5.083 9.242-10.333 13.068-15ZM5.193 35.778h.084-.084Zm3.462 3.194c-.027-.028-.027-.028 0-.028v.028Zm4.16-3.583c.224-.25.448-.472.699-.722 0 0 0 .027.028.027-.252.223-.475.445-.726.695Zm1.146-1.111c.14-.14.279-.334.446-.5l.028-.028c1.648-1.694 3.351-3.389 5.082-5.111l.028-.028c.419-.333.921-.694 1.368-1.028a379.003 379.003 0 0 0-6.952 6.695ZM24.794 6.472c-.921 1.195-1.954 2.778-2.82 4.028-2.736 3.944-11.532 13.583-11.727 13.75a1976.983 1976.983 0 0 1-8.042 7.639l-.167.167c-.14-.167-.14-.417.028-.556C14.49 19.861 22.03 10.167 25.074 5.917c-.084.194-.14.36-.28.555Zm4.83 5.695c-1.116-.64-1.646-1.64-1.34-2.611l.084-.334c.028-.083.084-.194.14-.277.307-.5.754-.917 1.257-1.167.027 0 .055 0 .083-.028-.028-.056-.028-.139-.028-.222.028-.167.14-.278.335-.278.335 0 1.369.306 1.76.639.111.083.223.194.335.305.14.167.363.445.474.667.056.028.112.306.196.445.056.222.111.472.084.694-.028.028 0 .194-.028.194a2.668 2.668 0 0 1-.363 1.028c-.028.028-.028.056-.056.084l-.028.027c-.14.223-.335.417-.53.556-.643.444-1.369.583-2.095.389 0 0-.195-.084-.28-.111Zm8.154-.834a39.098 39.098 0 0 1-.893 3.167c0 .028-.028.083 0 .111-.056 0-.084.028-.14.056-2.206 1.61-4.356 3.305-6.506 5.028 1.843-1.64 3.686-3.306 5.613-4.945.558-.5.949-1.139 1.06-1.861l.28-1.667v-.055c.14-.334.67-.195.586.166Z",fill:"currentColor"})}),{width:40,height:40,fill:"none"}),S((0,d.jsxs)("g",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("path",{d:"M6 6l4.153 11.793a0.365 .365 0 0 0 .331 .207a0.366 .366 0 0 0 .332 -.207l2.184 -4.793l4.787 -1.994a0.355 .355 0 0 0 .213 -.323a0.355 .355 0 0 0 -.213 -.323l-11.787 -4.36z"}),(0,d.jsx)("path",{d:"M13.5 13.5l4.5 4.5"})]}),{fill:"none",width:22,height:22,strokeWidth:1.25})),E=S((0,d.jsxs)("g",{strokeWidth:"1.5",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2"})]}),q),v=S((0,d.jsxs)("g",{strokeWidth:"1.5",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("path",{d:"M10.5 20.4l-6.9 -6.9c-.781 -.781 -.781 -2.219 0 -3l6.9 -6.9c.781 -.781 2.219 -.781 3 0l6.9 6.9c.781 .781 .781 2.219 0 3l-6.9 6.9c-.781 .781 -2.219 .781 -3 0z"})]}),q),i=S((0,d.jsxs)("g",{strokeWidth:"1.5",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("circle",{cx:"12",cy:"12",r:"9"})]}),q),a=S((0,d.jsxs)("g",{strokeWidth:"1.5",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),(0,d.jsx)("line",{x1:"15",y1:"16",x2:"19",y2:"12"}),(0,d.jsx)("line",{x1:"15",y1:"8",x2:"19",y2:"12"})]}),q),y=S((0,d.jsx)("path",{d:"M4.167 10h11.666",strokeWidth:"1.5"}),ve),h=S((0,d.jsxs)("g",{strokeWidth:"1.25",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("path",{d:"M20 17v-12c0 -1.121 -.879 -2 -2 -2s-2 .879 -2 2v12l2 2l2 -2z"}),(0,d.jsx)("path",{d:"M16 7h4"}),(0,d.jsx)("path",{d:"M18 19h-13a2 2 0 1 1 0 -4h4a2 2 0 1 0 0 -4h-3"})]}),q),m=S((0,d.jsxs)("g",{strokeWidth:"1.25",children:[(0,d.jsx)("path",{clipRule:"evenodd",d:"m7.643 15.69 7.774-7.773a2.357 2.357 0 1 0-3.334-3.334L4.31 12.357a3.333 3.333 0 0 0-.977 2.357v1.953h1.953c.884 0 1.732-.352 2.357-.977Z"}),(0,d.jsx)("path",{d:"m11.25 5.417 3.333 3.333"})]}),ve),C=S((0,d.jsxs)("g",{strokeWidth:"1.5",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("line",{x1:"4",y1:"20",x2:"7",y2:"20"}),(0,d.jsx)("line",{x1:"14",y1:"20",x2:"21",y2:"20"}),(0,d.jsx)("line",{x1:"6.9",y1:"15",x2:"13.8",y2:"15"}),(0,d.jsx)("line",{x1:"10.2",y1:"6.3",x2:"16",y2:"20"}),(0,d.jsx)("polyline",{points:"5 20 11 4 13 4 20 20"})]}),q),U=S((0,d.jsxs)("g",{strokeWidth:"1.25",children:[(0,d.jsx)("path",{d:"M12.5 6.667h.01"}),(0,d.jsx)("path",{d:"M4.91 2.625h10.18a2.284 2.284 0 0 1 2.285 2.284v10.182a2.284 2.284 0 0 1-2.284 2.284H4.909a2.284 2.284 0 0 1-2.284-2.284V4.909a2.284 2.284 0 0 1 2.284-2.284Z"}),(0,d.jsx)("path",{d:"m3.333 12.5 3.334-3.333c.773-.745 1.726-.745 2.5 0l4.166 4.166"}),(0,d.jsx)("path",{d:"m11.667 11.667.833-.834c.774-.744 1.726-.744 2.5 0l1.667 1.667"})]}),ve),V=S((0,d.jsxs)("g",{strokeWidth:"1.5",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("path",{d:"M19 20h-10.5l-4.21 -4.3a1 1 0 0 1 0 -1.41l10 -10a1 1 0 0 1 1.41 0l5 5a1 1 0 0 1 0 1.41l-9.2 9.3"}),(0,d.jsx)("path",{d:"M18 13.3l-6.3 -6.3"})]}),q),D=S((0,d.jsx)("path",{strokeWidth:"1.25",d:"M10 4.167v11.666M4.167 10h11.666"}),ve),P=S((0,d.jsx)("path",{d:"M5 10h10",strokeWidth:"1.25"}),ve),F=S((0,d.jsx)("path",{strokeWidth:"1.25",d:"M3.333 5.833h13.334M8.333 9.167v5M11.667 9.167v5M4.167 5.833l.833 10c0 .92.746 1.667 1.667 1.667h6.666c.92 0 1.667-.746 1.667-1.667l.833-10M7.5 5.833v-2.5c0-.46.373-.833.833-.833h3.334c.46 0 .833.373.833.833v2.5"}),ve),X=S((0,d.jsxs)("g",{strokeWidth:"1.25",children:[(0,d.jsx)("polyline",{points:"12 16 18 10 12 4"}),(0,d.jsx)("polyline",{points:"8 4 2 10 8 16"})]}),ve),le=S((0,d.jsxs)("g",{strokeWidth:"1.25",children:[(0,d.jsx)("path",{d:"M14.375 6.458H8.958a2.5 2.5 0 0 0-2.5 2.5v5.417a2.5 2.5 0 0 0 2.5 2.5h5.417a2.5 2.5 0 0 0 2.5-2.5V8.958a2.5 2.5 0 0 0-2.5-2.5Z"}),(0,d.jsx)("path",{clipRule:"evenodd",d:"M11.667 3.125c.517 0 .986.21 1.325.55.34.338.55.807.55 1.325v1.458H8.333c-.485 0-.927.185-1.26.487-.343.312-.57.75-.609 1.24l-.005 5.357H5a1.87 1.87 0 0 1-1.326-.55 1.87 1.87 0 0 1-.549-1.325V5c0-.518.21-.987.55-1.326.338-.34.807-.549 1.325-.549h6.667Z"})]}),ve),de=S((0,d.jsx)("path",{clipRule:"evenodd",d:"M10 2.5h.328a6.25 6.25 0 0 0 6.6 10.372A7.5 7.5 0 1 1 10 2.493V2.5Z",stroke:"currentColor"}),ve),fe=S((0,d.jsx)("g",{stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,d.jsx)("path",{d:"M10 12.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM10 4.167V2.5M14.167 5.833l1.166-1.166M15.833 10H17.5M14.167 14.167l1.166 1.166M10 15.833V17.5M5.833 14.167l-1.166 1.166M5 10H3.333M5.833 5.833 4.667 4.667"})}),ve),pe=S((0,d.jsxs)("g",{strokeWidth:"1.5",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("line",{x1:"4",y1:"6",x2:"20",y2:"6"}),(0,d.jsx)("line",{x1:"4",y1:"12",x2:"20",y2:"12"}),(0,d.jsx)("line",{x1:"4",y1:"18",x2:"20",y2:"18"})]}),q),ne=S((0,d.jsx)("path",{strokeWidth:"1.25",d:"M3.333 14.167v1.666c0 .92.747 1.667 1.667 1.667h10c.92 0 1.667-.746 1.667-1.667v-1.666M5.833 9.167 10 13.333l4.167-4.166M10 3.333v10"}),ve),oe=S((0,d.jsxs)("g",{strokeWidth:"1.5",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("circle",{cx:"12",cy:"12",r:"9"}),(0,d.jsx)("line",{x1:"12",y1:"17",x2:"12",y2:"17.01"}),(0,d.jsx)("path",{d:"M12 13.5a1.5 1.5 0 0 1 1 -1.5a2.6 2.6 0 1 0 -3 -4"})]}),q),be=S((0,d.jsx)("path",{strokeWidth:"1.25",d:"M9.167 5.833H5.833c-1.254 0-2.5 1.282-2.5 2.5v5.834c0 1.283 1.252 2.5 2.5 2.5h5.834c1.251 0 2.5-1.25 2.5-2.5v-3.334M8.333 11.667l8.334-8.334M12.5 3.333h4.167V7.5"}),ve),Me=S((0,d.jsx)("path",{d:"M7.5 15.833c-3.583 1.167-3.583-2.083-5-2.5m10 4.167v-2.917c0-.833.083-1.166-.417-1.666 2.334-.25 4.584-1.167 4.584-5a3.833 3.833 0 0 0-1.084-2.667 3.5 3.5 0 0 0-.083-2.667s-.917-.25-2.917 1.084a10.25 10.25 0 0 0-5.166 0C5.417 2.333 4.5 2.583 4.5 2.583a3.5 3.5 0 0 0-.083 2.667 3.833 3.833 0 0 0-1.084 2.667c0 3.833 2.25 4.75 4.584 5-.5.5-.5 1-.417 1.666V17.5",strokeWidth:"1.25"}),ve),Ge=S((0,d.jsxs)("g",{strokeWidth:"1.25",children:[(0,d.jsx)("path",{d:"M7.5 10.833a.833.833 0 1 0 0-1.666.833.833 0 0 0 0 1.666ZM12.5 10.833a.833.833 0 1 0 0-1.666.833.833 0 0 0 0 1.666ZM6.25 6.25c2.917-.833 4.583-.833 7.5 0M5.833 13.75c2.917.833 5.417.833 8.334 0"}),(0,d.jsx)("path",{d:"M12.917 14.167c0 .833 1.25 2.5 1.666 2.5 1.25 0 2.361-1.39 2.917-2.5.556-1.39.417-4.861-1.25-9.584-1.214-.846-2.5-1.116-3.75-1.25l-.833 2.084M7.083 14.167c0 .833-1.13 2.5-1.526 2.5-1.191 0-2.249-1.39-2.778-2.5-.529-1.39-.397-4.861 1.19-9.584 1.157-.846 2.318-1.116 3.531-1.25l.833 2.084"})]}),ve),qe=S((0,d.jsxs)("g",{strokeWidth:"1.25",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("path",{d:"M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c-.002 -.249 1.51 -2.772 1.818 -4.013z"})]}),q),Ne=S((0,d.jsx)("polyline",{fill:"none",stroke:"currentColor",points:"20 6 9 17 4 12"}),{width:24,height:24}),Pe=S((0,d.jsxs)("g",{strokeWidth:"1.25",children:[(0,d.jsx)("path",{d:"M8.333 11.667a2.917 2.917 0 0 0 4.167 0l3.333-3.334a2.946 2.946 0 1 0-4.166-4.166l-.417.416"}),(0,d.jsx)("path",{d:"M11.667 8.333a2.917 2.917 0 0 0-4.167 0l-3.333 3.334a2.946 2.946 0 0 0 4.166 4.166l.417-.416"})]}),ve),Re=S("M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z",{width:448,height:512}),Ze=S("M252 54L203 8a28 27 0 00-20-8H28C12 0 0 12 0 27v195c0 15 12 26 28 26h204c15 0 28-11 28-26V73a28 27 0 00-8-19zM130 213c-21 0-37-16-37-36 0-19 16-35 37-35 20 0 37 16 37 35 0 20-17 36-37 36zm56-169v56c0 4-4 6-7 6H44c-4 0-7-2-7-6V42c0-4 3-7 7-7h133l4 2 3 2a7 7 0 012 5z M296 201l87 95-188 205-78 9c-10 1-19-8-18-20l9-84zm141-14l-41-44a31 31 0 00-46 0l-38 41 87 95 38-42c13-14 13-36 0-50z",{width:448,height:512}),Ie=S((0,d.jsx)("path",{d:"m9.257 6.351.183.183H15.819c.34 0 .727.182 1.051.506.323.323.505.708.505 1.05v5.819c0 .316-.183.7-.52 1.035-.337.338-.723.522-1.037.522H4.182c-.352 0-.74-.181-1.058-.5-.318-.318-.499-.705-.499-1.057V5.182c0-.351.181-.736.5-1.054.32-.321.71-.503 1.057-.503H6.53l2.726 2.726Z",strokeWidth:"1.25"}),ve),Ee=(S("M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z",{width:384,height:512}),S("M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z")),xe=S((0,d.jsxs)("g",{strokeWidth:"1.25",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("path",{d:"M15 8h.01"}),(0,d.jsx)("path",{d:"M12 20h-5a3 3 0 0 1 -3 -3v-10a3 3 0 0 1 3 -3h10a3 3 0 0 1 3 3v5"}),(0,d.jsx)("path",{d:"M4 15l4 -4c.928 -.893 2.072 -.893 3 0l4 4"}),(0,d.jsx)("path",{d:"M14 14l1 -1c.617 -.593 1.328 -.793 2.009 -.598"}),(0,d.jsx)("path",{d:"M19 16v6"}),(0,d.jsx)("path",{d:"M22 19l-3 3l-3 -3"})]}),q),Z=S("M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z",{width:512,height:512}),u=(S("M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),S("M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),S("M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z")),g=(S("M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"),S((0,d.jsx)("path",{d:"M7.5 10.833 4.167 7.5 7.5 4.167M4.167 7.5h9.166a3.333 3.333 0 0 1 0 6.667H12.5",strokeWidth:"1.25"}),ve)),z=S((0,d.jsx)("path",{d:"M12.5 10.833 15.833 7.5 12.5 4.167M15.833 7.5H6.667a3.333 3.333 0 1 0 0 6.667H7.5",strokeWidth:"1.25"}),ve),Y=S("M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z",{mirror:!0}),te=(S((0,d.jsx)("path",{d:"M5 12.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM15 7.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM15 17.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM7.25 8.917l5.5-2.834M7.25 11.083l5.5 2.834",strokeWidth:"1.5"}),ve),S("M16 5l-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4 4 4zm4 5v11c0 1.1-.9 2-2 2H6c-1.11 0-2-.9-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .89 2 2z",{width:24,height:24}),S((0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("path",{fill:"currentColor",d:"M40 5.6v6.1l-4.1.7c-8.9 1.4-16.5 6.9-20.6 15C13 32 10.9 43 12.4 43c.4 0 2.4-1.3 4.4-3 5-3.9 12.1-7 18.2-7.7l5-.6v12.8l11.2-11.3L62.5 22 51.2 10.8 40-.5v6.1zm10.2 22.6L44 34.5v-6.8l-6.9.6c-3.9.3-9.8 1.7-13.2 3.1-3.5 1.4-6.5 2.4-6.7 2.2-.9-1 3-7.5 6.4-10.8C28 18.6 34.4 16 40.1 16c3.7 0 3.9-.1 3.9-3.2V9.5l6.2 6.3 6.3 6.2-6.3 6.2z"}),(0,d.jsx)("path",{stroke:"currentColor",fill:"currentColor",d:"M0 36v20h48v-6.2c0-6 0-6.1-2-4.3-1.1 1-2 2.9-2 4.2V52H4V34c0-17.3-.1-18-2-18s-2 .7-2 20z"})]}),{width:64,height:64}),S((0,d.jsx)("path",{stroke:"currentColor",strokeWidth:"40",fill:"currentColor",d:"M148 560a318 318 0 0 0 522 110 316 316 0 0 0 0-450 316 316 0 0 0-450 0c-11 11-21 22-30 34v4h47c25 0 46 21 46 46s-21 45-46 45H90c-13 0-25-6-33-14-9-9-14-20-14-33V156c0-25 20-45 45-45s45 20 45 45v32l1 1a401 401 0 0 1 623 509l212 212a42 42 0 0 1-59 59L698 757A401 401 0 0 1 65 570a42 42 0 0 1 83-10z"}),{width:1024}),S((0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,d.jsx)("path",{d:"M13.889 4.167H8.333c-.767 0-1.389.622-1.389 1.389v5.555c0 .767.622 1.389 1.39 1.389h5.555c.767 0 1.389-.622 1.389-1.389V5.556c0-.767-.622-1.39-1.39-1.39Z",fill:"currentColor"}),(0,d.jsx)("path",{d:"M12.5 12.5v1.389a1.389 1.389 0 0 1-1.389 1.389H5.556a1.389 1.389 0 0 1-1.39-1.39V8.334a1.389 1.389 0 0 1 1.39-1.389h1.388"})]}),(0,d.jsx)("defs",{children:(0,d.jsx)("clipPath",{id:"a",children:(0,d.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),ve)),ae=S((0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,d.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.944 12.5H12.5v1.389a1.389 1.389 0 0 1-1.389 1.389H5.556a1.389 1.389 0 0 1-1.39-1.39V8.334a1.389 1.389 0 0 1 1.39-1.389h1.388",fill:"currentColor"}),(0,d.jsx)("path",{d:"M13.889 4.167H8.333c-.767 0-1.389.621-1.389 1.389v5.555c0 .767.622 1.389 1.39 1.389h5.555c.767 0 1.389-.622 1.389-1.389V5.556c0-.768-.622-1.39-1.39-1.39Z"})]}),(0,d.jsx)("defs",{children:(0,d.jsx)("clipPath",{id:"a",children:(0,d.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),ve),ce=S((0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,d.jsx)("path",{d:"M8.775 6.458h2.45a2.316 2.316 0 0 1 2.317 2.316v2.452a2.316 2.316 0 0 1-2.316 2.316H8.774a2.316 2.316 0 0 1-2.317-2.316V8.774a2.316 2.316 0 0 1 2.317-2.316Z",fill:"currentColor"}),(0,d.jsx)("path",{d:"M5.441 9.792h2.451a2.316 2.316 0 0 1 2.316 2.316v2.45a2.316 2.316 0 0 1-2.316 2.317h-2.45a2.316 2.316 0 0 1-2.317-2.316v-2.451a2.316 2.316 0 0 1 2.316-2.316ZM12.108 3.125h2.45a2.316 2.316 0 0 1 2.317 2.316v2.451a2.316 2.316 0 0 1-2.316 2.316h-2.451a2.316 2.316 0 0 1-2.316-2.316v-2.45a2.316 2.316 0 0 1 2.316-2.317Z"})]}),(0,d.jsx)("defs",{children:(0,d.jsx)("clipPath",{id:"a",children:(0,d.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),ve),ye=S((0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("g",{clipPath:"url(#a)",children:[(0,d.jsx)("path",{d:"M5.441 9.792h2.451a2.316 2.316 0 0 1 2.316 2.316v2.45a2.316 2.316 0 0 1-2.316 2.317h-2.45a2.316 2.316 0 0 1-2.317-2.316v-2.451a2.316 2.316 0 0 1 2.316-2.316Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,d.jsx)("path",{d:"M5.441 9.792h2.451a2.316 2.316 0 0 1 2.316 2.316v2.45a2.316 2.316 0 0 1-2.316 2.317h-2.45a2.316 2.316 0 0 1-2.317-2.316v-2.451a2.316 2.316 0 0 1 2.316-2.316Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,d.jsx)("mask",{id:"SendToBackIcon",fill:"#fff",children:(0,d.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.167 5.833v2.06a2.941 2.941 0 0 0 2.94 2.94h2.06v.393a2.941 2.941 0 0 1-2.941 2.94h-.393v-2.058a2.941 2.941 0 0 0-2.94-2.941h-2.06v-.393a2.941 2.941 0 0 1 2.942-2.94h.392Z"})}),(0,d.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.167 5.833v2.06a2.941 2.941 0 0 0 2.94 2.94h2.06v.393a2.941 2.941 0 0 1-2.941 2.94h-.393v-2.058a2.941 2.941 0 0 0-2.94-2.941h-2.06v-.393a2.941 2.941 0 0 1 2.942-2.94h.392Z",fill:"currentColor"}),(0,d.jsx)("path",{d:"M9.167 5.833h1.25v-1.25h-1.25v1.25Zm5 5h1.25v-1.25h-1.25v1.25Zm-3.334 3.334h-1.25v1.25h1.25v-1.25Zm-5-5h-1.25v1.25h1.25v-1.25Zm2.084-3.334v2.06h2.5v-2.06h-2.5Zm0 2.06a4.191 4.191 0 0 0 4.19 4.19v-2.5a1.691 1.691 0 0 1-1.69-1.69h-2.5Zm4.19 4.19h2.06v-2.5h-2.06v2.5Zm.81-1.25v.393h2.5v-.393h-2.5Zm0 .393c0 .933-.758 1.69-1.691 1.69v2.5a4.191 4.191 0 0 0 4.19-4.19h-2.5Zm-1.691 1.69h-.393v2.5h.393v-2.5Zm.857 1.25v-2.058h-2.5v2.059h2.5Zm0-2.058a4.191 4.191 0 0 0-4.19-4.191v2.5c.933 0 1.69.757 1.69 1.69h2.5Zm-4.19-4.191h-2.06v2.5h2.06v-2.5Zm-.81 1.25v-.393h-2.5v.393h2.5Zm0-.393c0-.934.758-1.69 1.692-1.69v-2.5a4.191 4.191 0 0 0-4.192 4.19h2.5Zm1.692-1.69h.392v-2.5h-.392v2.5Z",fill:"currentColor",mask:"url(#SendToBackIcon)"}),(0,d.jsx)("path",{d:"M12.108 3.125h2.45a2.316 2.316 0 0 1 2.317 2.316v2.451a2.316 2.316 0 0 1-2.316 2.316h-2.451a2.316 2.316 0 0 1-2.316-2.316v-2.45a2.316 2.316 0 0 1 2.316-2.317Z",stroke:"currentColor",strokeWidth:"1.25"})]}),(0,d.jsx)("defs",{children:(0,d.jsx)("clipPath",{id:"a",children:(0,d.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),ve),je=S((0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,d.jsx)("path",{d:"M3.333 3.333h13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,d.jsx)("path",{d:"M13.542 6.458h-.417c-.92 0-1.667.747-1.667 1.667v7.083c0 .92.746 1.667 1.667 1.667h.417c.92 0 1.666-.746 1.666-1.667V8.125c0-.92-.746-1.667-1.666-1.667ZM6.875 6.458h-.417c-.92 0-1.666.747-1.666 1.667v3.75c0 .92.746 1.667 1.666 1.667h.417c.92 0 1.667-.746 1.667-1.667v-3.75c0-.92-.747-1.667-1.667-1.667Z"})]}),(0,d.jsx)("defs",{children:(0,d.jsx)("clipPath",{id:"a",children:(0,d.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),ve),Be=S((0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,d.jsx)("path",{d:"M3.333 16.667h13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,d.jsx)("path",{d:"M6.875 3.125h-.417c-.92 0-1.666.746-1.666 1.667v7.083c0 .92.746 1.667 1.666 1.667h.417c.92 0 1.667-.746 1.667-1.667V4.792c0-.92-.747-1.667-1.667-1.667ZM13.542 5.817h-.417c-.92 0-1.667.747-1.667 1.667v4.391c0 .92.746 1.667 1.667 1.667h.417c.92 0 1.666-.746 1.666-1.667V7.484c0-.92-.746-1.667-1.666-1.667Z"})]}),(0,d.jsx)("defs",{children:(0,d.jsx)("clipPath",{id:"a",children:(0,d.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),ve),Qe=S((0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,d.jsx)("path",{d:"M3.333 3.333v13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,d.jsx)("path",{d:"M15.208 4.792H8.125c-.92 0-1.667.746-1.667 1.666v.417c0 .92.747 1.667 1.667 1.667h7.083c.92 0 1.667-.747 1.667-1.667v-.417c0-.92-.746-1.666-1.667-1.666ZM12.516 11.458H8.125c-.92 0-1.667.746-1.667 1.667v.417c0 .92.747 1.666 1.667 1.666h4.391c.92 0 1.667-.746 1.667-1.666v-.417c0-.92-.746-1.667-1.667-1.667Z"})]}),(0,d.jsx)("defs",{children:(0,d.jsx)("clipPath",{id:"a",children:(0,d.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),ve),rt=S((0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,d.jsx)("path",{d:"M16.667 3.333v13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,d.jsx)("path",{d:"M11.875 4.792H4.792c-.92 0-1.667.746-1.667 1.666v.417c0 .92.746 1.667 1.667 1.667h7.083c.92 0 1.667-.747 1.667-1.667v-.417c0-.92-.746-1.666-1.667-1.666ZM11.683 11.458H7.292c-.92 0-1.667.746-1.667 1.667v.417c0 .92.746 1.666 1.667 1.666h4.39c.921 0 1.667-.746 1.667-1.666v-.417c0-.92-.746-1.667-1.666-1.667Z"})]}),(0,d.jsx)("defs",{children:(0,d.jsx)("clipPath",{id:"a",children:(0,d.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),ve),Ye=S((0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,d.jsx)("path",{d:"M16.667 3.333v13.334M3.333 3.333v13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,d.jsx)("path",{d:"M14.375 10.208v-.416c0-.92-.746-1.667-1.667-1.667H7.292c-.92 0-1.667.746-1.667 1.667v.416c0 .92.746 1.667 1.667 1.667h5.416c.92 0 1.667-.746 1.667-1.667Z"})]}),(0,d.jsx)("defs",{children:(0,d.jsx)("clipPath",{id:"a",children:(0,d.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),ve),tt=S((0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,d.jsx)("path",{d:"M3.333 3.333h13.334M3.333 16.667h13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,d.jsx)("path",{d:"M10.208 5.625h-.416c-.92 0-1.667.746-1.667 1.667v5.416c0 .92.746 1.667 1.667 1.667h.416c.92 0 1.667-.746 1.667-1.667V7.292c0-.92-.746-1.667-1.667-1.667Z"})]}),(0,d.jsx)("defs",{children:(0,d.jsx)("clipPath",{id:"a",children:(0,d.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),ve),ht=S((0,d.jsxs)("g",{stroke:"currentColor",strokeWidth:"1.25",children:[(0,d.jsx)("path",{d:"M1.667 10h2.916",strokeLinecap:"round",strokeLinejoin:"round"}),(0,d.jsx)("path",{d:"M8.333 10h3.334",strokeLinejoin:"round"}),(0,d.jsx)("path",{d:"M15.417 10h2.916",strokeLinecap:"round",strokeLinejoin:"round"}),(0,d.jsx)("path",{d:"M6.875 4.792h-.417c-.92 0-1.666.746-1.666 1.666v7.084c0 .92.746 1.666 1.666 1.666h.417c.92 0 1.667-.746 1.667-1.666V6.458c0-.92-.747-1.666-1.667-1.666ZM13.542 6.458h-.417c-.92 0-1.667.747-1.667 1.667v3.75c0 .92.746 1.667 1.667 1.667h.417c.92 0 1.666-.746 1.666-1.667v-3.75c0-.92-.746-1.667-1.666-1.667Z"})]}),ve),gt=S((0,d.jsxs)("g",{stroke:"currentColor",strokeWidth:"1.25",children:[(0,d.jsx)("path",{d:"M10 18.333v-2.916",strokeLinecap:"round",strokeLinejoin:"round"}),(0,d.jsx)("path",{d:"M10 11.667V8.333",strokeLinejoin:"round"}),(0,d.jsx)("path",{d:"M10 4.583V1.667",strokeLinecap:"round",strokeLinejoin:"round"}),(0,d.jsx)("path",{d:"M4.792 13.125v.417c0 .92.746 1.666 1.666 1.666h7.084c.92 0 1.666-.746 1.666-1.666v-.417c0-.92-.746-1.667-1.666-1.667H6.458c-.92 0-1.666.746-1.666 1.667ZM6.458 6.458v.417c0 .92.747 1.667 1.667 1.667h3.75c.92 0 1.667-.747 1.667-1.667v-.417c0-.92-.746-1.666-1.667-1.666h-3.75c-.92 0-1.667.746-1.667 1.666Z"})]}),ve),Ue=S((0,d.jsxs)("g",{strokeWidth:"1.5",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("circle",{cx:"9",cy:"7",r:"4"}),(0,d.jsx)("path",{d:"M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"}),(0,d.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"}),(0,d.jsx)("path",{d:"M21 21v-2a4 4 0 0 0 -3 -3.85"})]}),q),Ce=(S("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"),S("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm96 328c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16v160z"),S((0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,d.jsx)("path",{d:"M15 5 5 15M5 5l10 10"})}),(0,d.jsx)("defs",{children:(0,d.jsx)("clipPath",{id:"a",children:(0,d.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),ve)),Le=S("M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z",{width:320,height:512,style:{marginLeft:"-0.2rem"},mirror:!0}),et=(S("M464 0c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48H176c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h288M176 416c-44.112 0-80-35.888-80-80V128H48c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48v-48H176z",{mirror:!0}),S("M11.553 22.894a.998.998 0 00.894 0s3.037-1.516 5.465-4.097C19.616 16.987 21 14.663 21 12V5a1 1 0 00-.649-.936l-8-3a.998.998 0 00-.702 0l-8 3A1 1 0 003 5v7c0 2.663 1.384 4.987 3.088 6.797 2.428 2.581 5.465 4.097 5.465 4.097zm-1.303-8.481l6.644-6.644a.856.856 0 111.212 1.212l-7.25 7.25a.856.856 0 01-1.212 0l-3.75-3.75a.856.856 0 111.212-1.212l3.144 3.144z",{width:24}),S("M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm32-48h224V288l-23.5-23.5c-4.7-4.7-12.3-4.7-17 0L176 352l-39.5-39.5c-4.7-4.7-12.3-4.7-17 0L80 352v64zm48-240c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z",{width:384,height:512}),w().memo(function(Rr){var Wr=Rr.theme;return S((0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("path",{d:"M25 26H111V111H25",fill:"var(--icon-fill-color)"}),(0,d.jsx)("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,d.jsx)("path",{d:"M100 100H160V160H100",fill:"var(--icon-fill-color)"}),(0,d.jsx)("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,d.jsxs)("g",{fill:x(Wr),stroke:"var(--icon-fill-color)",strokeWidth:"6",children:[(0,d.jsx)("rect",{x:"2.5",y:"2.5",width:"30",height:"30"}),(0,d.jsx)("rect",{x:"2.5",y:"149.5",width:"30",height:"30"}),(0,d.jsx)("rect",{x:"147.5",y:"149.5",width:"30",height:"30"}),(0,d.jsx)("rect",{x:"147.5",y:"2.5",width:"30",height:"30"})]})]}),{width:182,height:182,mirror:!0})})),ft=w().memo(function(Rr){var Wr=Rr.theme;return S((0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("path",{d:"M25 26H111V111H25",fill:"var(--icon-fill-color)"}),(0,d.jsx)("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,d.jsx)("path",{d:"M100 100H160V160H100",fill:"var(--icon-fill-color)"}),(0,d.jsx)("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,d.jsxs)("g",{fill:x(Wr),stroke:"var(--icon-fill-color)",strokeWidth:"6",children:[(0,d.jsx)("rect",{x:"2.5",y:"2.5",width:"30",height:"30"}),(0,d.jsx)("rect",{x:"78.5",y:"149.5",width:"30",height:"30"}),(0,d.jsx)("rect",{x:"147.5",y:"149.5",width:"30",height:"30"}),(0,d.jsx)("rect",{x:"147.5",y:"78.5",width:"30",height:"30"}),(0,d.jsx)("rect",{x:"105.5",y:"2.5",width:"30",height:"30"}),(0,d.jsx)("rect",{x:"2.5",y:"102.5",width:"30",height:"30"})]})]}),{width:182,height:182,mirror:!0})}),xt=S((0,d.jsx)("g",{strokeWidth:1.25,children:(0,d.jsx)("path",{d:"M5.879 2.625h8.242a3.27 3.27 0 0 1 3.254 3.254v8.242a3.27 3.27 0 0 1-3.254 3.254H5.88a3.27 3.27 0 0 1-3.254-3.254V5.88A3.27 3.27 0 0 1 5.88 2.626l-.001-.001ZM4.518 16.118l7.608-12.83m.198 13.934 5.051-9.897M2.778 9.675l9.348-6.387m-7.608 12.83 12.857-8.793"})}),ve),wt=S((0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("path",{d:"M5.879 2.625h8.242a3.254 3.254 0 0 1 3.254 3.254v8.242a3.254 3.254 0 0 1-3.254 3.254H5.88a3.254 3.254 0 0 1-3.254-3.254V5.88a3.254 3.254 0 0 1 3.254-3.254Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,d.jsx)("mask",{id:"FillHachureIcon",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:2,y:2,width:16,height:16,children:(0,d.jsx)("path",{d:"M5.879 2.625h8.242a3.254 3.254 0 0 1 3.254 3.254v8.242a3.254 3.254 0 0 1-3.254 3.254H5.88a3.254 3.254 0 0 1-3.254-3.254V5.88a3.254 3.254 0 0 1 3.254-3.254Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"1.25"})}),(0,d.jsx)("g",{mask:"url(#FillHachureIcon)",children:(0,d.jsx)("path",{d:"M2.258 15.156 15.156 2.258M7.324 20.222 20.222 7.325m-20.444 5.35L12.675-.222m-8.157 18.34L17.416 5.22",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})})]}),ve),Rt=S((0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("g",{clipPath:"url(#a)",children:[(0,d.jsx)("path",{d:"M5.879 2.625h8.242a3.254 3.254 0 0 1 3.254 3.254v8.242a3.254 3.254 0 0 1-3.254 3.254H5.88a3.254 3.254 0 0 1-3.254-3.254V5.88a3.254 3.254 0 0 1 3.254-3.254Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,d.jsx)("mask",{id:"FillCrossHatchIcon",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:-1,y:-1,width:22,height:22,children:(0,d.jsx)("path",{d:"M2.426 15.044 15.044 2.426M7.383 20 20 7.383M0 12.617 12.617 0m-7.98 17.941L17.256 5.324m-2.211 12.25L2.426 4.956M20 12.617 7.383 0m5.234 20L0 7.383m17.941 7.98L5.324 2.745",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,d.jsx)("g",{mask:"url(#FillCrossHatchIcon)",children:(0,d.jsx)("path",{d:"M14.121 2H5.88A3.879 3.879 0 0 0 2 5.879v8.242A3.879 3.879 0 0 0 5.879 18h8.242A3.879 3.879 0 0 0 18 14.121V5.88A3.879 3.879 0 0 0 14.121 2Z",fill:"currentColor"})})]}),(0,d.jsx)("defs",{children:(0,d.jsx)("clipPath",{id:"a",children:(0,d.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),ve),It=S((0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("g",{clipPath:"url(#a)",children:(0,d.jsx)("path",{d:"M4.91 2.625h10.18a2.284 2.284 0 0 1 2.285 2.284v10.182a2.284 2.284 0 0 1-2.284 2.284H4.909a2.284 2.284 0 0 1-2.284-2.284V4.909a2.284 2.284 0 0 1 2.284-2.284Z",stroke:"currentColor",strokeWidth:"1.25"})}),(0,d.jsx)("defs",{children:(0,d.jsx)("clipPath",{id:"a",children:(0,d.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),H(H({},ve),{},{fill:"currentColor"})),At=S((0,d.jsx)(d.Fragment,{children:(0,d.jsx)("path",{d:"M4.167 10h11.666",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),ve),Xt=S((0,d.jsx)("path",{d:"M5 10h10",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),ve),tr=S((0,d.jsx)("path",{d:"M5 10h10",stroke:"currentColor",strokeWidth:"3.75",strokeLinecap:"round",strokeLinejoin:"round"}),ve),Gt=S((0,d.jsxs)("g",{strokeWidth:"2",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("path",{d:"M5 12h2"}),(0,d.jsx)("path",{d:"M17 12h2"}),(0,d.jsx)("path",{d:"M11 12h2"})]}),q),Jt=S((0,d.jsxs)("g",{strokeWidth:"2",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("path",{d:"M4 12v.01"}),(0,d.jsx)("path",{d:"M8 12v.01"}),(0,d.jsx)("path",{d:"M12 12v.01"}),(0,d.jsx)("path",{d:"M16 12v.01"}),(0,d.jsx)("path",{d:"M20 12v.01"})]}),q),gr=S((0,d.jsx)("path",{d:"M2.5 12.038c1.655-.885 5.9-3.292 8.568-4.354 2.668-1.063.101 2.821 1.32 3.104 1.218.283 5.112-1.814 5.112-1.814",strokeWidth:"1.25"}),ve),Pt=S((0,d.jsx)("path",{d:"M2.5 12.563c1.655-.886 5.9-3.293 8.568-4.355 2.668-1.062.101 2.822 1.32 3.105 1.218.283 5.112-1.814 5.112-1.814m-13.469 2.23c2.963-1.586 6.13-5.62 7.468-4.998 1.338.623-1.153 4.11-.132 5.595 1.02 1.487 6.133-1.43 6.133-1.43",strokeWidth:"1.25"}),ve),St=S((0,d.jsx)("path",{d:"M2.5 11.936c1.737-.879 8.627-5.346 10.42-5.268 1.795.078-.418 5.138.345 5.736.763.598 3.53-1.789 4.235-2.147M2.929 9.788c1.164-.519 5.47-3.28 6.987-3.114 1.519.165 1 3.827 2.121 4.109 1.122.281 3.839-2.016 4.606-2.42",strokeWidth:"1.25"}),ve),Zt=S((0,d.jsxs)("svg",{strokeWidth:"1.5",children:[(0,d.jsx)("path",{d:"M3.33334 9.99998V6.66665C3.33334 6.04326 3.33403 4.9332 3.33539 3.33646C4.95233 3.33436 6.06276 3.33331 6.66668 3.33331H10"}),(0,d.jsx)("path",{d:"M13.3333 3.33331V3.34331"}),(0,d.jsx)("path",{d:"M16.6667 3.33331V3.34331"}),(0,d.jsx)("path",{d:"M16.6667 6.66669V6.67669"}),(0,d.jsx)("path",{d:"M16.6667 10V10.01"}),(0,d.jsx)("path",{d:"M3.33334 13.3333V13.3433"}),(0,d.jsx)("path",{d:"M16.6667 13.3333V13.3433"}),(0,d.jsx)("path",{d:"M3.33334 16.6667V16.6767"}),(0,d.jsx)("path",{d:"M6.66666 16.6667V16.6767"}),(0,d.jsx)("path",{d:"M10 16.6667V16.6767"}),(0,d.jsx)("path",{d:"M13.3333 16.6667V16.6767"}),(0,d.jsx)("path",{d:"M16.6667 16.6667V16.6767"})]}),ve),Tt=S((0,d.jsxs)("g",{strokeWidth:"1.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("path",{d:"M4 12v-4a4 4 0 0 1 4 -4h4"}),(0,d.jsx)("line",{x1:"16",y1:"4",x2:"16",y2:"4.01"}),(0,d.jsx)("line",{x1:"20",y1:"4",x2:"20",y2:"4.01"}),(0,d.jsx)("line",{x1:"20",y1:"8",x2:"20",y2:"8.01"}),(0,d.jsx)("line",{x1:"20",y1:"12",x2:"20",y2:"12.01"}),(0,d.jsx)("line",{x1:"4",y1:"16",x2:"4",y2:"16.01"}),(0,d.jsx)("line",{x1:"20",y1:"16",x2:"20",y2:"16.01"}),(0,d.jsx)("line",{x1:"4",y1:"20",x2:"4",y2:"20.01"}),(0,d.jsx)("line",{x1:"8",y1:"20",x2:"8",y2:"20.01"}),(0,d.jsx)("line",{x1:"12",y1:"20",x2:"12",y2:"20.01"}),(0,d.jsx)("line",{x1:"16",y1:"20",x2:"16",y2:"20.01"}),(0,d.jsx)("line",{x1:"20",y1:"20",x2:"20",y2:"20.01"})]}),q),Lt=S((0,d.jsx)("path",{d:"M6 10H34",stroke:"currentColor",strokeWidth:2,fill:"none"}),{width:40,height:20}),Wt=w().memo(function(Rr){var Wr=Rr.flip,Ur=Wr!==void 0&&Wr;return S((0,d.jsxs)("g",{transform:Ur?"translate(40, 0) scale(-1, 1)":"",stroke:"currentColor",strokeWidth:2,fill:"none",children:[(0,d.jsx)("path",{d:"M34 10H6M34 10L27 5M34 10L27 15"}),(0,d.jsx)("path",{d:"M27.5 5L34.5 10L27.5 15"})]}),{width:40,height:20})}),qt=w().memo(function(Rr){var Wr=Rr.flip,Ur=Wr!==void 0&&Wr;return S((0,d.jsxs)("g",{stroke:"currentColor",fill:"currentColor",transform:Ur?"translate(40, 0) scale(-1, 1)":"",children:[(0,d.jsx)("path",{d:"M32 10L6 10",strokeWidth:2}),(0,d.jsx)("circle",{r:"4",transform:"matrix(-1 0 0 1 30 10)"})]}),{width:40,height:20})}),sr=w().memo(function(Rr){var Wr=Rr.flip,Ur=Wr!==void 0&&Wr;return S((0,d.jsx)("g",{transform:Ur?"translate(40, 0) scale(-1, 1)":"",children:(0,d.jsx)("path",{d:"M34 10H5.99996M34 10L34 5M34 10L34 15",stroke:"currentColor",strokeWidth:2,fill:"none"})}),{width:40,height:20})}),cr=w().memo(function(Rr){var Wr=Rr.flip,Ur=Wr!==void 0&&Wr;return S((0,d.jsxs)("g",{stroke:"currentColor",fill:"currentColor",transform:Ur?"translate(40, 0) scale(-1, 1)":"",children:[(0,d.jsx)("path",{d:"M32 10L6 10",strokeWidth:2}),(0,d.jsx)("path",{d:"M27.5 5.5L34.5 10L27.5 14.5L27.5 5.5"})]}),{width:40,height:20})}),Sr=S((0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("g",{clipPath:"url(#a)",children:(0,d.jsx)("path",{d:"M14.167 6.667a3.333 3.333 0 0 0-3.334-3.334H9.167a3.333 3.333 0 0 0 0 6.667h1.666a3.333 3.333 0 0 1 0 6.667H9.167a3.333 3.333 0 0 1-3.334-3.334",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,d.jsx)("defs",{children:(0,d.jsx)("clipPath",{id:"a",children:(0,d.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),ve),Mr=S((0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("g",{clipPath:"url(#a)",children:(0,d.jsx)("path",{d:"M5 16.667V3.333L10 15l5-11.667v13.334",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,d.jsx)("defs",{children:(0,d.jsx)("clipPath",{id:"a",children:(0,d.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),ve),zr=S((0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("g",{clipPath:"url(#a)",children:(0,d.jsx)("path",{d:"M5.833 3.333v13.334h8.334",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,d.jsx)("defs",{children:(0,d.jsx)("clipPath",{id:"a",children:(0,d.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),ve),pr=S((0,d.jsx)(d.Fragment,{children:(0,d.jsx)("path",{d:"m1.667 3.333 6.666 13.334M8.333 3.333 1.667 16.667M11.667 3.333v13.334h6.666",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),ve),Ft=S((0,d.jsx)(d.Fragment,{children:(0,d.jsx)("g",{stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,d.jsx)("path",{d:"M5.833 16.667v-10a3.333 3.333 0 0 1 3.334-3.334h1.666a3.333 3.333 0 0 1 3.334 3.334v10M5.833 10.833h8.334"})})}),ve),or=S((0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,d.jsx)("path",{d:"M5.833 6.667 2.5 10l3.333 3.333M14.167 6.667 17.5 10l-3.333 3.333M11.667 3.333 8.333 16.667"})}),(0,d.jsx)("defs",{children:(0,d.jsx)("clipPath",{id:"a",children:(0,d.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),ve),rr=S((0,d.jsxs)("g",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("line",{x1:"4",y1:"8",x2:"20",y2:"8"}),(0,d.jsx)("line",{x1:"4",y1:"12",x2:"12",y2:"12"}),(0,d.jsx)("line",{x1:"4",y1:"16",x2:"16",y2:"16"})]}),q),Or=S((0,d.jsxs)("g",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("line",{x1:"4",y1:"8",x2:"20",y2:"8"}),(0,d.jsx)("line",{x1:"8",y1:"12",x2:"16",y2:"12"}),(0,d.jsx)("line",{x1:"6",y1:"16",x2:"18",y2:"16"})]}),q),Kr=S((0,d.jsxs)("g",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("line",{x1:"4",y1:"8",x2:"20",y2:"8"}),(0,d.jsx)("line",{x1:"10",y1:"12",x2:"20",y2:"12"}),(0,d.jsx)("line",{x1:"8",y1:"16",x2:"20",y2:"16"})]}),q),Xr=w().memo(function(Rr){return Rr.theme,S((0,d.jsxs)("g",{strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("line",{x1:"4",y1:"4",x2:"20",y2:"4"}),(0,d.jsx)("rect",{x:"9",y:"8",width:"6",height:"12",rx:"2"})]}),q)}),cn=w().memo(function(Rr){return Rr.theme,S((0,d.jsxs)("g",{strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("line",{x1:"4",y1:"20",x2:"20",y2:"20"}),(0,d.jsx)("rect",{x:"9",y:"4",width:"6",height:"12",rx:"2"})]}),q)}),en=w().memo(function(Rr){return Rr.theme,S((0,d.jsxs)("g",{strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("line",{x1:"4",y1:"12",x2:"9",y2:"12"}),(0,d.jsx)("line",{x1:"15",y1:"12",x2:"20",y2:"12"}),(0,d.jsx)("rect",{x:"9",y:"6",width:"6",height:"12",rx:"2"})]}),q)}),ur=S((0,d.jsx)("path",{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z",fill:"currentColor"}),{width:640,height:512}),Dt=(S((0,d.jsx)("path",{d:"M480 416C497.7 416 512 430.3 512 448C512 465.7 497.7 480 480 480H150.6C133.7 480 117.4 473.3 105.4 461.3L25.37 381.3C.3786 356.3 .3786 315.7 25.37 290.7L258.7 57.37C283.7 32.38 324.3 32.38 349.3 57.37L486.6 194.7C511.6 219.7 511.6 260.3 486.6 285.3L355.9 416H480zM265.4 416L332.7 348.7L195.3 211.3L70.63 336L150.6 416L265.4 416z"})),S((0,d.jsxs)("g",{strokeWidth:1.25,children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("path",{d:"M8 13v-7.5a1.5 1.5 0 0 1 3 0v6.5"}),(0,d.jsx)("path",{d:"M11 5.5v-2a1.5 1.5 0 1 1 3 0v8.5"}),(0,d.jsx)("path",{d:"M14 5.5a1.5 1.5 0 0 1 3 0v6.5"}),(0,d.jsx)("path",{d:"M17 7.5a1.5 1.5 0 0 1 3 0v8.5a6 6 0 0 1 -6 6h-2h.208a6 6 0 0 1 -5.012 -2.7a69.74 69.74 0 0 1 -.196 -.3c-.312 -.479 -1.407 -2.388 -3.286 -5.728a1.5 1.5 0 0 1 .536 -2.022a1.867 1.867 0 0 1 2.28 .28l1.47 1.47"})]}),q)),Nt=S((0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"}),(0,d.jsx)("path",{d:"M7 11l5 5l5 -5"}),(0,d.jsx)("path",{d:"M12 4l0 12"})]}),q),Ut=S((0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("path",{d:"M8 8m0 2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2z"}),(0,d.jsx)("path",{d:"M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"})]}),q),hr=S((0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"}),(0,d.jsx)("path",{d:"M12 17l0 .01"}),(0,d.jsx)("path",{d:"M12 13.5a1.5 1.5 0 0 1 1 -1.5a2.6 2.6 0 1 0 -3 -4"})]}),q),jr=(S((0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("path",{d:"M7 4v16l13 -8z"})]}),q),S((0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("path",{d:"M17 4h-10a3 3 0 0 0 -3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3 -3v-10a3 3 0 0 0 -3 -3z",strokeWidth:"0",fill:"currentColor"})]}),q),S((0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("path",{d:"M5 12l5 5l10 -10"})]}),q),S((0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("path",{d:"M10.24 3.957l-8.422 14.06a1.989 1.989 0 0 0 1.7 2.983h16.845a1.989 1.989 0 0 0 1.7 -2.983l-8.423 -14.06a1.989 1.989 0 0 0 -3.4 0z"}),(0,d.jsx)("path",{d:"M12 9v4"}),(0,d.jsx)("path",{d:"M12 17h.01"})]}),q)),Cr=S((0,d.jsxs)("g",{strokeWidth:1.25,children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("path",{d:"M11 7l6 6"}),(0,d.jsx)("path",{d:"M4 16l11.7 -11.7a1 1 0 0 1 1.4 0l2.6 2.6a1 1 0 0 1 0 1.4l-11.7 11.7h-4v-4z"})]}),q),Zr=S((0,d.jsxs)("g",{strokeWidth:1.5,children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("path",{d:"M12 3l-4 7h8z"}),(0,d.jsx)("path",{d:"M17 17m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"}),(0,d.jsx)("path",{d:"M4 14m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z"})]}),q),Dr=S((0,d.jsxs)("g",{strokeWidth:1.5,children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("path",{d:"M4 7l16 0"}),(0,d.jsx)("path",{d:"M4 17l16 0"}),(0,d.jsx)("path",{d:"M7 4l0 16"}),(0,d.jsx)("path",{d:"M17 4l0 16"})]}),q),Fr=S((0,d.jsx)("path",{fill:"currentColor",d:"M407.48,111.18C335.587,108.103 269.573,152.338 245.08,220C220.587,152.338 154.573,108.103 82.68,111.18C80.285,168.229 107.577,222.632 154.74,254.82C178.908,271.419 193.35,298.951 193.27,328.27L193.27,379.13L296.9,379.13L296.9,328.27C296.816,298.953 311.255,271.42 335.42,254.82C382.596,222.644 409.892,168.233 407.48,111.18Z"})),ln=S((0,d.jsxs)("g",{strokeWidth:"1.25",children:[(0,d.jsx)("path",{d:"M4.16602 10H15.8327"}),(0,d.jsx)("path",{d:"M12.5 13.3333L15.8333 10"}),(0,d.jsx)("path",{d:"M12.5 6.66666L15.8333 9.99999"})]}),ve),Gr=S((0,d.jsxs)("g",{fill:"none",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",transform:"rotate(90 10 10)",children:[(0,d.jsx)("path",{clipRule:"evenodd",d:"m9.644 13.69 7.774-7.773a2.357 2.357 0 0 0-3.334-3.334l-7.773 7.774L8 12l1.643 1.69Z"}),(0,d.jsx)("path",{d:"m13.25 3.417 3.333 3.333M10 10l2-2M5 15l3-3M2.156 17.894l1-1M5.453 19.029l-.144-1.407M2.377 11.887l.866 1.118M8.354 17.273l-1.194-.758M.953 14.652l1.408.13"})]}),20)},7021:function(ue,n,r){r.d(n,{Z:function(){return qe}});var A={};r.r(A),r.d(A,{ChangeCanvasBackground:function(){return de},ClearCanvas:function(){return X},Export:function(){return fe},Help:function(){return F},LiveCollaborationTrigger:function(){return ne},LoadScene:function(){return V},SaveAsImage:function(){return P},SaveToActiveFile:function(){return D},Socials:function(){return pe},ToggleTheme:function(){return le}});var k=r(8242),b=r(7104),w=r(8950),N=r(2975),M=r.n(N),f=r(2529),d=r(8227),j=r(8935),L=r(5735),H=r(3858),x=r(5463),S=r(3379),q=r.n(S),ve=r(7795),ke=r.n(ve),Se=r(569),ge=r.n(Se),J=r(3565),Q=r.n(J),K=r(9216),T=r.n(K),B=r(4589),O=r.n(B),R=r(4343),E={};E.styleTagTransform=O(),E.setAttributes=Q(),E.insert=ge().bind(null,"head"),E.domAPI=ke(),E.insertStyleElement=T(),q()(R.Z,E),R.Z&&R.Z.locals&&R.Z.locals;var v=r(45),i=r(3607),a=r(8973),y=r(453),h=r(100),m=r(7827),C=r(9247),U=r(1020),V=function(){var Ne=(0,d.QT)().t,Pe=(0,k.eh)(),Re=(0,k.bd)();if(!Pe.isActionEnabled(x._d))return null;var Ze=function(){var Ie=(0,w.Z)(M().mark(function Ee(){return M().wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:if(xe.t0=!Re.length,xe.t0){xe.next=5;break}return xe.next=4,(0,m._)({title:Ne("overwriteConfirm.modal.loadFromFile.title"),actionLabel:Ne("overwriteConfirm.modal.loadFromFile.button"),color:"warning",description:(0,U.jsx)(C.Z,{i18nKey:"overwriteConfirm.modal.loadFromFile.description",bold:function(Z){return(0,U.jsx)("strong",{children:Z})},br:function(){return(0,U.jsx)("br",{})}})});case 4:xe.t0=xe.sent;case 5:if(!xe.t0){xe.next=7;break}Pe.executeAction(x._d);case 7:case"end":return xe.stop()}},Ee)}));return function(){return Ie.apply(this,arguments)}}();return(0,U.jsx)(L.Z,{icon:j.Tl,onSelect:Ze,"data-testid":"load-button",shortcut:(0,f.C)("loadScene"),"aria-label":Ne("buttons.load"),children:Ne("buttons.load")})};V.displayName="LoadScene";var D=function(){var Ne=(0,d.QT)().t,Pe=(0,k.eh)();return Pe.isActionEnabled(x.ns)?(0,U.jsx)(L.Z,{shortcut:(0,f.C)("saveScene"),"data-testid":"save-button",onSelect:function(){return Pe.executeAction(x.ns)},icon:j.a1,"aria-label":"".concat(Ne("buttons.save")),children:"".concat(Ne("buttons.save"))}):null};D.displayName="SaveToActiveFile";var P=function(){var Ne=(0,k.n9)(),Pe=(0,d.QT)().t;return(0,U.jsx)(L.Z,{icon:j.J8,"data-testid":"image-export-button",onSelect:function(){return Ne({openDialog:"imageExport"})},shortcut:(0,f.C)("imageExport"),"aria-label":Pe("buttons.exportImage"),children:Pe("buttons.exportImage")})};P.displayName="SaveAsImage";var F=function(){var Ne=(0,d.QT)().t,Pe=(0,k.eh)();return(0,U.jsx)(L.Z,{"data-testid":"help-menu-item",icon:j.by,onSelect:function(){return Pe.executeAction(x.jY)},shortcut:"?","aria-label":Ne("helpDialog.title"),children:Ne("helpDialog.title")})};F.displayName="Help";var X=function(){var Ne=(0,d.QT)().t,Pe=(0,i.b9)(a.w,y.yE);return(0,k.eh)().isActionEnabled(x.mo)?(0,U.jsx)(L.Z,{icon:j.XH,onSelect:function(){return Pe("clearCanvas")},"data-testid":"clear-canvas-button","aria-label":Ne("buttons.clearReset"),children:Ne("buttons.clearReset")}):null};X.displayName="ClearCanvas";var le=function(){var Ne=(0,d.QT)().t,Pe=(0,h.I)(),Re=(0,k.eh)();return Re.isActionEnabled(x.Zp)?(0,U.jsx)(L.Z,{onSelect:function(Ze){return Ze.preventDefault(),Re.executeAction(x.Zp)},icon:Pe.theme==="dark"?j.NW:j.kL,"data-testid":"toggle-dark-mode",shortcut:(0,f.C)("toggleTheme"),"aria-label":Pe.theme==="dark"?Ne("buttons.lightMode"):Ne("buttons.darkMode"),children:Pe.theme==="dark"?Ne("buttons.lightMode"):Ne("buttons.darkMode")}):null};le.displayName="ToggleTheme";var de=function(){var Ne=(0,d.QT)().t,Pe=(0,h.I)(),Re=(0,k.eh)(),Ze=(0,k.hY)();return Pe.viewModeEnabled||!Ze.UIOptions.canvasActions.changeViewBackgroundColor?null:(0,U.jsxs)("div",{style:{marginTop:"0.5rem"},children:[(0,U.jsx)("div",{"data-testid":"canvas-background-label",style:{fontSize:".75rem",marginBottom:".5rem"},children:Ne("labels.canvasBackground")}),(0,U.jsx)("div",{style:{padding:"0 0.625rem"},children:Re.renderAction("changeViewBackgroundColor")})]})};de.displayName="ChangeCanvasBackground";var fe=function(){var Ne=(0,d.QT)().t,Pe=(0,k.n9)();return(0,U.jsx)(L.Z,{icon:j.Hy,onSelect:function(){Pe({openDialog:"jsonExport"})},"data-testid":"json-export-button","aria-label":Ne("buttons.export"),children:Ne("buttons.export")})};fe.displayName="Export";var pe=function(){return(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(H.Z,{icon:j.ET,href:"https://github.com/excalidraw/excalidraw","aria-label":"GitHub",children:"GitHub"}),(0,U.jsx)(H.Z,{icon:j.D7,href:"https://discord.gg/UexuTaE","aria-label":"Discord",children:"Discord"}),(0,U.jsx)(H.Z,{icon:j.Zm,href:"https://twitter.com/excalidraw","aria-label":"Twitter",children:"Twitter"})]})};pe.displayName="Socials";var ne=function(Ne){var Pe=Ne.onSelect,Re=Ne.isCollaborating,Ze=(0,d.QT)().t;return(0,U.jsx)(L.Z,{"data-testid":"collab-button",icon:j.jn,className:(0,v.Z)({"active-collab":Re}),onSelect:Pe,children:Ze("labels.liveCollaboration")})};ne.displayName="LiveCollaborationTrigger";var oe=r(4704),be=r(6922),Me=r(9827),Ge=r(4572),qe=Object.assign((0,be.$)("MainMenu",function(Ne){var Pe=Ne.children,Re=Ne.onSelect,Ze=(0,Ge.R6)().MainMenuTunnel,Ie=(0,k.Fy)(),Ee=(0,h.I)(),xe=(0,k.n9)(),Z=Ie.editor.isMobile?void 0:function(){return xe({openMenu:null})};return(0,U.jsx)(Ze.In,{children:(0,U.jsxs)(b.Z,{open:Ee.openMenu==="canvas",children:[(0,U.jsx)(b.Z.Trigger,{onToggle:function(){xe({openMenu:Ee.openMenu==="canvas"?null:"canvas"})},"data-testid":"main-menu-trigger",className:"main-menu-trigger",children:j.RY}),(0,U.jsxs)(b.Z.Content,{onClickOutside:Z,onSelect:(0,Me.Mj)(Re,function(){xe({openMenu:null})}),children:[Pe,Ie.editor.isMobile&&Ee.collaborators.size>0&&(0,U.jsxs)("fieldset",{className:"UserList-Wrapper",children:[(0,U.jsx)("legend",{children:(0,d.t)("labels.collaborators")}),(0,U.jsx)(oe.Z,{mobile:!0,collaborators:Ee.collaborators})]})]})]})})}),{Trigger:b.Z.Trigger,Item:b.Z.Item,ItemLink:b.Z.ItemLink,ItemCustom:b.Z.ItemCustom,Group:b.Z.Group,Separator:b.Z.Separator,DefaultItems:A})},9937:function(ue,n,r){r.d(n,{wL:function(){return Ne},iC:function(){return E},vL:function(){return wt},bY:function(){return xt},gK:function(){return ft},$C:function(){return F},oc:function(){return C},_9:function(){return tr},HN:function(){return St},qy:function(){return gt},rk:function(){return oe},n5:function(){return ne},h6:function(){return Ue},Rx:function(){return Xt},Cc:function(){return Tt},Hg:function(){return be},cW:function(){return ye},hs:function(){return Me},f:function(){return v},xY:function(){return At},Iw:function(){return a},$e:function(){return y},Vi:function(){return P},Ks:function(){return J},r8:function(){return Ze},I_:function(){return Re},ZB:function(){return ht},pb:function(){return Ie},ut:function(){return X},iG:function(){return de},k:function(){return Ge},sA:function(){return Y},KL:function(){return qe},LL:function(){return Ee},PR:function(){return Lt},tf:function(){return Zt},EE:function(){return Ye},qx:function(){return i},$n:function(){return Ce},zK:function(){return tt},LO:function(){return Pe},CP:function(){return pe},Zj:function(){return z},Yx:function(){return Qe},sS:function(){return Be},kV:function(){return je},sk:function(){return rt},Oh:function(){return U},XI:function(){return V},WR:function(){return Jt},$h:function(){return gr},a6:function(){return Gt},HM:function(){return u},ay:function(){return m},dg:function(){return Pt},hR:function(){return Le},Gj:function(){return xe},I8:function(){return It},wZ:function(){return h},C6:function(){return le},ZF:function(){return te},nM:function(){return Z},ah:function(){return ce},UO:function(){return ae},Kr:function(){return et},oX:function(){return Rt},_D:function(){return fe},vf:function(){return D},V4:function(){return g},Dt:function(){return T},jP:function(){return R},Um:function(){return Q},vU:function(){return B},G6:function(){return O},ED:function(){return K}});var A=r(7169),k=r(3379),b=r.n(k),w=r(7795),N=r.n(w),M=r(569),f=r.n(M),d=r(3565),j=r.n(d),L=r(9216),H=r.n(L),x=r(4589),S=r.n(x),q=r(6464),ve={};ve.styleTagTransform=S(),ve.setAttributes=j(),ve.insert=f().bind(null,"head"),ve.domAPI=N(),ve.insertStyleElement=H(),b()(q.Z,ve);var ke=q.Z&&q.Z.locals?q.Z.locals:void 0,Se=r(9240);function ge(Wt,qt){var sr=Object.keys(Wt);if(Object.getOwnPropertySymbols){var cr=Object.getOwnPropertySymbols(Wt);qt&&(cr=cr.filter(function(Sr){return Object.getOwnPropertyDescriptor(Wt,Sr).enumerable})),sr.push.apply(sr,cr)}return sr}var J,Q=/Mac|iPod|iPhone|iPad/.test(navigator.platform),K=/^Win/.test(navigator.platform),T=/\b(android)\b/i.test(navigator.userAgent),B="netscape"in window&&navigator.userAgent.indexOf("rv:")>1&&navigator.userAgent.indexOf("Gecko")>1,O=navigator.userAgent.indexOf("Chrome")===-1&&navigator.userAgent.indexOf("Safari")!==-1,R=function(){var Wt,qt;return((Wt=navigator.brave)===null||Wt===void 0||(qt=Wt.isBrave)===null||qt===void 0?void 0:qt.name)==="isBrave"},E="Excalidraw",v=10,i=8,a=5,y=1,h=30,m=Math.PI/12,C={TEXT:"text",CROSSHAIR:"crosshair",GRABBING:"grabbing",GRAB:"grab",POINTER:"pointer",MOVE:"move",AUTO:""},U={MAIN:0,WHEEL:1,SECONDARY:2,TOUCH:-1},V={enabled:"all",disabled:"none",inheritFromUI:"var(--ui-pointerEvents)"};(function(Wt){Wt.COPY="copy",Wt.PASTE="paste",Wt.CUT="cut",Wt.KEYDOWN="keydown",Wt.KEYUP="keyup",Wt.MOUSE_MOVE="mousemove",Wt.RESIZE="resize",Wt.UNLOAD="unload",Wt.FOCUS="focus",Wt.BLUR="blur",Wt.DRAG_OVER="dragover",Wt.DROP="drop",Wt.GESTURE_END="gestureend",Wt.BEFORE_UNLOAD="beforeunload",Wt.GESTURE_START="gesturestart",Wt.GESTURE_CHANGE="gesturechange",Wt.POINTER_MOVE="pointermove",Wt.POINTER_DOWN="pointerdown",Wt.POINTER_UP="pointerup",Wt.STATE_CHANGE="statechange",Wt.WHEEL="wheel",Wt.TOUCH_START="touchstart",Wt.TOUCH_END="touchend",Wt.HASHCHANGE="hashchange",Wt.VISIBILITY_CHANGE="visibilitychange",Wt.SCROLL="scroll",Wt.EXCALIDRAW_LINK="excalidraw-link",Wt.MENU_ITEM_SELECT="menu.itemSelect",Wt.MESSAGE="message"})(J||(J={}));var D={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5},P={TEST:"test",DEVELOPMENT:"development"},F={SHAPE_ACTIONS_MENU:"App-menu__left"},X={Virgil:1,Helvetica:2,Cascadia:3,Assistant:4},le={LIGHT:"light",DARK:"dark"},de={strokeColor:"#bbb",strokeWidth:2,strokeStyle:"solid",fillStyle:"solid",roughness:0,roundness:null,backgroundColor:"transparent",radius:8,nameOffsetY:3,nameColorLightTheme:"#999999",nameColorDarkTheme:"#7a7a7a",nameFontSize:14,nameLineHeight:1.25},fe="Segoe UI Emoji",pe=1,ne=20,oe=X.Virgil,be="left",Me="top",Ge=20,qe={svg:"image/svg+xml",png:"image/png",jpg:"image/jpeg",gif:"image/gif",webp:"image/webp",bmp:"image/bmp",ico:"image/x-icon",avif:"image/avif",jfif:"image/jfif"},Ne=["text/plain","text/html"],Pe=function(Wt){for(var qt=1;qt<arguments.length;qt++){var sr=arguments[qt]!=null?arguments[qt]:{};qt%2?ge(Object(sr),!0).forEach(function(cr){(0,A.Z)(Wt,cr,sr[cr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Wt,Object.getOwnPropertyDescriptors(sr)):ge(Object(sr)).forEach(function(cr){Object.defineProperty(Wt,cr,Object.getOwnPropertyDescriptor(sr,cr))})}return Wt}({json:"application/json",excalidraw:"application/vnd.excalidraw+json",excalidrawlib:"application/vnd.excalidrawlib+json","excalidraw.svg":"image/svg+xml","excalidraw.png":"image/png",binary:"application/octet-stream"},qe),Re={png:"png",svg:"svg",clipboard:"clipboard"},Ze={excalidraw:"excalidraw",excalidrawClipboard:"excalidraw/clipboard",excalidrawLibrary:"excalidrawlib",excalidrawClipboardWithAPI:"excalidraw-api/clipboard"},Ie=window.EXCALIDRAW_EXPORT_SOURCE||window.location.origin,Ee=500,xe=300,Z=500,u=100,g=.1,z=.1,Y=300,te=ke.themeFilter,ae={addLibrary:"addLibrary"},ce={addLibrary:"addLibrary"},ye={canvasActions:{changeViewBackgroundColor:!0,clearCanvas:!0,export:{saveFileToDisk:!0},loadScene:!0,saveToActiveFile:!0,toggleTheme:null,saveAsImage:!0},tools:{image:!0}},je=730,Be=1e3,Qe=500,rt=1229,Ye=parseInt(ke.rightSidebarWidth),tt=2,ht=[1,2,3],gt=10,Ue=1440,Ce=2097152,Le="http://www.w3.org/2000/svg",et={excalidraw:2,excalidrawLibrary:2},ft=5,xt=.7,wt=11,Rt={TOP:"top",MIDDLE:"middle",BOTTOM:"bottom"},It={LEFT:"left",CENTER:"center",RIGHT:"right"},At=20,Xt=.25,tr=32,Gt={LEGACY:1,PROPORTIONAL_RADIUS:2,ADAPTIVE_RADIUS:3},Jt="__precedingElement__",gr={architect:0,artist:1,cartoonist:2},Pt={thin:1,bold:2,extraBold:4},St={strokeColor:Se.HO.black,backgroundColor:Se.HO.transparent,fillStyle:"solid",strokeWidth:2,strokeStyle:"solid",roughness:gr.artist,opacity:100,locked:!1},Zt="library",Tt={name:"default",defaultTab:Zt},Lt=new Set(["embeddable","image"])},4572:function(ue,n,r){r.d(n,{A3:function(){return S},ZC:function(){return ve},R6:function(){return q}});var A=r(9787),k=r.n(A);const b=ke=>{let Se;const ge=new Set,J=(T,B)=>{const O=typeof T=="function"?T(Se):T;if(!Object.is(O,Se)){const R=Se;Se=B??typeof O!="object"?O:Object.assign({},Se,O),ge.forEach(E=>E(Se,R))}},Q=()=>Se,K={setState:J,getState:Q,subscribe:T=>(ge.add(T),()=>ge.delete(T)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),ge.clear()}};return Se=ke(J,Q,K),K},w=ke=>ke?b(ke):b;var N=r(5668);const{useSyncExternalStoreWithSelector:M}=N,f=ke=>{typeof ke!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const Se=typeof ke=="function"?w(ke):ke,ge=(J,Q)=>function(K,T=K.getState,B){const O=M(K.subscribe,K.getState,K.getServerState||K.getState,T,B);return(0,A.useDebugValue)(O),O}(Se,J,Q);return Object.assign(ge,Se),ge},d=ke=>ke?f(ke):f;var j,L;const H=typeof window<"u"&&((j=window.document)!=null&&j.createElement||((L=window.navigator)==null?void 0:L.product)==="ReactNative")?k().useLayoutEffect:k().useEffect;function x(){const ke=d(Se=>({current:new Array,version:0,set:Se}));return{In:({children:Se})=>{const ge=ke(Q=>Q.set),J=ke(Q=>Q.version);return H(()=>{ge(Q=>({version:Q.version+1}))},[]),H(()=>(ge(({current:Q})=>({current:[...Q,Se]})),()=>ge(({current:Q})=>({current:Q.filter(K=>K!==Se)}))),[Se,J]),null},Out:()=>{const Se=ke(ge=>ge.current);return k().createElement(k().Fragment,null,Se)}}}var S=k().createContext(null),q=function(){return k().useContext(S)},ve=function(){return k().useMemo(function(){return{MainMenuTunnel:x(),WelcomeScreenMenuHintTunnel:x(),WelcomeScreenToolbarHintTunnel:x(),WelcomeScreenHelpHintTunnel:x(),WelcomeScreenCenterTunnel:x(),FooterCenterTunnel:x(),DefaultSidebarTriggerTunnel:x(),DefaultSidebarTabTriggersTunnel:x(),OverwriteConfirmDialogTunnel:x(),jotaiScope:Symbol()}},[])}},100:function(ue,n,r){r.d(n,{I:function(){return w},k:function(){return b}});var A=r(9787),k=r.n(A),b=k().createContext(null),w=function(){return k().useContext(b)}},7652:function(ue,n,r){r.d(n,{KJ:function(){return H},OF:function(){return x},Uk:function(){return S},z8:function(){return L}});var A,k,b=r(9937),w=r(5284),N=r(6853),M='<svg viewBox="0 0 24 24" stroke-width="1" width="28" height="28" xmlns="http://www.w3.org/2000/svg">',f='<path stroke="#1b1b1f" fill="#fff" d="m7.868 11.113 7.773 7.774a2.359 2.359 0 0 0 1.667.691 2.368 2.368 0 0 0 2.357-2.358c0-.625-.248-1.225-.69-1.667L11.201 7.78 9.558 9.469l-1.69 1.643v.001Zm10.273 3.606-3.333 3.333m-3.25-6.583 2 2m-7-7 3 3M3.664 3.625l1 1M2.529 6.922l1.407-.144m5.735-2.932-1.118.866M4.285 9.823l.758-1.194m1.863-6.207-.13 1.408"/>',d="data:".concat(b.LO.svg,",").concat(encodeURIComponent("".concat(M).concat(f,"</svg>"))),j="data:".concat(b.LO.svg,",").concat(encodeURIComponent("".concat(M).concat('<path d="M6.164 11.755a5.314 5.314 0 0 1-4.932-5.298 5.314 5.314 0 0 1 5.311-5.311 5.314 5.314 0 0 1 5.307 5.113l8.773 8.773a3.322 3.322 0 0 1 0 4.696l-.895.895a3.322 3.322 0 0 1-4.696 0l-8.868-8.868Z" style="fill:#fff"/>').concat(f,"</svg>"))),L=function(q){q&&(q.style.cursor="")},H=function(q,ve){q&&(q.style.cursor=ve)},x=function(q,ve){A&&A.theme===ve||function(){var ke=ve===b.C6.DARK;(A=document.createElement("canvas")).theme=ve,A.height=20,A.width=20;var Se=A.getContext("2d");Se.lineWidth=1,Se.beginPath(),Se.arc(A.width/2,A.height/2,5,0,2*Math.PI),Se.fillStyle=ke?w.black:w.white,Se.fill(),Se.strokeStyle=ke?w.white:w.black,Se.stroke(),k=A.toDataURL(b.LO.svg)}(),H(q,"url(".concat(k,") ").concat(10," ").concat(10,", auto"))},S=function(q,ve){if(q)if(ve.activeTool.type==="selection")L(q);else if((0,N.l$)(ve))q.style.cursor=b.oc.GRAB;else if((0,N.EN)(ve))x(q,ve.theme);else if(ve.activeTool.type==="laser"){var ke=ve.theme===b.C6.LIGHT?d:j;q.style.cursor="url(".concat(ke,"), auto")}else["image","custom"].includes(ve.activeTool.type)?ve.activeTool.type!=="image"&&(q.style.cursor=b.oc.AUTO):q.style.cursor=b.oc.CROSSHAIR}},5796:function(ue,n,r){r.d(n,{DQ:function(){return T},KG:function(){return m},Pn:function(){return U},Qk:function(){return K},Sf:function(){return h},Tu:function(){return C},Wr:function(){return O},ZY:function(){return R},_c:function(){return a},_p:function(){return V},bv:function(){return D},cT:function(){return E},g8:function(){return B},gY:function(){return le},lV:function(){return i},tW:function(){return y},vZ:function(){return de},wf:function(){return v}});var A=r(1930),k=r(2577),b=r(7169),w=r(8950),N=r(2975),M=r.n(N),f=r(5605),d=r(6853),j=r(9937),L=r(7651),H=r(3506),x=r(8227),S=r(4105),q=r(9827),ve=r(6548),ke=r(4419),Se=r(7994);function ge(fe,pe){var ne=Object.keys(fe);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(fe);pe&&(oe=oe.filter(function(be){return Object.getOwnPropertyDescriptor(fe,be).enumerable})),ne.push.apply(ne,oe)}return ne}function J(fe){for(var pe=1;pe<arguments.length;pe++){var ne=arguments[pe]!=null?arguments[pe]:{};pe%2?ge(Object(ne),!0).forEach(function(oe){(0,b.Z)(fe,oe,ne[oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(fe,Object.getOwnPropertyDescriptors(ne)):ge(Object(ne)).forEach(function(oe){Object.defineProperty(fe,oe,Object.getOwnPropertyDescriptor(ne,oe))})}return fe}var Q=function(){var fe=(0,w.Z)(M().mark(function pe(ne){var oe;return M().wrap(function(be){for(;;)switch(be.prev=be.next){case 0:if(ne.type!==j.LO.png){be.next=18;break}return be.prev=1,be.next=4,Promise.resolve().then(r.bind(r,250));case 4:return be.next=6,be.sent.decodePngMetadata(ne);case 6:return be.abrupt("return",be.sent);case 9:if(be.prev=9,be.t0=be.catch(1),be.t0.message!=="INVALID"){be.next=15;break}throw new H.jk((0,x.t)("alerts.imageDoesNotContainScene"),"IMAGE_NOT_CONTAINS_SCENE_DATA");case 15:throw new H.jk((0,x.t)("alerts.cannotRestoreFromImage"));case 16:be.next=43;break;case 18:if(!("text"in Blob)){be.next=24;break}return be.next=21,ne.text();case 21:oe=be.sent,be.next=27;break;case 24:return be.next=26,new Promise(function(Me){var Ge=new FileReader;Ge.readAsText(ne,"utf8"),Ge.onloadend=function(){Ge.readyState===FileReader.DONE&&Me(Ge.result)}});case 26:oe=be.sent;case 27:if(ne.type!==j.LO.svg){be.next=43;break}return be.prev=28,be.next=31,Promise.resolve().then(r.bind(r,250));case 31:return be.next=33,be.sent.decodeSvgMetadata({svg:oe});case 33:return be.abrupt("return",be.sent);case 36:if(be.prev=36,be.t1=be.catch(28),be.t1.message!=="INVALID"){be.next=42;break}throw new H.jk((0,x.t)("alerts.imageDoesNotContainScene"),"IMAGE_NOT_CONTAINS_SCENE_DATA");case 42:throw new H.jk((0,x.t)("alerts.cannotRestoreFromImage"));case 43:return be.abrupt("return",oe);case 44:case"end":return be.stop()}},pe,null,[[1,9],[28,36]])}));return function(pe){return fe.apply(this,arguments)}}(),K=function(fe){var pe;return fe&&((pe=fe.name.match(/\.(json|excalidraw|png|svg)$/))===null||pe===void 0?void 0:pe[1])||null},T=function(fe){return fe==="png"||fe==="svg"},B=function(fe){var pe=K(fe);return pe==="png"||pe==="svg"},O=function(fe){var pe=(fe||{}).type;return!!pe&&Object.values(j.KL).includes(pe)},R=function(){var fe=(0,w.Z)(M().mark(function pe(ne,oe,be,Me){var Ge,qe;return M().wrap(function(Ne){for(;;)switch(Ne.prev=Ne.next){case 0:return Ne.next=2,Q(ne);case 2:Ge=Ne.sent,Ne.prev=3,Ne.prev=4,qe=JSON.parse(Ge),Ne.next=13;break;case 8:if(Ne.prev=8,Ne.t0=Ne.catch(4),!O(ne)){Ne.next=12;break}throw new H.jk((0,x.t)("alerts.imageDoesNotContainScene"),"IMAGE_NOT_CONTAINS_SCENE_DATA");case 12:throw Ne.t0;case 13:if(!(0,ke.dS)(qe)){Ne.next=17;break}return Ne.abrupt("return",{type:j.LO.excalidraw,data:(0,Se.nu)({elements:(0,L._M)(qe.elements||[]),appState:J(J({theme:oe==null?void 0:oe.theme,fileHandle:Me||ne.handle||null},(0,d.s)(qe.appState||{})),oe?(0,S.W)(qe.elements||[],oe):{}),files:qe.files},oe,be,{repairBindings:!0,refreshDimensions:!1})});case 17:if(!(0,ke.HT)(qe)){Ne.next=19;break}return Ne.abrupt("return",{type:j.LO.excalidrawlib,data:qe});case 19:case 26:throw new Error((0,x.t)("alerts.couldNotLoadInvalidFile"));case 22:if(Ne.prev=22,Ne.t1=Ne.catch(3),!(Ne.t1 instanceof H.jk)){Ne.next=26;break}throw Ne.t1;case 27:case"end":return Ne.stop()}},pe,null,[[3,22],[4,8]])}));return function(pe,ne,oe,be){return fe.apply(this,arguments)}}(),E=function(){var fe=(0,w.Z)(M().mark(function pe(ne,oe,be,Me){var Ge;return M().wrap(function(qe){for(;;)switch(qe.prev=qe.next){case 0:return qe.next=2,R(ne,oe,be,Me);case 2:if((Ge=qe.sent).type===j.LO.excalidraw){qe.next=5;break}throw new Error((0,x.t)("alerts.couldNotLoadInvalidFile"));case 5:return qe.abrupt("return",Ge.data);case 6:case"end":return qe.stop()}},pe)}));return function(pe,ne,oe,be){return fe.apply(this,arguments)}}(),v=function(fe){var pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"unpublished",ne=JSON.parse(fe);if(!(0,ke.HT)(ne))throw new Error("Invalid library");var oe=ne.libraryItems||ne.library;return(0,Se.wJ)(oe,pe)},i=function(){var fe=(0,w.Z)(M().mark(function pe(ne){var oe,be=arguments;return M().wrap(function(Me){for(;;)switch(Me.prev=Me.next){case 0:return oe=be.length>1&&be[1]!==void 0?be[1]:"unpublished",Me.t0=v,Me.next=4,Q(ne);case 4:return Me.t1=Me.sent,Me.t2=oe,Me.abrupt("return",(0,Me.t0)(Me.t1,Me.t2));case 7:case"end":return Me.stop()}},pe)}));return function(pe){return fe.apply(this,arguments)}}(),a=function(){var fe=(0,w.Z)(M().mark(function pe(ne){return M().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:return oe.abrupt("return",new Promise(function(){var be=(0,w.Z)(M().mark(function Me(Ge,qe){return M().wrap(function(Ne){for(;;)switch(Ne.prev=Ne.next){case 0:if(Ne.prev=0,!(0,q.y8)(ne)){Ne.next=5;break}return Ne.next=4,ne;case 4:ne=Ne.sent;case 5:ne.toBlob(function(Pe){if(!Pe)return qe(new H.lp((0,x.t)("canvasError.canvasTooBig"),"CANVAS_POSSIBLY_TOO_BIG"));Ge(Pe)}),Ne.next=11;break;case 8:Ne.prev=8,Ne.t0=Ne.catch(0),qe(Ne.t0);case 11:case"end":return Ne.stop()}},Me,null,[[0,8]])}));return function(Me,Ge){return be.apply(this,arguments)}}()));case 1:case"end":return oe.stop()}},pe)}));return function(pe){return fe.apply(this,arguments)}}(),y=function(){var fe=(0,w.Z)(M().mark(function pe(ne){var oe;return M().wrap(function(be){for(;;)switch(be.prev=be.next){case 0:return be.prev=0,be.t0=window.crypto.subtle,be.next=4,de(ne);case 4:return be.t1=be.sent,be.next=7,be.t0.digest.call(be.t0,"SHA-1",be.t1);case 7:return oe=be.sent,be.abrupt("return",(0,q.G3)(new Uint8Array(oe)));case 11:return be.prev=11,be.t2=be.catch(0),console.error(be.t2),be.abrupt("return",(0,f.x0)(40));case 15:case"end":return be.stop()}},pe,null,[[0,11]])}));return function(pe){return fe.apply(this,arguments)}}(),h=function(){var fe=(0,w.Z)(M().mark(function pe(ne){return M().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:return oe.abrupt("return",new Promise(function(be,Me){var Ge=new FileReader;Ge.onload=function(){var qe=Ge.result;be(qe)},Ge.onerror=function(qe){return Me(qe)},Ge.readAsDataURL(ne)}));case 1:case"end":return oe.stop()}},pe)}));return function(pe){return fe.apply(this,arguments)}}(),m=function(fe){for(var pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",ne=fe.indexOf(","),oe=atob(fe.slice(ne+1)),be=fe.slice(0,ne).split(":")[1].split(";")[0],Me=new ArrayBuffer(oe.length),Ge=new Uint8Array(Me),qe=0;qe<oe.length;qe++)Ge[qe]=oe.charCodeAt(qe);return new File([Me],pe,{type:be})},C=function(){var fe=(0,w.Z)(M().mark(function pe(ne,oe){var be,Me,Ge,qe,Ne,Pe;return M().wrap(function(Re){for(;;)switch(Re.prev=Re.next){case 0:if(ne.type!==j.LO.svg){Re.next=2;break}return Re.abrupt("return",ne);case 2:return Re.next=4,Promise.all([r.e(4736).then(r.t.bind(r,4881,23)).then(function(Ze){return Ze.default}),r.e(4736).then(r.bind(r,5446)).then(function(Ze){return Ze.default})]);case 4:if(be=Re.sent,Me=(0,k.Z)(be,2),Ge=Me[0],qe=Me[1],Ne=qe({pica:Ge({features:["js","wasm"]})}),oe.outputType&&(Pe=oe.outputType,Ne._create_blob=function(Ze){return this.pica.toBlob(Ze.out_canvas,Pe,.8).then(function(Ie){return Ze.out_blob=Ie,Ze})}),O(ne)){Re.next=12;break}throw new Error((0,x.t)("errors.unsupportedFileType"));case 12:return Re.t0=File,Re.next=15,Ne.toBlob(ne,{max:oe.maxWidthOrHeight});case 15:return Re.t1=Re.sent,Re.t2=[Re.t1],Re.t3=ne.name,Re.t4={type:oe.outputType||ne.type},Re.abrupt("return",new Re.t0(Re.t2,Re.t3,Re.t4));case 20:case"end":return Re.stop()}},pe)}));return function(pe,ne){return fe.apply(this,arguments)}}(),U=function(fe){var pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return new File([new TextEncoder().encode(fe)],pe,{type:j.LO.svg})},V=function(){var fe=(0,w.Z)(M().mark(function pe(ne){var oe,be,Me,Ge,qe=arguments;return M().wrap(function(Ne){for(;;)switch(Ne.prev=Ne.next){case 0:return oe=qe.length>1&&qe[1]!==void 0?qe[1]:"",Ne.prev=1,Ne.next=4,fetch(ne);case 4:be=Ne.sent,Ne.next=10;break;case 7:throw Ne.prev=7,Ne.t0=Ne.catch(1),new Error((0,x.t)("errors.failedToFetchImage"));case 10:if(be.ok){Ne.next=12;break}throw new Error((0,x.t)("errors.failedToFetchImage"));case 12:return Ne.next=14,be.blob();case 14:if(!(Me=Ne.sent).type||!O(Me)){Ne.next=18;break}return Ge=oe||Me.name||"",Ne.abrupt("return",new File([Me],Ge,{type:Me.type}));case 18:throw new Error((0,x.t)("errors.unsupportedFileType"));case 19:case"end":return Ne.stop()}},pe,null,[[1,7]])}));return function(pe){return fe.apply(this,arguments)}}(),D=function(){var fe=(0,w.Z)(M().mark(function pe(ne){var oe,be;return M().wrap(function(Me){for(;;)switch(Me.prev=Me.next){case 0:return oe=ne.dataTransfer.files.item(0),Me.next=3,P(ne);case 3:if(be=Me.sent,!oe){Me.next=10;break}return Me.next=7,le(oe);case 7:Me.t0=Me.sent,Me.next=11;break;case 10:Me.t0=null;case 11:return Me.t1=Me.t0,Me.t2=be,Me.abrupt("return",{file:Me.t1,fileHandle:Me.t2});case 14:case"end":return Me.stop()}},pe)}));return function(pe){return fe.apply(this,arguments)}}(),P=function(){var fe=(0,w.Z)(M().mark(function pe(ne){var oe,be;return M().wrap(function(Me){for(;;)switch(Me.prev=Me.next){case 0:if(!ve.kr){Me.next=16;break}return Me.prev=1,oe=ne.dataTransfer.items[0],Me.next=5,oe.getAsFileSystemHandle();case 5:if(Me.t0=Me.sent,Me.t0){Me.next=8;break}Me.t0=null;case 8:return be=Me.t0,Me.abrupt("return",be);case 12:return Me.prev=12,Me.t1=Me.catch(1),console.warn(Me.t1.name,Me.t1.message),Me.abrupt("return",null);case 16:return Me.abrupt("return",null);case 17:case"end":return Me.stop()}},pe,null,[[1,12]])}));return function(pe){return fe.apply(this,arguments)}}(),F=function(fe){var pe=null,ne="".concat((0,A.Z)(new Uint8Array(fe).slice(0,8)).join(" ")," "),oe="255 216 255 ",be="71 73 70 56 57 97 ";return ne==="137 80 78 71 13 10 26 10 "?pe=j.LO.png:ne.startsWith(oe)?pe=j.LO.jpg:ne.startsWith(be)&&(pe=j.LO.gif),pe},X=function(fe,pe,ne){return new File([fe],ne||"",{type:pe})},le=function(){var fe=(0,w.Z)(M().mark(function pe(ne){var oe,be,Me,Ge,qe,Ne,Pe,Re;return M().wrap(function(Ze){for(;;)switch(Ze.prev=Ze.next){case 0:if(ne.type){Ze.next=28;break}if((oe=ne)===null||oe===void 0||(be=oe.name)===null||be===void 0||!be.endsWith(".excalidrawlib")){Ze.next=11;break}return Ze.t0=X,Ze.next=5,de(ne);case 5:Ze.t1=Ze.sent,Ze.t2=j.LO.excalidrawlib,Ze.t3=ne.name,ne=(0,Ze.t0)(Ze.t1,Ze.t2,Ze.t3),Ze.next=26;break;case 11:if((Me=ne)===null||Me===void 0||(Ge=Me.name)===null||Ge===void 0||!Ge.endsWith(".excalidraw")){Ze.next=21;break}return Ze.t4=X,Ze.next=15,de(ne);case 15:Ze.t5=Ze.sent,Ze.t6=j.LO.excalidraw,Ze.t7=ne.name,ne=(0,Ze.t4)(Ze.t5,Ze.t6,Ze.t7),Ze.next=26;break;case 21:return Ze.next=23,de(ne);case 23:qe=Ze.sent,(Ne=F(qe))&&(ne=X(qe,Ne,ne.name));case 26:Ze.next=34;break;case 28:if(!O(ne)){Ze.next=34;break}return Ze.next=31,de(ne);case 31:Pe=Ze.sent,(Re=F(Pe))&&Re!==ne.type&&(ne=X(Pe,Re,ne.name));case 34:return Ze.abrupt("return",ne);case 35:case"end":return Ze.stop()}},pe)}));return function(pe){return fe.apply(this,arguments)}}(),de=function(fe){return"arrayBuffer"in fe?fe.arrayBuffer():new Promise(function(pe,ne){var oe=new FileReader;oe.onload=function(be){var Me;if((Me=be.target)===null||Me===void 0||!Me.result)return ne(new Error("Couldn't convert blob to ArrayBuffer"));pe(be.target.result)},oe.readAsArrayBuffer(fe)})}},6548:function(ue,n,r){r.d(n,{I$:function(){return x},NL:function(){return S},kr:function(){return w}});var A=r(1930),k=r(8950),b=r(2975),w=function(){if(typeof self>"u")return!1;if(!("top"in self&&self!==top)){if("showOpenFilePicker"in self)return"showOpenFilePicker"}return!1}(),N=w?r.e(4736).then(r.bind(r,7464)):r.e(4736).then(r.bind(r,3948));function M(){return M=(0,k.Z)(b.mark(function q(){var ve,ke=arguments;return b.wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:return Se.next=2,N;case 2:return Se.abrupt("return",(ve=Se.sent).default.apply(ve,ke));case 3:case"end":return Se.stop()}},q)})),M.apply(this,arguments)}w?r.e(4736).then(r.bind(r,4036)):r.e(4736).then(r.bind(r,7693));var f=w?r.e(4736).then(r.bind(r,357)):r.e(4736).then(r.bind(r,341));function d(){return d=(0,k.Z)(b.mark(function q(){var ve,ke=arguments;return b.wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:return Se.next=2,f;case 2:return Se.abrupt("return",(ve=Se.sent).default.apply(ve,ke));case 3:case"end":return Se.stop()}},q)})),d.apply(this,arguments)}var j=r(9937),L=r(3506),H=r(9827),x=function(q){var ve,ke,Se,ge=(ve=q.extensions)===null||ve===void 0?void 0:ve.reduce(function(Q,K){return Q.push(j.LO[K]),Q},[]),J=(ke=q.extensions)===null||ke===void 0?void 0:ke.reduce(function(Q,K){return K==="jpg"?Q.concat(".jpg",".jpeg"):Q.concat(".".concat(K))},[]);return function(){return M.apply(this,arguments)}({description:q.description,extensions:J,mimeTypes:ge,multiple:(Se=q.multiple)!==null&&Se!==void 0&&Se,legacySetup:function(Q,K,T){var B=(0,H.Ds)(K,500),O=function(){R(),document.addEventListener(j.Ks.KEYUP,B),document.addEventListener(j.Ks.POINTER_UP,B),B()},R=function(){var v;if((v=T.files)!==null&&v!==void 0&&v.length){var i=q.multiple?(0,A.Z)(T.files):T.files[0];Q(i)}};requestAnimationFrame(function(){window.addEventListener(j.Ks.FOCUS,O)});var E=window.setInterval(function(){R()},500);return function(v){clearInterval(E),B.cancel(),window.removeEventListener(j.Ks.FOCUS,O),document.removeEventListener(j.Ks.KEYUP,B),document.removeEventListener(j.Ks.POINTER_UP,B),v&&(console.warn("Opening the file was canceled (legacy-fs)."),v(new L._L))}}})},S=function(q,ve){return function(){return d.apply(this,arguments)}(q,{fileName:"".concat(ve.name,".").concat(ve.extension),description:ve.description,extensions:[".".concat(ve.extension)]},ve.fileHandle)}},250:function(ue,n,r){r.r(n),r.d(n,{decodePngMetadata:function(){return K},decodeSvgMetadata:function(){return B},encodePngMetadata:function(){return Q},encodeSvgMetadata:function(){return T},getTEXtChunk:function(){return J}});var A=r(8950),k=r(2975),b=r.n(k),w=r(2983),N=r.n(w),M=r(1194),f=r(3434),d=r.n(f),j=r(2744),L=r(9937),H=r(5796),x=function(O){return new Promise(function(R,E){var v=typeof O=="string"?new Blob([new TextEncoder().encode(O)]):new Blob([O instanceof Uint8Array?O:new Uint8Array(O)]),i=new FileReader;i.onload=function(a){if(!a.target||typeof a.target.result!="string")return E(new Error("couldn't convert to byte string"));R(a.target.result)},i.readAsBinaryString(v)})},S=function(O){for(var R=new ArrayBuffer(O.length),E=new Uint8Array(R),v=0,i=O.length;v<i;v++)E[v]=O.charCodeAt(v);return R},q=function(O){return new TextDecoder("utf-8").decode(S(O))},ve=function(){var O=(0,A.Z)(b().mark(function R(E){var v=arguments;return b().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!(v.length>1&&v[1]!==void 0&&v[1])){i.next=5;break}i.t0=window.btoa(E),i.next=10;break;case 5:return i.t1=window,i.next=8,x(E);case 8:i.t2=i.sent,i.t0=i.t1.btoa.call(i.t1,i.t2);case 10:return i.abrupt("return",i.t0);case 11:case"end":return i.stop()}},R)}));return function(R){return O.apply(this,arguments)}}(),ke=function(){var O=(0,A.Z)(b().mark(function R(E){var v,i=arguments;return b().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return v=i.length>1&&i[1]!==void 0&&i[1],a.abrupt("return",v?window.atob(E):q(window.atob(E)));case 2:case"end":return a.stop()}},R)}));return function(R){return O.apply(this,arguments)}}(),Se=function(){var O=(0,A.Z)(b().mark(function R(E){var v,i;return b().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(v=E.text,E.compress===!1){a.next=11;break}return a.prev=2,a.next=5,x((0,j.deflate)(v));case 5:i=a.sent,a.next=11;break;case 8:a.prev=8,a.t0=a.catch(2),console.error("encode: cannot deflate",a.t0);case 11:if(a.t1=!!i,a.t2=i,a.t2){a.next=17;break}return a.next=16,x(v);case 16:a.t2=a.sent;case 17:return a.t3=a.t2,a.abrupt("return",{version:"1",encoding:"bstring",compressed:a.t1,encoded:a.t3});case 19:case"end":return a.stop()}},R,null,[[2,8]])}));return function(R){return O.apply(this,arguments)}}(),ge=function(){var O=(0,A.Z)(b().mark(function R(E){var v;return b().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:i.t0=E.encoding,i.next=i.t0==="bstring"?3:12;break;case 3:if(!E.compressed){i.next=7;break}i.t1=E.encoded,i.next=10;break;case 7:return i.next=9,q(E.encoded);case 9:i.t1=i.sent;case 10:return v=i.t1,i.abrupt("break",13);case 12:throw new Error('decode: unknown encoding "'.concat(E.encoding,'"'));case 13:if(!E.compressed){i.next=15;break}return i.abrupt("return",(0,j.inflate)(new Uint8Array(S(v)),{to:"string"}));case 15:return i.abrupt("return",v);case 16:case"end":return i.stop()}},R)}));return function(R){return O.apply(this,arguments)}}(),J=function(){var O=(0,A.Z)(b().mark(function R(E){var v,i;return b().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.t0=N(),a.t1=Uint8Array,a.next=4,(0,H.vZ)(E);case 4:if(a.t2=a.sent,a.t3=new a.t1(a.t2),v=(0,a.t0)(a.t3),!(i=v.find(function(y){return y.name==="tEXt"}))){a.next=10;break}return a.abrupt("return",M.decode(i.data));case 10:return a.abrupt("return",null);case 11:case"end":return a.stop()}},R)}));return function(R){return O.apply(this,arguments)}}(),Q=function(){var O=(0,A.Z)(b().mark(function R(E){var v,i,a,y;return b().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return v=E.blob,i=E.metadata,h.t0=N(),h.t1=Uint8Array,h.next=5,(0,H.vZ)(v);case 5:return h.t2=h.sent,h.t3=new h.t1(h.t2),a=(0,h.t0)(h.t3),h.t4=M,h.t5=L.LO.excalidraw,h.t6=JSON,h.next=13,Se({text:i,compress:!0});case 13:return h.t7=h.sent,h.t8=h.t6.stringify.call(h.t6,h.t7),y=h.t4.encode.call(h.t4,h.t5,h.t8),a.splice(-1,0,y),h.abrupt("return",new Blob([d()(a)],{type:L.LO.png}));case 18:case"end":return h.stop()}},R)}));return function(R){return O.apply(this,arguments)}}(),K=function(){var O=(0,A.Z)(b().mark(function R(E){var v,i;return b().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,J(E);case 2:if(((v=a.sent)==null?void 0:v.keyword)!==L.LO.excalidraw){a.next=19;break}if(a.prev=4,"encoded"in(i=JSON.parse(v.text))){a.next=10;break}if(!("type"in i)||i.type!==L.r8.excalidraw){a.next=9;break}return a.abrupt("return",v.text);case 9:throw new Error("FAILED");case 10:return a.next=12,ge(i);case 12:return a.abrupt("return",a.sent);case 15:throw a.prev=15,a.t0=a.catch(4),console.error(a.t0),new Error("FAILED");case 19:throw new Error("INVALID");case 20:case"end":return a.stop()}},R,null,[[4,15]])}));return function(R){return O.apply(this,arguments)}}(),T=function(){var O=(0,A.Z)(b().mark(function R(E){var v,i,a;return b().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return v=E.text,y.t0=ve,y.t1=JSON,y.next=5,Se({text:v});case 5:return y.t2=y.sent,y.t3=y.t1.stringify.call(y.t1,y.t2),y.next=9,(0,y.t0)(y.t3,!0);case 9:return i=y.sent,a="",a+="<!-- payload-type:".concat(L.LO.excalidraw," -->"),a+="<!-- payload-version:2 -->",a+="<!-- payload-start -->",a+=i,a+="<!-- payload-end -->",y.abrupt("return",a);case 17:case"end":return y.stop()}},R)}));return function(R){return O.apply(this,arguments)}}(),B=function(){var O=(0,A.Z)(b().mark(function R(E){var v,i,a,y,h,m,C;return b().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(!(v=E.svg).includes("payload-type:".concat(L.LO.excalidraw))){U.next=26;break}if(i=v.match(/<!-- payload-start -->\s*(.+?)\s*<!-- payload-end -->/)){U.next=5;break}throw new Error("INVALID");case 5:return a=v.match(/<!-- payload-version:(\d+) -->/),y=(a==null?void 0:a[1])||"1",h=y!=="1",U.prev=8,U.next=11,ke(i[1],h);case 11:if(m=U.sent,"encoded"in(C=JSON.parse(m))){U.next=17;break}if(!("type"in C)||C.type!==L.r8.excalidraw){U.next=16;break}return U.abrupt("return",m);case 16:throw new Error("FAILED");case 17:return U.next=19,ge(C);case 19:return U.abrupt("return",U.sent);case 22:throw U.prev=22,U.t0=U.catch(8),console.error(U.t0),new Error("FAILED");case 26:throw new Error("INVALID");case 27:case"end":return U.stop()}},R,null,[[8,22]])}));return function(R){return O.apply(this,arguments)}}()},2435:function(ue,n,r){r.d(n,{HD:function(){return ve},Um:function(){return q.Um},cT:function(){return x.cT},n8:function(){return q.n8},p1:function(){return ke}});var A=r(8950),k=r(2975),b=r.n(k),w=r(4694),N=r(9937),M=r(7651),f=r(8227),d=r(6013),j=r(4105),L=r(3668),H=r(9827),x=r(5796),S=r(6548),q=r(4419),ve=function(Se,ge,J){var Q=ge.selectedElementIds;Se=(0,M.Lm)(Se);var K=J&&(0,j.N)(Se,{selectedElementIds:Q}),T=null,B=K?(0,j.eD)(Se,{selectedElementIds:Q},{includeBoundTextElement:!0}):Se;return K&&(B.length===1&&(0,M.He)(B[0])?(T=B[0],B=(0,d.Xs)({elements:Se,bounds:T,type:"overlap"})):B.length>1&&(B=(0,j.eD)(Se,{selectedElementIds:Q},{includeBoundTextElement:!0,includeElementsInFrames:!0}))),{exportingFrame:T,exportedElements:(0,H.xU)(B)}},ke=function(){var Se=(0,A.Z)(b().mark(function ge(J,Q,K,T,B){var O,R,E,v,i,a,y,h,m,C,U,V,D;return b().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(O=B.exportBackground,R=B.exportPadding,E=R===void 0?N.qy:R,v=B.viewBackgroundColor,i=B.name,a=B.fileHandle,y=a===void 0?null:a,h=B.exportingFrame,m=h===void 0?null:h,Q.length!==0){P.next=3;break}throw new Error((0,f.t)("alerts.cannotExportEmptyCanvas"));case 3:if(J!=="svg"&&J!=="clipboard-svg"){P.next=17;break}return P.next=6,(0,L.$D)(Q,{exportBackground:O,exportWithDarkMode:K.exportWithDarkMode,viewBackgroundColor:v,exportPadding:E,exportScale:K.exportScale,exportEmbedScene:K.exportEmbedScene&&J==="svg"},T,{exportingFrame:m});case 6:if(C=P.sent,J!=="svg"){P.next=13;break}return P.next=10,(0,S.NL)(new Blob([C.outerHTML],{type:N.LO.svg}),{description:"Export to SVG",name:i,extension:K.exportEmbedScene?"excalidraw.svg":"svg",fileHandle:y});case 10:return P.abrupt("return",P.sent);case 13:if(J!=="clipboard-svg"){P.next=17;break}return P.next=16,(0,w.dd)(C.outerHTML);case 16:return P.abrupt("return");case 17:if(U=(0,L.NL)(Q,K,T,{exportBackground:O,viewBackgroundColor:v,exportPadding:E,exportingFrame:m}),J!=="png"){P.next=33;break}return P.next=21,(0,x._c)(U);case 21:if(V=P.sent,!K.exportEmbedScene){P.next=28;break}return P.next=25,Promise.resolve().then(r.bind(r,250));case 25:return P.next=27,P.sent.encodePngMetadata({blob:V,metadata:(0,q.I_)(Q,K,T,"local")});case 27:V=P.sent;case 28:return P.next=30,(0,S.NL)(V,{description:"Export to PNG",name:i,extension:"png",fileHandle:y});case 30:return P.abrupt("return",P.sent);case 33:if(J!=="clipboard"){P.next=52;break}return P.prev=34,D=(0,x._c)(U),P.next=38,(0,w.uR)(D);case 38:P.next=50;break;case 40:if(P.prev=40,P.t0=P.catch(34),console.warn(P.t0),P.t0.name!=="CANVAS_POSSIBLY_TOO_BIG"){P.next=45;break}throw P.t0;case 45:if(!N.vU||P.t0.name!=="TypeError"){P.next=49;break}throw new Error("".concat((0,f.t)("alerts.couldNotCopyToClipboard"),`

`).concat((0,f.t)("hints.firefox_clipboard_write")));case 49:throw new Error((0,f.t)("alerts.couldNotCopyToClipboard"));case 50:P.next=53;break;case 52:throw new Error("Unsupported export type");case 53:case"end":return P.stop()}},ge,null,[[34,40]])}));return function(ge,J,Q,K,T){return Se.apply(this,arguments)}}()},4419:function(ue,n,r){r.d(n,{HT:function(){return Se},I_:function(){return S},NI:function(){return ge},Um:function(){return q},dS:function(){return ke},n8:function(){return ve},t1:function(){return J}});var A=r(6655),k=r(8950),b=r(2975),w=r.n(b),N=r(6548),M=r(6853),f=r(9937),d=r(7651),j=r(5796);function L(Q,K){var T=typeof Symbol<"u"&&Q[Symbol.iterator]||Q["@@iterator"];if(!T){if(Array.isArray(Q)||(T=function(i,a){if(i){if(typeof i=="string")return H(i,a);var y=Object.prototype.toString.call(i).slice(8,-1);if(y==="Object"&&i.constructor&&(y=i.constructor.name),y==="Map"||y==="Set")return Array.from(i);if(y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return H(i,a)}}(Q))||K){T&&(Q=T);var B=0,O=function(){};return{s:O,n:function(){return B>=Q.length?{done:!0}:{done:!1,value:Q[B++]}},e:function(i){throw i},f:O}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var R,E=!0,v=!1;return{s:function(){T=T.call(Q)},n:function(){var i=T.next();return E=i.done,i},e:function(i){v=!0,R=i},f:function(){try{E||T.return==null||T.return()}finally{if(v)throw R}}}}function H(Q,K){(K==null||K>Q.length)&&(K=Q.length);for(var T=0,B=new Array(K);T<K;T++)B[T]=Q[T];return B}var x=function(Q,K){var T,B={},O=L(Q);try{for(O.s();!(T=O.n()).done;){var R=T.value;!R.isDeleted&&"fileId"in R&&R.fileId&&K[R.fileId]&&(B[R.fileId]=K[R.fileId])}}catch(E){O.e(E)}finally{O.f()}return B},S=function(Q,K,T,B){var O={type:f.r8.excalidraw,version:f.Kr.excalidraw,source:f.pb,elements:B==="local"?(0,d._M)(Q):(0,d.BQ)(Q),appState:B==="local"?(0,M.s)(K):(0,M.eS)(K),files:B==="local"?x(Q,T):void 0};return JSON.stringify(O,null,2)},q=function(){var Q=(0,k.Z)(w().mark(function K(T,B,O){var R,E,v;return w().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return R=S(T,B,O,"local"),E=new Blob([R],{type:f.LO.excalidraw}),i.next=4,(0,N.NL)(E,{name:B.name,extension:"excalidraw",description:"Excalidraw file",fileHandle:(0,j.g8)(B.fileHandle)?null:B.fileHandle});case 4:return v=i.sent,i.abrupt("return",{fileHandle:v});case 6:case"end":return i.stop()}},K)}));return function(K,T,B){return Q.apply(this,arguments)}}(),ve=function(){var Q=(0,k.Z)(w().mark(function K(T,B){var O;return w().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,(0,N.I$)({description:"Excalidraw files"});case 2:return O=R.sent,R.t0=j.cT,R.next=6,(0,j.gY)(O);case 6:return R.t1=R.sent,R.t2=T,R.t3=B,R.t4=O.handle,R.abrupt("return",(0,R.t0)(R.t1,R.t2,R.t3,R.t4));case 11:case"end":return R.stop()}},K)}));return function(K,T){return Q.apply(this,arguments)}}(),ke=function(Q){return(Q==null?void 0:Q.type)===f.r8.excalidraw&&(!Q.elements||Array.isArray(Q.elements)&&(!Q.appState||(0,A.Z)(Q.appState)==="object"))},Se=function(Q){return(0,A.Z)(Q)==="object"&&Q&&Q.type===f.r8.excalidrawLibrary&&(Q.version===1||Q.version===2)},ge=function(Q){var K={type:f.r8.excalidrawLibrary,version:f.Kr.excalidrawLibrary,source:f.pb,libraryItems:Q};return JSON.stringify(K,null,2)},J=function(){var Q=(0,k.Z)(w().mark(function K(T){var B;return w().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return B=ge(T),O.next=3,(0,N.NL)(new Blob([B],{type:f.LO.excalidrawlib}),{name:"library",extension:"excalidrawlib",description:"Excalidraw library file"});case 3:case"end":return O.stop()}},K)}));return function(K){return Q.apply(this,arguments)}}()},9326:function(ue,n,r){r.d(n,{Di:function(){return a},WV:function(){return i},rF:function(){return B},xS:function(){return y},zh:function(){return E}});var A=r(7169),k=r(8950),b=r(5169),w=r(8821),N=r(1930),M=r(2975),f=r.n(M),d=r(5796),j=r(7994),L=r(3607),H=r(453),x=r(4949),S=r(3506),q=r(8227),ve=r(9787),ke=r(9937),Se=r(5832),ge=r(9827);function J(h,m){var C=Object.keys(h);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(h);m&&(U=U.filter(function(V){return Object.getOwnPropertyDescriptor(h,V).enumerable})),C.push.apply(C,U)}return C}function Q(h){for(var m=1;m<arguments.length;m++){var C=arguments[m]!=null?arguments[m]:{};m%2?J(Object(C),!0).forEach(function(U){(0,A.Z)(h,U,C[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(C)):J(Object(C)).forEach(function(U){Object.defineProperty(h,U,Object.getOwnPropertyDescriptor(C,U))})}return h}function K(h,m){var C=typeof Symbol<"u"&&h[Symbol.iterator]||h["@@iterator"];if(!C){if(Array.isArray(h)||(C=function(X,le){if(X){if(typeof X=="string")return T(X,le);var de=Object.prototype.toString.call(X).slice(8,-1);if(de==="Object"&&X.constructor&&(de=X.constructor.name),de==="Map"||de==="Set")return Array.from(X);if(de==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(de))return T(X,le)}}(h))||m){C&&(h=C);var U=0,V=function(){};return{s:V,n:function(){return U>=h.length?{done:!0}:{done:!1,value:h[U++]}},e:function(X){throw X},f:V}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var D,P=!0,F=!1;return{s:function(){C=C.call(h)},n:function(){var X=C.next();return P=X.done,X},e:function(X){F=!0,D=X},f:function(){try{P||C.return==null||C.return()}finally{if(F)throw D}}}}function T(h,m){(m==null||m>h.length)&&(m=h.length);for(var C=0,U=new Array(m);C<m;C++)U[C]=h[C];return U}var B=(0,L.cn)({status:"loaded",isInitialized:!0,libraryItems:[]}),O=function(h){return(0,ge.xU)(h)},R=function(h,m){return!h.find(function(C){return C.elements.length===m.elements.length&&C.elements.every(function(U,V){return U.id===m.elements[V].id&&U.versionNonce===m.elements[V].versionNonce})})},E=function(h,m){var C,U=[],V=K(m);try{for(V.s();!(C=V.n()).done;){var D=C.value;R(h,D)&&U.push(D)}}catch(P){V.e(P)}finally{V.f()}return[].concat(U,(0,N.Z)(h))},v=(0,b.Z)(function h(m){var C=this;(0,w.Z)(this,h),this.lastLibraryItems=[],this.isInitialized=!1,this.updateQueue=[],this.getLastUpdateTask=function(){return C.updateQueue[C.updateQueue.length-1]},this.notifyListeners=function(){if(C.updateQueue.length>0)H.e_.set(B,{status:"loading",libraryItems:C.lastLibraryItems,isInitialized:C.isInitialized});else{C.isInitialized=!0,H.e_.set(B,{status:"loaded",libraryItems:C.lastLibraryItems,isInitialized:C.isInitialized});try{var U,V;(U=(V=C.app.props).onLibraryChange)===null||U===void 0||U.call(V,O(C.lastLibraryItems))}catch(D){console.error(D)}}},this.destroy=function(){C.isInitialized=!1,C.updateQueue=[],C.lastLibraryItems=[],H.e_.set(Se.YX,new Map)},this.resetLibrary=function(){return C.setLibrary([])},this.getLatestLibrary=function(){return new Promise(function(){var U=(0,k.Z)(f().mark(function V(D){var P;return f().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.prev=0,F.next=3,C.getLastUpdateTask()||C.lastLibraryItems;case 3:P=F.sent,C.updateQueue.length>0?D(C.getLatestLibrary()):D(O(P)),F.next=10;break;case 7:return F.prev=7,F.t0=F.catch(0),F.abrupt("return",D(C.lastLibraryItems));case 10:case"end":return F.stop()}},V,null,[[0,7]])}));return function(V){return U.apply(this,arguments)}}())},this.updateLibrary=function(){var U=(0,k.Z)(f().mark(function V(D){var P,F,X,le,de,fe,pe,ne,oe;return f().wrap(function(be){for(;;)switch(be.prev=be.next){case 0:return P=D.libraryItems,F=D.prompt,X=F!==void 0&&F,le=D.merge,de=le!==void 0&&le,fe=D.openLibraryMenu,pe=fe!==void 0&&fe,ne=D.defaultStatus,oe=ne===void 0?"unpublished":ne,pe&&C.app.setState({openSidebar:{name:ke.Cc.name,tab:ke.tf}}),be.abrupt("return",C.setLibrary(function(){return new Promise(function(){var Me=(0,k.Z)(f().mark(function Ge(qe,Ne){var Pe,Re;return f().wrap(function(Ze){for(;;)switch(Ze.prev=Ze.next){case 0:return Ze.prev=0,Ze.next=3,typeof P!="function"||P instanceof Blob?P:P(C.lastLibraryItems);case 3:if(!((Pe=Ze.sent)instanceof Blob)){Ze.next=10;break}return Ze.next=7,(0,d.lV)(Pe,oe);case 7:Re=Ze.sent,Ze.next=11;break;case 10:Re=(0,j.wJ)(Pe,oe);case 11:!X||window.confirm((0,q.t)("alerts.confirmAddLibrary",{numShapes:Re.length}))?(X&&C.app.focusContainer(),qe(de?E(C.lastLibraryItems,Re):Re)):Ne(new S._L),Ze.next=17;break;case 14:Ze.prev=14,Ze.t0=Ze.catch(0),Ne(Ze.t0);case 17:case"end":return Ze.stop()}},Ge,null,[[0,14]])}));return function(Ge,qe){return Me.apply(this,arguments)}}())}));case 3:case"end":return be.stop()}},V)}));return function(V){return U.apply(this,arguments)}}(),this.setLibrary=function(U){var V=new Promise(function(){var D=(0,k.Z)(f().mark(function P(F,X){return f().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:return le.prev=0,le.next=3,C.getLastUpdateTask();case 3:return typeof U=="function"&&(U=U(C.lastLibraryItems)),le.t0=O,le.next=7,U;case 7:le.t1=le.sent,C.lastLibraryItems=(0,le.t0)(le.t1),F(C.lastLibraryItems),le.next=15;break;case 12:le.prev=12,le.t2=le.catch(0),X(le.t2);case 15:case"end":return le.stop()}},P,null,[[0,12]])}));return function(P,F){return D.apply(this,arguments)}}()).catch(function(D){if(D.name==="AbortError")return console.warn("Library update aborted by user"),C.lastLibraryItems;throw D}).finally(function(){C.updateQueue=C.updateQueue.filter(function(D){return D!==V}),C.notifyListeners()});return C.updateQueue.push(V),C.notifyListeners(),V},this.app=m});n.ZP=v;var i=function(h){var m,C=Math.ceil(Math.sqrt(h.length)),U=[],V=0,D=0,P=0,F=0,X=0,le=0,de=0,fe=K(h);try{var pe=function(){var ne=m.value;X&&X%C==0&&(D+=P+50,V=0,le=0,de++),le===0&&(P=function(Re){return h.slice(Re*C,Re*C+C).reduce(function(Ze,Ie){var Ee=(0,x.v2)(Ie.elements).height;return Math.max(Ze,Ee)},0)}(de)),F=function(Re){var Ze,Ie=0,Ee=0,xe=0,Z=K(h);try{for(Z.s();!(Ze=Z.n()).done;){var u=Ze.value;if(Ie%C==0&&(Ee=0),Ee===Re){var g=(0,x.v2)(u.elements).width;xe=Math.max(xe,g)}Ie++,Ee++}}catch(z){Z.e(z)}finally{Z.f()}return xe}(le);var oe=(0,x.v2)(ne.elements),be=oe.minX,Me=oe.minY,Ge=oe.width,qe=oe.height,Ne=(F-Ge)/2,Pe=(P-qe)/2;U.push.apply(U,(0,N.Z)(ne.elements.map(function(Re){return Q(Q({},Re),{},{x:Re.x+V+Ne-be,y:Re.y+D+Pe-Me})}))),V+=F+50,X++,le++};for(fe.s();!(m=fe.n()).done;)pe()}catch(ne){fe.e(ne)}finally{fe.f()}return U},a=function(){var h=new URLSearchParams(window.location.hash.slice(1)).get(ke.ah.addLibrary)||new URLSearchParams(window.location.search).get(ke.UO.addLibrary),m=h?new URLSearchParams(window.location.hash.slice(1)).get("token"):null;return h?{libraryUrl:h,idToken:m}:null},y=function(h){var m=h.excalidrawAPI,C=h.getInitialLibraryItems,U=(0,ve.useRef)(C);(0,ve.useEffect)(function(){if(m){var V=function(){var F=(0,k.Z)(f().mark(function X(le){var de,fe,pe,ne,oe,be;return f().wrap(function(Me){for(;;)switch(Me.prev=Me.next){case 0:return de=le.libraryUrl,fe=le.idToken,pe=new Promise(function(){var Ge=(0,k.Z)(f().mark(function qe(Ne,Pe){var Re,Ze;return f().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:return Ie.prev=0,Ie.next=3,fetch(decodeURIComponent(de));case 3:return Re=Ie.sent,Ie.next=6,Re.blob();case 6:Ze=Ie.sent,Ne(Ze),Ie.next=13;break;case 10:Ie.prev=10,Ie.t0=Ie.catch(0),Pe(Ie.t0);case 13:case"end":return Ie.stop()}},qe,null,[[0,10]])}));return function(qe,Ne){return Ge.apply(this,arguments)}}()),ne=fe!==m.id,Me.next=5,ne&&document.hidden?new Promise(function(Ge){window.addEventListener("focus",function(){return Ge()},{once:!0})}):null;case 5:return Me.prev=5,Me.next=8,m.updateLibrary({libraryItems:pe,prompt:ne,merge:!0,defaultStatus:"published",openLibraryMenu:!0});case 8:Me.next=13;break;case 10:throw Me.prev=10,Me.t0=Me.catch(5),Me.t0;case 13:return Me.prev=13,window.location.hash.includes(ke.ah.addLibrary)?((oe=new URLSearchParams(window.location.hash.slice(1))).delete(ke.ah.addLibrary),window.history.replaceState({},ke.iC,"#".concat(oe.toString()))):window.location.search.includes(ke.UO.addLibrary)&&((be=new URLSearchParams(window.location.search)).delete(ke.UO.addLibrary),window.history.replaceState({},ke.iC,"?".concat(be.toString()))),Me.finish(13);case 16:case"end":return Me.stop()}},X,null,[[5,10,13,16]])}));return function(X){return F.apply(this,arguments)}}(),D=function(F){F.preventDefault();var X=a();X&&(F.stopImmediatePropagation(),window.history.replaceState({},"",F.oldURL),V(X))};U.current&&m.updateLibrary({libraryItems:U.current()});var P=a();return P&&V(P),window.addEventListener(ke.Ks.HASHCHANGE,D),function(){window.removeEventListener(ke.Ks.HASHCHANGE,D)}}},[m])}},7994:function(ue,n,r){r.d(n,{ET:function(){return O},lY:function(){return v},nu:function(){return i},wJ:function(){return y}});var A=r(2577),k=r(7169),b=r(7651),w=r(4183),N=r(4643),M=r(9937),f=r(6853),d=r(7422),j=r(583),L=r(9827),H=r(4761),x=r(8020);function S(h,m){var C=typeof Symbol<"u"&&h[Symbol.iterator]||h["@@iterator"];if(!C){if(Array.isArray(h)||(C=function(X,le){if(X){if(typeof X=="string")return q(X,le);var de=Object.prototype.toString.call(X).slice(8,-1);if(de==="Object"&&X.constructor&&(de=X.constructor.name),de==="Map"||de==="Set")return Array.from(X);if(de==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(de))return q(X,le)}}(h))||m){C&&(h=C);var U=0,V=function(){};return{s:V,n:function(){return U>=h.length?{done:!0}:{done:!1,value:h[U++]}},e:function(X){throw X},f:V}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var D,P=!0,F=!1;return{s:function(){C=C.call(h)},n:function(){var X=C.next();return P=X.done,X},e:function(X){F=!0,D=X},f:function(){try{P||C.return==null||C.return()}finally{if(F)throw D}}}}function q(h,m){(m==null||m>h.length)&&(m=h.length);for(var C=0,U=new Array(m);C<m;C++)U[C]=h[C];return U}function ve(h,m){var C=Object.keys(h);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(h);m&&(U=U.filter(function(V){return Object.getOwnPropertyDescriptor(h,V).enumerable})),C.push.apply(C,U)}return C}function ke(h){for(var m=1;m<arguments.length;m++){var C=arguments[m]!=null?arguments[m]:{};m%2?ve(Object(C),!0).forEach(function(U){(0,k.Z)(h,U,C[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(C)):ve(Object(C)).forEach(function(U){Object.defineProperty(h,U,Object.getOwnPropertyDescriptor(C,U))})}return h}var Se={selection:!0,text:!0,rectangle:!0,diamond:!0,ellipse:!0,line:!0,image:!0,arrow:!0,freedraw:!0,eraser:!1,custom:!0,frame:!0,embeddable:!0,hand:!0,laser:!1},ge=function(h){return Object.keys(M.ut).includes(h)?M.ut[h]:M.rk},J=function(h){return h?ke(ke({},h),{},{focus:h.focus||0}):null},Q=function(h,m){var C,U,V,D,P,F,X,le,de,fe,pe,ne,oe,be,Me={type:m.type||h.type,version:h.version||1,versionNonce:(C=h.versionNonce)!==null&&C!==void 0?C:0,isDeleted:(U=h.isDeleted)!==null&&U!==void 0&&U,id:h.id||(0,N.kb)(),fillStyle:h.fillStyle||M.HN.fillStyle,strokeWidth:h.strokeWidth||M.HN.strokeWidth,strokeStyle:(V=h.strokeStyle)!==null&&V!==void 0?V:M.HN.strokeStyle,roughness:(D=h.roughness)!==null&&D!==void 0?D:M.HN.roughness,opacity:h.opacity==null?M.HN.opacity:h.opacity,angle:h.angle||0,x:(P=(F=m.x)!==null&&F!==void 0?F:h.x)!==null&&P!==void 0?P:0,y:(X=(le=m.y)!==null&&le!==void 0?le:h.y)!==null&&X!==void 0?X:0,strokeColor:h.strokeColor||M.HN.strokeColor,backgroundColor:h.backgroundColor||M.HN.backgroundColor,width:h.width||0,height:h.height||0,seed:(de=h.seed)!==null&&de!==void 0?de:1,groupIds:(fe=h.groupIds)!==null&&fe!==void 0?fe:[],frameId:(pe=h.frameId)!==null&&pe!==void 0?pe:null,roundness:h.roundness?h.roundness:h.strokeSharpness==="round"?{type:(0,w.QI)(h.type)?M.a6.LEGACY:M.a6.PROPORTIONAL_RADIUS}:null,boundElements:h.boundElementIds?h.boundElementIds.map(function(Ge){return{type:"arrow",id:Ge}}):(ne=h.boundElements)!==null&&ne!==void 0?ne:[],updated:(oe=h.updated)!==null&&oe!==void 0?oe:(0,L.C3)(),link:h.link?(0,x.$u)(h.link):null,locked:(be=h.locked)!==null&&be!==void 0&&be};return"customData"in h&&(Me.customData=h.customData),M.WR in h&&(Me[M.WR]=h[M.WR]),ke(ke(ke({},Me),(0,b.Qp)(Me)),m)},K=function(h,m){if(h.boundElements){var C=h.boundElements.slice(),U=new Set;h.boundElements=C.reduce(function(V,D){var P=m.get(D.id);if(P&&!U.has(D.id)){if(U.add(D.id),P.isDeleted)return V;V.push(D),(0,w.iB)(P)&&!P.containerId&&(P.containerId=h.id)}return V},[])}},T=function(h,m){var C=h.containerId?m.get(h.containerId):null;if(C){if(!h.isDeleted&&C.boundElements&&!C.boundElements.find(function(V){return V.id===h.id})){var U=(C.boundElements||(C.boundElements=[])).slice();U.push({type:"text",id:h.id}),C.boundElements=U}}else h.containerId=null},B=function(h,m){h.frameId&&(m.get(h.frameId)||(h.frameId=null))},O=function(h,m,C){var U=new Set,V=m?(0,L.xn)(m):null,D=(h||[]).reduce(function(de,fe){if(fe.type!=="selection"&&!(0,b.QD)(fe)){var pe=function(oe){var be,Me,Ge=arguments.length>1&&arguments[1]!==void 0&&arguments[1];switch(oe.type){case"text":var qe=oe.fontSize,Ne=oe.fontFamily;if("font"in oe){var Pe=oe.font.split(" "),Re=(0,A.Z)(Pe,2),Ze=Re[0],Ie=Re[1];qe=parseFloat(Ze),Ne=ge(Ie)}var Ee=typeof oe.text=="string"&&oe.text||"",xe=oe.lineHeight||(oe.height?(0,H.$2)(oe):(0,H.PT)(oe.fontFamily)),Z=(0,H.R8)(oe.text,(0,L.mO)(oe),xe);return oe=Q(oe,{fontSize:qe,fontFamily:Ne,text:Ee,textAlign:oe.textAlign||M.Hg,verticalAlign:oe.verticalAlign||M.hs,containerId:(be=oe.containerId)!==null&&be!==void 0?be:null,originalText:oe.originalText||Ee,lineHeight:xe,baseline:Z}),Ee||oe.isDeleted||(oe=ke(ke({},oe),{},{originalText:Ee,isDeleted:!0}),oe=(0,j.ZP)(oe)),Ge&&(oe=ke(ke({},oe),(0,b.JZ)(oe))),oe;case"freedraw":return Q(oe,{points:oe.points,lastCommittedPoint:null,simulatePressure:oe.simulatePressure,pressures:oe.pressures});case"image":return Q(oe,{status:oe.status||"pending",fileId:oe.fileId,scale:oe.scale||[1,1]});case"line":case"draw":case"arrow":var u=oe,g=u.startArrowhead,z=g===void 0?null:g,Y=u.endArrowhead,te=Y===void 0?oe.type==="arrow"?"arrow":null:Y,ae=oe.x,ce=oe.y,ye=!Array.isArray(oe.points)||oe.points.length<2?[[0,0],[oe.width,oe.height]]:oe.points;if(ye[0][0]!==0||ye[0][1]!==0){var je=d._.getNormalizedPoints(oe);ye=je.points,ae=je.x,ce=je.y}return Q(oe,{type:oe.type==="draw"?"line":oe.type,startBinding:J(oe.startBinding),endBinding:J(oe.endBinding),lastCommittedPoint:null,startArrowhead:z,endArrowhead:te,points:ye,x:ae,y:ce});case"ellipse":case"rectangle":case"diamond":return Q(oe,{});case"embeddable":return Q(oe,{validated:null});case"frame":return Q(oe,{name:(Me=oe.name)!==null&&Me!==void 0?Me:null})}return null}(fe,C==null?void 0:C.refreshDimensions);if(pe){var ne=V==null?void 0:V.get(fe.id);ne&&ne.version>pe.version&&(pe=(0,j.ZP)(pe,ne.version)),U.has(pe.id)&&(pe=ke(ke({},pe),{},{id:(0,N.kb)()})),U.add(pe.id),de.push(pe)}}return de},[]);if(C==null||!C.repairBindings)return D;var P,F=(0,L.xn)(D),X=S(D);try{for(X.s();!(P=X.n()).done;){var le=P.value;le.frameId&&B(le,F),(0,w.iB)(le)&&le.containerId?T(le,F):le.boundElements&&K(le,F)}}catch(de){X.e(de)}finally{X.f()}return D},R=function(h,m,C){var U=m[h];return U!==void 0?U:C[h]},E={isSidebarDocked:function(h,m){var C;return["defaultSidebarDockedPreference",(C=h.isSidebarDocked)!==null&&C!==void 0?C:R("defaultSidebarDockedPreference",h,m)]}},v=function(h,m){var C,U,V,D;h=h||{};for(var P=(0,f.im)(),F={},X=0,le=Object.keys(E);X<le.length;X++){var de=le[X];if(de in h){var fe=E[de](h,P),pe=(0,A.Z)(fe,2),ne=pe[0],oe=pe[1];F[ne]=oe}}for(var be=0,Me=Object.entries(P);be<Me.length;be++){var Ge=(0,A.Z)(Me[be],2),qe=Ge[0],Ne=Ge[1],Pe=h[qe],Re=m?m[qe]:void 0;F[qe]=Pe!==void 0?Pe:Re!==void 0?Re:Ne}return ke(ke({},F),{},{cursorButton:(m==null?void 0:m.cursorButton)||"up",penDetected:(C=m==null?void 0:m.penDetected)!==null&&C!==void 0?C:!!h.penMode&&(U=h.penDetected)!==null&&U!==void 0&&U,activeTool:ke(ke({},(0,L.Om)(P,F.activeTool.type&&Se[F.activeTool.type]?F.activeTool:{type:"selection"})),{},{lastActiveTool:null,locked:(V=F.activeTool.locked)!==null&&V!==void 0&&V}),zoom:typeof h.zoom=="number"?{value:h.zoom}:(D=h.zoom)!==null&&D!==void 0&&D.value?h.zoom:P.zoom,openSidebar:typeof h.openSidebar=="string"?{name:M.Cc.name}:F.openSidebar})},i=function(h,m,C,U){return{elements:O(h==null?void 0:h.elements,C,U),appState:v(h==null?void 0:h.appState,m||null),files:(h==null?void 0:h.files)||{}}},a=function(h){var m=O((0,b.Lm)(h.elements),null);return m.length?ke(ke({},h),{},{elements:m}):null},y=function(){var h,m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],C=arguments.length>1?arguments[1]:void 0,U=[],V=S(m);try{for(V.s();!(h=V.n()).done;){var D=h.value;if(Array.isArray(D)){var P=a({status:C,elements:D,id:(0,N.kb)(),created:Date.now()});P&&U.push(P)}else{var F=D,X=a(ke(ke({},F),{},{id:F.id||(0,N.kb)(),status:F.status||C,created:F.created||Date.now()}));X&&U.push(X)}}}catch(le){V.e(le)}finally{V.f()}return U}},6199:function(ue,n,r){r.d(n,{w:function(){return B}});var A=r(2577),k=r(5169),b=r(8821),w=r(7169),N=r(9937),M=r(7651),f=r(9645),d=r(5742),j=r(4761),L=r(9827),H=r(5999),x=r(4643);function S(O,R){var E=typeof Symbol<"u"&&O[Symbol.iterator]||O["@@iterator"];if(!E){if(Array.isArray(O)||(E=function(m,C){if(m){if(typeof m=="string")return q(m,C);var U=Object.prototype.toString.call(m).slice(8,-1);if(U==="Object"&&m.constructor&&(U=m.constructor.name),U==="Map"||U==="Set")return Array.from(m);if(U==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U))return q(m,C)}}(O))||R){E&&(O=E);var v=0,i=function(){};return{s:i,n:function(){return v>=O.length?{done:!0}:{done:!1,value:O[v++]}},e:function(m){throw m},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,y=!0,h=!1;return{s:function(){E=E.call(O)},n:function(){var m=E.next();return y=m.done,m},e:function(m){h=!0,a=m},f:function(){try{y||E.return==null||E.return()}finally{if(h)throw a}}}}function q(O,R){(R==null||R>O.length)&&(R=O.length);for(var E=0,v=new Array(R);E<R;E++)v[E]=O[E];return v}function ve(O,R){var E=Object.keys(O);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(O);R&&(v=v.filter(function(i){return Object.getOwnPropertyDescriptor(O,i).enumerable})),E.push.apply(E,v)}return E}function ke(O){for(var R=1;R<arguments.length;R++){var E=arguments[R]!=null?arguments[R]:{};R%2?ve(Object(E),!0).forEach(function(v){(0,w.Z)(O,v,E[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(E)):ve(Object(E)).forEach(function(v){Object.defineProperty(O,v,Object.getOwnPropertyDescriptor(E,v))})}return O}var Se=100,ge=0,J=100,Q=function(O,R){var E=(0,d.VL)(ke(ke({x:0,y:0,textAlign:N.I8.CENTER,verticalAlign:N.oX.MIDDLE},R),{},{containerId:O.id,strokeColor:R.strokeColor||O.strokeColor}));return Object.assign(O,{boundElements:(O.boundElements||[]).concat({type:"text",id:E.id})}),(0,M.oN)(E,O),[O,E]},K=function(O,R,E,v){var i,a;if(Object.assign(O,{startBinding:(O==null?void 0:O.startBinding)||null,endBinding:O.endBinding||null}),R){var y,h,m,C=(y=R==null?void 0:R.width)!==null&&y!==void 0?y:J,U=(h=R==null?void 0:R.height)!==null&&h!==void 0?h:J;R.id&&((m=v.getElement(R.id))||console.error("No element for start binding with id ".concat(R.id," found")));var V=R.x||O.x-C,D=R.y||O.y-U/2,P=m?m.type:R.type;if(P){if(P==="text"){var F="";m&&m.type==="text"?F=m.text:R.type==="text"&&(F=R.text),F||console.error("No text found for start binding text element for ".concat(O.id)),i=(0,d.VL)(ke(ke(ke({x:V,y:D,type:"text"},m),R),{},{text:F})),Object.assign(i,{x:R.x||O.x-i.width,y:R.y||O.y-i.height/2})}else switch(P){case"rectangle":case"ellipse":case"diamond":i=(0,M.Up)(ke(ke(ke({x:V,y:D,width:C,height:U},m),R),{},{type:P}));break;default:(0,L.vE)(O,'Unhandled element start type "'.concat(R.type,'"'),!0)}(0,f.UZ)(O,i,"start")}}if(E){var X,le,de,fe=(X=E==null?void 0:E.height)!==null&&X!==void 0?X:J,pe=(le=E==null?void 0:E.width)!==null&&le!==void 0?le:J;E.id&&((de=v.getElement(E.id))||console.error("No element for end binding with id ".concat(E.id," found")));var ne=E.x||O.x+O.width,oe=E.y||O.y-fe/2,be=de?de.type:E.type;if(be){if(be==="text"){var Me="";de&&de.type==="text"?Me=de.text:E.type==="text"&&(Me=E.text),Me||console.error("No text found for end binding text element for ".concat(O.id)),a=(0,d.VL)(ke(ke(ke({x:ne,y:oe,type:"text"},de),E),{},{text:Me})),Object.assign(a,{y:E.y||O.y-a.height/2})}else switch(be){case"rectangle":case"ellipse":case"diamond":a=(0,M.Up)(ke(ke(ke({x:ne,y:oe,width:pe,height:fe},de),E),{},{type:be}));break;default:(0,L.vE)(O,'Unhandled element end type "'.concat(be,'"'),!0)}(0,f.UZ)(O,a,"end")}}var Ge=O.points.length-1,qe=.5,Ne=(0,L.xU)(O.points);return O.points[Ge][0]>O.points[Ge-1][0]&&(Ne[0][0]=qe,Ne[Ge][0]-=qe),O.points[Ge][0]<O.points[Ge-1][0]&&(Ne[0][0]=-.5,Ne[Ge][0]+=qe),O.points[Ge][1]>O.points[Ge-1][1]&&(Ne[0][1]=qe,Ne[Ge][1]-=qe),O.points[Ge][1]<O.points[Ge-1][1]&&(Ne[0][1]=-.5,Ne[Ge][1]+=qe),Object.assign(O,{points:Ne}),{linearElement:O,startBoundElement:i,endBoundElement:a}},T=(0,k.Z)(function O(){var R=this;(0,b.Z)(this,O),this.excalidrawElements=new Map,this.add=function(E){E&&R.excalidrawElements.set(E.id,E)},this.getElements=function(){return Array.from(R.excalidrawElements.values())},this.getElement=function(E){return R.excalidrawElements.get(E)}}),B=function(O,R){if(!O)return[];var E,v=(0,L.xU)(O),i=new T,a=new Map,y=new Map,h=S(v);try{for(h.s();!(E=h.n()).done;){var m=E.value,C=void 0,U=m.id;switch((R==null?void 0:R.regenerateIds)!==!1&&Object.assign(m,{id:(0,x.kb)()}),m.type){case"rectangle":case"ellipse":case"diamond":var V,D,P=m!=null&&(V=m.label)!==null&&V!==void 0&&V.text&&m.width===void 0?0:(m==null?void 0:m.width)||J,F=m!=null&&(D=m.label)!==null&&D!==void 0&&D.text&&m.height===void 0?0:(m==null?void 0:m.height)||J;C=(0,M.Up)(ke(ke({},m),{},{width:P,height:F}));break;case"line":var X=m.width||Se,le=m.height||ge;C=(0,M.y8)(ke({width:X,height:le,points:[[0,0],[X,le]]},m));break;case"arrow":var de=m.width||Se,fe=m.height||ge;C=(0,M.y8)(ke({width:de,height:fe,endArrowhead:"arrow",points:[[0,0],[de,fe]]},m)),Object.assign(C,(0,H.k)(C.points));break;case"text":var pe,ne=(m==null?void 0:m.fontFamily)||N.rk,oe=(m==null?void 0:m.fontSize)||N.n5,be=(m==null?void 0:m.lineHeight)||(0,j.PT)(ne),Me=(pe=m.text)!==null&&pe!==void 0?pe:"",Ge=(0,j.bG)(Me),qe=(0,j.X1)(Ge,(0,L.mO)({fontFamily:ne,fontSize:oe}),be);C=(0,d.VL)(ke({width:qe.width,height:qe.height,fontFamily:ne,fontSize:oe},m));break;case"image":C=(0,d.vw)(ke({width:(m==null?void 0:m.width)||J,height:(m==null?void 0:m.height)||J},m));break;case"frame":C=(0,d.M3)(ke({x:0,y:0},m));break;case"freedraw":case"embeddable":C=m;break;default:C=m,(0,L.vE)(m,'Unhandled element type "'.concat(m.type,'"'),!0)}i.getElement(C.id)?console.error("Duplicate id found for ".concat(C.id)):(i.add(C),a.set(C.id,m),U&&y.set(U,C.id))}}catch(wt){h.e(wt)}finally{h.f()}var Ne,Pe=S(a);try{for(Pe.s();!(Ne=Pe.n()).done;){var Re=(0,A.Z)(Ne.value,2),Ze=Re[0],Ie=Re[1],Ee=i.getElement(Ze);switch(Ie.type){case"rectangle":case"ellipse":case"diamond":case"arrow":var xe;if((xe=Ie.label)!==null&&xe!==void 0&&xe.text){var Z=Q(Ee,Ie==null?void 0:Ie.label),u=(0,A.Z)(Z,2),g=u[0],z=u[1];if(i.add(g),i.add(z),g.type==="arrow"){var Y=Ie.type==="arrow"?Ie==null?void 0:Ie.start:void 0,te=Ie.type==="arrow"?Ie==null?void 0:Ie.end:void 0;if(Y&&Y.id){var ae=y.get(Y.id);ae&&Object.assign(Y,{id:ae})}if(te&&te.id){var ce=y.get(te.id);ce&&Object.assign(te,{id:ce})}var ye=K(g,Y,te,i),je=ye.linearElement,Be=ye.startBoundElement,Qe=ye.endBoundElement;g=je,i.add(je),i.add(Be),i.add(Qe)}}else if(Ie.type==="arrow"){var rt=Ie.start,Ye=Ie.end;if(rt&&rt.id){var tt=y.get(rt.id);Object.assign(rt,{id:tt})}if(Ye&&Ye.id){var ht=y.get(Ye.id);Object.assign(Ye,{id:ht})}var gt=K(Ee,rt,Ye,i),Ue=gt.linearElement,Ce=gt.startBoundElement,Le=gt.endBoundElement;i.add(Ue),i.add(Ce),i.add(Le)}}}}catch(wt){Pe.e(wt)}finally{Pe.f()}var et,ft=S(a);try{var xt=function(){var wt=(0,A.Z)(et.value,2),Rt=wt[0],It=wt[1];if(It.type!=="frame")return"continue";var At=i.getElement(Rt);if(!At)throw new Error("Excalidraw element with id ".concat(Rt," doesn't exist"));var Xt=[];It.children.forEach(function(Lt){var Wt,qt=y.get(Lt);if(!qt)throw new Error("Element with ".concat(Lt," wasn't mapped correctly"));var sr=i.getElement(qt);if(!sr)throw new Error("Frame element with id ".concat(qt," doesn't exist"));Object.assign(sr,{frameId:At.id}),sr==null||(Wt=sr.boundElements)===null||Wt===void 0||Wt.forEach(function(cr){var Sr=i.getElement(cr.id);if(!Sr)throw new Error("Bound element with id ".concat(cr.id," doesn't exist"));Object.assign(Sr,{frameId:At.id}),Xt.push(Sr)}),Xt.push(sr)});var tr=(0,M.KP)(Xt),Gt=(0,A.Z)(tr,4),Jt=Gt[0],gr=Gt[1],Pt=Gt[2],St=Gt[3];Jt-=10,gr-=10,Pt+=10,St+=10;var Zt=Math.max(At==null?void 0:At.width,Pt-Jt),Tt=Math.max(At==null?void 0:At.height,St-gr);Object.assign(At,{x:Jt,y:gr,width:Zt,height:Tt})};for(ft.s();!(et=ft.n()).done;)xt()}catch(wt){ft.e(wt)}finally{ft.f()}return i.getElements()}},8020:function(ue,n,r){r.d(n,{$u:function(){return b},q$:function(){return w},tO:function(){return k},ye:function(){return N}});var A=r(5779),k=function(M){return M.replace(/"/g,"&quot;")},b=function(M){return(M=M.trim())?(0,A.N)(k(M)):M},w=function(M){return!!(M!=null&&M.includes(location.origin)||M!=null&&M.startsWith("/"))},N=function(M){if((M=b(M)).startsWith("/"))return"".concat(location.origin).concat(M);try{new URL(M)}catch{return"about:blank"}return M}},5992:function(ue,n,r){r.d(n,{rj:function(){return fe},nW:function(){return oe},nz:function(){return Me},sw:function(){return qe},lV:function(){return Ee},Ni:function(){return Pe},wq:function(){return Ne},Pp:function(){return Ze}});var A=r(7169),k=r(2577),b=r(9827),w=r(761),N=r(583),M=r(2767),f=r(1512),d=r(8935),j=r(8227),L=r(9787),H=r(45),x=r(5491),S=r(9660),q=r(2361),ve=r(9937),ke=r(8925),Se=r(4105),ge=r(3528),J=r(7651),Q=r(8020),K=r(3379),T=r.n(K),B=r(7795),O=r.n(B),R=r(569),E=r.n(R),v=r(3565),i=r.n(v),a=r(9216),y=r.n(a),h=r(4589),m=r.n(h),C=r(5260),U={};U.styleTagTransform=m(),U.setAttributes=i(),U.insert=E().bind(null,"head"),U.domAPI=O(),U.insertStyleElement=y(),T()(C.Z,U),C.Z&&C.Z.locals&&C.Z.locals;var V=r(3646),D=r(8242),P=r(4183),F=r(2921),X=r(1020);function le(Z,u){var g=Object.keys(Z);if(Object.getOwnPropertySymbols){var z=Object.getOwnPropertySymbols(Z);u&&(z=z.filter(function(Y){return Object.getOwnPropertyDescriptor(Z,Y).enumerable})),g.push.apply(g,z)}return g}function de(Z){for(var u=1;u<arguments.length;u++){var g=arguments[u]!=null?arguments[u]:{};u%2?le(Object(g),!0).forEach(function(z){(0,A.Z)(Z,z,g[z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Z,Object.getOwnPropertyDescriptors(g)):le(Object(g)).forEach(function(z){Object.defineProperty(Z,z,Object.getOwnPropertyDescriptor(g,z))})}return Z}var fe=document.createElement("img");fe.src="data:".concat(ve.LO.svg,", ").concat(encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#1971c2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>'));var pe=!1,ne=new Map,oe=function(Z){var u=Z.element,g=Z.setAppState,z=Z.onLinkOpen,Y=Z.setToast,te=(0,D.gF)(),ae=(0,D.hY)(),ce=u.link||"",ye=(0,L.useState)(ce),je=(0,k.Z)(ye,2),Be=je[0],Qe=je[1],rt=(0,L.useRef)(null),Ye=te.showHyperlinkPopup==="editor",tt=(0,L.useCallback)(function(){if(rt.current){var Le=(0,Q.$u)(rt.current.value)||null;if(!u.link&&Le&&(0,V.L)("hyperlink","create"),(0,P.gs)(u)){var et;if(((et=te.activeEmbeddable)===null||et===void 0?void 0:et.element)===u&&g({activeEmbeddable:null}),!Le)return void(0,N.DR)(u,{validated:!1,link:null});if((0,w.xm)(Le,ae.validateEmbeddable)){var ft=u.width,xt=u.height,wt=(0,w.LM)(Le);wt!=null&&wt.warning&&Y({message:wt.warning,closable:!0});var Rt=wt?wt.aspectRatio.w/wt.aspectRatio.h:1,It=ne.get(u.id)!==u.link;(0,N.DR)(u,de(de({},It?{width:(wt==null?void 0:wt.type)==="video"?ft>xt?ft:xt*Rt:ft,height:(wt==null?void 0:wt.type)==="video"&&ft>xt?ft/Rt:xt}:{}),{},{validated:!0,link:Le})),F.R.delete(u),ne.has(u.id)&&ne.delete(u.id)}else Le&&Y({message:(0,j.t)("toast.unableToEmbed"),closable:!0}),u.link&&ne.set(u.id,u.link),(0,N.DR)(u,{validated:!1,link:Le}),F.R.delete(u)}else(0,N.DR)(u,{link:Le})}},[u,Y,ae.validateEmbeddable,te.activeEmbeddable,g]);(0,L.useLayoutEffect)(function(){return function(){tt()}},[tt]),(0,L.useEffect)(function(){var Le=null,et=function(ft){Ye||(Le&&clearTimeout(Le),xe(u,te,[ft.clientX,ft.clientY])&&(Le=window.setTimeout(function(){g({showHyperlinkPopup:!1})},500)))};return window.addEventListener(ve.Ks.POINTER_MOVE,et,!1),function(){window.removeEventListener(ve.Ks.POINTER_MOVE,et,!1),Le&&clearTimeout(Le)}},[te,u,Ye,g]);var ht=(0,L.useCallback)(function(){(0,V.L)("hyperlink","delete"),(0,N.DR)(u,{link:null}),Ye&&(rt.current.value=""),g({showHyperlinkPopup:!1})},[g,u,Ye]),gt=be(u,te),Ue=gt.x,Ce=gt.y;return te.draggingElement||te.resizingElement||te.isRotating||te.openMenu||te.viewModeEnabled?null:(0,X.jsxs)("div",{className:"excalidraw-hyperlinkContainer",style:{top:"".concat(Ce,"px"),left:"".concat(Ue,"px"),width:320,padding:5},onClick:function(){u.link||Ye||g({showHyperlinkPopup:"editor"})},children:[Ye?(0,X.jsx)("input",{className:(0,H.Z)("excalidraw-hyperlinkContainer-input"),placeholder:"Type or paste your link here",ref:rt,value:Be,onChange:function(Le){return Qe(Le.target.value)},autoFocus:!0,onKeyDown:function(Le){Le.stopPropagation(),Le[x.tW.CTRL_OR_CMD]&&Le.key===x.tW.K&&Le.preventDefault(),Le.key!==x.tW.ENTER&&Le.key!==x.tW.ESCAPE||(tt(),g({showHyperlinkPopup:"info"}))}}):u.link?(0,X.jsx)("a",{href:(0,Q.$u)(u.link||""),className:"excalidraw-hyperlinkContainer-link",target:(0,Q.q$)(u.link)?"_self":"_blank",onClick:function(Le){if(u.link&&z){var et=(0,b.ag)(ve.Ks.EXCALIDRAW_LINK,Le.nativeEvent);z(de(de({},u),{},{link:(0,Q.$u)(u.link)}),et),et.defaultPrevented&&Le.preventDefault()}},rel:"noopener noreferrer",children:u.link}):(0,X.jsx)("div",{className:"excalidraw-hyperlinkContainer-link",children:(0,j.t)("labels.link.empty")}),(0,X.jsxs)("div",{className:"excalidraw-hyperlinkContainer__buttons",children:[!Ye&&(0,X.jsx)(f.V,{type:"button",title:(0,j.t)("buttons.edit"),"aria-label":(0,j.t)("buttons.edit"),label:(0,j.t)("buttons.edit"),onClick:function(){(0,V.L)("hyperlink","edit","popup-ui"),g({showHyperlinkPopup:"editor"})},className:"excalidraw-hyperlinkContainer--edit",icon:d.Pm}),ce&&!(0,P.gs)(u)&&(0,X.jsx)(f.V,{type:"button",title:(0,j.t)("buttons.remove"),"aria-label":(0,j.t)("buttons.remove"),label:(0,j.t)("buttons.remove"),onClick:ht,className:"excalidraw-hyperlinkContainer--remove",icon:d.XH})]})]})},be=function(Z,u){var g=(0,J.qf)(Z),z=(0,k.Z)(g,2),Y=z[0],te=z[1],ae=(0,b._i)({sceneX:Y+Z.width/2,sceneY:te},u),ce=ae.x,ye=ae.y;return{x:ce-u.offsetLeft-160,y:ye-u.offsetTop-85}},Me=(0,M.z)({name:"hyperlink",perform:function(Z,u){return u.showHyperlinkPopup!=="editor"&&{elements:Z,appState:de(de({},u),{},{showHyperlinkPopup:"editor",openMenu:null}),commitToHistory:!0}},trackEvent:{category:"hyperlink",action:"click"},keyTest:function(Z){return Z[x.tW.CTRL_OR_CMD]&&Z.key===x.tW.K},contextItemLabel:function(Z,u){return Ge(Z,u)},predicate:function(Z,u){return(0,Se.eD)(Z,u).length===1},PanelComponent:function(Z){var u=Z.elements,g=Z.appState,z=Z.updateData,Y=(0,Se.eD)(u,g);return(0,X.jsx)(f.V,{type:"button",icon:d.xP,"aria-label":(0,j.t)(Ge(u,g)),title:"".concat((0,P.gs)(u[0])?(0,j.t)("labels.link.labelEmbed"):(0,j.t)("labels.link.label")," - ").concat((0,b.uY)("CtrlOrCmd+K")),onClick:function(){return z(null)},selected:Y.length===1&&!!Y[0].link})}}),Ge=function(Z,u){var g=(0,Se.eD)(Z,u);return g[0].link?(0,P.gs)(g[0])?"labels.link.editEmbed":"labels.link.edit":(0,P.gs)(g[0])?"labels.link.createEmbed":"labels.link.create"},qe=function(Z,u,g){var z=(0,k.Z)(Z,4),Y=z[0],te=z[1],ae=z[2],ce=z[3],ye=S.Dn,je=ye/g.zoom.value,Be=ye/g.zoom.value,Qe=ye/g.zoom.value,rt=(Y+ae)/2,Ye=(te+ce)/2,tt=(ye-8)/(2*g.zoom.value),ht=4/g.zoom.value,gt=ae+ht-tt,Ue=te-ht-Qe+tt,Ce=(0,q.U1)(gt+je/2,Ue+Be/2,rt,Ye,u),Le=(0,k.Z)(Ce,2);return[Le[0]-je/2,Le[1]-Be/2,je,Be]},Ne=function(Z,u,g){var z=(0,k.Z)(g,2),Y=z[0],te=z[1],ae=4/u.zoom.value,ce=(0,J.qf)(Z),ye=(0,k.Z)(ce,4),je=ye[0],Be=ye[1],Qe=ye[2],rt=ye[3],Ye=qe([je,Be,Qe,rt],Z.angle,u),tt=(0,k.Z)(Ye,4),ht=tt[0],gt=tt[1],Ue=tt[2],Ce=tt[3];return Y>ht-ae&&Y<ht+ae+Ue&&te>gt-ae&&te<gt+Ce+ae},Pe=function(Z,u,g,z){var Y=(0,k.Z)(g,2),te=Y[0],ae=Y[1];if(!Z.link||u.selectedElementIds[Z.id])return!1;var ce=4/u.zoom.value;return!(z||!u.viewModeEnabled||!(0,ge.pX)(Z,[te,ae],ce,null))||Ne(Z,u,[te,ae])},Re=null,Ze=function(Z,u){Re&&clearTimeout(Re),Re=window.setTimeout(function(){return Ie(Z,u)},ve.sA)},Ie=function(Z,u){if(Z.link){var g=(0,ke.bK)();g.classList.add("excalidraw-tooltip--visible"),g.style.maxWidth="20rem",g.textContent=Z.link;var z=(0,J.qf)(Z),Y=(0,k.Z)(z,4),te=Y[0],ae=Y[1],ce=Y[2],ye=Y[3],je=qe([te,ae,ce,ye],Z.angle,u),Be=(0,k.Z)(je,4),Qe=Be[0],rt=Be[1],Ye=Be[2],tt=Be[3],ht=(0,b._i)({sceneX:Qe,sceneY:rt},u);(0,ke.Js)(g,{left:ht.x,top:ht.y,width:Ye,height:tt},"top"),(0,V.L)("hyperlink","tooltip","link-icon"),pe=!0}},Ee=function(){Re&&clearTimeout(Re),pe&&(pe=!1,(0,ke.bK)().classList.remove("excalidraw-tooltip--visible"))},xe=function(Z,u,g){var z=(0,k.Z)(g,2),Y=z[0],te=z[1],ae=(0,b.dE)({clientX:Y,clientY:te},u),ce=ae.x,ye=ae.y,je=15/u.zoom.value;if((0,ge.pX)(Z,[ce,ye],je,null))return!1;var Be=(0,J.qf)(Z),Qe=(0,k.Z)(Be,3),rt=Qe[0],Ye=Qe[1],tt=Qe[2];if(ce>=rt&&ce<=tt&&ye>=Ye-85&&ye<=Ye)return!1;var ht=be(Z,u),gt=ht.x,Ue=ht.y;return!(Y>=gt-je&&Y<=gt+320+10+je&&te>=Ue-je&&te<=Ue+je+10+42)}},9645:function(ue,n,r){r.d(n,{$q:function(){return de},DK:function(){return B},H:function(){return O},HG:function(){return ke},N1:function(){return q},R:function(){return Q},UZ:function(){return K},Ww:function(){return i},Y9:function(){return E},ZB:function(){return C},cz:function(){return S},ek:function(){return X},el:function(){return ge}});var A=r(7169),k=r(2577),b=r(4105),w=r(4183),N=r(3528),M=r(583),f=r(457),d=r(7422),j=r(9827),L=r(5491),H=r(4761);function x(ne,oe){var be=Object.keys(ne);if(Object.getOwnPropertySymbols){var Me=Object.getOwnPropertySymbols(ne);oe&&(Me=Me.filter(function(Ge){return Object.getOwnPropertyDescriptor(ne,Ge).enumerable})),be.push.apply(be,Me)}return be}var S=function(ne){return!ne[L.tW.CTRL_OR_CMD]},q=function(ne){return ne.isBindingEnabled},ve=function(ne,oe){var be=[];return oe.forEach(function(Me){var Ge=ne.getNonDeletedElement(Me);Ge!=null&&be.push(Ge)}),be},ke=function(ne,oe,be){var Me=new Set,Ge=new Set;Se(ne,oe,be,"start",Me,Ge),Se(ne,be,oe,"end",Me,Ge);var qe=Array.from(Ge).filter(function(Ne){return!Me.has(Ne)});ve(f.Z.getScene(ne),qe).forEach(function(Ne){var Pe;(0,M.DR)(Ne,{boundElements:(Pe=Ne.boundElements)===null||Pe===void 0?void 0:Pe.filter(function(Re){return Re.type!=="arrow"||Re.id!==ne.id})})})},Se=function(ne,oe,be,Me,Ge,qe){if(oe!=="keep")if(oe!=null)be!=null&&(be==="keep"?T(ne,oe,Me):Me!=="start"&&be.id===oe.id)||(K(ne,oe,Me),Ge.add(oe.id));else{var Ne=R(ne,Me);Ne!=null&&qe.add(Ne)}},ge=function(ne){ne.forEach(function(oe){(0,w.Mn)(oe)?ke(oe,V(oe,"start"),V(oe,"end")):(0,w.f0)(oe)&&J(oe)})},J=function(ne){P(ne).forEach(function(oe){var be=(0,k.Z)(oe,2),Me=be[0],Ge=be[1];return ke(Me,Ge==="end"?"keep":ne,Ge==="start"?"keep":ne)})},Q=function(ne,oe,be,Me){oe.startBoundElement!=null&&K(ne,oe.startBoundElement,"start");var Ge=E(Me,be);Ge==null||T(ne,Ge,"end")||K(ne,Ge,"end")},K=function(ne,oe,be){(0,M.DR)(ne,(0,A.Z)({},be==="start"?"startBinding":"endBinding",function(Me){for(var Ge=1;Ge<arguments.length;Ge++){var qe=arguments[Ge]!=null?arguments[Ge]:{};Ge%2?x(Object(qe),!0).forEach(function(Ne){(0,A.Z)(Me,Ne,qe[Ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Me,Object.getOwnPropertyDescriptors(qe)):x(Object(qe)).forEach(function(Ne){Object.defineProperty(Me,Ne,Object.getOwnPropertyDescriptor(qe,Ne))})}return Me}({elementId:oe.id},v(ne,oe,be)))),(0,j.xn)(oe.boundElements||[]).has(ne.id)||(0,M.DR)(oe,{boundElements:(oe.boundElements||[]).concat({id:ne.id,type:"arrow"})})},T=function(ne,oe,be){var Me=ne[be==="start"?"endBinding":"startBinding"];return B(ne,Me==null?void 0:Me.elementId,oe)},B=function(ne,oe,be){return oe===be.id&&ne.points.length<3},O=function(ne){ne.forEach(function(oe){(0,w.Mn)(oe)&&ke(oe,null,null)})},R=function(ne,oe){var be=oe==="start"?"startBinding":"endBinding",Me=ne[be];return Me==null?null:((0,M.DR)(ne,(0,A.Z)({},be,null)),Me.elementId)},E=function(ne,oe){return(0,b.QG)(oe.getNonDeletedElements(),function(be){return(0,w.f0)(be,!1)&&(0,N.uu)(be,ne)})},v=function(ne,oe,be){var Me=be==="start"?-1:1,Ge=Me===-1?0:ne.points.length-1,qe=Ge-Me,Ne=d._.getPointAtIndexGlobalCoordinates(ne,Ge),Pe=d._.getPointAtIndexGlobalCoordinates(ne,qe);return{focus:(0,N.T_)(oe,Pe,Ne),gap:Math.max(1,(0,N.oT)(oe,Ne))}},i=function(ne,oe){var be,Me=((be=ne.boundElements)!==null&&be!==void 0?be:[]).filter(function(Re){return Re.type==="arrow"});if(Me.length!==0){var Ge=oe??{},qe=Ge.newSize,Ne=Ge.simultaneouslyUpdated,Pe=y(Ne);ve(f.Z.getScene(ne),Me.map(function(Re){return Re.id})).forEach(function(Re){if((0,w.bt)(Re)){var Ze=ne;if(a(Re,Ze)){var Ie=m(Ze,Re.startBinding,qe),Ee=m(Ze,Re.endBinding,qe);Pe.has(Re.id)?(0,M.DR)(Re,{startBinding:Ie,endBinding:Ee}):(h(Re,"start",Ie,ne),h(Re,"end",Ee,ne),(0,H.WJ)(Re)&&(0,H.RB)(Re,!1))}}})}},a=function(ne,oe){var be,Me;return((be=ne.startBinding)===null||be===void 0?void 0:be.elementId)===oe.id||((Me=ne.endBinding)===null||Me===void 0?void 0:Me.elementId)===oe.id},y=function(ne){return new Set((ne||[]).map(function(oe){return oe.id}))},h=function(ne,oe,be,Me){if(!(be==null||be.elementId!==Me.id&&ne.points.length>2)){var Ge=f.Z.getScene(ne).getElement(be.elementId);if(Ge!=null){var qe,Ne=oe==="start"?-1:1,Pe=Ne===-1?0:ne.points.length-1,Re=Pe-Ne,Ze=d._.getPointAtIndexGlobalCoordinates(ne,Re),Ie=(0,N.j_)(Ge,be.focus,Ze);if(be.gap===0)qe=Ie;else{var Ee=(0,N.MZ)(Ge,Ze,Ie,be.gap);qe=Ee.length===0?Ie:Ee[0]}d._.movePoints(ne,[{index:Pe,point:d._.pointFromAbsoluteCoords(ne,qe)}],(0,A.Z)({},oe==="start"?"startBinding":"endBinding",be))}}},m=function(ne,oe,be){if(oe==null||be==null)return oe;var Me=oe.gap,Ge=oe.focus,qe=oe.elementId,Ne=be.width,Pe=be.height,Re=ne.width,Ze=ne.height;return{elementId:qe,gap:Math.max(1,Math.min((0,N.fb)(ne,Ne,Pe),Me*(Ne<Pe?Ne/Re:Pe/Ze))),focus:Ge}},C=function(ne){var oe=new Set(ne.map(function(be){return be.id}));return ne.flatMap(function(be){return(0,w.Mn)(be,!1)?U(be).filter(function(Me){return!oe.has(Me.id)}):(0,w.f0)(be,!1)?P(be).filter(function(Me){return!oe.has(Me[0].id)}):[]})},U=function(ne){return[V(ne,"start"),V(ne,"end")].filter(function(oe){return oe!=null})},V=function(ne,oe){return E(D(ne,oe),f.Z.getScene(ne))},D=function(ne,oe){var be=oe==="start"?0:-1;return(0,j.AK)(d._.getPointAtIndexGlobalCoordinates(ne,be))},P=function(ne){return f.Z.getScene(ne).getNonDeletedElements().map(function(oe){if(!(0,w.Mn)(oe,!1))return null;var be=F(oe,"start",ne),Me=F(oe,"end",ne);return be||Me?[oe,be&&Me?"both":be?"start":"end",ne]:null}).filter(function(oe){return oe!=null})},F=function(ne,oe,be){return ne[oe==="start"?"startBinding":"endBinding"]==null&&!T(ne,be,oe)&&(0,N.uu)(be,D(ne,oe))},X=function(ne,oe,be,Me){var Ge=new Set,qe=new Set,Ne=Me==="duplicatesServeAsOld";oe.forEach(function(Pe){var Re=Pe.boundElements;if(Re!=null&&Re.length>0&&(Re.forEach(function(Ee){Ne&&!be.has(Ee.id)&&Ge.add(Ee.id)}),qe.add(be.get(Pe.id))),(0,w.Mn)(Pe)){if(Pe.startBinding!=null){var Ze=Pe.startBinding.elementId;Ne&&!be.has(Ze)&&qe.add(Ze)}if(Pe.endBinding!=null){var Ie=Pe.endBinding.elementId;Ne&&!be.has(Ie)&&qe.add(Ie)}Pe.startBinding==null&&Pe.endBinding==null||Ge.add(be.get(Pe.id))}}),ne.filter(function(Pe){var Re=Pe.id;return Ge.has(Re)}).forEach(function(Pe){var Re=Pe.startBinding,Ze=Pe.endBinding;(0,M.DR)(Pe,{startBinding:le(Re,be),endBinding:le(Ze,be)})}),ne.filter(function(Pe){var Re=Pe.id;return qe.has(Re)}).forEach(function(Pe){var Re=Pe.boundElements;Re!=null&&Re.length>0&&(0,M.DR)(Pe,{boundElements:Re.map(function(Ze){return be.has(Ze.id)?{id:be.get(Ze.id),type:Ze.type}:Ze})})})},le=function(ne,oe){var be;if(ne==null)return null;var Me=ne.elementId;return{focus:ne.focus,gap:ne.gap,elementId:(be=oe.get(Me))!==null&&be!==void 0?be:Me}},de=function(ne,oe){var be=new Set(oe.map(function(Ge){return Ge.id})),Me=new Set;oe.forEach(function(Ge){var qe;(0,w.f0)(Ge)?(qe=Ge.boundElements)===null||qe===void 0||qe.forEach(function(Ne){be.has(Ne.id)||Me.add(Ne.id)}):(0,w.Mn)(Ge)&&(Ge.startBinding&&Me.add(Ge.startBinding.elementId),Ge.endBinding&&Me.add(Ge.endBinding.elementId))}),ne.filter(function(Ge){var qe=Ge.id;return Me.has(qe)}).forEach(function(Ge){(0,w.f0)(Ge)?(0,M.DR)(Ge,{boundElements:pe(Ge.boundElements,be)}):(0,w.Mn)(Ge)&&(0,M.DR)(Ge,{startBinding:fe(Ge.startBinding,be),endBinding:fe(Ge.endBinding,be)})})},fe=function(ne,oe){return ne==null||oe.has(ne.elementId)?null:ne},pe=function(ne,oe){return ne?ne.filter(function(be){return!oe.has(be.id)}):null}},4949:function(ue,n,r){r.d(n,{CM:function(){return K},GJ:function(){return ge},IX:function(){return O},KP:function(){return y},M$:function(){return J},Pi:function(){return a},UC:function(){return Q},Ut:function(){return C},Y5:function(){return v},hC:function(){return h},os:function(){return U},qf:function(){return Se},v2:function(){return V},wC:function(){return m}});var A=r(1930),k=r(2577),b=r(8821),w=r(5169),N=r(2361),M=r(9845),f=r(6049),d=r(4183),j=r(5999),L=r(4761),H=r(7422),x=r(2921),S=r(457);function q(D,P){var F=typeof Symbol<"u"&&D[Symbol.iterator]||D["@@iterator"];if(!F){if(Array.isArray(D)||(F=function(ne,oe){if(ne){if(typeof ne=="string")return ve(ne,oe);var be=Object.prototype.toString.call(ne).slice(8,-1);if(be==="Object"&&ne.constructor&&(be=ne.constructor.name),be==="Map"||be==="Set")return Array.from(ne);if(be==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(be))return ve(ne,oe)}}(D))||P){F&&(D=F);var X=0,le=function(){};return{s:le,n:function(){return X>=D.length?{done:!0}:{done:!1,value:D[X++]}},e:function(ne){throw ne},f:le}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var de,fe=!0,pe=!1;return{s:function(){F=F.call(D)},n:function(){var ne=F.next();return fe=ne.done,ne},e:function(ne){pe=!0,de=ne},f:function(){try{fe||F.return==null||F.return()}finally{if(pe)throw de}}}}function ve(D,P){(P==null||P>D.length)&&(P=D.length);for(var F=0,X=new Array(P);F<P;F++)X[F]=D[F];return X}var ke=function(){function D(){(0,b.Z)(this,D)}return(0,w.Z)(D,null,[{key:"getBounds",value:function(P){var F=D.boundsCache.get(P);if(F!=null&&F.version&&F.version===P.version&&!(0,d.Xh)(P))return F.bounds;var X=D.calculateBounds(P);return S.Z.getScene(P)&&D.boundsCache.set(P,{version:P.version,bounds:X}),X}},{key:"calculateBounds",value:function(P){var F,X=Se(P),le=(0,k.Z)(X,6),de=le[0],fe=le[1],pe=le[2],ne=le[3],oe=le[4],be=le[5];if((0,d.F9)(P)){var Me=R(P.points.map(function(Zt){var Tt=(0,k.Z)(Zt,2),Lt=Tt[0],Wt=Tt[1];return(0,N.U1)(Lt,Wt,oe-P.x,be-P.y,P.angle)})),Ge=(0,k.Z)(Me,4),qe=Ge[0],Ne=Ge[1],Pe=Ge[2],Re=Ge[3];return[qe+P.x,Ne+P.y,Pe+P.x,Re+P.y]}if((0,d.bt)(P))F=i(P,oe,be);else if(P.type==="diamond"){var Ze=(0,N.U1)(oe,fe,oe,be,P.angle),Ie=(0,k.Z)(Ze,2),Ee=Ie[0],xe=Ie[1],Z=(0,N.U1)(oe,ne,oe,be,P.angle),u=(0,k.Z)(Z,2),g=u[0],z=u[1],Y=(0,N.U1)(de,be,oe,be,P.angle),te=(0,k.Z)(Y,2),ae=te[0],ce=te[1],ye=(0,N.U1)(pe,be,oe,be,P.angle),je=(0,k.Z)(ye,2),Be=je[0],Qe=je[1];F=[Math.min(Ee,g,ae,Be),Math.min(xe,z,ce,Qe),Math.max(Ee,g,ae,Be),Math.max(xe,z,ce,Qe)]}else if(P.type==="ellipse"){var rt=(pe-de)/2,Ye=(ne-fe)/2,tt=Math.cos(P.angle),ht=Math.sin(P.angle),gt=Math.hypot(rt*tt,Ye*ht),Ue=Math.hypot(Ye*tt,rt*ht);F=[oe-gt,be-Ue,oe+gt,be+Ue]}else{var Ce=(0,N.U1)(de,fe,oe,be,P.angle),Le=(0,k.Z)(Ce,2),et=Le[0],ft=Le[1],xt=(0,N.U1)(de,ne,oe,be,P.angle),wt=(0,k.Z)(xt,2),Rt=wt[0],It=wt[1],At=(0,N.U1)(pe,ne,oe,be,P.angle),Xt=(0,k.Z)(At,2),tr=Xt[0],Gt=Xt[1],Jt=(0,N.U1)(pe,fe,oe,be,P.angle),gr=(0,k.Z)(Jt,2),Pt=gr[0],St=gr[1];F=[Math.min(et,Rt,tr,Pt),Math.min(ft,It,Gt,St),Math.max(et,Rt,tr,Pt),Math.max(ft,It,Gt,St)]}return F}}]),D}();ke.boundsCache=new WeakMap;var Se=function(D){var P=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if((0,d.F9)(D))return E(D);if((0,d.bt)(D))return H._.getElementAbsoluteCoords(D,P);if((0,d.iB)(D)){var F=(0,L.tl)(D);if((0,d.Yv)(F)){var X=H._.getBoundTextElementPosition(F,D);return[X.x,X.y,X.x+D.width,X.y+D.height,X.x+D.width/2,X.y+D.height/2]}}return[D.x,D.y,D.x+D.width,D.y+D.height,D.x+D.width/2,D.y+D.height/2]},ge=function(D){var P=Se(D),F=(0,k.Z)(P,6),X=F[0],le=F[1],de=F[2],fe=F[3],pe=F[4],ne=F[5],oe=[pe,ne];if((0,d.bt)(D)||(0,d.F9)(D)){for(var be=[],Me=0;Me<D.points.length-1;)be.push([(0,N.xj)([D.points[Me][0]+D.x,D.points[Me][1]+D.y],oe,D.angle),(0,N.xj)([D.points[Me+1][0]+D.x,D.points[Me+1][1]+D.y],oe,D.angle)]),Me++;return be}var Ge=[[X,le],[de,le],[X,fe],[de,fe],[pe,le],[pe,fe],[X,ne],[de,ne]].map(function(u){return(0,N.xj)(u,oe,D.angle)}),qe=(0,k.Z)(Ge,8),Ne=qe[0],Pe=qe[1],Re=qe[2],Ze=qe[3],Ie=qe[4],Ee=qe[5],xe=qe[6],Z=qe[7];return D.type==="diamond"?[[Ie,xe],[Ie,Z],[Ee,xe],[Ee,Z]]:D.type==="ellipse"?[[Ie,xe],[Ie,Z],[Ee,xe],[Ee,Z],[Ie,xe],[Ie,Z],[Ee,xe],[Ee,Z]]:[[Ne,Pe],[Re,Ze],[Ne,Re],[Pe,Ze],[Ne,Z],[Re,Z],[Pe,xe],[Ze,xe]]},J=function(D){return[D.x,D.y,D.x+D.width,D.y+D.height,D.x+D.width/2,D.y+D.height/2]},Q=function(D){var P=Math.floor(D.width/2)+1,F=D.width,X=Math.floor(D.height/2)+1;return[P,0,F,X,P,D.height,0,X]},K=function(D){var P,F=q(D.sets);try{for(F.s();!(P=F.n()).done;){var X=P.value;if(X.type==="path")return X.ops}}catch(le){F.e(le)}finally{F.f()}return D.sets[0].ops},T=function(D,P,F,X,le){var de=1-D;return Math.pow(de,3)*P+3*Math.pow(de,2)*D*F+3*de*Math.pow(D,2)*X+Math.pow(D,3)*le},B=function(D,P,F,X){var le=P-D,de=F-P,fe=3*le-6*de+3*(X-F),pe=6*de-6*le,ne=3*le,oe=pe*pe-4*fe*ne;if(!(oe>=0))return!1;var be=null,Me=null,Ge=1/0,qe=1/0;return fe===0?Ge=qe=-ne/pe:(Ge=(-pe+Math.sqrt(oe))/(2*fe),qe=(-pe-Math.sqrt(oe))/(2*fe)),Ge>=0&&Ge<=1&&(be=T(Ge,D,P,F,X)),qe>=0&&qe<=1&&(Me=T(qe,D,P,F,X)),[be,Me]},O=function(D,P){var F=[0,0],X=D.reduce(function(le,de){var fe=de.op,pe=de.data;if(fe==="move")F=pe;else if(fe==="bcurveTo"){var ne=[pe[0],pe[1]],oe=[pe[2],pe[3]],be=[pe[4],pe[5]],Me=P?P.apply(void 0,ne):ne,Ge=P?P.apply(void 0,oe):oe,qe=P?P.apply(void 0,be):be,Ne=P?P.apply(void 0,(0,A.Z)(F)):F;F=be;var Pe=function(Z,u,g,z){var Y=B(Z[0],u[0],g[0],z[0]),te=B(Z[1],u[1],g[1],z[1]),ae=Math.min(Z[0],z[0]),ce=Math.max(Z[0],z[0]);if(Y){var ye=Y.filter(function(rt){return rt!==null});ae=Math.min.apply(Math,[ae].concat((0,A.Z)(ye))),ce=Math.max.apply(Math,[ce].concat((0,A.Z)(ye)))}var je=Math.min(Z[1],z[1]),Be=Math.max(Z[1],z[1]);if(te){var Qe=te.filter(function(rt){return rt!==null});je=Math.min.apply(Math,[je].concat((0,A.Z)(Qe))),Be=Math.max.apply(Math,[Be].concat((0,A.Z)(Qe)))}return[ae,je,ce,Be]}(Ne,Me,Ge,qe),Re=(0,k.Z)(Pe,4),Ze=Re[0],Ie=Re[1],Ee=Re[2],xe=Re[3];le.minX=Math.min(le.minX,Ze),le.minY=Math.min(le.minY,Ie),le.maxX=Math.max(le.maxX,Ee),le.maxY=Math.max(le.maxY,xe)}return le},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[X.minX,X.minY,X.maxX,X.maxY]},R=function(D){var P,F=1/0,X=1/0,le=-1/0,de=-1/0,fe=q(D);try{for(fe.s();!(P=fe.n()).done;){var pe=(0,k.Z)(P.value,2),ne=pe[0],oe=pe[1];F=Math.min(F,ne),X=Math.min(X,oe),le=Math.max(le,ne),de=Math.max(de,oe)}}catch(be){fe.e(be)}finally{fe.f()}return[F,X,le,de]},E=function(D){var P=R(D.points),F=(0,k.Z)(P,4),X=F[0],le=F[1],de=F[2],fe=F[3],pe=X+D.x,ne=le+D.y,oe=de+D.x,be=fe+D.y;return[pe,ne,oe,be,(pe+oe)/2,(ne+be)/2]},v=function(D,P,F,X){var le=K(P[0]);if(le.length<1)return null;var de=F==="start"?1:le.length-1,fe=le[de].data,pe=[fe[4],fe[5]],ne=[fe[2],fe[3]],oe=[fe[0],fe[1]],be=le[de-1],Me=[0,0];be.op==="move"?Me=be.data:be.op==="bcurveTo"&&(Me=[be.data[4],be.data[5]]);var Ge=function(Gt,Jt){return Math.pow(1-Gt,3)*pe[Jt]+3*Gt*Math.pow(1-Gt,2)*ne[Jt]+3*Math.pow(Gt,2)*(1-Gt)*oe[Jt]+Me[Jt]*Math.pow(Gt,3)},qe=F==="start"?Me:pe,Ne=(0,k.Z)(qe,2),Pe=Ne[0],Re=Ne[1],Ze=[Ge(.3,0),Ge(.3,1)],Ie=Ze[0],Ee=Ze[1],xe=Math.hypot(Pe-Ie,Re-Ee),Z=(Pe-Ie)/xe,u=(Re-Ee)/xe,g={arrow:30,bar:15,dot:15,triangle:15}[X],z=0;if(X==="arrow"){var Y=(0,k.Z)(D.points[D.points.length-1],2),te=Y[0],ae=Y[1],ce=D.points.length>1?D.points[D.points.length-2]:[0,0],ye=(0,k.Z)(ce,2),je=ye[0],Be=ye[1];z=Math.hypot(te-je,ae-Be)}else for(var Qe=0;Qe<D.points.length;Qe++){var rt=D.points[Qe-1]||[0,0],Ye=(0,k.Z)(rt,2),tt=Ye[0],ht=Ye[1],gt=(0,k.Z)(D.points[Qe],2),Ue=gt[0],Ce=gt[1];z+=Math.hypot(Ue-tt,Ce-ht)}var Le=Math.min(g,z/2),et=Pe-Z*Le,ft=Re-u*Le;if(X==="dot")return[Pe,Re,Math.hypot(ft-Re,et-Pe)+D.strokeWidth];var xt={arrow:20,bar:90,triangle:25}[X],wt=(0,N.U1)(et,ft,Pe,Re,-xt*Math.PI/180),Rt=(0,k.Z)(wt,2),It=Rt[0],At=Rt[1],Xt=(0,N.U1)(et,ft,Pe,Re,xt*Math.PI/180),tr=(0,k.Z)(Xt,2);return[Pe,Re,It,At,tr[0],tr[1]]},i=function(D,P,F){var X;if(D.points.length<2){var le=(0,k.Z)(D.points[0],2),de=le[0],fe=le[1],pe=(0,N.U1)(D.x+de,D.y+fe,P,F,D.angle),ne=(0,k.Z)(pe,2),oe=ne[0],be=ne[1],Me=[oe,be,oe,be],Ge=(0,L.WJ)(D);if(Ge){var qe=H._.getMinMaxXYWithBoundText(D,[oe,be,oe,be],Ge);Me=[qe[0],qe[1],qe[2],qe[3]]}return Me}var Ne=(X=x.R.get(D))===null||X===void 0?void 0:X[0],Pe=Ne??function(Z){var u=M.Z.generator(),g=(0,f.Z)(Z);return u[Z.roundness?"curve":g.fill?"polygon":"linearPath"](Z.points,g)}(D),Re=K(Pe),Ze=O(Re,function(Z,u){return(0,N.U1)(D.x+Z,D.y+u,P,F,D.angle)}),Ie=[Ze[0],Ze[1],Ze[2],Ze[3]],Ee=(0,L.WJ)(D);if(Ee){var xe=H._.getMinMaxXYWithBoundText(D,Ie,Ee);Ie=[xe[0],xe[1],xe[2],xe[3]]}return Ie},a=function(D){return ke.getBounds(D)},y=function(D){if(!D.length)return[0,0,0,0];var P=1/0,F=-1/0,X=1/0,le=-1/0;return D.forEach(function(de){var fe=a(de),pe=(0,k.Z)(fe,4),ne=pe[0],oe=pe[1],be=pe[2],Me=pe[3];P=Math.min(P,ne),X=Math.min(X,oe),F=Math.max(F,be),le=Math.max(le,Me)}),[P,X,F,le]},h=function(D,P){var F=y(D),X=(0,k.Z)(F,4),le=X[0],de=X[1],fe=X[2],pe=X[3];return[le+P.x,de+P.y,fe+P.x,pe+P.y]},m=function(D,P,F,X){if(!(0,d.bt)(D)&&!(0,d.F9)(D))return[D.x,D.y,D.x+P,D.y+F];var le,de=(0,j.z)(0,P,(0,j.z)(1,F,D.points,X),X);if((0,d.F9)(D))le=R(de);else{var fe=M.Z.generator(),pe=D.roundness?fe.curve(de,(0,f.Z)(D)):fe.linearPath(de,(0,f.Z)(D)),ne=K(pe);le=O(ne)}var oe=le,be=(0,k.Z)(oe,4),Me=be[0],Ge=be[1],qe=be[2],Ne=be[3];return[Me+D.x,Ge+D.y,qe+D.x,Ne+D.y]},C=function(D,P){var F=M.Z.generator(),X=D.roundness==null?F.linearPath(P,(0,f.Z)(D)):F.curve(P,(0,f.Z)(D)),le=K(X),de=O(le),fe=(0,k.Z)(de,4),pe=fe[0],ne=fe[1],oe=fe[2],be=fe[3];return[pe+D.x,ne+D.y,oe+D.x,be+D.y]},U=function(D,P){if(!D.length)return[0,0,0,0];var F=1/0,X=D[0];return D.forEach(function(le){var de=a(le),fe=(0,k.Z)(de,4),pe=fe[0],ne=fe[1],oe=fe[2],be=fe[3],Me=(0,N.LW)((pe+oe)/2,(ne+be)/2,P.x,P.y);Me<F&&(F=Me,X=le)}),a(X)},V=function(D){var P=y(D),F=(0,k.Z)(P,4),X=F[0],le=F[1],de=F[2],fe=F[3];return{minX:X,minY:le,maxX:de,maxY:fe,width:de-X,height:fe-le,midX:(X+de)/2,midY:(le+fe)/2}}},3528:function(ue,n,r){r.d(n,{uu:function(){return pe},T_:function(){return te},j_:function(){return ae},oT:function(){return be},wX:function(){return F},MZ:function(){return ce},wB:function(){return X},Qu:function(){return le},pX:function(){return fe},fb:function(){return ne}});var A=r(2577),k=function(Ce,Le){return[0,0,0,0,Le,Ce,1,0]},b=function(Ce,Le){return[0,0,0,0,Le,Ce,0,0]},w=function(){var Ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,et=[0,0,0,0,0,0,0,0];if(Le<0||Le>7)throw new Error("Expected `index` between 0 and 7, got `".concat(Le,"`"));return Ce!==0&&(et[Le]=Ce),et},N=function(Ce){return[Ce[0],Ce[1],Ce[2],Ce[3],-Ce[4],-Ce[5],-Ce[6],-Ce[7]]},M=function(Ce,Le){return q(Le)?[Ce[0]-Le,Ce[1],Ce[2],Ce[3],Ce[4],Ce[5],Ce[6],Ce[7]]:[Ce[0]-Le[0],Ce[1]-Le[1],Ce[2]-Le[2],Ce[3]-Le[3],Ce[4]-Le[4],Ce[5]-Le[5],Ce[6]-Le[6],Ce[7]-Le[7]]},f=function(Ce,Le){return q(Le)?[Ce[0]*Le,Ce[1]*Le,Ce[2]*Le,Ce[3]*Le,Ce[4]*Le,Ce[5]*Le,Ce[6]*Le,Ce[7]*Le]:[d(Ce,Le),Le[1]*Ce[0]+Le[0]*Ce[1]-Le[4]*Ce[2]+Le[5]*Ce[3]+Le[2]*Ce[4]-Le[3]*Ce[5]-Le[7]*Ce[6]-Le[6]*Ce[7],Le[2]*Ce[0]+Le[0]*Ce[2]-Le[6]*Ce[3]+Le[3]*Ce[6],Le[3]*Ce[0]+Le[6]*Ce[2]+Le[0]*Ce[3]-Le[2]*Ce[6],Le[4]*Ce[0]+Le[2]*Ce[1]-Le[1]*Ce[2]+Le[7]*Ce[3]+Le[0]*Ce[4]+Le[6]*Ce[5]-Le[5]*Ce[6]+Le[3]*Ce[7],Le[5]*Ce[0]-Le[3]*Ce[1]+Le[7]*Ce[2]+Le[1]*Ce[3]-Le[6]*Ce[4]+Le[0]*Ce[5]+Le[4]*Ce[6]+Le[2]*Ce[7],Le[6]*Ce[0]+Le[3]*Ce[2]-Le[2]*Ce[3]+Le[0]*Ce[6],Le[7]*Ce[0]+Le[6]*Ce[1]+Le[5]*Ce[2]+Le[4]*Ce[3]+Le[3]*Ce[4]+Le[2]*Ce[5]+Le[1]*Ce[6]+Le[0]*Ce[7]]},d=function(Ce,Le){return Le[0]*Ce[0]+Le[2]*Ce[2]+Le[3]*Ce[3]-Le[6]*Ce[6]},j=function(Ce,Le){return[L(Ce,Le),Ce[1]*Le[7]+Ce[4]*Le[5]-Ce[5]*Le[4]+Ce[7]*Le[1],Ce[2]*Le[7]-Ce[4]*Le[6]+Ce[6]*Le[4]+Ce[7]*Le[2],Ce[3]*Le[7]+Ce[5]*Le[6]-Ce[6]*Le[5]+Ce[7]*Le[3],Ce[4]*Le[7]+Ce[7]*Le[4],Ce[5]*Le[7]+Ce[7]*Le[5],Ce[6]*Le[7]+Ce[7]*Le[6],Ce[7]*Le[7]]},L=function(Ce,Le){return Ce[0]*Le[7]+Ce[1]*Le[6]+Ce[2]*Le[5]+Ce[3]*Le[4]+Ce[4]*Le[3]+Ce[5]*Le[2]+Ce[6]*Le[1]+Ce[7]*Le[0]},H=function(Ce){return Math.sqrt(Math.abs(Ce[0]*Ce[0]-Ce[2]*Ce[2]-Ce[3]*Ce[3]+Ce[6]*Ce[6]))},x=function(Ce){var Le=H(Ce);if(Le===0||Le===1)return Ce;var et=Ce[6]<0?-1:1;return f(Ce,et/Le)},S=function(Ce){var Le=function(et){return Math.sqrt(Math.abs(et[7]*et[7]-et[5]*et[5]-et[4]*et[4]+et[1]*et[1]))}(Ce);return Le===0||Le===1?Ce:f(Ce,1/Le)},q=function(Ce){return typeof Ce=="number"},ve=(w(1,1),w(1,2),w(1,3),w(1,4),w(1,5),w(1,6),w(1,7),function(Ce,Le,et){return x([0,et,Ce,Le,0,0,0,0])}),ke=function(Ce,Le){return x(j(Le,Ce))},Se=function(Ce,Le){return et=Ce,[(ft=Le)[0]*et[0]+ft[2]*et[2]+ft[3]*et[3]-ft[6]*et[6],ft[1]*et[0]+ft[0]*et[1]-ft[4]*et[2]+ft[5]*et[3]+ft[2]*et[4]-ft[3]*et[5]-ft[7]*et[6]-ft[6]*et[7],ft[2]*et[0]+ft[0]*et[2]-ft[6]*et[3]+ft[3]*et[6],ft[3]*et[0]+ft[6]*et[2]+ft[0]*et[3]-ft[2]*et[6],ft[4]*et[0]+ft[7]*et[3]+ft[0]*et[4]+ft[3]*et[7],ft[5]*et[0]+ft[7]*et[2]+ft[0]*et[5]+ft[2]*et[7],ft[6]*et[0]+ft[0]*et[6],ft[7]*et[0]+ft[0]*et[7]];var et,ft},ge=function(Ce){var Le=(0,A.Z)(Ce,2),et=Le[0];return[0,0,0,0,Le[1],et,1,0]},J=function(Ce){return[Ce[5],Ce[4]]},Q=function(Ce){return[0,0,0,0,Math.abs(Ce[4]),Math.abs(Ce[5]),1,0]},K=function(Ce,Le){return x((et=Ce,[(ft=Le)[0]*et[0],ft[1]*et[0]+ft[0]*et[1],ft[2]*et[0]+ft[0]*et[2],ft[3]*et[0]+ft[0]*et[3],ft[4]*et[0]+ft[2]*et[1]-ft[1]*et[2]+ft[0]*et[4],ft[5]*et[0]-ft[3]*et[1]+ft[1]*et[3]+ft[0]*et[5],ft[6]*et[0]+ft[3]*et[2]-ft[2]*et[3]+ft[0]*et[6],ft[7]*et[0]+ft[6]*et[1]+ft[5]*et[2]+ft[4]*et[3]+ft[3]*et[4]+ft[2]*et[5]+ft[1]*et[6]]));var et,ft},T=function(Ce,Le){return H(j(Ce,Le))},B=function(Ce,Le){return L(Ce,Le)},O=function(Ce){return[0,0,0,0,Ce[4],Ce[5],0,0]},R=function(Ce,Le){return et=f(Ce,Math.sin(Le/2)),ft=Math.cos(Le/2),q(ft)?[et[0]+ft,et[1],et[2],et[3],et[4],et[5],et[6],et[7]]:[et[0]+ft[0],et[1]+ft[1],et[2]+ft[2],et[3]+ft[3],et[4]+ft[4],et[5]+ft[5],et[6]+ft[6],et[7]+ft[7]];var et,ft},E=function(Ce,Le){return x(f(f(Ce,Le),N(Ce)))},v=r(2361),i=r(1493),a=r(4949),y=r(4183),h=r(7651),m=r(9827),C=r(4048),U=r(4761),V=r(2921);function D(Ce,Le){var et=typeof Symbol<"u"&&Ce[Symbol.iterator]||Ce["@@iterator"];if(!et){if(Array.isArray(Ce)||(et=function(At,Xt){if(At){if(typeof At=="string")return P(At,Xt);var tr=Object.prototype.toString.call(At).slice(8,-1);if(tr==="Object"&&At.constructor&&(tr=At.constructor.name),tr==="Map"||tr==="Set")return Array.from(At);if(tr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(tr))return P(At,Xt)}}(Ce))||Le){et&&(Ce=et);var ft=0,xt=function(){};return{s:xt,n:function(){return ft>=Ce.length?{done:!0}:{done:!1,value:Ce[ft++]}},e:function(At){throw At},f:xt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var wt,Rt=!0,It=!1;return{s:function(){et=et.call(Ce)},n:function(){var At=et.next();return Rt=At.done,At},e:function(At){It=!0,wt=At},f:function(){try{Rt||et.return==null||et.return()}finally{if(It)throw wt}}}}function P(Ce,Le){(Le==null||Le>Ce.length)&&(Le=Ce.length);for(var et=0,ft=new Array(Le);et<Le;et++)ft[et]=Ce[et];return ft}var F=function Ce(Le,et,ft,xt,wt){var Rt=10/et.zoom.value,It=[xt,wt];if(de(et,Le)&&(0,C.oY)([Le],et))return fe(Le,It,Rt,ft);var At=(0,U.WJ)(Le);return At&&Ce(At,et,ft,xt,wt)?!0:le(Le,et,ft,It)},X=function(Ce,Le,et,ft,xt){var wt=10/Le.zoom.value,Rt=(0,U.WJ)(Ce);return(!Rt||!F(Rt,Le,et,ft,xt))&&!le(Ce,Le,et,[ft,xt])&&fe(Ce,[ft,xt],wt,et)},le=function(Ce,Le,et,ft){var xt=10/Le.zoom.value,wt=(0,h.iB)(Ce)?Me:function(Rt){if(Rt.type==="arrow")return!1;if(Rt.type==="freedraw")return!0;var It=!(0,m.Qm)(Rt.backgroundColor)||(0,y.Xo)(Rt)||(0,y.gs)(Rt);return Rt.type==="line"?It&&(0,v.g6)(Rt.points):It||(0,y.pC)(Rt)}(Ce)?Ge:qe;return oe({element:Ce,point:ft,threshold:xt,check:wt,frameNameBoundsCache:et})},de=function(Ce,Le){return Ce.selectedElementIds[Le.id]},fe=function(Ce,Le,et,ft){var xt=(0,A.Z)(Le,2),wt=xt[0],Rt=xt[1];if(Ce.type==="frame")return oe({element:Ce,point:[wt,Rt],threshold:et,check:Ge,frameNameBoundsCache:ft});var It=(0,a.qf)(Ce),At=(0,A.Z)(It,4),Xt=At[0],tr=At[1],Gt=At[2],Jt=At[3],gr=(Xt+Gt)/2,Pt=(tr+Jt)/2,St=(0,v.U1)(wt,Rt,gr,Pt,-Ce.angle),Zt=(0,A.Z)(St,2),Tt=Zt[0],Lt=Zt[1];return Tt>Xt-et&&Tt<Gt+et&&Lt>tr-et&&Lt<Jt+et},pe=function(Ce,Le){var et=Le.x,ft=Le.y,xt=ne(Ce,Ce.width,Ce.height);return oe({element:Ce,point:[et,ft],threshold:xt,check:Ne,frameNameBoundsCache:null})},ne=function(Ce,Le,et){var ft=(Ce.type==="diamond"?1/Math.sqrt(2):1)*Math.min(Le,et);return Math.max(16,Math.min(.25*ft,32))},oe=function(Ce){switch(Ce.element.type){case"rectangle":case"embeddable":case"image":case"text":case"diamond":case"ellipse":var Le=be(Ce.element,Ce.point);return Ce.check(Le,Ce.threshold);case"freedraw":return!!Ce.check(Pe(Ce.element,Ce.point),Ce.threshold)&&xe(Ce.element,Ce.point,Ce.threshold);case"arrow":case"line":return Z(Ce);case"selection":return console.warn("This should not happen, we need to investigate why it does."),!1;case"frame":var et;if(Ce.check(be(Ce.element,Ce.point),Ce.threshold))return!0;var ft=(et=Ce.frameNameBoundsCache)===null||et===void 0?void 0:et.get(Ce.element);return!!ft&&Ce.check(Re(ft,Ce.point),Ce.threshold)}},be=function(Ce,Le){switch(Ce.type){case"rectangle":case"image":case"text":case"embeddable":case"frame":return Pe(Ce,Le);case"diamond":return Ze(Ce,Le);case"ellipse":return Ie(Ce,Le)}},Me=function(Ce,Le){return Ce<0},Ge=function(Ce,Le){return Ce<Le},qe=function(Ce,Le){return Math.abs(Ce)<Le},Ne=function(Ce,Le){return 0<=Ce&&Ce<Le},Pe=function(Ce,Le){var et=u(Ce,Le),ft=(0,A.Z)(et,4),xt=ft[1],wt=ft[2],Rt=ft[3];return Math.max(B(xt,ve(0,1,-Rt)),B(xt,ve(1,0,-wt)))},Re=function(Ce,Le){var et=g(Le,Ce),ft=(0,A.Z)(et,4),xt=ft[1],wt=ft[2],Rt=ft[3];return Math.max(B(xt,ve(0,1,-Rt)),B(xt,ve(1,0,-wt)))},Ze=function(Ce,Le){var et=u(Ce,Le),ft=(0,A.Z)(et,4),xt=ft[1],wt=ft[2],Rt=ft[3],It=ve(Rt,wt,-Rt*wt);return B(xt,It)},Ie=function(Ce,Le){var et,ft=Ee(Ce,Le),xt=(0,A.Z)(ft,2),wt=xt[0],Rt=xt[1];return et=Rt,-Math.sign(et[1])*B(wt,Rt)},Ee=function(Ce,Le){var et=u(Ce,Le),ft=(0,A.Z)(et,4),xt=ft[1],wt=ft[2],Rt=ft[3],It=J(xt),At=(0,A.Z)(It,2),Xt=At[0],tr=At[1],Gt=.707,Jt=.707,gr=wt,Pt=Rt;[0,1,2,3].forEach(function(Tt){var Lt=gr*Gt,Wt=Pt*Jt,qt=(gr*gr-Pt*Pt)*Math.pow(Gt,3)/gr,sr=(Pt*Pt-gr*gr)*Math.pow(Jt,3)/Pt,cr=Lt-qt,Sr=Wt-sr,Mr=Xt-qt,zr=tr-sr,pr=Math.hypot(Sr,cr),Ft=Math.hypot(zr,Mr);Gt=Math.min(1,Math.max(0,(Mr*pr/Ft+qt)/gr)),Jt=Math.min(1,Math.max(0,(zr*pr/Ft+sr)/Pt));var or=Math.hypot(Jt,Gt);Gt/=or,Jt/=or});var St,Zt=k(gr*Gt,Pt*Jt);return[xt,Se(ke(xt,St=Zt),St)]},xe=function(Ce,Le,et){var ft,xt;if(Ce.angle===0)ft=Le[0]-Ce.x,xt=Le[1]-Ce.y;else{var wt=(0,a.qf)(Ce),Rt=(0,A.Z)(wt,4),It=Rt[0],At=Rt[1],Xt=Rt[2],tr=Rt[3],Gt=(0,v.xj)(Le,[It+(Xt-It)/2,At+(tr-At)/2],-Ce.angle);ft=Gt[0]-Ce.x,xt=Gt[1]-Ce.y}var Jt,gr=(0,A.Z)(Ce.points,2),Pt=gr[0],St=gr[1];if((0,v.LW)(Pt[0],Pt[1],ft,xt)<et||(0,v.LW)(St[0],St[1],ft,xt)<et)return!0;for(var Zt=0;Zt<Ce.points.length;Zt++){var Tt=[St[0]-Pt[0],St[1]-Pt[1]],Lt=Math.hypot(Tt[1],Tt[0]),Wt=[Tt[0]/Lt,Tt[1]/Lt],qt=[ft-Pt[0],xt-Pt[1]],sr=(qt[0]*Wt[0]+qt[1]*Wt[1])/Math.hypot(Wt[1],Wt[0]);Jt=[Pt[0]+Wt[0]*sr,Pt[1]+Wt[1]*sr];var cr=(0,v.LW)(Jt[0],Jt[1],Pt[0],Pt[1]),Sr=(0,v.LW)(Jt[0],Jt[1],St[0],St[1]);if(Jt=Sr<cr&&cr>Lt?St:cr<Sr&&Sr>Lt?Pt:Jt,Math.hypot(xt-Jt[1],ft-Jt[0])<et)return!0;Pt=St,St=Ce.points[Zt+1]}var Mr=V.R.get(Ce);return!(!Mr||!Mr.sets.length)&&(Ce.fillStyle==="solid"?gt(Mr,ft,xt,"round"):Ue(Mr,ft,xt,et))},Z=function(Ce){var Le=Ce.element,et=Ce.threshold;if(!V.R.get(Le))return!1;var ft=u(Ce.element,Ce.point),xt=(0,A.Z)(ft,4),wt=xt[0],Rt=xt[1],It=xt[2],At=xt[3],Xt=ve(0,1,-At),tr=ve(1,0,-It);if(!Ge(B(Rt,Xt),et)||!Ge(B(Rt,tr),et))return!1;var Gt=J(wt),Jt=(0,A.Z)(Gt,2),gr=Jt[0],Pt=Jt[1],St=V.R.get(Le);return St?Ce.check===Ge&&St.some(function(Zt){return gt(Zt,gr,Pt,Le.roundness?"round":"sharp")})?!0:St.some(function(Zt){return Ue(Zt,gr,Pt,et)}):!1},u=function(Ce,Le){var et=ge(Le),ft=(0,a.qf)(Ce),xt=(0,A.Z)(ft,4),wt=xt[0],Rt=xt[1],It=xt[2],At=xt[3],Xt=Y(wt,Rt,It,At),tr=R(Xt,Ce.angle),Gt=E(tr,et),Jt=M(Gt,O(Xt)),gr=Q(Jt),Pt=b(Ce.x,Ce.y);return[M(Gt,Pt),gr,(It-wt)/2,(At-Rt)/2]},g=function(Ce,Le){var et=ge(Ce),ft=(0,a.M$)(Le),xt=(0,A.Z)(ft,4),wt=xt[0],Rt=xt[1],It=xt[2],At=xt[3],Xt=Y(wt,Rt,It,At),tr=R(Xt,Le.angle),Gt=E(tr,et),Jt=M(Gt,O(Xt)),gr=Q(Jt),Pt=b(Le.x,Le.y);return[M(Gt,Pt),gr,(It-wt)/2,(At-Rt)/2]},z=function(Ce){var Le=(0,a.qf)(Ce),et=(0,A.Z)(Le,4),ft=et[0],xt=et[1],wt=et[2],Rt=et[3],It=Y(ft,xt,wt,Rt),At=R(It,Ce.angle),Xt=N(function(tr){return[1,0,0,0,-.5*tr[5],.5*tr[4],0,0]}(O(It)));return f(Xt,At)},Y=function(Ce,Le,et,ft){return k((Ce+et)/2,(Le+ft)/2)},te=function(Ce,Le,et){var ft,xt=z(Ce),wt=E(xt,ge(Le)),Rt=E(xt,ge(et)),It=ke(wt,Rt),At=Ce.height/Ce.width,Xt=Ce.width/2,tr=Ce.height/2,Gt=It[2],Jt=It[3],gr=It[1],Pt=Math.abs(Jt),St=Math.abs(Gt);switch(Ce.type){case"rectangle":case"image":case"text":case"embeddable":case"frame":ft=gr/(Xt*(St+At*Pt));break;case"diamond":ft=Pt<St?gr/(St*Xt):gr/(Pt*tr);break;case"ellipse":ft=gr/(Xt*Math.sqrt(Math.pow(Gt,2)+Math.pow(At,2)*Math.pow(Jt,2)))}return ft||0},ae=function(Ce,Le,et){if(Le===0){var ft=(0,a.qf)(Ce),xt=(0,A.Z)(ft,4),wt=xt[0],Rt=xt[1],It=xt[2],At=xt[3],Xt=Y(wt,Rt,It,At);return J(Xt)}var tr,Gt=z(Ce),Jt=E(Gt,ge(et)),gr=N(Gt);switch(Ce.type){case"rectangle":case"image":case"text":case"diamond":case"embeddable":case"frame":tr=ht(Ce,Le,Jt);break;case"ellipse":tr=tt(Ce,Le,Jt)}return J(E(gr,tr))},ce=function(Ce,Le,et){var ft=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,xt=z(Ce),wt=E(xt,ge(Le)),Rt=E(xt,ge(et)),It=ke(wt,Rt),At=N(xt),Xt=ye(Ce,It,wt,ft);return Xt.map(function(tr){return J(E(At,tr))})},ye=function(Ce,Le,et){var ft,xt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;switch(Ce.type){case"rectangle":case"image":case"text":case"diamond":case"embeddable":case"frame":var wt=je(Ce);ft=wt.flatMap(function(It,At){var Xt=[It,wt[(At+1)%4]];return Be(Le,Qe(Xt,xt))}).concat(wt.flatMap(function(It){return Ye(It,xt,Le)}));break;case"ellipse":ft=rt(Ce,xt,Le)}if(ft.length<2)return[];var Rt=ft.sort(function(It,At){return T(It,et)-T(At,et)});return[Rt[0],Rt[Rt.length-1]]},je=function(Ce){var Le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,et=Le*Ce.width/2,ft=Le*Ce.height/2;switch(Ce.type){case"rectangle":case"image":case"text":case"embeddable":case"frame":return[k(et,ft),k(et,-ft),k(-et,-ft),k(-et,ft)];case"diamond":return[k(0,ft),k(et,0),k(0,-ft),k(-et,0)]}},Be=function(Ce,Le){var et=(0,A.Z)(Le,2),ft=et[0],xt=et[1];return B(ft,Ce)*B(xt,Ce)>=0?[]:[K(Ce,ke(ft,xt))]},Qe=function(Ce,Le){var et=(0,A.Z)(Ce,2),ft=et[0],xt=et[1],wt=function(Rt,It){var At=.5*It;return[1,0,0,0,At*Rt[4],At*Rt[5],0,0]}(function(Rt,It){return S([0,0,0,0,It[4]-Rt[4],It[5]-Rt[5],0,0])}(ft,xt),Le);return[E(wt,ft),E(wt,xt)]},rt=function(Ce,Le,et){var ft=Ce.width/2+Le,xt=Ce.height/2+Le,wt=et[2],Rt=et[3],It=et[1],At=ft*ft*wt*wt+xt*xt*Rt*Rt,Xt=At-It*It;if(At===0||Xt<=0)return[];var tr=Math.sqrt(Xt),Gt=-ft*ft*wt*It,Jt=-xt*xt*Rt*It;return[k((Gt+ft*xt*Rt*tr)/At,(Jt-ft*xt*wt*tr)/At),k((Gt-ft*xt*Rt*tr)/At,(Jt+ft*xt*wt*tr)/At)]},Ye=function(Ce,Le,et){if(Le===0)return B(et,Ce)===0?[Ce]:[];var ft=et[2],xt=et[3],wt=et[1],Rt=J(Ce),It=(0,A.Z)(Rt,2),At=It[0],Xt=It[1],tr=ft*ft+xt*xt,Gt=Le*Le*tr-Math.pow(ft*At+xt*Xt+wt,2);if(tr===0||Gt<=0)return[];var Jt=Math.sqrt(Gt),gr=At*xt*xt-Xt*ft*xt-ft*wt,Pt=Xt*ft*ft-At*ft*xt-xt*wt;return[k((gr+xt*Jt)/tr,(Pt-ft*Jt)/tr),k((gr-xt*Jt)/tr,(Pt+ft*Jt)/tr)]},tt=function(Ce,Le,et){var ft=Math.abs(Le),xt=Ce.width*ft/2,wt=Ce.height*ft/2,Rt=Math.sign(Le),It=J(et),At=(0,A.Z)(It,2),Xt=At[0],tr=At[1],Gt=tr===0?1e-4:tr,Jt=Math.pow(Xt,2)*Math.pow(wt,2)+Math.pow(Gt,2)*Math.pow(xt,2),gr=(-Xt*Math.pow(wt,2)+Rt*Gt*Math.sqrt(Math.max(0,Jt-Math.pow(xt,2)*Math.pow(wt,2))))/Jt,Pt=(-gr*Xt-1)/Gt;Pt===0&&(Pt=.01*(Object.is(Pt,-0)?-1:1));var St=-Math.pow(xt,2)*gr/(Math.pow(Pt,2)*Math.pow(wt,2)+Math.pow(gr,2)*Math.pow(xt,2));return k(St,(-gr*St-1)/Pt)},ht=function(Ce,Le,et){var ft=Math.abs(Le),xt=Math.sign(Le),wt=je(Ce,ft),Rt=0,It=null;return wt.forEach(function(At){var Xt=xt*ke(et,At)[1];Xt>Rt&&(Rt=Xt,It=At)}),It},gt=function(Ce,Le,et,ft){var xt,wt=[],Rt=!1,It=D((0,a.CM)(Ce));try{for(It.s();!(xt=It.n()).done;){var At=xt.value;At.op==="move"?(Rt=!Rt)&&wt.push([At.data[0],At.data[1]]):At.op==="bcurveTo"?Rt&&(wt.push([At.data[0],At.data[1]]),wt.push([At.data[2],At.data[3]]),wt.push([At.data[4],At.data[5]])):At.op==="lineTo"&&Rt&&wt.push([At.data[0],At.data[1]])}}catch(tr){It.e(tr)}finally{It.f()}if(wt.length>=4){if(ft==="sharp")return(0,v.c9)(wt,Le,et);var Xt=(0,i.sU)(wt,10,5);return(0,v.c9)(Xt,Le,et)}return!1},Ue=function(Ce,Le,et,ft){var xt=(0,a.CM)(Ce),wt=[0,0];return xt.some(function(Rt,It){var At=Rt.op,Xt=Rt.data;if(At==="move")wt=Xt;else{if(At==="bcurveTo"){var tr=[Xt[0],Xt[1]],Gt=[Xt[2],Xt[3]],Jt=[Xt[4],Xt[5]],gr=wt;wt=Jt;var Pt=function(St,Zt,Tt,Lt,Wt,qt){for(var sr=(0,A.Z)(Wt,2),cr=sr[0],Sr=sr[1],Mr=function(or,rr){return Math.pow(1-or,3)*Lt[rr]+3*or*Math.pow(1-or,2)*Tt[rr]+3*Math.pow(or,2)*(1-or)*Zt[rr]+St[rr]*Math.pow(or,3)},zr=0;zr<=1;){var pr=Mr(zr,0),Ft=Mr(zr,1);if(Math.sqrt(Math.pow(pr-cr,2)+Math.pow(Ft-Sr,2))<qt)return!0;zr+=.01}return!1}(gr,tr,Gt,Jt,[Le,et],ft);return Pt}if(At==="lineTo")return gt(Ce,Le,et,"sharp");At==="qcurveTo"&&console.warn("qcurveTo is not implemented yet")}return!1})}},761:function(ue,n,r){r.d(n,{LM:function(){return y},eX:function(){return U},g0:function(){return m},uU:function(){return h},xm:function(){return V}});var A=r(7169),k=r(2577),b=r(2767),w=r(9937),N=r(8227),M=r(9827),f=r(7652),d=r(5742),j=r(4761),L=r(4183),H=r(8020);function x(D,P){var F=typeof Symbol<"u"&&D[Symbol.iterator]||D["@@iterator"];if(!F){if(Array.isArray(D)||(F=function(ne,oe){if(ne){if(typeof ne=="string")return S(ne,oe);var be=Object.prototype.toString.call(ne).slice(8,-1);if(be==="Object"&&ne.constructor&&(be=ne.constructor.name),be==="Map"||be==="Set")return Array.from(ne);if(be==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(be))return S(ne,oe)}}(D))||P){F&&(D=F);var X=0,le=function(){};return{s:le,n:function(){return X>=D.length?{done:!0}:{done:!1,value:D[X++]}},e:function(ne){throw ne},f:le}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var de,fe=!0,pe=!1;return{s:function(){F=F.call(D)},n:function(){var ne=F.next();return fe=ne.done,ne},e:function(ne){pe=!0,de=ne},f:function(){try{fe||F.return==null||F.return()}finally{if(pe)throw de}}}}function S(D,P){(P==null||P>D.length)&&(P=D.length);for(var F=0,X=new Array(P);F<P;F++)X[F]=D[F];return X}function q(D,P){var F=Object.keys(D);if(Object.getOwnPropertySymbols){var X=Object.getOwnPropertySymbols(D);P&&(X=X.filter(function(le){return Object.getOwnPropertyDescriptor(D,le).enumerable})),F.push.apply(F,X)}return F}function ve(D){for(var P=1;P<arguments.length;P++){var F=arguments[P]!=null?arguments[P]:{};P%2?q(Object(F),!0).forEach(function(X){(0,A.Z)(D,X,F[X])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(F)):q(Object(F)).forEach(function(X){Object.defineProperty(D,X,Object.getOwnPropertyDescriptor(F,X))})}return D}var ke=new Map,Se=/^(?:http(?:s)?:\/\/)?(?:www\.)?youtu(?:be\.com|\.be)\/(embed\/|watch\?v=|shorts\/|playlist\?list=|embed\/videoseries\?list=)?([a-zA-Z0-9_-]+)(?:\?t=|&t=|\?start=|&start=)?([a-zA-Z0-9_-]+)?[^\s]*$/,ge=/^(?:http(?:s)?:\/\/)?(?:(?:w){3}\.)?(?:player\.)?vimeo\.com\/(?:video\/)?([^?\s]+)(?:\?.*)?$/,J=/^https:\/\/(?:www\.)?figma\.com/,Q=/^https:\/\/gist\.github\.com\/([\w_-]+)\/([\w_-]+)/,K=/^<script[\s\S]*?\ssrc=["'](https:\/\/gist\.github\.com\/.*?)\.js["']/i,T=/(?:https?:\/\/)?(?:(?:w){3}\.)?(?:twitter|x)\.com\/[^/]+\/status\/(\d+)/,B=/^<blockquote[\s\S]*?\shref=["'](https?:\/\/(?:twitter|x)\.com\/[^"']*)/i,O=/^https:\/\/(?:www\.)?val\.town\/(v|embed)\/[a-zA-Z_$][0-9a-zA-Z_$]+\.[a-zA-Z_$][0-9a-zA-Z_$]+/,R=/^<(?:iframe|blockquote)[\s\S]*?\s(?:src|href)=["']([^"']*)["'][\s\S]*?>$/i,E=/giphy.com\/(?:clips|embed|gifs)\/[a-zA-Z0-9]*?-?([a-zA-Z0-9]+)(?:[^a-zA-Z0-9]|$)/,v=new Set(["youtube.com","youtu.be","vimeo.com","player.vimeo.com","figma.com","link.excalidraw.com","gist.github.com","twitter.com","*.simplepdf.eu","stackblitz.com","val.town","giphy.com"]),i=new Set(["youtube.com","youtu.be","vimeo.com","player.vimeo.com","figma.com","twitter.com","x.com","*.simplepdf.eu","stackblitz.com"]),a=function(D){return"<html><body>".concat(D,"</body></html>")},y=function(D){if(!D)return null;if(ke.has(D))return ke.get(D);var P=D,F=i.has(C(D,i)||""),X="generic",le={w:560,h:840},de=D.match(Se);if(de!=null&&de[2]){var fe=de[3]?"&start=".concat(de[3]):"",pe=D.includes("shorts");switch(X="video",de[1]){case"embed/":case"watch?v=":case"shorts/":default:D="https://www.youtube.com/embed/".concat(de[2],"?enablejsapi=1").concat(fe);break;case"playlist?list=":case"embed/videoseries?list=":D="https://www.youtube.com/embed/videoseries?list=".concat(de[2],"&enablejsapi=1").concat(fe)}return le=pe?{w:315,h:560}:{w:560,h:315},ke.set(P,{link:D,aspectRatio:le,type:X,sandbox:{allowSameOrigin:F}}),{link:D,aspectRatio:le,type:X,sandbox:{allowSameOrigin:F}}}var ne=D.match(ge);if(ne!=null&&ne[1]){var oe=ne==null?void 0:ne[1],be=/^\d+$/.test(oe)?void 0:(0,N.t)("toast.unrecognizedLinkFormat");return X="video",D="https://player.vimeo.com/video/".concat(oe,"?api=1"),le={w:560,h:315},ke.set(P,{link:D,aspectRatio:le,type:X,sandbox:{allowSameOrigin:F}}),{link:D,aspectRatio:le,type:X,warning:be,sandbox:{allowSameOrigin:F}}}if(D.match(J))return X="generic",D="https://www.figma.com/embed?embed_host=share&url=".concat(encodeURIComponent(D)),le={w:550,h:550},ke.set(P,{link:D,aspectRatio:le,type:X,sandbox:{allowSameOrigin:F}}),{link:D,aspectRatio:le,type:X,sandbox:{allowSameOrigin:F}};var Me=D.match(O);if(Me)return D=Me[1]==="embed"?Me[0]:Me[0].replace("/v","/embed"),ke.set(P,{link:D,aspectRatio:le,type:X,sandbox:{allowSameOrigin:F}}),{link:D,aspectRatio:le,type:X,sandbox:{allowSameOrigin:F}};if(T.test(D)){var Ge=D.match(T)[1],qe=(0,H.tO)("https://twitter.com/x/status/".concat(Ge)),Ne={type:"document",srcdoc:function(Z){return a('<blockquote class="twitter-tweet" data-dnt="true" data-theme="'.concat(Z,'"><a href="').concat(qe,'"></a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"><\/script>'))},aspectRatio:{w:480,h:480},sandbox:{allowSameOrigin:F}};return ke.set(P,Ne),Ne}if(Q.test(D)){var Pe=D.match(Q),Re=(0,k.Z)(Pe,3),Ze=Re[1],Ie=Re[2],Ee=(0,H.tO)("https://gist.github.com/".concat(Ze,"/").concat(Ie)),xe={type:"document",srcdoc:function(){return a(`
          <script src="`.concat(Ee,`.js"><\/script>
          <style type="text/css">
            * { margin: 0px; }
            table, .gist { height: 100%; }
            .gist .gist-file { height: calc(100vh - 2px); padding: 0px; display: grid; grid-template-rows: 1fr auto; }
          </style>
        `))},aspectRatio:{w:550,h:720},sandbox:{allowSameOrigin:F}};return ke.set(D,xe),xe}return ke.set(D,{link:D,aspectRatio:le,type:X,sandbox:{allowSameOrigin:F}}),{link:D,aspectRatio:le,type:X,sandbox:{allowSameOrigin:F}}},h=function(D){if((0,L.gs)(D))return!0;if(D.type==="text"){var P=(0,j.tl)(D);if(P&&(0,L.gs)(P))return!0}return!1},m=function(D){var P,F=D.link&&(D==null?void 0:D.link)!==""?D.link:"Empty Web-Embed",X=Math.max(Math.min(D.width/2,D.width/F.length),D.width/30),le=w.ut.Helvetica,de=(0,M.mO)({fontSize:X,fontFamily:le});return(0,d.VL)({x:D.x+D.width/2,y:D.y+D.height/2,strokeColor:D.strokeColor!=="transparent"?D.strokeColor:"black",backgroundColor:"transparent",fontFamily:le,fontSize:X,text:(0,j.lD)(F,de,D.width-20),textAlign:"center",verticalAlign:w.oX.MIDDLE,angle:(P=D.angle)!==null&&P!==void 0?P:0})},C=((0,b.z)({name:"setEmbeddableAsActiveTool",trackEvent:{category:"toolbar"},perform:function(D,P,F,X){var le=(0,M.Om)(P,{type:"embeddable"});return(0,f.Uk)(X.canvas,ve(ve({},P),{},{activeTool:le})),{elements:D,appState:ve(ve({},P),{},{activeTool:(0,M.Om)(P,{type:"embeddable"})}),commitToHistory:!1}}}),function(D,P){try{var F=new URL(D).hostname.replace(/^www\./,"");if(P instanceof Set){if(v.has(F))return F;var X=F.replace(/^([^.]+)/,"*");return v.has(X)?X:null}var le=P.replace(/^www\./,"");if(F===le)return le}catch{}return null}),U=function(D){var P=D.match(B);if(P&&P.length===2)return P[1];var F=D.match(K);if(F&&F.length===2)return F[1];if(E.test(D))return"https://giphy.com/embed/".concat(E.exec(D)[1]);var X=D.match(R);return X&&X.length===2?X[1]:D},V=function(D,P){if(!D)return!1;if(P!=null)if(typeof P=="function"){var F=P(D);if(typeof F=="boolean")return F}else{if(typeof P=="boolean")return P;if(P instanceof RegExp)return P.test(D);if(Array.isArray(P)){var X,le=x(P);try{for(le.s();!(X=le.n()).done;){var de=X.value;if(de instanceof RegExp){if(D.match(de))return!0}else if(C(D,de))return!0}}catch(fe){le.e(fe)}finally{le.f()}return!1}}return!!C(D,v)}},4178:function(ue,n,r){r.d(n,{PK:function(){return H},Xx:function(){return x},bp:function(){return q},oA:function(){return S}});var A=r(2577),k=r(7169),b=r(8950),w=r(2975),N=r.n(w),M=r(9937),f=r(8227),d=r(4183);function j(ve,ke){var Se=Object.keys(ve);if(Object.getOwnPropertySymbols){var ge=Object.getOwnPropertySymbols(ve);ke&&(ge=ge.filter(function(J){return Object.getOwnPropertyDescriptor(ve,J).enumerable})),Se.push.apply(Se,ge)}return Se}function L(ve){for(var ke=1;ke<arguments.length;ke++){var Se=arguments[ke]!=null?arguments[ke]:{};ke%2?j(Object(Se),!0).forEach(function(ge){(0,k.Z)(ve,ge,Se[ge])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ve,Object.getOwnPropertyDescriptors(Se)):j(Object(Se)).forEach(function(ge){Object.defineProperty(ve,ge,Object.getOwnPropertyDescriptor(Se,ge))})}return ve}var H=function(ve){return new Promise(function(ke,Se){var ge=new Image;ge.onload=function(){ke(ge)},ge.onerror=function(J){Se(J)},ge.src=ve})},x=function(){var ve=(0,b.Z)(N().mark(function ke(Se){var ge,J,Q,K,T;return N().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return ge=Se.fileIds,J=Se.files,Q=Se.imageCache,K=new Map,T=new Map,B.next=5,Promise.all(ge.reduce(function(O,R){var E=J[R];return E&&!K.has(R)?(K.set(R,!0),O.concat((0,b.Z)(N().mark(function v(){var i,a,y;return N().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(h.prev=0,E.mimeType!==M.LO.binary){h.next=3;break}throw new Error("Only images can be added to ImageCache");case 3:return i=H(E.dataURL),a={image:i,mimeType:E.mimeType},Q.set(R,a),h.next=8,i;case 8:y=h.sent,Q.set(R,L(L({},a),{},{image:y})),h.next=15;break;case 12:h.prev=12,h.t0=h.catch(0),T.set(R,!0);case 15:case"end":return h.stop()}},v,null,[[0,12]])}))())):O},[]));case 5:return B.abrupt("return",{imageCache:Q,updatedFiles:K,erroredFiles:T});case 6:case"end":return B.stop()}},ke)}));return function(ke){return ve.apply(this,arguments)}}(),S=function(ve){return ve.filter(function(ke){return(0,d.wi)(ke)})},q=function(){var ve=(0,b.Z)(N().mark(function ke(Se){var ge,J,Q,K,T,B,O;return N().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(ge=new DOMParser().parseFromString(Se,M.LO.svg),J=ge.querySelector("svg"),!ge.querySelector("parsererror")&&((E=J)==null?void 0:E.nodeName.toLowerCase())==="svg"){R.next=7;break}throw new Error((0,f.t)("errors.invalidSVGString"));case 7:return J.hasAttribute("xmlns")||J.setAttribute("xmlns",M.hR),J.hasAttribute("width")&&J.hasAttribute("height")||(Q=J.getAttribute("viewBox"),K=J.getAttribute("width")||"50",T=J.getAttribute("height")||"50",Q&&(B=Q.match(/\d+ +\d+ +(\d+) +(\d+)/))&&(O=(0,A.Z)(B,3),K=O[1],T=O[2]),J.setAttribute("width",K),J.setAttribute("height",T)),R.abrupt("return",J.outerHTML);case 10:case"end":return R.stop()}var E},ke)}));return function(ke){return ve.apply(this,arguments)}}()},7651:function(ue,n,r){r.d(n,{ox:function(){return M.ox},BQ:function(){return F},_M:function(){return X},EJ:function(){return E},o8:function(){return T},Sy:function(){return w.Sy},Y5:function(){return N.Y5},os:function(){return N.os},KP:function(){return N.KP},Un:function(){return ve},UC:function(){return N.UC},$V:function(){return R},qf:function(){return N.qf},Pi:function(){return N.Pi},jt:function(){return x},o4:function(){return k.o4},Lm:function(){return U},Xf:function(){return V},Qp:function(){return k.Qp},T:function(){return ke.T},xx:function(){return ke.xx},Uo:function(){return m},n2:function(){return S},PC:function(){return M.PC},kK:function(){return M.kK},n_:function(){return C},wX:function(){return f.wX},r2:function(){return b.r2},He:function(){return b.He},wB:function(){return f.wB},QD:function(){return k.QD},qP:function(){return D},iB:function(){return b.iB},Up:function(){return w.Up},vw:function(){return w.vw},y8:function(){return w.y8},VL:function(){return w.VL},oN:function(){return J.oN},JZ:function(){return w.JZ},RT:function(){return a},b_:function(){return v.b_},vY:function(){return ke.vY},N_:function(){return w.N_}});var A=r(7169),k=r(7935),b=r(4183),w=r(5742),N=r(4949),M=r(4048),f=r(3528),d=r(2577),j=r(2726),L=["rotation"],H=function(le,de,fe){return de>=le[0]&&de<=le[0]+le[2]&&fe>=le[1]&&fe<=le[1]+le[3]},x=function(le,de,fe,pe,ne,oe){return le.reduce(function(be,Me){if(be)return be;var Ge=function(qe,Ne,Pe,Re,Ze,Ie){if(!Ne.selectedElementIds[qe.id])return!1;var Ee=(0,M.PC)(qe,Ze,Ie),xe=Ee.rotation,Z=(0,j.Z)(Ee,L);if(xe&&H(xe,Pe,Re))return"rotation";var u=Object.keys(Z).filter(function(g){var z=Z[g];return!!z&&H(z,Pe,Re)});return u.length>0&&u[0]}(Me,de,fe,pe,ne,oe);return Ge?{element:Me,transformHandleType:Ge}:null},null)},S=function(le,de,fe,pe,ne){var oe=(0,d.Z)(le,4),be=oe[0],Me=oe[1],Ge=oe[2],qe=oe[3],Ne=(0,M.kK)([be,Me,Ge,qe,(be+Ge)/2,(Me+qe)/2],0,pe,ne,M.ox);return Object.keys(Ne).find(function(Pe){var Re=Ne[Pe];return Re&&H(Re,de,fe)})||!1},q=["ns","nesw","ew","nwse"],ve=function(le){var de=le.element,fe=le.transformHandleType,pe=de&&Math.sign(de.height)*Math.sign(de.width)==-1,ne=null;switch(fe){case"n":case"s":ne="ns";break;case"w":case"e":ne="ew";break;case"nw":case"se":ne=pe?"nesw":"nwse";break;case"ne":case"sw":ne=pe?"nwse":"nesw";break;case"rotation":return"grab"}return ne&&de&&(ne=function(oe,be){var Me=q.indexOf(oe);if(Me>=0){var Ge=Math.round(be/(Math.PI/4));oe=q[(Me+Ge)%q.length]}return oe}(ne,de.angle)),ne?"".concat(ne,"-resize"):""},ke=r(4381),Se=r(9645),ge=r(583),J=r(4761),Q=r(9215),K=r(2361),T=function(le,de,fe,pe,ne,oe,be){var Me=new Set(de),Ge=de.filter(function(Pe){return(0,b.He)(Pe)}).map(function(Pe){return Pe.id});Ge.length>0&&ne.getNonDeletedElements().filter(function(Pe){return!(0,b.Xh)(Pe)}).filter(function(Pe){return Pe.frameId!==null}).filter(function(Pe){return Ge.includes(Pe.frameId)}).forEach(function(Pe){return Me.add(Pe)});var qe=(0,N.KP)(Array.from(Me).map(function(Pe){var Re;return(Re=le.originalElements.get(Pe.id))!==null&&Re!==void 0?Re:Pe})),Ne=B(qe,fe,oe,be);Me.forEach(function(Pe){if(O(le,Pe,Ne),!(0,b.Yv)(Pe)&&(!Pe.groupIds.length||pe.editingGroupId&&!(0,Q.zq)(pe,Pe))){var Re=(0,J.WJ)(Pe);Re&&O(le,Re,Ne)}(0,Se.Ww)(Pe,{simultaneouslyUpdated:Array.from(Me)})})},B=function(le,de,fe,pe){var ne=(0,d.Z)(le,2),oe=ne[0],be=ne[1],Me=oe+de.x+fe.x,Ge=be+de.y+fe.y;if(fe.x===0||fe.y===0){var qe=(0,K.wC)(oe+de.x,be+de.y,pe),Ne=(0,d.Z)(qe,2),Pe=Ne[0],Re=Ne[1];fe.x===0&&(Me=Pe),fe.y===0&&(Ge=Re)}return{x:Me-oe,y:Ge-be}},O=function(le,de,fe){var pe,ne=(pe=le.originalElements.get(de.id))!==null&&pe!==void 0?pe:de,oe=ne.x+fe.x,be=ne.y+fe.y;(0,ge.DR)(de,{x:oe,y:be})},R=function(le,de,fe){var pe=(0,N.KP)(le),ne=(0,d.Z)(pe,2);return[de-ne[0],fe-ne[1]]},E=function(le,de,fe,pe,ne,oe,be,Me,Ge,qe,Ne){var Pe=arguments.length>11&&arguments[11]!==void 0?arguments[11]:null;if(Ge&&le.type!=="selection")if(Ne)Me=be/Ne;else{if(Math.abs(oe-pe)>Math.abs(ne-fe)){var Re=(0,k.uK)(de,Me,ne<fe?-be:be);be=Re.width,Me=Re.height}else{var Ze=(0,k.uK)(de,be,oe<pe?-Me:Me);be=Ze.width,Me=Ze.height}Me<0&&(Me=-Me)}var Ie,Ee,xe=ne<fe?fe-be:fe,Z=oe<pe?pe-Me:pe;qe&&(xe=fe-(be+=be)/2,Z=pe-(Me+=Me)/2),be!==0&&Me!==0&&(0,ge.DR)(le,{x:xe+((Ie=Pe==null?void 0:Pe.x)!==null&&Ie!==void 0?Ie:0),y:Z+((Ee=Pe==null?void 0:Pe.y)!==null&&Ee!==void 0?Ee:0),width:be,height:Me})},v=r(3474),i=r(4105),a=function(le,de){return!!(!le.viewModeEnabled&&(le.activeTool.type!=="custom"&&(le.editingElement||le.activeTool.type!=="selection"&&le.activeTool.type!=="eraser"&&le.activeTool.type!=="hand"&&le.activeTool.type!=="laser")||(0,i.eD)(de,le).length))};function y(le,de){var fe=Object.keys(le);if(Object.getOwnPropertySymbols){var pe=Object.getOwnPropertySymbols(le);de&&(pe=pe.filter(function(ne){return Object.getOwnPropertyDescriptor(le,ne).enumerable})),fe.push.apply(fe,pe)}return fe}function h(le){for(var de=1;de<arguments.length;de++){var fe=arguments[de]!=null?arguments[de]:{};de%2?y(Object(fe),!0).forEach(function(pe){(0,A.Z)(le,pe,fe[pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(le,Object.getOwnPropertyDescriptors(fe)):y(Object(fe)).forEach(function(pe){Object.defineProperty(le,pe,Object.getOwnPropertyDescriptor(fe,pe))})}return le}var m=function(le){return le.reduce(function(de,fe){return de+fe.version},0)},C=function(le){return le.filter(function(de){return!de.isDeleted&&!(0,k.QD)(de)})},U=function(le){return le.filter(function(de){return!de.isDeleted})},V=function(le){return le.filter(function(de){return!de.isDeleted})},D=function(le){return!le.isDeleted},P=function(le){return U(le).map(function(de){return(0,b.dt)(de.type)?h(h({},de),{},{lastCommittedPoint:null}):de})},F=function(le){return P(le)},X=function(le){return P(le)}},7422:function(ue,n,r){r.d(n,{_:function(){return B}});var A=r(1930),k=r(7169),b=r(2577),w=r(8821),N=r(5169),M=r(2361),f=r(7651),d=r(4949),j=r(583),L=r(457),H=r(9645),x=r(9827),S=r(4183),q=r(5491),ve=r(4761),ke=r(9937),Se=r(2921);function ge(R,E){var v=typeof Symbol<"u"&&R[Symbol.iterator]||R["@@iterator"];if(!v){if(Array.isArray(R)||(v=function(C,U){if(C){if(typeof C=="string")return J(C,U);var V=Object.prototype.toString.call(C).slice(8,-1);if(V==="Object"&&C.constructor&&(V=C.constructor.name),V==="Map"||V==="Set")return Array.from(C);if(V==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(V))return J(C,U)}}(R))||E){v&&(R=v);var i=0,a=function(){};return{s:a,n:function(){return i>=R.length?{done:!0}:{done:!1,value:R[i++]}},e:function(C){throw C},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var y,h=!0,m=!1;return{s:function(){v=v.call(R)},n:function(){var C=v.next();return h=C.done,C},e:function(C){m=!0,y=C},f:function(){try{h||v.return==null||v.return()}finally{if(m)throw y}}}}function J(R,E){(E==null||E>R.length)&&(E=R.length);for(var v=0,i=new Array(E);v<E;v++)i[v]=R[v];return i}function Q(R,E){var v=Object.keys(R);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(R);E&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(R,a).enumerable})),v.push.apply(v,i)}return v}function K(R){for(var E=1;E<arguments.length;E++){var v=arguments[E]!=null?arguments[E]:{};E%2?Q(Object(v),!0).forEach(function(i){(0,k.Z)(R,i,v[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(v)):Q(Object(v)).forEach(function(i){Object.defineProperty(R,i,Object.getOwnPropertyDescriptor(v,i))})}return R}var T={version:null,points:[],zoom:null},B=function(){function R(E,v){(0,w.Z)(this,R),this.elementId=E.id,L.Z.mapElementToScene(this.elementId,v),R.normalizePoints(E),this.selectedPointsIndices=null,this.lastUncommittedPoint=null,this.isDragging=!1,this.pointerOffset={x:0,y:0},this.startBindingElement="keep",this.endBindingElement="keep",this.pointerDownState={prevSelectedPointsIndices:null,lastClickedPoint:-1,origin:null,segmentMidpoint:{value:null,index:null,added:!1}},this.hoverPointIndex=-1,this.segmentMidPointHoveredCoords=null}return(0,N.Z)(R,null,[{key:"getElement",value:function(E){var v,i=(v=L.Z.getScene(E))===null||v===void 0?void 0:v.getNonDeletedElement(E);return i||null}},{key:"handleBoxSelection",value:function(E,v,i){var a;if(!v.editingLinearElement||((a=v.draggingElement)===null||a===void 0?void 0:a.type)!=="selection")return!1;var y=v.editingLinearElement,h=y.selectedPointsIndices,m=y.elementId,C=R.getElement(m);if(!C)return!1;var U=(0,f.qf)(v.draggingElement),V=(0,b.Z)(U,4),D=V[0],P=V[1],F=V[2],X=V[3],le=R.getPointsGlobalCoordinates(C).reduce(function(de,fe,pe){return(fe[0]>=D&&fe[0]<=F&&fe[1]>=P&&fe[1]<=X||E.shiftKey&&h!=null&&h.includes(pe))&&de.push(pe),de},[]);i({editingLinearElement:K(K({},y),{},{selectedPointsIndices:le.length?le:null})})}},{key:"handlePointDragging",value:function(E,v,i,a,y,h){if(!h)return!1;var m=h.selectedPointsIndices,C=h.elementId,U=R.getElement(C);if(!U)return!1;var V=U.points[h.pointerDownState.lastClickedPoint];if(m&&V){if((0,q.Ge)(E)&&m.length===1&&U.points.length>1){var D=m[0],P=U.points[D===0?1:D-1],F=R._getShiftLockedDelta(U,P,[i,a],E[q.tW.CTRL_OR_CMD]?null:v.gridSize),X=(0,b.Z)(F,2),le=X[0],de=X[1];R.movePoints(U,[{index:D,point:[le+P[0],de+P[1]],isDragging:D===h.pointerDownState.lastClickedPoint}])}else{var fe=R.createPointAt(U,i-h.pointerOffset.x,a-h.pointerOffset.y,E[q.tW.CTRL_OR_CMD]?null:v.gridSize),pe=fe[0]-V[0],ne=fe[1]-V[1];R.movePoints(U,m.map(function(Me){return{index:Me,point:Me===h.pointerDownState.lastClickedPoint?R.createPointAt(U,i-h.pointerOffset.x,a-h.pointerOffset.y,E[q.tW.CTRL_OR_CMD]?null:v.gridSize):[U.points[Me][0]+pe,U.points[Me][1]+ne],isDragging:Me===h.pointerDownState.lastClickedPoint}}))}if((0,ve.WJ)(U)&&(0,ve.RB)(U,!1),(0,S.Mn)(U,!1)){var oe=[];m[0]===0&&oe.push((0,x.AK)(R.getPointGlobalCoordinates(U,U.points[0])));var be=m[m.length-1];be===U.points.length-1&&oe.push((0,x.AK)(R.getPointGlobalCoordinates(U,U.points[be]))),oe.length&&y(U,oe)}return!0}return!1}},{key:"handlePointerUp",value:function(E,v,i){var a,y=v.elementId,h=v.selectedPointsIndices,m=v.isDragging,C=v.pointerDownState,U=R.getElement(y);if(!U)return v;var V={};if(m&&h){var D,P=ge(h);try{for(P.s();!(D=P.n()).done;){var F=D.value;if(F===0||F===U.points.length-1){(0,M.g6)(U.points,i.zoom.value)&&R.movePoints(U,[{index:F,point:F===0?U.points[U.points.length-1]:U.points[0]}]);var X=(0,H.N1)(i)?(0,H.Y9)((0,x.AK)(R.getPointAtIndexGlobalCoordinates(U,F)),L.Z.getScene(U)):null;V[F===0?"startBindingElement":"endBindingElement"]=X}}}catch(le){P.e(le)}finally{P.f()}}return K(K(K({},v),V),{},{selectedPointsIndices:m||E.shiftKey?!m&&E.shiftKey&&(a=C.prevSelectedPointsIndices)!==null&&a!==void 0&&a.includes(C.lastClickedPoint)?h&&h.filter(function(le){return le!==C.lastClickedPoint}):h:h!=null&&h.includes(C.lastClickedPoint)?[C.lastClickedPoint]:h,isDragging:!1,pointerOffset:{x:0,y:0}})}},{key:"isSegmentTooShort",value:function(E,v,i,a){var y=(0,M.LW)(v[0],v[1],i[0],i[1]);return E.points.length>2&&E.roundness&&(y=(0,M.eH)(E,i)),y*a.value<4*R.POINT_HANDLE_SIZE}},{key:"getSegmentMidPoint",value:function(E,v,i,a){var y=(0,M.H5)(v,i);if(E.points.length>2&&E.roundness){var h=(0,M.yB)(E,E.points[a]);if(h){var m=(0,M.lk)(E,E.points[a],.5),C=(0,M.N_)(h[0],h[1],h[2],h[3],m),U=(0,b.Z)(C,2),V=U[0],D=U[1];y=R.getPointGlobalCoordinates(E,[V,D])}}return y}},{key:"getSegmentMidPointIndex",value:function(E,v,i){var a=R.getElement(E.elementId);if(!a)return-1;for(var y=R.getEditorMidPoints(a,v),h=0;h<y.length;){if(R.arePointsEqual(i,y[h]))return h+1;h++}return-1}},{key:"handlePointerDown",value:function(E,v,i,a,y){var h,m={didAddPoint:!1,hitElement:null,linearElementEditor:null};if(!y)return m;var C=y.elementId,U=R.getElement(C);if(!U)return m;var V=R.getSegmentMidpointHitCoords(y,a,v),D=null;if(V&&(D=R.getSegmentMidPointIndex(y,v,V)),E.altKey&&v.editingLinearElement)return y.lastUncommittedPoint==null&&((0,j.DR)(U,{points:[].concat((0,A.Z)(U.points),[R.createPointAt(U,a.x,a.y,E[q.tW.CTRL_OR_CMD]?null:v.gridSize)])}),m.didAddPoint=!0),i.resumeRecording(),m.linearElementEditor=K(K({},y),{},{pointerDownState:{prevSelectedPointsIndices:y.selectedPointsIndices,lastClickedPoint:-1,origin:{x:a.x,y:a.y},segmentMidpoint:{value:V,index:D,added:!1}},selectedPointsIndices:[U.points.length-1],lastUncommittedPoint:null,endBindingElement:(0,H.Y9)(a,L.Z.getScene(U))}),m.didAddPoint=!0,m;var P=R.getPointIndexUnderCursor(U,v.zoom,a.x,a.y);if(P>=0||V)m.hitElement=U;else{var F=y.startBindingElement,X=y.endBindingElement;(0,H.N1)(v)&&(0,S.Mn)(U)&&(0,H.HG)(U,F,X)}var le=(0,f.qf)(U),de=(0,b.Z)(le,4),fe=de[0],pe=de[1],ne=(fe+de[2])/2,oe=(pe+de[3])/2,be=P>-1&&(0,M.U1)(U.x+U.points[P][0],U.y+U.points[P][1],ne,oe,U.angle),Me=P>-1||E.shiftKey?E.shiftKey||(h=y.selectedPointsIndices)!==null&&h!==void 0&&h.includes(P)?O([].concat((0,A.Z)(y.selectedPointsIndices||[]),[P])):[P]:null;return m.linearElementEditor=K(K({},y),{},{pointerDownState:{prevSelectedPointsIndices:y.selectedPointsIndices,lastClickedPoint:P,origin:{x:a.x,y:a.y},segmentMidpoint:{value:V,index:D,added:!1}},selectedPointsIndices:Me,pointerOffset:be?{x:a.x-be[0],y:a.y-be[1]}:{x:0,y:0}}),m}},{key:"arePointsEqual",value:function(E,v){return!E&&!v||!(!E||!v)&&(0,M.Jj)(E,v)}},{key:"handlePointerMove",value:function(E,v,i,a){if(!a.editingLinearElement)return null;var y=a.editingLinearElement,h=y.elementId,m=y.lastUncommittedPoint,C=R.getElement(h);if(!C)return a.editingLinearElement;var U,V=C.points,D=V[V.length-1];if(!E.altKey)return D===m&&R.deletePoints(C,[V.length-1]),K(K({},a.editingLinearElement),{},{lastUncommittedPoint:null});if((0,q.Ge)(E)&&V.length>=2){var P=V[V.length-2],F=R._getShiftLockedDelta(C,P,[v,i],E[q.tW.CTRL_OR_CMD]?null:a.gridSize),X=(0,b.Z)(F,2),le=X[0],de=X[1];U=[le+P[0],de+P[1]]}else U=R.createPointAt(C,v-a.editingLinearElement.pointerOffset.x,i-a.editingLinearElement.pointerOffset.y,E[q.tW.CTRL_OR_CMD]?null:a.gridSize);return D===m?R.movePoints(C,[{index:C.points.length-1,point:U}]):R.addPoints(C,a,[{point:U}]),K(K({},a.editingLinearElement),{},{lastUncommittedPoint:C.points[C.points.length-1]})}},{key:"getPointGlobalCoordinates",value:function(E,v){var i=(0,f.qf)(E),a=(0,b.Z)(i,4),y=a[0],h=a[1],m=(y+a[2])/2,C=(h+a[3])/2,U=E.x,V=E.y,D=(0,M.U1)(U+v[0],V+v[1],m,C,E.angle),P=(0,b.Z)(D,2);return[U=P[0],V=P[1]]}},{key:"getPointsGlobalCoordinates",value:function(E){var v=(0,f.qf)(E),i=(0,b.Z)(v,4),a=i[0],y=i[1],h=i[2],m=i[3],C=(a+h)/2,U=(y+m)/2;return E.points.map(function(V){var D=E.x,P=E.y,F=(0,M.U1)(D+V[0],P+V[1],C,U,E.angle),X=(0,b.Z)(F,2);return[D=X[0],P=X[1]]})}},{key:"getPointAtIndexGlobalCoordinates",value:function(E,v){var i=v<0?E.points.length+v:v,a=(0,f.qf)(E),y=(0,b.Z)(a,4),h=y[0],m=y[1],C=(h+y[2])/2,U=(m+y[3])/2,V=E.points[i],D=E.x,P=E.y;return V?(0,M.U1)(D+V[0],P+V[1],C,U,E.angle):(0,M.U1)(D,P,C,U,E.angle)}},{key:"pointFromAbsoluteCoords",value:function(E,v){var i=(0,f.qf)(E),a=(0,b.Z)(i,4),y=a[0],h=a[1],m=(y+a[2])/2,C=(h+a[3])/2,U=(0,M.U1)(v[0],v[1],m,C,-E.angle),V=(0,b.Z)(U,2),D=V[0],P=V[1];return[D-E.x,P-E.y]}},{key:"getPointIndexUnderCursor",value:function(E,v,i,a){for(var y=R.getPointsGlobalCoordinates(E),h=y.length;--h>-1;){var m=y[h];if((0,M.LW)(i,a,m[0],m[1])*v.value<R.POINT_HANDLE_SIZE+1)return h}return-1}},{key:"createPointAt",value:function(E,v,i,a){var y=(0,M.wC)(v,i,a),h=(0,f.qf)(E),m=(0,b.Z)(h,4),C=m[0],U=m[1],V=(C+m[2])/2,D=(U+m[3])/2,P=(0,M.U1)(y[0],y[1],V,D,-E.angle),F=(0,b.Z)(P,2),X=F[0],le=F[1];return[X-E.x,le-E.y]}},{key:"getNormalizedPoints",value:function(E){var v=E.points,i=v[0][0],a=v[0][1];return{points:v.map(function(y,h){return[y[0]-i,y[1]-a]}),x:E.x+i,y:E.y+a}}},{key:"normalizePoints",value:function(E){(0,j.DR)(E,R.getNormalizedPoints(E))}},{key:"duplicateSelectedPoints",value:function(E){if(!E.editingLinearElement)return!1;var v=E.editingLinearElement,i=v.selectedPointsIndices,a=v.elementId,y=R.getElement(a);if(!y||i===null)return!1;var h=y.points,m=[],C=!1,U=-1,V=h.reduce(function(P,F,X){if(++U,P.push(F),i.includes(X)){var le=h[X+1];le||(C=!0),P.push(le?[(F[0]+le[0])/2,(F[1]+le[1])/2]:[F[0],F[1]]),m.push(U+1),++U}return P},[]);if((0,j.DR)(y,{points:V}),C){var D=y.points[y.points.length-1];R.movePoints(y,[{index:y.points.length-1,point:[D[0]+30,D[1]+30]}])}return{appState:K(K({},E),{},{editingLinearElement:K(K({},E.editingLinearElement),{},{selectedPointsIndices:m})})}}},{key:"deletePoints",value:function(E,v){var i=0,a=0;if(v.includes(0)){var y=E.points.find(function(m,C){return!v.includes(C)});y&&(i=y[0],a=y[1])}var h=E.points.reduce(function(m,C,U){return v.includes(U)||m.push(m.length?[C[0]-i,C[1]-a]:[0,0]),m},[]);R._updatePoints(E,h,i,a)}},{key:"addPoints",value:function(E,v,i){var a=[].concat((0,A.Z)(E.points),(0,A.Z)(i.map(function(y){return y.point})));R._updatePoints(E,a,0,0)}},{key:"movePoints",value:function(E,v,i){var a=E.points,y=0,h=0,m=v.find(function(U){return U.index===0});m&&(y=m.point[0]+a[m.index][0],h=m.point[1]+a[m.index][1]);var C=a.map(function(U,V){var D=v.find(function(X){return X.index===V});if(D){if(m)return U;var P=D.point[0]-a[D.index][0],F=D.point[1]-a[D.index][1];return[U[0]+P,U[1]+F]}return y||h?[U[0]-y,U[1]-h]:U});R._updatePoints(E,C,y,h,i)}},{key:"shouldAddMidpoint",value:function(E,v,i){if(!R.getElement(E.elementId))return!1;var a=E.pointerDownState.segmentMidpoint;if(a.added||a.value===null||a.index===null||E.pointerDownState.origin===null)return!1;var y=E.pointerDownState.origin,h=(0,M.LW)(y.x,y.y,v.x,v.y);return!(!i.editingLinearElement&&h<ke.f/i.zoom.value)}},{key:"addMidpoint",value:function(E,v,i,a){var y=R.getElement(E.elementId);if(y){var h=E.pointerDownState.segmentMidpoint,m={pointerDownState:E.pointerDownState,selectedPointsIndices:E.selectedPointsIndices},C=R.createPointAt(y,v.x,v.y,a?i.gridSize:null),U=[].concat((0,A.Z)(y.points.slice(0,h.index)),[C],(0,A.Z)(y.points.slice(h.index)));return(0,j.DR)(y,{points:U}),m.pointerDownState=K(K({},E.pointerDownState),{},{segmentMidpoint:K(K({},E.pointerDownState.segmentMidpoint),{},{added:!0}),lastClickedPoint:h.index}),m.selectedPointsIndices=[h.index],m}}},{key:"_updatePoints",value:function(E,v,i,a,y){var h=(0,d.Ut)(E,v),m=(0,d.Ut)(E,E.points),C=(h[0]+h[2])/2,U=(h[1]+h[3])/2,V=(m[0]+m[2])/2-C,D=(m[1]+m[3])/2-U,P=(0,M.U1)(i,a,V,D,E.angle);(0,j.DR)(E,K(K({},y),{},{points:v,x:E.x+P[0],y:E.y+P[1]}))}},{key:"_getShiftLockedDelta",value:function(E,v,i,a){var y=R.getPointGlobalCoordinates(E,v),h=(0,M.wC)(i[0],i[1],a),m=(0,b.Z)(h,2),C=m[0],U=m[1],V=(0,f.o4)(y[0],y[1],C,U),D=V.width,P=V.height;return(0,M.xj)([D,P],[0,0],-E.angle)}}]),R}();B.POINT_HANDLE_SIZE=10,B.getEditorMidPoints=function(R,E){var v=(0,ve.WJ)(R);return!E.editingLinearElement&&R.points.length>2&&!v?[]:(T.version===R.version&&T.zoom===E.zoom.value||B.updateEditorMidPointsCache(R,E),T.points)},B.updateEditorMidPointsCache=function(R,E){for(var v=B.getPointsGlobalCoordinates(R),i=0,a=[];i<v.length-1;)if(B.isSegmentTooShort(R,R.points[i],R.points[i+1],E.zoom))a.push(null),i++;else{var y=B.getSegmentMidPoint(R,v[i],v[i+1],i+1);a.push(y),i++}T.points=a,T.version=R.version,T.zoom=E.zoom.value},B.getSegmentMidpointHitCoords=function(R,E,v){var i=R.elementId,a=B.getElement(i);if(!a||B.getPointIndexUnderCursor(a,v.zoom,E.x,E.y)>=0||B.getPointsGlobalCoordinates(a).length>=3&&!v.editingLinearElement)return null;var y=B.POINT_HANDLE_SIZE/v.zoom.value,h=R.segmentMidPointHoveredCoords;if(h&&(0,M.LW)(h[0],h[1],E.x,E.y)<=y)return h;for(var m=0,C=B.getEditorMidPoints(a,v);m<C.length;){if(C[m]!==null&&(0,M.LW)(C[m][0],C[m][1],E.x,E.y)<=y)return C[m];m++}return null},B.getBoundTextElementPosition=function(R,E){var v=B.getPointsGlobalCoordinates(R);v.length<2&&(0,j.DR)(E,{isDeleted:!0});var i=0,a=0;if(R.points.length%2==1){var y=Math.floor(R.points.length/2),h=B.getPointGlobalCoordinates(R,R.points[y]);i=h[0]-E.width/2,a=h[1]-E.height/2}else{var m=R.points.length/2-1,C=T.points[m];R.points.length===2&&(C=(0,M.H5)(v[0],v[1])),C&&T.version===R.version||(C=B.getSegmentMidPoint(R,v[m],v[m+1],m+1)),i=C[0]-E.width/2,a=C[1]-E.height/2}return{x:i,y:a}},B.getMinMaxXYWithBoundText=function(R,E,v){var i=(0,b.Z)(E,4),a=i[0],y=i[1],h=i[2],m=i[3],C=(a+h)/2,U=(y+m)/2,V=B.getBoundTextElementPosition(R,v),D=V.x,P=V.y,F=D+v.width,X=P+v.height,le=(0,M.xj)([a,y],[C,U],R.angle),de=(0,M.xj)([h,y],[C,U],R.angle),fe=(0,M.xj)([D,P],[C,U],-R.angle),pe=(0,M.xj)([F,P],[C,U],-R.angle),ne=(0,M.xj)([D,X],[C,U],-R.angle),oe=(0,M.xj)([F,X],[C,U],-R.angle);return le[0]<de[0]&&le[1]>=de[1]?(a=Math.min(a,ne[0]),h=Math.max(h,Math.max(pe[0],oe[0])),y=Math.min(y,fe[1]),m=Math.max(m,oe[1])):le[0]>=de[0]&&le[1]>de[1]?(a=Math.min(a,oe[0]),h=Math.max(h,Math.max(fe[0],pe[0])),y=Math.min(y,ne[1]),m=Math.max(m,pe[1])):le[0]>=de[0]?(a=Math.min(a,pe[0]),h=Math.max(h,ne[0]),y=Math.min(y,oe[1]),m=Math.max(m,fe[1])):le[1]<=de[1]&&(a=Math.min(a,Math.min(pe[0],fe[0])),h=Math.max(h,oe[0]),y=Math.min(y,pe[1]),m=Math.max(m,ne[1])),[a,y,h,m,C,U]},B.getElementAbsoluteCoords=function(R){var E,v,i,a,y,h=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(R.points.length<2||!Se.R.get(R)){var m=R.points.reduce(function(Ge,qe){var Ne=(0,b.Z)(qe,2),Pe=Ne[0],Re=Ne[1];return Ge.minY=Math.min(Ge.minY,Re),Ge.minX=Math.min(Ge.minX,Pe),Ge.maxX=Math.max(Ge.maxX,Pe),Ge.maxY=Math.max(Ge.maxY,Re),Ge},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}),C=m.minX,U=m.minY,V=m.maxX,D=m.maxY;v=C+R.x,i=U+R.y,a=V+R.x,y=D+R.y}else{var P=Se.R.generateElementShape(R),F=(0,d.CM)(P[0]),X=(0,d.IX)(F),le=(0,b.Z)(X,4),de=le[0],fe=le[1],pe=le[2],ne=le[3];v=de+R.x,i=fe+R.y,a=pe+R.x,y=ne+R.y}var oe=(v+a)/2,be=(i+y)/2;if(E=[v,i,a,y,oe,be],!h)return E;var Me=(0,ve.WJ)(R);return Me&&(E=B.getMinMaxXYWithBoundText(R,[v,i,a,y],Me)),E};var O=function(R){var E=(0,A.Z)(new Set(R.filter(function(v){return v!==null&&v!==-1})));return(E=E.sort(function(v,i){return v-i})).length?E:null}},583:function(ue,n,r){r.d(n,{BE:function(){return H},DR:function(){return L},ZP:function(){return x}});var A=r(6655),k=r(7169),b=r(457),w=r(5999),N=r(4643),M=r(9827),f=r(2921);function d(S,q){var ve=Object.keys(S);if(Object.getOwnPropertySymbols){var ke=Object.getOwnPropertySymbols(S);q&&(ke=ke.filter(function(Se){return Object.getOwnPropertyDescriptor(S,Se).enumerable})),ve.push.apply(ve,ke)}return ve}function j(S){for(var q=1;q<arguments.length;q++){var ve=arguments[q]!=null?arguments[q]:{};q%2?d(Object(ve),!0).forEach(function(ke){(0,k.Z)(S,ke,ve[ke])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(ve)):d(Object(ve)).forEach(function(ke){Object.defineProperty(S,ke,Object.getOwnPropertyDescriptor(ve,ke))})}return S}var L=function(S,q){var ve,ke=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],Se=!1,ge=q,J=ge.points,Q=ge.fileId;for(var K in J!==void 0&&(q=j(j({},(0,w.k)(J)),q)),q){var T=q[K];if(T!==void 0){if(S[K]===T&&((0,A.Z)(T)!=="object"||T===null||K==="groupIds"||K==="scale"))continue;if(K==="scale"){var B=S[K],O=T;if(B[0]===O[0]&&B[1]===O[1])continue}else if(K==="points"){var R=S[K],E=T;if(R.length===E.length){for(var v=!1,i=R.length;--i;){var a=R[i],y=E[i];if(a[0]!==y[0]||a[1]!==y[1]){v=!0;break}}if(!v)continue}}S[K]=T,Se=!0}}return Se&&(q.height===void 0&&q.width===void 0&&Q===void 0&&J===void 0||f.R.delete(S),S.version++,S.versionNonce=(0,N.LU)(),S.updated=(0,M.C3)(),ke&&((ve=b.Z.getScene(S))===null||ve===void 0||ve.informMutation())),S},H=function(S,q){var ve=!1;for(var ke in q){var Se=q[ke];if(Se!==void 0){if(S[ke]===Se&&((0,A.Z)(Se)!=="object"||Se===null))continue;ve=!0}}return ve?j(j(j({},S),q),{},{updated:(0,M.C3)(),version:S.version+1,versionNonce:(0,N.LU)()}):S},x=function(S,q){return S.version=(q??S.version)+1,S.versionNonce=(0,N.LU)(),S.updated=(0,M.C3)(),S}},5742:function(ue,n,r){r.d(n,{JZ:function(){return E},KE:function(){return i},M:function(){return K},M3:function(){return T},N_:function(){return v},OL:function(){return m},Sy:function(){return U},Up:function(){return Q},VL:function(){return O},_N:function(){return V},vw:function(){return y},y8:function(){return a}});var A=r(6655),k=r(2577),b=r(7169),w=r(2726),N=r(9827),M=r(4643),f=r(583),d=r(9215),j=r(7651),L=r(2361),H=r(4949),x=r(4761),S=r(9937),q=["x","y","strokeColor","backgroundColor","fillStyle","strokeWidth","strokeStyle","roughness","opacity","width","height","angle","groupIds","frameId","roundness","boundElements","link","locked"];function ve(D,P){var F=typeof Symbol<"u"&&D[Symbol.iterator]||D["@@iterator"];if(!F){if(Array.isArray(D)||(F=function(ne,oe){if(ne){if(typeof ne=="string")return ke(ne,oe);var be=Object.prototype.toString.call(ne).slice(8,-1);if(be==="Object"&&ne.constructor&&(be=ne.constructor.name),be==="Map"||be==="Set")return Array.from(ne);if(be==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(be))return ke(ne,oe)}}(D))||P){F&&(D=F);var X=0,le=function(){};return{s:le,n:function(){return X>=D.length?{done:!0}:{done:!1,value:D[X++]}},e:function(ne){throw ne},f:le}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var de,fe=!0,pe=!1;return{s:function(){F=F.call(D)},n:function(){var ne=F.next();return fe=ne.done,ne},e:function(ne){pe=!0,de=ne},f:function(){try{fe||F.return==null||F.return()}finally{if(pe)throw de}}}}function ke(D,P){(P==null||P>D.length)&&(P=D.length);for(var F=0,X=new Array(P);F<P;F++)X[F]=D[F];return X}function Se(D,P){var F=Object.keys(D);if(Object.getOwnPropertySymbols){var X=Object.getOwnPropertySymbols(D);P&&(X=X.filter(function(le){return Object.getOwnPropertyDescriptor(D,le).enumerable})),F.push.apply(F,X)}return F}function ge(D){for(var P=1;P<arguments.length;P++){var F=arguments[P]!=null?arguments[P]:{};P%2?Se(Object(F),!0).forEach(function(X){(0,b.Z)(D,X,F[X])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(F)):Se(Object(F)).forEach(function(X){Object.defineProperty(D,X,Object.getOwnPropertyDescriptor(F,X))})}return D}var J=function(D,P){var F,X,le=P.x,de=P.y,fe=P.strokeColor,pe=fe===void 0?S.HN.strokeColor:fe,ne=P.backgroundColor,oe=ne===void 0?S.HN.backgroundColor:ne,be=P.fillStyle,Me=be===void 0?S.HN.fillStyle:be,Ge=P.strokeWidth,qe=Ge===void 0?S.HN.strokeWidth:Ge,Ne=P.strokeStyle,Pe=Ne===void 0?S.HN.strokeStyle:Ne,Re=P.roughness,Ze=Re===void 0?S.HN.roughness:Re,Ie=P.opacity,Ee=Ie===void 0?S.HN.opacity:Ie,xe=P.width,Z=xe===void 0?0:xe,u=P.height,g=u===void 0?0:u,z=P.angle,Y=z===void 0?0:z,te=P.groupIds,ae=te===void 0?[]:te,ce=P.frameId,ye=ce===void 0?null:ce,je=P.roundness,Be=je===void 0?null:je,Qe=P.boundElements,rt=Qe===void 0?null:Qe,Ye=P.link,tt=Ye===void 0?null:Ye,ht=P.locked,gt=ht===void 0?S.HN.locked:ht,Ue=(0,w.Z)(P,q);return{id:Ue.id||(0,M.kb)(),type:D,x:le,y:de,width:Z,height:g,angle:Y,strokeColor:pe,backgroundColor:oe,fillStyle:Me,strokeWidth:qe,strokeStyle:Pe,roughness:Ze,opacity:Ee,groupIds:ae,frameId:ye,roundness:Be,seed:(F=Ue.seed)!==null&&F!==void 0?F:(0,M.LU)(),version:Ue.version||1,versionNonce:(X=Ue.versionNonce)!==null&&X!==void 0?X:0,isDeleted:!1,boundElements:rt,updated:(0,N.C3)(),link:tt,locked:gt,customData:Ue.customData}},Q=function(D){return J(D.type,D)},K=function(D){return ge(ge({},J("embeddable",D)),{},{validated:D.validated})},T=function(D){return(0,f.BE)(ge(ge({},J("frame",D)),{},{type:"frame",name:(D==null?void 0:D.name)||null}),{})},B=function(D,P){return{x:D.textAlign==="center"?P.width/2:D.textAlign==="right"?P.width:0,y:D.verticalAlign==="middle"?P.height/2:0}},O=function(D){var P=D.fontFamily||S.rk,F=D.fontSize||S.n5,X=D.lineHeight||(0,x.PT)(P),le=(0,x.bG)(D.text),de=(0,x.X1)(le,(0,N.mO)({fontFamily:P,fontSize:F}),X),fe=D.textAlign||S.Hg,pe=D.verticalAlign||S.hs,ne=B({textAlign:fe,verticalAlign:pe},de);return(0,f.BE)(ge(ge({},J("text",D)),{},{text:le,fontSize:F,fontFamily:P,textAlign:fe,verticalAlign:pe,x:D.x-ne.x,y:D.y-ne.y,width:de.width,height:de.height,baseline:de.baseline,containerId:D.containerId||null,originalText:le,lineHeight:X}),{})},R=function(D,P){var F,X,le=(0,x.X1)(P,(0,N.mO)(D),D.lineHeight),de=le.width,fe=le.height,pe=le.baseline,ne=D.textAlign,oe=D.verticalAlign;if(ne!=="center"||oe!==S.oX.MIDDLE||D.containerId){var be=(0,j.qf)(D),Me=(0,k.Z)(be,4),Ge=Me[0],qe=Me[1],Ne=Me[2],Pe=Me[3],Re=(0,H.wC)(D,de,fe,!1),Ze=(0,k.Z)(Re,4),Ie=(Ge-Ze[0])/2,Ee=(qe-Ze[1])/2,xe=(Ne-Ze[2])/2,Z=(Pe-Ze[3])/2,u=(0,L.yq)({s:!0,e:ne==="center"||ne==="left",w:ne==="center"||ne==="right"},D.x,D.y,D.angle,Ie,Ee,xe,Z),g=(0,k.Z)(u,2);F=g[0],X=g[1]}else{var z=(0,x.X1)(D.text,(0,N.mO)(D),D.lineHeight),Y=B(D,{width:de-z.width,height:fe-z.height});F=D.x-Y.x,X=D.y-Y.y}return{width:de,height:fe,baseline:pe,x:Number.isFinite(F)?F:D.x,y:Number.isFinite(X)?X:D.y}},E=function(D){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:D.text;if(!D.isDeleted){var F=(0,x.tl)(D);F&&(P=(0,x.lD)(P,(0,N.mO)(D),(0,x.iZ)(F)));var X=R(D,P);return ge({text:P},X)}},v=function(D,P){P.text;var F=P.isDeleted,X=P.originalText;return(0,f.BE)(D,ge({originalText:X,isDeleted:F??D.isDeleted},E(D,X)))},i=function(D){return ge(ge({},J(D.type,D)),{},{points:D.points||[],pressures:[],simulatePressure:D.simulatePressure,lastCommittedPoint:null})},a=function(D){return ge(ge({},J(D.type,D)),{},{points:D.points||[],lastCommittedPoint:null,startBinding:null,endBinding:null,startArrowhead:D.startArrowhead||null,endArrowhead:D.endArrowhead||null})},y=function(D){var P,F,X;return ge(ge({},J("image",D)),{},{strokeColor:"transparent",status:(P=D.status)!==null&&P!==void 0?P:"pending",fileId:(F=D.fileId)!==null&&F!==void 0?F:null,scale:(X=D.scale)!==null&&X!==void 0?X:[1,1]})},h=function D(P){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(P==null||(0,A.Z)(P)!=="object")return P;var X=Object.prototype.toString.call(P);if(X==="[object Object]"){var le=typeof P.constructor=="function"?Object.create(Object.getPrototypeOf(P)):{};for(var de in P)if(P.hasOwnProperty(de)){if(F===0&&(de==="shape"||de==="canvas"))continue;le[de]=D(P[de],F+1)}return le}if(Array.isArray(P)){for(var fe=P.length,pe=new Array(fe);fe--;)pe[fe]=D(P[fe],F+1);return pe}return P},m=function(D){return h(D)},C=function(D){if((0,N.h2)()&&D){var P,F,X="".concat(D,"_copy");return(P=window.h)!==null&&P!==void 0&&(F=P.app)!==null&&F!==void 0&&F.getSceneElementsIncludingDeleted().find(function(le){return le.id===X})&&(X+="_copy"),X}return(0,M.kb)()},U=function(D,P,F,X){var le=m(F);return le.id=C(le.id),le.boundElements=null,le.updated=(0,N.C3)(),le.seed=(0,M.LU)(),le.groupIds=(0,d.Qy)(le.groupIds,D,function(de){return P.has(de)||P.set(de,C(de)),P.get(de)}),X&&(le=Object.assign(le,X)),le},V=function(D,P){var F,X=[],le=(0,N.xn)(D),de=new Map,fe=function(Ne){if(de.has(Ne))return de.get(Ne);if(le.has(Ne)){var Pe=C(Ne);return de.set(Ne,Pe),Pe}return null},pe=new Map,ne=ve(D);try{for(ne.s();!(F=ne.n()).done;){var oe=F.value,be=h(oe);if(be.id=fe(oe.id),P!=null&&P.randomizeSeed&&(be.seed=(0,M.LU)(),(0,f.ZP)(be)),be.groupIds&&(be.groupIds=be.groupIds.map(function(Ne){return pe.has(Ne)||pe.set(Ne,C(Ne)),pe.get(Ne)})),"containerId"in be&&be.containerId){var Me=fe(be.containerId);be.containerId=Me}if("boundElements"in be&&be.boundElements&&(be.boundElements=be.boundElements.reduce(function(Ne,Pe){var Re=fe(Pe.id);return Re&&Ne.push(ge(ge({},Pe),{},{id:Re})),Ne},[])),"endBinding"in be&&be.endBinding){var Ge=fe(be.endBinding.elementId);be.endBinding=Ge?ge(ge({},be.endBinding),{},{elementId:Ge}):null}if("startBinding"in be&&be.startBinding){var qe=fe(be.startBinding.elementId);be.startBinding=qe?ge(ge({},be.startBinding),{},{elementId:qe}):null}be.frameId&&(be.frameId=fe(be.frameId)),X.push(be)}}catch(Ne){ne.e(Ne)}finally{ne.f()}return X}},4381:function(ue,n,r){r.d(n,{LM:function(){return i},T:function(){return h},vY:function(){return T},xx:function(){return y}});var A=r(2726),k=r(1930),b=r(7169),w=r(2577),N=r(9937),M=r(5999),f=r(2361),d=r(4949),j=r(4183),L=r(583),H=r(9827),x=r(9645),S=r(457),q=r(4761),ve=r(7422),ke=["boundTextFontSize"];function Se(m,C){var U=typeof Symbol<"u"&&m[Symbol.iterator]||m["@@iterator"];if(!U){if(Array.isArray(m)||(U=function(le,de){if(le){if(typeof le=="string")return ge(le,de);var fe=Object.prototype.toString.call(le).slice(8,-1);if(fe==="Object"&&le.constructor&&(fe=le.constructor.name),fe==="Map"||fe==="Set")return Array.from(le);if(fe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(fe))return ge(le,de)}}(m))||C){U&&(m=U);var V=0,D=function(){};return{s:D,n:function(){return V>=m.length?{done:!0}:{done:!1,value:m[V++]}},e:function(le){throw le},f:D}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var P,F=!0,X=!1;return{s:function(){U=U.call(m)},n:function(){var le=U.next();return F=le.done,le},e:function(le){X=!0,P=le},f:function(){try{F||U.return==null||U.return()}finally{if(X)throw P}}}}function ge(m,C){(C==null||C>m.length)&&(C=m.length);for(var U=0,V=new Array(C);U<C;U++)V[U]=m[U];return V}function J(m,C){var U=Object.keys(m);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(m);C&&(V=V.filter(function(D){return Object.getOwnPropertyDescriptor(m,D).enumerable})),U.push.apply(U,V)}return U}function Q(m){for(var C=1;C<arguments.length;C++){var U=arguments[C]!=null?arguments[C]:{};C%2?J(Object(U),!0).forEach(function(V){(0,b.Z)(m,V,U[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(U)):J(Object(U)).forEach(function(V){Object.defineProperty(m,V,Object.getOwnPropertyDescriptor(U,V))})}return m}var K=function(m){return m<0?m+2*Math.PI:m>=2*Math.PI?m-2*Math.PI:m},T=function(m,C,U,V,D,P,F,X,le,de,fe,pe){if(U.length===1){var ne=(0,w.Z)(U,1)[0];return C==="rotation"?(B(ne,X,le,D,m.originalElements),(0,x.Ww)(ne)):!(0,j.iB)(ne)||C!=="nw"&&C!=="ne"&&C!=="sw"&&C!=="se"?C&&v(m.originalElements,F,ne,C,P,X,le):(E(ne,C,P,X,le),(0,x.Ww)(ne)),!0}if(U.length>1){if(C==="rotation")return a(m,U,X,le,D,de,fe),!0;if(C==="nw"||C==="ne"||C==="sw"||C==="se")return i(m,U,C,P,X,le),!0}return!1},B=function(m,C,U,V,D){var P,F=(0,d.qf)(m),X=(0,w.Z)(F,4),le=X[0],de=X[1],fe=(le+X[2])/2,pe=(de+X[3])/2;(0,j.He)(m)?P=0:(P=5*Math.PI/2+Math.atan2(U-pe,C-fe),V&&(P+=N.ay/2,P-=P%N.ay),P=K(P));var ne=(0,q.xB)(m);if((0,L.DR)(m,{angle:P}),ne){var oe,be=(oe=S.Z.getScene(m))===null||oe===void 0?void 0:oe.getElement(ne);be&&!(0,j.Yv)(m)&&(0,L.DR)(be,{angle:P})}},O=function(m,C,U,V){return(0,j.bt)(m)||(0,j.F9)(m)?{points:(0,M.z)(0,C,(0,M.z)(1,U,m.points,V),V)}:{}},R=function(m,C,U){var V=m.width;if((0,j.Xh)(m)){var D=(0,q.tl)(m);D&&(V=(0,q.iZ)(D))}var P=m.fontSize*(C/V);if(P<N.CP)return null;var F=(0,q.X1)(m.text,(0,H.mO)({fontSize:P,fontFamily:m.fontFamily}),m.lineHeight);return{size:P,baseline:F.baseline+(U-F.height)}},E=function(m,C,U,V,D){var P,F=(0,d.qf)(m),X=(0,w.Z)(F,4),le=X[0],de=X[1],fe=X[2],pe=X[3],ne=(le+fe)/2,oe=(de+pe)/2,be=(0,f.U1)(V,D,ne,oe,-m.angle),Me=(0,w.Z)(be,2),Ge=Me[0],qe=Me[1];switch(C){case"se":P=Math.max((Ge-le)/(fe-le),(qe-de)/(pe-de));break;case"nw":P=Math.max((fe-Ge)/(fe-le),(pe-qe)/(pe-de));break;case"ne":P=Math.max((Ge-le)/(fe-le),(pe-qe)/(pe-de));break;case"sw":P=Math.max((fe-Ge)/(fe-le),(qe-de)/(pe-de))}if(P>0){var Ne=m.width*P,Pe=m.height*P,Re=R(m,Ne,Pe);if(Re===null)return;var Ze=(0,d.wC)(m,Ne,Pe,!1),Ie=(0,w.Z)(Ze,4),Ee=(le-Ie[0])/2,xe=(de-Ie[1])/2,Z=(fe-Ie[2])/2,u=(pe-Ie[3])/2,g=(0,f.yq)(function(ae,ce){return{n:/^(n|ne|nw)$/.test(ae)||ce&&/^(s|se|sw)$/.test(ae),s:/^(s|se|sw)$/.test(ae)||ce&&/^(n|ne|nw)$/.test(ae),w:/^(w|nw|sw)$/.test(ae)||ce&&/^(e|ne|se)$/.test(ae),e:/^(e|ne|se)$/.test(ae)||ce&&/^(w|nw|sw)$/.test(ae)}}(C,U),m.x,m.y,m.angle,Ee,xe,Z,u),z=(0,w.Z)(g,2),Y=z[0],te=z[1];(0,L.DR)(m,{fontSize:Re.size,width:Ne,height:Pe,baseline:Re.baseline,x:Y,y:te})}},v=function(m,C,U,V,D,P,F){var X=m.get(U.id),le=(0,d.wC)(X,X.width,X.height,!0),de=(0,w.Z)(le,4),fe=[de[0],de[1]],pe=[de[2],de[3]],ne=(0,f.H5)(fe,pe),oe=(0,f.xj)([P,F],ne,-X.angle),be=(0,d.wC)(U,U.width,U.height,!0),Me=(0,w.Z)(be,4),Ge=Me[0],qe=Me[1],Ne=Me[2]-Ge,Pe=Me[3]-qe,Re=(pe[0]-fe[0])/Ne,Ze=(pe[1]-fe[1])/Pe,Ie={},Ee=(0,q.WJ)(U);V.includes("e")&&(Re=(oe[0]-fe[0])/Ne),V.includes("s")&&(Ze=(oe[1]-fe[1])/Pe),V.includes("w")&&(Re=(pe[0]-oe[0])/Ne),V.includes("n")&&(Ze=(pe[1]-oe[1])/Pe);var xe=X.width,Z=X.height,u=U.width*Re,g=U.height*Ze;if(D&&(u=2*u-xe,g=2*g-Z),C){var z=Math.abs(u)/xe,Y=Math.abs(g)/Z;if(V.length===1&&(g*=z,u*=Y),V.length===2){var te=Math.max(z,Y);u=xe*te*Math.sign(u),g=Z*te*Math.sign(g)}}if(Ee){var ae=m.get(Ee.id);if(ae&&(Ie={fontSize:ae.fontSize,baseline:ae.baseline}),C){var ce=Q(Q({},U),{},{width:u,height:g}),ye=R(Ee,(0,q.iZ)(ce),(0,q.D9)(ce,Ee));if(ye===null)return;Ie={fontSize:ye.size,baseline:ye.baseline}}else{var je=(0,q.AT)((0,H.mO)(Ee),Ee.lineHeight),Be=(0,q.w_)(Ee.fontSize,Ee.lineHeight);u=Math.max(u,je),g=Math.max(g,Be)}}var Qe=(0,d.wC)(X,u,g,!0),rt=(0,w.Z)(Qe,4),Ye=rt[0],tt=rt[1],ht=rt[2],gt=rt[3],Ue=ht-Ye,Ce=gt-tt,Le=[].concat(fe);if(["n","w","nw"].includes(V)&&(Le=[pe[0]-Math.abs(Ue),pe[1]-Math.abs(Ce)]),V==="ne"){var et=[fe[0],pe[1]];Le=[et[0],et[1]-Math.abs(Ce)]}if(V==="sw"){var ft=[pe[0],fe[1]];Le=[ft[0]-Math.abs(Ue),ft[1]]}C&&(["s","n"].includes(V)&&(Le[0]=ne[0]-Ue/2),["e","w"].includes(V)&&(Le[1]=ne[1]-Ce/2));var xt=g<0;u<0&&(V.includes("e")&&(Le[0]-=Math.abs(Ue)),V.includes("w")&&(Le[0]+=Math.abs(Ue))),xt&&(V.includes("s")&&(Le[1]-=Math.abs(Ce)),V.includes("n")&&(Le[1]+=Math.abs(Ce))),D&&(Le[0]=ne[0]-Math.abs(Ue)/2,Le[1]=ne[1]-Math.abs(Ce)/2);var wt=X.angle,Rt=(0,f.xj)(Le,ne,wt),It=[Le[0]+Math.abs(Ue)/2,Le[1]+Math.abs(Ce)/2],At=(0,f.xj)(It,ne,wt);Le=(0,f.xj)(Rt,At,-wt);var Xt=(0,k.Z)(Le),tr=X.x-Ye,Gt=X.y-tt;Xt[0]+=tr,Xt[1]+=Gt;var Jt,gr,Pt=Xt[0],St=Xt[1];((0,j.bt)(U)||(0,j.F9)(U))&&(Jt=(0,M.z)(1,g,X.points,!0),gr=(0,M.z)(0,u,Jt,!0));var Zt={width:Math.abs(u),height:Math.abs(g),x:Pt,y:St,points:gr};if("scale"in U&&"scale"in X&&(0,L.DR)(U,{scale:[(Math.sign(ht-X.x)||X.scale[0])*X.scale[0],(Math.sign(gt-X.y)||X.scale[1])*X.scale[1]]}),(0,j.Yv)(U)&&Ee&&C){var Tt=Zt.width/U.width*Ee.fontSize;if(Tt<N.CP)return;Ie.fontSize=Tt}Zt.width!==0&&Zt.height!==0&&Number.isFinite(Zt.x)&&Number.isFinite(Zt.y)&&((0,L.DR)(U,Zt),(0,x.Ww)(U,{newSize:{width:Zt.width,height:Zt.height}}),Ee&&Ie!=null&&(0,L.DR)(Ee,{fontSize:Ie.fontSize,baseline:Ie.baseline}),(0,q.RB)(U,V,C))},i=function(m,C,U,V,D,P){var F,X=C.reduce(function(Tt,Lt){var Wt=m.originalElements.get(Lt.id);return Wt&&Tt.push({orig:Wt,latest:Lt}),Tt},[]),le=X.reduce(function(Tt,Lt){var Wt,qt=Lt.orig;if(!(0,j.bt)(qt))return Tt;var sr=(0,q.xB)(qt);if(!sr)return Tt;var cr=(Wt=m.originalElements.get(sr))!==null&&Wt!==void 0?Wt:null;if(!(0,j.Xh)(cr))return Tt;var Sr=ve._.getBoundTextElementPosition(qt,cr);return[].concat((0,k.Z)(Tt),[Q(Q({},cr),Sr)])},[]),de=(0,d.v2)(X.map(function(Tt){return Tt.orig}).concat(le)),fe=de.minX,pe=de.minY,ne=de.maxX,oe=de.maxY,be=de.midX,Me=de.midY,Ge=U,qe=V?[be,Me]:{ne:[fe,oe],se:[fe,pe],sw:[ne,pe],nw:[ne,oe]}[Ge],Ne=(0,w.Z)(qe,2),Pe=Ne[0],Re=Ne[1],Ze=Math.max(Math.abs(D-Pe)/(ne-fe)||0,Math.abs(P-Re)/(oe-pe)||0)*(V?2:1);if(Ze!==0){var Ie,Ee={ne:[D>=Pe,P<=Re],se:[D>=Pe,P>=Re],sw:[D<=Pe,P>=Re],nw:[D<=Pe,P<=Re]}[Ge].map(function(Tt){return Tt?1:-1}),xe=(0,w.Z)(Ee,2),Z=xe[0],u=xe[1],g=Z<0,z=u<0,Y=[],te=Se(X);try{for(te.s();!(Ie=te.n()).done;){var ae,ce=Ie.value,ye=ce.orig,je=ce.latest;if(!(0,j.iB)(ye)||!(0,j.Xh)(ye)){var Be=ye.width*Ze,Qe=ye.height*Ze,rt=K(ye.angle*Z*u),Ye=(0,j.bt)(ye)||(0,j.F9)(ye),tt=ye.x-Pe,ht=ye.y-Re,gt=Pe+Z*(tt*Ze+(g&&!Ye?Be:0)),Ue=Re+u*(ht*Ze+(z&&!Ye?Qe:0)),Ce=O(ye,Be*Z,Qe*u,!1),Le=Q({x:gt,y:Ue,width:Be,height:Qe,angle:rt},Ce);if((0,j.pC)(ye)&&X.length===1&&(Le.scale=[ye.scale[0]*Z,ye.scale[1]*u]),(0,j.bt)(ye)&&(g||z)&&function(){var Tt=(0,d.Ut)(ye,ye.points),Lt=(0,d.Ut)(Q(Q({},ye),{},{x:gt,y:Ue}),Ce.points),Wt=[ye.x,ye.y],qt=[gt,Ue],sr=function(cr){var Sr=cr==="x"?0:1;return(Lt[Sr+2]-qt[Sr]-(Wt[Sr]-Tt[Sr])*Ze+(Tt[Sr+2]-Wt[Sr])*Ze-(qt[Sr]-Lt[Sr]))/2};g&&(Le.x-=sr("x")),z&&(Le.y-=sr("y"))}(),(0,j.iB)(ye)){var et=R(ye,Be,Qe);if(!et)return;Le.fontSize=et.size,Le.baseline=et.baseline}var ft=m.originalElements.get((ae=(0,q.xB)(ye))!==null&&ae!==void 0?ae:"");if(ft){var xt=ft.fontSize*Ze;if(xt<N.CP)return;Le.boundTextFontSize=xt}Y.push({element:je,update:Le})}}}catch(Tt){te.e(Tt)}finally{te.f()}for(var wt=Y.map(function(Tt){return Tt.element}),Rt=0,It=Y;Rt<It.length;Rt++){var At=It[Rt],Xt=At.element,tr=At.update,Gt=tr.boundTextFontSize,Jt=(0,A.Z)(tr,ke),gr=Jt.width,Pt=Jt.height,St=Jt.angle;(0,L.DR)(Xt,Jt,!1),(0,x.Ww)(Xt,{simultaneouslyUpdated:wt,newSize:{width:gr,height:Pt}});var Zt=(0,q.WJ)(Xt);Zt&&Gt&&((0,L.DR)(Zt,{fontSize:Gt,angle:(0,j.bt)(Xt)?void 0:St},!1),(0,q.RB)(Xt,U,!0))}(F=S.Z.getScene(Y[0].element))===null||F===void 0||F.informMutation()}},a=function(m,C,U,V,D,P,F){var X,le=5*Math.PI/2+Math.atan2(V-F,U-P);D&&(le+=N.ay/2,le-=le%N.ay),C.filter(function(de){return de.type!=="frame"}).forEach(function(de){var fe,pe,ne=(0,d.qf)(de),oe=(0,w.Z)(ne,4),be=oe[0],Me=oe[1],Ge=(be+oe[2])/2,qe=(Me+oe[3])/2,Ne=(fe=(pe=m.originalElements.get(de.id))===null||pe===void 0?void 0:pe.angle)!==null&&fe!==void 0?fe:de.angle,Pe=(0,f.U1)(Ge,qe,P,F,le+Ne-de.angle),Re=(0,w.Z)(Pe,2),Ze=Re[0],Ie=Re[1];(0,L.DR)(de,{x:de.x+(Ze-Ge),y:de.y+(Ie-qe),angle:K(le+Ne)},!1),(0,x.Ww)(de,{simultaneouslyUpdated:C});var Ee=(0,q.WJ)(de);Ee&&!(0,j.Yv)(de)&&(0,L.DR)(Ee,{x:Ee.x+(Ze-Ge),y:Ee.y+(Ie-qe),angle:K(le+Ne)},!1)}),(X=S.Z.getScene(C[0]))===null||X===void 0||X.informMutation()},y=function(m,C,U,V){var D=C.length===1?(0,d.qf)(C[0]):(0,d.KP)(C),P=(0,w.Z)(D,4),F=P[0],X=P[1],le=P[2],de=P[3],fe=(F+le)/2,pe=(X+de)/2,ne=C.length===1?C[0].angle:0,oe=(0,f.U1)(U,V,fe,pe,-ne),be=(0,w.Z)(oe,2);switch(U=be[0],V=be[1],m){case"n":return(0,f.U1)(U-(F+le)/2,V-X,0,0,ne);case"s":return(0,f.U1)(U-(F+le)/2,V-de,0,0,ne);case"w":return(0,f.U1)(U-F,V-(X+de)/2,0,0,ne);case"e":return(0,f.U1)(U-le,V-(X+de)/2,0,0,ne);case"nw":return(0,f.U1)(U-F,V-X,0,0,ne);case"ne":return(0,f.U1)(U-le,V-X,0,0,ne);case"sw":return(0,f.U1)(U-F,V-de,0,0,ne);case"se":return(0,f.U1)(U-le,V-de,0,0,ne);default:return[0,0]}},h=function(m,C){var U=(0,w.Z)(C.points,2),V=(0,w.Z)(U[1],2),D=V[0],P=V[1];return m==="nw"&&(D<0||P<0)||m==="ne"&&D>=0||m==="sw"&&D<=0||m==="se"&&(D>0||P>0)?"end":"origin"}},7935:function(ue,n,r){r.d(n,{PZ:function(){return f},QD:function(){return M},Qp:function(){return L},o4:function(){return j},uK:function(){return d}});var A=r(2577),k=(r(583),r(4183)),b=r(9937),w=r(4949),N=r(9827),M=function(H){return(0,k.bt)(H)||(0,k.F9)(H)?H.points.length<2:H.width===0&&H.height===0},f=function(H,x,S,q){var ve=(0,w.Pi)(H),ke=(0,A.Z)(ve,4),Se=ke[0],ge=ke[1],J=ke[2],Q=ke[3],K=(0,N.dE)({clientX:q.offsetLeft,clientY:q.offsetTop},q),T=(0,N.dE)({clientX:q.offsetLeft+x,clientY:q.offsetTop+S},q);return K.x<=J&&K.y<=Q&&T.x>=Se&&T.y>=ge},d=function(H,x,S){var q=Math.abs(x),ve=Math.abs(S);if(H==="line"||H==="arrow"||H==="freedraw"){var ke=Math.round(Math.atan(ve/q)/b.ay)*b.ay;ke===0?S=0:ke===Math.PI/2?x=0:S=q*Math.tan(ke)*Math.sign(S)||S}else H!=="selection"&&(S=q*Math.sign(S));return{width:x,height:S}},j=function(H,x,S,q){var ve=S-H,ke=q-x,Se=Math.round(Math.atan(ke/ve)/b.ay)*b.ay;if(Se===0)ke=0;else if(Se===Math.PI/2)ve=0;else{var ge=Math.tan(Se),J=x-ge*H,Q=-1/ge,K=q-Q*S;ve=(-1*K- -1*J)/(-1*ge- -1*Q)-H,ke=(J*Q-K*ge)/(-1*ge- -1*Q)-x}return{width:ve,height:ke}},L=function(H){var x={width:H.width,height:H.height,x:H.x,y:H.y};if(H.width<0){var S=Math.abs(H.width);x.width=S,x.x=H.x-S}if(H.height<0){var q=Math.abs(H.height);x.height=q,x.y=H.y-q}return x}},4761:function(ue,n,r){r.d(n,{$2:function(){return v},AT:function(){return D},D9:function(){return Pe},FE:function(){return O},H_:function(){return pe},NS:function(){return qe},OW:function(){return be},P7:function(){return T},PT:function(){return Ie},R8:function(){return E},RB:function(){return B},Rg:function(){return i},TP:function(){return de},WJ:function(){return X},X1:function(){return R},Zr:function(){return Ge},aV:function(){return oe},bG:function(){return J},cn:function(){return ne},cw:function(){return fe},eB:function(){return Re},iZ:function(){return Ne},lD:function(){return C},mY:function(){return h},oN:function(){return K},tl:function(){return le},w_:function(){return a},xB:function(){return F}});var A,k=r(2577),b=r(1930),w=r(7169),N=r(9827),M=r(583),f=r(9937),d=r(457),j=r(7651),L=r(4183),H=r(7422),x=r(4105),S=r(3528),q=r(3474);function ve(Ee,xe){var Z=Object.keys(Ee);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(Ee);xe&&(u=u.filter(function(g){return Object.getOwnPropertyDescriptor(Ee,g).enumerable})),Z.push.apply(Z,u)}return Z}function ke(Ee){for(var xe=1;xe<arguments.length;xe++){var Z=arguments[xe]!=null?arguments[xe]:{};xe%2?ve(Object(Z),!0).forEach(function(u){(0,w.Z)(Ee,u,Z[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(Z)):ve(Object(Z)).forEach(function(u){Object.defineProperty(Ee,u,Object.getOwnPropertyDescriptor(Z,u))})}return Ee}var Se,ge,J=function(Ee){return Ee.replace(/\t/g,"        ").replace(/\r?\n|\r/g,`
`)},Q=function(Ee){return J(Ee).split(`
`)},K=function(Ee,xe){var Z=void 0,u={x:Ee.x,y:Ee.y,text:Ee.text,width:Ee.width,height:Ee.height,baseline:Ee.baseline};u.text=Ee.text,xe&&(Z=Ne(xe,Ee),u.text=C(Ee.originalText,(0,N.mO)(Ee),Z));var g=R(u.text,(0,N.mO)(Ee),Ee.lineHeight);if(u.width=g.width,u.height=g.height,u.baseline=g.baseline,xe){var z=Pe(xe,Ee),Y=Ne(xe);if(!(0,L.Yv)(xe)&&g.height>z){var te=qe(g.height,xe.type);(0,M.DR)(xe,{height:te}),(0,q.h_)(xe.id,te)}if(g.width>Y){var ae=qe(g.width,xe.type);(0,M.DR)(xe,{width:ae})}var ce=ke(ke({},Ee),u),ye=O(xe,ce),je=ye.x,Be=ye.y;u.x=je,u.y=Be}(0,M.DR)(Ee,u)},T=function(Ee,xe,Z){var u=(0,N.xn)(Ee);xe.forEach(function(g){var z=Z.get(g.id),Y=F(g);if(Y){var te=Z.get(Y);if(te){var ae=u.get(z);ae&&(0,M.DR)(ae,{boundElements:(g.boundElements||[]).filter(function(ye){return ye.id!==te&&ye.id!==Y}).concat({type:"text",id:te})});var ce=u.get(te);ce&&(0,j.iB)(ce)&&(0,M.DR)(ce,{containerId:ae?z:null})}}})},B=function(Ee,xe){var Z=arguments.length>2&&arguments[2]!==void 0&&arguments[2],u=F(Ee);if(u){(0,q.kT)(Ee.id);var g=d.Z.getScene(Ee).getElement(u);if(g&&g.text){if(!Ee)return;var z=(g=d.Z.getScene(Ee).getElement(u)).text,Y=g.height,te=g.width,ae=Ne(Ee),ce=Pe(Ee,g),ye=Ee.height,je=g.baseline;if(Z||xe!=="n"&&xe!=="s"){z&&(z=C(g.originalText,(0,N.mO)(g),ae));var Be=R(z,(0,N.mO)(g),g.lineHeight);Y=Be.height,te=Be.width,je=Be.baseline}if(Y>ce){var Qe=(ye=qe(Y,Ee.type))-Ee.height,rt=(0,L.Yv)(Ee)||xe!=="ne"&&xe!=="nw"&&xe!=="n"?Ee.y:Ee.y-Qe;(0,M.DR)(Ee,{height:ye,y:rt})}(0,M.DR)(g,{text:z,width:te,height:Y,baseline:je}),(0,L.Yv)(Ee)||(0,M.DR)(g,O(Ee,g))}}},O=function(Ee,xe){if((0,L.Yv)(Ee))return H._.getBoundTextElementPosition(Ee,xe);var Z,u=fe(Ee),g=Pe(Ee,xe),z=Ne(Ee);return Z=xe.verticalAlign===f.oX.TOP?u.y:xe.verticalAlign===f.oX.BOTTOM?u.y+(g-xe.height):u.y+(g/2-xe.height/2),{x:xe.textAlign===f.I8.LEFT?u.x:xe.textAlign===f.I8.RIGHT?u.x+(z-xe.width):u.x+(z/2-xe.width/2),y:Z}},R=function(Ee,xe,Z){Ee=Ee.split(`
`).map(function(z){return z||" "}).join(`
`);var u=parseFloat(xe),g=m(Ee,u,Z);return{width:h(Ee,xe),height:g,baseline:E(Ee,xe,Z)}},E=function(Ee,xe,Z,u){var g=document.createElement("div");g.style.position="absolute",g.style.whiteSpace="pre",g.style.font=xe,g.style.minHeight="1em",u&&(g.style.overflow="hidden",g.style.wordBreak="break-word",g.style.whiteSpace="pre-wrap"),g.style.lineHeight=String(Z),g.innerText=Ee,document.body.appendChild(g);var z=document.createElement("span");z.style.display="inline-block",z.style.overflow="hidden",z.style.width="1px",z.style.height="1px",g.appendChild(z);var Y=z.offsetTop+z.offsetHeight,te=g.offsetHeight;if(f.G6){var ae=m(Ee,parseFloat(xe),Z),ce=parseFloat(xe),ye=m(Ee,Math.round(ce),Z);ae>te&&(Y+=ae-ye),te>ae&&(Y-=ye-ae)}return document.body.removeChild(g),Y},v=function(Ee){var xe=Q(Ee.text).length;return Ee.height/xe/Ee.fontSize},i=function(Ee,xe){return Ee*xe},a=function(Ee,xe){return i(Ee,xe)+2*f.gK},y=function(Ee,xe){Se||(Se=document.createElement("canvas"));var Z=Se.getContext("2d");Z.font=xe;var u=Z.measureText(Ee).width;return(0,N.h2)()?10*u:u},h=function(Ee,xe){var Z=Q(Ee),u=0;return Z.forEach(function(g){u=Math.max(u,y(g,xe))}),u},m=function(Ee,xe,Z){var u=Q(Ee).length;return i(xe,Z)*u},C=function(Ee,xe,Z){if(!Number.isFinite(Z)||Z<0)return Ee;var u=[],g=Ee.split(`
`),z=y(" ",xe),Y="",te=0,ae=function(ye){ye.trim()&&u.push(ye)},ce=function(){Y="",te=0};return g.forEach(function(ye){if(h(ye,xe)<=Z)u.push(ye);else{var je=function(gt){var Ue=gt.split("-");return Ue.length>1&&Ue.forEach(function(Ce,Le){Le!==Ue.length-1&&(Ue[Le]=Ce+="-")}),Ue.join(" ").split(" ")}(ye);ce();for(var Be=0;Be<je.length;){var Qe=y(je[Be],xe);if(Qe===Z)ae(je[Be]),Be++;else if(Qe>Z){for(ae(Y),ce();je[Be].length>0;){var rt=String.fromCodePoint(je[Be].codePointAt(0)),Ye=U.calculate(rt,xe);te+=Ye,je[Be]=je[Be].slice(rt.length),te>=Z?(ae(Y),Y=rt,te=Ye):Y+=rt}te+z>=Z?(ae(Y),ce()):Y.endsWith("-")||(Y+=" ",te+=z),Be++}else for(;te<Z&&Be<je.length;){var tt=je[Be];if((te=y(Y+tt,xe))>Z){ae(Y),ce();break}Be++;var ht=!tt.endsWith("-");if(Y+=tt,ht&&(Y+=" "),te+z>=Z){ht?u.push(Y.slice(0,-1)):u.push(Y),ce();break}}}Y.slice(-1)===" "&&(Y=Y.slice(0,-1),ae(Y))}}),u.join(`
`)},U=(ge={},{calculate:function(Ee,xe){var Z=Ee.charCodeAt(0);if(ge[xe]||(ge[xe]=[]),!ge[xe][Z]){var u=y(Ee,xe);ge[xe][Z]=u}return ge[xe][Z]},getCache:function(Ee){return ge[Ee]}}),V="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".toLocaleUpperCase(),D=function(Ee,xe){var Z=P(Ee);return Z===0?R(V.split("").join(`
`),Ee,xe).width+2*f.gK:Z+2*f.gK},P=function(Ee){var xe=U.getCache(Ee);if(!xe)return 0;var Z=xe.filter(function(u){return u!==void 0});return Math.max.apply(Math,(0,b.Z)(Z))},F=function(Ee){var xe,Z,u;return Ee!=null&&(xe=Ee.boundElements)!==null&&xe!==void 0&&xe.length&&(Ee==null||(Z=Ee.boundElements)===null||Z===void 0||(u=Z.filter(function(g){return g.type==="text"})[0])===null||u===void 0?void 0:u.id)||null},X=function(Ee){if(!Ee)return null;var xe,Z=F(Ee);return Z&&((xe=d.Z.getScene(Ee))===null||xe===void 0?void 0:xe.getElement(Z))||null},le=function(Ee){return Ee&&Ee.containerId&&((xe=d.Z.getScene(Ee))===null||xe===void 0?void 0:xe.getElement(Ee.containerId))||null;var xe},de=function(Ee,xe){if(!(0,L.Yv)(Ee))return{x:Ee.x+Ee.width/2,y:Ee.y+Ee.height/2};var Z=H._.getPointsGlobalCoordinates(Ee);if(Z.length%2==1){var u=Math.floor(Ee.points.length/2),g=H._.getPointGlobalCoordinates(Ee,Ee.points[u]);return{x:g[0],y:g[1]}}var z=Ee.points.length/2-1,Y=H._.getEditorMidPoints(Ee,xe)[z];return Y||(Y=H._.getSegmentMidPoint(Ee,Z[z],Z[z+1],z+1)),{x:Y[0],y:Y[1]}},fe=function(Ee){var xe=f.gK,Z=f.gK;return Ee.type==="ellipse"&&(xe+=Ee.width/2*(1-Math.sqrt(2)/2),Z+=Ee.height/2*(1-Math.sqrt(2)/2)),Ee.type==="diamond"&&(xe+=Ee.width/4,Z+=Ee.height/4),{x:Ee.x+xe,y:Ee.y+Z}},pe=function(Ee){var xe=le(Ee);return!xe||(0,L.Yv)(xe)?Ee.angle:xe.angle},ne=function(Ee){return Ee.some(function(xe){if((0,L.Xh)(xe)){var Z=le(xe);return!(0,j.iB)(xe)||!(0,L.Yv)(Z)}return!1})},oe=function(Ee){return Ee.some(function(xe){if((0,L.Xh)(xe)){var Z=le(xe);return!(0,j.iB)(xe)||!(0,L.Yv)(Z)}return(0,j.iB)(xe)})},be=function(Ee,xe,Z,u){var g=(0,x.eD)(Ee,xe);if(g.length===1)return(0,L.mG)(g[0],!1)?g[0]:null;for(var z=null,Y=Ee.length-1;Y>=0;--Y)if(!Ee[Y].isDeleted){var te=(0,j.qf)(Ee[Y]),ae=(0,k.Z)(te,4),ce=ae[0],ye=ae[1],je=ae[2],Be=ae[3];if((0,L.Yv)(Ee[Y])&&(0,S.Qu)(Ee[Y],xe,null,[Z,u])){z=Ee[Y];break}if(ce<Z&&Z<je&&ye<u&&u<Be){z=Ee[Y];break}}return(0,L.mG)(z,!1)?z:null},Me=new Set(["rectangle","ellipse","diamond","arrow"]),Ge=function(Ee){return Me.has(Ee.type)},qe=function(Ee,xe){Ee=Math.ceil(Ee);var Z=2*f.gK;return xe==="ellipse"?Math.round((Ee+Z)/Math.sqrt(2)*2):xe==="arrow"?Ee+8*Z:xe==="diamond"?2*(Ee+Z):Ee+Z},Ne=function(Ee){var xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:X(Ee),Z=Ee.width;if((0,L.Yv)(Ee)){var u,g=((u=xe==null?void 0:xe.fontSize)!==null&&u!==void 0?u:f.n5)*f.vL;return Math.max(f.bY*Z,g)}return Ee.type==="ellipse"?Math.round(Z/2*Math.sqrt(2))-2*f.gK:Ee.type==="diamond"?Math.round(Z/2)-2*f.gK:Z-2*f.gK},Pe=function(Ee,xe){var Z=Ee.height;return(0,L.Yv)(Ee)?Z-8*f.gK*2<=0?xe.height:Z:Ee.type==="ellipse"?Math.round(Z/2*Math.sqrt(2))-2*f.gK:Ee.type==="diamond"?Math.round(Z/2)-2*f.gK:Z-2*f.gK},Re=function(){return h(V,(0,N.mO)({fontSize:f.n5,fontFamily:f.rk}))>0},Ze=(A={},(0,w.Z)(A,f.ut.Virgil,1.25),(0,w.Z)(A,f.ut.Helvetica,1.15),(0,w.Z)(A,f.ut.Cascadia,1.2),A),Ie=function(Ee){return Ee in Ze?Ze[Ee]:Ze[f.rk]}},3474:function(ue,n,r){r.d(n,{b_:function(){return O},eR:function(){return B},h_:function(){return K},kT:function(){return T}});var A=r(8950),k=r(7169),b=r(2577),w=r(2975),N=r.n(w),M=r(5491),f=r(9827),d=r(457),j=r(4183),L=r(9937),H=r(583),x=r(4761),S=r(3361),q=r(6006),ve=r(7422),ke=r(4694);function Se(R,E){var v=Object.keys(R);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(R);E&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(R,a).enumerable})),v.push.apply(v,i)}return v}function ge(R){for(var E=1;E<arguments.length;E++){var v=arguments[E]!=null?arguments[E]:{};E%2?Se(Object(v),!0).forEach(function(i){(0,k.Z)(R,i,v[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(v)):Se(Object(v)).forEach(function(i){Object.defineProperty(R,i,Object.getOwnPropertyDescriptor(v,i))})}return R}var J=function(R,E,v,i,a,y){var h=i.zoom,m=180*v/Math.PI,C=R*(h.value-1)/2,U=E*(h.value-1)/2;return R>a&&h.value!==1&&(C=a*(h.value-1)/2),E>y&&h.value!==1&&(U=y*(h.value-1)/2),"translate(".concat(C,"px, ").concat(U,"px) scale(").concat(h.value,") rotate(").concat(m,"deg)")},Q={},K=function(R,E){var v=Q[R]||(Q[R]={height:E});return v.height=E,v},T=function(R){Q[R]&&delete Q[R]},B=function(R){var E,v;return(E=(v=Q[R])===null||v===void 0?void 0:v.height)!==null&&E!==void 0?E:null},O=function(R){var E=R.id,v=R.onChange,i=R.onSubmit,a=R.getViewportCoords,y=R.element,h=R.canvas,m=R.excalidrawContainer,C=R.app,U=function(){var Re,Ze=C.state,Ie=(Re=d.Z.getScene(y))===null||Re===void 0?void 0:Re.getElement(E);if(Ie){var Ee=Ie.textAlign,xe=Ie.verticalAlign;if(Ie&&(0,j.iB)(Ie)){var Z=Ie.x,u=Ie.y,g=(0,x.tl)(Ie),z=Ie.width,Y=Ie.height,te=Ie.width,ae=Ie.height;if(g&&Ie.containerId){if((0,j.Yv)(g)){var ce=ve._.getBoundTextElementPosition(g,Ie);Z=ce.x,u=ce.y}var ye,je=function(xt,wt){if(!wt.style.fontFamily||!wt.style.fontSize)return!1;var Rt=wt.style.fontFamily.replace(/"/g,"");return(0,f.$g)({fontFamily:xt.fontFamily})!==Rt||"".concat(xt.fontSize,"px")!==wt.style.fontSize}(Ie,V);if(je?ye=K(g.id,g.height):(ye=Q[g.id])||(ye=K(g.id,g.height)),z=(0,x.iZ)(g),Y=(0,x.D9)(g,Ie),!(0,j.Yv)(g)&&ae>Y){var Be=(0,x.NS)(ae,g.type);return void(0,H.DR)(g,{height:Be})}if(!(0,j.Yv)(g)&&g.height>ye.height&&ae<Y){var Qe=(0,x.NS)(ae,g.type);(0,H.DR)(g,{height:Qe})}else u=(0,x.FE)(g,Ie).y}var rt=a(Z,u),Ye=(0,b.Z)(rt,2),tt=Ye[0],ht=Ye[1],gt=V.selectionStart,Ue=V.selectionEnd,Ce=V.value.length;if(gt===Ue&&Ue!==Ce){var Le=Ce-Ue;V.selectionStart=V.value.length-Le,V.selectionEnd=V.value.length-Le}g?te+=.5:(z=(Ze.width-8-tt)/Ze.zoom.value,te=Math.min(te,z));var et=Ie.lineHeight;L.G6&&(et=(0,x.$2)(ge(ge({},Ie),{},{fontSize:Math.round(Ie.fontSize)})));var ft=(Ze.height-ht)/Ze.zoom.value;Object.assign(V.style,{font:(0,f.mO)(Ie),lineHeight:et,width:"".concat(te,"px"),height:"".concat(ae,"px"),left:"".concat(tt,"px"),top:"".concat(ht,"px"),transform:J(te,ae,(0,x.H_)(Ie),Ze,z,ft),textAlign:Ee,verticalAlign:xe,color:Ie.strokeColor,opacity:Ie.opacity/100,filter:"var(--theme-filter)",maxHeight:"".concat(ft,"px")}),V.scrollTop=0,(0,f.h2)()&&(V.style.fontFamily=(0,f.$g)(Ie)),(0,H.DR)(Ie,{x:Z,y:u})}}},V=document.createElement("textarea");V.dir="auto",V.tabIndex=0,V.dataset.type="wysiwyg",V.wrap="off",V.classList.add("excalidraw-wysiwyg");var D="pre",P="normal";(0,j.Xh)(y)&&(D="pre-wrap",P="break-word"),Object.assign(V.style,{position:"absolute",display:"inline-block",minHeight:"1em",backfaceVisibility:"hidden",margin:0,padding:0,border:0,outline:0,resize:"none",background:"transparent",overflow:"hidden",zIndex:"var(--zIndex-wysiwyg)",wordBreak:P,whiteSpace:D,overflowWrap:"break-word",boxSizing:"content-box"}),V.value=y.originalText,U(),v&&(V.onpaste=function(){var Re=(0,A.Z)(N().mark(function Ze(Ie){var Ee,xe,Z,u,g,z;return N().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return Y.next=2,(0,ke.mQ)(Ie,!0);case 2:if((Ee=Y.sent).text){Y.next=5;break}return Y.abrupt("return");case 5:if(xe=(0,x.bG)(Ee.text)){Y.next=8;break}return Y.abrupt("return");case 8:Z=(0,x.tl)(y),u=(0,f.mO)({fontSize:C.state.currentItemFontSize,fontFamily:C.state.currentItemFontFamily}),Z&&(g=(0,x.lD)("".concat(V.value).concat(xe),u,(0,x.iZ)(Z)),z=(0,x.mY)(g,u),V.style.width="".concat(z,"px"));case 11:case"end":return Y.stop()}},Ze)}));return function(Ze){return Re.apply(this,arguments)}}(),V.oninput=function(){v((0,x.bG)(V.value))}),V.onkeydown=function(Re){if(!Re.shiftKey&&q.Lo.keyTest(Re))Re.preventDefault(),C.actionManager.executeAction(q.Lo),U();else if(!Re.shiftKey&&q.CZ.keyTest(Re))Re.preventDefault(),C.actionManager.executeAction(q.CZ),U();else if(S.Tu.keyTest(Re))C.actionManager.executeAction(S.Tu);else if(S.Zq.keyTest(Re))C.actionManager.executeAction(S.Zq);else if(Re.key===M.tW.ESCAPE)Re.preventDefault(),ne=!0,oe();else if(Re.key===M.tW.ENTER&&Re[M.tW.CTRL_OR_CMD]){if(Re.preventDefault(),Re.isComposing||Re.keyCode===229)return;ne=!0,oe()}else if(Re.key===M.tW.TAB||Re[M.tW.CTRL_OR_CMD]&&(Re.code===M.aU.BRACKET_LEFT||Re.code===M.aU.BRACKET_RIGHT)){if(Re.preventDefault(),Re.isComposing)return;Re.shiftKey||Re.code===M.aU.BRACKET_LEFT?de():le(),V.dispatchEvent(new Event("input"))}};var F=" ".repeat(4),X=new RegExp("^ {1,".concat(4,"}")),le=function(){var Re=V.selectionStart,Ze=V.selectionEnd,Ie=fe(),Ee=V.value;Ie.forEach(function(xe){var Z=Ee.slice(0,xe),u=Ee.slice(xe);Ee="".concat(Z).concat(F).concat(u)}),V.value=Ee,V.selectionStart=Re+4,V.selectionEnd=Ze+4*Ie.length},de=function(){var Re=V.selectionStart,Ze=V.selectionEnd,Ie=fe(),Ee=[],xe=V.value;Ie.forEach(function(Z){var u=xe.slice(Z,Z+4).match(X);if(u){var g=xe.slice(0,Z),z=xe.slice(Z+u[0].length);xe="".concat(g).concat(z),Ee.push(Z)}}),V.value=xe,Ee.length&&(Re>Ee[Ee.length-1]?V.selectionStart=Math.max(Re-4,Ee[Ee.length-1]):V.selectionStart=Re,V.selectionEnd=Math.max(V.selectionStart,Ze-4*Ee.length))},fe=function(){var Re=V.selectionStart,Ze=V.selectionEnd,Ie=V.value,Ee=Ie.slice(0,Re).match(/[^\n]*$/)[0].length;return Re-=Ee,Ie.slice(Re,Ze).split(`
`).reduce(function(xe,Z,u,g){return xe.concat(u?xe[u-1]+g[u-1].length+1:Re)},[]).reverse()},pe=function(Re){Re.preventDefault(),Re.stopPropagation()},ne=!1,oe=function(){var Re;be();var Ze=(Re=d.Z.getScene(y))===null||Re===void 0?void 0:Re.getElement(y.id);if(Ze){var Ie=V.value,Ee=(0,x.tl)(Ze);if(Ee){if(Ie=Ze.text,V.value.trim()){var xe=(0,x.xB)(Ee);xe&&xe===y.id?(0,j.Yv)(Ee)&&(0,H.ZP)(Ee):(0,H.DR)(Ee,{boundElements:(Ee.boundElements||[]).concat({type:"text",id:y.id})})}else{var Z;(0,H.DR)(Ee,{boundElements:(Z=Ee.boundElements)===null||Z===void 0?void 0:Z.filter(function(u){return!(0,j.iB)(u)})})}(0,x.oN)(Ze,Ee)}i({text:Ie,viaKeyboard:ne,originalText:V.value})}},be=function(){Ne||(Ne=!0,V.onblur=null,V.oninput=null,V.onkeydown=null,Pe&&Pe.disconnect(),window.removeEventListener("resize",U),window.removeEventListener("wheel",pe,!0),window.removeEventListener("pointerdown",Ge),window.removeEventListener("pointerup",Me),window.removeEventListener("blur",oe),window.removeEventListener("beforeunload",oe),qe(),V.remove())},Me=function Re(Ze){window.removeEventListener("pointerup",Re);var Ie=Ze==null?void 0:Ze.target,Ee=Ie instanceof HTMLElement&&Ie.classList.contains("active-color");setTimeout(function(){if(V.onblur=oe,Ee){var xe=new MutationObserver(function(Z,u){Z.find(function(g){var z;return g.removedNodes.length>0&&((z=g.removedNodes[0].dataset)===null||z===void 0?void 0:z.radixPopperContentWrapper)!==void 0})&&(setTimeout(function(){V.focus()}),u.disconnect())});xe.observe(document.querySelector(".excalidraw-container"),{childList:!0})}Ee||V.focus()})},Ge=function(Re){var Ze=Re.target instanceof HTMLElement&&Re.target.classList.contains("active-color");((Re.target instanceof HTMLElement||Re.target instanceof SVGElement)&&Re.target.closest(".".concat(L.$C.SHAPE_ACTIONS_MENU))&&!(0,f.s)(Re.target)||Ze)&&(V.onblur=null,window.addEventListener("pointerup",Me),window.addEventListener("blur",oe))},qe=d.Z.getScene(y).addCallback(function(){var Re;U(),!((Re=document.activeElement)===null||Re===void 0||!Re.closest(".color-picker-content"))||V.focus()}),Ne=!1;V.select(),Me();var Pe=null;h&&"ResizeObserver"in window?(Pe=new window.ResizeObserver(function(){U()})).observe(h):window.addEventListener("resize",U),window.addEventListener("pointerdown",Ge),window.addEventListener("wheel",pe,{passive:!1,capture:!0}),window.addEventListener("beforeunload",oe),m==null||m.querySelector(".excalidraw-textEditorContainer").appendChild(V)}},4048:function(ue,n,r){r.d(n,{Fn:function(){return j},PC:function(){return ve},kK:function(){return q},oY:function(){return ke},ox:function(){return d}});var A=r(2577),k=r(4949),b=r(2361),w=r(7651),N=r(4183),M=r(7766),f={mouse:8,pen:16,touch:28},d={e:!0,s:!0,n:!0,w:!0},j={e:!0,s:!0,n:!0,w:!0,rotation:!0},L={e:!0,s:!0,n:!0,w:!0},H={e:!0,s:!0,n:!0,w:!0,nw:!0,se:!0},x={e:!0,s:!0,n:!0,w:!0},S=function(Se,ge,J,Q,K,T,B){var O=(0,b.U1)(Se+J/2,ge+Q/2,K,T,B),R=(0,A.Z)(O,2);return[R[0]-J/2,R[1]-Q/2,J,Q]},q=function(Se,ge,J,Q){var K=(0,A.Z)(Se,6),T=K[0],B=K[1],O=K[2],R=K[3],E=K[4],v=K[5],i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:4,y=f[Q],h=y/J.value,m=y/J.value,C=y/J.value,U=y/J.value,V=O-T,D=R-B,P=a/J.value,F=(y-2*M.Lu)/(2*J.value),X={nw:i.nw?void 0:S(T-P-C+F,B-P-U+F,h,m,E,v,ge),ne:i.ne?void 0:S(O+P-F,B-P-U+F,h,m,E,v,ge),sw:i.sw?void 0:S(T-P-C+F,R+P-F,h,m,E,v,ge),se:i.se?void 0:S(O+P-F,R+P-F,h,m,E,v,ge),rotation:i.rotation?void 0:S(T+V/2-h/2,B-P-U+F-16/J.value,h,m,E,v,ge)},le=5*f.mouse/J.value;return Math.abs(V)>le&&(i.n||(X.n=S(T+V/2-h/2,B-P-U+F,h,m,E,v,ge)),i.s||(X.s=S(T+V/2-h/2,R+P-F,h,m,E,v,ge))),Math.abs(D)>le&&(i.w||(X.w=S(T-P-C+F,B+D/2-m/2,h,m,E,v,ge)),i.e||(X.e=S(O+P-F,B+D/2-m/2,h,m,E,v,ge))),X},ve=function(Se,ge){var J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"mouse";if(Se.locked)return{};var Q={};if(Se.type==="freedraw"||(0,N.bt)(Se)){if(Se.points.length===2){var K=(0,A.Z)(Se.points,2),T=K[1];T[0]===0||T[1]===0?Q=x:T[0]>0&&T[1]<0?Q=H:T[0]>0&&T[1]>0?Q=x:T[0]<0&&T[1]>0?Q=H:T[0]<0&&T[1]<0&&(Q=x)}}else(0,w.iB)(Se)?Q=L:(0,N.He)(Se)&&(Q={rotation:!0});var B=(0,N.bt)(Se)?M.Lu+8:M.Lu;return q((0,k.qf)(Se,!0),Se.angle,ge,J,Q,B)},ke=function(Se,ge){if(ge.editingLinearElement)return!1;if(Se.length>1)return!0;var J=Se[0];return!(0,N.bt)(J)||J.points.length>2}},4183:function(ue,n,r){r.d(n,{F9:function(){return d},He:function(){return f},Lx:function(){return q},Mn:function(){return S},QI:function(){return Q},UQ:function(){return B},Xh:function(){return J},Xo:function(){return ge},Yv:function(){return H},bt:function(){return L},dt:function(){return x},eK:function(){return T},f0:function(){return ve},gs:function(){return N},iB:function(){return M},mG:function(){return ke},pC:function(){return w},r2:function(){return Se},wi:function(){return b}});var A=r(9937),k=r(9827),b=function(O){return!!O&&O.type==="image"&&!!O.fileId},w=function(O){return!!O&&O.type==="image"},N=function(O){return!!O&&O.type==="embeddable"},M=function(O){return O!=null&&O.type==="text"},f=function(O){return O!=null&&O.type==="frame"},d=function(O){return O!=null&&j(O.type)},j=function(O){return O==="freedraw"},L=function(O){return O!=null&&x(O.type)},H=function(O){return O!=null&&O.type==="arrow"},x=function(O){return O==="arrow"||O==="line"},S=function(O){var R=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return O!=null&&(!O.locked||R===!0)&&q(O.type)},q=function(O){return O==="arrow"},ve=function(O){var R=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return!(O==null||O.locked&&R!==!0||O.type!=="rectangle"&&O.type!=="diamond"&&O.type!=="ellipse"&&O.type!=="image"&&O.type!=="embeddable"&&O.type!=="frame"&&(O.type!=="text"||O.containerId))},ke=function(O){var R=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return O!=null&&(!O.locked||R===!0)&&(O.type==="rectangle"||O.type==="diamond"||O.type==="ellipse"||H(O))},Se=function(O){var R=O==null?void 0:O.type;if(!R)return!1;switch(R){case"text":case"diamond":case"rectangle":case"embeddable":case"ellipse":case"arrow":case"freedraw":case"line":case"frame":case"image":case"selection":return!0;default:return(0,k.vE)(R,null),!1}},ge=function(O){var R;return ke(O)&&!((R=O.boundElements)===null||R===void 0||!R.some(function(E){return E.type==="text"}))},J=function(O){return O!==null&&"containerId"in O&&O.containerId!==null&&M(O)},Q=function(O){return O==="rectangle"||O==="embeddable"},K=function(O){return O==="line"||O==="arrow"||O==="diamond"},T=function(O,R){return!(O!==A.a6.ADAPTIVE_RADIUS&&O!==A.a6.LEGACY||!Q(R.type))||!(O!==A.a6.PROPORTIONAL_RADIUS||!K(R.type))},B=function(O){return K(O.type)?{type:A.a6.PROPORTIONAL_RADIUS}:Q(O.type)?{type:A.a6.ADAPTIVE_RADIUS}:null}},3506:function(ue,n,r){r.d(n,{_L:function(){return x},lp:function(){return H},jk:function(){return S}});var A=r(5169),k=r(8821),b=r(2248),w=r(7245),N=r(2312),M=r(5901);function f(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function d(q,ve,ke){return d=f()?Reflect.construct.bind():function(Se,ge,J){var Q=[null];Q.push.apply(Q,ge);var K=new(Function.bind.apply(Se,Q));return J&&(0,M.Z)(K,J.prototype),K},d.apply(null,arguments)}function j(q){var ve=typeof Map=="function"?new Map:void 0;return j=function(ke){if(ke===null||(Se=ke,Function.toString.call(Se).indexOf("[native code]")===-1))return ke;var Se;if(typeof ke!="function")throw new TypeError("Super expression must either be null or a function");if(ve!==void 0){if(ve.has(ke))return ve.get(ke);ve.set(ke,ge)}function ge(){return d(ke,arguments,(0,N.Z)(this).constructor)}return ge.prototype=Object.create(ke.prototype,{constructor:{value:ge,enumerable:!1,writable:!0,configurable:!0}}),(0,M.Z)(ge,ke)},j(q)}function L(q){var ve=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ke,Se=(0,N.Z)(q);if(ve){var ge=(0,N.Z)(this).constructor;ke=Reflect.construct(Se,arguments,ge)}else ke=Se.apply(this,arguments);return(0,w.Z)(this,ke)}}var H=function(q){(0,b.Z)(ke,q);var ve=L(ke);function ke(){var Se,ge=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Couldn't export canvas.",J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"CANVAS_ERROR";return(0,k.Z)(this,ke),(Se=ve.call(this)).name=J,Se.message=ge,Se}return(0,A.Z)(ke)}(j(Error)),x=function(q){(0,b.Z)(ke,q);var ve=L(ke);function ke(){var Se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Request Aborted";return(0,k.Z)(this,ke),ve.call(this,Se,"AbortError")}return(0,A.Z)(ke)}(j(DOMException)),S=function(q){(0,b.Z)(ke,q);var ve=L(ke);function ke(){var Se,ge=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Image Scene Data Error",J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"IMAGE_SCENE_DATA_ERROR";return(0,k.Z)(this,ke),(Se=ve.call(this,ge)).name="EncodingError",Se.code=J,Se}return(0,A.Z)(ke)}(j(Error))},4682:function(ue,n,r){r.d(n,{$Z:function(){return i},A_:function(){return a},Dn:function(){return K},Qs:function(){return D},SH:function(){return T},Tq:function(){return C},_h:function(){return R},cH:function(){return V},cO:function(){return Q},fj:function(){return v},lz:function(){return y},ni:function(){return E},pr:function(){return m},wO:function(){return O},xr:function(){return ve},yZ:function(){return h},zD:function(){return B}});var A=r(1930),k=r(2577),b=r(7651),w=r(2361),N=r(4761),M=r(9827),f=r(583),d=r(4105),j=r(9215),L=r(457),H=r(4949),x=r(507);function S(P,F){var X=typeof Symbol<"u"&&P[Symbol.iterator]||P["@@iterator"];if(!X){if(Array.isArray(P)||(X=function(oe,be){if(oe){if(typeof oe=="string")return q(oe,be);var Me=Object.prototype.toString.call(oe).slice(8,-1);if(Me==="Object"&&oe.constructor&&(Me=oe.constructor.name),Me==="Map"||Me==="Set")return Array.from(oe);if(Me==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Me))return q(oe,be)}}(P))||F){X&&(P=X);var le=0,de=function(){};return{s:de,n:function(){return le>=P.length?{done:!0}:{done:!1,value:P[le++]}},e:function(oe){throw oe},f:de}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var fe,pe=!0,ne=!1;return{s:function(){X=X.call(P)},n:function(){var oe=X.next();return pe=oe.done,oe},e:function(oe){ne=!0,fe=oe},f:function(){try{pe||X.return==null||X.return()}finally{if(ne)throw fe}}}}function q(P,F){(F==null||F>P.length)&&(F=P.length);for(var X=0,le=new Array(F);X<F;X++)le[X]=P[X];return le}var ve=function(P,F,X){var le,de=(0,M.xn)(P),fe=S(F);try{for(fe.s();!(le=fe.n()).done;){var pe=le.value;if(pe.frameId){var ne=X.get(pe.id),oe=X.get(pe.frameId);if(ne){var be=de.get(ne);be&&(0,f.DR)(be,{frameId:oe??pe.frameId},!1)}}}}catch(Me){fe.e(Me)}finally{fe.f()}};function ke(P,F){var X=(0,H.GJ)(F),le=(0,H.GJ)(P);return X.some(function(de){return le.some(function(fe){return(0,x.y8)(de,fe)})})}var Se=function(P,F){return U((0,d.Yp)(P,F,!1)).filter(function(X){return X.type!=="frame"&&!X.frameId||X.frameId===F.id})},ge=function(P,F,X){return(0,d.Yp)(P,F).some(function(le){return le.id===X.id})},J=function(P,F){var X=(0,b.qf)(F),le=(0,k.Z)(X,4),de=le[0],fe=le[1],pe=le[2],ne=le[3],oe=(0,b.KP)(P),be=(0,k.Z)(oe,4),Me=be[0],Ge=be[1],qe=be[2],Ne=be[3];return de<=Me&&fe<=Ge&&pe>=qe&&ne>=Ne},Q=function(P,F){return J([P],F)||ke(P,F)||ge([F],P,F)},K=function(P,F){var X=(0,b.qf)(F),le=(0,k.Z)(X,4),de=le[0],fe=le[1],pe=le[2],ne=le[3];return(0,w.Ni)([de,fe],[P.x,P.y],[pe,ne])},T=function(P){var F,X=new Map,le=S(P);try{for(le.s();!(F=le.n()).done;){var de=F.value,fe=(0,b.He)(de)?de.id:de.frameId;fe&&!X.has(fe)&&X.set(fe,B(P,fe))}}catch(pe){le.e(pe)}finally{le.f()}return X},B=function(P,F){return P.filter(function(X){return X.frameId===F})},O=function(P){return P.filter(function(F){return(0,b.He)(F)})},R=function(P){var F=(0,M.xn)(O(P));return P.filter(function(X){return F.has(X.id)||!X.frameId||!F.has(X.frameId)})},E=function(P,F,X){var le,de=B(P,F.id),fe=new Set(de),pe=new Set([].concat((0,A.Z)(Se(P,F)),(0,A.Z)(de.filter(function(ht){return ge(P,ht,F)})))),ne=de.filter(function(ht){return!pe.has(ht)}),oe=new Set(Array.from(pe).flatMap(function(ht){return ht.groupIds})),be=S(ne);try{for(be.s();!(le=be.n()).done;){var Me=le.value;if(ke(Me,F)){if(Me.groupIds.length>0){var Ge,qe=S(Me.groupIds);try{for(qe.s();!(Ge=qe.n()).done;){var Ne=Ge.value;oe.add(Ne)}}catch(ht){qe.e(ht)}finally{qe.f()}}}else Me.groupIds.length===0&&fe.delete(Me)}}catch(ht){be.e(ht)}finally{be.f()}var Pe,Re=S(ne);try{for(Re.s();!(Pe=Re.n()).done;){var Ze=Pe.value;if(Ze.groupIds.length>0){var Ie,Ee=!0,xe=S(Ze.groupIds);try{for(xe.s();!(Ie=xe.n()).done;){var Z=Ie.value;oe.has(Z)&&(Ee=!1)}}catch(ht){xe.e(ht)}finally{xe.f()}Ee&&fe.delete(Ze)}}}catch(ht){Re.e(ht)}finally{Re.f()}var u,g=Array.from(pe).filter(function(ht){return ht.groupIds.length===0}),z=S(g);try{for(z.s();!(u=z.n()).done;){var Y=u.value;fe.add(Y)}}catch(ht){z.e(ht)}finally{z.f()}for(var te=Array.from(pe).filter(function(ht){return ht.groupIds.length>0}),ae=(0,j.yR)(te,X),ce=0,ye=Object.entries(ae);ce<ye.length;ce++){var je=(0,k.Z)(ye[ce],2),Be=je[0];if(je[1]){var Qe=(0,j.Fb)(P,Be);if(J(Qe,F)){var rt,Ye=S(Qe);try{for(Ye.s();!(rt=Ye.n()).done;){var tt=rt.value;fe.add(tt)}}catch(ht){Ye.e(ht)}finally{Ye.f()}}}}return(0,A.Z)(fe).filter(function(ht){return!((0,b.iB)(ht)&&ht.containerId)})},v=function(P,F){return U(P,Se(P,F))},i=function(P,F){var X;return P.frameId?F?F.get(P.frameId)||null:((X=L.Z.getScene(P))===null||X===void 0?void 0:X.getElement(P.frameId))||null:null},a=function(P,F,X){var le,de=P.reduce(function(Pe,Re,Ze){return Re.frameId===X.id&&Pe.currTargetFrameChildrenMap.set(Re.id,!0),Pe},{currTargetFrameChildrenMap:new Map}),fe=de.currTargetFrameChildrenMap,pe=new Set(F.map(function(Pe){return Pe.id})),ne=[],oe=S(U(P,F));try{for(oe.s();!(le=oe.n()).done;){var be=le.value;fe.has(be.id)||ne.push(be);var Me=(0,N.WJ)(be);!Me||pe.has(Me.id)||fe.has(Me.id)||ne.push(Me)}}catch(Pe){oe.e(Pe)}finally{oe.f()}for(var Ge=0,qe=ne;Ge<qe.length;Ge++){var Ne=qe[Ge];(0,f.DR)(Ne,{frameId:X.id},!1)}return P.slice()},y=function(P,F,X){var le,de=new Map,fe=new Map,pe=S(F);try{for(pe.s();!(le=pe.n()).done;){var ne=le.value;if(ne.frameId){de.set(ne.id,ne);var oe=fe.get(ne.frameId)||[];oe.push(ne);var be=(0,N.WJ)(ne);be&&(de.set(be.id,be),oe.push(be)),fe.set(ne.frameId,oe)}}}catch(Ne){pe.e(Ne)}finally{pe.f()}var Me,Ge=S(de);try{for(Ge.s();!(Me=Ge.n()).done;){var qe=(0,k.Z)(Me.value,2)[1];(0,f.DR)(qe,{frameId:null},!1)}}catch(Ne){Ge.e(Ne)}finally{Ge.f()}return P.slice()},h=function(P,F,X){var le=B(P,F.id);return y(P,le)},m=function(P,F,X,le){return a(h(P,X),F,X)},C=function(P,F,X){var le=X.scene.getSelectedElements({selectedElementIds:F.selectedElementIds,elements:P}),de=new Set(le);if(F.editingGroupId){var fe,pe=S(le);try{for(pe.s();!(fe=pe.n()).done;){var ne=fe.value;ne.groupIds.length===0?de.add(ne):ne.groupIds.flatMap(function(be){return(0,j.Fb)(P,be)}).forEach(function(be){return de.add(be)})}}catch(be){pe.e(be)}finally{pe.f()}}var oe=new Set;return de.forEach(function(be){!be.frameId||(0,b.He)(be)||D(be,P,F)||oe.add(be)}),oe.size>0?y(P,(0,A.Z)(oe)):P},U=function(P,F){var X,le=new Set,de=S(F||P);try{for(de.s();!(X=de.n()).done;){var fe=X.value,pe=fe.groupIds[fe.groupIds.length-1];pe&&le.add(pe)}}catch(Ge){de.e(Ge)}finally{de.f()}var ne,oe=new Set,be=S(le);try{for(be.s();!(ne=be.n()).done;){var Me=ne.value;(0,j.Fb)(P,Me).some(function(Ge){return(0,b.He)(Ge)})&&oe.add(Me)}}catch(Ge){be.e(Ge)}finally{be.f()}return(F||P).filter(function(Ge){return!oe.has(Ge.groupIds[Ge.groupIds.length-1])})},V=function(P,F){var X=(0,b.iB)(P)&&(0,N.tl)(P)||P;return F.selectedElementIds[X.id]&&F.selectedElementsAreBeingDragged?F.frameToHighlight:i(X)},D=function(P,F,X){var le=V(P,X),de=(0,b.iB)(P)&&(0,N.tl)(P)||P;if(le){if(!X.selectedElementIds[P.id]||!X.selectedElementsAreBeingDragged)return!0;if(de.groupIds.length===0)return Q(de,le);var fe=new Set(de.groupIds.flatMap(function(Ne){return(0,j.Fb)(F,Ne)}));if(X.editingGroupId&&X.selectedElementsAreBeingDragged){var pe=new Set((0,d.eD)(F,X));if(X.frameToHighlight!==null)return!0;pe.forEach(function(Ne){fe.delete(Ne)})}var ne,oe=S(fe);try{for(oe.s();!(ne=oe.n()).done;){var be=ne.value;if((0,b.He)(be))return!1}}catch(Ne){oe.e(Ne)}finally{oe.f()}var Me,Ge=S(fe);try{for(Ge.s();!(Me=Ge.n()).done;){var qe=Me.value;if(Q(qe,le))return!0}}catch(Ne){Ge.e(Ne)}finally{Ge.f()}}return!1}},9215:function(ue,n,r){r.d(n,{AI:function(){return O},F$:function(){return H},Fb:function(){return J},Nd:function(){return ge},Qy:function(){return K},S_:function(){return T},YS:function(){return Q},bO:function(){return x},h6:function(){return B},iE:function(){return Se},iJ:function(){return ve},yO:function(){return q},yR:function(){return ke},zq:function(){return S}});var A=r(1930),k=r(2577),b=r(7169),w=r(4105),N=r(4761),M=r(6264);function f(R,E){var v=typeof Symbol<"u"&&R[Symbol.iterator]||R["@@iterator"];if(!v){if(Array.isArray(R)||(v=function(C,U){if(C){if(typeof C=="string")return d(C,U);var V=Object.prototype.toString.call(C).slice(8,-1);if(V==="Object"&&C.constructor&&(V=C.constructor.name),V==="Map"||V==="Set")return Array.from(C);if(V==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(V))return d(C,U)}}(R))||E){v&&(R=v);var i=0,a=function(){};return{s:a,n:function(){return i>=R.length?{done:!0}:{done:!1,value:R[i++]}},e:function(C){throw C},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var y,h=!0,m=!1;return{s:function(){v=v.call(R)},n:function(){var C=v.next();return h=C.done,C},e:function(C){m=!0,y=C},f:function(){try{h||v.return==null||v.return()}finally{if(m)throw y}}}}function d(R,E){(E==null||E>R.length)&&(E=R.length);for(var v=0,i=new Array(E);v<E;v++)i[v]=R[v];return i}function j(R,E){var v=Object.keys(R);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(R);E&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(R,a).enumerable})),v.push.apply(v,i)}return v}function L(R){for(var E=1;E<arguments.length;E++){var v=arguments[E]!=null?arguments[E]:{};E%2?j(Object(v),!0).forEach(function(i){(0,b.Z)(R,i,v[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(v)):j(Object(v)).forEach(function(i){Object.defineProperty(R,i,Object.getOwnPropertyDescriptor(v,i))})}return R}var H=function(R,E,v){var i=v.reduce(function(a,y){return y.groupIds.includes(R)&&(a[y.id]=!0),a},{});return Object.keys(i).length<2?E.selectedGroupIds[R]||E.editingGroupId===R?{selectedElementIds:E.selectedElementIds,selectedGroupIds:L(L({},E.selectedGroupIds),{},(0,b.Z)({},R,!1)),editingGroupId:null}:E:{editingGroupId:E.editingGroupId,selectedGroupIds:L(L({},E.selectedGroupIds),{},(0,b.Z)({},R,!0)),selectedElementIds:L(L({},E.selectedElementIds),i)}},x=function(){var R=null,E=null,v=null,i=function(a,y,h,m){var C=m?m.scene.getSelectedElements({selectedElementIds:a.selectedElementIds,elements:y}):(0,w.eD)(y,a);return C.length?function(U,V,D,P){var F;if(v!==void 0&&V===E&&U===R&&D.editingGroupId===((F=v)===null||F===void 0?void 0:F.editingGroupId))return v;var X,le={},de=f(U);try{for(de.s();!(X=de.n()).done;){var fe=X.value.groupIds;if(D.editingGroupId){var pe=fe.indexOf(D.editingGroupId);pe>-1&&(fe=fe.slice(0,pe))}if(fe.length>0){var ne=fe[fe.length-1];le[ne]=!0}}}catch(Ne){de.e(Ne)}finally{de.f()}for(var oe={},be=V.reduce(function(Ne,Pe){var Re=Pe.groupIds.find(function(Ze){return le[Ze]});return Re&&(Ne[Pe.id]=!0,Array.isArray(oe[Re])?oe[Re].push(Pe.id):oe[Re]=[Pe.id]),Ne},{}),Me=0,Ge=Object.keys(oe);Me<Ge.length;Me++){var qe=Ge[Me];oe[qe].length<2&&le[qe]&&(le[qe]=!1)}return E=V,R=U,v={editingGroupId:D.editingGroupId,selectedGroupIds:le,selectedElementIds:(0,M.Oh)(L(L({},D.selectedElementIds),be),P)}}(C,y,a,h):{selectedGroupIds:{},editingGroupId:null,selectedElementIds:(0,M.Oh)(a.selectedElementIds,h)}};return i.clearCache=function(){E=null,R=null,v=null},i}(),S=function(R,E){return q(R,E)!=null},q=function(R,E){return E.groupIds.filter(function(v){return v!==R.editingGroupId}).find(function(v){return R.selectedGroupIds[v]})},ve=function(R){return Object.entries(R.selectedGroupIds).filter(function(E){var v=(0,k.Z)(E,2);return v[0],v[1]}).map(function(E){var v=(0,k.Z)(E,2),i=v[0];return v[1],i})},ke=function(R,E){var v,i=L(L({},E),{},{selectedGroupIds:{}}),a=f(R);try{for(a.s();!(v=a.n()).done;){var y=v.value.groupIds;if(E.editingGroupId){var h=y.indexOf(E.editingGroupId);h>-1&&(y=y.slice(0,h))}if(y.length>0){var m=y[y.length-1];i=L(L({},i),H(m,i,R))}}}catch(C){a.e(C)}finally{a.f()}return i.selectedGroupIds},Se=function(R,E){return L(L({},R),{},{editingGroupId:E.groupIds.length?E.groupIds[0]:null,selectedGroupIds:{},selectedElementIds:(0,b.Z)({},E.id,!0)})},ge=function(R,E){return R.groupIds.includes(E)},J=function(R,E){return R.filter(function(v){return ge(v,E)})},Q=function(R,E){return R.groupIds.find(function(v){return E[v]})},K=function(R,E,v){for(var i=(0,A.Z)(R),a=E?R.indexOf(E):-1,y=a>-1?a:R.length,h=0;h<y;h++)i[h]=v(i[h]);return i},T=function(R,E,v){var i=(0,A.Z)(R),a=v?i.indexOf(v):-1,y=a>-1?a:i.length;return i.splice(y,0,E),i},B=function(R,E){return R.filter(function(v){return!E[v]})},O=function(R){var E=new Map;return R.forEach(function(v){var i=v.groupIds.length===0?v.id:v.groupIds[v.groupIds.length-1],a=E.get(i)||[],y=(0,N.WJ)(v);y&&a.push(y),E.set(i,[].concat((0,A.Z)(a),[v]))}),Array.from(E.values())}},334:function(ue,n,r){r.d(n,{F:function(){return M}});var A=r(1930),k=r(2577),b=r(9787),w=r(8242),N=r(100),M=function(f){var d=(0,b.useState)(null),j=(0,k.Z)(d,2),L=j[0],H=j[1],x=(0,w.Fy)(),S=(0,N.I)().theme,q=(0,w.J0)().container;return(0,b.useLayoutEffect)(function(){var ve,ke;L&&(L.className="",(ve=L.classList).add.apply(ve,["excalidraw"].concat((0,A.Z)((f==null||(ke=f.className)===null||ke===void 0?void 0:ke.split(/\s+/))||[]))),L.classList.toggle("excalidraw--mobile",x.editor.isMobile),L.classList.toggle("theme--dark",S==="dark"))},[L,S,x.editor.isMobile,f==null?void 0:f.className]),(0,b.useLayoutEffect)(function(){var ve=f!=null&&f.parentSelector?q==null?void 0:q.querySelector(f.parentSelector):document.body;if(ve){var ke=document.createElement("div");return ve.appendChild(ke),H(ke),function(){ve.removeChild(ke)}}},[q,f==null?void 0:f.parentSelector]),L}},5832:function(ue,n,r){r.d(n,{YX:function(){return L},mF:function(){return x},yT:function(){return S}});var A=r(2577),k=r(8950),b=r(2975),w=r.n(b),N=r(3607),M=r(9787),f=r(9240),d=r(453),j=r(507),L=(0,N.cn)(new Map),H=function(){var q=(0,k.Z)(w().mark(function ve(ke){return w().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:return Se.next=2,(0,j.$D)({elements:ke,appState:{exportBackground:!1,viewBackgroundColor:f.HO.white},files:null,renderEmbeddables:!1});case 2:return Se.abrupt("return",Se.sent);case 3:case"end":return Se.stop()}},ve)}));return function(ve){return q.apply(this,arguments)}}(),x=function(q,ve,ke){var Se=(0,M.useState)(),ge=(0,A.Z)(Se,2),J=ge[0],Q=ge[1];return(0,M.useEffect)(function(){if(ve)if(q){var K=ke.get(q);K?Q(K):(0,k.Z)(w().mark(function T(){var B,O;return w().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,H(ve);case 2:O=R.sent,(B=O.querySelector(".style-fonts"))===null||B===void 0||B.remove(),O&&(ke.set(q,O),Q(O));case 5:case"end":return R.stop()}},T)}))()}else(0,k.Z)(w().mark(function T(){var B;return w().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,H(ve);case 2:B=O.sent,Q(B);case 4:case"end":return O.stop()}},T)}))()},[q,ve,ke,Q]),J},S=function(){var q=(0,N.KO)(L,d.yE),ve=(0,A.Z)(q,1)[0];return{clearLibraryCache:function(){return ve.clear()},deleteItemsFromLibraryCache:function(ke){ke.forEach(function(Se){return ve.delete(Se)})},svgCache:ve}}},1901:function(ue,n,r){r.d(n,{O:function(){return b}});var A=r(9787),k=r(9937);function b(w,N,M){(0,A.useEffect)(function(){function f(d){var j=d;if(w.current){var L=M==null?void 0:M(j,w.current);if(L!==!0){if(L===!1)return N(j);!w.current.contains(j.target)&&document.documentElement.contains(j.target)&&(j.target.closest("[data-radix-portal]")||j.target===document.documentElement&&document.body.style.pointerEvents==="none"||j.target.closest("[data-prevent-outside-click]")||N(j))}}}return document.addEventListener(k.Ks.POINTER_DOWN,f),document.addEventListener(k.Ks.TOUCH_START,f),function(){document.removeEventListener(k.Ks.POINTER_DOWN,f),document.removeEventListener(k.Ks.TOUCH_START,f)}},[w,N,M])}},8227:function(ue,n,r){r.d(n,{Fp:function(){return j},G3:function(){return ve},Mj:function(){return L},QT:function(){return J},m0:function(){return q},t:function(){return Se}});var A=r(8950),k=r(1930),b=r(2975),w=r.n(b),N=r(1463),M=r(4451),f=r(453),d=r(3607),j={code:"en",label:"English"},L=[j].concat((0,k.Z)([{code:"ar-SA",label:"العربية",rtl:!0},{code:"bg-BG",label:"Български"},{code:"ca-ES",label:"Català"},{code:"cs-CZ",label:"Česky"},{code:"de-DE",label:"Deutsch"},{code:"el-GR",label:"Ελληνικά"},{code:"es-ES",label:"Español"},{code:"eu-ES",label:"Euskara"},{code:"fa-IR",label:"فارسی",rtl:!0},{code:"fi-FI",label:"Suomi"},{code:"fr-FR",label:"Français"},{code:"gl-ES",label:"Galego"},{code:"he-IL",label:"עברית",rtl:!0},{code:"hi-IN",label:"हिन्दी"},{code:"hu-HU",label:"Magyar"},{code:"id-ID",label:"Bahasa Indonesia"},{code:"it-IT",label:"Italiano"},{code:"ja-JP",label:"日本語"},{code:"kab-KAB",label:"Taqbaylit"},{code:"kk-KZ",label:"Қазақ тілі"},{code:"ko-KR",label:"한국어"},{code:"ku-TR",label:"Kurdî"},{code:"lt-LT",label:"Lietuvių"},{code:"lv-LV",label:"Latviešu"},{code:"my-MM",label:"Burmese"},{code:"nb-NO",label:"Norsk bokmål"},{code:"nl-NL",label:"Nederlands"},{code:"nn-NO",label:"Norsk nynorsk"},{code:"oc-FR",label:"Occitan"},{code:"pa-IN",label:"ਪੰਜਾਬੀ"},{code:"pl-PL",label:"Polski"},{code:"pt-BR",label:"Português Brasileiro"},{code:"pt-PT",label:"Português"},{code:"ro-RO",label:"Română"},{code:"ru-RU",label:"Русский"},{code:"sk-SK",label:"Slovenčina"},{code:"sv-SE",label:"Svenska"},{code:"sl-SI",label:"Slovenščina"},{code:"tr-TR",label:"Türkçe"},{code:"uk-UA",label:"Українська"},{code:"zh-CN",label:"简体中文"},{code:"zh-TW",label:"繁體中文"},{code:"vi-VN",label:"Tiếng Việt"},{code:"mr-IN",label:"मराठी"}].filter(function(Q){return M[Q.code]>=85}).sort(function(Q,K){return Q.label>K.label?1:-1}))),H="__test__",x=j,S={},q=function(){var Q=(0,A.Z)(w().mark(function K(T){return w().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(x=T,document.documentElement.dir=x.rtl?"rtl":"ltr",document.documentElement.lang=x.code,!T.code.startsWith(H)){B.next=7;break}S={},B.next=17;break;case 7:return B.prev=7,B.next=10,r(940)("./".concat(x.code,".json"));case 10:S=B.sent,B.next=17;break;case 13:B.prev=13,B.t0=B.catch(7),console.error("Failed to load language ".concat(T.code,":"),B.t0.message),S=N;case 17:f.e_.set(ge,T.code);case 18:case"end":return B.stop()}},K,null,[[7,13]])}));return function(K){return Q.apply(this,arguments)}}(),ve=function(){return x},ke=function(Q,K){for(var T=0;T<K.length;++T){var B=K[T];if(Q[B]===void 0)return;Q=Q[B]}if(typeof Q=="string")return Q},Se=function(Q,K,T){if(x.code.startsWith(H)){var B=K?"".concat(Q,"(").concat(JSON.stringify(K).slice(1,-1),")"):Q;return"‪[[".concat(B,"]]‬")}var O=Q.split("."),R=ke(S,O)||ke(N,O)||T;if(R===void 0){var E="Can't find translation for ".concat(Q);return console.warn(E),""}if(K)for(var v in K)R=R.replace("{{".concat(v,"}}"),String(K[v]));return R},ge=(0,d.cn)(j.code),J=function(){var Q=(0,d.Dv)(ge,f.yE);return{t:Se,langCode:Q}}},453:function(ue,n,r){r.d(n,{e_:function(){return b},yE:function(){return k}});var A=r(3607),k=(r(9787),Symbol()),b=(0,A.Vv)()},5491:function(ue,n,r){r.d(n,{E0:function(){return M},Ge:function(){return f},OA:function(){return N},Wl:function(){return w},aU:function(){return k},tW:function(){return b}});var A=r(9937),k={EQUAL:"Equal",MINUS:"Minus",NUM_ADD:"NumpadAdd",NUM_SUBTRACT:"NumpadSubtract",NUM_ZERO:"Numpad0",BRACKET_RIGHT:"BracketRight",BRACKET_LEFT:"BracketLeft",ONE:"Digit1",TWO:"Digit2",THREE:"Digit3",NINE:"Digit9",QUOTE:"Quote",ZERO:"Digit0",SLASH:"Slash",C:"KeyC",D:"KeyD",H:"KeyH",V:"KeyV",Z:"KeyZ",R:"KeyR",S:"KeyS"},b={ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",BACKSPACE:"Backspace",ALT:"Alt",CTRL_OR_CMD:A.Um?"metaKey":"ctrlKey",DELETE:"Delete",ENTER:"Enter",ESCAPE:"Escape",QUESTION_MARK:"?",SPACE:" ",TAB:"Tab",CHEVRON_LEFT:"<",CHEVRON_RIGHT:">",PERIOD:".",COMMA:",",SUBTRACT:"-",A:"a",C:"c",D:"d",E:"e",F:"f",G:"g",H:"h",I:"i",L:"l",O:"o",P:"p",Q:"q",R:"r",S:"s",T:"t",V:"v",X:"x",Y:"y",Z:"z",K:"k",W:"w",0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9"},w=function(d){return d===b.ARROW_LEFT||d===b.ARROW_RIGHT||d===b.ARROW_DOWN||d===b.ARROW_UP},N=function(d){return d.altKey},M=function(d){return d.shiftKey},f=function(d){return d.shiftKey}},2361:function(ue,n,r){r.d(n,{EK:function(){return B},H5:function(){return j},Jj:function(){return T},LW:function(){return d},N_:function(){return ge},Ni:function(){return x},U1:function(){return N},Xt:function(){return E},c9:function(){return H},eH:function(){return Q},ep:function(){return O},g6:function(){return L},lk:function(){return K},mW:function(){return R},wC:function(){return ve},xj:function(){return M},yB:function(){return Se},yW:function(){return ke},yq:function(){return f}});var A=r(2577),k=r(9937),b=r(4949),w=r(2921),N=function(v,i,a,y,h){return[(v-a)*Math.cos(h)-(i-y)*Math.sin(h)+a,(v-a)*Math.sin(h)+(i-y)*Math.cos(h)+y]},M=function(v,i,a){return N(v[0],v[1],i[0],i[1],a)},f=function(v,i,a,y,h,m,C,U){var V=Math.cos(y),D=Math.sin(y);return v.e&&v.w?i+=h+C:v.e?(i+=h*(1+V),a+=h*D,i+=C*(1-V),a+=C*-D):v.w&&(i+=h*(1-V),a+=h*-D,i+=C*(1+V),a+=C*D),v.n&&v.s?a+=m+U:v.n?(i+=m*D,a+=m*(1-V),i+=U*-D,a+=U*(1+V)):v.s&&(i+=m*-D,a+=m*(1+V),i+=U*D,a+=U*(1-V)),[i,a]},d=function(v,i,a,y){var h=a-v,m=y-i;return Math.hypot(h,m)},j=function(v,i){return[(v[0]+i[0])/2,(v[1]+i[1])/2]},L=function(v){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(v.length>=3){var a=[v[0],v[v.length-1]],y=a[0],h=a[1],m=d(y[0],y[1],h[0],h[1]);return m<=k.qx/i}return!1},H=function(v,i,a){var y=v.length;if(y<3)return!1;for(var h=[Number.MAX_SAFE_INTEGER,a],m=[i,a],C=0,U=0;U<y;U++){var V=v[U],D=v[(U+1)%y];if(q(V,D,m,h)){if(S(V,m,D)===0)return x(V,m,D);C++}}return C%2==1},x=function(v,i,a){return i[0]<=Math.max(v[0],a[0])&&i[0]>=Math.min(v[0],a[0])&&i[1]<=Math.max(v[1],a[1])&&i[1]>=Math.min(v[1],a[1])},S=function(v,i,a){var y=(i[1]-v[1])*(a[0]-i[0])-(i[0]-v[0])*(a[1]-i[1]);return y===0?0:y>0?1:2},q=function(v,i,a,y){var h=S(v,i,a),m=S(v,i,y),C=S(a,y,v),U=S(a,y,i);return h!==m&&C!==U||!(h!==0||!x(v,a,i))||!(m!==0||!x(v,y,i))||!(C!==0||!x(a,v,y))||!(U!==0||!x(a,i,y))},ve=function(v,i,a){return a?[Math.round(v/a)*a,Math.round(i/a)*a]:[v,i]},ke=function(v,i){var a,y,h;if(((a=i.roundness)===null||a===void 0?void 0:a.type)===k.a6.PROPORTIONAL_RADIUS||((y=i.roundness)===null||y===void 0?void 0:y.type)===k.a6.LEGACY)return v*k.Rx;if(((h=i.roundness)===null||h===void 0?void 0:h.type)===k.a6.ADAPTIVE_RADIUS){var m,C,U=(m=(C=i.roundness)===null||C===void 0?void 0:C.value)!==null&&m!==void 0?m:k._9;return v<=U/k.Rx?v*k.Rx:U}return 0},Se=function(v,i){var a=w.R.generateElementShape(v);if(!a)return null;for(var y=(0,b.CM)(a[0]),h=[0,0],m=0,C=1/0,U=null;m<y.length;){var V=y[m],D=V.op,P=V.data;if(D==="move"&&(h=P),D==="bcurveTo"){var F=h,X=[P[0],P[1]],le=[P[2],P[3]],de=[P[4],P[5]],fe=d(de[0],de[1],i[0],i[1]);fe<C&&(C=fe,U=[F,X,le,de]),h=de}m++}return U},ge=function(v,i,a,y,h){var m=function(C,U){return Math.pow(1-C,3)*y[U]+3*C*Math.pow(1-C,2)*a[U]+3*Math.pow(C,2)*(1-C)*i[U]+v[U]*Math.pow(C,3)};return[m(h,0),m(h,1)]},J=function(v,i){var a=[];a[0]=0;for(var y=function(C,U){var V=Se(C,U);if(!V)return[];for(var D=[],P=1;P>0;){var F=ge(V[0],V[1],V[2],V[3],P);D.push([F[0],F[1]]),P-=.05}return D.length&&T(D.at(-1),U)&&D.push([U[0],U[1]]),D}(v,i),h=0,m=0;h<y.length-1;)m+=d(y[h][0],y[h][1],y[h+1][0],y[h+1][1]),a.push(m),h++;return a},Q=function(v,i){return J(v,i).at(-1)},K=function(v,i,a){for(var y=J(v,i),h=y.length-1,m=a*y.at(-1),C=0,U=h,V=0;C<U;)y[V=Math.floor(C+(U-C)/2)]<m?C=V+1:U=V;return y[V]>m&&V--,y[V]===m?V/h:1-(V+(m-y[V])/(y[V+1]-y[V]))/h},T=function(v,i){return v[0]===i[0]&&v[1]===i[1]},B=function(v){return Math.round(v/Math.PI*1e4)%5e3==0},O=function(v,i){var a=(0,A.Z)(v,2),y=a[0],h=a[1],m=(0,A.Z)(i,2),C=m[0],U=m[1];return y<=C?h>=C:y>=C&&U>=y},R=function(v,i){var a=Math.max(v[0],i[0]),y=Math.min(v[1],i[1]);return a<=y?[a,y]:null},E=function(v,i,a){return v>=i&&v<=a}},4864:function(ue,n,r){r.d(n,{zx:function(){return Ce.z},Or:function(){return St.O},Eb:function(){return pr},ut:function(){return C.ut},$_:function(){return fe},vO:function(){return It},LO:function(){return C.LO},lb:function(){return pe.Z},YE:function(){return Pt.YE},C6:function(){return C.C6},B4:function(){return Ue},ZP:function(){return Jt.ZP},wc:function(){return Tt.w},Fp:function(){return x.Fp},sQ:function(){return Wt.sQ},Xs:function(){return Wt.Xs},Fl:function(){return tr.Fl},NL:function(){return tr.NL},i1:function(){return tr.i1},$D:function(){return tr.$D},KP:function(){return Lt.KP},N7:function(){return tr.N7},Lm:function(){return At.Lm},Uo:function(){return At.Uo},Ne:function(){return Wt.Ne},QD:function(){return At.QD},bt:function(){return Gt.bt},Mj:function(){return x.Mj},cT:function(){return tr.cT},lV:function(){return tr.lV},ZY:function(){return tr.ZY},zh:function(){return tr.zh},DR:function(){return Jt.DR},BE:function(){return Jt.BE},$u:function(){return Zt.$u},Di:function(){return gr.Di},nu:function(){return Xt.nu},lY:function(){return Xt.lY},ET:function(){return Xt.ET},wJ:function(){return Xt.wJ},_i:function(){return ke._i},I_:function(){return tr.I_},NI:function(){return tr.NI},Fy:function(){return ve.Fy},xS:function(){return gr.xS},QT:function(){return x.QT},dE:function(){return ke.dE}});var A=r(6479),k=r.n(A),b=r(9713),w=r.n(b),N=r(9787),M=r.n(N),f=r(8950),d=r(2577),j=r(2975),L=r.n(j),H=r(7165),x=r(8227),S=r(1020),q=function(Ft){var or=(0,N.useState)(!0),rr=(0,d.Z)(or,2),Or=rr[0],Kr=rr[1];return(0,N.useEffect)(function(){var Xr=function(){var en=(0,f.Z)(L().mark(function ur(){return L().wrap(function(Dt){for(;;)switch(Dt.prev=Dt.next){case 0:return Dt.next=2,(0,x.m0)(cn);case 2:Kr(!1);case 3:case"end":return Dt.stop()}},ur)}));return function(){return en.apply(this,arguments)}}(),cn=x.Mj.find(function(en){return en.code===Ft.langCode})||x.Fp;Xr()},[Ft.langCode]),Or?(0,S.jsx)(H.z,{theme:Ft.theme}):Ft.children},ve=r(8242),ke=r(9827),Se=r(3379),ge=r.n(Se),J=r(7795),Q=r.n(J),K=r(569),T=r.n(K),B=r(3565),O=r.n(B),R=r(9216),E=r.n(R),v=r(4589),i=r.n(v),a=r(9915),y={};y.styleTagTransform=i(),y.setAttributes=O(),y.insert=T().bind(null,"head"),y.domAPI=Q(),y.insertStyleElement=E(),ge()(a.Z,y),a.Z&&a.Z.locals&&a.Z.locals;var h=r(9310),m={};m.styleTagTransform=i(),m.setAttributes=O(),m.insert=T().bind(null,"head"),m.domAPI=Q(),m.insertStyleElement=E(),ge()(h.Z,m),h.Z&&h.Z.locals&&h.Z.locals;var C=r(9937),U=r(3607),V=r(453),D=r(45),P=r(4572),F=r(8793),X={};X.styleTagTransform=i(),X.setAttributes=O(),X.insert=T().bind(null,"head"),X.domAPI=Q(),X.insertStyleElement=E(),ge()(F.Z,X),F.Z&&F.Z.locals&&F.Z.locals;var le=r(100),de=function(Ft){var or=Ft.children,rr=(0,P.R6)().FooterCenterTunnel,Or=(0,le.I)();return(0,S.jsx)(rr.In,{children:(0,S.jsx)("div",{className:(0,D.Z)("footer-center zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-bottom":Or.zenModeEnabled}),children:or})})},fe=de;de.displayName="FooterCenter";var pe=r(7021),ne=r(7169),oe=r(2726),be=r(5463),Me=r(2529),Ge=r(8935),qe=r(5744),Ne={};Ne.styleTagTransform=i(),Ne.setAttributes=O(),Ne.insert=T().bind(null,"head"),Ne.domAPI=Q(),Ne.insertStyleElement=E(),ge()(qe.Z,Ne),qe.Z&&qe.Z.locals&&qe.Z.locals;var Pe=function(){return(0,S.jsx)("svg",{viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"ExcalidrawLogo-icon",children:(0,S.jsx)("path",{d:"M39.9 32.889a.326.326 0 0 0-.279-.056c-2.094-3.083-4.774-6-7.343-8.833l-.419-.472a.212.212 0 0 0-.056-.139.586.586 0 0 0-.167-.111l-.084-.083-.056-.056c-.084-.167-.28-.278-.475-.167-.782.39-1.507.973-2.206 1.528-.92.722-1.842 1.445-2.708 2.25a8.405 8.405 0 0 0-.977 1.028c-.14.194-.028.361.14.444-.615.611-1.23 1.223-1.843 1.861a.315.315 0 0 0-.084.223c0 .083.056.166.111.194l1.09.833v.028c1.535 1.528 4.244 3.611 7.12 5.861.418.334.865.667 1.284 1 .195.223.39.473.558.695.084.11.28.139.391.055.056.056.14.111.196.167a.398.398 0 0 0 .167.056.255.255 0 0 0 .224-.111.394.394 0 0 0 .055-.167c.029 0 .028.028.056.028a.318.318 0 0 0 .224-.084l5.082-5.528a.309.309 0 0 0 0-.444Zm-14.63-1.917a.485.485 0 0 0 .111.14c.586.5 1.2 1 1.843 1.555l-2.569-1.945-.251-.166c-.056-.028-.112-.084-.168-.111l-.195-.167.056-.056.055-.055.112-.111c.866-.861 2.346-2.306 3.1-3.028-.81.805-2.43 3.167-2.095 3.944Zm8.767 6.89-2.122-1.612a44.713 44.713 0 0 0-2.625-2.5c1.145.861 2.122 1.611 2.262 1.75 1.117.972 1.06.806 1.815 1.445l.921.666a1.06 1.06 0 0 1-.251.25Zm.558.416-.056-.028c.084-.055.168-.111.252-.194l-.196.222ZM1.089 5.75c.055.361.14.722.195 1.056.335 1.833.67 3.5 1.284 4.75l.252.944c.084.361.223.806.363.917 1.424 1.25 3.602 3.11 5.947 4.889a.295.295 0 0 0 .363 0s0 .027.028.027a.254.254 0 0 0 .196.084.318.318 0 0 0 .223-.084c2.988-3.305 5.221-6.027 6.813-8.305.112-.111.14-.278.14-.417.111-.111.195-.25.307-.333.111-.111.111-.306 0-.39l-.028-.027c0-.055-.028-.139-.084-.167-.698-.666-1.2-1.138-1.731-1.638-.922-.862-1.871-1.75-3.881-3.75l-.028-.028c-.028-.028-.056-.056-.112-.056-.558-.194-1.703-.389-3.127-.639C6.087 2.223 3.21 1.723.614.944c0 0-.168 0-.196.028l-.083.084c-.028.027-.056.055-.224.11h.056-.056c.028.167.028.278.084.473 0 .055.112.5.112.555l.782 3.556Zm15.496 3.278-.335-.334c.084.112.196.195.335.334Zm-3.546 4.666-.056.056c0-.028.028-.056.056-.056Zm-2.038-10c.168.167.866.834 1.033.973-.726-.334-2.54-1.167-3.379-1.445.838.167 1.983.334 2.346.472ZM1.424 2.306c.419.722.754 3.222 1.089 5.666-.196-.778-.335-1.555-.503-2.278-.251-1.277-.503-2.416-.838-3.416.056 0 .14 0 .252.028Zm-.168-.584c-.112 0-.223-.028-.307-.028 0-.027 0-.055-.028-.055.14 0 .223.028.335.083Zm-1.089.222c0-.027 0-.027 0 0ZM39.453 1.333c.028-.11-.558-.61-.363-.639.42-.027.42-.666 0-.666-.558.028-1.144.166-1.675.25-.977.194-1.982.389-2.96.61-2.205.473-4.383.973-6.561 1.557-.67.194-1.424.333-2.066.666-.224.111-.196.333-.084.472-.056.028-.084.028-.14.056-.195.028-.363.056-.558.083-.168.028-.252.167-.224.334 0 .027.028.083.028.11-1.173 1.556-2.485 3.195-3.909 4.945-1.396 1.611-2.876 3.306-4.356 5.056-4.719 5.5-10.052 11.75-15.943 17.25a.268.268 0 0 0 0 .389c.028.027.056.055.084.055-.084.084-.168.14-.252.222-.056.056-.084.111-.084.167a.605.605 0 0 0-.111.139c-.112.111-.112.305.028.389.111.11.307.11.39-.028.029-.028.029-.056.056-.056a.44.44 0 0 1 .615 0c.335.362.67.723.977 1.028l-.698-.583c-.112-.111-.307-.083-.39.028-.113.11-.085.305.027.389l7.427 6.194c.056.056.112.056.196.056s.14-.028.195-.084l.168-.166c.028.027.083.027.111.027.084 0 .14-.027.196-.083 10.052-10.055 18.15-17.639 27.42-24.417.083-.055.111-.166.111-.25.112 0 .196-.083.251-.194 1.704-5.194 2.039-9.806 2.15-12.083v-.028c0-.028.028-.056.028-.083.028-.056.028-.084.028-.084a1.626 1.626 0 0 0-.111-1.028ZM21.472 9.5c.446-.5.893-1.028 1.34-1.5-2.876 3.778-7.65 9.583-14.408 16.5 4.607-5.083 9.242-10.333 13.068-15ZM5.193 35.778h.084-.084Zm3.462 3.194c-.027-.028-.027-.028 0-.028v.028Zm4.16-3.583c.224-.25.448-.472.699-.722 0 0 0 .027.028.027-.252.223-.475.445-.726.695Zm1.146-1.111c.14-.14.279-.334.446-.5l.028-.028c1.648-1.694 3.351-3.389 5.082-5.111l.028-.028c.419-.333.921-.694 1.368-1.028a379.003 379.003 0 0 0-6.952 6.695ZM24.794 6.472c-.921 1.195-1.954 2.778-2.82 4.028-2.736 3.944-11.532 13.583-11.727 13.75a1976.983 1976.983 0 0 1-8.042 7.639l-.167.167c-.14-.167-.14-.417.028-.556C14.49 19.861 22.03 10.167 25.074 5.917c-.084.194-.14.36-.28.555Zm4.83 5.695c-1.116-.64-1.646-1.64-1.34-2.611l.084-.334c.028-.083.084-.194.14-.277.307-.5.754-.917 1.257-1.167.027 0 .055 0 .083-.028-.028-.056-.028-.139-.028-.222.028-.167.14-.278.335-.278.335 0 1.369.306 1.76.639.111.083.223.194.335.305.14.167.363.445.474.667.056.028.112.306.196.445.056.222.111.472.084.694-.028.028 0 .194-.028.194a2.668 2.668 0 0 1-.363 1.028c-.028.028-.028.056-.056.084l-.028.027c-.14.223-.335.417-.53.556-.643.444-1.369.583-2.095.389 0 0-.195-.084-.28-.111Zm8.154-.834a39.098 39.098 0 0 1-.893 3.167c0 .028-.028.083 0 .111-.056 0-.084.028-.14.056-2.206 1.61-4.356 3.305-6.506 5.028 1.843-1.64 3.686-3.306 5.613-4.945.558-.5.949-1.139 1.06-1.861l.28-1.667v-.055c.14-.334.67-.195.586.166Z",fill:"currentColor"})})},Re=function(){return(0,S.jsxs)("svg",{viewBox:"0 0 450 55",xmlns:"http://www.w3.org/2000/svg",fill:"none",className:"ExcalidrawLogo-text",children:[(0,S.jsx)("path",{d:"M429.27 96.74c2.47-1.39 4.78-3.02 6.83-4.95 1.43-1.35 2.73-2.86 3.81-4.51-.66.9-1.4 1.77-2.23 2.59-2.91 2.84-5.72 5.09-8.42 6.87h.01ZM343.6 69.36c.33 3.13.58 6.27.79 9.4.09 1.37.18 2.75.25 4.12-.12-4.46-.27-8.93-.5-13.39-.11-2.08-.24-4.16-.4-6.24-.06 1.79-.11 3.85-.13 6.11h-.01ZM378.47 98.34c.01-.37.07-1.13.01-6.51-.11 1.9-.22 3.81-.31 5.71-.07 1.42-.22 2.91-.16 4.35.39.03.78.07 1.17.1-.92-.85-.76-2.01-.72-3.66l.01.01ZM344.09 86.12c-.09-2.41-.22-4.83-.39-7.24v12.21c.15-.05.32-.09.47-.14.05-1.61-.03-3.23-.09-4.83h.01ZM440.69 66.79c-.22-.34-.45-.67-.69-.99-3.71-4.87-9.91-7.14-15.65-8.55-1.05-.26-2.12-.49-3.18-.71 2.29.59 4.48 1.26 6.64 2.02 7.19 2.54 10.57 5.41 12.88 8.23ZM305.09 72.46l1.2 3.6c.84 2.53 1.67 5.06 2.46 7.61.24.78.5 1.57.73 2.36.22-.04.44-.08.67-.12a776.9 776.9 0 0 1-5.01-13.57c-.02.04-.03.09-.05.13v-.01ZM345.49 90.25v.31c1.48-.42 3.05-.83 4.66-1.2-1.56.25-3.12.52-4.66.89ZM371.02 90.22c0-.57-.04-1.14-.11-1.71-.06-.02-.12-.04-.19-.05-.21-.05-.43-.08-.65-.11.42.16.74.88.95 1.87ZM398.93 54.23c-.13 0-.27-.01-.4-.02l.03.4c.11-.15.23-.27.37-.38ZM401.57 62.28v-.15c-1.22-.24-2.86-.61-3.23-1.25-.09-.15-.18-.51-.27-.98-.09.37-.2.73-.33 1.09 1.24.56 2.52.98 3.83 1.29ZM421.73 88.68c-2.97 1.65-6.28 3.12-9.69 3.68v.18c4.72-.14 11.63-3.85 16.33-8.38-2.04 1.75-4.33 3.24-6.63 4.53l-.01-.01ZM411.28 80.92c-.05-1.2-.09-2.4-.15-3.6-.21 5.66-.46 11.38-.47 14.51.24-.02.48-.04.71-.07.15-3.61.05-7.23-.09-10.83v-.01Z",transform:"translate(-144.023 -51.76)"}),(0,S.jsx)("path",{d:"M425.38 67.41c-3.5-1.45-7.19-2.57-14.06-3.62.09 1.97.06 4.88-.03 8.12.03.04.06.09.06.15.19 1.36.28 2.73.37 4.1.25 3.77.39 7.55.41 11.33 0 1.38-.01 2.76-.07 4.13 1.4-.25 2.78-.65 4.12-1.15 4.07-1.5 7.94-3.78 11.28-6.54 2.33-1.92 5.13-4.49 5.88-7.58.63-3.53-2.45-6.68-7.97-8.96l.01.02ZM411.35 92.53v-.06l-.34.03c.11.01.22.03.34.03ZM314.26 64.06c-.23-.59-.47-1.17-.7-1.75.57 1.62 1.11 3.25 1.6 4.9l.15.54 2.35 6.05c.32.82.66 1.64.98 2.46-1.38-4.1-2.83-8.17-4.39-12.2h.01ZM156.82 103.07c-.18.13-.38.23-.58.33 1.32-.03 2.66-.2 3.93-.34.86-.09 1.72-.22 2.58-.33-2.12.1-4.12.17-5.94.34h.01ZM210.14 68.88s.03.04.05.07c.18-.31.39-.64.58-.96-.21.3-.42.6-.64.89h.01ZM201.65 82.8c-.5.77-1.02 1.56-1.49 2.37 1.11-1.55 2.21-3.1 3.2-4.59-.23.23-.49.51-.75.79-.32.47-.65.95-.96 1.43ZM194.03 98.66c-.33-.4-.65-.84-1.05-1.17-.24-.2-.07-.49.17-.56-.23-.26-.42-.5-.63-.75 1.51-2.55 3.93-5.87 6.4-9.28-.17-.08-.29-.28-.2-.49.04-.09.09-.17.13-.26-1.21 1.78-2.42 3.55-3.61 5.33-.87 1.31-1.74 2.64-2.54 4-.29.5-.63 1.04-.87 1.61.81.65 1.63 1.27 2.47 1.88-.09-.11-.18-.21-.27-.32v.01ZM307.79 82.93c-1-3.17-2.05-6.32-3.1-9.48-1.62 4.08-3.69 9.17-6.16 15.19 3.32-1.04 6.77-1.87 10.27-2.5-.32-1.08-.67-2.15-1.01-3.21ZM149.5 80.7c.05-1.71.04-3.43 0-5.14-.1 2.26-.16 4.51-.22 6.77-.02.73-.03 1.46-.04 2.19.14-1.27.2-2.55.24-3.82h.02ZM228.98 98.3c.39 1.25.91 3.03.94 3.91.06-.03.12-.07.17-.1.08-1.29-.55-2.65-1.11-3.81ZM307.72 53.36c.81.5 1.53 1.04 2.07 1.49-.38-.8-.78-1.58-1.21-2.35-.17.03-.34.06-.51.11-.43.12-.86.26-1.29.41.35-.01.53.1.94.34ZM283.69 96.14c3.91-7.25 6.89-13.35 8.88-18.15l1.1-2.66c-1.27 2.64-2.56 5.27-3.83 7.9-1.53 3.15-3.06 6.31-4.58 9.47-.87 1.81-1.76 3.62-2.54 5.47.04.02.07.04.11.07.05.05.1.09.15.14.05-.73.27-1.48.71-2.24ZM289.92 103.23s-.04.01-.05.03c0-.02.04-.03.05-.04.05-.05.11-.1.16-.15l.21-.21c-.55 0-1.5-.27-2.55-.72.4.26.8.51 1.22.74.24.13.48.26.73.37.05.02.1.03.14.05a.27.27 0 0 1 .08-.07h.01ZM269.23 68.49c-.39-.19-.82-.48-1.33-.87-3.06-1.56-6.31-2.78-9.36-2.35-3.5.49-5.7 1.11-7.74 2.44 5.71-2.6 12.82-2.07 18.44.79l-.01-.01ZM177.87 53.69l1.06.03c-.96-.22-2-.25-2.89-.3-4.95-.26-9.99.33-14.86 1.19-2.44.43-4.88.95-7.28 1.59 9.09-1.76 15.69-2.77 23.97-2.51ZM219.85 55.51c-.18.12-.36.27-.56.45-.45.53-.86 1.11-1.26 1.66-1.91 2.61-3.71 5.31-5.57 7.95l-.12.18 8.05-10.11c-.18-.05-.36-.1-.55-.13h.01ZM510.71 54.1c.12-.15.29-.3.53-.45.69-.4 3.72-.63 5.87-.74-.36-.02-.73-.04-1.09-.05-1.84-.03-3.67.09-5.49.35.05.3.12.59.18.88v.01ZM510.76 86.02c1.37-3.07 2.49-6.27 3.57-9.46.55-1.64 1.12-3.3 1.6-4.97-1.59 4.01-3.67 9.14-6.2 15.3.24-.08.5-.14.74-.22.1-.22.19-.44.29-.65ZM566.95 75.76c.11-.02.23.03.31.11-.05-.13-.09-.26-.14-.39-.05.09-.11.18-.17.28ZM511.33 86.41c3.08-.89 6.24-1.62 9.46-2.14-1.51-3.98-2.98-7.96-4.39-11.87-.05.15-.09.31-.14.46-1.02 3.32-2.15 6.61-3.39 9.85-.48 1.25-.98 2.49-1.53 3.7h-.01ZM578.24 74.45c.11-.44.23-.87.35-1.31-.31.7-.64 1.39-.97 2.08.09.21.19.4.28.61.12-.46.23-.92.35-1.38h-.01ZM520.62 53.11c-.09 0-.18-.01-.28-.02.38.34.29 1.08.93 2.53l6.65 17.15c2.2 5.68 4.69 11.36 7.41 16.87l1.06 2.17c-2.95-7.05-5.92-14.08-8.87-21.13-1.58-3.79-3.16-7.59-4.7-11.4-.78-1.92-1.73-3.89-2.25-5.91-.03-.1 0-.19.04-.26h.01ZM578.78 77.87c1.45-5.77 3.07-10.43 3.58-13.36.05-.34.16-.88.31-1.55-.67 1.79-1.37 3.56-2.08 5.33-.12.43-.23.86-.35 1.29-.65 2.43-1.29 4.86-1.9 7.3.14.33.29.65.43 1l.01-.01ZM545.3 94.66c.02-.44.03-.83.05-1.12.02-1.01.05-2.02.11-3.02.03-6.66-.46-14.33-1.46-22.8-.13-.42-.27-1.24-.56-2.89 0-.02 0-.04-.01-.06.62 6.61.95 13.25 1.32 19.87.17 3.08.33 6.16.52 9.23.02.25.03.52.04.78l-.01.01ZM580.77 102.81c.13.2.27.38.37.49.27-.11.53-.22.8-.32-.43.09-.82.05-1.17-.16v-.01ZM530.48 104.07h.33c-.36-.13-.71-.32-1.04-.56.14.24.3.47.45.7.06-.08.14-.13.26-.13v-.01ZM542.63 58.82c.06.23.11.47.15.71.14-.33.36-.62.7-.86-.28.05-.57.11-.85.15ZM583.81 57.87c.15-.7.29-1.41.42-2.11-.14.45-.28.9-.42 1.34-.46 1.44-.89 2.89-1.31 4.34.44-1.19.88-2.37 1.31-3.57ZM523.62 91.48c-4.66 1.17-9.05 2.89-14.02 5.27 4.65-1.84 9.48-3.29 14.28-4.63-.09-.22-.17-.41-.26-.64ZM460.64 78.3c-.04-2.9-.11-5.81-.28-8.71-.1-1.68-.17-3.43-.5-5.09-.07.02-.14.03-.2.05.3 6.54.45 12.17.51 17.12.17-.07.34-.14.51-.2 0-1.06-.01-2.11-.03-3.17h-.01ZM470.63 63.24c-3.38-.26-6.81.32-10.1 1.1.41 2.01.47 4.14.57 6.18.18 3.55.25 7.11.27 10.67 3.31-1.38 6.5-3.12 9.3-5.35 1.96-1.56 3.86-3.41 5.02-5.66.73-1.41 1.19-3.22.26-4.65-1.09-1.7-3.46-2.14-5.32-2.29ZM460.29 63.68c1-.24 2.01-.46 3.04-.65-1.15.16-2.37.38-3.71.69v.13c.07-.02.15-.04.22-.05.11-.13.3-.18.45-.11v-.01ZM457.24 100.96c.43-.03.86-.07 1.29-.11.14-.49.27-.99.38-1.49-.44.7-1 1.23-1.67 1.6ZM482.88 104.98c-.18.23-.36.38-.55.47.14.09.27.19.4.28a70.76 70.76 0 0 0 4.37-4.63c.76-.89 1.52-1.81 2.19-2.77-.3-.27-.61-.53-.92-.79-.07 1.94-4.62 6.32-5.49 7.45v-.01Z",transform:"translate(-144.023 -51.76)"}),(0,S.jsx)("path",{d:"M474.36 63.31c-.4-.16-.84-.27-1.29-.37 1.56.42 3.08 1.22 3.76 2.74.62 1.4.32 2.95-.28 4.32.7-1.22.94-2.34.74-3.47-.24-1.33-1.19-2.54-2.93-3.21v-.01ZM477.34 89.18c-1.2-.81-2.4-1.62-3.6-2.42-.14.1-.26.19-.4.29 1.4.67 2.73 1.39 4 2.13ZM465.88 93.85c.37.25.74.5 1.1.75.46.32.92.65 1.38.97-1.57-1.2-2.01-1.61-2.49-1.72h.01ZM574.92 90.06c-2.28-5.21-4.93-11.13-5.67-12.26-.1-.15-1.57-3.01-1.63-3.08 0 0-.01.02-.02.02.4 1.37 1.09 2.69 1.65 3.99 2.14 4.95 4.36 9.86 6.67 14.73.6 1.26 1.21 2.52 1.83 3.78-.75-2.01-1.64-4.45-2.83-7.18ZM448.73 65.29c.1.2.22.38.34.57.22-.02.43-.06.65-.08v-.08c-.14-.05-.25 0-.99-.41ZM460.16 94.81c-.02.31-.06.59-.1.89-.03 1.71-.33 3.43-.79 5.07.15-.02.3-.03.45-.05.01-.04.02-.08.03-.11.09-.34.15-.69.2-1.03.17-1.07.25-2.16.33-3.24.05-.69.08-1.39.12-2.08-.27.1-.27.26-.24.57v-.02Z",transform:"translate(-144.023 -51.76)"}),(0,S.jsx)("path",{d:"m328.67 98.12-3.22-6.58c-1.29-2.63-2.53-5.29-3.72-7.97-.25-.85-.52-1.69-.79-2.53-.81-2.57-1.67-5.12-2.55-7.67-1.92-5.53-3.9-11.08-6.32-16.41-.72-1.58-1.46-3.44-2.63-4.79-.03-.17-.16-.29-.34-.36a.282.282 0 0 0-.23-.04c-.06-.01-.12 0-.18.01-.74.06-1.5.38-2.19.61-2.22.77-4.4 1.64-6.63 2.38-.03-.08-.06-.16-.09-.25-.15-.42-.82-.24-.67.19.03.09.07.19.1.28l-.18.06c-.36.11-.28.6 0 .68.18 1.18.63 2.36.98 3.49.03.09.06.17.08.26-.08.23-.17.46-.24.64-.37.98-.79 1.94-1.21 2.9-1.27 2.89-2.62 5.75-3.98 8.6-3.18 6.67-6.44 13.31-9.64 19.97-1.08 2.25-2.2 4.5-3.15 6.81-.13.32.24.5.5.37 1.34 1.33 2.84 2.5 4.4 3.57.65.44 1.31.87 2.01 1.24.4.22.86.48 1.33.5.24.01.35-.19.33-.37.11-.1.21-.21.28-.28.41-.41.81-.84 1.2-1.26.85-.92 1.69-1.87 2.5-2.84 6.31-2.34 12.6-4.31 18.71-5.84 2.14 5.3 3.43 8.43 3.97 9.58.55 1.05 1.15 1.88 1.82 2.52 1.32.56 6.96-.03 9.23-1.96.87-1.28 1.19-2.67.93-4.15-.09-.5-.22-.95-.4-1.33l-.01-.03Zm-20.09-45.61c.43.77.83 1.56 1.21 2.35-.54-.45-1.27-.99-2.07-1.49-.42-.24-.6-.35-.94-.34.43-.15.85-.29 1.29-.41.17-.05.34-.08.51-.11Zm-25.86 45.66c.78-1.85 1.67-3.66 2.54-5.47 1.51-3.16 3.05-6.31 4.58-9.47 1.28-2.63 2.56-5.26 3.83-7.9l-1.1 2.66c-1.99 4.79-4.97 10.9-8.88 18.15-.43.76-.66 1.51-.71 2.24-.05-.05-.1-.09-.15-.14a.259.259 0 0 0-.11-.07Zm6.24 4.71c-.42-.23-.82-.48-1.22-.74 1.05.45 2 .72 2.55.72l-.21.21c-.05.05-.11.1-.16.15-.01.01-.04.03-.05.04 0-.02.03-.02.05-.03a.27.27 0 0 0-.08.07c-.05-.02-.1-.03-.14-.05-.25-.1-.49-.24-.73-.37h-.01Zm15.73-29.43c1.05 3.15 2.1 6.31 3.1 9.48.34 1.06.69 2.13 1.01 3.21-3.5.63-6.95 1.46-10.27 2.5 2.48-6.03 4.54-11.11 6.16-15.19Zm4.79 12.57c-.23-.79-.49-1.58-.73-2.36-.79-2.54-1.63-5.08-2.46-7.61l-1.2-3.6c.02-.04.04-.09.05-.13 1.6 4.45 3.28 9 5.01 13.57l-.67.12v.01Zm5.83-18.27-.15-.54c-.49-1.64-1.03-3.28-1.6-4.9.23.58.47 1.17.7 1.75 1.56 4.03 3.01 8.1 4.39 12.2-.33-.82-.67-1.64-.98-2.46l-2.35-6.05h-.01ZM390.43 79.37c-.13-10.43-.22-17.5-.24-19.97-.24-1.6.21-2.88-.65-3.65-.14-.13-.32-.23-.52-.32h.03c.45 0 .45-.69 0-.7-1.75-.03-3.5-.04-5.25-.14-1.38-.08-2.76-.21-4.15-.31-.07 0-.12.01-.17.04-.21-.07-.47.03-.45.31l.03.45c-.11.14-.19.3-.22.5-.21 1.26-.32 13.67-.36 23.59-.32 5.79-.67 11.57-.97 17.36-.09 1.73-.29 3.54-.21 5.3-.39.02-.38.64.04.69v.12c.05.44.74.45.7 0v-.06c1.1.09 2.2.21 3.3.3 1.14.19 2.44.2 3.29.17 1.73-.05 2.92-.05 3.8-.37.45-.05.9-.11 1.35-.17.44-.06.25-.73-.19-.67h-.01c.24-.32.45-.72.62-1.25.66-1.84.41-6.36.34-11.33l-.13-9.9.02.01Zm-12.26 18.17c.09-1.91.2-3.81.31-5.71.06 5.38 0 6.14-.01 6.51-.05 1.65-.21 2.81.72 3.66-.39-.04-.78-.07-1.17-.1-.06-1.44.09-2.93.16-4.35l-.01-.01ZM588.97 53.85c-2.06-.25-3.17-.51-3.76-.6a.3.3 0 0 1 .04-.08c.22-.39-.39-.75-.6-.35-.56 1.02-.9 2.19-1.26 3.29-.61 1.88-1.17 3.78-1.72 5.68-.63 2.19-1.24 4.39-1.83 6.59-.81 2.03-1.67 4.05-2.61 6.03-1.7-3.64-3.11-6.04-4.03-7.57-2.26-3.74-2.85-5.48-3.57-6.08l.31-.09c.43-.12.25-.8-.19-.67-1.06.3-2.12.6-3.17.95-.93.32-1.85.69-2.76 1.07-.13.05-.19.16-.22.27-.04.02-.08.05-.11.07-.04-.06-.07-.12-.11-.18a.354.354 0 0 0-.48-.12c-.16.09-.22.32-.13.48l.33.54c0 .09.02.18.06.28.51 1.16.78 1.38.72 1.47-2.42 3.44-5.41 7.86-6.2 9.1-1.27 1.97-2.01 3.14-2.45 3.84l-.91-6.56-.43-4.1c-.19-1.85-.37-3.23-.53-4.13-.19-1.1-.3-2.15-.45-3.16-.2-1.36-.29-2.06-.47-2.42h.04c.45.02.45-.68 0-.7-3.43-.16-6.81.94-10.17 1.48-.24-.22-.73-.04-.58.32.24.59.33 1.25.43 1.87.17 1.06.29 2.13.4 3.2.32 3.09.53 6.2.74 9.3.44 6.75.77 13.51 1.17 20.26.11 1.95.13 3.96.46 5.89.05.3.37.31.55.14.74 1.71 2.87 1.27 6.13 1.27 1.34 0 2.39.04 2.99-.11.02.32.48.53.63.18 3.61-8.26 7.41-16.46 12.05-24.2.03-.05.04-.1.05-.15.3.73.64 1.45.94 2.16.97 2.26 1.97 4.52 2.98 6.76 2.26 5.03 4.54 10.07 7.09 14.96.47.9.94 1.79 1.47 2.65.2.32.4.67.66.96-.18.25 0 .68.34.54.91-.38 1.82-.75 2.76-1.07 1.04-.35 2.11-.65 3.17-.95.39-.11.28-.66-.07-.68.62-.4.95-.96.87-1.91-.3-3.34.72-7.47.86-8.52l2.14-11.43c1.75-10.74 3.13-17.51 3.23-20.86.02-.49.08-2.84.13-3.24.17-1.25.48-1-4.96-1.65l.03-.02Zm-46.19 5.67c-.04-.24-.09-.48-.15-.71l.85-.15c-.34.24-.56.53-.7.86Zm1.95 25.12c-.36-6.63-.7-13.26-1.32-19.87 0 .02 0 .04.01.06.29 1.65.44 2.47.56 2.89 1 8.46 1.5 16.14 1.46 22.8-.06.99-.1 2-.11 3.02-.01.29-.03.68-.05 1.12-.01-.26-.03-.53-.04-.78-.19-3.08-.35-6.16-.52-9.23l.01-.01Zm36.4 18.66c-.11-.11-.24-.29-.37-.49.35.21.74.26 1.17.16-.27.11-.53.22-.8.32v.01Zm-.89-33.72c.12-.43.23-.86.35-1.29.71-1.77 1.41-3.55 2.08-5.33-.15.68-.26 1.22-.31 1.55-.5 2.94-2.13 7.59-3.58 13.36-.15-.35-.29-.66-.43-1 .61-2.44 1.25-4.87 1.9-7.3l-.01.01Zm3.56-12.48c.14-.44.28-.89.42-1.34-.13.7-.27 1.41-.42 2.11-.43 1.19-.86 2.38-1.31 3.57.42-1.45.85-2.9 1.31-4.34Zm-5.22 16.05c-.11.44-.23.87-.35 1.31-.12.46-.23.92-.35 1.38-.1-.22-.19-.4-.28-.61.34-.69.66-1.38.97-2.08h.01Zm-11.64 2.62c.06-.1.12-.19.17-.28.05.13.09.26.14.39a.398.398 0 0 0-.31-.11Zm2.3 2.98c-.56-1.3-1.25-2.63-1.65-3.99 0 0 .01-.02.02-.02.06.08 1.52 2.93 1.63 3.08.73 1.13 3.38 7.04 5.67 12.26 1.2 2.73 2.08 5.17 2.83 7.18-.62-1.25-1.23-2.51-1.83-3.78-2.31-4.87-4.53-9.78-6.67-14.73ZM275.92 87.03c-1.06-2.18-1.13-3.45-2.44-2.93-1.52.57-2.94 1.3-4.5 2.1-1.4.72-2.68 1.44-3.92 2.12.01-.25-.24-.5-.51-.34-4.8 2.93-12.41 4.7-17.28 1.31-1.98-1.77-3.32-4.15-3.97-5.78-.29-.95-.49-1.94-.63-2.93-.14-3.34 1.58-6.53 3.9-9.12.8-.79 1.68-1.51 2.66-2.12 3.7-2.3 8.22-3.07 12.51-2.51 2.71.35 5.32 1.24 7.71 2.55.39.22.75-.39.35-.6-.18-.1-.37-.18-.55-.27.56.27 1.03.33 1.51.19l-.48.39c-.15.11-.23.3-.13.48.09.15.33.24.48.13 1.3-.97 2.46-2.09 3.45-3.37.37-.29.64-.6.65-.97v-.02c.08-.33-.03-.7-.21-1.08-.31-.87-.98-2.01-2.19-3.26-2.43-2.52-3.79-3.45-5.68-4.26-1.14-.49-3.12-1.06-4.42-1.23-3.28-.42-10.64-1.21-18.18 4.11-7.74 5.46-11.94 12.3-12.23 20.61-.08 2.06.04 3.98.34 5.71.74 4.18 2.57 8 5.44 11.34 4.26 4.99 9.76 7.52 16.34 7.52 4.85 0 9.69-1.77 14.89-4.62.23-.12.45-.23.68-.35 2.19-1.1 4.37-2.23 6.46-3.5.49-.3 1.03-.61 1.5-.98 1.47-.87 1.11-1.12.49-2.95-.39-1.14-.76-2.7-2.06-5.36l.02-.01Zm-17.38-21.76c3.05-.42 6.31.79 9.36 2.35.51.39.94.68 1.33.87-5.61-2.86-12.72-3.39-18.44-.79 2.05-1.33 4.24-1.95 7.74-2.44l.01.01ZM443.67 72.67c-.4-2.2-1.15-4.33-2.37-6.22-1.49-2.32-3.58-4.19-5.91-5.64-6.17-3.81-13.75-5.11-20.83-6.01-3.23-.41-6.47-.69-9.72-.92l-1.39-.12c-.85-.07-1.52-.1-2.05-.1-1.08-.06-2.17-.12-3.25-.17-.08 0-.14.02-.19.05-.1.05-.18.14-.16.3.27 2.55-.01 5.12-.92 7.52-.15.38.4.56.62.28 1.32.59 2.68 1.05 4.08 1.37 0 2.78-.14 7.58-.33 12.91 0 0 0 .02-.01.03-.61 3.66-.79 7.42-1 11.12-.23 4.01-.43 8.03-.44 12.05 0 .64 0 1.28.03 1.93.02.31 0 .68.15.96.06.11.14.16.24.17-.2.17-.21.54.11.59 3.83.67 7.78.71 11.68.25 2.3-.19 4.87-.65 7.65-1.56 1.85-.54 3.67-1.18 5.43-1.91 7.2-3.02 14.31-8.07 17.35-15.53.76-1.86 1.17-3.8 1.31-5.75.3-1.93.28-3.82-.09-5.58l.01-.02Zm-19.32-15.42c5.74 1.41 11.94 3.68 15.65 8.55.25.32.47.65.69.99-2.3-2.82-5.68-5.69-12.88-8.23-2.16-.76-4.35-1.43-6.64-2.02 1.06.21 2.13.45 3.18.71Zm-25.82-3.04c.13 0 .27.01.4.02-.14.1-.26.23-.37.38 0-.13-.02-.26-.03-.4Zm34.82 22.17c-.75 3.09-3.55 5.66-5.88 7.58-3.35 2.76-7.21 5.03-11.28 6.54-1.33.49-2.71.9-4.12 1.15.06-1.38.08-2.76.07-4.13-.02-3.78-.16-7.56-.41-11.33-.09-1.37-.18-2.74-.37-4.1 0-.06-.03-.11-.06-.15.09-3.25.12-6.16.03-8.12 6.86 1.05 10.56 2.17 14.06 3.62 5.52 2.28 8.59 5.44 7.97 8.96l-.01-.02Zm-22 16.15c-.12 0-.23-.02-.34-.03l.34-.03v.06Zm-.69-.7c0-3.13.26-8.84.47-14.51.06 1.2.11 2.41.15 3.6.15 3.6.25 7.23.09 10.83-.24.03-.48.05-.71.07v.01Zm-12.33-30.94c.37.63 2.01 1.01 3.23 1.25v.15c-1.31-.31-2.59-.73-3.83-1.29.12-.36.23-.72.33-1.09.08.48.18.84.27.98Zm13.7 31.65v-.18c3.41-.56 6.71-2.02 9.69-3.68 2.31-1.28 4.59-2.78 6.63-4.53-4.69 4.53-11.61 8.24-16.33 8.38l.01.01Zm24.07-.75c-2.05 1.93-4.37 3.56-6.83 4.95 2.7-1.78 5.52-4.03 8.42-6.87.82-.82 1.56-1.69 2.23-2.59-1.08 1.65-2.38 3.16-3.81 4.51h-.01ZM187.16 92.14c-.79-2.47-2.1-7.12-3.1-6.87-.19-.01-2.09.77-4.08 1.54-3.06 1.18-5.91 2.13-10.09 2.82-2.74.42-5.87 1.01-10.61 1.06.04-3.34.05-6.01.05-7.99 7.97-.65 12.33-2.11 16.37-3.55 1.11-.39 2.69-1.01 2.63-1.8-.08-.35-.55-1.39-1.17-2.61-.47-1.16-.98-2.31-1.61-3.38-.42-.71-1.04-1.69-1.86-2.06-.11-.08-.22-.13-.29-.12-.02 0-.04 0-.07.01-.19-.04-.39-.05-.6-.01-.17.03-.24.15-.25.28-.04.02-.09.04-.14.05-4.33 1.48-8.85 2.33-13.24 3.61a499.1 499.1 0 0 0-.31-8.19c4.51-.99 8.88-1.38 13.11-1.82 3.68-.38 6.28.12 7.47.34.59.11.9.16 1.16.18h.1c-.1.37.44.66.62.28.02-.04.03-.08.05-.13.15.2.53.22.62-.1.17-.58.19-1.21.21-1.81v-.36c.03-.15.05-.3.07-.45.52-2.47.33-5.09-.64-7.44-.11-.27-.44-.28-.6-.14-.08-.21-.15-.42-.24-.62-.19-.41-.79-.05-.6.35.03.07.05.15.09.22-.98-.42-2.15-.54-3.17-.63-2.17-.19-4.37-.14-6.54 0-5.7.35-11.4 1.3-16.91 2.79-2.08.56-4.13 1.22-6.14 2-4.54 1.05-3.79 1.51-2.17 6.07.18.51.46 1.68.54 1.94.82 2.47 1.08 2.13 3.1 2.13s0 .05 0 .08h.52c-.48 2.66-.51 5.45-.62 8.13-.15 3.48-.22 6.96-.28 10.45 0 .41-.01.82-.02 1.23-.16.29-.33.57-.51.85-.05.38-.09.77-.14 1.18-.42 3.52-.59 6.48-.52 8.8v.34c.02.47.05.76.06.87.16 1.57-.26 3.47 1.35 3.79 1.61.32 3.5.55 4.85.55.11 0 .22-.02.33-.02 1.79.24 3.67.05 5.45-.12 2.85-.28 5.69-.7 8.51-1.19 3.03-.53 6.05-1.14 9.04-1.86 2.4-.58 4.82-1.19 7.13-2.06.51-.19 1.73-.57 2.46-1.14 1.81-.68 2.18-1 1.57-2.67-.23-.62-.48-1.49-.91-2.78l-.03-.02Zm-11.12-38.71c.89.05 1.93.08 2.89.3-.33 0-.68-.02-1.06-.03-8.28-.26-14.88.75-23.97 2.51 2.41-.64 4.85-1.16 7.28-1.59 4.87-.86 9.91-1.45 14.86-1.19Zm-26.53 22.13c.03 1.71.04 3.43 0 5.14-.04 1.27-.11 2.55-.24 3.82 0-.73.02-1.46.04-2.19.05-2.26.12-4.51.22-6.77h-.02Zm6.73 27.85c.2-.1.4-.21.58-.33 1.82-.17 3.82-.24 5.94-.34-.86.11-1.72.24-2.58.33-1.27.14-2.61.31-3.93.34h-.01ZM534.48 85.44c-3.52-8.38-7.07-16.75-10.5-25.17-.63-1.54-1.25-3.09-1.86-4.65-.31-.8-.65-1.6-.87-2.43-.04-.17-.17-.24-.31-.25.1-.2 0-.51-.29-.53-1.59-.08-3.18-.22-4.78-.25-1.96-.03-3.91.13-5.84.42-.31.05-.31.38-.13.56-.03.06-.05.14-.04.22.23 1.54.63 3.06 1.16 4.53.13.35.27.7.41 1.06l-2.68 6.18c-.11.03-.2.09-.25.22-.67 1.9-1.52 3.73-2.34 5.56a536.85 536.85 0 0 1-3.9 8.45c-2.64 5.64-5.34 11.25-7.91 16.93-.44.97-.88 1.94-1.29 2.93-.2.48-.47 1-.55 1.52v.05c-.02.12.02.26.16.34 1.19.73 2.41 1.41 3.66 2.05 1.2.62 2.45 1.25 3.76 1.61.43.12.62-.55.19-.67-1.13-.31-2.2-.83-3.24-1.36 1.09.36 2.1.69 2.75.93 2.82 1.01 2.38 1.1 4.3-3.75 2.1-1.09 4.34-1.96 6.53-2.79 4.35-1.64 8.8-3.03 13.27-4.29.82 2.01 1.77 3.97 2.72 5.92.35.83.62 1.45.79 1.82.22.42.45.8.69 1.15.17.33.33.67.5 1 .42.8.84 1.63 1.4 2.35.23.29.6 0 .55-.31 1.53-.02 3.06-.07 4.58-.27.92-.12 1.82-.32 2.71-.54 1.39-.27 3.85-1.11 3.74-1.42-.67-1.96-1.55-3.87-2.34-5.78-1.57-3.78-3.16-7.56-4.75-11.33v-.01Zm-11.65-26.16c1.54 3.81 3.12 7.6 4.7 11.4 2.94 7.05 5.91 14.09 8.87 21.13l-1.06-2.17c-2.71-5.51-5.2-11.19-7.41-16.87l-6.65-17.15c-.65-1.45-.55-2.19-.93-2.53.09 0 .18.01.28.02a.29.29 0 0 0-.04.26c.52 2.02 1.47 3.98 2.25 5.91h-.01Zm-6.58 13.58c.05-.15.09-.31.14-.46 1.41 3.92 2.88 7.9 4.39 11.87-3.22.52-6.38 1.25-9.46 2.14.55-1.22 1.05-2.46 1.53-3.7 1.24-3.24 2.37-6.53 3.39-9.85h.01Zm-.23-20c.36 0 .73.03 1.09.05-2.15.1-5.18.33-5.87.74-.24.15-.41.3-.53.45-.06-.29-.13-.58-.18-.88 1.82-.26 3.65-.39 5.49-.35v-.01Zm-.09 18.72c-.49 1.67-1.05 3.33-1.6 4.97-1.07 3.19-2.19 6.38-3.57 9.46-.09.21-.19.43-.29.65-.25.07-.5.14-.74.22 2.53-6.16 4.61-11.29 6.2-15.3Zm-6.34 25.16c4.97-2.38 9.37-4.1 14.02-5.27l.26.64c-4.8 1.35-9.63 2.8-14.28 4.63Zm20.17 6.76c.33.23.68.42 1.04.56h-.33c-.12 0-.21.06-.26.13-.15-.23-.31-.45-.45-.7v.01ZM226.57 91.75c-3.55-4.74-6.68-9.11-9.31-12.99 9.2-15.25 10.05-17.81 10.35-18.38.17-.34 1.09-2.27.64-2.53-1.13-.65-1.03-.65-2.97-1.71-1.19-.65-3.04-1.61-4.53-2.12-1.71-.59-1.24-.36-3 2.77-.06.1-.11.2-.17.3-.75 1.02-1.48 2.05-2.2 3.09-1.88 2.71-3.73 5.45-5.69 8.1-3.68-4.91-6.88-8.76-9.51-11.43-.15-.15-.3-.29-.46-.42-1.27-1.28-7.24 3.53-7.93 5.58-.09.09-.19.16-.28.25-.27.26.03.64.33.58.19.65.5 1.29.94 1.91 3.85 5.06 7.19 9.76 9.94 14-1.23 2.61-3.06 5-4.67 7.38l-2.28 3.33c-.5.66-.93 1.23-1.29 1.69-.67.93-2.09 2.61-2.3 3.87-.51.85-1.16 1.84-1.29 2.83-.06.44.61.63.67.19.01-.08.04-.15.06-.22 1.36 1.08 2.76 2.11 4.19 3.11 1.3.91 2.62 1.85 4.04 2.56.21.1.4 0 .48-.17.24.07.48.14.72.2.44.1.62-.57.19-.67-2.02-.48-3.77-1.57-5.23-3.02-.47-.46-.9-.96-1.32-1.46 1.74 1.35 4.2 2.89 5.89 4.14 1.39 1.03 2.85-2.27 4.22-4.2 1.86-2.64 3.96-5.86 5.52-8.29l10.39 14.51c.67.81 1.14 1.21 1.57 1.36-.05.24.12.51.41.4 1.53-.58 3.05-1.19 4.54-1.87 1.52-.69 3.06-1.45 4.36-2.5a.28.28 0 0 0 .12-.23c1.66-1.1.81-1.74-1.41-4.91-1.13-1.58-1.71-2.36-3.7-5.01l-.03-.02Zm2.41 6.54c.56 1.15 1.19 2.52 1.11 3.81-.06.04-.12.07-.17.1-.03-.88-.55-2.66-.94-3.91Zm-16.51-32.73c1.86-2.65 3.65-5.35 5.57-7.95.4-.55.81-1.13 1.26-1.66.19-.18.38-.33.56-.45.18.03.36.08.55.13l-8.05 10.11.12-.18h-.01ZM192.7 95.48c.79-1.37 1.66-2.69 2.54-4 1.19-1.79 2.4-3.56 3.61-5.33-.04.09-.09.17-.13.26-.1.22.03.41.2.49-2.47 3.42-4.89 6.73-6.4 9.28.21.24.4.48.63.75-.24.07-.4.36-.17.56.4.33.72.77 1.05 1.17.09.11.18.21.27.32-.84-.61-1.66-1.24-2.47-1.88.24-.57.58-1.11.87-1.61v-.01Zm7.46-10.32c.47-.81.98-1.59 1.49-2.37.31-.48.64-.95.96-1.43.26-.29.52-.56.75-.79-.99 1.48-2.09 3.03-3.2 4.59Zm10.03-16.22s-.03-.05-.05-.07c.22-.29.43-.59.64-.89-.2.32-.4.65-.58.96h-.01ZM371.54 87.96c-.01-.08-.01-.16-.03-.23-.06-.38-.58-.29-.66.03-.3-.05-.6-.08-.81-.11-1.14-.15-2.29-.19-3.44-.2 1.04-.09 2.09-.18 3.14-.23.45-.02.45-.72 0-.7-6.57.35-13.14 1.23-19.65 2.11-1.53.21-3.05.42-4.57.68-.01 0-.02.01-.04.01-.04-3.33-.13-6.66-.24-9.99-.19-5.7-.4-11.41-.88-17.1-.13-1.51-.23-3.07-.49-4.58 0-.25 0-.48-.02-.68-.06-1.19-.04-2.61-.68-2.78-.16-.07-.72-.16-1.5-.24.22-.17.16-.62-.2-.63-1.19-.04-2.39.09-3.57.23-1.2.14-2.41.32-3.59.6-.16-.1-.41-.06-.5.12-.06.02-.13.03-.19.05-.35.1-.29.55-.03.66-.26.6-.19 2.27-.21 3-.02.66-.66 33.73-.9 40.3-.03.65.06 1.12.04 1.45-.16 3.05.87 4.96 6.34 3.93 1.09-.08 2.75-.77 5.36-1.43 4.13-1.04 5.78-1.52 6.2-1.65 6.43-1.69 6.78-1.97 11.72-2.43.55-.05 4.8-.38 6.03-.3.64.04 1.19.07 1.65.1.09 0 .16-.03.24-.05.1.27.56.33.66-.02.39-1.32.61-2.71.78-4.08.2-1.61.29-3.24.15-4.86.24.03.52-.23.38-.53-.09-.2-.27-.33-.49-.43v-.02Zm-.63.56c.07.57.11 1.14.11 1.71-.21-.99-.53-1.71-.95-1.87.22.03.44.06.65.11.06.01.12.04.19.05Zm-25.41 1.73c1.54-.36 3.1-.64 4.66-.89-1.61.37-3.18.77-4.66 1.2v-.31Zm-.86-7.37c-.07-1.37-.16-2.75-.25-4.12-.21-3.13-.45-6.27-.79-9.4.02-2.25.08-4.31.13-6.11.16 2.08.29 4.16.4 6.24.23 4.46.38 8.93.5 13.39h.01Zm-.94-4c.16 2.41.29 4.83.39 7.24.06 1.6.14 3.22.09 4.83-.15.05-.32.09-.47.14V78.88h-.01ZM483.72 92.83c-3.05-2.28-6.22-4.4-9.38-6.51 8.86-6.49 13.49-12.95 13.73-19.23.04-.76 0-1.5-.13-2.2-.67-3.82-3.5-6.68-8.39-8.48.13.04.27.08.4.13 3.92 1.39 7.74 4.23 8.5 8.56.34 1.95-.05 3.96-.98 5.69-.21.4.39.75.6.35 1.86-3.46 1.46-7.55-.97-10.63-3.53-4.47-9.76-5.88-15.16-6.16-2.32-.12-4.64-.04-6.95.19-6 .32-12.71 1.68-17.63 3.21-.37.11-.67.23-.92.35-.2-.17-.62.02-.57.37v.03c-.64.68-.18 1.64.48 3.21.38.91.67 1.89 1.15 2.58.32.76.68 1.51 1.13 2.19.14.21.38.19.53.07.19-.02.38-.05.57-.08v1.57c-.06.06-.1.13-.11.23-.27 4.18-.34 8.38-.48 12.57l-.3 9.03c-.24 3.91-.44 6.77-.46 7.26-.05.88-.11 1.95.07 2.81-.01.22-.02.43-.04.65 0 .11-.02.23-.03.35 0 .05-.03.27-.01.16-.05.4.5.59.64.28.05.04.12.08.2.08 1.75.13 3.5.28 5.25.3 1.69.02 3.38-.12 5.06-.32.08.23.36.39.55.15.06-.08.11-.17.16-.26.18-.09.24-.32.18-.48.05-.2.1-.4.13-.6.16-.86.25-1.74.33-2.62.11-1.17.17-2.34.23-3.51.15-.01.32-.03.52-.04.36-.03 1.73-.15 2.06-.15.39 0 .7-.02.95-.04 1.76 1.11 3.45 2.35 5.14 3.55 2.83 2.01 5.64 4.04 8.47 6.04 1.42 1 2.85 2 4.29 2.97.1.06.19.07.27.04.08 0 .17-.02.25-.1 1.61-1.56 3.15-3.18 4.6-4.88.75-.88 1.49-1.78 2.15-2.73.01.01.03.02.04.03.34.3.83-.2.49-.49-2.16-1.9-4.34-3.76-6.64-5.48l.03-.01Zm-6.38-3.65a55.72 55.72 0 0 0-4-2.13c.14-.1.26-.19.4-.29 1.2.81 2.4 1.61 3.6 2.42Zm-20.1 11.78c.67-.37 1.23-.91 1.67-1.6-.11.5-.24 1-.38 1.49-.43.04-.86.08-1.29.11Zm2.38-37.24c1.34-.31 2.56-.52 3.71-.69-1.03.19-2.04.41-3.04.65-.14-.07-.34-.02-.45.11-.07.02-.15.04-.22.05v-.13.01Zm.04.84c.07-.02.14-.03.2-.05.34 1.66.41 3.41.5 5.09.17 2.9.24 5.81.28 8.71l.03 3.17c-.17.07-.34.14-.51.2-.06-4.96-.21-10.58-.51-17.12h.01Zm16.04 5.62c-1.16 2.25-3.06 4.1-5.02 5.66-2.8 2.23-5.99 3.97-9.3 5.35-.01-3.56-.09-7.12-.27-10.67-.1-2.04-.16-4.16-.57-6.18 3.3-.78 6.72-1.36 10.1-1.1 1.85.14 4.23.59 5.32 2.29.92 1.43.46 3.24-.26 4.65Zm.85-.18c.6-1.37.9-2.92.28-4.32-.67-1.52-2.2-2.32-3.76-2.74.46.1.89.21 1.29.37 1.74.67 2.69 1.88 2.93 3.21.2 1.13-.05 2.25-.74 3.47V70Zm-27.47-4.14c-.12-.19-.23-.38-.34-.57.74.42.85.36.99.41v.08c-.22.03-.43.06-.65.08Zm11.21 30.46c-.08 1.08-.16 2.17-.33 3.24-.05.35-.11.69-.2 1.03 0 .04-.02.07-.03.11-.15.02-.3.04-.45.05.45-1.64.76-3.36.79-5.07.03-.29.08-.57.1-.89-.03-.31-.03-.47.24-.57-.04.69-.07 1.39-.12 2.08v.02Zm5.6-2.47c.48.11.92.52 2.49 1.72-.46-.32-.92-.65-1.38-.97-.37-.25-.73-.5-1.1-.75h-.01Zm21.23 7.24a70.76 70.76 0 0 1-4.37 4.63c-.14-.09-.27-.19-.4-.28.19-.09.37-.24.55-.47.87-1.14 5.43-5.51 5.49-7.45.31.26.62.53.92.79-.67.97-1.42 1.88-2.19 2.77v.01Z",fill:"currentColor",transform:"translate(-144.023 -51.76)"})]})},Ze=function(Ft){var or=Ft.style,rr=Ft.size,Or=rr===void 0?"small":rr,Kr=Ft.withText;return(0,S.jsxs)("div",{className:"ExcalidrawLogo is-".concat(Or),style:or,children:[(0,S.jsx)(Pe,{}),Kr&&(0,S.jsx)(Re,{})]})},Ie=["onSelect","children","icon","shortcut","className"],Ee=["children","href","icon","shortcut","className"];function xe(Ft,or){var rr=Object.keys(Ft);if(Object.getOwnPropertySymbols){var Or=Object.getOwnPropertySymbols(Ft);or&&(Or=Or.filter(function(Kr){return Object.getOwnPropertyDescriptor(Ft,Kr).enumerable})),rr.push.apply(rr,Or)}return rr}function Z(Ft){for(var or=1;or<arguments.length;or++){var rr=arguments[or]!=null?arguments[or]:{};or%2?xe(Object(rr),!0).forEach(function(Or){(0,ne.Z)(Ft,Or,rr[Or])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ft,Object.getOwnPropertyDescriptors(rr)):xe(Object(rr)).forEach(function(Or){Object.defineProperty(Ft,Or,Object.getOwnPropertyDescriptor(rr,Or))})}return Ft}var u=function(Ft){var or=Ft.icon,rr=Ft.shortcut,Or=Ft.children,Kr=(0,ve.Fy)();return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("div",{className:"welcome-screen-menu-item__icon",children:or}),(0,S.jsx)("div",{className:"welcome-screen-menu-item__text",children:Or}),rr&&!Kr.editor.isMobile&&(0,S.jsx)("div",{className:"welcome-screen-menu-item__shortcut",children:rr})]})};u.displayName="WelcomeScreenMenuItemContent";var g=function(Ft){var or=Ft.onSelect,rr=Ft.children,Or=Ft.icon,Kr=Ft.shortcut,Xr=Ft.className,cn=Xr===void 0?"":Xr,en=(0,oe.Z)(Ft,Ie);return(0,S.jsx)("button",Z(Z({},en),{},{type:"button",className:"welcome-screen-menu-item ".concat(cn),onClick:or,children:(0,S.jsx)(u,{icon:Or,shortcut:Kr,children:rr})}))};g.displayName="WelcomeScreenMenuItem";var z=function(Ft){var or=Ft.children,rr=Ft.href,Or=Ft.icon,Kr=Ft.shortcut,Xr=Ft.className,cn=Xr===void 0?"":Xr,en=(0,oe.Z)(Ft,Ee);return(0,S.jsx)("a",Z(Z({},en),{},{className:"welcome-screen-menu-item ".concat(cn),href:rr,target:"_blank",rel:"noreferrer",children:(0,S.jsx)(u,{icon:Or,shortcut:Kr,children:or})}))};z.displayName="WelcomeScreenMenuItemLink";var Y=function(Ft){var or=Ft.children,rr=(0,P.R6)().WelcomeScreenCenterTunnel;return(0,S.jsx)(rr.In,{children:(0,S.jsx)("div",{className:"welcome-screen-center",children:or||(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(te,{}),(0,S.jsx)(ae,{children:(0,x.t)("welcomeScreen.defaults.center_heading")}),(0,S.jsxs)(ce,{children:[(0,S.jsx)(je,{}),(0,S.jsx)(ye,{})]})]})})})};Y.displayName="Center";var te=function(Ft){var or=Ft.children;return(0,S.jsx)("div",{className:"welcome-screen-center__logo virgil welcome-screen-decor",children:or||(0,S.jsx)(Ze,{withText:!0})})};te.displayName="Logo";var ae=function(Ft){var or=Ft.children;return(0,S.jsx)("div",{className:"welcome-screen-center__heading welcome-screen-decor virgil",children:or})};ae.displayName="Heading";var ce=function(Ft){var or=Ft.children;return(0,S.jsx)("div",{className:"welcome-screen-menu",children:or})};ce.displayName="Menu";var ye=function(){var Ft=(0,ve.eh)();return(0,S.jsx)(g,{onSelect:function(){return Ft.executeAction(be.jY)},shortcut:"?",icon:Ge.by,children:(0,x.t)("helpDialog.title")})};ye.displayName="MenuItemHelp";var je=function(){var Ft=(0,le.I)(),or=(0,ve.eh)();return Ft.viewModeEnabled?null:(0,S.jsx)(g,{onSelect:function(){return or.executeAction(be._d)},shortcut:(0,Me.C)("loadScene"),icon:Ge.Tl,children:(0,x.t)("buttons.load")})};je.displayName="MenuItemLoadScene";var Be=function(Ft){var or=Ft.onSelect,rr=(0,x.QT)().t;return(0,S.jsx)(g,{shortcut:null,onSelect:or,icon:Ge.jn,children:rr("labels.liveCollaboration")})};Be.displayName="MenuItemLiveCollaborationTrigger",Y.Logo=te,Y.Heading=ae,Y.Menu=ce,Y.MenuItem=g,Y.MenuItemLink=z,Y.MenuItemHelp=ye,Y.MenuItemLoadScene=je,Y.MenuItemLiveCollaborationTrigger=Be;var Qe=function(Ft){var or=Ft.children,rr=(0,P.R6)().WelcomeScreenMenuHintTunnel;return(0,S.jsx)(rr.In,{children:(0,S.jsxs)("div",{className:"virgil welcome-screen-decor welcome-screen-decor-hint welcome-screen-decor-hint--menu",children:[Ge.oQ,(0,S.jsx)("div",{className:"welcome-screen-decor-hint__label",children:or||(0,x.t)("welcomeScreen.defaults.menuHint")})]})})};Qe.displayName="MenuHint";var rt=function(Ft){var or=Ft.children,rr=(0,P.R6)().WelcomeScreenToolbarHintTunnel;return(0,S.jsx)(rr.In,{children:(0,S.jsxs)("div",{className:"virgil welcome-screen-decor welcome-screen-decor-hint welcome-screen-decor-hint--toolbar",children:[(0,S.jsx)("div",{className:"welcome-screen-decor-hint__label",children:or||(0,x.t)("welcomeScreen.defaults.toolbarHint")}),Ge.DJ]})})};rt.displayName="ToolbarHint";var Ye=function(Ft){var or=Ft.children,rr=(0,P.R6)().WelcomeScreenHelpHintTunnel;return(0,S.jsx)(rr.In,{children:(0,S.jsxs)("div",{className:"virgil welcome-screen-decor welcome-screen-decor-hint welcome-screen-decor-hint--help",children:[(0,S.jsx)("div",{children:or||(0,x.t)("welcomeScreen.defaults.helpHint")}),Ge._U]})})};Ye.displayName="HelpHint";var tt=r(1569),ht={};ht.styleTagTransform=i(),ht.setAttributes=O(),ht.insert=T().bind(null,"head"),ht.domAPI=Q(),ht.insertStyleElement=E(),ge()(tt.Z,ht),tt.Z&&tt.Z.locals&&tt.Z.locals;var gt=function(Ft){return(0,S.jsx)(S.Fragment,{children:Ft.children||(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(Y,{}),(0,S.jsx)(Qe,{}),(0,S.jsx)(rt,{}),(0,S.jsx)(Ye,{})]})})};gt.displayName="WelcomeScreen",gt.Center=Y,gt.Hints={MenuHint:Qe,ToolbarHint:rt,HelpHint:Ye};var Ue=gt,Ce=r(8806),Le=r(3397),et={};et.styleTagTransform=i(),et.setAttributes=O(),et.insert=T().bind(null,"head"),et.domAPI=Q(),et.insertStyleElement=E(),ge()(Le.Z,et),Le.Z&&Le.Z.locals&&Le.Z.locals;var ft=["isCollaborating","onSelect"];function xt(Ft,or){var rr=Object.keys(Ft);if(Object.getOwnPropertySymbols){var Or=Object.getOwnPropertySymbols(Ft);or&&(Or=Or.filter(function(Kr){return Object.getOwnPropertyDescriptor(Ft,Kr).enumerable})),rr.push.apply(rr,Or)}return rr}function wt(Ft){for(var or=1;or<arguments.length;or++){var rr=arguments[or]!=null?arguments[or]:{};or%2?xt(Object(rr),!0).forEach(function(Or){(0,ne.Z)(Ft,Or,rr[Or])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ft,Object.getOwnPropertyDescriptors(rr)):xt(Object(rr)).forEach(function(Or){Object.defineProperty(Ft,Or,Object.getOwnPropertyDescriptor(rr,Or))})}return Ft}var Rt=function(Ft){var or=Ft.isCollaborating,rr=Ft.onSelect,Or=(0,oe.Z)(Ft,ft),Kr=(0,le.I)();return(0,S.jsxs)(Ce.z,wt(wt({},Or),{},{className:(0,D.Z)("collab-button",{active:or}),type:"button",onSelect:rr,style:{position:"relative"},title:(0,x.t)("labels.liveCollaboration"),children:[Ge.jn,Kr.collaborators.size>0&&(0,S.jsx)("div",{className:"CollabButton-collaborators",children:Kr.collaborators.size})]}))},It=Rt;Rt.displayName="LiveCollaborationTrigger";var At=r(7651),Xt=r(7994),tr=r(507),Gt=r(4183),Jt=r(583),gr=r(9326),Pt=r(5902),St=r(1925),Zt=r(8020),Tt=r(6199),Lt=r(4949),Wt=r(6013),qt=["initialData","UIOptions"],sr=["initialData","UIOptions"];function cr(Ft,or){var rr=Object.keys(Ft);if(Object.getOwnPropertySymbols){var Or=Object.getOwnPropertySymbols(Ft);or&&(Or=Or.filter(function(Kr){return Object.getOwnPropertyDescriptor(Ft,Kr).enumerable})),rr.push.apply(rr,Or)}return rr}function Sr(Ft){for(var or=1;or<arguments.length;or++){var rr=arguments[or]!=null?arguments[or]:{};or%2?cr(Object(rr),!0).forEach(function(Or){w()(Ft,Or,rr[Or])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ft,Object.getOwnPropertyDescriptors(rr)):cr(Object(rr)).forEach(function(Or){Object.defineProperty(Ft,Or,Object.getOwnPropertyDescriptor(rr,Or))})}return Ft}var Mr=function(Ft){var or,rr,Or,Kr,Xr,cn,en=Ft.onChange,ur=Ft.initialData,Dt=Ft.excalidrawAPI,Nt=Ft.isCollaborating,Ut=Nt!==void 0&&Nt,hr=Ft.onPointerUpdate,jr=Ft.renderTopRightUI,Cr=Ft.langCode,Zr=Cr===void 0?x.Fp.code:Cr,Dr=Ft.viewModeEnabled,Fr=Ft.zenModeEnabled,ln=Ft.gridModeEnabled,Gr=Ft.libraryReturnUrl,Rr=Ft.theme,Wr=Ft.name,Ur=Ft.renderCustomStats,rn=Ft.onPaste,an=Ft.detectScroll,Qr=an===void 0||an,In=Ft.handleKeyboardGlobally,Xn=In!==void 0&&In,go=Ft.onLibraryChange,bo=Ft.autoFocus,_o=bo!==void 0&&bo,wo=Ft.generateIdForFile,ao=Ft.onLinkOpen,co=Ft.onPointerDown,it=Ft.onScrollChange,Oe=Ft.children,ze=Ft.validateEmbeddable,$e=Ft.renderEmbeddable,pt=(or=Ft.UIOptions)===null||or===void 0?void 0:or.canvasActions,Kt=Sr(Sr({},Ft.UIOptions),{},{canvasActions:Sr(Sr({},C.cW.canvasActions),pt),tools:{image:(rr=(Or=Ft.UIOptions)===null||Or===void 0||(Kr=Or.tools)===null||Kr===void 0?void 0:Kr.image)===null||rr===void 0||rr}});return pt!=null&&pt.export&&(Kt.canvasActions.export.saveFileToDisk=(Xr=(cn=pt.export)===null||cn===void 0?void 0:cn.saveFileToDisk)!==null&&Xr!==void 0?Xr:C.cW.canvasActions.export.saveFileToDisk),Kt.canvasActions.toggleTheme===null&&Rr===void 0&&(Kt.canvasActions.toggleTheme=!0),(0,N.useEffect)(function(){var fr=function(vr){typeof vr.scale=="number"&&vr.scale!==1&&vr.preventDefault()};return document.addEventListener("touchmove",fr,{passive:!1}),function(){document.removeEventListener("touchmove",fr)}},[]),(0,S.jsx)(U.zt,{unstable_createStore:function(){return V.e_},scope:V.yE,children:(0,S.jsx)(q,{langCode:Zr,theme:Rr,children:(0,S.jsx)(ve.ZP,{onChange:en,initialData:ur,excalidrawAPI:Dt,isCollaborating:Ut,onPointerUpdate:hr,renderTopRightUI:jr,langCode:Zr,viewModeEnabled:Dr,zenModeEnabled:Fr,gridModeEnabled:ln,libraryReturnUrl:Gr,theme:Rr,name:Wr,renderCustomStats:Ur,UIOptions:Kt,onPaste:rn,detectScroll:Qr,handleKeyboardGlobally:Xn,onLibraryChange:go,autoFocus:_o,generateIdForFile:wo,onLinkOpen:ao,onPointerDown:co,onScrollChange:it,validateEmbeddable:ze,renderEmbeddable:$e,children:Oe})})})},zr=function(Ft,or){if(Ft.children!==or.children)return!1;Ft.initialData;var rr=Ft.UIOptions,Or=rr===void 0?{}:rr,Kr=k()(Ft,qt),Xr=(or.initialData,or.UIOptions),cn=Xr===void 0?{}:Xr,en=k()(or,sr),ur=Object.keys(Or),Dt=Object.keys(cn);return ur.length===Dt.length&&ur.every(function(Nt){return Nt==="canvasActions"?Object.keys(Or.canvasActions).every(function(Ut){var hr,jr,Cr,Zr;return Ut==="export"&&Or!=null&&(hr=Or.canvasActions)!==null&&hr!==void 0&&hr.export&&cn!=null&&(jr=cn.canvasActions)!==null&&jr!==void 0&&jr.export?Or.canvasActions.export.saveFileToDisk===cn.canvasActions.export.saveFileToDisk:(Or==null||(Cr=Or.canvasActions)===null||Cr===void 0?void 0:Cr[Ut])===(cn==null||(Zr=cn.canvasActions)===null||Zr===void 0?void 0:Zr[Ut])}):Or[Nt]===cn[Nt]})&&(0,ke.w8)(Kr,en)},pr=M().memo(Mr,zr);pr.displayName="Excalidraw"},507:function(ue,n,r){r.d(n,{y8:function(){return ge},Fl:function(){return R},NL:function(){return O},i1:function(){return v},$D:function(){return E},N7:function(){return Q.N7},cT:function(){return J.cT},lV:function(){return J.lV},ZY:function(){return J.ZY},zh:function(){return K.zh},I_:function(){return L.I_},NI:function(){return L.NI}});var A=r(8950),k=r(7169),b=r(2975),w=r.n(b),N=r(3668),M=r(6853),f=r(7994),d=r(9937),j=r(250),L=r(4419),H=r(4694);function x(i){return[Math.min(i[0][0],i[1][0]),Math.min(i[0][1],i[1][1]),Math.max(i[0][0],i[1][0]),Math.max(i[0][1],i[1][1])]}function S(i,a){return i[0]*a[1]-a[0]*i[1]}function q(i,a){return[i[0]-a[0],i[1]-a[1]]}function ve(i,a){var y=S(q(i[1],i[0]),q(a,i[0]));return Math.abs(y)<1e-6}function ke(i,a){return S(q(i[1],i[0]),q(a,i[0]))<0}function Se(i,a){return ve(i,a[0])||ve(i,a[1])||(ke(i,a[0])?!ke(i,a[1]):ke(i,a[1]))}function ge(i,a){return function(y,h){return y[0]<=h[2]&&y[2]>=h[0]&&y[1]<=h[3]&&y[3]>=h[1]}(x(i),x(a))&&Se(i,a)&&Se(a,i)}r(6013);var J=r(5796),Q=r(9660),K=r(9326);function T(i,a){var y=Object.keys(i);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(i);a&&(h=h.filter(function(m){return Object.getOwnPropertyDescriptor(i,m).enumerable})),y.push.apply(y,h)}return y}function B(i){for(var a=1;a<arguments.length;a++){var y=arguments[a]!=null?arguments[a]:{};a%2?T(Object(y),!0).forEach(function(h){(0,k.Z)(i,h,y[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(y)):T(Object(y)).forEach(function(h){Object.defineProperty(i,h,Object.getOwnPropertyDescriptor(y,h))})}return i}var O=function(i){var a=i.elements,y=i.appState,h=i.files,m=i.maxWidthOrHeight,C=i.getDimensions,U=i.exportPadding,V=i.exportingFrame,D=(0,f.nu)({elements:a,appState:y},null,null),P=D.elements,F=D.appState,X=F.exportBackground,le=F.viewBackgroundColor;return(0,N.NL)(P,B(B({},F),{},{offsetTop:0,offsetLeft:0,width:0,height:0}),h||{},{exportBackground:X,exportPadding:U,viewBackgroundColor:le,exportingFrame:V},function(de,fe){var pe,ne=document.createElement("canvas");if(m){var oe;typeof C=="function"&&console.warn("`getDimensions()` is ignored when `maxWidthOrHeight` is supplied.");var be=Math.max(de,fe),Me=m<be?m/be:(oe=y==null?void 0:y.exportScale)!==null&&oe!==void 0?oe:1;return ne.width=de*Me,ne.height=fe*Me,{canvas:ne,scale:Me}}var Ge=(C==null?void 0:C(de,fe))||{width:de,height:fe};return ne.width=Ge.width,ne.height=Ge.height,{canvas:ne,scale:(pe=Ge.scale)!==null&&pe!==void 0?pe:1}})},R=function(){var i=(0,A.Z)(w().mark(function a(y){var h,m,C,U,V,D;return w().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return C=(m=y).mimeType,U=C===void 0?d.LO.png:C,V=m.quality,U===d.LO.png&&typeof V=="number"&&console.warn('"quality" will be ignored for "'.concat(d.LO.png,'" mimeType')),U==="image/jpg"&&(U=d.LO.jpg),U!==d.LO.jpg||(h=y.appState)!==null&&h!==void 0&&h.exportBackground||(console.warn('Defaulting "exportBackground" to "true" for "'.concat(d.LO.jpg,'" mimeType')),y=B(B({},y),{},{appState:B(B({},y.appState),{},{exportBackground:!0})})),P.next=6,O(y);case 6:return D=P.sent,V=V||(/image\/jpe?g/.test(U)?.92:.8),P.abrupt("return",new Promise(function(F,X){D.toBlob(function(){var le=(0,A.Z)(w().mark(function de(fe){var pe;return w().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:if(fe){ne.next=2;break}return ne.abrupt("return",X(new Error("couldn't export to blob")));case 2:if(!fe||U!==d.LO.png||(pe=y.appState)===null||pe===void 0||!pe.exportEmbedScene){ne.next=6;break}return ne.next=5,(0,j.encodePngMetadata)({blob:fe,metadata:(0,L.I_)(y.elements,y.appState,y.files||{},"local")});case 5:fe=ne.sent;case 6:F(fe);case 7:case"end":return ne.stop()}},de)}));return function(de){return le.apply(this,arguments)}}(),U,V)}));case 9:case"end":return P.stop()}},a)}));return function(a){return i.apply(this,arguments)}}(),E=function(){var i=(0,A.Z)(w().mark(function a(y){var h,m,C,U,V,D,P,F,X,le,de,fe;return w().wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:return h=y.elements,m=y.appState,C=m===void 0?(0,M.im)():m,U=y.files,V=U===void 0?{}:U,D=y.exportPadding,P=y.renderEmbeddables,F=y.exportingFrame,X=(0,f.nu)({elements:h,appState:C},null,null),le=X.elements,de=X.appState,fe=B(B({},de),{},{exportPadding:D}),pe.abrupt("return",(0,N.$D)(le,fe,V,{exportingFrame:F,renderEmbeddables:P}));case 4:case"end":return pe.stop()}},a)}));return function(a){return i.apply(this,arguments)}}(),v=function(){var i=(0,A.Z)(w().mark(function a(y){var h;return w().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(y.type!=="svg"){m.next=8;break}return m.next=3,E(y);case 3:return h=m.sent,m.next=6,(0,H.dd)(h.outerHTML);case 6:case 11:case 16:m.next=19;break;case 8:if(y.type!=="png"){m.next=13;break}return m.next=11,(0,H.uR)(R(y));case 13:if(y.type!=="json"){m.next=18;break}return m.next=16,(0,H.vQ)(y.elements,y.files);case 18:throw new Error("Invalid export type");case 19:case"end":return m.stop()}},a)}));return function(a){return i.apply(this,arguments)}}()},6013:function(ue,n,r){r.d(n,{Ne:function(){return j},Xs:function(){return H},sQ:function(){return L}});var A=r(2577),k=r(4183),b=r(2361),w=r(4949);function N(x,S){var q=typeof Symbol<"u"&&x[Symbol.iterator]||x["@@iterator"];if(!q){if(Array.isArray(x)||(q=function(Q,K){if(Q){if(typeof Q=="string")return M(Q,K);var T=Object.prototype.toString.call(Q).slice(8,-1);if(T==="Object"&&Q.constructor&&(T=Q.constructor.name),T==="Map"||T==="Set")return Array.from(Q);if(T==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return M(Q,K)}}(x))||S){q&&(x=q);var ve=0,ke=function(){};return{s:ke,n:function(){return ve>=x.length?{done:!0}:{done:!1,value:x[ve++]}},e:function(Q){throw Q},f:ke}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Se,ge=!0,J=!1;return{s:function(){q=q.call(x)},n:function(){var Q=q.next();return ge=Q.done,Q},e:function(Q){J=!0,Se=Q},f:function(){try{ge||q.return==null||q.return()}finally{if(J)throw Se}}}}function M(x,S){(S==null||S>x.length)&&(S=x.length);for(var q=0,ve=new Array(S);q<S;q++)ve[q]=x[q];return ve}var f=function(x){var S=x.reduce(function(q,ve){var ke=(0,A.Z)(ve,2),Se=ke[0],ge=ke[1];return q.minY=Math.min(q.minY,ge),q.minX=Math.min(q.minX,Se),q.maxX=Math.max(q.maxX,Se),q.maxY=Math.max(q.maxY,ge),q},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0,cx:0,cy:0});return S.cx=(S.maxX+S.minX)/2,S.cy=(S.maxY+S.minY)/2,S},d=function(x){var S=function(T){return(0,k.bt)(T)||(0,k.F9)(T)?T.points:function(B){return B.type==="diamond"?[[B.width/2,0],[B.width,B.height/2],[B.width/2,B.height],[0,B.height/2]]:[[0,0],[0+B.width,0],[0+B.width,B.height],[0,B.height]]}(T)}(x),q=f(S),ve=[q.cx,q.cy],ke=S.map(function(T){return(0,b.xj)([T[0],T[1]],ve,x.angle)}),Se=f(ke),ge=Se.minX,J=Se.minY,Q=Se.maxX,K=Se.maxY;return[ge+x.x,J+x.y,Q+x.x,K+x.y]},j=function(x,S){var q=arguments.length>2&&arguments[2]!==void 0&&arguments[2],ve=d(x),ke=S[0]<=ve[0]&&S[2]>=ve[2]&&S[1]<=ve[1]&&S[3]>=ve[3];return q?!!ke||ve[0]<=S[0]&&ve[2]>=S[2]&&ve[1]<=S[1]&&ve[3]>=S[3]:ke},L=function(x,S){var q=d(x);return((0,b.Xt)(q[0],S[0],S[2])||(0,b.Xt)(S[0],q[0],q[2]))&&((0,b.Xt)(q[1],S[1],S[3])||(0,b.Xt)(S[1],q[1],q[3]))},H=function(x){var S=x.elements,q=x.bounds,ve=x.type,ke=x.errorMargin,Se=ke===void 0?0:ke;(0,k.r2)(q)&&(q=(0,w.Pi)(q));var ge,J=[q[0]-Se,q[1]-Se,q[2]+Se,q[3]+Se],Q=new Set,K=N(S);try{for(K.s();!(ge=K.n()).done;){var T=ge.value;if(!Q.has(T.id)&&(ve==="overlap"?L(T,J):ve==="inside"?j(T,J):j(T,J,!0))){if(Q.add(T.id),T.boundElements){var B,O=N(T.boundElements);try{for(O.s();!(B=O.n()).done;){var R=B.value;Q.add(R.id)}}catch(v){O.e(v)}finally{O.f()}}var E;(0,k.iB)(T)&&T.containerId&&Q.add(T.containerId),(0,k.Yv)(T)&&(T.startBinding&&Q.add(T.startBinding.elementId),T.endBinding&&Q.add((E=T.endBinding)===null||E===void 0?void 0:E.elementId))}}}catch(v){K.e(v)}finally{K.f()}return S.filter(function(v){return Q.has(v.id)})}},5999:function(ue,n,r){r.d(n,{k:function(){return k},z:function(){return b}});var A=r(1930),k=function(w){var N=w.map(function(f){return f[0]}),M=w.map(function(f){return f[1]});return{width:Math.max.apply(Math,(0,A.Z)(N))-Math.min.apply(Math,(0,A.Z)(N)),height:Math.max.apply(Math,(0,A.Z)(M))-Math.min.apply(Math,(0,A.Z)(M))}},b=function(w,N,M,f){var d=M.map(function(ke){return ke[w]}),j=Math.max.apply(Math,(0,A.Z)(d)),L=Math.min.apply(Math,(0,A.Z)(d)),H=j-L,x=H===0?1:N/H,S=1/0,q=M.map(function(ke){var Se=ke[w]*x,ge=(0,A.Z)(ke);return ge[w]=Se,Se<S&&(S=Se),ge});if(!f||q.length===2)return q;var ve=L-S;return q.map(function(ke){return ke.map(function(Se,ge){return ge===w?Se+ve:Se})})}},4643:function(ue,n,r){r.d(n,{LU:function(){return M},kb:function(){return f}});var A=r(8152),k=r(5605),b=r(9827),w=new A.k(Date.now()),N=0,M=function(){return Math.floor(w.next()*Math.pow(2,31))},f=function(){return(0,b.h2)()?"id".concat(N++):(0,k.x0)()}},9660:function(ue,n,r){r.d(n,{Dn:function(){return de},Xx:function(){return oe},Lc:function(){return Ie},N7:function(){return Ee},lw:function(){return qe},Rg:function(){return Re},uI:function(){return Ge}});var A=r(7169),k=r(2577),b=r(4183),w=r(4949),N=r(9827),M=r(2361),f=r(9845),d=r(6853),j=r(9937);function L(u,g,z,Y=te=>te){return u*Y(.5-g*(.5-z))}function H(u,g){return[u[0]+g[0],u[1]+g[1]]}function x(u,g){return[u[0]-g[0],u[1]-g[1]]}function S(u,g){return[u[0]*g,u[1]*g]}function q(u){return[u[1],-u[0]]}function ve(u,g){return u[0]*g[0]+u[1]*g[1]}function ke(u,g){return u[0]===g[0]&&u[1]===g[1]}function Se(u,g){return function(z){return z[0]*z[0]+z[1]*z[1]}(x(u,g))}function ge(u){return function(g,z){return[g[0]/z,g[1]/z]}(u,function(g){return Math.hypot(g[0],g[1])}(u))}function J(u,g){return Math.hypot(u[1]-g[1],u[0]-g[0])}function Q(u,g,z){let Y=Math.sin(z),te=Math.cos(z),ae=u[0]-g[0],ce=u[1]-g[1],ye=ae*Y+ce*te;return[ae*te-ce*Y+g[0],ye+g[1]]}function K(u,g,z){return H(u,S(x(g,u),z))}function T(u,g,z){return H(u,S(g,z))}var{min:B,PI:O}=Math,R=O+1e-4;function E(u,g={}){return function(z,Y={}){let{size:te=16,smoothing:ae=.5,thinning:ce=.5,simulatePressure:ye=!0,easing:je=Lt=>Lt,start:Be={},end:Qe={},last:rt=!1}=Y,{cap:Ye=!0,easing:tt=Lt=>Lt*(2-Lt)}=Be,{cap:ht=!0,easing:gt=Lt=>--Lt*Lt*Lt+1}=Qe;if(z.length===0||te<=0)return[];let Ue,Ce=z[z.length-1].runningLength,Le=Be.taper===!1?0:Be.taper===!0?Math.max(te,Ce):Be.taper,et=Qe.taper===!1?0:Qe.taper===!0?Math.max(te,Ce):Qe.taper,ft=Math.pow(te*ae,2),xt=[],wt=[],Rt=z.slice(0,10).reduce((Lt,Wt)=>{let qt=Wt.pressure;if(ye){let sr=B(1,Wt.distance/te),cr=B(1,1-sr);qt=B(1,Lt+.275*sr*(cr-Lt))}return(Lt+qt)/2},z[0].pressure),It=L(te,ce,z[z.length-1].pressure,je),At=z[0].vector,Xt=z[0].point,tr=Xt,Gt=Xt,Jt=tr,gr=!1;for(let Lt=0;Lt<z.length;Lt++){let{pressure:Wt}=z[Lt],{point:qt,vector:sr,distance:cr,runningLength:Sr}=z[Lt];if(Lt<z.length-1&&Ce-Sr<3)continue;if(ce){if(ye){let Or=B(1,cr/te),Kr=B(1,1-Or);Wt=B(1,Rt+.275*Or*(Kr-Rt))}It=L(te,ce,Wt,je)}else It=te/2;Ue===void 0&&(Ue=It);let Mr=Sr<Le?tt(Sr/Le):1,zr=Ce-Sr<et?gt((Ce-Sr)/et):1;It=Math.max(.01,It*Math.min(Mr,zr));let pr=(Lt<z.length-1?z[Lt+1]:z[Lt]).vector,Ft=Lt<z.length-1?ve(sr,pr):1,or=Ft!==null&&Ft<0;if(ve(sr,At)<0&&!gr||or){let Or=S(q(At),It);for(let Kr=.07692307692307693,Xr=0;Xr<=1;Xr+=Kr)Gt=Q(x(qt,Or),qt,R*Xr),xt.push(Gt),Jt=Q(H(qt,Or),qt,R*-Xr),wt.push(Jt);Xt=Gt,tr=Jt,or&&(gr=!0);continue}if(gr=!1,Lt===z.length-1){let Or=S(q(sr),It);xt.push(x(qt,Or)),wt.push(H(qt,Or));continue}let rr=S(q(K(pr,sr,Ft)),It);Gt=x(qt,rr),(Lt<=1||Se(Xt,Gt)>ft)&&(xt.push(Gt),Xt=Gt),Jt=H(qt,rr),(Lt<=1||Se(tr,Jt)>ft)&&(wt.push(Jt),tr=Jt),Rt=Wt,At=sr}let Pt=z[0].point.slice(0,2),St=z.length>1?z[z.length-1].point.slice(0,2):H(z[0].point,[1,1]),Zt=[],Tt=[];if(z.length===1){if(!Le&&!et||rt){let Lt=T(Pt,ge(q(x(Pt,St))),-(Ue||It)),Wt=[];for(let qt=.07692307692307693,sr=qt;sr<=1;sr+=qt)Wt.push(Q(Lt,Pt,2*R*sr));return Wt}}else{if(!(Le||et&&z.length===1))if(Ye)for(let Wt=.07692307692307693,qt=Wt;qt<=1;qt+=Wt){let sr=Q(wt[0],Pt,R*qt);Zt.push(sr)}else{let Wt=x(xt[0],wt[0]),qt=S(Wt,.5),sr=S(Wt,.51);Zt.push(x(Pt,qt),x(Pt,sr),H(Pt,sr),H(Pt,qt))}let Lt=q(function(Wt){return[-Wt[0],-Wt[1]]}(z[z.length-1].vector));if(et||Le&&z.length===1)Tt.push(St);else if(ht){let Wt=T(St,Lt,It);for(let qt=.034482758620689655,sr=qt;sr<1;sr+=qt)Tt.push(Q(Wt,St,3*R*sr))}else Tt.push(H(St,S(Lt,It)),H(St,S(Lt,.99*It)),x(St,S(Lt,.99*It)),x(St,S(Lt,It)))}return xt.concat(Tt,wt.reverse(),Zt)}(function(z,Y={}){var te;let{streamline:ae=.5,size:ce=16,last:ye=!1}=Y;if(z.length===0)return[];let je=.15+.85*(1-ae),Be=Array.isArray(z[0])?z:z.map(({x:gt,y:Ue,pressure:Ce=.5})=>[gt,Ue,Ce]);if(Be.length===2){let gt=Be[1];Be=Be.slice(0,-1);for(let Ue=1;Ue<5;Ue++)Be.push(K(Be[0],gt,Ue/4))}Be.length===1&&(Be=[...Be,[...H(Be[0],[1,1]),...Be[0].slice(2)]]);let Qe=[{point:[Be[0][0],Be[0][1]],pressure:Be[0][2]>=0?Be[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],rt=!1,Ye=0,tt=Qe[0],ht=Be.length-1;for(let gt=1;gt<Be.length;gt++){let Ue=ye&&gt===ht?Be[gt].slice(0,2):K(tt.point,Be[gt],je);if(ke(tt.point,Ue))continue;let Ce=J(Ue,tt.point);if(Ye+=Ce,gt<ht&&!rt){if(Ye<ce)continue;rt=!0}tt={point:Ue,pressure:Be[gt][2]>=0?Be[gt][2]:.5,vector:ge(x(tt.point,Ue)),distance:Ce,runningLength:Ye},Qe.push(tt)}return Qe[0].vector=((te=Qe[1])==null?void 0:te.vector)||[0,0],Qe}(u,g),g)}var v=r(4761),i=r(7422),a=r(761),y=r(4682),h=r(8020),m=r(2921);function C(u,g){var z=Object.keys(u);if(Object.getOwnPropertySymbols){var Y=Object.getOwnPropertySymbols(u);g&&(Y=Y.filter(function(te){return Object.getOwnPropertyDescriptor(u,te).enumerable})),z.push.apply(z,Y)}return z}function U(u){for(var g=1;g<arguments.length;g++){var z=arguments[g]!=null?arguments[g]:{};g%2?C(Object(z),!0).forEach(function(Y){(0,A.Z)(u,Y,z[Y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(z)):C(Object(z)).forEach(function(Y){Object.defineProperty(u,Y,Object.getOwnPropertyDescriptor(z,Y))})}return u}var V="invert(100%) hue-rotate(180deg) saturate(1.25)",D=(0,d.im)(),P=function(u,g){return(0,b.wi)(u)&&!g.imageCache.has(u.fileId)},F=function(u,g,z){var Y;return z.theme==="dark"&&(0,b.wi)(u)&&!P(u,g)&&((Y=g.imageCache.get(u.fileId))===null||Y===void 0?void 0:Y.mimeType)!==j.LO.svg},X=function(u){return u.type==="freedraw"?12*u.strokeWidth:20},le=function(u,g,z,Y){var te,ae,ce=document.createElement("canvas"),ye=ce.getContext("2d"),je=X(u),Be=function(ft,xt){var wt=16777216,Rt=32767,It=X(ft),At=(0,w.qf)(ft),Xt=(0,k.Z)(At,4),tr=Xt[0],Gt=Xt[1],Jt=Xt[2],gr=Xt[3],Pt=(0,b.bt)(ft)||(0,b.F9)(ft)?(0,N.TE)(tr,Jt):ft.width,St=(0,b.bt)(ft)||(0,b.F9)(ft)?(0,N.TE)(Gt,gr):ft.height,Zt=Pt*window.devicePixelRatio+2*It,Tt=St*window.devicePixelRatio+2*It,Lt=xt.value;return(Zt*Lt>Rt||Tt*Lt>Rt)&&(Lt=Math.min(Rt/Zt,Rt/Tt)),Zt*Tt*Lt*Lt>wt&&(Lt=Math.sqrt(wt/(Zt*Tt))),{width:Zt=Math.floor(Zt*Lt),height:Tt=Math.floor(Tt*Lt),scale:Lt}}(u,g),Qe=Be.width,rt=Be.height,Ye=Be.scale;ce.width=Qe,ce.height=rt;var tt=0,ht=0;if((0,b.bt)(u)||(0,b.F9)(u)){var gt=(0,w.qf)(u),Ue=(0,k.Z)(gt,2),Ce=Ue[0],Le=Ue[1];tt=u.x>Ce?(0,N.TE)(u.x,Ce)*window.devicePixelRatio*Ye:0,ht=u.y>Le?(0,N.TE)(u.y,Le)*window.devicePixelRatio*Ye:0,ye.translate(tt,ht)}ye.save(),ye.translate(je*Ye,je*Ye),ye.scale(window.devicePixelRatio*Ye,window.devicePixelRatio*Ye);var et=f.Z.canvas(ce);return F(u,z,Y)&&(ye.filter=V),ne(u,et,ye,z,Y),ye.restore(),{element:u,canvas:ce,theme:Y.theme,scale:Ye,zoomValue:g.value,canvasOffsetX:tt,canvasOffsetY:ht,boundTextElementVersion:((te=(0,v.WJ)(u))===null||te===void 0?void 0:te.version)||null,containingFrameOpacity:((ae=(0,y.$Z)(u))===null||ae===void 0?void 0:ae.opacity)||100}},de=14,fe=document.createElement("img");fe.src="data:".concat(j.LO.svg,",").concat(encodeURIComponent('<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="image" class="svg-inline--fa fa-image fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="#888" d="M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"></path></svg>'));var pe=document.createElement("img");pe.src="data:".concat(j.LO.svg,",").concat(encodeURIComponent('<svg viewBox="0 0 668 668" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2"><path d="M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48ZM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56ZM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48Z" style="fill:#888;fill-rule:nonzero" transform="matrix(.81709 0 0 .81709 124.825 145.825)"/><path d="M256 8C119.034 8 8 119.033 8 256c0 136.967 111.034 248 248 248s248-111.034 248-248S392.967 8 256 8Zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676ZM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676Z" style="fill:#888;fill-rule:nonzero" transform="matrix(.30366 0 0 .30366 506.822 60.065)"/></svg>'));var ne=function(u,g,z,Y,te){var ae,ce;switch(z.globalAlpha=((ae=(ce=(0,y.$Z)(u))===null||ce===void 0?void 0:ce.opacity)!==null&&ae!==void 0?ae:100)*u.opacity/1e4,u.type){case"rectangle":case"embeddable":case"diamond":case"ellipse":z.lineJoin="round",z.lineCap="round",g.draw(m.R.get(u));break;case"arrow":case"line":z.lineJoin="round",z.lineCap="round",m.R.get(u).forEach(function(Le){g.draw(Le)});break;case"freedraw":z.save(),z.fillStyle=u.strokeColor;var ye=function(Le){return Ze.get(Le)}(u),je=m.R.get(u);je&&g.draw(je),z.fillStyle=u.strokeColor,z.fill(ye),z.restore();break;case"image":var Be,Qe=(0,b.wi)(u)?(Be=Y.imageCache.get(u.fileId))===null||Be===void 0?void 0:Be.image:void 0;Qe==null||Qe instanceof Promise?function(Le,et,ft){et.fillStyle="#E7E7E7",et.fillRect(0,0,Le.width,Le.height);var xt=Math.min(Le.width,Le.height),wt=Math.min(xt,Math.min(.4*xt,100));et.drawImage(Le.status==="error"?pe:fe,Le.width/2-wt/2,Le.height/2-wt/2,wt,wt)}(u,z,te.zoom.value):z.drawImage(Qe,0,0,u.width,u.height);break;default:if(!(0,b.iB)(u))throw new Error("Unimplemented type ".concat(u.type));var rt=(0,N.dZ)(u.text),Ye=rt&&!z.canvas.isConnected;Ye&&document.body.appendChild(z.canvas),z.canvas.setAttribute("dir",rt?"rtl":"ltr"),z.save(),z.font=(0,N.mO)(u),z.fillStyle=u.strokeColor,z.textAlign=u.textAlign;for(var tt=u.text.replace(/\r\n?/g,`
`).split(`
`),ht=u.textAlign==="center"?u.width/2:u.textAlign==="right"?u.width:0,gt=(0,v.Rg)(u.fontSize,u.lineHeight),Ue=u.height-u.baseline,Ce=0;Ce<tt.length;Ce++)z.fillText(tt[Ce],ht,(Ce+1)*gt-Ue);z.restore(),Ye&&z.canvas.remove()}z.globalAlpha=1},oe=new WeakMap,be=function(u,g,z){var Y,te,ae=g?z.zoom:D.zoom,ce=oe.get(u),ye=ce&&ce.zoomValue!==ae.value&&!(z!=null&&z.shouldCacheIgnoreZoom),je=((Y=(0,v.WJ)(u))===null||Y===void 0?void 0:Y.version)||null,Be=((te=(0,y.$Z)(u))===null||te===void 0?void 0:te.opacity)||100;if(!ce||ye||ce.theme!==z.theme||ce.boundTextElementVersion!==je||ce.containingFrameOpacity!==Be){var Qe=le(u,ae,g,z);return oe.set(u,Qe),Qe}return ce},Me=function(u,g,z,Y){var te=u.element,ae=X(te),ce=u.scale,ye=(0,w.qf)(te),je=(0,k.Z)(ye,4),Be=je[0],Qe=je[1],rt=je[2],Ye=je[3];(0,b.F9)(te)&&(Be=Math.floor(Be),rt=Math.ceil(rt),Qe=Math.floor(Qe),Ye=Math.ceil(Ye));var tt=((Be+rt)/2+Y.scrollX)*window.devicePixelRatio,ht=((Qe+Ye)/2+Y.scrollY)*window.devicePixelRatio;g.save(),g.scale(1/window.devicePixelRatio,1/window.devicePixelRatio);var gt=(0,v.WJ)(te);if((0,b.Yv)(te)&&gt){var Ue=document.createElement("canvas"),Ce=Ue.getContext("2d"),Le=Math.max((0,N.TE)(Be,rt),(0,N.TE)(Qe,Ye));Ue.width=Le*window.devicePixelRatio*ce+ae*u.scale*10,Ue.height=Le*window.devicePixelRatio*ce+ae*u.scale*10;var et=(Ue.width-u.canvas.width)/2,ft=(Ue.height-u.canvas.height)/2;Ce.translate(Ue.width/2,Ue.height/2),Ce.rotate(te.angle),Ce.drawImage(u.canvas,-u.canvas.width/2,-u.canvas.height/2,u.canvas.width,u.canvas.height);var xt=(0,w.qf)(gt),wt=(0,k.Z)(xt,6),Rt=wt[4],It=wt[5];Ce.rotate(-te.angle);var At=Ue.width/2-(Rt-Be)*window.devicePixelRatio*ce-et-ae*ce,Xt=Ue.height/2-(It-Qe)*window.devicePixelRatio*ce-ft-ae*ce;Ce.translate(-At,-Xt),Ce.clearRect(-(gt.width/2+j.gK)*window.devicePixelRatio*ce,-(gt.height/2+j.gK)*window.devicePixelRatio*ce,(gt.width+2*j.gK)*window.devicePixelRatio*ce,(gt.height+2*j.gK)*window.devicePixelRatio*ce),g.translate(tt,ht),g.drawImage(Ue,-(rt-Be)/2*window.devicePixelRatio-et/ce-ae,-(Ye-Qe)/2*window.devicePixelRatio-ft/ce-ae,Ue.width/ce,Ue.height/ce)}else if(g.translate(tt,ht),g.rotate(te.angle),"scale"in u.element&&!P(te,z)&&g.scale(u.element.scale[0],u.element.scale[1]),g.translate(-tt,-ht),g.drawImage(u.canvas,(Be+Y.scrollX)*window.devicePixelRatio-ae*u.scale/u.scale,(Qe+Y.scrollY)*window.devicePixelRatio-ae*u.scale/u.scale,u.canvas.width/u.scale,u.canvas.height/u.scale),{}.VITE_APP_DEBUG_ENABLE_TEXT_CONTAINER_BOUNDING_BOX==="true"&&(0,b.Xo)(te)){var tr=(0,v.WJ)(te),Gt=(0,v.cw)(te);g.strokeStyle="#c92a2a",g.lineWidth=3,g.strokeRect((Gt.x+Y.scrollX)*window.devicePixelRatio,(Gt.y+Y.scrollY)*window.devicePixelRatio,(0,v.iZ)(te)*window.devicePixelRatio,(0,v.D9)(te,tr)*window.devicePixelRatio)}g.restore()},Ge=function(u,g,z){g.save(),g.translate(u.x+z.scrollX,u.y+z.scrollY),g.fillStyle="rgba(0, 0, 200, 0.04)";var Y=.5/z.zoom.value;g.fillRect(Y,Y,u.width,u.height),g.lineWidth=1/z.zoom.value,g.strokeStyle=" rgb(105, 101, 219)",g.strokeRect(Y,Y,u.width,u.height),g.restore()},qe=function(u,g,z,Y,te){switch(u.type){case"frame":te.frameRendering.enabled&&te.frameRendering.outline&&(z.save(),z.translate(u.x+te.scrollX,u.y+te.scrollY),z.fillStyle="rgba(0, 0, 200, 0.04)",z.lineWidth=j.iG.strokeWidth/te.zoom.value,z.strokeStyle=j.iG.strokeColor,j.iG.radius&&z.roundRect?(z.beginPath(),z.roundRect(0,0,u.width,u.height,j.iG.radius/te.zoom.value),z.stroke(),z.closePath()):z.strokeRect(0,0,u.width,u.height),z.restore());break;case"freedraw":if(m.R.generateElementShape(u),Y.isExporting){var ae=(0,w.qf)(u),ce=(0,k.Z)(ae,4),ye=ce[0],je=ce[1],Be=ce[2],Qe=ce[3],rt=(ye+Be)/2+te.scrollX,Ye=(je+Qe)/2+te.scrollY,tt=(Be-ye)/2-(u.x-ye),ht=(Qe-je)/2-(u.y-je);z.save(),z.translate(rt,Ye),z.rotate(u.angle),z.translate(-tt,-ht),ne(u,g,z,Y,te),z.restore()}else{var gt=be(u,Y,te);Me(gt,z,Y,te)}break;case"rectangle":case"diamond":case"ellipse":case"line":case"arrow":case"image":case"text":case"embeddable":if(m.R.generateElementShape(u,Y.isExporting),Y.isExporting){var Ue=(0,w.qf)(u),Ce=(0,k.Z)(Ue,4),Le=Ce[0],et=Ce[1],ft=Ce[2],xt=Ce[3],wt=(Le+ft)/2+te.scrollX,Rt=(et+xt)/2+te.scrollY,It=(ft-Le)/2-(u.x-Le),At=(xt-et)/2-(u.y-et);if((0,b.iB)(u)){var Xt=(0,v.tl)(u);if((0,b.Yv)(Xt)){var tr=i._.getBoundTextElementPosition(Xt,u);It=(ft-Le)/2-(tr.x-Le),At=(xt-et)/2-(tr.y-et)}}z.save(),z.translate(wt,Rt),F(u,Y,te)&&(z.filter="none");var Gt=(0,v.WJ)(u);if((0,b.Yv)(u)&&Gt){var Jt=document.createElement("canvas"),gr=Jt.getContext("2d"),Pt=Math.max((0,N.TE)(Le,ft),(0,N.TE)(et,xt)),St=X(u);Jt.width=Pt*te.exportScale+10*St*te.exportScale,Jt.height=Pt*te.exportScale+10*St*te.exportScale,gr.translate(Jt.width/2,Jt.height/2),gr.scale(te.exportScale,te.exportScale),It=u.width/2-(u.x-Le),At=u.height/2-(u.y-et),gr.rotate(u.angle);var Zt=f.Z.canvas(Jt);gr.translate(-It,-At),ne(u,Zt,gr,Y,te),gr.translate(It,At),gr.rotate(-u.angle);var Tt=(0,w.qf)(Gt),Lt=(0,k.Z)(Tt,6),Wt=(Le+ft)/2-Lt[4],qt=(et+xt)/2-Lt[5];gr.translate(-Wt,-qt),gr.clearRect(-Gt.width/2,-Gt.height/2,Gt.width,Gt.height),z.scale(1/te.exportScale,1/te.exportScale),z.drawImage(Jt,-Jt.width/2,-Jt.height/2,Jt.width,Jt.height)}else z.rotate(u.angle),u.type==="image"&&z.scale(u.scale[0],u.scale[1]),z.translate(-It,-At),ne(u,g,z,Y,te);z.restore()}else{var sr=be(u,Y,te),cr=z.imageSmoothingEnabled;te!=null&&te.shouldCacheIgnoreZoom||u.angle&&!(0,M.EK)(u.angle)||(z.imageSmoothingEnabled=!1),Me(sr,z,Y,te),z.imageSmoothingEnabled=cr}break;default:throw new Error("Unimplemented type ".concat(u.type))}},Ne=function(u,g,z){if(z===void 0)return u.draw(g);var Y={sets:g.sets,shape:g.shape,options:U(U({},g.options),{},{fixedDecimalPlaceDigits:z})};return u.draw(Y)},Pe=function(u,g,z,Y){if(!Y.enabled||!Y.clip)return null;var te=(0,y.$Z)(u);if(te){var ae=g.ownerDocument.createElementNS(j.hR,"g");return ae.setAttributeNS(j.hR,"clip-path","url(#".concat(te.id,")")),z.forEach(function(ce){return ae.appendChild(ce)}),ae}return null},Re=function u(g,z,Y,te,ae,ce,ye){var je,Be,Qe=ae,rt=ce,Ye=(0,w.qf)(g),tt=(0,k.Z)(Ye,4),ht=tt[0],gt=tt[1],Ue=tt[2],Ce=tt[3],Le=(Ue-ht)/2-(g.x-ht),et=(Ce-gt)/2-(g.y-gt);if((0,b.iB)(g)){var ft=(0,v.tl)(g);if((0,b.Yv)(ft)){var xt=(0,w.qf)(ft),wt=(0,k.Z)(xt,4),Rt=wt[0],It=wt[1],At=wt[2],Xt=wt[3],tr=i._.getBoundTextElementPosition(ft,g);Le=(At-Rt)/2-(tr.x-Rt),et=(Xt-It)/2-(tr.y-It),ae=ae+tr.x-g.x,ce=ce+tr.y-g.y}}var Gt=180*g.angle/Math.PI,Jt=Y;if(g.link){var gr=Y.ownerDocument.createElementNS(j.hR,"a");gr.setAttribute("href",(0,h.$u)(g.link)),Jt.appendChild(gr),Jt=gr}var Pt=function(it,Oe){(0,N.h2)()&&it.setAttribute("data-id",Oe.id),Jt.appendChild(it)},St=((je=(Be=(0,y.$Z)(g))===null||Be===void 0?void 0:Be.opacity)!==null&&je!==void 0?je:100)*g.opacity/1e4;switch(g.type){case"selection":throw new Error("Selection rendering is not supported for SVG");case"rectangle":case"diamond":case"ellipse":var Zt=m.R.generateElementShape(g),Tt=Ne(z,Zt,j.zK);St!==1&&(Tt.setAttribute("stroke-opacity","".concat(St)),Tt.setAttribute("fill-opacity","".concat(St))),Tt.setAttribute("stroke-linecap","round"),Tt.setAttribute("transform","translate(".concat(ae||0," ").concat(ce||0,") rotate(").concat(Gt," ").concat(Le," ").concat(et,")")),Pt(Pe(g,Jt,[Tt],ye.frameRendering)||Tt,g);break;case"embeddable":var Lt=m.R.generateElementShape(g,!0),Wt=Ne(z,Lt,j.zK),qt=g.opacity/100;qt!==1&&(Wt.setAttribute("stroke-opacity","".concat(qt)),Wt.setAttribute("fill-opacity","".concat(qt))),Wt.setAttribute("stroke-linecap","round"),Wt.setAttribute("transform","translate(".concat(ae||0," ").concat(ce||0,") rotate(").concat(Gt," ").concat(Le," ").concat(et,")")),Pt(Wt,g);var sr=(0,a.g0)(g);u(sr,z,Jt,te,sr.x+Qe-g.x,sr.y+rt-g.y,ye);var cr=Ne(z,Lt,j.zK);for(cr.setAttribute("stroke-linecap","round"),cr.setAttribute("transform","translate(".concat(ae||0," ").concat(ce||0,") rotate(").concat(Gt," ").concat(Le," ").concat(et,")"));cr.firstChild;)cr.removeChild(cr.firstChild);var Sr=(0,M.yW)(Math.min(g.width,g.height),g),Mr=(0,a.LM)((0,h.ye)(g.link||""));if(ye.renderEmbeddables===!1||(Mr==null?void 0:Mr.type)==="document"){var zr=Y.ownerDocument.createElementNS(j.hR,"a");zr.setAttribute("href",(0,h.$u)(g.link||"")),zr.setAttribute("target","_blank"),zr.setAttribute("rel","noopener noreferrer"),zr.style.borderRadius="".concat(Sr,"px"),cr.appendChild(zr)}else{var pr,Ft=Y.ownerDocument.createElementNS(j.hR,"foreignObject");Ft.style.width="".concat(g.width,"px"),Ft.style.height="".concat(g.height,"px"),Ft.style.border="none";var or=Ft.ownerDocument.createElementNS(j.hR,"div");or.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),or.style.width="100%",or.style.height="100%";var rr=or.ownerDocument.createElement("iframe");rr.src=(pr=Mr==null?void 0:Mr.link)!==null&&pr!==void 0?pr:"",rr.style.width="100%",rr.style.height="100%",rr.style.border="none",rr.style.borderRadius="".concat(Sr,"px"),rr.style.top="0",rr.style.left="0",rr.allowFullscreen=!0,or.appendChild(rr),Ft.appendChild(or),cr.appendChild(Ft)}Pt(cr,g);break;case"line":case"arrow":var Or=(0,v.WJ)(g),Kr=Y.ownerDocument.createElementNS(j.hR,"mask");if(Or){Kr.setAttribute("id","mask-".concat(g.id));var Xr=Y.ownerDocument.createElementNS(j.hR,"rect");ae=ae||0,ce=ce||0,Xr.setAttribute("x","0"),Xr.setAttribute("y","0"),Xr.setAttribute("fill","#fff"),Xr.setAttribute("width","".concat(g.width+100+ae)),Xr.setAttribute("height","".concat(g.height+100+ce)),Kr.appendChild(Xr);var cn=Y.ownerDocument.createElementNS(j.hR,"rect"),en=i._.getBoundTextElementPosition(g,Or),ur=ae+en.x-g.x,Dt=ce+en.y-g.y;cn.setAttribute("x",ur.toString()),cn.setAttribute("y",Dt.toString()),cn.setAttribute("fill","#000"),cn.setAttribute("width","".concat(Or.width)),cn.setAttribute("height","".concat(Or.height)),cn.setAttribute("opacity","1"),Kr.appendChild(cn)}var Nt=Y.ownerDocument.createElementNS(j.hR,"g");Or&&Nt.setAttribute("mask","url(#mask-".concat(g.id,")")),Nt.setAttribute("stroke-linecap","round"),m.R.generateElementShape(g).forEach(function(it){var Oe=Ne(z,it,j.zK);St!==1&&(Oe.setAttribute("stroke-opacity","".concat(St)),Oe.setAttribute("fill-opacity","".concat(St))),Oe.setAttribute("transform","translate(".concat(ae||0," ").concat(ce||0,") rotate(").concat(Gt," ").concat(Le," ").concat(et,")")),g.type==="line"&&(0,M.g6)(g.points)&&g.backgroundColor!=="transparent"&&Oe.setAttribute("fill-rule","evenodd"),Nt.appendChild(Oe)});var Ut=Pe(g,Jt,[Nt,Kr],ye.frameRendering);Ut?(Pt(Ut,g),Jt.appendChild(Ut)):(Pt(Nt,g),Jt.append(Kr));break;case"freedraw":var hr=m.R.generateElementShape(g),jr=hr?Ne(z,hr,j.zK):Y.ownerDocument.createElementNS(j.hR,"g");St!==1&&(jr.setAttribute("stroke-opacity","".concat(St)),jr.setAttribute("fill-opacity","".concat(St))),jr.setAttribute("transform","translate(".concat(ae||0," ").concat(ce||0,") rotate(").concat(Gt," ").concat(Le," ").concat(et,")")),jr.setAttribute("stroke","none");var Cr=Y.ownerDocument.createElementNS(j.hR,"path");Cr.setAttribute("fill",g.strokeColor),Cr.setAttribute("d",Ee(g)),jr.appendChild(Cr),Pt(Pe(g,Jt,[jr],ye.frameRendering)||jr,g);break;case"image":var Zr=Math.round(g.width),Dr=Math.round(g.height),Fr=(0,b.wi)(g)&&te[g.fileId];if(Fr){var ln="image-".concat(Fr.id),Gr=Y.querySelector("#".concat(ln));if(!Gr){(Gr=Y.ownerDocument.createElementNS(j.hR,"symbol")).id=ln;var Rr=Y.ownerDocument.createElementNS(j.hR,"image");Rr.setAttribute("width","100%"),Rr.setAttribute("height","100%"),Rr.setAttribute("href",Fr.dataURL),Gr.appendChild(Rr),Jt.prepend(Gr)}var Wr=Y.ownerDocument.createElementNS(j.hR,"use");if(Wr.setAttribute("href","#".concat(ln)),ye.exportWithDarkMode&&Fr.mimeType!==j.LO.svg&&Wr.setAttribute("filter",V),Wr.setAttribute("width","".concat(Zr)),Wr.setAttribute("height","".concat(Dr)),Wr.setAttribute("opacity","".concat(St)),g.scale[0]!==1||g.scale[1]!==1){var Ur=g.scale[0]!==1?-Zr:0,rn=g.scale[1]!==1?-Dr:0;Wr.setAttribute("transform","scale(".concat(g.scale[0],", ").concat(g.scale[1],") translate(").concat(Ur," ").concat(rn,")"))}var an=Y.ownerDocument.createElementNS(j.hR,"g");an.appendChild(Wr),an.setAttribute("transform","translate(".concat(ae||0," ").concat(ce||0,") rotate(").concat(Gt," ").concat(Le," ").concat(et,")")),Pt(Pe(g,Jt,[an],ye.frameRendering)||an,g)}break;case"frame":if(ye.frameRendering.enabled&&ye.frameRendering.outline){var Qr=document.createElementNS(j.hR,"rect");Qr.setAttribute("transform","translate(".concat(ae||0," ").concat(ce||0,") rotate(").concat(Gt," ").concat(Le," ").concat(et,")")),Qr.setAttribute("width","".concat(g.width,"px")),Qr.setAttribute("height","".concat(g.height,"px")),Qr.setAttribute("rx",j.iG.radius.toString()),Qr.setAttribute("ry",j.iG.radius.toString()),Qr.setAttribute("fill","none"),Qr.setAttribute("stroke",j.iG.strokeColor),Qr.setAttribute("stroke-width",j.iG.strokeWidth.toString()),Pt(Qr,g)}break;default:if(!(0,b.iB)(g))throw new Error("Unimplemented type ".concat(g.type));var In=Y.ownerDocument.createElementNS(j.hR,"g");St!==1&&(In.setAttribute("stroke-opacity","".concat(St)),In.setAttribute("fill-opacity","".concat(St))),In.setAttribute("transform","translate(".concat(ae||0," ").concat(ce||0,") rotate(").concat(Gt," ").concat(Le," ").concat(et,")"));for(var Xn=g.text.replace(/\r\n?/g,`
`).split(`
`),go=(0,v.Rg)(g.fontSize,g.lineHeight),bo=g.textAlign==="center"?g.width/2:g.textAlign==="right"?g.width:0,_o=(0,N.dZ)(g.text)?"rtl":"ltr",wo=g.textAlign==="center"?"middle":g.textAlign==="right"||_o==="rtl"?"end":"start",ao=0;ao<Xn.length;ao++){var co=Y.ownerDocument.createElementNS(j.hR,"text");co.textContent=Xn[ao],co.setAttribute("x","".concat(bo)),co.setAttribute("y","".concat(ao*go)),co.setAttribute("font-family",(0,N.$g)(g)),co.setAttribute("font-size","".concat(g.fontSize,"px")),co.setAttribute("fill",g.strokeColor),co.setAttribute("text-anchor",wo),co.setAttribute("style","white-space: pre;"),co.setAttribute("direction",_o),co.setAttribute("dominant-baseline","text-before-edge"),In.appendChild(co)}Pt(Pe(g,Jt,[In],ye.frameRendering)||In,g)}},Ze=new WeakMap([]);function Ie(u){var g=Ee(u),z=new Path2D(g);return Ze.set(u,z),z}function Ee(u){return function(g){if(!g.length)return"";var z=g.length-1;return g.reduce(function(Y,te,ae,ce){return ae===z?Y.push(te,xe(te,ce[0]),"L",ce[0],"Z"):Y.push(te,xe(te,ce[ae+1])),Y},["M",g[0],"Q"]).join(" ").replace(Z,"$1")}(E(u.simulatePressure?u.points:u.points.length?u.points.map(function(g,z){var Y=(0,k.Z)(g,2);return[Y[0],Y[1],u.pressures[z]]}):[[0,0,.5]],{simulatePressure:u.simulatePressure,size:4.25*u.strokeWidth,thinning:.6,smoothing:.5,streamline:.5,easing:function(g){return Math.sin(g*Math.PI/2)},last:!!u.lastCommittedPoint}))}function xe(u,g){return[(u[0]+g[0])/2,(u[1]+g[1])/2]}var Z=/(\s?[A-Z]?,?-?[0-9]*\.[0-9]{0,2})(([0-9]|e|-)*)/g},7766:function(ue,n,r){r.d(n,{Lu:function(){return C},n_:function(){return Ge},tp:function(){return oe},M_:function(){return Z},AW:function(){return Me}});var A,k=r(1930),b=r(2577),w=r(5284),N=r(7651),M=function(u,g,z,Y,te,ae,ce){u.beginPath(),u.moveTo(g+ae,z),u.lineTo(g+Y-ae,z),u.quadraticCurveTo(g+Y,z,g+Y,z+ae),u.lineTo(g+Y,z+te-ae),u.quadraticCurveTo(g+Y,z+te,g+Y-ae,z+te),u.lineTo(g+ae,z+te),u.quadraticCurveTo(g,z+te,g,z+te-ae),u.lineTo(g,z+ae),u.quadraticCurveTo(g,z,g+ae,z),u.closePath(),u.fill(),ce&&(u.strokeStyle=ce),u.stroke()},f=r(4726),d=r(9660),j=r(957),L=r(7422),H=r(9215),x=r(3528),S=r(4048),q=r(9827);(function(u){u.ACTIVE="active",u.AWAY="away",u.IDLE="idle"})(A||(A={}));var ve=r(9937),ke=r(5992);function Se(u,g){var z=typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(!z){if(Array.isArray(u)||(z=function(je,Be){if(je){if(typeof je=="string")return ge(je,Be);var Qe=Object.prototype.toString.call(je).slice(8,-1);if(Qe==="Object"&&je.constructor&&(Qe=je.constructor.name),Qe==="Map"||Qe==="Set")return Array.from(je);if(Qe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Qe))return ge(je,Be)}}(u))||g){z&&(u=z);var Y=0,te=function(){};return{s:te,n:function(){return Y>=u.length?{done:!0}:{done:!1,value:u[Y++]}},e:function(je){throw je},f:te}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ae,ce=!0,ye=!1;return{s:function(){z=z.call(u)},n:function(){var je=z.next();return ce=je.done,je},e:function(je){ye=!0,ae=je},f:function(){try{ce||z.return==null||z.return()}finally{if(ye)throw ae}}}}function ge(u,g){(g==null||g>u.length)&&(g=u.length);for(var z=0,Y=new Array(g);z<g;z++)Y[z]=u[z];return Y}var J=function(u,g,z){if(!z.zenModeEnabled){var Y=u.points[0],te=u.points[u.points.length-1];T(Y,te,g)}var ae,ce=Se(u.points);try{for(ce.s();!(ae=ce.n()).done;){var ye=ae.value;K(ye,z,g)}}catch(je){ce.e(je)}finally{ce.f()}},Q=function(u,g,z){K(u.points[0],z,g),z.zenModeEnabled||T(u.points[0],u.points[1],g)},K=function(u,g,z){var Y=(0,b.Z)(u,2),te=Y[0],ae=Y[1];z.save();var ce=(g.zenModeEnabled?3:2)/g.zoom.value;z.beginPath(),z.moveTo(te-ce,ae-ce),z.lineTo(te+ce,ae+ce),z.moveTo(te+ce,ae-ce),z.lineTo(te-ce,ae+ce),z.stroke(),z.restore()},T=function(u,g,z){z.beginPath(),z.lineTo.apply(z,(0,k.Z)(u)),z.lineTo.apply(z,(0,k.Z)(g)),z.stroke()},B=function(u,g,z,Y,te){var ae=8/Y.zoom.value,ce=ae/2,ye=ae/4;if(z==="horizontal"){var je=[(u[0]+g[0])/2,u[1]];Y.zenModeEnabled||T([u[0],u[1]-ae],[u[0],u[1]+ae],te),T([je[0]-ye,je[1]-ce],[je[0]-ye,je[1]+ce],te),T([je[0]+ye,je[1]-ce],[je[0]+ye,je[1]+ce],te),Y.zenModeEnabled||(T([g[0],g[1]-ae],[g[0],g[1]+ae],te),T(u,g,te))}else{var Be=[u[0],(u[1]+g[1])/2];Y.zenModeEnabled||T([u[0]-ae,u[1]],[u[0]+ae,u[1]],te),T([Be[0]-ce,Be[1]-ye],[Be[0]+ce,Be[1]-ye],te),T([Be[0]-ce,Be[1]+ye],[Be[0]+ce,Be[1]+ye],te),Y.zenModeEnabled||(T([g[0]-ae,g[1]],[g[0]+ae,g[1]],te),T(u,g,te))}},O=r(4183),R=r(761),E=r(4682),v=r(6655);function i(u,g){var z=typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(!z){if(Array.isArray(u)||(z=function(je,Be){if(je){if(typeof je=="string")return a(je,Be);var Qe=Object.prototype.toString.call(je).slice(8,-1);if(Qe==="Object"&&je.constructor&&(Qe=je.constructor.name),Qe==="Map"||Qe==="Set")return Array.from(je);if(Qe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Qe))return a(je,Be)}}(u))||g){z&&(u=z);var Y=0,te=function(){};return{s:te,n:function(){return Y>=u.length?{done:!0}:{done:!1,value:u[Y++]}},e:function(je){throw je},f:te}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ae,ce=!0,ye=!1;return{s:function(){z=z.call(u)},n:function(){var je=z.next();return ce=je.done,je},e:function(je){ye=!0,ae=je},f:function(){try{ce||z.return==null||z.return()}finally{if(ye)throw ae}}}}function a(u,g){(g==null||g>u.length)&&(g=u.length);for(var z=0,Y=new Array(g);z<g;z++)Y[z]=u[z];return Y}function y(u,g){var z=typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(!z){if(Array.isArray(u)||(z=function(je,Be){if(je){if(typeof je=="string")return h(je,Be);var Qe=Object.prototype.toString.call(je).slice(8,-1);if(Qe==="Object"&&je.constructor&&(Qe=je.constructor.name),Qe==="Map"||Qe==="Set")return Array.from(je);if(Qe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Qe))return h(je,Be)}}(u))||g){z&&(u=z);var Y=0,te=function(){};return{s:te,n:function(){return Y>=u.length?{done:!0}:{done:!1,value:u[Y++]}},e:function(je){throw je},f:te}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ae,ce=!0,ye=!1;return{s:function(){z=z.call(u)},n:function(){var je=z.next();return ce=je.done,je},e:function(je){ye=!0,ae=je},f:function(){try{ce||z.return==null||z.return()}finally{if(ye)throw ae}}}}function h(u,g){(g==null||g>u.length)&&(g=u.length);for(var z=0,Y=new Array(g);z<g;z++)Y[z]=u[z];return Y}(function(){var u,g,z,Y,te,ae;(g=(u=Path2D.prototype).roundRect)!==null&&g!==void 0||(u.roundRect=ce),globalThis.CanvasRenderingContext2D&&((Y=(z=globalThis.CanvasRenderingContext2D.prototype).roundRect)!==null&&Y!==void 0||(z.roundRect=ce)),globalThis.OffscreenCanvasRenderingContext2D&&((ae=(te=globalThis.OffscreenCanvasRenderingContext2D.prototype).roundRect)!==null&&ae!==void 0||(te.roundRect=ce));function ce(je,Be,Qe,rt,Ye){if([je,Be,Qe,rt].every(function(wt){return Number.isFinite(wt)})){var tt,ht,gt,Ue;if((Ye=function(wt){var Rt=(0,v.Z)(wt);return Rt==="undefined"||wt===null?[0]:Rt==="function"?[NaN]:Rt==="object"?typeof wt[Symbol.iterator]=="function"?(0,k.Z)(wt).map(function(It){var At=(0,v.Z)(It);return At==="undefined"||It===null?0:At==="function"?NaN:At==="object"?et(It):ft(It)}):[et(wt)]:[ft(wt)]}(Ye)).length===4)tt=xt(Ye[0]),ht=xt(Ye[1]),gt=xt(Ye[2]),Ue=xt(Ye[3]);else if(Ye.length===3)tt=xt(Ye[0]),ht=xt(Ye[1]),Ue=xt(Ye[1]),gt=xt(Ye[2]);else if(Ye.length===2)tt=xt(Ye[0]),gt=xt(Ye[0]),ht=xt(Ye[1]),Ue=xt(Ye[1]);else{if(Ye.length!==1)throw new RangeError("".concat(ye(this)," ").concat(Ye.length," is not a valid size for radii sequence."));tt=xt(Ye[0]),ht=xt(Ye[0]),gt=xt(Ye[0]),Ue=xt(Ye[0])}var Ce=[tt,ht,gt,Ue],Le=Ce.find(function(wt){var Rt=wt.x,It=wt.y;return Rt<0||It<0});if((Le==null?void 0:Le.x)<0?Le.x:Le==null||Le.y,!Ce.some(function(wt){var Rt=wt.x,It=wt.y;return!Number.isFinite(Rt)||!Number.isFinite(It)})){if(Le)throw new RangeError("".concat(ye(this)," Radius value ").concat(Le," is negative."));(function(wt){var Rt=(0,b.Z)(wt,4),It=Rt[0],At=Rt[1],Xt=Rt[2],tr=Rt[3],Gt=[Math.abs(Qe)/(It.x+At.x),Math.abs(rt)/(At.y+Xt.y),Math.abs(Qe)/(Xt.x+tr.x),Math.abs(rt)/(It.y+tr.y)],Jt=Math.min.apply(Math,Gt);if(Jt<=1){var gr,Pt=i(wt);try{for(Pt.s();!(gr=Pt.n()).done;){var St=gr.value;St.x*=Jt,St.y*=Jt}}catch(Zt){Pt.e(Zt)}finally{Pt.f()}}})(Ce),Qe<0&&rt<0?(this.moveTo(je-tt.x,Be),this.ellipse(je+Qe+ht.x,Be-ht.y,ht.x,ht.y,0,1.5*-Math.PI,-Math.PI),this.ellipse(je+Qe+gt.x,Be+rt+gt.y,gt.x,gt.y,0,-Math.PI,-Math.PI/2),this.ellipse(je-Ue.x,Be+rt+Ue.y,Ue.x,Ue.y,0,-Math.PI/2,0),this.ellipse(je-tt.x,Be-tt.y,tt.x,tt.y,0,0,-Math.PI/2)):Qe<0?(this.moveTo(je-tt.x,Be),this.ellipse(je+Qe+ht.x,Be+ht.y,ht.x,ht.y,0,-Math.PI/2,-Math.PI,1),this.ellipse(je+Qe+gt.x,Be+rt-gt.y,gt.x,gt.y,0,-Math.PI,1.5*-Math.PI,1),this.ellipse(je-Ue.x,Be+rt-Ue.y,Ue.x,Ue.y,0,Math.PI/2,0,1),this.ellipse(je-tt.x,Be+tt.y,tt.x,tt.y,0,0,-Math.PI/2,1)):rt<0?(this.moveTo(je+tt.x,Be),this.ellipse(je+Qe-ht.x,Be-ht.y,ht.x,ht.y,0,Math.PI/2,0,1),this.ellipse(je+Qe-gt.x,Be+rt+gt.y,gt.x,gt.y,0,0,-Math.PI/2,1),this.ellipse(je+Ue.x,Be+rt+Ue.y,Ue.x,Ue.y,0,-Math.PI/2,-Math.PI,1),this.ellipse(je+tt.x,Be-tt.y,tt.x,tt.y,0,-Math.PI,1.5*-Math.PI,1)):(this.moveTo(je+tt.x,Be),this.ellipse(je+Qe-ht.x,Be+ht.y,ht.x,ht.y,0,-Math.PI/2,0),this.ellipse(je+Qe-gt.x,Be+rt-gt.y,gt.x,gt.y,0,0,Math.PI/2),this.ellipse(je+Ue.x,Be+rt-Ue.y,Ue.x,Ue.y,0,Math.PI/2,Math.PI),this.ellipse(je+tt.x,Be+tt.y,tt.x,tt.y,0,Math.PI,1.5*Math.PI)),this.closePath(),this.moveTo(je,Be)}}function et(wt){return{x:wt.x,y:wt.y,z:wt.z,w:wt.w}}function ft(wt){return+wt}function xt(wt){var Rt,It,At=ft(wt);return Number.isFinite(At)?{x:At,y:At}:Object(wt)===wt?{x:ft((Rt=wt.x)!==null&&Rt!==void 0?Rt:0),y:ft((It=wt.y)!==null&&It!==void 0?It:0)}:{x:NaN,y:NaN}}}function ye(je){return"Failed to execute 'roundRect' on '".concat(function(Be){return Object(Be)===Be&&Be instanceof Path2D?"Path2D":Be instanceof(globalThis==null?void 0:globalThis.CanvasRenderingContext2D)?"CanvasRenderingContext2D":Be instanceof(globalThis==null?void 0:globalThis.OffscreenCanvasRenderingContext2D)?"OffscreenCanvasRenderingContext2D":(Be==null?void 0:Be.constructor.name)||Be}(je),"':")}})();var m,C=2,U=function(u,g,z,Y,te,ae,ce,ye){var je=arguments.length>8&&arguments[8]!==void 0&&arguments[8],Be=arguments.length>9&&arguments[9]!==void 0?arguments[9]:0;u.save(),u.translate(ae,ce),u.rotate(ye),je&&u.fillRect(g-ae,z-ce,Y,te),Be&&u.roundRect?(u.beginPath(),u.roundRect(g-ae,z-ce,Y,te,Be),u.stroke(),u.closePath()):u.strokeRect(g-ae,z-ce,Y,te),u.restore()},V=function(u,g,z,Y){var te=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];u.beginPath(),u.arc(g,z,Y,0,2*Math.PI),u.fill(),te&&u.stroke()},D=function(u,g,z,Y,te){var ae=arguments.length>5&&arguments[5]!==void 0&&arguments[5];u.strokeStyle="#5e5ad8",u.setLineDash([]),u.fillStyle="rgba(255, 255, 255, 0.9)",te?u.fillStyle="rgba(134, 131, 226, 0.9)":ae&&(u.fillStyle="rgba(177, 151, 252, 0.7)"),V(u,z[0],z[1],Y/g.zoom.value,!ae)},P=function(u,g,z){if(g.selectedLinearElement){u.save(),u.translate(g.scrollX,g.scrollY),u.lineWidth=1/g.zoom.value;var Y=L._.getPointsGlobalCoordinates(z),te=L._.POINT_HANDLE_SIZE,ae=g.editingLinearElement?te:te/2;Y.forEach(function(ce,ye){var je,Be,Qe=!((je=g.editingLinearElement)===null||je===void 0||(Be=je.selectedPointsIndices)===null||Be===void 0||!Be.includes(ye));D(u,g,ce,ae,Qe)}),L._.getEditorMidPoints(z,g).filter(function(ce){return ce!==null}).forEach(function(ce){var ye;g!=null&&(ye=g.selectedLinearElement)!==null&&ye!==void 0&&ye.segmentMidPointHoveredCoords&&L._.arePointsEqual(ce,g.selectedLinearElement.segmentMidPointHoveredCoords)?g.editingLinearElement?(D(u,g,ce,ae,!1),F(ce,u,g)):(F(ce,u,g),D(u,g,ce,ae,!1)):(g.editingLinearElement||Y.length===2)&&D(u,g,ce,te/2,!1,!0)}),u.restore()}},F=function(u,g,z){g.fillStyle="rgba(105, 101, 219, 0.4)",V(g,u[0],u[1],L._.POINT_HANDLE_SIZE/z.zoom.value,!1)},X=function(u,g,z,Y){g.translate(u.x+Y.scrollX,u.y+Y.scrollY),g.beginPath(),g.roundRect?g.roundRect(0,0,u.width,u.height,ve.iG.radius/Y.zoom.value):g.rect(0,0,u.width,u.height),g.clip(),g.translate(-(u.x+Y.scrollX),-(u.y+Y.scrollY))},le=function(u,g){return[u.width/g,u.height/g]},de=function(u){var g=u.canvas,z=u.scale,Y=u.normalizedWidth,te=u.normalizedHeight,ae=u.theme,ce=u.isExporting,ye=u.viewBackgroundColor,je=g.getContext("2d");return je.setTransform(1,0,0,1,0,0),je.scale(z,z),ce&&ae==="dark"&&(je.filter=ve.ZF),typeof ye=="string"?((ye==="transparent"||ye.length===5||ye.length===9||/(hsla|rgba)\(/.test(ye))&&je.clearRect(0,0,Y,te),je.save(),je.fillStyle=ye,je.fillRect(0,0,Y,te),je.restore()):je.clearRect(0,0,Y,te),je},fe=function(u){var g,z=u.canvas,Y=u.elements,te=u.visibleElements,ae=u.selectedElements,ce=u.scale,ye=u.appState,je=u.renderConfig;if(z===null)return{atLeastOneVisibleElement:!1,elements:Y};var Be=le(z,ce),Qe=(0,b.Z)(Be,2),rt=Qe[0],Ye=Qe[1],tt=de({canvas:z,scale:ce,normalizedWidth:rt,normalizedHeight:Ye});tt.save(),tt.scale(ye.zoom.value,ye.zoom.value);var ht=void 0;if(te.forEach(function(Nt){var Ut;((Ut=ye.editingLinearElement)===null||Ut===void 0?void 0:Ut.elementId)===Nt.id&&Nt&&(ht=Nt)}),ht&&P(tt,ye,ht),ye.selectionElement)try{(0,d.uI)(ye.selectionElement,tt,ye)}catch(Nt){console.error(Nt)}ye.isBindingEnabled&&ye.suggestedBindings.filter(function(Nt){return Nt!=null}).forEach(function(Nt){Pe(tt,ye,Nt)}),ye.frameToHighlight&&Ze(tt,ye,ye.frameToHighlight),ye.elementsToHighlight&&Ie(tt,ye,ye.elementsToHighlight);var gt,Ue=ae.some(function(Nt){return(0,O.He)(Nt)});if(ae.length===1&&((g=ye.editingLinearElement)===null||g===void 0?void 0:g.elementId)===ae[0].id&&P(tt,ye,ae[0]),ye.selectedLinearElement&&ye.selectedLinearElement.hoverPointIndex>=0&&function(Nt,Ut){var hr,jr,Cr=Ut.selectedLinearElement,Zr=Cr.elementId,Dr=Cr.hoverPointIndex;if((hr=Ut.editingLinearElement)===null||hr===void 0||(jr=hr.selectedPointsIndices)===null||jr===void 0||!jr.includes(Dr)){var Fr=L._.getElement(Zr);if(Fr){var ln=L._.getPointAtIndexGlobalCoordinates(Fr,Dr);Nt.save(),Nt.translate(Ut.scrollX,Ut.scrollY),F(ln,Nt,Ut),Nt.restore()}}}(tt,ye),!ye.multiElement&&!ye.editingLinearElement){var Ce,Le=(0,S.oY)(ae,ye);ae.length===1&&(0,O.bt)(ae[0])&&((Ce=ye.selectedLinearElement)===null||Ce===void 0?void 0:Ce.elementId)===ae[0].id&&!ae[0].locked&&P(tt,ye,ae[0]);var et=je.selectionColor||w.black;if(Le){var ft,xt=ae.reduce(function(Nt,Ut){return Nt[Ut.id]=!0,Nt},{}),wt=Y.reduce(function(Nt,Ut){var hr=[];if(xt[Ut.id]&&!(0,H.zq)(ye,Ut)&&hr.push(et),je.remoteSelectedElementIds[Ut.id]&&hr.push.apply(hr,(0,k.Z)(je.remoteSelectedElementIds[Ut.id].map(function(Ur){return(0,j.G)(Ur)}))),hr.length){var jr,Cr=(0,N.qf)(Ut,!0),Zr=(0,b.Z)(Cr,6),Dr=Zr[0],Fr=Zr[1],ln=Zr[2],Gr=Zr[3],Rr=Zr[4],Wr=Zr[5];Nt.push({angle:Ut.angle,elementX1:Dr,elementY1:Fr,elementX2:ln,elementY2:Gr,selectionColors:hr,dashed:!!je.remoteSelectedElementIds[Ut.id],cx:Rr,cy:Wr,activeEmbeddable:((jr=ye.activeEmbeddable)===null||jr===void 0?void 0:jr.element)===Ut&&ye.activeEmbeddable.state==="active"})}return Nt},[]),Rt=function(Nt){var Ut=(0,H.Fb)(Y,Nt),hr=(0,N.KP)(Ut),jr=(0,b.Z)(hr,4),Cr=jr[0],Zr=jr[1],Dr=jr[2],Fr=jr[3];wt.push({angle:0,elementX1:Cr,elementX2:Dr,elementY1:Zr,elementY2:Fr,selectionColors:[w.black],dashed:!0,cx:Cr+(Dr-Cr)/2,cy:Zr+(Fr-Zr)/2,activeEmbeddable:!1})},It=y((0,H.iJ)(ye));try{for(It.s();!(ft=It.n()).done;)Rt(ft.value)}catch(Nt){It.e(Nt)}finally{It.f()}ye.editingGroupId&&Rt(ye.editingGroupId),wt.forEach(function(Nt){return Ne(tt,ye,Nt)})}if(tt.save(),tt.translate(ye.scrollX,ye.scrollY),ae.length===1){tt.fillStyle=w.white;var At=(0,N.PC)(ae[0],ye.zoom,"mouse");!ye.viewModeEnabled&&Le&&qe(tt,je,ye,At,ae[0].angle)}else if(ae.length>1&&!ye.isRotating){var Xt=2*C/ye.zoom.value;tt.fillStyle=w.white;var tr=(0,N.KP)(ae),Gt=(0,b.Z)(tr,4),Jt=Gt[0],gr=Gt[1],Pt=Gt[2],St=Gt[3],Zt=tt.getLineDash();tt.setLineDash([2/ye.zoom.value]);var Tt=tt.lineWidth;tt.lineWidth=1/ye.zoom.value,tt.strokeStyle=et,U(tt,Jt-Xt,gr-Xt,Pt-Jt+2*Xt,St-gr+2*Xt,(Jt+Pt)/2,(gr+St)/2,0),tt.lineWidth=Tt,tt.setLineDash(Zt);var Lt=(0,N.kK)([Jt,gr,Pt,St,(Jt+Pt)/2,(gr+St)/2],0,ye.zoom,"mouse",Ue?S.Fn:N.ox);ae.some(function(Nt){return!Nt.locked})&&qe(tt,je,ye,Lt,0)}tt.restore()}for(var Wt in function(Nt,Ut){if(Ut.snapLines.length){var hr=Ut.theme==="light"||Ut.zenModeEnabled?"#ff6b6b":"#ff0000",jr=(Ut.zenModeEnabled?1.5:1)/Ut.zoom.value;Nt.save(),Nt.translate(Ut.scrollX,Ut.scrollY);var Cr,Zr=Se(Ut.snapLines);try{for(Zr.s();!(Cr=Zr.n()).done;){var Dr=Cr.value;Dr.type==="pointer"?(Nt.lineWidth=jr,Nt.strokeStyle=hr,Q(Dr,Nt,Ut)):Dr.type==="gap"?(Nt.lineWidth=jr,Nt.strokeStyle=hr,B(Dr.points[0],Dr.points[1],Dr.direction,Ut,Nt)):Dr.type==="points"&&(Nt.lineWidth=jr,Nt.strokeStyle=hr,J(Dr,Nt,Ut))}}catch(Fr){Zr.e(Fr)}finally{Zr.f()}Nt.restore()}}(tt,ye),tt.restore(),je.remotePointerViewportCoords){var qt=je.remotePointerViewportCoords[Wt],sr=qt.x,cr=qt.y;sr-=ye.offsetLeft,cr-=ye.offsetTop;var Sr=sr<0||sr>rt-11||cr<0||cr>Ye-14;sr=Math.max(sr,0),sr=Math.min(sr,rt-11),cr=Math.max(cr,0),cr=Math.min(cr,Ye-14);var Mr=(0,j.G)(Wt);tt.save(),tt.strokeStyle=Mr,tt.fillStyle=Mr;var zr=je.remotePointerUserStates[Wt],pr=Sr||zr===A.IDLE||zr===A.AWAY;pr&&(tt.globalAlpha=.3),je.remotePointerButton&&je.remotePointerButton[Wt]==="down"&&(tt.beginPath(),tt.arc(sr,cr,15,0,2*Math.PI,!1),tt.lineWidth=3,tt.strokeStyle="#ffffff88",tt.stroke(),tt.closePath(),tt.beginPath(),tt.arc(sr,cr,15,0,2*Math.PI,!1),tt.lineWidth=1,tt.strokeStyle=Mr,tt.stroke(),tt.closePath()),tt.fillStyle=w.white,tt.strokeStyle=w.white,tt.lineWidth=6,tt.lineJoin="round",tt.beginPath(),tt.moveTo(sr,cr),tt.lineTo(sr+0,cr+14),tt.lineTo(sr+4,cr+9),tt.lineTo(sr+11,cr+8),tt.closePath(),tt.stroke(),tt.fill(),tt.fillStyle=Mr,tt.strokeStyle=Mr,tt.lineWidth=2,tt.lineJoin="round",tt.beginPath(),pr?(tt.moveTo(sr-1,cr-1),tt.lineTo(sr-1,cr+15),tt.lineTo(sr+5,cr+10),tt.lineTo(sr+12,cr+9),tt.closePath(),tt.fill()):(tt.moveTo(sr,cr),tt.lineTo(sr+0,cr+14),tt.lineTo(sr+4,cr+9),tt.lineTo(sr+11,cr+8),tt.closePath(),tt.fill(),tt.stroke());var Ft=je.remotePointerUsernames[Wt]||"";if(!Sr&&Ft){tt.font="600 12px sans-serif";var or=sr+5.5,rr=cr+14+2,Or=tt.measureText(Ft),Kr=Or.actualBoundingBoxDescent+Or.actualBoundingBoxAscent,Xr=Math.max(Kr,12),cn=or-1,en=rr-1,ur=Or.width+2+10+2,Dt=Xr+2+6+2;tt.roundRect?(tt.beginPath(),tt.roundRect(cn,en,ur,Dt,8),tt.fillStyle=Mr,tt.fill(),tt.strokeStyle=w.white,tt.stroke()):M(tt,cn,en,ur,Dt,8,w.white),tt.fillStyle=w.black,tt.fillText(Ft,or+5+1,rr+3+Or.actualBoundingBoxAscent+Math.floor((Xr-Kr)/2)+2)}tt.restore(),tt.closePath()}return je.renderScrollbars&&(gt=(0,f.tJ)(Y,rt,Ye,ye),tt.save(),tt.fillStyle=f.w1,tt.strokeStyle="rgba(255,255,255,0.8)",[gt.horizontal,gt.vertical].forEach(function(Nt){Nt&&M(tt,Nt.x,Nt.y,Nt.width,Nt.height,f.nn/2)}),tt.restore()),{scrollBars:gt,atLeastOneVisibleElement:te.length>0,elements:Y}},pe=function(u){var g=u.canvas,z=u.rc,Y=u.elements,te=u.visibleElements,ae=u.scale,ce=u.appState,ye=u.renderConfig;if(g!==null){var je=ye.renderGrid,Be=je===void 0||je,Qe=ye.isExporting,rt=le(g,ae),Ye=(0,b.Z)(rt,2),tt=Ye[0],ht=Ye[1],gt=de({canvas:g,scale:ae,normalizedWidth:tt,normalizedHeight:ht,theme:ce.theme,isExporting:Qe,viewBackgroundColor:ce.viewBackgroundColor});gt.scale(ce.zoom.value,ce.zoom.value),Be&&ce.gridSize&&function(Ce,Le,et,ft,xt,wt,Rt){var It;(function(Tt){Tt.Bold="#cccccc",Tt.Regular="#e5e5e5"})(It||(It={}));var At=-Math.round(xt.value/Le)*Le+et%Le,Xt=-Math.round(xt.value/Le)*Le+ft%Le,tr=Math.min(1/xt.value,1),Gt=1/xt.value,Jt=[3*tr,Gt+(tr+Gt)];Ce.save(),Ce.lineWidth=tr;for(var gr=At;gr<At+wt+2*Le;gr+=Le){var Pt=Math.round(gr-et)%(5*Le)==0;Ce.beginPath(),Ce.setLineDash(Pt?[]:Jt),Ce.strokeStyle=Pt?It.Bold:It.Regular,Ce.moveTo(gr,Xt-Le),Ce.lineTo(gr,Xt+Rt+2*Le),Ce.stroke()}for(var St=Xt;St<Xt+Rt+2*Le;St+=Le){var Zt=Math.round(St-ft)%(5*Le)==0;Ce.beginPath(),Ce.setLineDash(Zt?[]:Jt),Ce.strokeStyle=Zt?It.Bold:It.Regular,Ce.moveTo(At-Le,St),Ce.lineTo(At+wt+2*Le,St),Ce.stroke()}Ce.restore()}(gt,ce.gridSize,ce.scrollX,ce.scrollY,ce.zoom,tt/ce.zoom.value,ht/ce.zoom.value);var Ue=new Set;te.forEach(function(Ce){Ce.groupIds.length>0&&ce.frameToHighlight&&ce.selectedElementIds[Ce.id]&&((0,E.cO)(Ce,ce.frameToHighlight)||Ce.groupIds.find(function(Le){return Ue.has(Le)}))&&Ce.groupIds.forEach(function(Le){return Ue.add(Le)})}),te.filter(function(Ce){return!(0,R.uU)(Ce)}).forEach(function(Ce){try{var Le;if((Ce.frameId||!((Le=ce.frameToHighlight)===null||Le===void 0)&&Le.id)&&ce.frameRendering.enabled&&ce.frameRendering.clip){gt.save();var et=(0,E.cH)(Ce,ce);et&&(0,E.Qs)(Ce,Y,ce)&&X(et,gt,0,ce),(0,d.lw)(Ce,z,gt,ye,ce),gt.restore()}else(0,d.lw)(Ce,z,gt,ye,ce);Qe||xe(Ce,gt,ce)}catch(ft){console.error(ft)}}),te.filter(function(Ce){return(0,R.uU)(Ce)}).forEach(function(Ce){try{var Le,et=function(){if((0,d.lw)(Ce,z,gt,ye,ce),(0,O.gs)(Ce)&&(Qe||!Ce.validated)&&Ce.width&&Ce.height){var xt=(0,R.g0)(Ce);(0,d.lw)(xt,z,gt,ye,ce)}Qe||xe(Ce,gt,ce)};if((Ce.frameId||!((Le=ce.frameToHighlight)===null||Le===void 0)&&Le.id)&&ce.frameRendering.enabled&&ce.frameRendering.clip){gt.save();var ft=(0,E.cH)(Ce,ce);ft&&(0,E.Qs)(Ce,Y,ce)&&X(ft,gt,0,ce),et(),gt.restore()}else et()}catch(xt){console.error(xt)}})}},ne=(0,q.hR)(function(u){var g,z=fe(u);(g=u.callback)===null||g===void 0||g.call(u,z)},{trailing:!0}),oe=function(u,g){if(!g){var z=fe(u);return u.callback(z),z}ne(u)},be=(0,q.hR)(function(u){pe(u)},{trailing:!0}),Me=function(u,g){g?be(u):pe(u)},Ge=function(){ne.cancel(),be.cancel()},qe=function(u,g,z,Y,te){Object.keys(Y).forEach(function(ae){var ce=Y[ae];if(ce!==void 0){var ye=(0,b.Z)(ce,4),je=ye[0],Be=ye[1],Qe=ye[2],rt=ye[3];u.save(),u.lineWidth=1/z.zoom.value,g.selectionColor&&(u.strokeStyle=g.selectionColor),ae==="rotation"?V(u,je+Qe/2,Be+rt/2,Qe/2):u.roundRect?(u.beginPath(),u.roundRect(je,Be,Qe,rt,2/z.zoom.value),u.fill(),u.stroke()):U(u,je,Be,Qe,rt,je+Qe/2,Be+rt/2,te,!0),u.restore()}})},Ne=function(u,g,z){var Y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:2*C,te=z.angle,ae=z.elementX1,ce=z.elementY1,ye=z.elementX2,je=z.elementY2,Be=z.selectionColors,Qe=z.cx,rt=z.cy,Ye=z.dashed,tt=z.activeEmbeddable,ht=ye-ae,gt=je-ce,Ue=Y/g.zoom.value,Ce=8/g.zoom.value,Le=4/g.zoom.value;u.save(),u.translate(g.scrollX,g.scrollY),u.lineWidth=(tt?4:1)/g.zoom.value;for(var et=Be.length,ft=0;ft<et;++ft)u.strokeStyle=Be[ft],Ye&&u.setLineDash([Ce,Le+(Ce+Le)*(et-1)]),u.lineDashOffset=(Ce+Le)*ft,U(u,ae-Ue,ce-Ue,ht+2*Ue,gt+2*Ue,Qe,rt,te);u.restore()},Pe=function(u,g,z){var Y=Array.isArray(z)?Ee:Re;u.save(),u.translate(g.scrollX,g.scrollY),Y(u,z),u.restore()},Re=function(u,g){var z=(0,N.qf)(g),Y=(0,b.Z)(z,4),te=Y[0],ae=Y[1],ce=Y[2]-te,ye=Y[3]-ae,je=(0,x.fb)(g,ce,ye);u.strokeStyle="rgba(0,0,0,.05)",u.lineWidth=je-4;var Be=2+je/2;switch(g.type){case"rectangle":case"text":case"image":case"embeddable":case"frame":U(u,te-Be,ae-Be,ce+2*Be,ye+2*Be,te+ce/2,ae+ye/2,g.angle);break;case"diamond":var Qe=Math.hypot(ce,ye);(function(rt,Ye,tt,ht,gt,Ue){rt.save(),rt.translate(ht,gt),rt.rotate(Ue),rt.beginPath(),rt.moveTo(0,tt/2),rt.lineTo(Ye/2,0),rt.lineTo(0,-tt/2),rt.lineTo(-Ye/2,0),rt.closePath(),rt.stroke(),rt.restore()})(u,ce+2*(Be*Qe/ye),ye+2*(Be*Qe/ce),te+ce/2,ae+ye/2,g.angle);break;case"ellipse":(function(rt,Ye,tt,ht,gt,Ue){rt.beginPath(),rt.ellipse(ht,gt,Ye/2,tt/2,Ue,0,2*Math.PI),rt.stroke()})(u,ce+2*Be,ye+2*Be,te+ce/2,ae+ye/2,g.angle)}},Ze=function(u,g,z){var Y=(0,N.qf)(z),te=(0,b.Z)(Y,4),ae=te[0],ce=te[1],ye=te[2]-ae,je=te[3]-ce;u.strokeStyle="rgb(0,118,255)",u.lineWidth=ve.iG.strokeWidth/g.zoom.value,u.save(),u.translate(g.scrollX,g.scrollY),U(u,ae,ce,ye,je,ae+ye/2,ce+je/2,z.angle,!1,ve.iG.radius/g.zoom.value),u.restore()},Ie=function(u,g,z){var Y=z.filter(function(ce){return ce.groupIds.length===0}),te=z.filter(function(ce){return ce.groupIds.length>0}),ae=function(ce){var ye=(0,N.KP)(ce),je=(0,b.Z)(ye,4),Be=je[0],Qe=je[1],rt=je[2],Ye=je[3];return{angle:0,elementX1:Be,elementX2:rt,elementY1:Qe,elementY2:Ye,selectionColors:["rgb(0,118,255)"],dashed:!1,cx:Be+(rt-Be)/2,cy:Qe+(Ye-Qe)/2,activeEmbeddable:!1}};Object.entries((0,H.yR)(te,g)).filter(function(ce){var ye=(0,b.Z)(ce,2);return ye[0],ye[1]}).map(function(ce){var ye=(0,b.Z)(ce,2),je=ye[0];return ye[1],je}).map(function(ce){return function(ye){var je=(0,H.Fb)(z,ye);return ae(je)}(ce)}).concat(Y.map(function(ce){return ae([ce])})).forEach(function(ce){return Ne(u,g,ce)})},Ee=function(u,g){var z=(0,b.Z)(g,3),Y=z[0],te=z[1],ae=z[2],ce=(0,x.fb)(ae,ae.width,ae.height);u.strokeStyle="rgba(0,0,0,0)",u.fillStyle="rgba(0,0,0,.05)",(te==="both"?[0,-1]:te==="start"?[0]:[-1]).forEach(function(ye){var je=L._.getPointAtIndexGlobalCoordinates(Y,ye),Be=(0,b.Z)(je,2),Qe=Be[0],rt=Be[1];V(u,Qe,rt,ce)})},xe=function(u,g,z){if(u.link&&!z.selectedElementIds[u.id]){var Y=(0,N.qf)(u),te=(0,b.Z)(Y,4),ae=te[0],ce=te[1],ye=te[2],je=te[3],Be=(0,ke.sw)([ae,ce,ye,je],u.angle,z),Qe=(0,b.Z)(Be,4),rt=Qe[0],Ye=Qe[1],tt=Qe[2],ht=Qe[3],gt=rt+tt/2,Ue=Ye+ht/2;if(g.save(),g.translate(z.scrollX+gt,z.scrollY+Ue),g.rotate(u.angle),m&&m.zoom===z.zoom.value)g.drawImage(m,rt-gt,Ye-Ue,tt,ht);else{(m=document.createElement("canvas")).zoom=z.zoom.value,m.width=tt*window.devicePixelRatio*z.zoom.value,m.height=ht*window.devicePixelRatio*z.zoom.value;var Ce=m.getContext("2d");Ce.scale(window.devicePixelRatio*z.zoom.value,window.devicePixelRatio*z.zoom.value),Ce.fillStyle="#fff",Ce.fillRect(0,0,tt,ht),Ce.drawImage(ke.rj,0,0,tt,ht),Ce.restore(),g.drawImage(m,rt-gt,Ye-Ue,tt,ht)}g.restore()}},Z=function(u,g,z,Y,te){var ae=te.offsetX,ce=ae===void 0?0:ae,ye=te.offsetY,je=ye===void 0?0:ye,Be=te.exportWithDarkMode,Qe=te.renderEmbeddables,rt=te.frameRendering;if(z){var Ye={exportWithDarkMode:Be,renderEmbeddables:Qe,frameRendering:rt};u.filter(function(tt){return!(0,R.uU)(tt)}).forEach(function(tt){if(!tt.isDeleted)try{(0,d.Rg)(tt,g,z,Y,tt.x+ce,tt.y+je,Ye)}catch(ht){console.error(ht)}}),u.filter(function(tt){return(0,O.gs)(tt)}).forEach(function(tt){if(!tt.isDeleted)try{(0,d.Rg)(tt,g,z,Y,tt.x+ce,tt.y+je,Ye)}catch(ht){console.error(ht)}})}}},457:function(ue,n,r){var A=r(1930),k=r(8821),b=r(5169),w=r(7651),N=r(4183),M=r(6264),f=r(4643),d=function(L){return typeof L=="string"},j=function(){function L(){var H=this;(0,k.Z)(this,L),this.callbacks=new Set,this.nonDeletedElements=[],this.elements=[],this.nonDeletedFrames=[],this.frames=[],this.elementsMap=new Map,this.selectedElementsCache={selectedElementIds:null,elements:null,cache:new Map},this.addNewElement=function(x){x.frameId?H.insertElementAtIndex(x,H.getElementIndex(x.frameId)):H.replaceAllElements([].concat((0,A.Z)(H.elements),[x]))}}return(0,b.Z)(L,[{key:"getElementsIncludingDeleted",value:function(){return this.elements}},{key:"getNonDeletedElements",value:function(){return this.nonDeletedElements}},{key:"getFramesIncludingDeleted",value:function(){return this.frames}},{key:"getSelectedElements",value:function(H){var x=function(ke){for(var Se="",ge=0,J=["includeBoundTextElement","includeElementsInFrames"];ge<J.length;ge++){var Q=J[ge];Se+="".concat(Q,":").concat(ke[Q]?"1":"0")}return Se}(H),S=(H==null?void 0:H.elements)||this.nonDeletedElements;if(this.selectedElementsCache.elements===S&&this.selectedElementsCache.selectedElementIds===H.selectedElementIds){var q=this.selectedElementsCache.cache.get(x);if(q)return q}else(H==null?void 0:H.elements)==null&&this.selectedElementsCache.cache.clear();var ve=(0,M.eD)(S,{selectedElementIds:H.selectedElementIds},H);return(H==null?void 0:H.elements)==null&&(this.selectedElementsCache.selectedElementIds=H.selectedElementIds,this.selectedElementsCache.elements=this.nonDeletedElements,this.selectedElementsCache.cache.set(x,ve)),ve}},{key:"getNonDeletedFrames",value:function(){return this.nonDeletedFrames}},{key:"getElement",value:function(H){return this.elementsMap.get(H)||null}},{key:"getVersionNonce",value:function(){return this.versionNonce}},{key:"getNonDeletedElement",value:function(H){var x=this.getElement(H);return x&&(0,w.qP)(x)?x:null}},{key:"mapElements",value:function(H){var x=!1,S=this.elements.map(function(q){var ve=H(q);return ve!==q&&(x=!0),ve});return x&&this.replaceAllElements(S),x}},{key:"replaceAllElements",value:function(H){var x=this;this.elements=H;var S=[];this.elementsMap.clear(),H.forEach(function(q){(0,N.He)(q)&&S.push(q),x.elementsMap.set(q.id,q),L.mapElementToScene(q,x)}),this.nonDeletedElements=(0,w.Lm)(this.elements),this.frames=S,this.nonDeletedFrames=(0,w.Xf)(this.frames),this.informMutation()}},{key:"informMutation",value:function(){this.versionNonce=(0,f.LU)();for(var H=0,x=Array.from(this.callbacks);H<x.length;H++)(0,x[H])()}},{key:"addCallback",value:function(H){var x=this;if(this.callbacks.has(H))throw new Error;return this.callbacks.add(H),function(){if(!x.callbacks.has(H))throw new Error;x.callbacks.delete(H)}}},{key:"destroy",value:function(){var H=this;this.nonDeletedElements=[],this.elements=[],this.nonDeletedFrames=[],this.frames=[],this.elementsMap.clear(),this.selectedElementsCache.selectedElementIds=null,this.selectedElementsCache.elements=null,this.selectedElementsCache.cache.clear(),L.sceneMapById.forEach(function(x,S){x===H&&L.sceneMapById.delete(S)}),this.callbacks.clear()}},{key:"insertElementAtIndex",value:function(H,x){if(!Number.isFinite(x)||x<0)throw new Error("insertElementAtIndex can only be called with index >= 0");var S=[].concat((0,A.Z)(this.elements.slice(0,x)),[H],(0,A.Z)(this.elements.slice(x)));this.replaceAllElements(S)}},{key:"insertElementsAtIndex",value:function(H,x){if(!Number.isFinite(x)||x<0)throw new Error("insertElementAtIndex can only be called with index >= 0");var S=[].concat((0,A.Z)(this.elements.slice(0,x)),(0,A.Z)(H),(0,A.Z)(this.elements.slice(x)));this.replaceAllElements(S)}},{key:"getElementIndex",value:function(H){return this.elements.findIndex(function(x){return x.id===H})}}],[{key:"mapElementToScene",value:function(H,x){var S=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(d(H)){if(!S)return;this.sceneMapById.set(H,x)}else this.sceneMapByElement.set(H,x),S||this.sceneMapById.set(H.id,x)}},{key:"getScene",value:function(H){return d(H)?this.sceneMapById.get(H)||null:this.sceneMapByElement.get(H)||null}}]),L}();j.sceneMapByElement=new WeakMap,j.sceneMapById=new Map,n.Z=j},6049:function(ue,n,r){r.d(n,{Z:function(){return Se},i:function(){return J}});var A=r(1930),k=r(2577),b=r(7169),w=r(7651),N=r(2361),M=r(9660),f=r(9827),d=r(1493),j=r(9937),L=r(4183),H=r(1648);function x(Q,K){var T=Object.keys(Q);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(Q);K&&(B=B.filter(function(O){return Object.getOwnPropertyDescriptor(Q,O).enumerable})),T.push.apply(T,B)}return T}function S(Q){for(var K=1;K<arguments.length;K++){var T=arguments[K]!=null?arguments[K]:{};K%2?x(Object(T),!0).forEach(function(B){(0,b.Z)(Q,B,T[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Q,Object.getOwnPropertyDescriptors(T)):x(Object(T)).forEach(function(B){Object.defineProperty(Q,B,Object.getOwnPropertyDescriptor(T,B))})}return Q}var q=function(Q){return[8,8+Q]},ve=function(Q){return[1.5,6+Q]};function ke(Q){var K=Q.roughness,T=Math.max(Q.width,Q.height),B=Math.min(Q.width,Q.height);return B>=20&&T>=50||B>=15&&Q.roundness&&(0,H.sh)(Q.type)||(0,L.bt)(Q)&&T>=50?K:Math.min(K/(T<10?3:2),2.5)}var Se=function(Q){var K=arguments.length>1&&arguments[1]!==void 0&&arguments[1],T={seed:Q.seed,strokeLineDash:Q.strokeStyle==="dashed"?q(Q.strokeWidth):Q.strokeStyle==="dotted"?ve(Q.strokeWidth):void 0,disableMultiStroke:Q.strokeStyle!=="solid",strokeWidth:Q.strokeStyle!=="solid"?Q.strokeWidth+.5:Q.strokeWidth,fillWeight:Q.strokeWidth/2,hachureGap:4*Q.strokeWidth,roughness:ke(Q),stroke:Q.strokeColor,preserveVertices:K||Q.roughness<j.$h.cartoonist};switch(Q.type){case"rectangle":case"embeddable":case"diamond":case"ellipse":return T.fillStyle=Q.fillStyle,T.fill=(0,f.Qm)(Q.backgroundColor)?void 0:Q.backgroundColor,Q.type==="ellipse"&&(T.curveFitting=1),T;case"line":case"freedraw":return(0,N.g6)(Q.points)&&(T.fillStyle=Q.fillStyle,T.fill=Q.backgroundColor==="transparent"?void 0:Q.backgroundColor),T;case"arrow":return T;default:throw new Error("Unimplemented type ".concat(Q.type))}},ge=function(Q,K){return Q.type==="embeddable"&&(K||!Q.validated)&&(0,f.Qm)(Q.backgroundColor)&&(0,f.Qm)(Q.strokeColor)?S(S({},Q),{},{roughness:0,backgroundColor:"#d3d3d3",fillStyle:"solid"}):Q},J=function(Q,K){var T=arguments.length>2&&arguments[2]!==void 0&&arguments[2];switch(Q.type){case"rectangle":case"embeddable":var B;if(Q.roundness){var O=Q.width,R=Q.height,E=(0,N.yW)(Math.min(O,R),Q);B=K.path("M ".concat(E," 0 L ").concat(O-E," 0 Q ").concat(O," 0, ").concat(O," ").concat(E," L ").concat(O," ").concat(R-E," Q ").concat(O," ").concat(R,", ").concat(O-E," ").concat(R," L ").concat(E," ").concat(R," Q 0 ").concat(R,", 0 ").concat(R-E," L 0 ").concat(E," Q 0 0, ").concat(E," 0"),Se(ge(Q,T),!0))}else B=K.rectangle(0,0,Q.width,Q.height,Se(ge(Q,T),!1));return B;case"diamond":var v,i=(0,w.UC)(Q),a=(0,k.Z)(i,8),y=a[0],h=a[1],m=a[2],C=a[3],U=a[4],V=a[5],D=a[6],P=a[7];if(Q.roundness){var F=(0,N.yW)(Math.abs(y-D),Q),X=(0,N.yW)(Math.abs(C-h),Q);v=K.path("M ".concat(y+F," ").concat(h+X," L ").concat(m-F," ").concat(C-X,`
            C `).concat(m," ").concat(C,", ").concat(m," ").concat(C,", ").concat(m-F," ").concat(C+X,`
            L `).concat(U+F," ").concat(V-X,`
            C `).concat(U," ").concat(V,", ").concat(U," ").concat(V,", ").concat(U-F," ").concat(V-X,`
            L `).concat(D+F," ").concat(P+X,`
            C `).concat(D," ").concat(P,", ").concat(D," ").concat(P,", ").concat(D+F," ").concat(P-X,`
            L `).concat(y-F," ").concat(h+X,`
            C `).concat(y," ").concat(h,", ").concat(y," ").concat(h,", ").concat(y+F," ").concat(h+X),Se(Q,!0))}else v=K.polygon([[y,h],[m,C],[U,V],[D,P]],Se(Q));return v;case"ellipse":var le=K.ellipse(Q.width/2,Q.height/2,Q.width,Q.height,Se(Q));return le;case"line":case"arrow":var de,fe=Se(Q),pe=Q.points.length?Q.points:[[0,0]];if(de=Q.roundness?[K.curve(pe,fe)]:fe.fill?[K.polygon(pe,fe)]:[K.linearPath(pe,fe)],Q.type==="arrow"){var ne=Q.startArrowhead,oe=ne===void 0?null:ne,be=Q.endArrowhead,Me=be===void 0?"arrow":be,Ge=function(xe,Z,u,g){var z=(0,w.Y5)(xe,Z,u,g);if(z===null)return[];if(g==="dot"){var Y=(0,k.Z)(z,3),te=Y[0],ae=Y[1],ce=Y[2];return[K.circle(te,ae,ce,S(S({},fe),{},{fill:xe.strokeColor,fillStyle:"solid",stroke:"none"}))]}if(g==="triangle"){var ye=(0,k.Z)(z,6),je=ye[0],Be=ye[1],Qe=ye[2],rt=ye[3],Ye=ye[4],tt=ye[5];return delete fe.strokeLineDash,[K.polygon([[je,Be],[Qe,rt],[Ye,tt],[je,Be]],S(S({},fe),{},{fill:xe.strokeColor,fillStyle:"solid"}))]}var ht=(0,k.Z)(z,6),gt=ht[0],Ue=ht[1],Ce=ht[2],Le=ht[3],et=ht[4],ft=ht[5];if(xe.strokeStyle==="dotted"){var xt=ve(xe.strokeWidth-1);fe.strokeLineDash=[xt[0],xt[1]-1]}else delete fe.strokeLineDash;return[K.line(Ce,Le,gt,Ue,fe),K.line(et,ft,gt,Ue,fe)]};if(oe!==null){var qe,Ne=Ge(Q,de,"start",oe);(qe=de).push.apply(qe,(0,A.Z)(Ne))}if(Me!==null){var Pe,Re=Ge(Q,de,"end",Me);(Pe=de).push.apply(Pe,(0,A.Z)(Re))}}return de;case"freedraw":var Ze;if((0,M.Lc)(Q),(0,N.g6)(Q.points)){var Ie=(0,d.og)(Q.points,.75);Ze=K.curve(Ie,S(S({},Se(Q)),{},{stroke:"none"}))}else Ze=null;return Ze;case"frame":case"text":case"image":var Ee=null;return Ee;default:return(0,f.vE)(Q,"generateElementShape(): Unimplemented type ".concat(Q==null?void 0:Q.type)),null}}},2921:function(ue,n,r){r.d(n,{R:function(){return M}});var A=r(5169),k=r(8821),b=r(8128),w=r(9660),N=r(6049),M=(0,A.Z)(function f(){(0,k.Z)(this,f)});M.rg=new b.V,M.cache=new WeakMap,M.get=function(f){return M.cache.get(f)},M.set=function(f,d){return M.cache.set(f,d)},M.delete=function(f){return M.cache.delete(f)},M.destroy=function(){M.cache=new WeakMap},M.generateElementShape=function(f){var d=arguments.length>1&&arguments[1]!==void 0&&arguments[1],j=d?void 0:M.get(f);if(j!==void 0)return j;w.Xx.delete(f);var L=(0,N.i)(f,M.rg,d);return M.cache.set(f,L),L}},1648:function(ue,n,r){r.d(n,{$b:function(){return k},CJ:function(){return j},M9:function(){return N},PD:function(){return b},QG:function(){return d},Un:function(){return f},Zd:function(){return w},sh:function(){return M}});var A=r(4183),k=function(L){return L==="rectangle"||L==="embeddable"||L==="ellipse"||L==="diamond"||L==="line"||L==="freedraw"},b=function(L){return L!=="image"&&L!=="frame"},w=function(L){return L==="rectangle"||L==="embeddable"||L==="ellipse"||L==="diamond"||L==="freedraw"||L==="arrow"||L==="line"},N=function(L){return L==="rectangle"||L==="embeddable"||L==="ellipse"||L==="diamond"||L==="arrow"||L==="line"},M=function(L){return L==="rectangle"||L==="embeddable"||L==="arrow"||L==="line"||L==="diamond"},f=function(L){return L==="arrow"},d=function(L,H){for(var x=null,S=L.length-1;S>=0;--S){var q=L[S];if(!q.isDeleted&&H(q)){x=q;break}}return x},j=function(L,H){var x=[];return L.filter(function(S){return!(S.isDeleted||!H(S))&&(!(0,A.gs)(S)||(x.push(S),!1))}).concat(x)}},3668:function(ue,n,r){r.d(n,{$D:function(){return i},Cg:function(){return y},NL:function(){return v}});var A=r(7169),k=r(2577),b=r(8950),w=r(2975),N=r.n(w),M=r(9845),f=r(4949),d=r(7766),j=r(9827),L=r(9937),H=r(6853),x=r(4419),S=r(4178),q=r(6013),ve=r(4682),ke=r(7651),Se=r(583),ge=r(457);function J(h,m){var C=Object.keys(h);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(h);m&&(U=U.filter(function(V){return Object.getOwnPropertyDescriptor(h,V).enumerable})),C.push.apply(C,U)}return C}function Q(h){for(var m=1;m<arguments.length;m++){var C=arguments[m]!=null?arguments[m]:{};m%2?J(Object(C),!0).forEach(function(U){(0,A.Z)(h,U,C[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(C)):J(Object(C)).forEach(function(U){Object.defineProperty(h,U,Object.getOwnPropertyDescriptor(C,U))})}return h}function K(h,m){var C=typeof Symbol<"u"&&h[Symbol.iterator]||h["@@iterator"];if(!C){if(Array.isArray(h)||(C=function(X,le){if(X){if(typeof X=="string")return T(X,le);var de=Object.prototype.toString.call(X).slice(8,-1);if(de==="Object"&&X.constructor&&(de=X.constructor.name),de==="Map"||de==="Set")return Array.from(X);if(de==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(de))return T(X,le)}}(h))||m){C&&(h=C);var U=0,V=function(){};return{s:V,n:function(){return U>=h.length?{done:!0}:{done:!1,value:h[U++]}},e:function(X){throw X},f:V}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var D,P=!0,F=!1;return{s:function(){C=C.call(h)},n:function(){var X=C.next();return P=X.done,X},e:function(X){F=!0,D=X},f:function(){try{P||C.return==null||C.return()}finally{if(F)throw D}}}}function T(h,m){(m==null||m>h.length)&&(m=h.length);for(var C=0,U=new Array(m);C<m;C++)U[C]=h[C];return U}var B=function(h){var m=new ge.Z;return m.replaceAllElements((0,j.xU)(h),!1),m},O=function(h,m){if(h.width<=m)return h;var C=document.createElement("canvas").getContext("2d");C.font=(0,j.mO)({fontFamily:h.fontFamily,fontSize:h.fontSize});var U=h.text;if(C.measureText(U).width>m)for(var V=U.length;V>0;V--){var D="".concat(U.slice(0,V),"...");if(C.measureText(D).width<=m){U=D;break}}return(0,Se.BE)(h,{text:U,width:m})},R=function(h,m){return m=m||(0,H.im)().frameRendering,{enabled:!!h||m.enabled,outline:!h&&m.outline,name:!h&&m.name,clip:!!h||m.clip}},E=function(h){var m=h.elements,C=h.exportingFrame,U=h.frameRendering,V=h.exportWithDarkMode;return C?(0,q.Xs)({elements:m,bounds:C,type:"overlap"}):U.enabled&&U.name?function(D,P){var F,X=[],le=0,de=K(D);try{for(de.s();!(F=de.n()).done;){var fe=F.value;if((0,ke.He)(fe)){le++;var pe=(0,ke.VL)({x:fe.x,y:fe.y-L.iG.nameOffsetY,fontFamily:L.ut.Assistant,fontSize:L.iG.nameFontSize,lineHeight:L.iG.nameLineHeight,strokeColor:P.exportWithDarkMode?L.iG.nameColorDarkTheme:L.iG.nameColorLightTheme,text:fe.name||"Frame ".concat(le)});pe.y-=pe.height,pe=O(pe,fe.width),X.push(pe)}X.push(fe)}}catch(ne){de.e(ne)}finally{de.f()}return X}(m,{exportWithDarkMode:V}):m},v=function(){var h=(0,b.Z)(N().mark(function m(C,U,V,D){var P,F,X,le,de,fe,pe,ne,oe,be,Me,Ge,qe,Ne,Pe,Re,Ze,Ie,Ee,xe,Z,u,g,z=arguments;return N().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return F=D.exportBackground,X=D.exportPadding,le=X===void 0?L.qy:X,de=D.viewBackgroundColor,fe=D.exportingFrame,pe=z.length>4&&z[4]!==void 0?z[4]:function(te,ae){var ce=document.createElement("canvas");return ce.width=te*U.exportScale,ce.height=ae*U.exportScale,{canvas:ce,scale:U.exportScale}},ne=B(C),C=ne.getNonDeletedElements(),oe=R(fe??null,(P=U.frameRendering)!==null&&P!==void 0?P:null),be=E({elements:C,exportingFrame:fe,exportWithDarkMode:U.exportWithDarkMode,frameRendering:oe}),fe&&(le=0),Me=a(fe?[fe]:(0,ve._h)(be),le),Ge=(0,k.Z)(Me,4),qe=Ge[0],Ne=Ge[1],Pe=Ge[2],Re=Ge[3],Ze=pe(Pe,Re),Ie=Ze.canvas,Ee=Ze.scale,xe=Ee===void 0?1:Ee,Z=(0,H.im)(),Y.next=12,(0,S.Xx)({imageCache:new Map,fileIds:(0,S.oA)(be).map(function(te){return te.fileId}),files:V});case 12:return u=Y.sent,g=u.imageCache,(0,d.AW)({canvas:Ie,rc:M.Z.canvas(Ie),elements:be,visibleElements:be,scale:xe,appState:Q(Q({},U),{},{frameRendering:oe,viewBackgroundColor:F?de:null,scrollX:-qe+le,scrollY:-Ne+le,zoom:Z.zoom,shouldCacheIgnoreZoom:!1,theme:U.exportWithDarkMode?"dark":"light"}),renderConfig:{imageCache:g,renderGrid:!1,isExporting:!0}}),ne.destroy(),Y.abrupt("return",Ie);case 17:case"end":return Y.stop()}},m)}));return function(m,C,U,V){return h.apply(this,arguments)}}(),i=function(){var h=(0,b.Z)(N().mark(function m(C,U,V,D){var P,F,X,le,de,fe,pe,ne,oe,be,Me,Ge,qe,Ne,Pe,Re,Ze,Ie,Ee,xe,Z,u,g,z,Y,te,ae,ce,ye,je,Be,Qe,rt,Ye,tt,ht,gt,Ue,Ce,Le,et,ft,xt;return N().wrap(function(wt){for(;;)switch(wt.prev=wt.next){case 0:if(le=B(C),C=le.getNonDeletedElements(),de=R((P=D==null?void 0:D.exportingFrame)!==null&&P!==void 0?P:null,(F=U.frameRendering)!==null&&F!==void 0?F:null),fe=U.exportPadding,pe=fe===void 0?L.qy:fe,ne=U.exportWithDarkMode,oe=ne!==void 0&&ne,be=U.viewBackgroundColor,Me=U.exportScale,Ge=Me===void 0?1:Me,qe=U.exportEmbedScene,Ne=(D||{}).exportingFrame,Re=E({elements:C,exportingFrame:Pe=Ne===void 0?null:Ne,exportWithDarkMode:oe,frameRendering:de}),Pe&&(pe=0),Ze="",!qe){wt.next=20;break}return wt.prev=9,wt.next=12,Promise.resolve().then(r.bind(r,250));case 12:return wt.next=14,wt.sent.encodeSvgMetadata({text:(0,x.I_)(C,U,V||{},"local")});case 14:Ze=wt.sent,wt.next=20;break;case 17:wt.prev=17,wt.t0=wt.catch(9),console.error(wt.t0);case 20:Ie=a(Pe?[Pe]:(0,ve._h)(Re),pe),Ee=(0,k.Z)(Ie,4),xe=Ee[0],Z=Ee[1],u=Ee[2],g=Ee[3],(z=document.createElementNS(L.hR,"svg")).setAttribute("version","1.1"),z.setAttribute("xmlns",L.hR),z.setAttribute("viewBox","0 0 ".concat(u," ").concat(g)),z.setAttribute("width","".concat(u*Ge)),z.setAttribute("height","".concat(g*Ge)),oe&&z.setAttribute("filter",L.ZF),Y="https://excalidraw.com/",Y=window.EXCALIDRAW_ASSET_PATH||"https://unpkg.com/".concat("@excalidraw/excalidraw","@").concat({}.PKG_VERSION),(te=Y)!==null&&te!==void 0&&te.startsWith("/")&&(Y=Y.replace("/","".concat(window.location.origin,"/"))),Y="".concat(Y,"/dist/excalidraw-assets/"),ae=-xe+pe,ce=-Z+pe,ye=(0,ve.wO)(C),je="",Be=K(ye);try{for(Be.s();!(Qe=Be.n()).done;)rt=Qe.value,Ye=(0,f.qf)(rt),tt=(0,k.Z)(Ye,4),ht=tt[0],gt=tt[1],Ue=tt[2],Ce=tt[3],Le=(Ue-ht)/2-(rt.x-ht),et=(Ce-gt)/2-(rt.y-gt),je+="<clipPath id=".concat(rt.id,`>
            <rect transform="translate(`).concat(rt.x+ae," ").concat(rt.y+ce,") rotate(").concat(rt.angle," ").concat(Le," ").concat(et,`)"
          width="`).concat(rt.width,`"
          height="`).concat(rt.height,`"
          >
          </rect>
        </clipPath>`)}catch(Rt){Be.e(Rt)}finally{Be.f()}return z.innerHTML=`
  `.concat("<!-- svg-source:excalidraw -->",`
  `).concat(Ze,`
  <defs>
    <style class="style-fonts">
      @font-face {
        font-family: "Virgil";
        src: url("`).concat(Y,`Virgil.woff2");
      }
      @font-face {
        font-family: "Cascadia";
        src: url("`).concat(Y,`Cascadia.woff2");
      }
      @font-face {
        font-family: "Assistant";
        src: url("`).concat(Y,`Assistant-Regular.woff2");
      }
    </style>
    `).concat(je,`
  </defs>
  `),U.exportBackground&&be&&((ft=z.ownerDocument.createElementNS(L.hR,"rect")).setAttribute("x","0"),ft.setAttribute("y","0"),ft.setAttribute("width","".concat(u)),ft.setAttribute("height","".concat(g)),ft.setAttribute("fill",be),z.appendChild(ft)),xt=M.Z.svg(z),(0,d.M_)(Re,xt,z,V||{},{offsetX:ae,offsetY:ce,exportWithDarkMode:oe,renderEmbeddables:(X=D==null?void 0:D.renderEmbeddables)!==null&&X!==void 0&&X,frameRendering:de}),le.destroy(),wt.abrupt("return",z);case 42:case"end":return wt.stop()}},m,null,[[9,17]])}));return function(m,C,U,V){return h.apply(this,arguments)}}(),a=function(h,m){var C=(0,f.KP)(h),U=(0,k.Z)(C,4),V=U[0],D=U[1],P=U[2],F=U[3];return[V,D,(0,j.TE)(V,P)+2*m,(0,j.TE)(D,F)+2*m]},y=function(h,m,C){var U=a(h,m).map(function(D){return Math.trunc(D*C)}),V=(0,k.Z)(U,4);return[V[2],V[3]]}},4105:function(ue,n,r){r.d(n,{$b:function(){return w.$b},CJ:function(){return w.CJ},M9:function(){return w.M9},N:function(){return k.N},PR:function(){return k.PR},QG:function(){return w.QG},Un:function(){return w.Un},W:function(){return b.W},Yp:function(){return k.Yp},Zd:function(){return w.Zd},Zs:function(){return k.Zs},_4:function(){return A._4},eD:function(){return k.eD},j:function(){return N.j},sh:function(){return w.sh}});var A=r(4726),k=r(6264),b=r(2382),w=r(1648),N=r(4116)},2382:function(ue,n,r){r.d(n,{W:function(){return N},s:function(){return w}});var A=r(2577),k=r(7651),b=r(9827),w=function(M){var f=M.scenePoint,d=M.viewportDimensions,j=M.zoom;return{scrollX:d.width/2/j.value-f.x,scrollY:d.height/2/j.value-f.y}},N=function(M,f){if(!(M=(0,k.n_)(M)).length)return{scrollX:0,scrollY:0};var d=(0,k.KP)(M),j=(0,A.Z)(d,4),L=j[0],H=j[1],x=j[2],S=j[3];if(function(ke,Se){var ge=(0,A.Z)(Se,4),J=ge[0],Q=ge[1],K=ge[2],T=ge[3],B=(0,b._i)({sceneX:J,sceneY:Q},ke),O=B.x,R=B.y,E=(0,b._i)({sceneX:K,sceneY:T},ke),v=E.x,i=E.y;return v-O>ke.width||i-R>ke.height}(f,[L,H,x,S])){var q=(0,k.os)(M,(0,b.dE)({clientX:f.scrollX,clientY:f.scrollY},f)),ve=(0,A.Z)(q,4);L=ve[0],H=ve[1],x=ve[2],S=ve[3]}return w({scenePoint:{x:(L+x)/2,y:(H+S)/2},viewportDimensions:{width:f.width,height:f.height},zoom:f.zoom})}},4726:function(ue,n,r){r.d(n,{WM:function(){return N},_4:function(){return j},nn:function(){return M},tJ:function(){return d},w1:function(){return f}});var A=r(2577),k=r(7651),b=r(9827),w=r(8227),N=4,M=6,f="rgba(0,0,0,0.3)",d=function(L,H,x,S){if(L.length===0)return{horizontal:null,vertical:null};var q=(0,k.KP)(L),ve=(0,A.Z)(q,4),ke=ve[0],Se=ve[1],ge=ve[2],J=ve[3],Q=H/S.zoom.value,K=x/S.zoom.value,T=H-Q,B=x-K,O={top:parseInt((0,b.IH)("sat"))||0,bottom:parseInt((0,b.IH)("sab"))||0,left:parseInt((0,b.IH)("sal"))||0,right:parseInt((0,b.IH)("sar"))||0},R=(0,w.G3)().rtl,E=-S.scrollX+T/2+O.left,v=-S.scrollY+B/2+O.top,i=E+Q-O.right,a=v+K-O.bottom,y=Math.min(ke,E),h=Math.min(Se,v),m=Math.max(ge,i),C=Math.max(J,a);return{horizontal:E===y&&i===m?null:{x:Math.max(O.left,N)+(E-y)/(m-y)*H,y:x-M-Math.max(N,O.bottom),width:(i-E)/(m-y)*H-Math.max(2*N,O.left+O.right),height:M},vertical:v===h&&a===C?null:{x:R?Math.max(O.left,N):H-M-Math.max(O.right,N),y:(v-h)/(C-h)*x+Math.max(O.top,N),width:M,height:(a-v)/(C-h)*x-Math.max(2*N,O.top+O.bottom)}}},j=function(L,H,x){var S=[L.horizontal,L.vertical].map(function(Se){return Se!=null&&Se.x<=H&&H<=Se.x+Se.width&&Se.y<=x&&x<=Se.y+Se.height}),q=(0,A.Z)(S,2),ve=q[0],ke=q[1];return{isOverEither:ve||ke,isOverHorizontal:ve,isOverVertical:ke}}},6264:function(ue,n,r){r.d(n,{CF:function(){return S},N:function(){return q},Oh:function(){return ge},PR:function(){return ve},Yp:function(){return x},Zs:function(){return Se},aI:function(){return H},eD:function(){return ke}});var A,k,b,w,N=r(2577),M=r(7651),f=r(4183),d=r(4682),j=r(9827),L=r(7935),H=function(J){var Q=new Set;return J.forEach(function(K){K.type==="frame"&&Q.add(K.id)}),J.filter(function(K){return!K.frameId||!Q.has(K.frameId)})},x=function(J,Q){var K=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],T=(0,M.qf)(Q),B=(0,N.Z)(T,4),O=B[0],R=B[1],E=B[2],v=B[3],i=J.filter(function(a){var y=(0,M.Pi)(a),h=(0,N.Z)(y,4),m=h[0],C=h[1],U=h[2],V=h[3],D=(0,d.$Z)(a);if(D){var P=(0,M.Pi)(D),F=(0,N.Z)(P,4),X=F[0],le=F[1],de=F[2],fe=F[3];m=Math.max(X,m),C=Math.max(le,C),U=Math.min(de,U),V=Math.min(fe,V)}return a.locked===!1&&a.type!=="selection"&&!(0,f.Xh)(a)&&O<=m&&R<=C&&E>=U&&v>=V});return i=(i=K?H(i):i).filter(function(a){var y=(0,d.$Z)(a);return!y||(0,d.cO)(a,y)})},S=function(J,Q,K){var T=new Set(Q.map(function(B){return B.id}));return J.filter(function(B){var O=(0,L.PZ)(B,K.width,K.height,K);return!T.has(B.id)&&O})},q=(A=null,k=null,b=null,(w=function(J,Q){return b!=null&&J===A&&Q.selectedElementIds===k||(b=J.some(function(K){return Q.selectedElementIds[K.id]}),A=J,k=Q.selectedElementIds),b}).clearCache=function(){A=null,k=null,b=null},w),ve=function(J,Q,K){var T=Array.from(new Set(ke(J,Q).map(function(B){return K(B)})));return T.length===1?T[0]:null},ke=function(J,Q,K){var T=J.filter(function(O){return Q.selectedElementIds[O.id]||K!=null&&K.includeBoundTextElement&&(0,f.Xh)(O)&&Q.selectedElementIds[O==null?void 0:O.containerId]?O:null});if(K!=null&&K.includeElementsInFrames){var B=[];return T.forEach(function(O){O.type==="frame"&&(0,d.zD)(J,O.id).forEach(function(R){return B.push(R)}),B.push(O)}),B}return T},Se=function(J,Q){return Q.editingElement?[Q.editingElement]:ke(J,Q,{includeBoundTextElement:!0})},ge=function(J,Q){return(0,j.w8)(Q.selectedElementIds,J)?Q.selectedElementIds:J}},4116:function(ue,n,r){r.d(n,{E:function(){return b},j:function(){return k}});var A=r(9937),k=function(w){return Math.max(A.Zj,Math.min(w,30))},b=function(w,N){var M=w.viewportX,f=w.viewportY,d=w.nextZoom,j=M-N.offsetLeft,L=f-N.offsetTop,H=N.zoom.value;return{scrollX:N.scrollX+(j-j/H)+-(j-j/d),scrollY:N.scrollY+(L-L/H)+-(L-L/d),zoom:{value:d}}}},9827:function(ue,n,r){r.d(n,{$9:function(){return fe},$g:function(){return Q},$h:function(){return Re},AK:function(){return D},B4:function(){return E},C3:function(){return be},Ds:function(){return T},FG:function(){return P},Fc:function(){return q},G3:function(){return oe},G9:function(){return g},HP:function(){return u},I4:function(){return Ge},IH:function(){return C},Ip:function(){return pe},Mj:function(){return xe},Om:function(){return a},Oo:function(){return ve},Qm:function(){return le},TE:function(){return i},Vv:function(){return O},XF:function(){return z},_Z:function(){return Se},_i:function(){return m},ag:function(){return Ne},cx:function(){return F},dE:function(){return h},dZ:function(){return V},h2:function(){return qe},hR:function(){return B},mO:function(){return K},qr:function(){return X},qz:function(){return ne},s:function(){return J},tH:function(){return de},uY:function(){return y},v4:function(){return Pe},vE:function(){return Z},w8:function(){return Ee},wO:function(){return ke},xU:function(){return Y},xn:function(){return Me},xp:function(){return Ie},y1:function(){return ge},y8:function(){return Ze},yo:function(){return v}});var A=r(6655),k=r(7169),b=r(1930),w=r(2577),N=r(9240),M=r(9937),f=r(5156),d=r(9787),j=r.n(d);function L(te,ae){var ce=typeof Symbol<"u"&&te[Symbol.iterator]||te["@@iterator"];if(!ce){if(Array.isArray(te)||(ce=function(Ye,tt){if(Ye){if(typeof Ye=="string")return H(Ye,tt);var ht=Object.prototype.toString.call(Ye).slice(8,-1);if(ht==="Object"&&Ye.constructor&&(ht=Ye.constructor.name),ht==="Map"||ht==="Set")return Array.from(Ye);if(ht==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ht))return H(Ye,tt)}}(te))||ae){ce&&(te=ce);var ye=0,je=function(){};return{s:je,n:function(){return ye>=te.length?{done:!0}:{done:!1,value:te[ye++]}},e:function(Ye){throw Ye},f:je}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Be,Qe=!0,rt=!1;return{s:function(){ce=ce.call(te)},n:function(){var Ye=ce.next();return Qe=Ye.done,Ye},e:function(Ye){rt=!0,Be=Ye},f:function(){try{Qe||ce.return==null||ce.return()}finally{if(rt)throw Be}}}}function H(te,ae){(ae==null||ae>te.length)&&(ae=te.length);for(var ce=0,ye=new Array(ae);ce<ae;ce++)ye[ce]=te[ce];return ye}function x(te,ae){var ce=Object.keys(te);if(Object.getOwnPropertySymbols){var ye=Object.getOwnPropertySymbols(te);ae&&(ye=ye.filter(function(je){return Object.getOwnPropertyDescriptor(te,je).enumerable})),ce.push.apply(ce,ye)}return ce}function S(te){for(var ae=1;ae<arguments.length;ae++){var ce=arguments[ae]!=null?arguments[ae]:{};ae%2?x(Object(ce),!0).forEach(function(ye){(0,k.Z)(te,ye,ce[ye])}):Object.getOwnPropertyDescriptors?Object.defineProperties(te,Object.getOwnPropertyDescriptors(ce)):x(Object(ce)).forEach(function(ye){Object.defineProperty(te,ye,Object.getOwnPropertyDescriptor(ce,ye))})}return te}var q=function(){var te=new Date,ae=te.getFullYear(),ce="".concat(te.getMonth()+1).padStart(2,"0"),ye="".concat(te.getDate()).padStart(2,"0"),je="".concat(te.getHours()).padStart(2,"0"),Be="".concat(te.getMinutes()).padStart(2,"0");return"".concat(ae,"-").concat(ce,"-").concat(ye,"-").concat(je).concat(Be)},ve=function(te){return te.charAt(0).toUpperCase()+te.slice(1)},ke=function(te){return te instanceof HTMLElement&&te.className.includes("ToolIcon")},Se=function(te){return te instanceof HTMLElement&&te.dataset.type==="wysiwyg"||te instanceof HTMLBRElement||te instanceof HTMLInputElement||te instanceof HTMLTextAreaElement||te instanceof HTMLSelectElement},ge=function(te){return Se(te)||te instanceof Element&&!!te.closest("label, button")},J=function(te){return te instanceof HTMLElement&&te.dataset.type==="wysiwyg"||te instanceof HTMLBRElement||te instanceof HTMLTextAreaElement||te instanceof HTMLInputElement&&(te.type==="text"||te.type==="number")},Q=function(te){for(var ae=te.fontFamily,ce=0,ye=Object.entries(M.ut);ce<ye.length;ce++){var je=(0,w.Z)(ye[ce],2),Be=je[0];if(je[1]===ae)return"".concat(Be,", ").concat(M._D)}return M._D},K=function(te){var ae=te.fontSize,ce=te.fontFamily;return"".concat(ae,"px ").concat(Q({fontFamily:ce}))},T=function(te,ae){var ce=0,ye=null,je=function(){for(var Be=arguments.length,Qe=new Array(Be),rt=0;rt<Be;rt++)Qe[rt]=arguments[rt];ye=Qe,clearTimeout(ce),ce=window.setTimeout(function(){ye=null,te.apply(void 0,Qe)},ae)};return je.flush=function(){if(clearTimeout(ce),ye){var Be=ye;ye=null,te.apply(void 0,(0,b.Z)(Be))}},je.cancel=function(){ye=null,clearTimeout(ce)},je},B=function(te,ae){var ce=null,ye=null,je=null,Be=function rt(Ye){ce=window.requestAnimationFrame(function(){ce=null,te.apply(void 0,(0,b.Z)(Ye)),ye=null,je&&(ye=je,je=null,rt(ye))})},Qe=function(){for(var rt=arguments.length,Ye=new Array(rt),tt=0;tt<rt;tt++)Ye[tt]=arguments[tt];ye=Ye,ce===null?Be(ye):ae!=null&&ae.trailing&&(je=Ye)};return Qe.flush=function(){ce!==null&&(cancelAnimationFrame(ce),ce=null),ye&&(te.apply(void 0,(0,b.Z)(je||ye)),ye=je=null)},Qe.cancel=function(){ye=je=null,ce!==null&&(cancelAnimationFrame(ce),ce=null)},Qe},O=function(te){return 1-Math.pow(1-te,4)},R=function(te,ae,ce){return(ae-te)*O(ce)+te},E=function(te){var ae,ce=te.fromValues,ye=te.toValues,je=te.onStep,Be=te.duration,Qe=Be===void 0?250:Be,rt=te.interpolateValue,Ye=te.onStart,tt=te.onEnd,ht=te.onCancel,gt=!1,Ue=0;return Ue=window.requestAnimationFrame(function Ce(Le){if(!gt){ae===void 0&&(ae=Le,Ye==null||Ye());var et=Math.min(Le-ae,Qe),ft=O(et/Qe),xt={};if(Object.keys(ce).forEach(function(It){var At=It,Xt=(ye[At]-ce[At])*ft+ce[At];xt[At]=Xt}),je(xt),et<Qe){var wt=et/Qe,Rt={};Object.keys(ce).forEach(function(It){var At,Xt=It,tr=ce[Xt],Gt=ye[Xt];(At=rt?rt(tr,Gt,wt,Xt):R(tr,Gt,wt))==null&&(At=R(tr,Gt,wt)),Rt[Xt]=At}),je(Rt),Ue=window.requestAnimationFrame(Ce)}else je(ye),tt==null||tt()}}),function(){ht==null||ht(),gt=!0,window.cancelAnimationFrame(Ue)}},v=function(te,ae){if(!te.length||ae<1)return[];for(var ce=0,ye=0,je=Array(Math.ceil(te.length/ae));ce<te.length;)je[ye++]=te.slice(ce,ce+=ae);return je},i=function(te,ae){return Math.abs(te-ae)},a=function(te,ae){var ce,ye;return ae.type==="custom"?S(S({},te.activeTool),{},{type:"custom",customType:ae.customType,locked:(ye=ae.locked)!==null&&ye!==void 0?ye:te.activeTool.locked}):S(S({},te.activeTool),{},{lastActiveTool:ae.lastActiveToolBeforeEraser===void 0?te.activeTool.lastActiveTool:ae.lastActiveToolBeforeEraser,type:ae.type,customType:null,locked:(ce=ae.locked)!==null&&ce!==void 0?ce:te.activeTool.locked})},y=function(te){return te=te.replace(/\bAlt\b/i,"Alt").replace(/\bShift\b/i,"Shift").replace(/\b(Enter|Return)\b/i,"Enter"),M.Um?te.replace(/\bCtrlOrCmd\b/gi,"Cmd").replace(/\bAlt\b/i,"Option"):te.replace(/\bCtrlOrCmd\b/gi,"Ctrl")},h=function(te,ae){var ce=te.clientX,ye=te.clientY,je=ae.zoom,Be=ae.offsetLeft,Qe=ae.offsetTop,rt=ae.scrollX,Ye=ae.scrollY;return{x:(ce-Be)/je.value-rt,y:(ye-Qe)/je.value-Ye}},m=function(te,ae){var ce=te.sceneX,ye=te.sceneY,je=ae.zoom,Be=ae.offsetLeft,Qe=ae.offsetTop,rt=ae.scrollX,Ye=ae.scrollY;return{x:(ce+rt)*je.value+Be,y:(ye+Ye)*je.value+Qe}},C=function(te){return getComputedStyle(document.documentElement).getPropertyValue("--".concat(te))},U=new RegExp("^[^".concat("A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿Ⰰ-﬜﷾-﹯﻽-￿","]*[").concat("֑-߿יִ-﷽ﹰ-ﻼ","]")),V=function(te){return U.test(te)},D=function(te){var ae=(0,w.Z)(te,2);return{x:ae[0],y:ae[1]}},P=function(te){if((te==null?void 0:te.name)!=="AbortError")throw te;console.warn(te)},F=function(te,ae){var ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;ce<0&&(ce=te.length+ce);for(var ye=(ce=Math.min(te.length,Math.max(ce,0)))-1;++ye<te.length;)if(ae(te[ye],ye,te))return ye;return-1},X=function(te,ae){var ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:te.length-1;ce<0&&(ce=te.length+ce);for(var ye=(ce=Math.min(te.length-1,Math.max(ce,0)))+1;--ye>-1;)if(ae(te[ye],ye,te))return ye;return-1},le=function(te){var ae=te.length===5&&te.substr(4,1)==="0",ce=te.length===9&&te.substr(7,2)==="00";return ae||ce||te===N.HO.transparent},de=function(te){return function(ae){(0,f.unstable_batchedUpdates)(te,ae)}},fe=function(te){return B(function(ae){(0,f.unstable_batchedUpdates)(te,ae)})},pe=function(te){for(var ae=te.parentElement;ae;){if(ae===document.body)return document;var ce=window.getComputedStyle(ae).overflowY;if(ae.scrollHeight>ae.clientHeight&&(ce==="auto"||ce==="scroll"||ce==="overlay"))return ae;ae=ae.parentElement}return document},ne=function(te){for(var ae=te.parentElement;ae;){if(ae.tabIndex>-1)return void ae.focus();ae=ae.parentElement}},oe=function(te){return Array.from(te).map(function(ae){return"0".concat(ae.toString(16)).slice(-2)}).join("")},be=function(){return qe()?1:Date.now()},Me=function(te){return te.reduce(function(ae,ce){return ae.set(typeof ce=="string"?ce:ce.id,ce),ae},new Map)},Ge=function(te){return te.reduce(function(ae,ce,ye){return ae.set(ce.id,[ce,ye]),ae},new Map)},qe=function(){return!1},Ne=function(te,ae){return new CustomEvent(te,{detail:{nativeEvent:ae},cancelable:!0})},Pe=function(te,ae){var ce=!1;for(var ye in ae){var je=ae[ye];if(je!==void 0){if(te[ye]===je&&((0,A.Z)(je)!=="object"||je===null))continue;ce=!0}}return ce?S(S({},te),ae):te},Re=function(){try{return window.self===window.top?"top":"iframe"}catch{return"iframe"}},Ze=function(te){return!!te&&(0,A.Z)(te)==="object"&&"then"in te&&"catch"in te&&"finally"in te},Ie=function(te){var ae=te==null?void 0:te.querySelectorAll("button, a, input, select, textarea, div[tabindex], label[tabindex]");return ae?Array.from(ae).filter(function(ce){return ce.tabIndex>-1&&!ce.disabled}):[]},Ee=function(te,ae,ce){var ye=arguments.length>3&&arguments[3]!==void 0&&arguments[3],je=Object.keys(te),Be=Object.keys(ae);return je.length===Be.length&&je.every(function(Qe){var rt=ce==null?void 0:ce[Qe],Ye=rt?rt(te[Qe],ae[Qe]):te[Qe]===ae[Qe];return!Ye&&ye&&console.info("%cisShallowEqual: ".concat(Qe," not equal ->"),"color: #8B4000",te[Qe],ae[Qe]),Ye})},xe=function(te,ae){var ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ye=ce.checkForDefaultPrevented,je=ye===void 0||ye;return function(Be){if(te==null||te(Be),!je||!Be.defaultPrevented)return ae==null?void 0:ae(Be)}},Z=function(te,ae,ce){if(!ae)return te;if(ce)return console.error(ae),te;throw new Error(ae)},u=function(te){var ae,ce,ye=function(je){var Be=Object.entries(je);if(ae){var Qe,rt=!0,Ye=L(Be);try{for(Ye.s();!(Qe=Ye.n()).done;){var tt=(0,w.Z)(Qe.value,2),ht=tt[0],gt=tt[1];if(ae.get(ht)!==gt){rt=!1;break}}}catch(Ce){Ye.e(Ce)}finally{Ye.f()}if(rt)return ce}var Ue=te(je);return ae=new Map(Be),ce=Ue,Ue};return ye.clear=function(){ae=void 0,ce=void 0},ye},g=function(){var te;try{var ae=j().version.split(".");te=Number(ae[0])>17}catch{te=!1}var ce=!1;return function(){return window.EXCALIDRAW_THROTTLE_RENDER===!0&&(!!te||(ce||(ce=!0,console.warn("Excalidraw: render throttling is disabled on React versions < 18.")),!1))}}(),z=function(te,ae){return te instanceof Set||te instanceof Map?te.has(ae):"includes"in te?te.includes(ae):te.hasOwnProperty(ae)},Y=function(te){return JSON.parse(JSON.stringify(te))}},3041:function(ue,n,r){var A=r(3379),k=r.n(A),b=r(7795),w=r.n(b),N=r(569),M=r.n(N),f=r(3565),d=r.n(f),j=r(9216),L=r.n(j),H=r(4589),x=r.n(H),S=r(2044),q={};q.styleTagTransform=x(),q.setAttributes=d(),q.insert=M().bind(null,"head"),q.domAPI=w(),q.insertStyleElement=L(),k()(S.Z,q),S.Z&&S.Z.locals&&S.Z.locals},3379:function(ue){var n=[];function r(b){for(var w=-1,N=0;N<n.length;N++)if(n[N].identifier===b){w=N;break}return w}function A(b,w){for(var N={},M=[],f=0;f<b.length;f++){var d=b[f],j=w.base?d[0]+w.base:d[0],L=N[j]||0,H="".concat(j," ").concat(L);N[j]=L+1;var x=r(H),S={css:d[1],media:d[2],sourceMap:d[3],supports:d[4],layer:d[5]};if(x!==-1)n[x].references++,n[x].updater(S);else{var q=k(S,w);w.byIndex=f,n.splice(f,0,{identifier:H,updater:q,references:1})}M.push(H)}return M}function k(b,w){var N=w.domAPI(w);return N.update(b),function(M){if(M){if(M.css===b.css&&M.media===b.media&&M.sourceMap===b.sourceMap&&M.supports===b.supports&&M.layer===b.layer)return;N.update(b=M)}else N.remove()}}ue.exports=function(b,w){var N=A(b=b||[],w=w||{});return function(M){M=M||[];for(var f=0;f<N.length;f++){var d=r(N[f]);n[d].references--}for(var j=A(M,w),L=0;L<N.length;L++){var H=r(N[L]);n[H].references===0&&(n[H].updater(),n.splice(H,1))}N=j}}},569:function(ue){var n={};ue.exports=function(r,A){var k=function(b){if(n[b]===void 0){var w=document.querySelector(b);if(window.HTMLIFrameElement&&w instanceof window.HTMLIFrameElement)try{w=w.contentDocument.head}catch{w=null}n[b]=w}return n[b]}(r);if(!k)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");k.appendChild(A)}},9216:function(ue){ue.exports=function(n){var r=document.createElement("style");return n.setAttributes(r,n.attributes),n.insert(r,n.options),r}},3565:function(ue,n,r){ue.exports=function(A){var k=r.nc;k&&A.setAttribute("nonce",k)}},7795:function(ue){ue.exports=function(n){if(typeof document>"u")return{update:function(){},remove:function(){}};var r=n.insertStyleElement(n);return{update:function(A){(function(k,b,w){var N="";w.supports&&(N+="@supports (".concat(w.supports,") {")),w.media&&(N+="@media ".concat(w.media," {"));var M=w.layer!==void 0;M&&(N+="@layer".concat(w.layer.length>0?" ".concat(w.layer):""," {")),N+=w.css,M&&(N+="}"),w.media&&(N+="}"),w.supports&&(N+="}");var f=w.sourceMap;f&&typeof btoa<"u"&&(N+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(f))))," */")),b.styleTagTransform(N,k,b.options)})(r,n,A)},remove:function(){(function(A){if(A.parentNode===null)return!1;A.parentNode.removeChild(A)})(r)}}}},4589:function(ue){ue.exports=function(n,r){if(r.styleSheet)r.styleSheet.cssText=n;else{for(;r.firstChild;)r.removeChild(r.firstChild);r.appendChild(document.createTextNode(n))}}},9669:function(ue){ue.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg=="},7984:function(ue){ue.exports='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="292.4" height="292.4" viewBox="0 0 292 292"><path d="M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/></svg>'},1639:function(ue){ue.exports='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="292.4" height="292.4" viewBox="0 0 292 292"><path fill="%23ced4da" d="M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/></svg>'},9729:function(ue,n,r){ue.exports=r.p+"excalidraw-assets/Assistant-Bold.woff2"},1273:function(ue,n,r){ue.exports=r.p+"excalidraw-assets/Assistant-Medium.woff2"},8303:function(ue,n,r){ue.exports=r.p+"excalidraw-assets/Assistant-Regular.woff2"},9577:function(ue,n,r){ue.exports=r.p+"excalidraw-assets/Assistant-SemiBold.woff2"},3147:function(ue,n,r){ue.exports=r.p+"excalidraw-assets/Cascadia.woff2"},3940:function(ue,n,r){ue.exports=r.p+"excalidraw-assets/Virgil.woff2"},9787:function(ue){ue.exports=t},5156:function(ue){ue.exports=_},1020:function(ue){ue.exports=c},9649:function(ue,n,r){var A=r(8114).default;function k(){ue.exports=k=function(){return b},ue.exports.__esModule=!0,ue.exports.default=ue.exports;var b={},w=Object.prototype,N=w.hasOwnProperty,M=Object.defineProperty||function(h,m,C){h[m]=C.value},f=typeof Symbol=="function"?Symbol:{},d=f.iterator||"@@iterator",j=f.asyncIterator||"@@asyncIterator",L=f.toStringTag||"@@toStringTag";function H(h,m,C){return Object.defineProperty(h,m,{value:C,enumerable:!0,configurable:!0,writable:!0}),h[m]}try{H({},"")}catch{H=function(m,C,U){return m[C]=U}}function x(h,m,C,U){var V=m&&m.prototype instanceof ve?m:ve,D=Object.create(V.prototype),P=new i(U||[]);return M(D,"_invoke",{value:O(h,C,P)}),D}function S(h,m,C){try{return{type:"normal",arg:h.call(m,C)}}catch(U){return{type:"throw",arg:U}}}b.wrap=x;var q={};function ve(){}function ke(){}function Se(){}var ge={};H(ge,d,function(){return this});var J=Object.getPrototypeOf,Q=J&&J(J(a([])));Q&&Q!==w&&N.call(Q,d)&&(ge=Q);var K=Se.prototype=ve.prototype=Object.create(ge);function T(h){["next","throw","return"].forEach(function(m){H(h,m,function(C){return this._invoke(m,C)})})}function B(h,m){function C(V,D,P,F){var X=S(h[V],h,D);if(X.type!=="throw"){var le=X.arg,de=le.value;return de&&A(de)=="object"&&N.call(de,"__await")?m.resolve(de.__await).then(function(fe){C("next",fe,P,F)},function(fe){C("throw",fe,P,F)}):m.resolve(de).then(function(fe){le.value=fe,P(le)},function(fe){return C("throw",fe,P,F)})}F(X.arg)}var U;M(this,"_invoke",{value:function(V,D){function P(){return new m(function(F,X){C(V,D,F,X)})}return U=U?U.then(P,P):P()}})}function O(h,m,C){var U="suspendedStart";return function(V,D){if(U==="executing")throw new Error("Generator is already running");if(U==="completed"){if(V==="throw")throw D;return y()}for(C.method=V,C.arg=D;;){var P=C.delegate;if(P){var F=R(P,C);if(F){if(F===q)continue;return F}}if(C.method==="next")C.sent=C._sent=C.arg;else if(C.method==="throw"){if(U==="suspendedStart")throw U="completed",C.arg;C.dispatchException(C.arg)}else C.method==="return"&&C.abrupt("return",C.arg);U="executing";var X=S(h,m,C);if(X.type==="normal"){if(U=C.done?"completed":"suspendedYield",X.arg===q)continue;return{value:X.arg,done:C.done}}X.type==="throw"&&(U="completed",C.method="throw",C.arg=X.arg)}}}function R(h,m){var C=m.method,U=h.iterator[C];if(U===void 0)return m.delegate=null,C==="throw"&&h.iterator.return&&(m.method="return",m.arg=void 0,R(h,m),m.method==="throw")||C!=="return"&&(m.method="throw",m.arg=new TypeError("The iterator does not provide a '"+C+"' method")),q;var V=S(U,h.iterator,m.arg);if(V.type==="throw")return m.method="throw",m.arg=V.arg,m.delegate=null,q;var D=V.arg;return D?D.done?(m[h.resultName]=D.value,m.next=h.nextLoc,m.method!=="return"&&(m.method="next",m.arg=void 0),m.delegate=null,q):D:(m.method="throw",m.arg=new TypeError("iterator result is not an object"),m.delegate=null,q)}function E(h){var m={tryLoc:h[0]};1 in h&&(m.catchLoc=h[1]),2 in h&&(m.finallyLoc=h[2],m.afterLoc=h[3]),this.tryEntries.push(m)}function v(h){var m=h.completion||{};m.type="normal",delete m.arg,h.completion=m}function i(h){this.tryEntries=[{tryLoc:"root"}],h.forEach(E,this),this.reset(!0)}function a(h){if(h){var m=h[d];if(m)return m.call(h);if(typeof h.next=="function")return h;if(!isNaN(h.length)){var C=-1,U=function V(){for(;++C<h.length;)if(N.call(h,C))return V.value=h[C],V.done=!1,V;return V.value=void 0,V.done=!0,V};return U.next=U}}return{next:y}}function y(){return{value:void 0,done:!0}}return ke.prototype=Se,M(K,"constructor",{value:Se,configurable:!0}),M(Se,"constructor",{value:ke,configurable:!0}),ke.displayName=H(Se,L,"GeneratorFunction"),b.isGeneratorFunction=function(h){var m=typeof h=="function"&&h.constructor;return!!m&&(m===ke||(m.displayName||m.name)==="GeneratorFunction")},b.mark=function(h){return Object.setPrototypeOf?Object.setPrototypeOf(h,Se):(h.__proto__=Se,H(h,L,"GeneratorFunction")),h.prototype=Object.create(K),h},b.awrap=function(h){return{__await:h}},T(B.prototype),H(B.prototype,j,function(){return this}),b.AsyncIterator=B,b.async=function(h,m,C,U,V){V===void 0&&(V=Promise);var D=new B(x(h,m,C,U),V);return b.isGeneratorFunction(m)?D:D.next().then(function(P){return P.done?P.value:D.next()})},T(K),H(K,L,"Generator"),H(K,d,function(){return this}),H(K,"toString",function(){return"[object Generator]"}),b.keys=function(h){var m=Object(h),C=[];for(var U in m)C.push(U);return C.reverse(),function V(){for(;C.length;){var D=C.pop();if(D in m)return V.value=D,V.done=!1,V}return V.done=!0,V}},b.values=a,i.prototype={constructor:i,reset:function(h){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(v),!h)for(var m in this)m.charAt(0)==="t"&&N.call(this,m)&&!isNaN(+m.slice(1))&&(this[m]=void 0)},stop:function(){this.done=!0;var h=this.tryEntries[0].completion;if(h.type==="throw")throw h.arg;return this.rval},dispatchException:function(h){if(this.done)throw h;var m=this;function C(X,le){return D.type="throw",D.arg=h,m.next=X,le&&(m.method="next",m.arg=void 0),!!le}for(var U=this.tryEntries.length-1;U>=0;--U){var V=this.tryEntries[U],D=V.completion;if(V.tryLoc==="root")return C("end");if(V.tryLoc<=this.prev){var P=N.call(V,"catchLoc"),F=N.call(V,"finallyLoc");if(P&&F){if(this.prev<V.catchLoc)return C(V.catchLoc,!0);if(this.prev<V.finallyLoc)return C(V.finallyLoc)}else if(P){if(this.prev<V.catchLoc)return C(V.catchLoc,!0)}else{if(!F)throw new Error("try statement without catch or finally");if(this.prev<V.finallyLoc)return C(V.finallyLoc)}}}},abrupt:function(h,m){for(var C=this.tryEntries.length-1;C>=0;--C){var U=this.tryEntries[C];if(U.tryLoc<=this.prev&&N.call(U,"finallyLoc")&&this.prev<U.finallyLoc){var V=U;break}}V&&(h==="break"||h==="continue")&&V.tryLoc<=m&&m<=V.finallyLoc&&(V=null);var D=V?V.completion:{};return D.type=h,D.arg=m,V?(this.method="next",this.next=V.finallyLoc,q):this.complete(D)},complete:function(h,m){if(h.type==="throw")throw h.arg;return h.type==="break"||h.type==="continue"?this.next=h.arg:h.type==="return"?(this.rval=this.arg=h.arg,this.method="return",this.next="end"):h.type==="normal"&&m&&(this.next=m),q},finish:function(h){for(var m=this.tryEntries.length-1;m>=0;--m){var C=this.tryEntries[m];if(C.finallyLoc===h)return this.complete(C.completion,C.afterLoc),v(C),q}},catch:function(h){for(var m=this.tryEntries.length-1;m>=0;--m){var C=this.tryEntries[m];if(C.tryLoc===h){var U=C.completion;if(U.type==="throw"){var V=U.arg;v(C)}return V}}throw new Error("illegal catch attempt")},delegateYield:function(h,m,C){return this.delegate={iterator:a(h),resultName:m,nextLoc:C},this.method==="next"&&(this.arg=void 0),q}},b}ue.exports=k,ue.exports.__esModule=!0,ue.exports.default=ue.exports},8114:function(ue){function n(r){return ue.exports=n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},ue.exports.__esModule=!0,ue.exports.default=ue.exports,n(r)}ue.exports=n,ue.exports.__esModule=!0,ue.exports.default=ue.exports},2975:function(ue,n,r){var A=r(9649)();ue.exports=A;try{regeneratorRuntime=A}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=A:Function("r","regeneratorRuntime = r")(A)}},7017:function(ue,n,r){function A(k,b){(b==null||b>k.length)&&(b=k.length);for(var w=0,N=new Array(b);w<b;w++)N[w]=k[w];return N}r.d(n,{Z:function(){return A}})},3173:function(ue,n,r){function A(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}r.d(n,{Z:function(){return A}})},8950:function(ue,n,r){function A(b,w,N,M,f,d,j){try{var L=b[d](j),H=L.value}catch(x){return void N(x)}L.done?w(H):Promise.resolve(H).then(M,f)}function k(b){return function(){var w=this,N=arguments;return new Promise(function(M,f){var d=b.apply(w,N);function j(H){A(d,M,f,j,L,"next",H)}function L(H){A(d,M,f,j,L,"throw",H)}j(void 0)})}}r.d(n,{Z:function(){return k}})},8821:function(ue,n,r){function A(k,b){if(!(k instanceof b))throw new TypeError("Cannot call a class as a function")}r.d(n,{Z:function(){return A}})},5169:function(ue,n,r){r.d(n,{Z:function(){return b}});var A=r(3525);function k(w,N){for(var M=0;M<N.length;M++){var f=N[M];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(w,(0,A.Z)(f.key),f)}}function b(w,N,M){return N&&k(w.prototype,N),M&&k(w,M),Object.defineProperty(w,"prototype",{writable:!1}),w}},7169:function(ue,n,r){r.d(n,{Z:function(){return k}});var A=r(3525);function k(b,w,N){return(w=(0,A.Z)(w))in b?Object.defineProperty(b,w,{value:N,enumerable:!0,configurable:!0,writable:!0}):b[w]=N,b}},11:function(ue,n,r){function A(){return A=Object.assign?Object.assign.bind():function(k){for(var b=1;b<arguments.length;b++){var w=arguments[b];for(var N in w)Object.prototype.hasOwnProperty.call(w,N)&&(k[N]=w[N])}return k},A.apply(this,arguments)}r.d(n,{Z:function(){return A}})},2312:function(ue,n,r){function A(k){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(b){return b.__proto__||Object.getPrototypeOf(b)},A(k)}r.d(n,{Z:function(){return A}})},2248:function(ue,n,r){r.d(n,{Z:function(){return k}});var A=r(5901);function k(b,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(w&&w.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),Object.defineProperty(b,"prototype",{writable:!1}),w&&(0,A.Z)(b,w)}},2726:function(ue,n,r){function A(k,b){if(k==null)return{};var w,N,M=function(d,j){if(d==null)return{};var L,H,x={},S=Object.keys(d);for(H=0;H<S.length;H++)L=S[H],j.indexOf(L)>=0||(x[L]=d[L]);return x}(k,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(k);for(N=0;N<f.length;N++)w=f[N],b.indexOf(w)>=0||Object.prototype.propertyIsEnumerable.call(k,w)&&(M[w]=k[w])}return M}r.d(n,{Z:function(){return A}})},7245:function(ue,n,r){r.d(n,{Z:function(){return b}});var A=r(6655),k=r(3173);function b(w,N){if(N&&((0,A.Z)(N)==="object"||typeof N=="function"))return N;if(N!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(0,k.Z)(w)}},5901:function(ue,n,r){function A(k,b){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(w,N){return w.__proto__=N,w},A(k,b)}r.d(n,{Z:function(){return A}})},2577:function(ue,n,r){r.d(n,{Z:function(){return k}});var A=r(9139);function k(b,w){return function(N){if(Array.isArray(N))return N}(b)||function(N,M){var f=N==null?null:typeof Symbol<"u"&&N[Symbol.iterator]||N["@@iterator"];if(f!=null){var d,j,L,H,x=[],S=!0,q=!1;try{if(L=(f=f.call(N)).next,M===0){if(Object(f)!==f)return;S=!1}else for(;!(S=(d=L.call(f)).done)&&(x.push(d.value),x.length!==M);S=!0);}catch(ve){q=!0,j=ve}finally{try{if(!S&&f.return!=null&&(H=f.return(),Object(H)!==H))return}finally{if(q)throw j}}return x}}(b,w)||(0,A.Z)(b,w)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}},1930:function(ue,n,r){r.d(n,{Z:function(){return b}});var A=r(7017),k=r(9139);function b(w){return function(N){if(Array.isArray(N))return(0,A.Z)(N)}(w)||function(N){if(typeof Symbol<"u"&&N[Symbol.iterator]!=null||N["@@iterator"]!=null)return Array.from(N)}(w)||(0,k.Z)(w)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}},3525:function(ue,n,r){r.d(n,{Z:function(){return k}});var A=r(6655);function k(b){var w=function(N,M){if((0,A.Z)(N)!=="object"||N===null)return N;var f=N[Symbol.toPrimitive];if(f!==void 0){var d=f.call(N,M);if((0,A.Z)(d)!=="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(M==="string"?String:Number)(N)}(b,"string");return(0,A.Z)(w)==="symbol"?w:String(w)}},6655:function(ue,n,r){function A(k){return A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},A(k)}r.d(n,{Z:function(){return A}})},9139:function(ue,n,r){r.d(n,{Z:function(){return k}});var A=r(7017);function k(b,w){if(b){if(typeof b=="string")return(0,A.Z)(b,w);var N=Object.prototype.toString.call(b).slice(8,-1);return N==="Object"&&b.constructor&&(N=b.constructor.name),N==="Map"||N==="Set"?Array.from(b):N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N)?(0,A.Z)(b,w):void 0}}},3607:function(ue,n,r){r.d(n,{zt:function(){return Q},cn:function(){return K},Vv:function(){return ke},KO:function(){return O},Dv:function(){return T},b9:function(){return B}});var A=r(9787);let k=0;const b=Symbol(),w=R=>!!R[b],N=R=>!R[b].c,M=R=>{var E;const{b:v,c:i}=R[b];i&&(i(),(E=j.get(v))==null||E())},f=(R,E)=>{const v=R[b].o,i=E[b].o;return v===i||R===i||w(v)&&f(v,E)},d=(R,E)=>{const v={b:R,o:E,c:null},i=new Promise(a=>{v.c=()=>{v.c=null,a()},E.finally(v.c)});return i[b]=v,i},j=new WeakMap,L=R=>"init"in R,H="r",x="w",S="c",q="s",ve=R=>{const E=new WeakMap,v=new WeakMap,i=new Map;let a,y;if(a=new Set,y=new Set,R)for(const[Ie,Ee]of R){const xe={v:Ee,r:0,y:!0,d:new Map};Object.freeze(xe),L(Ie)||console.warn("Found initial value for derived atom which can cause unexpected behavior",Ie),E.set(Ie,xe)}const h=new WeakMap,m=new WeakMap,C=Ie=>{let Ee=m.get(Ie);return Ee||(Ee=new Map,m.set(Ie,Ee)),Ee},U=(Ie,Ee)=>{if(Ie){const xe=C(Ie);let Z=xe.get(Ee);return Z||(Z=U(Ie.p,Ee),Z&&"p"in Z&&N(Z.p)&&(Z=void 0),Z&&xe.set(Ee,Z)),Z}return E.get(Ee)},V=(Ie,Ee,xe)=>{if(Object.freeze(xe),Ie)C(Ie).set(Ee,xe);else{const Z=E.get(Ee);E.set(Ee,xe),i.has(Ee)||i.set(Ee,Z)}},D=(Ie,Ee=new Map,xe)=>{if(!xe)return Ee;const Z=new Map;let u=!1;return xe.forEach(g=>{var z;const Y=((z=U(Ie,g))==null?void 0:z.r)||0;Z.set(g,Y),Ee.get(g)!==Y&&(u=!0)}),Ee.size!==Z.size||u?Z:Ee},P=(Ie,Ee,xe,Z,u)=>{const g=U(Ie,Ee);if(g){if(u&&(!("p"in g)||!f(g.p,u)))return g;"p"in g&&M(g.p)}const z={v:xe,r:(g==null?void 0:g.r)||0,y:!0,d:D(Ie,g==null?void 0:g.d,Z)};let Y=!(g!=null&&g.y);return g&&"v"in g&&Object.is(g.v,xe)?z.d===g.d||z.d.size===g.d.size&&Array.from(z.d.keys()).every(te=>g.d.has(te))||(Y=!0,Promise.resolve().then(()=>{Ne(Ie)})):(Y=!0,++z.r,z.d.has(Ee)&&(z.d=new Map(z.d).set(Ee,z.r))),g&&!Y?g:(V(Ie,Ee,z),z)},F=(Ie,Ee,xe,Z,u)=>{const g=U(Ie,Ee);if(g){if(u&&(!("p"in g)||!f(g.p,u)))return g;"p"in g&&M(g.p)}const z={e:xe,r:((g==null?void 0:g.r)||0)+1,y:!0,d:D(Ie,g==null?void 0:g.d,Z)};return V(Ie,Ee,z),z},X=(Ie,Ee,xe,Z)=>{const u=U(Ie,Ee);if(u&&"p"in u){if(f(u.p,xe)&&!N(u.p))return u.y?u:{...u,y:!0};M(u.p)}((z,Y,te)=>{let ae=h.get(Y);ae||(ae=new Map,h.set(Y,ae)),te.then(()=>{ae.get(z)===te&&(ae.delete(z),ae.size||h.delete(Y))}),ae.set(z,te)})(Ie,Ee,xe);const g={p:xe,r:((u==null?void 0:u.r)||0)+1,y:!0,d:D(Ie,u==null?void 0:u.d,Z)};return V(Ie,Ee,g),g},le=(Ie,Ee,xe,Z)=>{if(xe instanceof Promise){const u=d(xe,xe.then(g=>{P(Ie,Ee,g,Z,u)}).catch(g=>{if(g instanceof Promise)return w(g)?g.then(()=>{de(Ie,Ee,!0)}):g;F(Ie,Ee,g,Z,u)}));return X(Ie,Ee,u,Z)}return P(Ie,Ee,xe,Z)},de=(Ie,Ee,xe)=>{if(!xe){const u=U(Ie,Ee);if(u){if(u.y&&"p"in u&&!N(u.p))return u;if(u.d.forEach((g,z)=>{if(z!==Ee)if(v.has(z)){const Y=U(Ie,z);Y&&!Y.y&&de(Ie,z)}else de(Ie,z)}),Array.from(u.d).every(([g,z])=>{const Y=U(Ie,g);return Y&&!("p"in Y)&&Y.r===z}))return u.y?u:{...u,y:!0}}}const Z=new Set;try{const u=Ee.read(g=>{Z.add(g);const z=g===Ee?U(Ie,g):de(Ie,g);if(z){if("e"in z)throw z.e;if("p"in z)throw z.p;return z.v}if(L(g))return g.init;throw new Error("no atom init")});return le(Ie,Ee,u,Z)}catch(u){if(u instanceof Promise){const g=w(u)&&N(u)?(z=>d(z[b].b,z[b].o))(u):d(u,u);return X(Ie,Ee,g,Z)}return F(Ie,Ee,u,Z)}},fe=(Ie,Ee)=>de(Ee,Ie),pe=(Ie,Ee)=>!Ee.l.size&&(!Ee.t.size||Ee.t.size===1&&Ee.t.has(Ie)),ne=(Ie,Ee)=>{const xe=v.get(Ee);xe==null||xe.t.forEach(Z=>{Z!==Ee&&(((u,g)=>{const z=U(u,g);if(z){const Y={...z,y:!1};V(u,g,Y)}else console.warn("[Bug] could not invalidate non existing atom",g)})(Ie,Z),ne(Ie,Z))})},oe=(Ie,Ee,xe)=>{let Z=!0;const u=(z,Y)=>{const te=de(Ie,z);if("e"in te)throw te.e;if("p"in te){if(Y!=null&&Y.unstable_promise)return te.p.then(()=>{const ae=U(Ie,z);return ae&&"p"in ae&&ae.p===te.p?new Promise(ce=>setTimeout(ce)).then(()=>u(z,Y)):u(z,Y)});throw console.info("Reading pending atom state in write operation. We throw a promise for now.",z),te.p}if("v"in te)return te.v;throw console.warn("[Bug] no value found while reading atom in write operation. This is probably a bug.",z),new Error("no value found")},g=Ee.write(u,(z,Y)=>{let te;if(z===Ee){if(!L(z))throw new Error("atom not writable");(ce=>{const ye=new Set,je=h.get(ce);return je&&(h.delete(ce),je.forEach((Be,Qe)=>{M(Be),ye.add(Qe)})),ye})(z).forEach(ce=>{ce!==Ie&&le(ce,z,Y)}),U(Ie,z)!==le(Ie,z,Y)&&ne(Ie,z)}else te=oe(Ie,z,Y);return Z||Ne(Ie),te},xe);return Z=!1,g},be=(Ie,Ee,xe)=>{const Z=oe(xe,Ie,Ee);return Ne(xe),Z},Me=(Ie,Ee,xe)=>{const Z={t:new Set(xe&&[xe]),l:new Set};if(v.set(Ee,Z),y.add(Ee),de(void 0,Ee).d.forEach((u,g)=>{const z=v.get(g);z?z.t.add(Ee):g!==Ee&&Me(Ie,g,Ee)}),(u=>!!u.write)(Ee)&&Ee.onMount){const u=z=>be(Ee,z,Ie),g=Ee.onMount(u);Ie=void 0,g&&(Z.u=g)}return Z},Ge=(Ie,Ee)=>{var xe;const Z=(xe=v.get(Ee))==null?void 0:xe.u;Z&&Z(),v.delete(Ee),y.delete(Ee);const u=U(Ie,Ee);u?("p"in u&&M(u.p),u.d.forEach((g,z)=>{if(z!==Ee){const Y=v.get(z);Y&&(Y.t.delete(Ee),pe(z,Y)&&Ge(Ie,z))}})):console.warn("[Bug] could not find atom state to unmount",Ee)},qe=(Ie,Ee,xe,Z)=>{const u=new Set(xe.d.keys());Z==null||Z.forEach((g,z)=>{if(u.has(z))return void u.delete(z);const Y=v.get(z);Y&&(Y.t.delete(Ee),pe(z,Y)&&Ge(Ie,z))}),u.forEach(g=>{const z=v.get(g);z?z.t.add(Ee):v.has(Ee)&&Me(Ie,g,Ee)})},Ne=Ie=>{if(Ie)C(Ie).forEach((Ee,xe)=>{if(Ee!==E.get(xe)){const Z=v.get(xe);Z==null||Z.l.forEach(u=>u(Ie))}});else{for(;i.size;){const Ee=Array.from(i);i.clear(),Ee.forEach(([xe,Z])=>{const u=U(void 0,xe);if(u&&u.d!==(Z==null?void 0:Z.d)&&qe(void 0,xe,u,Z==null?void 0:Z.d),Z&&!Z.y&&(u==null?void 0:u.y))return;const g=v.get(xe);g==null||g.l.forEach(z=>z())})}a.forEach(Ee=>Ee())}},Pe=(Ie,Ee)=>{Ee&&(xe=>{C(xe).forEach((Z,u)=>{const g=E.get(u);(!g||Z.r>g.r||Z.y!==g.y||Z.r===g.r&&Z.d!==g.d)&&(E.set(u,Z),Z.d!==(g==null?void 0:g.d)&&qe(xe,u,Z,g==null?void 0:g.d))})})(Ee),Ne(void 0)},Re=(Ie,Ee,xe)=>{const Z=((g,z)=>{let Y=v.get(z);return Y||(Y=Me(g,z)),Y})(xe,Ie),u=Z.l;return u.add(Ee),()=>{u.delete(Ee),((g,z)=>{const Y=v.get(z);Y&&pe(z,Y)&&Ge(g,z)})(xe,Ie)}},Ze=(Ie,Ee)=>{for(const[xe,Z]of Ie)L(xe)&&(le(Ee,xe,Z),ne(Ee,xe));Ne(Ee)};return{[H]:fe,[x]:be,[S]:Pe,[q]:Re,h:Ze,n:Ie=>(a.add(Ie),()=>{a.delete(Ie)}),l:()=>y.values(),a:Ie=>E.get(Ie),m:Ie=>v.get(Ie)}},ke=R=>{const E=ve(R),v=i=>new Promise((a,y)=>{const h=E.r(i);"e"in h?y(h.e):a("p"in h?h.p.then(()=>v(i)):h.v)});return{get:i=>{const a=E.r(i);if("e"in a)throw a.e;if(!("p"in a))return a.v},asyncGet:v,set:(i,a)=>E.w(i,a),sub:(i,a)=>E.s(i,a),SECRET_INTERNAL_store:E}},Se=(R,E)=>({s:E?E(R).SECRET_INTERNAL_store:ve(R)}),ge=new Map,J=R=>(ge.has(R)||ge.set(R,(0,A.createContext)(Se())),ge.get(R)),Q=({children:R,initialValues:E,scope:v,unstable_createStore:i,unstable_enableVersionedWrite:a})=>{const[y,h]=(0,A.useState)({});(0,A.useEffect)(()=>{const U=m.current;U.w&&(U.s.c(null,y),delete y.p,U.v=y)},[y]);const m=(0,A.useRef)();if(!m.current){const U=Se(E,i);if(a){let V=0;U.w=D=>{h(P=>{const F=V?P:{p:P};return D(F),F})},U.v=y,U.r=D=>{++V,D(),--V}}m.current=U}const C=J(v);return(0,A.createElement)(C.Provider,{value:m.current},R)};function K(R,E){return function(v,i){const a="atom"+ ++k,y={toString:()=>a};return typeof v=="function"?y.read=v:(y.init=v,y.read=h=>h(y),y.write=(h,m,C)=>m(y,typeof C=="function"?C(h(y)):C)),i&&(y.write=i),y}(R,E)}function T(R,E){const v=J(E),i=(0,A.useContext)(v),{s:a,v:y}=i,h=P=>{const F=a.r(R,P);if(!F.y)throw new Error("should not be invalidated");if("e"in F)throw F.e;if("p"in F)throw F.p;if("v"in F)return F.v;throw new Error("no atom value")},[[m,C,U],V]=(0,A.useReducer)((P,F)=>{const X=h(F);return Object.is(P[1],X)&&P[2]===R?P:[F,X,R]},y,P=>[P,h(P),R]);let D=C;return U!==R&&(V(m),D=h(m)),(0,A.useEffect)(()=>{const{v:P}=i;P&&a.c(R,P);const F=a.s(R,V,P);return V(P),F},[a,R,i]),(0,A.useEffect)(()=>{a.c(R,m)}),(0,A.useDebugValue)(D),D}function B(R,E){const v=J(E),{s:i,w:a}=(0,A.useContext)(v);return(0,A.useCallback)(y=>{if(!("write"in R))throw new Error("not writable atom");const h=m=>i.w(R,y,m);return a?a(h):h()},[i,a,R])}function O(R,E){return"scope"in R&&(console.warn("atom.scope is deprecated. Please do useAtom(atom, scope) instead."),E=R.scope),[T(R,E),B(R,E)]}},5605:function(ue,n,r){r.d(n,{x0:function(){return A}});let A=(k=21)=>crypto.getRandomValues(new Uint8Array(k)).reduce((b,w)=>b+=(w&=63)<36?w.toString(36):w<62?(w-26).toString(36).toUpperCase():w>62?"-":"_","")},5284:function(ue){ue.exports=JSON.parse('{"white":"#ffffff","black":"#000000","gray":["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],"red":["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],"pink":["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],"grape":["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],"violet":["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],"indigo":["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],"blue":["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],"cyan":["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],"teal":["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],"green":["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],"lime":["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],"yellow":["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],"orange":["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]}')},1463:function(ue){ue.exports=JSON.parse(`{"labels":{"paste":"Paste","pasteAsPlaintext":"Paste as plaintext","pasteCharts":"Paste charts","selectAll":"Select all","multiSelect":"Add element to selection","moveCanvas":"Move canvas","cut":"Cut","copy":"Copy","copyAsPng":"Copy to clipboard as PNG","copyAsSvg":"Copy to clipboard as SVG","copyText":"Copy to clipboard as text","bringForward":"Bring forward","sendToBack":"Send to back","bringToFront":"Bring to front","sendBackward":"Send backward","delete":"Delete","copyStyles":"Copy styles","pasteStyles":"Paste styles","stroke":"Stroke","background":"Background","fill":"Fill","strokeWidth":"Stroke width","strokeStyle":"Stroke style","strokeStyle_solid":"Solid","strokeStyle_dashed":"Dashed","strokeStyle_dotted":"Dotted","sloppiness":"Sloppiness","opacity":"Opacity","textAlign":"Text align","edges":"Edges","sharp":"Sharp","round":"Round","arrowheads":"Arrowheads","arrowhead_none":"None","arrowhead_arrow":"Arrow","arrowhead_bar":"Bar","arrowhead_dot":"Dot","arrowhead_triangle":"Triangle","fontSize":"Font size","fontFamily":"Font family","addWatermark":"Add \\"Made with Excalidraw\\"","handDrawn":"Hand-drawn","normal":"Normal","code":"Code","small":"Small","medium":"Medium","large":"Large","veryLarge":"Very large","solid":"Solid","hachure":"Hachure","zigzag":"Zigzag","crossHatch":"Cross-hatch","thin":"Thin","bold":"Bold","left":"Left","center":"Center","right":"Right","extraBold":"Extra bold","architect":"Architect","artist":"Artist","cartoonist":"Cartoonist","fileTitle":"File name","colorPicker":"Color picker","canvasColors":"Used on canvas","canvasBackground":"Canvas background","drawingCanvas":"Drawing canvas","layers":"Layers","actions":"Actions","language":"Language","liveCollaboration":"Live collaboration...","duplicateSelection":"Duplicate","untitled":"Untitled","name":"Name","yourName":"Your name","madeWithExcalidraw":"Made with Excalidraw","group":"Group selection","ungroup":"Ungroup selection","collaborators":"Collaborators","showGrid":"Show grid","addToLibrary":"Add to library","removeFromLibrary":"Remove from library","libraryLoadingMessage":"Loading library…","libraries":"Browse libraries","loadingScene":"Loading scene…","align":"Align","alignTop":"Align top","alignBottom":"Align bottom","alignLeft":"Align left","alignRight":"Align right","centerVertically":"Center vertically","centerHorizontally":"Center horizontally","distributeHorizontally":"Distribute horizontally","distributeVertically":"Distribute vertically","flipHorizontal":"Flip horizontal","flipVertical":"Flip vertical","viewMode":"View mode","share":"Share","showStroke":"Show stroke color picker","showBackground":"Show background color picker","toggleTheme":"Toggle theme","personalLib":"Personal Library","excalidrawLib":"Excalidraw Library","decreaseFontSize":"Decrease font size","increaseFontSize":"Increase font size","unbindText":"Unbind text","bindText":"Bind text to the container","createContainerFromText":"Wrap text in a container","link":{"edit":"Edit link","editEmbed":"Edit link & embed","create":"Create link","createEmbed":"Create link & embed","label":"Link","labelEmbed":"Link & embed","empty":"No link is set"},"lineEditor":{"edit":"Edit line","exit":"Exit line editor"},"elementLock":{"lock":"Lock","unlock":"Unlock","lockAll":"Lock all","unlockAll":"Unlock all"},"statusPublished":"Published","sidebarLock":"Keep sidebar open","selectAllElementsInFrame":"Select all elements in frame","removeAllElementsFromFrame":"Remove all elements from frame","eyeDropper":"Pick color from canvas"},"library":{"noItems":"No items added yet...","hint_emptyLibrary":"Select an item on canvas to add it here, or install a library from the public repository, below.","hint_emptyPrivateLibrary":"Select an item on canvas to add it here."},"buttons":{"clearReset":"Reset the canvas","exportJSON":"Export to file","exportImage":"Export image...","export":"Save to...","copyToClipboard":"Copy to clipboard","save":"Save to current file","saveAs":"Save as","load":"Open","getShareableLink":"Get shareable link","close":"Close","selectLanguage":"Select language","scrollBackToContent":"Scroll back to content","zoomIn":"Zoom in","zoomOut":"Zoom out","resetZoom":"Reset zoom","menu":"Menu","done":"Done","edit":"Edit","undo":"Undo","redo":"Redo","resetLibrary":"Reset library","createNewRoom":"Create new room","fullScreen":"Full screen","darkMode":"Dark mode","lightMode":"Light mode","zenMode":"Zen mode","objectsSnapMode":"Snap to objects","exitZenMode":"Exit zen mode","cancel":"Cancel","clear":"Clear","remove":"Remove","embed":"Toggle embedding","publishLibrary":"Publish","submit":"Submit","confirm":"Confirm","embeddableInteractionButton":"Click to interact"},"alerts":{"clearReset":"This will clear the whole canvas. Are you sure?","couldNotCreateShareableLink":"Couldn't create shareable link.","couldNotCreateShareableLinkTooBig":"Couldn't create shareable link: the scene is too big","couldNotLoadInvalidFile":"Couldn't load invalid file","importBackendFailed":"Importing from backend failed.","cannotExportEmptyCanvas":"Cannot export empty canvas.","couldNotCopyToClipboard":"Couldn't copy to clipboard.","decryptFailed":"Couldn't decrypt data.","uploadedSecurly":"The upload has been secured with end-to-end encryption, which means that Excalidraw server and third parties can't read the content.","loadSceneOverridePrompt":"Loading external drawing will replace your existing content. Do you wish to continue?","collabStopOverridePrompt":"Stopping the session will overwrite your previous, locally stored drawing. Are you sure?\\n\\n(If you want to keep your local drawing, simply close the browser tab instead.)","errorAddingToLibrary":"Couldn't add item to the library","errorRemovingFromLibrary":"Couldn't remove item from the library","confirmAddLibrary":"This will add {{numShapes}} shape(s) to your library. Are you sure?","imageDoesNotContainScene":"This image does not seem to contain any scene data. Have you enabled scene embedding during export?","cannotRestoreFromImage":"Scene couldn't be restored from this image file","invalidSceneUrl":"Couldn't import scene from the supplied URL. It's either malformed, or doesn't contain valid Excalidraw JSON data.","resetLibrary":"This will clear your library. Are you sure?","removeItemsFromsLibrary":"Delete {{count}} item(s) from library?","invalidEncryptionKey":"Encryption key must be of 22 characters. Live collaboration is disabled.","collabOfflineWarning":"No internet connection available.\\nYour changes will not be saved!"},"errors":{"unsupportedFileType":"Unsupported file type.","imageInsertError":"Couldn't insert image. Try again later...","fileTooBig":"File is too big. Maximum allowed size is {{maxSize}}.","svgImageInsertError":"Couldn't insert SVG image. The SVG markup looks invalid.","failedToFetchImage":"Failed to fetch image.","invalidSVGString":"Invalid SVG.","cannotResolveCollabServer":"Couldn't connect to the collab server. Please reload the page and try again.","importLibraryError":"Couldn't load library","collabSaveFailed":"Couldn't save to the backend database. If problems persist, you should save your file locally to ensure you don't lose your work.","collabSaveFailed_sizeExceeded":"Couldn't save to the backend database, the canvas seems to be too big. You should save the file locally to ensure you don't lose your work.","imageToolNotSupported":"Images are disabled.","brave_measure_text_error":{"line1":"Looks like you are using Brave browser with the <bold>Aggressively Block Fingerprinting</bold> setting enabled.","line2":"This could result in breaking the <bold>Text Elements</bold> in your drawings.","line3":"We strongly recommend disabling this setting. You can follow <link>these steps</link> on how to do so.","line4":"If disabling this setting doesn't fix the display of text elements, please open an <issueLink>issue</issueLink> on our GitHub, or write us on <discordLink>Discord</discordLink>"},"libraryElementTypeError":{"embeddable":"Embeddable elements cannot be added to the library.","image":"Support for adding images to the library coming soon!"},"asyncPasteFailedOnRead":"Couldn't paste (couldn't read from system clipboard).","asyncPasteFailedOnParse":"Couldn't paste.","copyToSystemClipboardFailed":"Couldn't copy to clipboard."},"toolBar":{"selection":"Selection","image":"Insert image","rectangle":"Rectangle","diamond":"Diamond","ellipse":"Ellipse","arrow":"Arrow","line":"Line","freedraw":"Draw","text":"Text","library":"Library","lock":"Keep selected tool active after drawing","penMode":"Pen mode - prevent touch","link":"Add/ Update link for a selected shape","eraser":"Eraser","frame":"Frame tool","embeddable":"Web Embed","laser":"Laser pointer","hand":"Hand (panning tool)","extraTools":"More tools","mermaidToExcalidraw":"Mermaid to Excalidraw"},"headings":{"canvasActions":"Canvas actions","selectedShapeActions":"Selected shape actions","shapes":"Shapes"},"hints":{"canvasPanning":"To move canvas, hold mouse wheel or spacebar while dragging, or use the hand tool","linearElement":"Click to start multiple points, drag for single line","freeDraw":"Click and drag, release when you're finished","text":"Tip: you can also add text by double-clicking anywhere with the selection tool","embeddable":"Click-drag to create a website embed","text_selected":"Double-click or press ENTER to edit text","text_editing":"Press Escape or CtrlOrCmd+ENTER to finish editing","linearElementMulti":"Click on last point or press Escape or Enter to finish","lockAngle":"You can constrain angle by holding SHIFT","resize":"You can constrain proportions by holding SHIFT while resizing,\\nhold ALT to resize from the center","resizeImage":"You can resize freely by holding SHIFT,\\nhold ALT to resize from the center","rotate":"You can constrain angles by holding SHIFT while rotating","lineEditor_info":"Hold CtrlOrCmd and Double-click or press CtrlOrCmd + Enter to edit points","lineEditor_pointSelected":"Press Delete to remove point(s),\\nCtrlOrCmd+D to duplicate, or drag to move","lineEditor_nothingSelected":"Select a point to edit (hold SHIFT to select multiple),\\nor hold Alt and click to add new points","placeImage":"Click to place the image, or click and drag to set its size manually","publishLibrary":"Publish your own library","bindTextToElement":"Press enter to add text","deepBoxSelect":"Hold CtrlOrCmd to deep select, and to prevent dragging","eraserRevert":"Hold Alt to revert the elements marked for deletion","firefox_clipboard_write":"This feature can likely be enabled by setting the \\"dom.events.asyncClipboard.clipboardItem\\" flag to \\"true\\". To change the browser flags in Firefox, visit the \\"about:config\\" page.","disableSnapping":"Hold CtrlOrCmd to disable snapping"},"canvasError":{"cannotShowPreview":"Cannot show preview","canvasTooBig":"The canvas may be too big.","canvasTooBigTip":"Tip: try moving the farthest elements a bit closer together."},"errorSplash":{"headingMain":"Encountered an error. Try <button>reloading the page</button>.","clearCanvasMessage":"If reloading doesn't work, try <button>clearing the canvas</button>.","clearCanvasCaveat":" This will result in loss of work ","trackedToSentry":"The error with identifier {{eventId}} was tracked on our system.","openIssueMessage":"We were very cautious not to include your scene information on the error. If your scene is not private, please consider following up on our <button>bug tracker</button>. Please include information below by copying and pasting into the GitHub issue.","sceneContent":"Scene content:"},"roomDialog":{"desc_intro":"You can invite people to your current scene to collaborate with you.","desc_privacy":"Don't worry, the session uses end-to-end encryption, so whatever you draw will stay private. Not even our server will be able to see what you come up with.","button_startSession":"Start session","button_stopSession":"Stop session","desc_inProgressIntro":"Live-collaboration session is now in progress.","desc_shareLink":"Share this link with anyone you want to collaborate with:","desc_exitSession":"Stopping the session will disconnect you from the room, but you'll be able to continue working with the scene, locally. Note that this won't affect other people, and they'll still be able to collaborate on their version.","shareTitle":"Join a live collaboration session on Excalidraw"},"errorDialog":{"title":"Error"},"exportDialog":{"disk_title":"Save to disk","disk_details":"Export the scene data to a file from which you can import later.","disk_button":"Save to file","link_title":"Shareable link","link_details":"Export as a read-only link.","link_button":"Export to Link","excalidrawplus_description":"Save the scene to your Excalidraw+ workspace.","excalidrawplus_button":"Export","excalidrawplus_exportError":"Couldn't export to Excalidraw+ at this moment..."},"helpDialog":{"blog":"Read our blog","click":"click","deepSelect":"Deep select","deepBoxSelect":"Deep select within box, and prevent dragging","curvedArrow":"Curved arrow","curvedLine":"Curved line","documentation":"Documentation","doubleClick":"double-click","drag":"drag","editor":"Editor","editLineArrowPoints":"Edit line/arrow points","editText":"Edit text / add label","github":"Found an issue? Submit","howto":"Follow our guides","or":"or","preventBinding":"Prevent arrow binding","tools":"Tools","shortcuts":"Keyboard shortcuts","textFinish":"Finish editing (text editor)","textNewLine":"Add new line (text editor)","title":"Help","view":"View","zoomToFit":"Zoom to fit all elements","zoomToSelection":"Zoom to selection","toggleElementLock":"Lock/unlock selection","movePageUpDown":"Move page up/down","movePageLeftRight":"Move page left/right"},"clearCanvasDialog":{"title":"Clear canvas"},"publishDialog":{"title":"Publish library","itemName":"Item name","authorName":"Author name","githubUsername":"GitHub username","twitterUsername":"Twitter username","libraryName":"Library name","libraryDesc":"Library description","website":"Website","placeholder":{"authorName":"Your name or username","libraryName":"Name of your library","libraryDesc":"Description of your library to help people understand its usage","githubHandle":"GitHub handle (optional), so you can edit the library once submitted for review","twitterHandle":"Twitter username (optional), so we know who to credit when promoting over Twitter","website":"Link to your personal website or elsewhere (optional)"},"errors":{"required":"Required","website":"Enter a valid URL"},"noteDescription":"Submit your library to be included in the <link>public library repository</link> for other people to use in their drawings.","noteGuidelines":"The library needs to be manually approved first. Please read the <link>guidelines</link> before submitting. You will need a GitHub account to communicate and make changes if requested, but it is not strictly required.","noteLicense":"By submitting, you agree the library will be published under the <link>MIT License</link>, which in short means anyone can use them without restrictions.","noteItems":"Each library item must have its own name so it's filterable. The following library items will be included:","atleastOneLibItem":"Please select at least one library item to get started","republishWarning":"Note: some of the selected items are marked as already published/submitted. You should only resubmit items when updating an existing library or submission."},"publishSuccessDialog":{"title":"Library submitted","content":"Thank you {{authorName}}. Your library has been submitted for review. You can track the status <link>here</link>"},"confirmDialog":{"resetLibrary":"Reset library","removeItemsFromLib":"Remove selected items from library"},"imageExportDialog":{"header":"Export image","label":{"withBackground":"Background","onlySelected":"Only selected","darkMode":"Dark mode","embedScene":"Embed scene","scale":"Scale","padding":"Padding"},"tooltip":{"embedScene":"Scene data will be saved into the exported PNG/SVG file so that the scene can be restored from it.\\nWill increase exported file size."},"title":{"exportToPng":"Export to PNG","exportToSvg":"Export to SVG","copyPngToClipboard":"Copy PNG to clipboard"},"button":{"exportToPng":"PNG","exportToSvg":"SVG","copyPngToClipboard":"Copy to clipboard"}},"encrypted":{"tooltip":"Your drawings are end-to-end encrypted so Excalidraw's servers will never see them.","link":"Blog post on end-to-end encryption in Excalidraw"},"stats":{"angle":"Angle","element":"Element","elements":"Elements","height":"Height","scene":"Scene","selected":"Selected","storage":"Storage","title":"Stats for nerds","total":"Total","version":"Version","versionCopy":"Click to copy","versionNotAvailable":"Version not available","width":"Width"},"toast":{"addedToLibrary":"Added to library","copyStyles":"Copied styles.","copyToClipboard":"Copied to clipboard.","copyToClipboardAsPng":"Copied {{exportSelection}} to clipboard as PNG\\n({{exportColorScheme}})","fileSaved":"File saved.","fileSavedToFilename":"Saved to {filename}","canvas":"canvas","selection":"selection","pasteAsSingleElement":"Use {{shortcut}} to paste as a single element,\\nor paste into an existing text editor","unableToEmbed":"Embedding this url is currently not allowed. Raise an issue on GitHub to request the url whitelisted","unrecognizedLinkFormat":"The link you embedded does not match the expected format. Please try to paste the 'embed' string provided by the source site"},"colors":{"transparent":"Transparent","black":"Black","white":"White","red":"Red","pink":"Pink","grape":"Grape","violet":"Violet","gray":"Gray","blue":"Blue","cyan":"Cyan","teal":"Teal","green":"Green","yellow":"Yellow","orange":"Orange","bronze":"Bronze"},"welcomeScreen":{"app":{"center_heading":"All your data is saved locally in your browser.","center_heading_plus":"Did you want to go to the Excalidraw+ instead?","menuHint":"Export, preferences, languages, ..."},"defaults":{"menuHint":"Export, preferences, and more...","center_heading":"Diagrams. Made. Simple.","toolbarHint":"Pick a tool & Start drawing!","helpHint":"Shortcuts & help"}},"colorPicker":{"mostUsedCustomColors":"Most used custom colors","colors":"Colors","shades":"Shades","hexCode":"Hex code","noShades":"No shades available for this color"},"overwriteConfirm":{"action":{"exportToImage":{"title":"Export as image","button":"Export as image","description":"Export the scene data as an image from which you can import later."},"saveToDisk":{"title":"Save to disk","button":"Save to disk","description":"Export the scene data to a file from which you can import later."},"excalidrawPlus":{"title":"Excalidraw+","button":"Export to Excalidraw+","description":"Save the scene to your Excalidraw+ workspace."}},"modal":{"loadFromFile":{"title":"Load from file","button":"Load from file","description":"Loading from a file will <bold>replace your existing content</bold>.<br></br>You can back up your drawing first using one of the options below."},"shareableLink":{"title":"Load from link","button":"Replace my content","description":"Loading external drawing will <bold>replace your existing content</bold>.<br></br>You can back up your drawing first by using one of the options below."}}},"mermaid":{"title":"Mermaid to Excalidraw","button":"Insert","description":"Currently only <flowchartLink>Flowcharts</flowchartLink> and <sequenceLink>Sequence Diagrams</sequenceLink> are supported. The other types will be rendered as image in Excalidraw.","syntax":"Mermaid Syntax","preview":"Preview"}}`)},4451:function(ue){ue.exports=JSON.parse('{"ar-SA":99,"az-AZ":18,"bg-BG":75,"bn-BD":55,"ca-ES":81,"cs-CZ":91,"da-DK":31,"de-DE":100,"el-GR":85,"en":100,"es-ES":96,"eu-ES":99,"fa-IR":87,"fi-FI":81,"fr-FR":98,"gl-ES":90,"he-IL":81,"hi-IN":75,"hu-HU":70,"id-ID":96,"it-IT":99,"ja-JP":95,"kaa":34,"kab-KAB":80,"kk-KZ":20,"km-KH":87,"ko-KR":100,"ku-TR":92,"lt-LT":51,"lv-LV":82,"mr-IN":92,"my-MM":37,"nb-NO":99,"nl-NL":79,"nn-NO":71,"oc-FR":79,"pa-IN":82,"pl-PL":100,"pt-BR":96,"pt-PT":88,"ro-RO":98,"ru-RU":94,"si-LK":8,"sk-SK":99,"sl-SI":100,"sv-SE":100,"ta-IN":85,"th-TH":46,"tr-TR":91,"uk-UA":99,"vi-VN":51,"zh-CN":99,"zh-HK":24,"zh-TW":100}')}},yt={};function kt(ue){var n=yt[ue];if(n!==void 0)return n.exports;var r=yt[ue]={id:ue,exports:{}};return st[ue].call(r.exports,r,r.exports,kt),r.exports}kt.m=st,kt.n=function(ue){var n=ue&&ue.__esModule?function(){return ue.default}:function(){return ue};return kt.d(n,{a:n}),n},we=Object.getPrototypeOf?function(ue){return Object.getPrototypeOf(ue)}:function(ue){return ue.__proto__},kt.t=function(ue,n){if(1&n&&(ue=this(ue)),8&n||typeof ue=="object"&&ue&&(4&n&&ue.__esModule||16&n&&typeof ue.then=="function"))return ue;var r=Object.create(null);kt.r(r);var A={};ee=ee||[null,we({}),we([]),we(we)];for(var k=2&n&&ue;typeof k=="object"&&!~ee.indexOf(k);k=we(k))Object.getOwnPropertyNames(k).forEach(function(b){A[b]=function(){return ue[b]}});return A.default=function(){return ue},kt.d(r,A),r},kt.d=function(ue,n){for(var r in n)kt.o(n,r)&&!kt.o(ue,r)&&Object.defineProperty(ue,r,{enumerable:!0,get:n[r]})},kt.f={},kt.e=function(ue){return Promise.all(Object.keys(kt.f).reduce(function(n,r){return kt.f[r](ue,n),n},[]))},kt.u=function(ue){return"excalidraw-assets/"+{22:"locales/kk-KZ-json",537:"locales/th-TH-json",663:"locales/kaa-json",1204:"locales/ja-JP-json",1302:"locales/si-LK-json",1477:"locales/my-MM-json",1513:"locales/el-GR-json",1628:"locales/bg-BG-json",1690:"locales/oc-FR-json",1790:"locales/da-DK-json",2091:"locales/ar-SA-json",2312:"locales/he-IL-json",2359:"locales/nb-NO-json",2404:"locales/ta-IN-json",2943:"locales/gl-ES-json",3024:"locales/nl-NL-json",3031:"locales/ku-TR-json",3082:"locales/de-DE-json",3162:"locales/pa-IN-json",3397:"locales/mr-IN-json",3421:"locales/zh-TW-json",3512:"locales/fi-FI-json",3674:"locales/pl-PL-json",3682:"locales/fr-FR-json",3721:"locales/pt-BR-json",3808:"locales/id-ID-json",3885:"locales/nn-NO-json",4e3:"locales/vi-VN-json",4568:"locales/az-AZ-json",4680:"locales/zh-CN-json",4736:"vendor",4977:"locales/tr-TR-json",5089:"locales/ro-RO-json",5130:"locales/ca-ES-json",5330:"locales/fa-IR-json",5395:"locales/pt-PT-json",6071:"locales/sl-SI-json",6239:"locales/it-IT-json",6265:"locales/cs-CZ-json",6566:"locales/km-KH-json",6768:"locales/lv-LV-json",6844:"locales/ko-KR-json",7368:"locales/hu-HU-json",7429:"locales/bn-BD-json",7759:"locales/uk-UA-json",7920:"locales/zh-HK-json",8081:"locales/eu-ES-json",8124:"locales/ru-RU-json",8340:"locales/lt-LT-json",8534:"locales/sv-SE-json",8750:"locales/sk-SK-json",8759:"locales/es-ES-json",9551:"locales/kab-KAB-json",9828:"locales/hi-IN-json"}[ue]+"-"+{22:"2224f237cc93465f126f",537:"9a390d3cc7a7a6226b63",663:"4d0a4868835d0334a549",1204:"2cb067da0fb518e73564",1302:"4921d4298abfa256fe6f",1477:"3ba296b6fcf2a2197a7c",1513:"4cbc2dbda5a5df636ee1",1628:"42fb0378311f3ade2627",1690:"644a5eaa1311f70cb697",1790:"a94944ac6fa9756d2fac",2091:"db7c644ccbeb85d54a47",2312:"a7bc2a673875b2e655e1",2359:"798d785698d467e76fcf",2404:"2fa1854af68381c61913",2943:"d11c7966c3c2f95756e0",3024:"2cf913fe2f491c5d7075",3031:"bafa8865ed7002bb249e",3082:"d82053ab52357510811b",3162:"165c5c2760688033b2cc",3397:"ad1359c30c334d05eee0",3421:"5a3fa7cacfa83c411d89",3512:"64c8902f10425e1b2e81",3674:"35c1f168f53af24b657a",3682:"d16a471290ba26a6c66a",3721:"370215dc506c58ee3217",3808:"6542dd92ab54a2c1c48e",3885:"aa607835ad9408789c5f",4e3:"9c1c2a9fa9d6b5a58223",4568:"08a6de50238dbb21926c",4680:"069c304b5011429be615",4736:"677e88ca78c86bddf13d",4977:"fc9b16e9dc2be2660439",5089:"3c32b962880e225d3416",5130:"a6b2c18f7e85cfd11599",5330:"76b039039b043cc4280c",5395:"6f3d80656622a222b4e2",6071:"efb839ef0456f5c72e6e",6239:"ab410570df07304cb0ca",6265:"ea03835d73f9b921f7c4",6566:"cbe8e2e8d26d30a3175c",6768:"f7f9363e42ee2e3a7c67",6844:"c2387972637d47f15765",7368:"0419027d32efac73d518",7429:"9ad9e5ae95c4c66297b1",7759:"82753e98dced302ac187",7920:"d9bf1e4e2d1f8650c680",8081:"671a4afcfce7b0a7660b",8124:"e1f4ed9d2d074f778304",8340:"9b7e91a51b90ee551cad",8534:"cfab3adbd37dd273c61e",8750:"27b59d7e026675f929c4",8759:"7afb66536ee40d852fa2",9551:"0d400ba2836cc0752cd6",9828:"4947c9dace32cc3c6eef"}[ue]+".js"},kt.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),kt.o=function(ue,n){return Object.prototype.hasOwnProperty.call(ue,n)},Fe={},nt="ExcalidrawLib:",kt.l=function(ue,n,r,A){if(Fe[ue])Fe[ue].push(n);else{var k,b;if(r!==void 0)for(var w=document.getElementsByTagName("script"),N=0;N<w.length;N++){var M=w[N];if(M.getAttribute("src")==ue||M.getAttribute("data-webpack")==nt+r){k=M;break}}k||(b=!0,(k=document.createElement("script")).charset="utf-8",k.timeout=120,kt.nc&&k.setAttribute("nonce",kt.nc),k.setAttribute("data-webpack",nt+r),k.src=ue),Fe[ue]=[n];var f=function(j,L){k.onerror=k.onload=null,clearTimeout(d);var H=Fe[ue];if(delete Fe[ue],k.parentNode&&k.parentNode.removeChild(k),H&&H.forEach(function(x){return x(L)}),j)return j(L)},d=setTimeout(f.bind(null,void 0,{type:"timeout",target:k}),12e4);k.onerror=f.bind(null,k.onerror),k.onload=f.bind(null,k.onload),b&&document.head.appendChild(k)}},kt.r=function(ue){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(ue,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ue,"__esModule",{value:!0})},kt.p="",function(){kt.b=document.baseURI||self.location.href;var ue={2848:0};kt.f.j=function(A,k){var b=kt.o(ue,A)?ue[A]:void 0;if(b!==0)if(b)k.push(b[2]);else{var w=new Promise(function(f,d){b=ue[A]=[f,d]});k.push(b[2]=w);var N=kt.p+kt.u(A),M=new Error;kt.l(N,function(f){if(kt.o(ue,A)&&((b=ue[A])!==0&&(ue[A]=void 0),b)){var d=f&&(f.type==="load"?"missing":f.type),j=f&&f.target&&f.target.src;M.message="Loading chunk "+A+` failed.
(`+d+": "+j+")",M.name="ChunkLoadError",M.type=d,M.request=j,b[1](M)}},"chunk-"+A,A)}};var n=function(A,k){var b,w,N=k[0],M=k[1],f=k[2],d=0;if(N.some(function(j){return ue[j]!==0})){for(b in M)kt.o(M,b)&&(kt.m[b]=M[b]);f&&f(kt)}for(A&&A(k);d<N.length;d++)w=N[d],kt.o(ue,w)&&ue[w]&&ue[w][0](),ue[w]=0},r=self.webpackChunkExcalidrawLib=self.webpackChunkExcalidrawLib||[];r.forEach(n.bind(null,0)),r.push=n.bind(null,r.push.bind(r))}(),kt.nc=void 0;var We={};return function(){kt.r(We),kt.d(We,{Button:function(){return S.zx},DefaultSidebar:function(){return S.Or},Excalidraw:function(){return S.Eb},FONT_FAMILY:function(){return S.ut},Footer:function(){return S.$_},LiveCollaborationTrigger:function(){return S.vO},MIME_TYPES:function(){return S.LO},MainMenu:function(){return S.lb},Sidebar:function(){return S.YE},THEME:function(){return S.C6},WelcomeScreen:function(){return S.B4},bumpVersion:function(){return S.ZP},convertToExcalidrawElements:function(){return S.wc},defaultLang:function(){return S.Fp},elementPartiallyOverlapsWithOrContainsBBox:function(){return S.sQ},elementsOverlappingBBox:function(){return S.Xs},exportToBlob:function(){return S.Fl},exportToCanvas:function(){return S.NL},exportToClipboard:function(){return S.i1},exportToSvg:function(){return S.$D},getCommonBounds:function(){return S.KP},getFreeDrawSvgPath:function(){return S.N7},getNonDeletedElements:function(){return S.Lm},getSceneVersion:function(){return S.Uo},isElementInsideBBox:function(){return S.Ne},isInvisiblySmallElement:function(){return S.QD},isLinearElement:function(){return S.bt},languages:function(){return S.Mj},loadFromBlob:function(){return S.cT},loadLibraryFromBlob:function(){return S.lV},loadSceneOrLibraryFromBlob:function(){return S.ZY},mergeLibraryItems:function(){return S.zh},mutateElement:function(){return S.DR},newElementWith:function(){return S.BE},normalizeLink:function(){return S.$u},parseLibraryTokensFromUrl:function(){return S.Di},restore:function(){return S.nu},restoreAppState:function(){return S.lY},restoreElements:function(){return S.ET},restoreLibraryItems:function(){return S.wJ},sceneCoordsToViewportCoords:function(){return S._i},serializeAsJSON:function(){return S.I_},serializeLibraryAsJSON:function(){return S.NI},useDevice:function(){return S.Fy},useHandleLibrary:function(){return S.xS},useI18n:function(){return S.QT},viewportCoordsToSceneCoords:function(){return S.dE}}),kt(9937).Vi.TEST!=="production"&&(kt.p=window.EXCALIDRAW_ASSET_PATH||"https://unpkg.com/".concat("@excalidraw/excalidraw","@").concat("0.17.6","/dist/"));var ue=function(){Array.prototype.at||Object.defineProperty(Array.prototype,"at",{value:function(q){if((q=Math.trunc(q)||0)<0&&(q+=this.length),!(q<0||q>=this.length))return this[q]},writable:!0,enumerable:!1,configurable:!0}),Element.prototype.replaceChildren||(Element.prototype.replaceChildren=function(){this.innerHTML="",this.append.apply(this,arguments)})},n=kt(3379),r=kt.n(n),A=kt(7795),k=kt.n(A),b=kt(569),w=kt.n(b),N=kt(3565),M=kt.n(N),f=kt(9216),d=kt.n(f),j=kt(4589),L=kt.n(j),H=kt(4295),x={};x.styleTagTransform=L(),x.setAttributes=M(),x.insert=w().bind(null,"head"),x.domAPI=k(),x.insertStyleElement=d(),r()(H.Z,x),H.Z&&H.Z.locals&&H.Z.locals;var S=kt(4864);ue()}(),We}()})}(U0)),U0.exports}var V0={exports:{}};/*! For license information please see excalidraw.production.min.js.LICENSE.txt */var Yv;function p7(){return Yv||(Yv=1,function(o,e){(function(t,c){o.exports=c(Gd(),Mp())})(self,function(t,c){return function(){var _,ee,we,Fe,nt={5779:function(We,ue){ue.N=void 0;var n=/^([^\w]*)(javascript|data|vbscript)/im,r=/&#(\w+)(^\w|;)?/g,A=/&(newline|tab);/gi,k=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,b=/^.+(:|&colon;)/gim,w=[".","/"];ue.N=function(N){var M,f=(M=N||"",M.replace(r,function(L,H){return String.fromCharCode(H)})).replace(A,"").replace(k,"").trim();if(!f)return"about:blank";if(function(L){return w.indexOf(L[0])>-1}(f))return f;var d=f.match(b);if(!d)return f;var j=d[0];return n.test(j)?"about:blank":f}},7217:function(We,ue,n){function r(A,k,{checkForDefaultPrevented:b=!0}={}){return function(w){if(A==null||A(w),b===!1||!w.defaultPrevented)return k==null?void 0:k(w)}}n.d(ue,{M:function(){return r}})},9335:function(We,ue,n){n.d(ue,{F:function(){return A},e:function(){return k}});var r=n(9787);function A(...b){return w=>b.forEach(N=>function(M,f){typeof M=="function"?M(f):M!=null&&(M.current=f)}(N,w))}function k(...b){return(0,r.useCallback)(A(...b),b)}},1267:function(We,ue,n){n.d(ue,{b:function(){return A}});var r=n(9787);function A(b,w=[]){let N=[];const M=()=>{const f=N.map(d=>(0,r.createContext)(d));return function(d){const j=(d==null?void 0:d[b])||f;return(0,r.useMemo)(()=>({[`__scope${b}`]:{...d,[b]:j}}),[d,j])}};return M.scopeName=b,[function(f,d){const j=(0,r.createContext)(d),L=N.length;function H(x){const{scope:S,children:q,...ve}=x,ke=(S==null?void 0:S[b][L])||j,Se=(0,r.useMemo)(()=>ve,Object.values(ve));return(0,r.createElement)(ke.Provider,{value:Se},q)}return N=[...N,d],H.displayName=f+"Provider",[H,function(x,S){const q=(S==null?void 0:S[b][L])||j,ve=(0,r.useContext)(q);if(ve)return ve;if(d!==void 0)return d;throw new Error(`\`${x}\` must be used within \`${f}\``)}]},k(M,...w)]}function k(...b){const w=b[0];if(b.length===1)return w;const N=()=>{const M=b.map(f=>({useScope:f(),scopeName:f.scopeName}));return function(f){const d=M.reduce((j,{useScope:L,scopeName:H})=>({...j,...L(f)[`__scope${H}`]}),{});return(0,r.useMemo)(()=>({[`__scope${w.scopeName}`]:d}),[d])}};return N.scopeName=w.scopeName,N}},5622:function(We,ue,n){n.d(ue,{M:function(){return w}});var r=n(9787),A=n(3348);const k=r.useId||(()=>{});let b=0;function w(N){const[M,f]=r.useState(k());return(0,A.b)(()=>{N||f(d=>d??String(b++))},[N]),N||(M?`radix-${M}`:"")}},1483:function(We,ue,n){n.d(ue,{z:function(){return w}});var r=n(9787),A=n(5156),k=n(9335),b=n(3348);const w=M=>{const{present:f,children:d}=M,j=function(x){const[S,q]=(0,r.useState)(),ve=(0,r.useRef)({}),ke=(0,r.useRef)(x),Se=(0,r.useRef)("none"),ge=x?"mounted":"unmounted",[J,Q]=function(K,T){return(0,r.useReducer)((B,O)=>{const R=T[B][O];return R??B},K)}(ge,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return(0,r.useEffect)(()=>{const K=N(ve.current);Se.current=J==="mounted"?K:"none"},[J]),(0,b.b)(()=>{const K=ve.current,T=ke.current;if(T!==x){const B=Se.current,O=N(K);x?Q("MOUNT"):O==="none"||(K==null?void 0:K.display)==="none"?Q("UNMOUNT"):Q(T&&B!==O?"ANIMATION_OUT":"UNMOUNT"),ke.current=x}},[x,Q]),(0,b.b)(()=>{if(S){const K=B=>{const O=N(ve.current).includes(B.animationName);B.target===S&&O&&(0,A.flushSync)(()=>Q("ANIMATION_END"))},T=B=>{B.target===S&&(Se.current=N(ve.current))};return S.addEventListener("animationstart",T),S.addEventListener("animationcancel",K),S.addEventListener("animationend",K),()=>{S.removeEventListener("animationstart",T),S.removeEventListener("animationcancel",K),S.removeEventListener("animationend",K)}}Q("ANIMATION_END")},[S,Q]),{isPresent:["mounted","unmountSuspended"].includes(J),ref:(0,r.useCallback)(K=>{K&&(ve.current=getComputedStyle(K)),q(K)},[])}}(f),L=typeof d=="function"?d({present:j.isPresent}):r.Children.only(d),H=(0,k.e)(j.ref,L.ref);return typeof d=="function"||j.isPresent?(0,r.cloneElement)(L,{ref:H}):null};function N(M){return(M==null?void 0:M.animationName)||"none"}w.displayName="Presence"},3119:function(We,ue,n){n.d(ue,{WV:function(){return w},jH:function(){return N}});var r=n(11),A=n(9787),k=n(5156),b=n(4801);const w=["a","button","div","h2","h3","img","label","li","nav","ol","p","span","svg","ul"].reduce((M,f)=>{const d=(0,A.forwardRef)((j,L)=>{const{asChild:H,...x}=j,S=H?b.g7:f;return(0,A.useEffect)(()=>{window[Symbol.for("radix-ui")]=!0},[]),(0,A.createElement)(S,(0,r.Z)({},x,{ref:L}))});return d.displayName=`Primitive.${f}`,{...M,[f]:d}},{});function N(M,f){M&&(0,k.flushSync)(()=>M.dispatchEvent(f))}},4801:function(We,ue,n){n.d(ue,{g7:function(){return b}});var r=n(11),A=n(9787),k=n(9335);const b=(0,A.forwardRef)((d,j)=>{const{children:L,...H}=d,x=A.Children.toArray(L),S=x.find(M);if(S){const q=S.props.children,ve=x.map(ke=>ke===S?A.Children.count(q)>1?A.Children.only(null):(0,A.isValidElement)(q)?q.props.children:null:ke);return(0,A.createElement)(w,(0,r.Z)({},H,{ref:j}),(0,A.isValidElement)(q)?(0,A.cloneElement)(q,void 0,ve):null)}return(0,A.createElement)(w,(0,r.Z)({},H,{ref:j}),L)});b.displayName="Slot";const w=(0,A.forwardRef)((d,j)=>{const{children:L,...H}=d;return(0,A.isValidElement)(L)?(0,A.cloneElement)(L,{...f(H,L.props),ref:(0,k.F)(j,L.ref)}):A.Children.count(L)>1?A.Children.only(null):null});w.displayName="SlotClone";const N=({children:d})=>(0,A.createElement)(A.Fragment,null,d);function M(d){return(0,A.isValidElement)(d)&&d.type===N}function f(d,j){const L={...j};for(const H in j){const x=d[H],S=j[H];/^on[A-Z]/.test(H)?x&&S?L[H]=(...q)=>{S(...q),x(...q)}:x&&(L[H]=x):H==="style"?L[H]={...x,...S}:H==="className"&&(L[H]=[x,S].filter(Boolean).join(" "))}return{...d,...L}}},3060:function(We,ue,n){n.d(ue,{W:function(){return A}});var r=n(9787);function A(k){const b=(0,r.useRef)(k);return(0,r.useEffect)(()=>{b.current=k}),(0,r.useMemo)(()=>(...w)=>{var N;return(N=b.current)===null||N===void 0?void 0:N.call(b,...w)},[])}},2673:function(We,ue,n){n.d(ue,{T:function(){return k}});var r=n(9787),A=n(3060);function k({prop:b,defaultProp:w,onChange:N=()=>{}}){const[M,f]=function({defaultProp:H,onChange:x}){const S=(0,r.useState)(H),[q]=S,ve=(0,r.useRef)(q),ke=(0,A.W)(x);return(0,r.useEffect)(()=>{ve.current!==q&&(ke(q),ve.current=q)},[q,ve,ke]),S}({defaultProp:w,onChange:N}),d=b!==void 0,j=d?b:M,L=(0,A.W)(N);return[j,(0,r.useCallback)(H=>{if(d){const x=H,S=typeof H=="function"?x(b):H;S!==b&&L(S)}else f(H)},[d,b,f,L])]}},3348:function(We,ue,n){n.d(ue,{b:function(){return A}});var r=n(9787);const A=globalThis!=null&&globalThis.document?r.useLayoutEffect:()=>{}},45:function(We,ue,n){function r(k){var b,w,N="";if(typeof k=="string"||typeof k=="number")N+=k;else if(typeof k=="object")if(Array.isArray(k))for(b=0;b<k.length;b++)k[b]&&(w=r(k[b]))&&(N&&(N+=" "),N+=w);else for(b in k)k[b]&&(N&&(N+=" "),N+=b);return N}function A(){for(var k,b,w=0,N="";w<arguments.length;)(k=arguments[w++])&&(b=r(k))&&(N&&(N+=" "),N+=b);return N}n.d(ue,{Z:function(){return A}})},6233:function(We,ue){var n;n=function(r){r.version="0.3.0";var A=function(){for(var w=0,N=new Array(256),M=0;M!=256;++M)w=1&(w=1&(w=1&(w=1&(w=1&(w=1&(w=1&(w=1&(w=M)?-306674912^w>>>1:w>>>1)?-306674912^w>>>1:w>>>1)?-306674912^w>>>1:w>>>1)?-306674912^w>>>1:w>>>1)?-306674912^w>>>1:w>>>1)?-306674912^w>>>1:w>>>1)?-306674912^w>>>1:w>>>1)?-306674912^w>>>1:w>>>1,N[M]=w;return typeof Int32Array<"u"?new Int32Array(N):N}(),k=typeof Buffer<"u";function b(w){for(var N=-1,M=0,f=w.length-7;M<f;)N=(N=(N=(N=(N=(N=(N=(N=N>>>8^A[255&(N^w[M++])])>>>8^A[255&(N^w[M++])])>>>8^A[255&(N^w[M++])])>>>8^A[255&(N^w[M++])])>>>8^A[255&(N^w[M++])])>>>8^A[255&(N^w[M++])])>>>8^A[255&(N^w[M++])])>>>8^A[255&(N^w[M++])];for(;M<f+7;)N=N>>>8^A[255&(N^w[M++])];return-1^N}r.table=A,r.bstr=function(w){if(w.length>32768&&k)return b(new Buffer(w));for(var N=-1,M=w.length-1,f=0;f<M;)N=A[255&(N^w.charCodeAt(f++))]^N>>>8,N=A[255&(N^w.charCodeAt(f++))]^N>>>8;return f===M&&(N=N>>>8^A[255&(N^w.charCodeAt(f))]),-1^N},r.buf=function(w){if(w.length>1e4)return b(w);for(var N=-1,M=0,f=w.length-3;M<f;)N=(N=(N=(N=N>>>8^A[255&(N^w[M++])])>>>8^A[255&(N^w[M++])])>>>8^A[255&(N^w[M++])])>>>8^A[255&(N^w[M++])];for(;M<f+3;)N=N>>>8^A[255&(N^w[M++])];return-1^N},r.str=function(w){for(var N,M,f=-1,d=0,j=w.length;d<j;)(N=w.charCodeAt(d++))<128?f=f>>>8^A[255&(f^N)]:N<2048?f=(f=f>>>8^A[255&(f^(192|N>>6&31))])>>>8^A[255&(f^(128|63&N))]:N>=55296&&N<57344?(N=64+(1023&N),M=1023&w.charCodeAt(d++),f=(f=(f=(f=f>>>8^A[255&(f^(240|N>>8&7))])>>>8^A[255&(f^(128|N>>2&63))])>>>8^A[255&(f^(128|M>>6&15|3&N))])>>>8^A[255&(f^(128|63&M))]):f=(f=(f=f>>>8^A[255&(f^(224|N>>12&15))])>>>8^A[255&(f^(128|N>>6&63))])>>>8^A[255&(f^(128|63&N))];return-1^f}},n(typeof DO_NOT_EXPORT_CRC>"u"?ue:{})},200:function(We,ue,n){var r="Expected a function",A=/^\s+|\s+$/g,k=/^[-+]0x[0-9a-f]+$/i,b=/^0b[01]+$/i,w=/^0o[0-7]+$/i,N=parseInt,M=typeof n.g=="object"&&n.g&&n.g.Object===Object&&n.g,f=typeof self=="object"&&self&&self.Object===Object&&self,d=M||f||Function("return this")(),j=Object.prototype.toString,L=Math.max,H=Math.min,x=function(){return d.Date.now()};function S(ke,Se,ge){var J,Q,K,T,B,O,R=0,E=!1,v=!1,i=!0;if(typeof ke!="function")throw new TypeError(r);function a(V){var D=J,P=Q;return J=Q=void 0,R=V,T=ke.apply(P,D)}function y(V){return R=V,B=setTimeout(m,Se),E?a(V):T}function h(V){var D=V-O;return O===void 0||D>=Se||D<0||v&&V-R>=K}function m(){var V=x();if(h(V))return C(V);B=setTimeout(m,function(D){var P=Se-(D-O);return v?H(P,K-(D-R)):P}(V))}function C(V){return B=void 0,i&&J?a(V):(J=Q=void 0,T)}function U(){var V=x(),D=h(V);if(J=arguments,Q=this,O=V,D){if(B===void 0)return y(O);if(v)return B=setTimeout(m,Se),a(O)}return B===void 0&&(B=setTimeout(m,Se)),T}return Se=ve(Se)||0,q(ge)&&(E=!!ge.leading,K=(v="maxWait"in ge)?L(ve(ge.maxWait)||0,Se):K,i="trailing"in ge?!!ge.trailing:i),U.cancel=function(){B!==void 0&&clearTimeout(B),R=0,J=O=Q=B=void 0},U.flush=function(){return B===void 0?T:C(x())},U}function q(ke){var Se=typeof ke;return!!ke&&(Se=="object"||Se=="function")}function ve(ke){if(typeof ke=="number")return ke;if(function(J){return typeof J=="symbol"||function(Q){return!!Q&&typeof Q=="object"}(J)&&j.call(J)=="[object Symbol]"}(ke))return NaN;if(q(ke)){var Se=typeof ke.valueOf=="function"?ke.valueOf():ke;ke=q(Se)?Se+"":Se}if(typeof ke!="string")return ke===0?ke:+ke;ke=ke.replace(A,"");var ge=b.test(ke);return ge||w.test(ke)?N(ke.slice(2),ge?2:8):k.test(ke)?NaN:+ke}We.exports=function(ke,Se,ge){var J=!0,Q=!0;if(typeof ke!="function")throw new TypeError(r);return q(ge)&&(J="leading"in ge?!!ge.leading:J,Q="trailing"in ge?!!ge.trailing:Q),S(ke,Se,{leading:J,maxWait:Se,trailing:Q})}},2744:function(We,ue,n){var r={};(0,n(9187).assign)(r,n(4395),n(578),n(2684)),We.exports=r},4395:function(We,ue,n){var r=n(6193),A=n(9187),k=n(8592),b=n(5604),w=n(249),N=Object.prototype.toString;function M(d){if(!(this instanceof M))return new M(d);this.options=A.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},d||{});var j=this.options;j.raw&&j.windowBits>0?j.windowBits=-j.windowBits:j.gzip&&j.windowBits>0&&j.windowBits<16&&(j.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new w,this.strm.avail_out=0;var L=r.deflateInit2(this.strm,j.level,j.method,j.windowBits,j.memLevel,j.strategy);if(L!==0)throw new Error(b[L]);if(j.header&&r.deflateSetHeader(this.strm,j.header),j.dictionary){var H;if(H=typeof j.dictionary=="string"?k.string2buf(j.dictionary):N.call(j.dictionary)==="[object ArrayBuffer]"?new Uint8Array(j.dictionary):j.dictionary,(L=r.deflateSetDictionary(this.strm,H))!==0)throw new Error(b[L]);this._dict_set=!0}}function f(d,j){var L=new M(j);if(L.push(d,!0),L.err)throw L.msg||b[L.err];return L.result}M.prototype.push=function(d,j){var L,H,x=this.strm,S=this.options.chunkSize;if(this.ended)return!1;H=j===~~j?j:j===!0?4:0,typeof d=="string"?x.input=k.string2buf(d):N.call(d)==="[object ArrayBuffer]"?x.input=new Uint8Array(d):x.input=d,x.next_in=0,x.avail_in=x.input.length;do{if(x.avail_out===0&&(x.output=new A.Buf8(S),x.next_out=0,x.avail_out=S),(L=r.deflate(x,H))!==1&&L!==0)return this.onEnd(L),this.ended=!0,!1;x.avail_out!==0&&(x.avail_in!==0||H!==4&&H!==2)||(this.options.to==="string"?this.onData(k.buf2binstring(A.shrinkBuf(x.output,x.next_out))):this.onData(A.shrinkBuf(x.output,x.next_out)))}while((x.avail_in>0||x.avail_out===0)&&L!==1);return H===4?(L=r.deflateEnd(this.strm),this.onEnd(L),this.ended=!0,L===0):H!==2||(this.onEnd(0),x.avail_out=0,!0)},M.prototype.onData=function(d){this.chunks.push(d)},M.prototype.onEnd=function(d){d===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=A.flattenChunks(this.chunks)),this.chunks=[],this.err=d,this.msg=this.strm.msg},ue.Deflate=M,ue.deflate=f,ue.deflateRaw=function(d,j){return(j=j||{}).raw=!0,f(d,j)},ue.gzip=function(d,j){return(j=j||{}).gzip=!0,f(d,j)}},578:function(We,ue,n){var r=n(7823),A=n(9187),k=n(8592),b=n(2684),w=n(5604),N=n(249),M=n(9968),f=Object.prototype.toString;function d(L){if(!(this instanceof d))return new d(L);this.options=A.assign({chunkSize:16384,windowBits:0,to:""},L||{});var H=this.options;H.raw&&H.windowBits>=0&&H.windowBits<16&&(H.windowBits=-H.windowBits,H.windowBits===0&&(H.windowBits=-15)),!(H.windowBits>=0&&H.windowBits<16)||L&&L.windowBits||(H.windowBits+=32),H.windowBits>15&&H.windowBits<48&&(15&H.windowBits)==0&&(H.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new N,this.strm.avail_out=0;var x=r.inflateInit2(this.strm,H.windowBits);if(x!==b.Z_OK)throw new Error(w[x]);if(this.header=new M,r.inflateGetHeader(this.strm,this.header),H.dictionary&&(typeof H.dictionary=="string"?H.dictionary=k.string2buf(H.dictionary):f.call(H.dictionary)==="[object ArrayBuffer]"&&(H.dictionary=new Uint8Array(H.dictionary)),H.raw&&(x=r.inflateSetDictionary(this.strm,H.dictionary))!==b.Z_OK))throw new Error(w[x])}function j(L,H){var x=new d(H);if(x.push(L,!0),x.err)throw x.msg||w[x.err];return x.result}d.prototype.push=function(L,H){var x,S,q,ve,ke,Se=this.strm,ge=this.options.chunkSize,J=this.options.dictionary,Q=!1;if(this.ended)return!1;S=H===~~H?H:H===!0?b.Z_FINISH:b.Z_NO_FLUSH,typeof L=="string"?Se.input=k.binstring2buf(L):f.call(L)==="[object ArrayBuffer]"?Se.input=new Uint8Array(L):Se.input=L,Se.next_in=0,Se.avail_in=Se.input.length;do{if(Se.avail_out===0&&(Se.output=new A.Buf8(ge),Se.next_out=0,Se.avail_out=ge),(x=r.inflate(Se,b.Z_NO_FLUSH))===b.Z_NEED_DICT&&J&&(x=r.inflateSetDictionary(this.strm,J)),x===b.Z_BUF_ERROR&&Q===!0&&(x=b.Z_OK,Q=!1),x!==b.Z_STREAM_END&&x!==b.Z_OK)return this.onEnd(x),this.ended=!0,!1;Se.next_out&&(Se.avail_out!==0&&x!==b.Z_STREAM_END&&(Se.avail_in!==0||S!==b.Z_FINISH&&S!==b.Z_SYNC_FLUSH)||(this.options.to==="string"?(q=k.utf8border(Se.output,Se.next_out),ve=Se.next_out-q,ke=k.buf2string(Se.output,q),Se.next_out=ve,Se.avail_out=ge-ve,ve&&A.arraySet(Se.output,Se.output,q,ve,0),this.onData(ke)):this.onData(A.shrinkBuf(Se.output,Se.next_out)))),Se.avail_in===0&&Se.avail_out===0&&(Q=!0)}while((Se.avail_in>0||Se.avail_out===0)&&x!==b.Z_STREAM_END);return x===b.Z_STREAM_END&&(S=b.Z_FINISH),S===b.Z_FINISH?(x=r.inflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===b.Z_OK):S!==b.Z_SYNC_FLUSH||(this.onEnd(b.Z_OK),Se.avail_out=0,!0)},d.prototype.onData=function(L){this.chunks.push(L)},d.prototype.onEnd=function(L){L===b.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=A.flattenChunks(this.chunks)),this.chunks=[],this.err=L,this.msg=this.strm.msg},ue.Inflate=d,ue.inflate=j,ue.inflateRaw=function(L,H){return(H=H||{}).raw=!0,j(L,H)},ue.ungzip=j},9187:function(We,ue){var n=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function r(b,w){return Object.prototype.hasOwnProperty.call(b,w)}ue.assign=function(b){for(var w=Array.prototype.slice.call(arguments,1);w.length;){var N=w.shift();if(N){if(typeof N!="object")throw new TypeError(N+"must be non-object");for(var M in N)r(N,M)&&(b[M]=N[M])}}return b},ue.shrinkBuf=function(b,w){return b.length===w?b:b.subarray?b.subarray(0,w):(b.length=w,b)};var A={arraySet:function(b,w,N,M,f){if(w.subarray&&b.subarray)b.set(w.subarray(N,N+M),f);else for(var d=0;d<M;d++)b[f+d]=w[N+d]},flattenChunks:function(b){var w,N,M,f,d,j;for(M=0,w=0,N=b.length;w<N;w++)M+=b[w].length;for(j=new Uint8Array(M),f=0,w=0,N=b.length;w<N;w++)d=b[w],j.set(d,f),f+=d.length;return j}},k={arraySet:function(b,w,N,M,f){for(var d=0;d<M;d++)b[f+d]=w[N+d]},flattenChunks:function(b){return[].concat.apply([],b)}};ue.setTyped=function(b){b?(ue.Buf8=Uint8Array,ue.Buf16=Uint16Array,ue.Buf32=Int32Array,ue.assign(ue,A)):(ue.Buf8=Array,ue.Buf16=Array,ue.Buf32=Array,ue.assign(ue,k))},ue.setTyped(n)},8592:function(We,ue,n){var r=n(9187),A=!0,k=!0;try{String.fromCharCode.apply(null,[0])}catch{A=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{k=!1}for(var b=new r.Buf8(256),w=0;w<256;w++)b[w]=w>=252?6:w>=248?5:w>=240?4:w>=224?3:w>=192?2:1;function N(M,f){if(f<65534&&(M.subarray&&k||!M.subarray&&A))return String.fromCharCode.apply(null,r.shrinkBuf(M,f));for(var d="",j=0;j<f;j++)d+=String.fromCharCode(M[j]);return d}b[254]=b[254]=1,ue.string2buf=function(M){var f,d,j,L,H,x=M.length,S=0;for(L=0;L<x;L++)(64512&(d=M.charCodeAt(L)))==55296&&L+1<x&&(64512&(j=M.charCodeAt(L+1)))==56320&&(d=65536+(d-55296<<10)+(j-56320),L++),S+=d<128?1:d<2048?2:d<65536?3:4;for(f=new r.Buf8(S),H=0,L=0;H<S;L++)(64512&(d=M.charCodeAt(L)))==55296&&L+1<x&&(64512&(j=M.charCodeAt(L+1)))==56320&&(d=65536+(d-55296<<10)+(j-56320),L++),d<128?f[H++]=d:d<2048?(f[H++]=192|d>>>6,f[H++]=128|63&d):d<65536?(f[H++]=224|d>>>12,f[H++]=128|d>>>6&63,f[H++]=128|63&d):(f[H++]=240|d>>>18,f[H++]=128|d>>>12&63,f[H++]=128|d>>>6&63,f[H++]=128|63&d);return f},ue.buf2binstring=function(M){return N(M,M.length)},ue.binstring2buf=function(M){for(var f=new r.Buf8(M.length),d=0,j=f.length;d<j;d++)f[d]=M.charCodeAt(d);return f},ue.buf2string=function(M,f){var d,j,L,H,x=f||M.length,S=new Array(2*x);for(j=0,d=0;d<x;)if((L=M[d++])<128)S[j++]=L;else if((H=b[L])>4)S[j++]=65533,d+=H-1;else{for(L&=H===2?31:H===3?15:7;H>1&&d<x;)L=L<<6|63&M[d++],H--;H>1?S[j++]=65533:L<65536?S[j++]=L:(L-=65536,S[j++]=55296|L>>10&1023,S[j++]=56320|1023&L)}return N(S,j)},ue.utf8border=function(M,f){var d;for((f=f||M.length)>M.length&&(f=M.length),d=f-1;d>=0&&(192&M[d])==128;)d--;return d<0||d===0?f:d+b[M[d]]>f?d:f}},3693:function(We){We.exports=function(ue,n,r,A){for(var k=65535&ue|0,b=ue>>>16&65535|0,w=0;r!==0;){r-=w=r>2e3?2e3:r;do b=b+(k=k+n[A++]|0)|0;while(--w);k%=65521,b%=65521}return k|b<<16|0}},2684:function(We){We.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},8464:function(We){var ue=function(){for(var n,r=[],A=0;A<256;A++){n=A;for(var k=0;k<8;k++)n=1&n?3988292384^n>>>1:n>>>1;r[A]=n}return r}();We.exports=function(n,r,A,k){var b=ue,w=k+A;n^=-1;for(var N=k;N<w;N++)n=n>>>8^b[255&(n^r[N])];return-1^n}},6193:function(We,ue,n){var r,A=n(9187),k=n(8676),b=n(3693),w=n(8464),N=n(5604),M=-2,f=258,d=262,j=103,L=113,H=666;function x(i,a){return i.msg=N[a],a}function S(i){return(i<<1)-(i>4?9:0)}function q(i){for(var a=i.length;--a>=0;)i[a]=0}function ve(i){var a=i.state,y=a.pending;y>i.avail_out&&(y=i.avail_out),y!==0&&(A.arraySet(i.output,a.pending_buf,a.pending_out,y,i.next_out),i.next_out+=y,a.pending_out+=y,i.total_out+=y,i.avail_out-=y,a.pending-=y,a.pending===0&&(a.pending_out=0))}function ke(i,a){k._tr_flush_block(i,i.block_start>=0?i.block_start:-1,i.strstart-i.block_start,a),i.block_start=i.strstart,ve(i.strm)}function Se(i,a){i.pending_buf[i.pending++]=a}function ge(i,a){i.pending_buf[i.pending++]=a>>>8&255,i.pending_buf[i.pending++]=255&a}function J(i,a){var y,h,m=i.max_chain_length,C=i.strstart,U=i.prev_length,V=i.nice_match,D=i.strstart>i.w_size-d?i.strstart-(i.w_size-d):0,P=i.window,F=i.w_mask,X=i.prev,le=i.strstart+f,de=P[C+U-1],fe=P[C+U];i.prev_length>=i.good_match&&(m>>=2),V>i.lookahead&&(V=i.lookahead);do if(P[(y=a)+U]===fe&&P[y+U-1]===de&&P[y]===P[C]&&P[++y]===P[C+1]){C+=2,y++;do;while(P[++C]===P[++y]&&P[++C]===P[++y]&&P[++C]===P[++y]&&P[++C]===P[++y]&&P[++C]===P[++y]&&P[++C]===P[++y]&&P[++C]===P[++y]&&P[++C]===P[++y]&&C<le);if(h=f-(le-C),C=le-f,h>U){if(i.match_start=a,U=h,h>=V)break;de=P[C+U-1],fe=P[C+U]}}while((a=X[a&F])>D&&--m!=0);return U<=i.lookahead?U:i.lookahead}function Q(i){var a,y,h,m,C,U,V,D,P,F,X=i.w_size;do{if(m=i.window_size-i.lookahead-i.strstart,i.strstart>=X+(X-d)){A.arraySet(i.window,i.window,X,X,0),i.match_start-=X,i.strstart-=X,i.block_start-=X,a=y=i.hash_size;do h=i.head[--a],i.head[a]=h>=X?h-X:0;while(--y);a=y=X;do h=i.prev[--a],i.prev[a]=h>=X?h-X:0;while(--y);m+=X}if(i.strm.avail_in===0)break;if(U=i.strm,V=i.window,D=i.strstart+i.lookahead,P=m,F=void 0,(F=U.avail_in)>P&&(F=P),y=F===0?0:(U.avail_in-=F,A.arraySet(V,U.input,U.next_in,F,D),U.state.wrap===1?U.adler=b(U.adler,V,F,D):U.state.wrap===2&&(U.adler=w(U.adler,V,F,D)),U.next_in+=F,U.total_in+=F,F),i.lookahead+=y,i.lookahead+i.insert>=3)for(C=i.strstart-i.insert,i.ins_h=i.window[C],i.ins_h=(i.ins_h<<i.hash_shift^i.window[C+1])&i.hash_mask;i.insert&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[C+3-1])&i.hash_mask,i.prev[C&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=C,C++,i.insert--,!(i.lookahead+i.insert<3)););}while(i.lookahead<d&&i.strm.avail_in!==0)}function K(i,a){for(var y,h;;){if(i.lookahead<d){if(Q(i),i.lookahead<d&&a===0)return 1;if(i.lookahead===0)break}if(y=0,i.lookahead>=3&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+3-1])&i.hash_mask,y=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),y!==0&&i.strstart-y<=i.w_size-d&&(i.match_length=J(i,y)),i.match_length>=3)if(h=k._tr_tally(i,i.strstart-i.match_start,i.match_length-3),i.lookahead-=i.match_length,i.match_length<=i.max_lazy_match&&i.lookahead>=3){i.match_length--;do i.strstart++,i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+3-1])&i.hash_mask,y=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart;while(--i.match_length!=0);i.strstart++}else i.strstart+=i.match_length,i.match_length=0,i.ins_h=i.window[i.strstart],i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+1])&i.hash_mask;else h=k._tr_tally(i,0,i.window[i.strstart]),i.lookahead--,i.strstart++;if(h&&(ke(i,!1),i.strm.avail_out===0))return 1}return i.insert=i.strstart<2?i.strstart:2,a===4?(ke(i,!0),i.strm.avail_out===0?3:4):i.last_lit&&(ke(i,!1),i.strm.avail_out===0)?1:2}function T(i,a){for(var y,h,m;;){if(i.lookahead<d){if(Q(i),i.lookahead<d&&a===0)return 1;if(i.lookahead===0)break}if(y=0,i.lookahead>=3&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+3-1])&i.hash_mask,y=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart),i.prev_length=i.match_length,i.prev_match=i.match_start,i.match_length=2,y!==0&&i.prev_length<i.max_lazy_match&&i.strstart-y<=i.w_size-d&&(i.match_length=J(i,y),i.match_length<=5&&(i.strategy===1||i.match_length===3&&i.strstart-i.match_start>4096)&&(i.match_length=2)),i.prev_length>=3&&i.match_length<=i.prev_length){m=i.strstart+i.lookahead-3,h=k._tr_tally(i,i.strstart-1-i.prev_match,i.prev_length-3),i.lookahead-=i.prev_length-1,i.prev_length-=2;do++i.strstart<=m&&(i.ins_h=(i.ins_h<<i.hash_shift^i.window[i.strstart+3-1])&i.hash_mask,y=i.prev[i.strstart&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=i.strstart);while(--i.prev_length!=0);if(i.match_available=0,i.match_length=2,i.strstart++,h&&(ke(i,!1),i.strm.avail_out===0))return 1}else if(i.match_available){if((h=k._tr_tally(i,0,i.window[i.strstart-1]))&&ke(i,!1),i.strstart++,i.lookahead--,i.strm.avail_out===0)return 1}else i.match_available=1,i.strstart++,i.lookahead--}return i.match_available&&(h=k._tr_tally(i,0,i.window[i.strstart-1]),i.match_available=0),i.insert=i.strstart<2?i.strstart:2,a===4?(ke(i,!0),i.strm.avail_out===0?3:4):i.last_lit&&(ke(i,!1),i.strm.avail_out===0)?1:2}function B(i,a,y,h,m){this.good_length=i,this.max_lazy=a,this.nice_length=y,this.max_chain=h,this.func=m}function O(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new A.Buf16(1146),this.dyn_dtree=new A.Buf16(122),this.bl_tree=new A.Buf16(78),q(this.dyn_ltree),q(this.dyn_dtree),q(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new A.Buf16(16),this.heap=new A.Buf16(573),q(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new A.Buf16(573),q(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function R(i){var a;return i&&i.state?(i.total_in=i.total_out=0,i.data_type=2,(a=i.state).pending=0,a.pending_out=0,a.wrap<0&&(a.wrap=-a.wrap),a.status=a.wrap?42:L,i.adler=a.wrap===2?0:1,a.last_flush=0,k._tr_init(a),0):x(i,M)}function E(i){var a,y=R(i);return y===0&&((a=i.state).window_size=2*a.w_size,q(a.head),a.max_lazy_match=r[a.level].max_lazy,a.good_match=r[a.level].good_length,a.nice_match=r[a.level].nice_length,a.max_chain_length=r[a.level].max_chain,a.strstart=0,a.block_start=0,a.lookahead=0,a.insert=0,a.match_length=a.prev_length=2,a.match_available=0,a.ins_h=0),y}function v(i,a,y,h,m,C){if(!i)return M;var U=1;if(a===-1&&(a=6),h<0?(U=0,h=-h):h>15&&(U=2,h-=16),m<1||m>9||y!==8||h<8||h>15||a<0||a>9||C<0||C>4)return x(i,M);h===8&&(h=9);var V=new O;return i.state=V,V.strm=i,V.wrap=U,V.gzhead=null,V.w_bits=h,V.w_size=1<<V.w_bits,V.w_mask=V.w_size-1,V.hash_bits=m+7,V.hash_size=1<<V.hash_bits,V.hash_mask=V.hash_size-1,V.hash_shift=~~((V.hash_bits+3-1)/3),V.window=new A.Buf8(2*V.w_size),V.head=new A.Buf16(V.hash_size),V.prev=new A.Buf16(V.w_size),V.lit_bufsize=1<<m+6,V.pending_buf_size=4*V.lit_bufsize,V.pending_buf=new A.Buf8(V.pending_buf_size),V.d_buf=1*V.lit_bufsize,V.l_buf=3*V.lit_bufsize,V.level=a,V.strategy=C,V.method=y,E(i)}r=[new B(0,0,0,0,function(i,a){var y=65535;for(y>i.pending_buf_size-5&&(y=i.pending_buf_size-5);;){if(i.lookahead<=1){if(Q(i),i.lookahead===0&&a===0)return 1;if(i.lookahead===0)break}i.strstart+=i.lookahead,i.lookahead=0;var h=i.block_start+y;if((i.strstart===0||i.strstart>=h)&&(i.lookahead=i.strstart-h,i.strstart=h,ke(i,!1),i.strm.avail_out===0)||i.strstart-i.block_start>=i.w_size-d&&(ke(i,!1),i.strm.avail_out===0))return 1}return i.insert=0,a===4?(ke(i,!0),i.strm.avail_out===0?3:4):(i.strstart>i.block_start&&(ke(i,!1),i.strm.avail_out),1)}),new B(4,4,8,4,K),new B(4,5,16,8,K),new B(4,6,32,32,K),new B(4,4,16,16,T),new B(8,16,32,32,T),new B(8,16,128,128,T),new B(8,32,128,256,T),new B(32,128,258,1024,T),new B(32,258,258,4096,T)],ue.deflateInit=function(i,a){return v(i,a,8,15,8,0)},ue.deflateInit2=v,ue.deflateReset=E,ue.deflateResetKeep=R,ue.deflateSetHeader=function(i,a){return i&&i.state?i.state.wrap!==2?M:(i.state.gzhead=a,0):M},ue.deflate=function(i,a){var y,h,m,C;if(!i||!i.state||a>5||a<0)return i?x(i,M):M;if(h=i.state,!i.output||!i.input&&i.avail_in!==0||h.status===H&&a!==4)return x(i,i.avail_out===0?-5:M);if(h.strm=i,y=h.last_flush,h.last_flush=a,h.status===42)if(h.wrap===2)i.adler=0,Se(h,31),Se(h,139),Se(h,8),h.gzhead?(Se(h,(h.gzhead.text?1:0)+(h.gzhead.hcrc?2:0)+(h.gzhead.extra?4:0)+(h.gzhead.name?8:0)+(h.gzhead.comment?16:0)),Se(h,255&h.gzhead.time),Se(h,h.gzhead.time>>8&255),Se(h,h.gzhead.time>>16&255),Se(h,h.gzhead.time>>24&255),Se(h,h.level===9?2:h.strategy>=2||h.level<2?4:0),Se(h,255&h.gzhead.os),h.gzhead.extra&&h.gzhead.extra.length&&(Se(h,255&h.gzhead.extra.length),Se(h,h.gzhead.extra.length>>8&255)),h.gzhead.hcrc&&(i.adler=w(i.adler,h.pending_buf,h.pending,0)),h.gzindex=0,h.status=69):(Se(h,0),Se(h,0),Se(h,0),Se(h,0),Se(h,0),Se(h,h.level===9?2:h.strategy>=2||h.level<2?4:0),Se(h,3),h.status=L);else{var U=8+(h.w_bits-8<<4)<<8;U|=(h.strategy>=2||h.level<2?0:h.level<6?1:h.level===6?2:3)<<6,h.strstart!==0&&(U|=32),U+=31-U%31,h.status=L,ge(h,U),h.strstart!==0&&(ge(h,i.adler>>>16),ge(h,65535&i.adler)),i.adler=1}if(h.status===69)if(h.gzhead.extra){for(m=h.pending;h.gzindex<(65535&h.gzhead.extra.length)&&(h.pending!==h.pending_buf_size||(h.gzhead.hcrc&&h.pending>m&&(i.adler=w(i.adler,h.pending_buf,h.pending-m,m)),ve(i),m=h.pending,h.pending!==h.pending_buf_size));)Se(h,255&h.gzhead.extra[h.gzindex]),h.gzindex++;h.gzhead.hcrc&&h.pending>m&&(i.adler=w(i.adler,h.pending_buf,h.pending-m,m)),h.gzindex===h.gzhead.extra.length&&(h.gzindex=0,h.status=73)}else h.status=73;if(h.status===73)if(h.gzhead.name){m=h.pending;do{if(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>m&&(i.adler=w(i.adler,h.pending_buf,h.pending-m,m)),ve(i),m=h.pending,h.pending===h.pending_buf_size)){C=1;break}C=h.gzindex<h.gzhead.name.length?255&h.gzhead.name.charCodeAt(h.gzindex++):0,Se(h,C)}while(C!==0);h.gzhead.hcrc&&h.pending>m&&(i.adler=w(i.adler,h.pending_buf,h.pending-m,m)),C===0&&(h.gzindex=0,h.status=91)}else h.status=91;if(h.status===91)if(h.gzhead.comment){m=h.pending;do{if(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>m&&(i.adler=w(i.adler,h.pending_buf,h.pending-m,m)),ve(i),m=h.pending,h.pending===h.pending_buf_size)){C=1;break}C=h.gzindex<h.gzhead.comment.length?255&h.gzhead.comment.charCodeAt(h.gzindex++):0,Se(h,C)}while(C!==0);h.gzhead.hcrc&&h.pending>m&&(i.adler=w(i.adler,h.pending_buf,h.pending-m,m)),C===0&&(h.status=j)}else h.status=j;if(h.status===j&&(h.gzhead.hcrc?(h.pending+2>h.pending_buf_size&&ve(i),h.pending+2<=h.pending_buf_size&&(Se(h,255&i.adler),Se(h,i.adler>>8&255),i.adler=0,h.status=L)):h.status=L),h.pending!==0){if(ve(i),i.avail_out===0)return h.last_flush=-1,0}else if(i.avail_in===0&&S(a)<=S(y)&&a!==4)return x(i,-5);if(h.status===H&&i.avail_in!==0)return x(i,-5);if(i.avail_in!==0||h.lookahead!==0||a!==0&&h.status!==H){var V=h.strategy===2?function(D,P){for(var F;;){if(D.lookahead===0&&(Q(D),D.lookahead===0)){if(P===0)return 1;break}if(D.match_length=0,F=k._tr_tally(D,0,D.window[D.strstart]),D.lookahead--,D.strstart++,F&&(ke(D,!1),D.strm.avail_out===0))return 1}return D.insert=0,P===4?(ke(D,!0),D.strm.avail_out===0?3:4):D.last_lit&&(ke(D,!1),D.strm.avail_out===0)?1:2}(h,a):h.strategy===3?function(D,P){for(var F,X,le,de,fe=D.window;;){if(D.lookahead<=f){if(Q(D),D.lookahead<=f&&P===0)return 1;if(D.lookahead===0)break}if(D.match_length=0,D.lookahead>=3&&D.strstart>0&&(X=fe[le=D.strstart-1])===fe[++le]&&X===fe[++le]&&X===fe[++le]){de=D.strstart+f;do;while(X===fe[++le]&&X===fe[++le]&&X===fe[++le]&&X===fe[++le]&&X===fe[++le]&&X===fe[++le]&&X===fe[++le]&&X===fe[++le]&&le<de);D.match_length=f-(de-le),D.match_length>D.lookahead&&(D.match_length=D.lookahead)}if(D.match_length>=3?(F=k._tr_tally(D,1,D.match_length-3),D.lookahead-=D.match_length,D.strstart+=D.match_length,D.match_length=0):(F=k._tr_tally(D,0,D.window[D.strstart]),D.lookahead--,D.strstart++),F&&(ke(D,!1),D.strm.avail_out===0))return 1}return D.insert=0,P===4?(ke(D,!0),D.strm.avail_out===0?3:4):D.last_lit&&(ke(D,!1),D.strm.avail_out===0)?1:2}(h,a):r[h.level].func(h,a);if(V!==3&&V!==4||(h.status=H),V===1||V===3)return i.avail_out===0&&(h.last_flush=-1),0;if(V===2&&(a===1?k._tr_align(h):a!==5&&(k._tr_stored_block(h,0,0,!1),a===3&&(q(h.head),h.lookahead===0&&(h.strstart=0,h.block_start=0,h.insert=0))),ve(i),i.avail_out===0))return h.last_flush=-1,0}return a!==4?0:h.wrap<=0?1:(h.wrap===2?(Se(h,255&i.adler),Se(h,i.adler>>8&255),Se(h,i.adler>>16&255),Se(h,i.adler>>24&255),Se(h,255&i.total_in),Se(h,i.total_in>>8&255),Se(h,i.total_in>>16&255),Se(h,i.total_in>>24&255)):(ge(h,i.adler>>>16),ge(h,65535&i.adler)),ve(i),h.wrap>0&&(h.wrap=-h.wrap),h.pending!==0?0:1)},ue.deflateEnd=function(i){var a;return i&&i.state?(a=i.state.status)!==42&&a!==69&&a!==73&&a!==91&&a!==j&&a!==L&&a!==H?x(i,M):(i.state=null,a===L?x(i,-3):0):M},ue.deflateSetDictionary=function(i,a){var y,h,m,C,U,V,D,P,F=a.length;if(!i||!i.state||(C=(y=i.state).wrap)===2||C===1&&y.status!==42||y.lookahead)return M;for(C===1&&(i.adler=b(i.adler,a,F,0)),y.wrap=0,F>=y.w_size&&(C===0&&(q(y.head),y.strstart=0,y.block_start=0,y.insert=0),P=new A.Buf8(y.w_size),A.arraySet(P,a,F-y.w_size,y.w_size,0),a=P,F=y.w_size),U=i.avail_in,V=i.next_in,D=i.input,i.avail_in=F,i.next_in=0,i.input=a,Q(y);y.lookahead>=3;){h=y.strstart,m=y.lookahead-2;do y.ins_h=(y.ins_h<<y.hash_shift^y.window[h+3-1])&y.hash_mask,y.prev[h&y.w_mask]=y.head[y.ins_h],y.head[y.ins_h]=h,h++;while(--m);y.strstart=h,y.lookahead=2,Q(y)}return y.strstart+=y.lookahead,y.block_start=y.strstart,y.insert=y.lookahead,y.lookahead=0,y.match_length=y.prev_length=2,y.match_available=0,i.next_in=V,i.input=D,i.avail_in=U,y.wrap=C,0},ue.deflateInfo="pako deflate (from Nodeca project)"},9968:function(We){We.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},9365:function(We){We.exports=function(ue,n){var r,A,k,b,w,N,M,f,d,j,L,H,x,S,q,ve,ke,Se,ge,J,Q,K,T,B,O;r=ue.state,A=ue.next_in,B=ue.input,k=A+(ue.avail_in-5),b=ue.next_out,O=ue.output,w=b-(n-ue.avail_out),N=b+(ue.avail_out-257),M=r.dmax,f=r.wsize,d=r.whave,j=r.wnext,L=r.window,H=r.hold,x=r.bits,S=r.lencode,q=r.distcode,ve=(1<<r.lenbits)-1,ke=(1<<r.distbits)-1;e:do{x<15&&(H+=B[A++]<<x,x+=8,H+=B[A++]<<x,x+=8),Se=S[H&ve];t:for(;;){if(H>>>=ge=Se>>>24,x-=ge,(ge=Se>>>16&255)===0)O[b++]=65535&Se;else{if(!(16&ge)){if((64&ge)==0){Se=S[(65535&Se)+(H&(1<<ge)-1)];continue t}if(32&ge){r.mode=12;break e}ue.msg="invalid literal/length code",r.mode=30;break e}J=65535&Se,(ge&=15)&&(x<ge&&(H+=B[A++]<<x,x+=8),J+=H&(1<<ge)-1,H>>>=ge,x-=ge),x<15&&(H+=B[A++]<<x,x+=8,H+=B[A++]<<x,x+=8),Se=q[H&ke];r:for(;;){if(H>>>=ge=Se>>>24,x-=ge,!(16&(ge=Se>>>16&255))){if((64&ge)==0){Se=q[(65535&Se)+(H&(1<<ge)-1)];continue r}ue.msg="invalid distance code",r.mode=30;break e}if(Q=65535&Se,x<(ge&=15)&&(H+=B[A++]<<x,(x+=8)<ge&&(H+=B[A++]<<x,x+=8)),(Q+=H&(1<<ge)-1)>M){ue.msg="invalid distance too far back",r.mode=30;break e}if(H>>>=ge,x-=ge,Q>(ge=b-w)){if((ge=Q-ge)>d&&r.sane){ue.msg="invalid distance too far back",r.mode=30;break e}if(K=0,T=L,j===0){if(K+=f-ge,ge<J){J-=ge;do O[b++]=L[K++];while(--ge);K=b-Q,T=O}}else if(j<ge){if(K+=f+j-ge,(ge-=j)<J){J-=ge;do O[b++]=L[K++];while(--ge);if(K=0,j<J){J-=ge=j;do O[b++]=L[K++];while(--ge);K=b-Q,T=O}}}else if(K+=j-ge,ge<J){J-=ge;do O[b++]=L[K++];while(--ge);K=b-Q,T=O}for(;J>2;)O[b++]=T[K++],O[b++]=T[K++],O[b++]=T[K++],J-=3;J&&(O[b++]=T[K++],J>1&&(O[b++]=T[K++]))}else{K=b-Q;do O[b++]=O[K++],O[b++]=O[K++],O[b++]=O[K++],J-=3;while(J>2);J&&(O[b++]=O[K++],J>1&&(O[b++]=O[K++]))}break}}break}}while(A<k&&b<N);A-=J=x>>3,H&=(1<<(x-=J<<3))-1,ue.next_in=A,ue.next_out=b,ue.avail_in=A<k?k-A+5:5-(A-k),ue.avail_out=b<N?N-b+257:257-(b-N),r.hold=H,r.bits=x}},7823:function(We,ue,n){var r=n(9187),A=n(3693),k=n(8464),b=n(9365),w=n(6446),N=-2,M=12,f=30;function d(J){return(J>>>24&255)+(J>>>8&65280)+((65280&J)<<8)+((255&J)<<24)}function j(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function L(J){var Q;return J&&J.state?(Q=J.state,J.total_in=J.total_out=Q.total=0,J.msg="",Q.wrap&&(J.adler=1&Q.wrap),Q.mode=1,Q.last=0,Q.havedict=0,Q.dmax=32768,Q.head=null,Q.hold=0,Q.bits=0,Q.lencode=Q.lendyn=new r.Buf32(852),Q.distcode=Q.distdyn=new r.Buf32(592),Q.sane=1,Q.back=-1,0):N}function H(J){var Q;return J&&J.state?((Q=J.state).wsize=0,Q.whave=0,Q.wnext=0,L(J)):N}function x(J,Q){var K,T;return J&&J.state?(T=J.state,Q<0?(K=0,Q=-Q):(K=1+(Q>>4),Q<48&&(Q&=15)),Q&&(Q<8||Q>15)?N:(T.window!==null&&T.wbits!==Q&&(T.window=null),T.wrap=K,T.wbits=Q,H(J))):N}function S(J,Q){var K,T;return J?(T=new j,J.state=T,T.window=null,(K=x(J,Q))!==0&&(J.state=null),K):N}var q,ve,ke=!0;function Se(J){if(ke){var Q;for(q=new r.Buf32(512),ve=new r.Buf32(32),Q=0;Q<144;)J.lens[Q++]=8;for(;Q<256;)J.lens[Q++]=9;for(;Q<280;)J.lens[Q++]=7;for(;Q<288;)J.lens[Q++]=8;for(w(1,J.lens,0,288,q,0,J.work,{bits:9}),Q=0;Q<32;)J.lens[Q++]=5;w(2,J.lens,0,32,ve,0,J.work,{bits:5}),ke=!1}J.lencode=q,J.lenbits=9,J.distcode=ve,J.distbits=5}function ge(J,Q,K,T){var B,O=J.state;return O.window===null&&(O.wsize=1<<O.wbits,O.wnext=0,O.whave=0,O.window=new r.Buf8(O.wsize)),T>=O.wsize?(r.arraySet(O.window,Q,K-O.wsize,O.wsize,0),O.wnext=0,O.whave=O.wsize):((B=O.wsize-O.wnext)>T&&(B=T),r.arraySet(O.window,Q,K-T,B,O.wnext),(T-=B)?(r.arraySet(O.window,Q,K-T,T,0),O.wnext=T,O.whave=O.wsize):(O.wnext+=B,O.wnext===O.wsize&&(O.wnext=0),O.whave<O.wsize&&(O.whave+=B))),0}ue.inflateReset=H,ue.inflateReset2=x,ue.inflateResetKeep=L,ue.inflateInit=function(J){return S(J,15)},ue.inflateInit2=S,ue.inflate=function(J,Q){var K,T,B,O,R,E,v,i,a,y,h,m,C,U,V,D,P,F,X,le,de,fe,pe,ne,oe=0,be=new r.Buf8(4),Me=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!J||!J.state||!J.output||!J.input&&J.avail_in!==0)return N;(K=J.state).mode===M&&(K.mode=13),R=J.next_out,B=J.output,v=J.avail_out,O=J.next_in,T=J.input,E=J.avail_in,i=K.hold,a=K.bits,y=E,h=v,fe=0;e:for(;;)switch(K.mode){case 1:if(K.wrap===0){K.mode=13;break}for(;a<16;){if(E===0)break e;E--,i+=T[O++]<<a,a+=8}if(2&K.wrap&&i===35615){K.check=0,be[0]=255&i,be[1]=i>>>8&255,K.check=k(K.check,be,2,0),i=0,a=0,K.mode=2;break}if(K.flags=0,K.head&&(K.head.done=!1),!(1&K.wrap)||(((255&i)<<8)+(i>>8))%31){J.msg="incorrect header check",K.mode=f;break}if((15&i)!=8){J.msg="unknown compression method",K.mode=f;break}if(a-=4,de=8+(15&(i>>>=4)),K.wbits===0)K.wbits=de;else if(de>K.wbits){J.msg="invalid window size",K.mode=f;break}K.dmax=1<<de,J.adler=K.check=1,K.mode=512&i?10:M,i=0,a=0;break;case 2:for(;a<16;){if(E===0)break e;E--,i+=T[O++]<<a,a+=8}if(K.flags=i,(255&K.flags)!=8){J.msg="unknown compression method",K.mode=f;break}if(57344&K.flags){J.msg="unknown header flags set",K.mode=f;break}K.head&&(K.head.text=i>>8&1),512&K.flags&&(be[0]=255&i,be[1]=i>>>8&255,K.check=k(K.check,be,2,0)),i=0,a=0,K.mode=3;case 3:for(;a<32;){if(E===0)break e;E--,i+=T[O++]<<a,a+=8}K.head&&(K.head.time=i),512&K.flags&&(be[0]=255&i,be[1]=i>>>8&255,be[2]=i>>>16&255,be[3]=i>>>24&255,K.check=k(K.check,be,4,0)),i=0,a=0,K.mode=4;case 4:for(;a<16;){if(E===0)break e;E--,i+=T[O++]<<a,a+=8}K.head&&(K.head.xflags=255&i,K.head.os=i>>8),512&K.flags&&(be[0]=255&i,be[1]=i>>>8&255,K.check=k(K.check,be,2,0)),i=0,a=0,K.mode=5;case 5:if(1024&K.flags){for(;a<16;){if(E===0)break e;E--,i+=T[O++]<<a,a+=8}K.length=i,K.head&&(K.head.extra_len=i),512&K.flags&&(be[0]=255&i,be[1]=i>>>8&255,K.check=k(K.check,be,2,0)),i=0,a=0}else K.head&&(K.head.extra=null);K.mode=6;case 6:if(1024&K.flags&&((m=K.length)>E&&(m=E),m&&(K.head&&(de=K.head.extra_len-K.length,K.head.extra||(K.head.extra=new Array(K.head.extra_len)),r.arraySet(K.head.extra,T,O,m,de)),512&K.flags&&(K.check=k(K.check,T,m,O)),E-=m,O+=m,K.length-=m),K.length))break e;K.length=0,K.mode=7;case 7:if(2048&K.flags){if(E===0)break e;m=0;do de=T[O+m++],K.head&&de&&K.length<65536&&(K.head.name+=String.fromCharCode(de));while(de&&m<E);if(512&K.flags&&(K.check=k(K.check,T,m,O)),E-=m,O+=m,de)break e}else K.head&&(K.head.name=null);K.length=0,K.mode=8;case 8:if(4096&K.flags){if(E===0)break e;m=0;do de=T[O+m++],K.head&&de&&K.length<65536&&(K.head.comment+=String.fromCharCode(de));while(de&&m<E);if(512&K.flags&&(K.check=k(K.check,T,m,O)),E-=m,O+=m,de)break e}else K.head&&(K.head.comment=null);K.mode=9;case 9:if(512&K.flags){for(;a<16;){if(E===0)break e;E--,i+=T[O++]<<a,a+=8}if(i!==(65535&K.check)){J.msg="header crc mismatch",K.mode=f;break}i=0,a=0}K.head&&(K.head.hcrc=K.flags>>9&1,K.head.done=!0),J.adler=K.check=0,K.mode=M;break;case 10:for(;a<32;){if(E===0)break e;E--,i+=T[O++]<<a,a+=8}J.adler=K.check=d(i),i=0,a=0,K.mode=11;case 11:if(K.havedict===0)return J.next_out=R,J.avail_out=v,J.next_in=O,J.avail_in=E,K.hold=i,K.bits=a,2;J.adler=K.check=1,K.mode=M;case M:if(Q===5||Q===6)break e;case 13:if(K.last){i>>>=7&a,a-=7&a,K.mode=27;break}for(;a<3;){if(E===0)break e;E--,i+=T[O++]<<a,a+=8}switch(K.last=1&i,a-=1,3&(i>>>=1)){case 0:K.mode=14;break;case 1:if(Se(K),K.mode=20,Q===6){i>>>=2,a-=2;break e}break;case 2:K.mode=17;break;case 3:J.msg="invalid block type",K.mode=f}i>>>=2,a-=2;break;case 14:for(i>>>=7&a,a-=7&a;a<32;){if(E===0)break e;E--,i+=T[O++]<<a,a+=8}if((65535&i)!=(i>>>16^65535)){J.msg="invalid stored block lengths",K.mode=f;break}if(K.length=65535&i,i=0,a=0,K.mode=15,Q===6)break e;case 15:K.mode=16;case 16:if(m=K.length){if(m>E&&(m=E),m>v&&(m=v),m===0)break e;r.arraySet(B,T,O,m,R),E-=m,O+=m,v-=m,R+=m,K.length-=m;break}K.mode=M;break;case 17:for(;a<14;){if(E===0)break e;E--,i+=T[O++]<<a,a+=8}if(K.nlen=257+(31&i),i>>>=5,a-=5,K.ndist=1+(31&i),i>>>=5,a-=5,K.ncode=4+(15&i),i>>>=4,a-=4,K.nlen>286||K.ndist>30){J.msg="too many length or distance symbols",K.mode=f;break}K.have=0,K.mode=18;case 18:for(;K.have<K.ncode;){for(;a<3;){if(E===0)break e;E--,i+=T[O++]<<a,a+=8}K.lens[Me[K.have++]]=7&i,i>>>=3,a-=3}for(;K.have<19;)K.lens[Me[K.have++]]=0;if(K.lencode=K.lendyn,K.lenbits=7,pe={bits:K.lenbits},fe=w(0,K.lens,0,19,K.lencode,0,K.work,pe),K.lenbits=pe.bits,fe){J.msg="invalid code lengths set",K.mode=f;break}K.have=0,K.mode=19;case 19:for(;K.have<K.nlen+K.ndist;){for(;D=(oe=K.lencode[i&(1<<K.lenbits)-1])>>>16&255,P=65535&oe,!((V=oe>>>24)<=a);){if(E===0)break e;E--,i+=T[O++]<<a,a+=8}if(P<16)i>>>=V,a-=V,K.lens[K.have++]=P;else{if(P===16){for(ne=V+2;a<ne;){if(E===0)break e;E--,i+=T[O++]<<a,a+=8}if(i>>>=V,a-=V,K.have===0){J.msg="invalid bit length repeat",K.mode=f;break}de=K.lens[K.have-1],m=3+(3&i),i>>>=2,a-=2}else if(P===17){for(ne=V+3;a<ne;){if(E===0)break e;E--,i+=T[O++]<<a,a+=8}a-=V,de=0,m=3+(7&(i>>>=V)),i>>>=3,a-=3}else{for(ne=V+7;a<ne;){if(E===0)break e;E--,i+=T[O++]<<a,a+=8}a-=V,de=0,m=11+(127&(i>>>=V)),i>>>=7,a-=7}if(K.have+m>K.nlen+K.ndist){J.msg="invalid bit length repeat",K.mode=f;break}for(;m--;)K.lens[K.have++]=de}}if(K.mode===f)break;if(K.lens[256]===0){J.msg="invalid code -- missing end-of-block",K.mode=f;break}if(K.lenbits=9,pe={bits:K.lenbits},fe=w(1,K.lens,0,K.nlen,K.lencode,0,K.work,pe),K.lenbits=pe.bits,fe){J.msg="invalid literal/lengths set",K.mode=f;break}if(K.distbits=6,K.distcode=K.distdyn,pe={bits:K.distbits},fe=w(2,K.lens,K.nlen,K.ndist,K.distcode,0,K.work,pe),K.distbits=pe.bits,fe){J.msg="invalid distances set",K.mode=f;break}if(K.mode=20,Q===6)break e;case 20:K.mode=21;case 21:if(E>=6&&v>=258){J.next_out=R,J.avail_out=v,J.next_in=O,J.avail_in=E,K.hold=i,K.bits=a,b(J,h),R=J.next_out,B=J.output,v=J.avail_out,O=J.next_in,T=J.input,E=J.avail_in,i=K.hold,a=K.bits,K.mode===M&&(K.back=-1);break}for(K.back=0;D=(oe=K.lencode[i&(1<<K.lenbits)-1])>>>16&255,P=65535&oe,!((V=oe>>>24)<=a);){if(E===0)break e;E--,i+=T[O++]<<a,a+=8}if(D&&(240&D)==0){for(F=V,X=D,le=P;D=(oe=K.lencode[le+((i&(1<<F+X)-1)>>F)])>>>16&255,P=65535&oe,!(F+(V=oe>>>24)<=a);){if(E===0)break e;E--,i+=T[O++]<<a,a+=8}i>>>=F,a-=F,K.back+=F}if(i>>>=V,a-=V,K.back+=V,K.length=P,D===0){K.mode=26;break}if(32&D){K.back=-1,K.mode=M;break}if(64&D){J.msg="invalid literal/length code",K.mode=f;break}K.extra=15&D,K.mode=22;case 22:if(K.extra){for(ne=K.extra;a<ne;){if(E===0)break e;E--,i+=T[O++]<<a,a+=8}K.length+=i&(1<<K.extra)-1,i>>>=K.extra,a-=K.extra,K.back+=K.extra}K.was=K.length,K.mode=23;case 23:for(;D=(oe=K.distcode[i&(1<<K.distbits)-1])>>>16&255,P=65535&oe,!((V=oe>>>24)<=a);){if(E===0)break e;E--,i+=T[O++]<<a,a+=8}if((240&D)==0){for(F=V,X=D,le=P;D=(oe=K.distcode[le+((i&(1<<F+X)-1)>>F)])>>>16&255,P=65535&oe,!(F+(V=oe>>>24)<=a);){if(E===0)break e;E--,i+=T[O++]<<a,a+=8}i>>>=F,a-=F,K.back+=F}if(i>>>=V,a-=V,K.back+=V,64&D){J.msg="invalid distance code",K.mode=f;break}K.offset=P,K.extra=15&D,K.mode=24;case 24:if(K.extra){for(ne=K.extra;a<ne;){if(E===0)break e;E--,i+=T[O++]<<a,a+=8}K.offset+=i&(1<<K.extra)-1,i>>>=K.extra,a-=K.extra,K.back+=K.extra}if(K.offset>K.dmax){J.msg="invalid distance too far back",K.mode=f;break}K.mode=25;case 25:if(v===0)break e;if(m=h-v,K.offset>m){if((m=K.offset-m)>K.whave&&K.sane){J.msg="invalid distance too far back",K.mode=f;break}m>K.wnext?(m-=K.wnext,C=K.wsize-m):C=K.wnext-m,m>K.length&&(m=K.length),U=K.window}else U=B,C=R-K.offset,m=K.length;m>v&&(m=v),v-=m,K.length-=m;do B[R++]=U[C++];while(--m);K.length===0&&(K.mode=21);break;case 26:if(v===0)break e;B[R++]=K.length,v--,K.mode=21;break;case 27:if(K.wrap){for(;a<32;){if(E===0)break e;E--,i|=T[O++]<<a,a+=8}if(h-=v,J.total_out+=h,K.total+=h,h&&(J.adler=K.check=K.flags?k(K.check,B,h,R-h):A(K.check,B,h,R-h)),h=v,(K.flags?i:d(i))!==K.check){J.msg="incorrect data check",K.mode=f;break}i=0,a=0}K.mode=28;case 28:if(K.wrap&&K.flags){for(;a<32;){if(E===0)break e;E--,i+=T[O++]<<a,a+=8}if(i!==(4294967295&K.total)){J.msg="incorrect length check",K.mode=f;break}i=0,a=0}K.mode=29;case 29:fe=1;break e;case f:fe=-3;break e;case 31:return-4;default:return N}return J.next_out=R,J.avail_out=v,J.next_in=O,J.avail_in=E,K.hold=i,K.bits=a,(K.wsize||h!==J.avail_out&&K.mode<f&&(K.mode<27||Q!==4))&&ge(J,J.output,J.next_out,h-J.avail_out)?(K.mode=31,-4):(y-=J.avail_in,h-=J.avail_out,J.total_in+=y,J.total_out+=h,K.total+=h,K.wrap&&h&&(J.adler=K.check=K.flags?k(K.check,B,h,J.next_out-h):A(K.check,B,h,J.next_out-h)),J.data_type=K.bits+(K.last?64:0)+(K.mode===M?128:0)+(K.mode===20||K.mode===15?256:0),(y===0&&h===0||Q===4)&&fe===0&&(fe=-5),fe)},ue.inflateEnd=function(J){if(!J||!J.state)return N;var Q=J.state;return Q.window&&(Q.window=null),J.state=null,0},ue.inflateGetHeader=function(J,Q){var K;return J&&J.state?(2&(K=J.state).wrap)==0?N:(K.head=Q,Q.done=!1,0):N},ue.inflateSetDictionary=function(J,Q){var K,T=Q.length;return J&&J.state?(K=J.state).wrap!==0&&K.mode!==11?N:K.mode===11&&A(1,Q,T,0)!==K.check?-3:ge(J,Q,T,T)?(K.mode=31,-4):(K.havedict=1,0):N},ue.inflateInfo="pako inflate (from Nodeca project)"},6446:function(We,ue,n){var r=n(9187),A=15,k=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],b=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],w=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],N=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];We.exports=function(M,f,d,j,L,H,x,S){var q,ve,ke,Se,ge,J,Q,K,T,B=S.bits,O=0,R=0,E=0,v=0,i=0,a=0,y=0,h=0,m=0,C=0,U=null,V=0,D=new r.Buf16(16),P=new r.Buf16(16),F=null,X=0;for(O=0;O<=A;O++)D[O]=0;for(R=0;R<j;R++)D[f[d+R]]++;for(i=B,v=A;v>=1&&D[v]===0;v--);if(i>v&&(i=v),v===0)return L[H++]=20971520,L[H++]=20971520,S.bits=1,0;for(E=1;E<v&&D[E]===0;E++);for(i<E&&(i=E),h=1,O=1;O<=A;O++)if(h<<=1,(h-=D[O])<0)return-1;if(h>0&&(M===0||v!==1))return-1;for(P[1]=0,O=1;O<A;O++)P[O+1]=P[O]+D[O];for(R=0;R<j;R++)f[d+R]!==0&&(x[P[f[d+R]]++]=R);if(M===0?(U=F=x,J=19):M===1?(U=k,V-=257,F=b,X-=257,J=256):(U=w,F=N,J=-1),C=0,R=0,O=E,ge=H,a=i,y=0,ke=-1,Se=(m=1<<i)-1,M===1&&m>852||M===2&&m>592)return 1;for(;;){Q=O-y,x[R]<J?(K=0,T=x[R]):x[R]>J?(K=F[X+x[R]],T=U[V+x[R]]):(K=96,T=0),q=1<<O-y,E=ve=1<<a;do L[ge+(C>>y)+(ve-=q)]=Q<<24|K<<16|T|0;while(ve!==0);for(q=1<<O-1;C&q;)q>>=1;if(q!==0?(C&=q-1,C+=q):C=0,R++,--D[O]==0){if(O===v)break;O=f[d+x[R]]}if(O>i&&(C&Se)!==ke){for(y===0&&(y=i),ge+=E,h=1<<(a=O-y);a+y<v&&!((h-=D[a+y])<=0);)a++,h<<=1;if(m+=1<<a,M===1&&m>852||M===2&&m>592)return 1;L[ke=C&Se]=i<<24|a<<16|ge-H|0}}return C!==0&&(L[ge+C]=O-y<<24|4194304|0),S.bits=i,0}},5604:function(We){We.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},8676:function(We,ue,n){var r=n(9187);function A(P){for(var F=P.length;--F>=0;)P[F]=0}var k=256,b=286,w=30,N=15,M=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],f=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],L=new Array(576);A(L);var H=new Array(60);A(H);var x=new Array(512);A(x);var S=new Array(256);A(S);var q=new Array(29);A(q);var ve,ke,Se,ge=new Array(w);function J(P,F,X,le,de){this.static_tree=P,this.extra_bits=F,this.extra_base=X,this.elems=le,this.max_length=de,this.has_stree=P&&P.length}function Q(P,F){this.dyn_tree=P,this.max_code=0,this.stat_desc=F}function K(P){return P<256?x[P]:x[256+(P>>>7)]}function T(P,F){P.pending_buf[P.pending++]=255&F,P.pending_buf[P.pending++]=F>>>8&255}function B(P,F,X){P.bi_valid>16-X?(P.bi_buf|=F<<P.bi_valid&65535,T(P,P.bi_buf),P.bi_buf=F>>16-P.bi_valid,P.bi_valid+=X-16):(P.bi_buf|=F<<P.bi_valid&65535,P.bi_valid+=X)}function O(P,F,X){B(P,X[2*F],X[2*F+1])}function R(P,F){var X=0;do X|=1&P,P>>>=1,X<<=1;while(--F>0);return X>>>1}function E(P,F,X){var le,de,fe=new Array(16),pe=0;for(le=1;le<=N;le++)fe[le]=pe=pe+X[le-1]<<1;for(de=0;de<=F;de++){var ne=P[2*de+1];ne!==0&&(P[2*de]=R(fe[ne]++,ne))}}function v(P){var F;for(F=0;F<b;F++)P.dyn_ltree[2*F]=0;for(F=0;F<w;F++)P.dyn_dtree[2*F]=0;for(F=0;F<19;F++)P.bl_tree[2*F]=0;P.dyn_ltree[512]=1,P.opt_len=P.static_len=0,P.last_lit=P.matches=0}function i(P){P.bi_valid>8?T(P,P.bi_buf):P.bi_valid>0&&(P.pending_buf[P.pending++]=P.bi_buf),P.bi_buf=0,P.bi_valid=0}function a(P,F,X,le){var de=2*F,fe=2*X;return P[de]<P[fe]||P[de]===P[fe]&&le[F]<=le[X]}function y(P,F,X){for(var le=P.heap[X],de=X<<1;de<=P.heap_len&&(de<P.heap_len&&a(F,P.heap[de+1],P.heap[de],P.depth)&&de++,!a(F,le,P.heap[de],P.depth));)P.heap[X]=P.heap[de],X=de,de<<=1;P.heap[X]=le}function h(P,F,X){var le,de,fe,pe,ne=0;if(P.last_lit!==0)do le=P.pending_buf[P.d_buf+2*ne]<<8|P.pending_buf[P.d_buf+2*ne+1],de=P.pending_buf[P.l_buf+ne],ne++,le===0?O(P,de,F):(O(P,(fe=S[de])+k+1,F),(pe=M[fe])!==0&&B(P,de-=q[fe],pe),O(P,fe=K(--le),X),(pe=f[fe])!==0&&B(P,le-=ge[fe],pe));while(ne<P.last_lit);O(P,256,F)}function m(P,F){var X,le,de,fe=F.dyn_tree,pe=F.stat_desc.static_tree,ne=F.stat_desc.has_stree,oe=F.stat_desc.elems,be=-1;for(P.heap_len=0,P.heap_max=573,X=0;X<oe;X++)fe[2*X]!==0?(P.heap[++P.heap_len]=be=X,P.depth[X]=0):fe[2*X+1]=0;for(;P.heap_len<2;)fe[2*(de=P.heap[++P.heap_len]=be<2?++be:0)]=1,P.depth[de]=0,P.opt_len--,ne&&(P.static_len-=pe[2*de+1]);for(F.max_code=be,X=P.heap_len>>1;X>=1;X--)y(P,fe,X);de=oe;do X=P.heap[1],P.heap[1]=P.heap[P.heap_len--],y(P,fe,1),le=P.heap[1],P.heap[--P.heap_max]=X,P.heap[--P.heap_max]=le,fe[2*de]=fe[2*X]+fe[2*le],P.depth[de]=(P.depth[X]>=P.depth[le]?P.depth[X]:P.depth[le])+1,fe[2*X+1]=fe[2*le+1]=de,P.heap[1]=de++,y(P,fe,1);while(P.heap_len>=2);P.heap[--P.heap_max]=P.heap[1],function(Me,Ge){var qe,Ne,Pe,Re,Ze,Ie,Ee=Ge.dyn_tree,xe=Ge.max_code,Z=Ge.stat_desc.static_tree,u=Ge.stat_desc.has_stree,g=Ge.stat_desc.extra_bits,z=Ge.stat_desc.extra_base,Y=Ge.stat_desc.max_length,te=0;for(Re=0;Re<=N;Re++)Me.bl_count[Re]=0;for(Ee[2*Me.heap[Me.heap_max]+1]=0,qe=Me.heap_max+1;qe<573;qe++)(Re=Ee[2*Ee[2*(Ne=Me.heap[qe])+1]+1]+1)>Y&&(Re=Y,te++),Ee[2*Ne+1]=Re,Ne>xe||(Me.bl_count[Re]++,Ze=0,Ne>=z&&(Ze=g[Ne-z]),Ie=Ee[2*Ne],Me.opt_len+=Ie*(Re+Ze),u&&(Me.static_len+=Ie*(Z[2*Ne+1]+Ze)));if(te!==0){do{for(Re=Y-1;Me.bl_count[Re]===0;)Re--;Me.bl_count[Re]--,Me.bl_count[Re+1]+=2,Me.bl_count[Y]--,te-=2}while(te>0);for(Re=Y;Re!==0;Re--)for(Ne=Me.bl_count[Re];Ne!==0;)(Pe=Me.heap[--qe])>xe||(Ee[2*Pe+1]!==Re&&(Me.opt_len+=(Re-Ee[2*Pe+1])*Ee[2*Pe],Ee[2*Pe+1]=Re),Ne--)}}(P,F),E(fe,be,P.bl_count)}function C(P,F,X){var le,de,fe=-1,pe=F[1],ne=0,oe=7,be=4;for(pe===0&&(oe=138,be=3),F[2*(X+1)+1]=65535,le=0;le<=X;le++)de=pe,pe=F[2*(le+1)+1],++ne<oe&&de===pe||(ne<be?P.bl_tree[2*de]+=ne:de!==0?(de!==fe&&P.bl_tree[2*de]++,P.bl_tree[32]++):ne<=10?P.bl_tree[34]++:P.bl_tree[36]++,ne=0,fe=de,pe===0?(oe=138,be=3):de===pe?(oe=6,be=3):(oe=7,be=4))}function U(P,F,X){var le,de,fe=-1,pe=F[1],ne=0,oe=7,be=4;for(pe===0&&(oe=138,be=3),le=0;le<=X;le++)if(de=pe,pe=F[2*(le+1)+1],!(++ne<oe&&de===pe)){if(ne<be)do O(P,de,P.bl_tree);while(--ne!=0);else de!==0?(de!==fe&&(O(P,de,P.bl_tree),ne--),O(P,16,P.bl_tree),B(P,ne-3,2)):ne<=10?(O(P,17,P.bl_tree),B(P,ne-3,3)):(O(P,18,P.bl_tree),B(P,ne-11,7));ne=0,fe=de,pe===0?(oe=138,be=3):de===pe?(oe=6,be=3):(oe=7,be=4)}}A(ge);var V=!1;function D(P,F,X,le){B(P,0+(le?1:0),3),function(de,fe,pe,ne){i(de),T(de,pe),T(de,~pe),r.arraySet(de.pending_buf,de.window,fe,pe,de.pending),de.pending+=pe}(P,F,X)}ue._tr_init=function(P){V||(function(){var F,X,le,de,fe,pe=new Array(16);for(le=0,de=0;de<28;de++)for(q[de]=le,F=0;F<1<<M[de];F++)S[le++]=de;for(S[le-1]=de,fe=0,de=0;de<16;de++)for(ge[de]=fe,F=0;F<1<<f[de];F++)x[fe++]=de;for(fe>>=7;de<w;de++)for(ge[de]=fe<<7,F=0;F<1<<f[de]-7;F++)x[256+fe++]=de;for(X=0;X<=N;X++)pe[X]=0;for(F=0;F<=143;)L[2*F+1]=8,F++,pe[8]++;for(;F<=255;)L[2*F+1]=9,F++,pe[9]++;for(;F<=279;)L[2*F+1]=7,F++,pe[7]++;for(;F<=287;)L[2*F+1]=8,F++,pe[8]++;for(E(L,287,pe),F=0;F<w;F++)H[2*F+1]=5,H[2*F]=R(F,5);ve=new J(L,M,257,b,N),ke=new J(H,f,0,w,N),Se=new J(new Array(0),d,0,19,7)}(),V=!0),P.l_desc=new Q(P.dyn_ltree,ve),P.d_desc=new Q(P.dyn_dtree,ke),P.bl_desc=new Q(P.bl_tree,Se),P.bi_buf=0,P.bi_valid=0,v(P)},ue._tr_stored_block=D,ue._tr_flush_block=function(P,F,X,le){var de,fe,pe=0;P.level>0?(P.strm.data_type===2&&(P.strm.data_type=function(ne){var oe,be=4093624447;for(oe=0;oe<=31;oe++,be>>>=1)if(1&be&&ne.dyn_ltree[2*oe]!==0)return 0;if(ne.dyn_ltree[18]!==0||ne.dyn_ltree[20]!==0||ne.dyn_ltree[26]!==0)return 1;for(oe=32;oe<k;oe++)if(ne.dyn_ltree[2*oe]!==0)return 1;return 0}(P)),m(P,P.l_desc),m(P,P.d_desc),pe=function(ne){var oe;for(C(ne,ne.dyn_ltree,ne.l_desc.max_code),C(ne,ne.dyn_dtree,ne.d_desc.max_code),m(ne,ne.bl_desc),oe=18;oe>=3&&ne.bl_tree[2*j[oe]+1]===0;oe--);return ne.opt_len+=3*(oe+1)+5+5+4,oe}(P),de=P.opt_len+3+7>>>3,(fe=P.static_len+3+7>>>3)<=de&&(de=fe)):de=fe=X+5,X+4<=de&&F!==-1?D(P,F,X,le):P.strategy===4||fe===de?(B(P,2+(le?1:0),3),h(P,L,H)):(B(P,4+(le?1:0),3),function(ne,oe,be,Me){var Ge;for(B(ne,oe-257,5),B(ne,be-1,5),B(ne,Me-4,4),Ge=0;Ge<Me;Ge++)B(ne,ne.bl_tree[2*j[Ge]+1],3);U(ne,ne.dyn_ltree,oe-1),U(ne,ne.dyn_dtree,be-1)}(P,P.l_desc.max_code+1,P.d_desc.max_code+1,pe+1),h(P,P.dyn_ltree,P.dyn_dtree)),v(P),le&&i(P)},ue._tr_tally=function(P,F,X){return P.pending_buf[P.d_buf+2*P.last_lit]=F>>>8&255,P.pending_buf[P.d_buf+2*P.last_lit+1]=255&F,P.pending_buf[P.l_buf+P.last_lit]=255&X,P.last_lit++,F===0?P.dyn_ltree[2*X]++:(P.matches++,F--,P.dyn_ltree[2*(S[X]+k+1)]++,P.dyn_dtree[2*K(F)]++),P.last_lit===P.lit_bufsize-1},ue._tr_align=function(P){B(P,2,3),O(P,256,L),function(F){F.bi_valid===16?(T(F,F.bi_buf),F.bi_buf=0,F.bi_valid=0):F.bi_valid>=8&&(F.pending_buf[F.pending++]=255&F.bi_buf,F.bi_buf>>=8,F.bi_valid-=8)}(P)}},249:function(We){We.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},9066:function(We){We.exports=function(ue){ue.data&&ue.name&&(ue=ue.data);for(var n=!0,r="",A="",k=0;k<ue.length;k++){var b=ue[k];if(n)b?A+=String.fromCharCode(b):n=!1;else{if(!b)throw new Error("Invalid NULL character found. 0x00 character is not permitted in tEXt content");r+=String.fromCharCode(b)}}return{keyword:A,text:r}}},9686:function(We){We.exports=function(ue,n){if(ue=String(ue),n=String(n),!/^[\x00-\xFF]+$/.test(ue)||!/^[\x00-\xFF]+$/.test(n))throw new Error("Only Latin-1 characters are permitted in PNG tEXt chunks. You might want to consider base64 encoding and/or zEXt compression");if(ue.length>=80)throw new Error('Keyword "'+ue+'" is longer than the 79-character limit imposed by the PNG specification');for(var r,A=ue.length+n.length+1,k=new Uint8Array(A),b=0,w=0;w<ue.length;w++){if(!(r=ue.charCodeAt(w)))throw new Error("0x00 character is not permitted in tEXt keywords");k[b++]=r}k[b++]=0;for(var N=0;N<n.length;N++){if(!(r=n.charCodeAt(N)))throw new Error("0x00 character is not permitted in tEXt content");k[b++]=r}return{name:"tEXt",data:k}}},1194:function(We,ue,n){ue.encode=n(9686),ue.decode=n(9066)},3434:function(We,ue,n){var r=n(5714),A=n(6233);We.exports=function(N){var M,f=8,d=f;for(M=0;M<N.length;M++)f+=N[M].data.length,f+=12;var j=new Uint8Array(f);for(j[0]=137,j[1]=80,j[2]=78,j[3]=71,j[4]=13,j[5]=10,j[6]=26,j[7]=10,M=0;M<N.length;M++){var L=N[M],H=L.name,x=L.data,S=x.length,q=[H.charCodeAt(0),H.charCodeAt(1),H.charCodeAt(2),H.charCodeAt(3)];w[0]=S,j[d++]=k[3],j[d++]=k[2],j[d++]=k[1],j[d++]=k[0],j[d++]=q[0],j[d++]=q[1],j[d++]=q[2],j[d++]=q[3];for(var ve=0;ve<S;)j[d++]=x[ve++];var ke=q.concat(r(x)),Se=A.buf(ke);b[0]=Se,j[d++]=k[3],j[d++]=k[2],j[d++]=k[1],j[d++]=k[0]}return j};var k=new Uint8Array(4),b=new Int32Array(k.buffer),w=new Uint32Array(k.buffer)},2983:function(We,ue,n){var r=n(6233);We.exports=function(w){if(w[0]!==137)throw new Error("Invalid .png file header");if(w[1]!==80)throw new Error("Invalid .png file header");if(w[2]!==78)throw new Error("Invalid .png file header");if(w[3]!==71)throw new Error("Invalid .png file header");if(w[4]!==13)throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");if(w[5]!==10)throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");if(w[6]!==26)throw new Error("Invalid .png file header");if(w[7]!==10)throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");for(var N=!1,M=[],f=8;f<w.length;){A[3]=w[f++],A[2]=w[f++],A[1]=w[f++],A[0]=w[f++];var d=b[0]+4,j=new Uint8Array(d);j[0]=w[f++],j[1]=w[f++],j[2]=w[f++],j[3]=w[f++];var L=String.fromCharCode(j[0])+String.fromCharCode(j[1])+String.fromCharCode(j[2])+String.fromCharCode(j[3]);if(!M.length&&L!=="IHDR")throw new Error("IHDR header missing");if(L==="IEND"){N=!0,M.push({name:L,data:new Uint8Array(0)});break}for(var H=4;H<d;H++)j[H]=w[f++];A[3]=w[f++],A[2]=w[f++],A[1]=w[f++],A[0]=w[f++];var x=k[0];if(r.buf(j)!==x)throw new Error("CRC values for "+L+" header do not match, PNG file is likely corrupted");var S=new Uint8Array(j.buffer.slice(4));M.push({name:L,data:S})}if(!N)throw new Error(".png file ended prematurely: no IEND header was found");return M};var A=new Uint8Array(4),k=new Int32Array(A.buffer),b=new Uint32Array(A.buffer)},1493:function(We,ue,n){function r(f,d){return Math.pow(f[0]-d[0],2)+Math.pow(f[1]-d[1],2)}function A(f,d,j){const L=r(d,j);if(L===0)return r(f,d);let H=((f[0]-d[0])*(j[0]-d[0])+(f[1]-d[1])*(j[1]-d[1]))/L;return H=Math.max(0,Math.min(1,H)),r(f,k(d,j,H))}function k(f,d,j){return[f[0]+(d[0]-f[0])*j,f[1]+(d[1]-f[1])*j]}function b(f,d,j,L){const H=L||[];if(function(q,ve){const ke=q[ve+0],Se=q[ve+1],ge=q[ve+2],J=q[ve+3];let Q=3*Se[0]-2*ke[0]-J[0];Q*=Q;let K=3*Se[1]-2*ke[1]-J[1];K*=K;let T=3*ge[0]-2*J[0]-ke[0];T*=T;let B=3*ge[1]-2*J[1]-ke[1];return B*=B,Q<T&&(Q=T),K<B&&(K=B),Q+K}(f,d)<j){const q=f[d+0];H.length?(x=H[H.length-1],S=q,Math.sqrt(r(x,S))>1&&H.push(q)):H.push(q),H.push(f[d+3])}else{const ve=f[d+0],ke=f[d+1],Se=f[d+2],ge=f[d+3],J=k(ve,ke,.5),Q=k(ke,Se,.5),K=k(Se,ge,.5),T=k(J,Q,.5),B=k(Q,K,.5),O=k(T,B,.5);b([ve,J,T,O],0,j,H),b([O,B,K,ge],0,j,H)}var x,S;return H}function w(f,d){return N(f,0,f.length,d)}function N(f,d,j,L,H){const x=H||[],S=f[d],q=f[j-1];let ve=0,ke=1;for(let Se=d+1;Se<j-1;++Se){const ge=A(f[Se],S,q);ge>ve&&(ve=ge,ke=Se)}return Math.sqrt(ve)>L?(N(f,d,ke+1,L,x),N(f,ke,j,L,x)):(x.length||x.push(S),x.push(q)),x}function M(f,d=.15,j){const L=[],H=(f.length-1)/3;for(let x=0;x<H;x++)b(f,3*x,d,L);return j&&j>0?N(L,0,L.length,j):L}n.d(ue,{og:function(){return w},sU:function(){return M}})},6094:function(We,ue,n){var r=n(9787),A=Symbol.for("react.element"),k=Symbol.for("react.fragment"),b=Object.prototype.hasOwnProperty,w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,N={key:!0,ref:!0,__self:!0,__source:!0};function M(f,d,j){var L,H={},x=null,S=null;for(L in j!==void 0&&(x=""+j),d.key!==void 0&&(x=""+d.key),d.ref!==void 0&&(S=d.ref),d)b.call(d,L)&&!N.hasOwnProperty(L)&&(H[L]=d[L]);if(f&&f.defaultProps)for(L in d=f.defaultProps)H[L]===void 0&&(H[L]=d[L]);return{$$typeof:A,type:f,key:x,ref:S,props:H,_owner:w.current}}ue.Fragment=k,ue.jsx=M,ue.jsxs=M},4512:function(We,ue,n){We.exports=n(6094)},8128:function(We,ue,n){function r(xe,Z,u){if(xe&&xe.length){const[g,z]=Z,Y=Math.PI/180*u,te=Math.cos(Y),ae=Math.sin(Y);for(const ce of xe){const[ye,je]=ce;ce[0]=(ye-g)*te-(je-z)*ae+g,ce[1]=(ye-g)*ae+(je-z)*te+z}}}function A(xe,Z){return xe[0]===Z[0]&&xe[1]===Z[1]}function k(xe,Z,u,g=1){const z=u,Y=Math.max(Z,.1),te=xe[0]&&xe[0][0]&&typeof xe[0][0]=="number"?[xe]:xe,ae=[0,0];if(z)for(const ye of te)r(ye,ae,z);const ce=function(ye,je,Be){const Qe=[];for(const Ue of ye){const Ce=[...Ue];A(Ce[0],Ce[Ce.length-1])||Ce.push([Ce[0][0],Ce[0][1]]),Ce.length>2&&Qe.push(Ce)}const rt=[];je=Math.max(je,.1);const Ye=[];for(const Ue of Qe)for(let Ce=0;Ce<Ue.length-1;Ce++){const Le=Ue[Ce],et=Ue[Ce+1];if(Le[1]!==et[1]){const ft=Math.min(Le[1],et[1]);Ye.push({ymin:ft,ymax:Math.max(Le[1],et[1]),x:ft===Le[1]?Le[0]:et[0],islope:(et[0]-Le[0])/(et[1]-Le[1])})}}if(Ye.sort((Ue,Ce)=>Ue.ymin<Ce.ymin?-1:Ue.ymin>Ce.ymin?1:Ue.x<Ce.x?-1:Ue.x>Ce.x?1:Ue.ymax===Ce.ymax?0:(Ue.ymax-Ce.ymax)/Math.abs(Ue.ymax-Ce.ymax)),!Ye.length)return rt;let tt=[],ht=Ye[0].ymin,gt=0;for(;tt.length||Ye.length;){if(Ye.length){let Ue=-1;for(let Ce=0;Ce<Ye.length&&!(Ye[Ce].ymin>ht);Ce++)Ue=Ce;Ye.splice(0,Ue+1).forEach(Ce=>{tt.push({s:ht,edge:Ce})})}if(tt=tt.filter(Ue=>!(Ue.edge.ymax<=ht)),tt.sort((Ue,Ce)=>Ue.edge.x===Ce.edge.x?0:(Ue.edge.x-Ce.edge.x)/Math.abs(Ue.edge.x-Ce.edge.x)),(Be!==1||gt%je==0)&&tt.length>1)for(let Ue=0;Ue<tt.length;Ue+=2){const Ce=Ue+1;if(Ce>=tt.length)break;const Le=tt[Ue].edge,et=tt[Ce].edge;rt.push([[Math.round(Le.x),ht],[Math.round(et.x),ht]])}ht+=Be,tt.forEach(Ue=>{Ue.edge.x=Ue.edge.x+Be*Ue.edge.islope}),gt++}return rt}(te,Y,g);if(z){for(const ye of te)r(ye,ae,-z);(function(ye,je,Be){const Qe=[];ye.forEach(rt=>Qe.push(...rt)),r(Qe,je,Be)})(ce,ae,-z)}return ce}function b(xe,Z){var u;const g=Z.hachureAngle+90;let z=Z.hachureGap;z<0&&(z=4*Z.strokeWidth),z=Math.max(z,.1);let Y=1;return Z.roughness>=1&&(((u=Z.randomizer)===null||u===void 0?void 0:u.next())||Math.random())>.7&&(Y=z),k(xe,z,g,Y||1)}n.d(ue,{V:function(){return Ee}});class w{constructor(Z){this.helper=Z}fillPolygons(Z,u){return this._fillPolygons(Z,u)}_fillPolygons(Z,u){const g=b(Z,u);return{type:"fillSketch",ops:this.renderLines(g,u)}}renderLines(Z,u){const g=[];for(const z of Z)g.push(...this.helper.doubleLineOps(z[0][0],z[0][1],z[1][0],z[1][1],u));return g}}function N(xe){const Z=xe[0],u=xe[1];return Math.sqrt(Math.pow(Z[0]-u[0],2)+Math.pow(Z[1]-u[1],2))}class M extends w{fillPolygons(Z,u){let g=u.hachureGap;g<0&&(g=4*u.strokeWidth),g=Math.max(g,.1);const z=b(Z,Object.assign({},u,{hachureGap:g})),Y=Math.PI/180*u.hachureAngle,te=[],ae=.5*g*Math.cos(Y),ce=.5*g*Math.sin(Y);for(const[ye,je]of z)N([ye,je])&&te.push([[ye[0]-ae,ye[1]+ce],[...je]],[[ye[0]+ae,ye[1]-ce],[...je]]);return{type:"fillSketch",ops:this.renderLines(te,u)}}}class f extends w{fillPolygons(Z,u){const g=this._fillPolygons(Z,u),z=Object.assign({},u,{hachureAngle:u.hachureAngle+90}),Y=this._fillPolygons(Z,z);return g.ops=g.ops.concat(Y.ops),g}}class d{constructor(Z){this.helper=Z}fillPolygons(Z,u){const g=b(Z,u=Object.assign({},u,{hachureAngle:0}));return this.dotsOnLines(g,u)}dotsOnLines(Z,u){const g=[];let z=u.hachureGap;z<0&&(z=4*u.strokeWidth),z=Math.max(z,.1);let Y=u.fillWeight;Y<0&&(Y=u.strokeWidth/2);const te=z/4;for(const ae of Z){const ce=N(ae),ye=ce/z,je=Math.ceil(ye)-1,Be=ce-je*z,Qe=(ae[0][0]+ae[1][0])/2-z/4,rt=Math.min(ae[0][1],ae[1][1]);for(let Ye=0;Ye<je;Ye++){const tt=rt+Be+Ye*z,ht=Qe-te+2*Math.random()*te,gt=tt-te+2*Math.random()*te,Ue=this.helper.ellipse(ht,gt,Y,Y,u);g.push(...Ue.ops)}}return{type:"fillSketch",ops:g}}}class j{constructor(Z){this.helper=Z}fillPolygons(Z,u){const g=b(Z,u);return{type:"fillSketch",ops:this.dashedLine(g,u)}}dashedLine(Z,u){const g=u.dashOffset<0?u.hachureGap<0?4*u.strokeWidth:u.hachureGap:u.dashOffset,z=u.dashGap<0?u.hachureGap<0?4*u.strokeWidth:u.hachureGap:u.dashGap,Y=[];return Z.forEach(te=>{const ae=N(te),ce=Math.floor(ae/(g+z)),ye=(ae+z-ce*(g+z))/2;let je=te[0],Be=te[1];je[0]>Be[0]&&(je=te[1],Be=te[0]);const Qe=Math.atan((Be[1]-je[1])/(Be[0]-je[0]));for(let rt=0;rt<ce;rt++){const Ye=rt*(g+z),tt=Ye+g,ht=[je[0]+Ye*Math.cos(Qe)+ye*Math.cos(Qe),je[1]+Ye*Math.sin(Qe)+ye*Math.sin(Qe)],gt=[je[0]+tt*Math.cos(Qe)+ye*Math.cos(Qe),je[1]+tt*Math.sin(Qe)+ye*Math.sin(Qe)];Y.push(...this.helper.doubleLineOps(ht[0],ht[1],gt[0],gt[1],u))}}),Y}}class L{constructor(Z){this.helper=Z}fillPolygons(Z,u){const g=u.hachureGap<0?4*u.strokeWidth:u.hachureGap,z=u.zigzagOffset<0?g:u.zigzagOffset,Y=b(Z,u=Object.assign({},u,{hachureGap:g+z}));return{type:"fillSketch",ops:this.zigzagLines(Y,z,u)}}zigzagLines(Z,u,g){const z=[];return Z.forEach(Y=>{const te=N(Y),ae=Math.round(te/(2*u));let ce=Y[0],ye=Y[1];ce[0]>ye[0]&&(ce=Y[1],ye=Y[0]);const je=Math.atan((ye[1]-ce[1])/(ye[0]-ce[0]));for(let Be=0;Be<ae;Be++){const Qe=2*Be*u,rt=2*(Be+1)*u,Ye=Math.sqrt(2*Math.pow(u,2)),tt=[ce[0]+Qe*Math.cos(je),ce[1]+Qe*Math.sin(je)],ht=[ce[0]+rt*Math.cos(je),ce[1]+rt*Math.sin(je)],gt=[tt[0]+Ye*Math.cos(je+Math.PI/4),tt[1]+Ye*Math.sin(je+Math.PI/4)];z.push(...this.helper.doubleLineOps(tt[0],tt[1],gt[0],gt[1],g),...this.helper.doubleLineOps(gt[0],gt[1],ht[0],ht[1],g))}}),z}}const H={};var x=n(8152);const S={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function q(xe,Z){return xe.type===Z}function ve(xe){const Z=[],u=function(te){const ae=new Array;for(;te!=="";)if(te.match(/^([ \t\r\n,]+)/))te=te.substr(RegExp.$1.length);else if(te.match(/^([aAcChHlLmMqQsStTvVzZ])/))ae[ae.length]={type:0,text:RegExp.$1},te=te.substr(RegExp.$1.length);else{if(!te.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];ae[ae.length]={type:1,text:`${parseFloat(RegExp.$1)}`},te=te.substr(RegExp.$1.length)}return ae[ae.length]={type:2,text:""},ae}(xe);let g="BOD",z=0,Y=u[z];for(;!q(Y,2);){let te=0;const ae=[];if(g==="BOD"){if(Y.text!=="M"&&Y.text!=="m")return ve("M0,0"+xe);z++,te=S[Y.text],g=Y.text}else q(Y,1)?te=S[g]:(z++,te=S[Y.text],g=Y.text);if(!(z+te<u.length))throw new Error("Path data ended short");for(let ce=z;ce<z+te;ce++){const ye=u[ce];if(!q(ye,1))throw new Error("Param not a number: "+g+","+ye.text);ae[ae.length]=+ye.text}if(typeof S[g]!="number")throw new Error("Bad segment: "+g);{const ce={key:g,data:ae};Z.push(ce),z+=te,Y=u[z],g==="M"&&(g="L"),g==="m"&&(g="l")}}return Z}function ke(xe){let Z=0,u=0,g=0,z=0;const Y=[];for(const{key:te,data:ae}of xe)switch(te){case"M":Y.push({key:"M",data:[...ae]}),[Z,u]=ae,[g,z]=ae;break;case"m":Z+=ae[0],u+=ae[1],Y.push({key:"M",data:[Z,u]}),g=Z,z=u;break;case"L":Y.push({key:"L",data:[...ae]}),[Z,u]=ae;break;case"l":Z+=ae[0],u+=ae[1],Y.push({key:"L",data:[Z,u]});break;case"C":Y.push({key:"C",data:[...ae]}),Z=ae[4],u=ae[5];break;case"c":{const ce=ae.map((ye,je)=>je%2?ye+u:ye+Z);Y.push({key:"C",data:ce}),Z=ce[4],u=ce[5];break}case"Q":Y.push({key:"Q",data:[...ae]}),Z=ae[2],u=ae[3];break;case"q":{const ce=ae.map((ye,je)=>je%2?ye+u:ye+Z);Y.push({key:"Q",data:ce}),Z=ce[2],u=ce[3];break}case"A":Y.push({key:"A",data:[...ae]}),Z=ae[5],u=ae[6];break;case"a":Z+=ae[5],u+=ae[6],Y.push({key:"A",data:[ae[0],ae[1],ae[2],ae[3],ae[4],Z,u]});break;case"H":Y.push({key:"H",data:[...ae]}),Z=ae[0];break;case"h":Z+=ae[0],Y.push({key:"H",data:[Z]});break;case"V":Y.push({key:"V",data:[...ae]}),u=ae[0];break;case"v":u+=ae[0],Y.push({key:"V",data:[u]});break;case"S":Y.push({key:"S",data:[...ae]}),Z=ae[2],u=ae[3];break;case"s":{const ce=ae.map((ye,je)=>je%2?ye+u:ye+Z);Y.push({key:"S",data:ce}),Z=ce[2],u=ce[3];break}case"T":Y.push({key:"T",data:[...ae]}),Z=ae[0],u=ae[1];break;case"t":Z+=ae[0],u+=ae[1],Y.push({key:"T",data:[Z,u]});break;case"Z":case"z":Y.push({key:"Z",data:[]}),Z=g,u=z}return Y}function Se(xe){const Z=[];let u="",g=0,z=0,Y=0,te=0,ae=0,ce=0;for(const{key:ye,data:je}of xe){switch(ye){case"M":Z.push({key:"M",data:[...je]}),[g,z]=je,[Y,te]=je;break;case"C":Z.push({key:"C",data:[...je]}),g=je[4],z=je[5],ae=je[2],ce=je[3];break;case"L":Z.push({key:"L",data:[...je]}),[g,z]=je;break;case"H":g=je[0],Z.push({key:"L",data:[g,z]});break;case"V":z=je[0],Z.push({key:"L",data:[g,z]});break;case"S":{let Be=0,Qe=0;u==="C"||u==="S"?(Be=g+(g-ae),Qe=z+(z-ce)):(Be=g,Qe=z),Z.push({key:"C",data:[Be,Qe,...je]}),ae=je[0],ce=je[1],g=je[2],z=je[3];break}case"T":{const[Be,Qe]=je;let rt=0,Ye=0;u==="Q"||u==="T"?(rt=g+(g-ae),Ye=z+(z-ce)):(rt=g,Ye=z);const tt=g+2*(rt-g)/3,ht=z+2*(Ye-z)/3,gt=Be+2*(rt-Be)/3,Ue=Qe+2*(Ye-Qe)/3;Z.push({key:"C",data:[tt,ht,gt,Ue,Be,Qe]}),ae=rt,ce=Ye,g=Be,z=Qe;break}case"Q":{const[Be,Qe,rt,Ye]=je,tt=g+2*(Be-g)/3,ht=z+2*(Qe-z)/3,gt=rt+2*(Be-rt)/3,Ue=Ye+2*(Qe-Ye)/3;Z.push({key:"C",data:[tt,ht,gt,Ue,rt,Ye]}),ae=Be,ce=Qe,g=rt,z=Ye;break}case"A":{const Be=Math.abs(je[0]),Qe=Math.abs(je[1]),rt=je[2],Ye=je[3],tt=je[4],ht=je[5],gt=je[6];Be===0||Qe===0?(Z.push({key:"C",data:[g,z,ht,gt,ht,gt]}),g=ht,z=gt):(g!==ht||z!==gt)&&(J(g,z,ht,gt,Be,Qe,rt,Ye,tt).forEach(function(Ue){Z.push({key:"C",data:Ue})}),g=ht,z=gt);break}case"Z":Z.push({key:"Z",data:[]}),g=Y,z=te}u=ye}return Z}function ge(xe,Z,u){return[xe*Math.cos(u)-Z*Math.sin(u),xe*Math.sin(u)+Z*Math.cos(u)]}function J(xe,Z,u,g,z,Y,te,ae,ce,ye){const je=(Be=te,Math.PI*Be/180);var Be;let Qe=[],rt=0,Ye=0,tt=0,ht=0;if(ye)[rt,Ye,tt,ht]=ye;else{[xe,Z]=ge(xe,Z,-je),[u,g]=ge(u,g,-je);const tr=(xe-u)/2,Gt=(Z-g)/2;let Jt=tr*tr/(z*z)+Gt*Gt/(Y*Y);Jt>1&&(Jt=Math.sqrt(Jt),z*=Jt,Y*=Jt);const gr=z*z,Pt=Y*Y,St=gr*Pt-gr*Gt*Gt-Pt*tr*tr,Zt=gr*Gt*Gt+Pt*tr*tr,Tt=(ae===ce?-1:1)*Math.sqrt(Math.abs(St/Zt));tt=Tt*z*Gt/Y+(xe+u)/2,ht=Tt*-Y*tr/z+(Z+g)/2,rt=Math.asin(parseFloat(((Z-ht)/Y).toFixed(9))),Ye=Math.asin(parseFloat(((g-ht)/Y).toFixed(9))),xe<tt&&(rt=Math.PI-rt),u<tt&&(Ye=Math.PI-Ye),rt<0&&(rt=2*Math.PI+rt),Ye<0&&(Ye=2*Math.PI+Ye),ce&&rt>Ye&&(rt-=2*Math.PI),!ce&&Ye>rt&&(Ye-=2*Math.PI)}let gt=Ye-rt;if(Math.abs(gt)>120*Math.PI/180){const tr=Ye,Gt=u,Jt=g;Ye=ce&&Ye>rt?rt+120*Math.PI/180*1:rt+120*Math.PI/180*-1,Qe=J(u=tt+z*Math.cos(Ye),g=ht+Y*Math.sin(Ye),Gt,Jt,z,Y,te,0,ce,[Ye,tr,tt,ht])}gt=Ye-rt;const Ue=Math.cos(rt),Ce=Math.sin(rt),Le=Math.cos(Ye),et=Math.sin(Ye),ft=Math.tan(gt/4),xt=4/3*z*ft,wt=4/3*Y*ft,Rt=[xe,Z],It=[xe+xt*Ce,Z-wt*Ue],At=[u+xt*et,g-wt*Le],Xt=[u,g];if(It[0]=2*Rt[0]-It[0],It[1]=2*Rt[1]-It[1],ye)return[It,At,Xt].concat(Qe);{Qe=[It,At,Xt].concat(Qe);const tr=[];for(let Gt=0;Gt<Qe.length;Gt+=3){const Jt=ge(Qe[Gt][0],Qe[Gt][1],je),gr=ge(Qe[Gt+1][0],Qe[Gt+1][1],je),Pt=ge(Qe[Gt+2][0],Qe[Gt+2][1],je);tr.push([Jt[0],Jt[1],gr[0],gr[1],Pt[0],Pt[1]])}return tr}}const Q={randOffset:function(xe,Z){return C(xe,Z)},randOffsetWithRange:function(xe,Z,u){return m(xe,Z,u)},ellipse:function(xe,Z,u,g,z){const Y=R(u,g,z);return E(xe,Z,z,Y).opset},doubleLineOps:function(xe,Z,u,g,z){return U(xe,Z,u,g,z,!0)}};function K(xe,Z,u,g,z){return{type:"path",ops:U(xe,Z,u,g,z)}}function T(xe,Z,u){const g=(xe||[]).length;if(g>2){const z=[];for(let Y=0;Y<g-1;Y++)z.push(...U(xe[Y][0],xe[Y][1],xe[Y+1][0],xe[Y+1][1],u));return Z&&z.push(...U(xe[g-1][0],xe[g-1][1],xe[0][0],xe[0][1],u)),{type:"path",ops:z}}return g===2?K(xe[0][0],xe[0][1],xe[1][0],xe[1][1],u):{type:"path",ops:[]}}function B(xe,Z,u,g,z){return function(Y,te){return T(Y,!0,te)}([[xe,Z],[xe+u,Z],[xe+u,Z+g],[xe,Z+g]],z)}function O(xe,Z){let u=D(xe,1*(1+.2*Z.roughness),Z);if(!Z.disableMultiStroke){const g=D(xe,1.5*(1+.22*Z.roughness),function(z){const Y=Object.assign({},z);return Y.randomizer=void 0,z.seed&&(Y.seed=z.seed+1),Y}(Z));u=u.concat(g)}return{type:"path",ops:u}}function R(xe,Z,u){const g=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(xe/2,2)+Math.pow(Z/2,2))/2)),z=Math.ceil(Math.max(u.curveStepCount,u.curveStepCount/Math.sqrt(200)*g)),Y=2*Math.PI/z;let te=Math.abs(xe/2),ae=Math.abs(Z/2);const ce=1-u.curveFitting;return te+=C(te*ce,u),ae+=C(ae*ce,u),{increment:Y,rx:te,ry:ae}}function E(xe,Z,u,g){const[z,Y]=F(g.increment,xe,Z,g.rx,g.ry,1,g.increment*m(.1,m(.4,1,u),u),u);let te=P(z,null,u);if(!u.disableMultiStroke&&u.roughness!==0){const[ae]=F(g.increment,xe,Z,g.rx,g.ry,1.5,0,u),ce=P(ae,null,u);te=te.concat(ce)}return{estimatedPoints:Y,opset:{type:"path",ops:te}}}function v(xe,Z,u,g,z,Y,te,ae,ce){const ye=xe,je=Z;let Be=Math.abs(u/2),Qe=Math.abs(g/2);Be+=C(.01*Be,ce),Qe+=C(.01*Qe,ce);let rt=z,Ye=Y;for(;rt<0;)rt+=2*Math.PI,Ye+=2*Math.PI;Ye-rt>2*Math.PI&&(rt=0,Ye=2*Math.PI);const tt=2*Math.PI/ce.curveStepCount,ht=Math.min(tt/2,(Ye-rt)/2),gt=X(ht,ye,je,Be,Qe,rt,Ye,1,ce);if(!ce.disableMultiStroke){const Ue=X(ht,ye,je,Be,Qe,rt,Ye,1.5,ce);gt.push(...Ue)}return te&&(ae?gt.push(...U(ye,je,ye+Be*Math.cos(rt),je+Qe*Math.sin(rt),ce),...U(ye,je,ye+Be*Math.cos(Ye),je+Qe*Math.sin(Ye),ce)):gt.push({op:"lineTo",data:[ye,je]},{op:"lineTo",data:[ye+Be*Math.cos(rt),je+Qe*Math.sin(rt)]})),{type:"path",ops:gt}}function i(xe,Z){const u=Se(ke(ve(xe))),g=[];let z=[0,0],Y=[0,0];for(const{key:te,data:ae}of u)switch(te){case"M":Y=[ae[0],ae[1]],z=[ae[0],ae[1]];break;case"L":g.push(...U(Y[0],Y[1],ae[0],ae[1],Z)),Y=[ae[0],ae[1]];break;case"C":{const[ce,ye,je,Be,Qe,rt]=ae;g.push(...le(ce,ye,je,Be,Qe,rt,Y,Z)),Y=[Qe,rt];break}case"Z":g.push(...U(Y[0],Y[1],z[0],z[1],Z)),Y=[z[0],z[1]]}return{type:"path",ops:g}}function a(xe,Z){const u=[];for(const g of xe)if(g.length){const z=Z.maxRandomnessOffset||0,Y=g.length;if(Y>2){u.push({op:"move",data:[g[0][0]+C(z,Z),g[0][1]+C(z,Z)]});for(let te=1;te<Y;te++)u.push({op:"lineTo",data:[g[te][0]+C(z,Z),g[te][1]+C(z,Z)]})}}return{type:"fillPath",ops:u}}function y(xe,Z){return function(u,g){let z=u.fillStyle||"hachure";if(!H[z])switch(z){case"zigzag":H[z]||(H[z]=new M(g));break;case"cross-hatch":H[z]||(H[z]=new f(g));break;case"dots":H[z]||(H[z]=new d(g));break;case"dashed":H[z]||(H[z]=new j(g));break;case"zigzag-line":H[z]||(H[z]=new L(g));break;default:z="hachure",H[z]||(H[z]=new w(g))}return H[z]}(Z,Q).fillPolygons(xe,Z)}function h(xe){return xe.randomizer||(xe.randomizer=new x.k(xe.seed||0)),xe.randomizer.next()}function m(xe,Z,u,g=1){return u.roughness*g*(h(u)*(Z-xe)+xe)}function C(xe,Z,u=1){return m(-xe,xe,Z,u)}function U(xe,Z,u,g,z,Y=!1){const te=Y?z.disableMultiStrokeFill:z.disableMultiStroke,ae=V(xe,Z,u,g,z,!0,!1);if(te)return ae;const ce=V(xe,Z,u,g,z,!0,!0);return ae.concat(ce)}function V(xe,Z,u,g,z,Y,te){const ae=Math.pow(xe-u,2)+Math.pow(Z-g,2),ce=Math.sqrt(ae);let ye=1;ye=ce<200?1:ce>500?.4:-.0016668*ce+1.233334;let je=z.maxRandomnessOffset||0;je*je*100>ae&&(je=ce/10);const Be=je/2,Qe=.2+.2*h(z);let rt=z.bowing*z.maxRandomnessOffset*(g-Z)/200,Ye=z.bowing*z.maxRandomnessOffset*(xe-u)/200;rt=C(rt,z,ye),Ye=C(Ye,z,ye);const tt=[],ht=()=>C(Be,z,ye),gt=()=>C(je,z,ye),Ue=z.preserveVertices;return te?tt.push({op:"move",data:[xe+(Ue?0:ht()),Z+(Ue?0:ht())]}):tt.push({op:"move",data:[xe+(Ue?0:C(je,z,ye)),Z+(Ue?0:C(je,z,ye))]}),te?tt.push({op:"bcurveTo",data:[rt+xe+(u-xe)*Qe+ht(),Ye+Z+(g-Z)*Qe+ht(),rt+xe+2*(u-xe)*Qe+ht(),Ye+Z+2*(g-Z)*Qe+ht(),u+(Ue?0:ht()),g+(Ue?0:ht())]}):tt.push({op:"bcurveTo",data:[rt+xe+(u-xe)*Qe+gt(),Ye+Z+(g-Z)*Qe+gt(),rt+xe+2*(u-xe)*Qe+gt(),Ye+Z+2*(g-Z)*Qe+gt(),u+(Ue?0:gt()),g+(Ue?0:gt())]}),tt}function D(xe,Z,u){const g=[];g.push([xe[0][0]+C(Z,u),xe[0][1]+C(Z,u)]),g.push([xe[0][0]+C(Z,u),xe[0][1]+C(Z,u)]);for(let z=1;z<xe.length;z++)g.push([xe[z][0]+C(Z,u),xe[z][1]+C(Z,u)]),z===xe.length-1&&g.push([xe[z][0]+C(Z,u),xe[z][1]+C(Z,u)]);return P(g,null,u)}function P(xe,Z,u){const g=xe.length,z=[];if(g>3){const Y=[],te=1-u.curveTightness;z.push({op:"move",data:[xe[1][0],xe[1][1]]});for(let ae=1;ae+2<g;ae++){const ce=xe[ae];Y[0]=[ce[0],ce[1]],Y[1]=[ce[0]+(te*xe[ae+1][0]-te*xe[ae-1][0])/6,ce[1]+(te*xe[ae+1][1]-te*xe[ae-1][1])/6],Y[2]=[xe[ae+1][0]+(te*xe[ae][0]-te*xe[ae+2][0])/6,xe[ae+1][1]+(te*xe[ae][1]-te*xe[ae+2][1])/6],Y[3]=[xe[ae+1][0],xe[ae+1][1]],z.push({op:"bcurveTo",data:[Y[1][0],Y[1][1],Y[2][0],Y[2][1],Y[3][0],Y[3][1]]})}}else g===3?(z.push({op:"move",data:[xe[1][0],xe[1][1]]}),z.push({op:"bcurveTo",data:[xe[1][0],xe[1][1],xe[2][0],xe[2][1],xe[2][0],xe[2][1]]})):g===2&&z.push(...U(xe[0][0],xe[0][1],xe[1][0],xe[1][1],u));return z}function F(xe,Z,u,g,z,Y,te,ae){const ce=[],ye=[];if(ae.roughness===0){xe/=4,ye.push([Z+g*Math.cos(-xe),u+z*Math.sin(-xe)]);for(let je=0;je<=2*Math.PI;je+=xe){const Be=[Z+g*Math.cos(je),u+z*Math.sin(je)];ce.push(Be),ye.push(Be)}ye.push([Z+g*Math.cos(0),u+z*Math.sin(0)]),ye.push([Z+g*Math.cos(xe),u+z*Math.sin(xe)])}else{const je=C(.5,ae)-Math.PI/2;ye.push([C(Y,ae)+Z+.9*g*Math.cos(je-xe),C(Y,ae)+u+.9*z*Math.sin(je-xe)]);const Be=2*Math.PI+je-.01;for(let Qe=je;Qe<Be;Qe+=xe){const rt=[C(Y,ae)+Z+g*Math.cos(Qe),C(Y,ae)+u+z*Math.sin(Qe)];ce.push(rt),ye.push(rt)}ye.push([C(Y,ae)+Z+g*Math.cos(je+2*Math.PI+.5*te),C(Y,ae)+u+z*Math.sin(je+2*Math.PI+.5*te)]),ye.push([C(Y,ae)+Z+.98*g*Math.cos(je+te),C(Y,ae)+u+.98*z*Math.sin(je+te)]),ye.push([C(Y,ae)+Z+.9*g*Math.cos(je+.5*te),C(Y,ae)+u+.9*z*Math.sin(je+.5*te)])}return[ye,ce]}function X(xe,Z,u,g,z,Y,te,ae,ce){const ye=Y+C(.1,ce),je=[];je.push([C(ae,ce)+Z+.9*g*Math.cos(ye-xe),C(ae,ce)+u+.9*z*Math.sin(ye-xe)]);for(let Be=ye;Be<=te;Be+=xe)je.push([C(ae,ce)+Z+g*Math.cos(Be),C(ae,ce)+u+z*Math.sin(Be)]);return je.push([Z+g*Math.cos(te),u+z*Math.sin(te)]),je.push([Z+g*Math.cos(te),u+z*Math.sin(te)]),P(je,null,ce)}function le(xe,Z,u,g,z,Y,te,ae){const ce=[],ye=[ae.maxRandomnessOffset||1,(ae.maxRandomnessOffset||1)+.3];let je=[0,0];const Be=ae.disableMultiStroke?1:2,Qe=ae.preserveVertices;for(let rt=0;rt<Be;rt++)rt===0?ce.push({op:"move",data:[te[0],te[1]]}):ce.push({op:"move",data:[te[0]+(Qe?0:C(ye[0],ae)),te[1]+(Qe?0:C(ye[0],ae))]}),je=Qe?[z,Y]:[z+C(ye[rt],ae),Y+C(ye[rt],ae)],ce.push({op:"bcurveTo",data:[xe+C(ye[rt],ae),Z+C(ye[rt],ae),u+C(ye[rt],ae),g+C(ye[rt],ae),je[0],je[1]]});return ce}function de(xe){return[...xe]}function fe(xe,Z){return Math.pow(xe[0]-Z[0],2)+Math.pow(xe[1]-Z[1],2)}function pe(xe,Z,u){const g=fe(Z,u);if(g===0)return fe(xe,Z);let z=((xe[0]-Z[0])*(u[0]-Z[0])+(xe[1]-Z[1])*(u[1]-Z[1]))/g;return z=Math.max(0,Math.min(1,z)),fe(xe,ne(Z,u,z))}function ne(xe,Z,u){return[xe[0]+(Z[0]-xe[0])*u,xe[1]+(Z[1]-xe[1])*u]}function oe(xe,Z,u,g){const z=g||[];if(function(ae,ce){const ye=ae[ce+0],je=ae[ce+1],Be=ae[ce+2],Qe=ae[ce+3];let rt=3*je[0]-2*ye[0]-Qe[0];rt*=rt;let Ye=3*je[1]-2*ye[1]-Qe[1];Ye*=Ye;let tt=3*Be[0]-2*Qe[0]-ye[0];tt*=tt;let ht=3*Be[1]-2*Qe[1]-ye[1];return ht*=ht,rt<tt&&(rt=tt),Ye<ht&&(Ye=ht),rt+Ye}(xe,Z)<u){const ae=xe[Z+0];z.length?(Y=z[z.length-1],te=ae,Math.sqrt(fe(Y,te))>1&&z.push(ae)):z.push(ae),z.push(xe[Z+3])}else{const ce=xe[Z+0],ye=xe[Z+1],je=xe[Z+2],Be=xe[Z+3],Qe=ne(ce,ye,.5),rt=ne(ye,je,.5),Ye=ne(je,Be,.5),tt=ne(Qe,rt,.5),ht=ne(rt,Ye,.5),gt=ne(tt,ht,.5);oe([ce,Qe,tt,gt],0,u,z),oe([gt,ht,Ye,Be],0,u,z)}var Y,te;return z}function be(xe,Z,u,g,z){const Y=z||[],te=xe[Z],ae=xe[u-1];let ce=0,ye=1;for(let je=Z+1;je<u-1;++je){const Be=pe(xe[je],te,ae);Be>ce&&(ce=Be,ye=je)}return Math.sqrt(ce)>g?(be(xe,Z,ye+1,g,Y),be(xe,ye,u,g,Y)):(Y.length||Y.push(te),Y.push(ae)),Y}function Me(xe,Z){return Math.pow(xe[0]-Z[0],2)+Math.pow(xe[1]-Z[1],2)}function Ge(xe,Z,u){const g=Me(Z,u);if(g===0)return Me(xe,Z);let z=((xe[0]-Z[0])*(u[0]-Z[0])+(xe[1]-Z[1])*(u[1]-Z[1]))/g;return z=Math.max(0,Math.min(1,z)),Me(xe,qe(Z,u,z))}function qe(xe,Z,u){return[xe[0]+(Z[0]-xe[0])*u,xe[1]+(Z[1]-xe[1])*u]}function Ne(xe,Z,u,g){const z=g||[];if(function(ae,ce){const ye=ae[ce+0],je=ae[ce+1],Be=ae[ce+2],Qe=ae[ce+3];let rt=3*je[0]-2*ye[0]-Qe[0];rt*=rt;let Ye=3*je[1]-2*ye[1]-Qe[1];Ye*=Ye;let tt=3*Be[0]-2*Qe[0]-ye[0];tt*=tt;let ht=3*Be[1]-2*Qe[1]-ye[1];return ht*=ht,rt<tt&&(rt=tt),Ye<ht&&(Ye=ht),rt+Ye}(xe,Z)<u){const ae=xe[Z+0];z.length?(Y=z[z.length-1],te=ae,Math.sqrt(Me(Y,te))>1&&z.push(ae)):z.push(ae),z.push(xe[Z+3])}else{const ce=xe[Z+0],ye=xe[Z+1],je=xe[Z+2],Be=xe[Z+3],Qe=qe(ce,ye,.5),rt=qe(ye,je,.5),Ye=qe(je,Be,.5),tt=qe(Qe,rt,.5),ht=qe(rt,Ye,.5),gt=qe(tt,ht,.5);Ne([ce,Qe,tt,gt],0,u,z),Ne([gt,ht,Ye,Be],0,u,z)}var Y,te;return z}function Pe(xe,Z){return Re(xe,0,xe.length,Z)}function Re(xe,Z,u,g,z){const Y=z||[],te=xe[Z],ae=xe[u-1];let ce=0,ye=1;for(let je=Z+1;je<u-1;++je){const Be=Ge(xe[je],te,ae);Be>ce&&(ce=Be,ye=je)}return Math.sqrt(ce)>g?(Re(xe,Z,ye+1,g,Y),Re(xe,ye,u,g,Y)):(Y.length||Y.push(te),Y.push(ae)),Y}function Ze(xe,Z,u){const g=Se(ke(ve(xe))),z=[];let Y=[],te=[0,0],ae=[];const ce=()=>{ae.length>=4&&Y.push(...function(Be,Qe=.15,rt){const Ye=[],tt=(Be.length-1)/3;for(let ht=0;ht<tt;ht++)Ne(Be,3*ht,Qe,Ye);return rt&&rt>0?Re(Ye,0,Ye.length,rt):Ye}(ae,Z)),ae=[]},ye=()=>{ce(),Y.length&&(z.push(Y),Y=[])};for(const{key:Be,data:Qe}of g)switch(Be){case"M":ye(),te=[Qe[0],Qe[1]],Y.push(te);break;case"L":ce(),Y.push([Qe[0],Qe[1]]);break;case"C":if(!ae.length){const rt=Y.length?Y[Y.length-1]:te;ae.push([rt[0],rt[1]])}ae.push([Qe[0],Qe[1]]),ae.push([Qe[2],Qe[3]]),ae.push([Qe[4],Qe[5]]);break;case"Z":ce(),Y.push([te[0],te[1]])}if(ye(),!u)return z;const je=[];for(const Be of z){const Qe=Pe(Be,u);Qe.length&&je.push(Qe)}return je}const Ie="none";class Ee{constructor(Z){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=Z||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return(0,x.W)()}_o(Z){return Z?Object.assign({},this.defaultOptions,Z):this.defaultOptions}_d(Z,u,g){return{shape:Z,sets:u||[],options:g||this.defaultOptions}}line(Z,u,g,z,Y){const te=this._o(Y);return this._d("line",[K(Z,u,g,z,te)],te)}rectangle(Z,u,g,z,Y){const te=this._o(Y),ae=[],ce=B(Z,u,g,z,te);if(te.fill){const ye=[[Z,u],[Z+g,u],[Z+g,u+z],[Z,u+z]];te.fillStyle==="solid"?ae.push(a([ye],te)):ae.push(y([ye],te))}return te.stroke!==Ie&&ae.push(ce),this._d("rectangle",ae,te)}ellipse(Z,u,g,z,Y){const te=this._o(Y),ae=[],ce=R(g,z,te),ye=E(Z,u,te,ce);if(te.fill)if(te.fillStyle==="solid"){const je=E(Z,u,te,ce).opset;je.type="fillPath",ae.push(je)}else ae.push(y([ye.estimatedPoints],te));return te.stroke!==Ie&&ae.push(ye.opset),this._d("ellipse",ae,te)}circle(Z,u,g,z){const Y=this.ellipse(Z,u,g,g,z);return Y.shape="circle",Y}linearPath(Z,u){const g=this._o(u);return this._d("linearPath",[T(Z,!1,g)],g)}arc(Z,u,g,z,Y,te,ae=!1,ce){const ye=this._o(ce),je=[],Be=v(Z,u,g,z,Y,te,ae,!0,ye);if(ae&&ye.fill)if(ye.fillStyle==="solid"){const Qe=Object.assign({},ye);Qe.disableMultiStroke=!0;const rt=v(Z,u,g,z,Y,te,!0,!1,Qe);rt.type="fillPath",je.push(rt)}else je.push(function(Qe,rt,Ye,tt,ht,gt,Ue){const Ce=Qe,Le=rt;let et=Math.abs(Ye/2),ft=Math.abs(tt/2);et+=C(.01*et,Ue),ft+=C(.01*ft,Ue);let xt=ht,wt=gt;for(;xt<0;)xt+=2*Math.PI,wt+=2*Math.PI;wt-xt>2*Math.PI&&(xt=0,wt=2*Math.PI);const Rt=(wt-xt)/Ue.curveStepCount,It=[];for(let At=xt;At<=wt;At+=Rt)It.push([Ce+et*Math.cos(At),Le+ft*Math.sin(At)]);return It.push([Ce+et*Math.cos(wt),Le+ft*Math.sin(wt)]),It.push([Ce,Le]),y([It],Ue)}(Z,u,g,z,Y,te,ye));return ye.stroke!==Ie&&je.push(Be),this._d("arc",je,ye)}curve(Z,u){const g=this._o(u),z=[],Y=O(Z,g);if(g.fill&&g.fill!==Ie&&Z.length>=3)if(g.fillStyle==="solid"){const te=O(Z,Object.assign(Object.assign({},g),{disableMultiStroke:!0,roughness:g.roughness?g.roughness+g.fillShapeRoughnessGain:0}));z.push({type:"fillPath",ops:this._mergedShape(te.ops)})}else{const te=function(ce,ye=0){const je=ce.length;if(je<3)throw new Error("A curve must have at least three points.");const Be=[];if(je===3)Be.push(de(ce[0]),de(ce[1]),de(ce[2]),de(ce[2]));else{const Qe=[];Qe.push(ce[0],ce[0]);for(let tt=1;tt<ce.length;tt++)Qe.push(ce[tt]),tt===ce.length-1&&Qe.push(ce[tt]);const rt=[],Ye=1-ye;Be.push(de(Qe[0]));for(let tt=1;tt+2<Qe.length;tt++){const ht=Qe[tt];rt[0]=[ht[0],ht[1]],rt[1]=[ht[0]+(Ye*Qe[tt+1][0]-Ye*Qe[tt-1][0])/6,ht[1]+(Ye*Qe[tt+1][1]-Ye*Qe[tt-1][1])/6],rt[2]=[Qe[tt+1][0]+(Ye*Qe[tt][0]-Ye*Qe[tt+2][0])/6,Qe[tt+1][1]+(Ye*Qe[tt][1]-Ye*Qe[tt+2][1])/6],rt[3]=[Qe[tt+1][0],Qe[tt+1][1]],Be.push(rt[1],rt[2],rt[3])}}return Be}(Z),ae=function(ce,ye=.15,je){const Be=[],Qe=(ce.length-1)/3;for(let rt=0;rt<Qe;rt++)oe(ce,3*rt,ye,Be);return je&&je>0?be(Be,0,Be.length,je):Be}(te,10,(1+g.roughness)/2);z.push(y([ae],g))}return g.stroke!==Ie&&z.push(Y),this._d("curve",z,g)}polygon(Z,u){const g=this._o(u),z=[],Y=T(Z,!0,g);return g.fill&&(g.fillStyle==="solid"?z.push(a([Z],g)):z.push(y([Z],g))),g.stroke!==Ie&&z.push(Y),this._d("polygon",z,g)}path(Z,u){const g=this._o(u),z=[];if(!Z)return this._d("path",z,g);Z=(Z||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const Y=g.fill&&g.fill!=="transparent"&&g.fill!==Ie,te=g.stroke!==Ie,ae=!!(g.simplification&&g.simplification<1),ce=Ze(Z,1,ae?4-4*(g.simplification||1):(1+g.roughness)/2),ye=i(Z,g);if(Y)if(g.fillStyle==="solid")if(ce.length===1){const je=i(Z,Object.assign(Object.assign({},g),{disableMultiStroke:!0,roughness:g.roughness?g.roughness+g.fillShapeRoughnessGain:0}));z.push({type:"fillPath",ops:this._mergedShape(je.ops)})}else z.push(a(ce,g));else z.push(y(ce,g));return te&&(ae?ce.forEach(je=>{z.push(T(je,!1,g))}):z.push(ye)),this._d("path",z,g)}opsToPath(Z,u){let g="";for(const z of Z.ops){const Y=typeof u=="number"&&u>=0?z.data.map(te=>+te.toFixed(u)):z.data;switch(z.op){case"move":g+=`M${Y[0]} ${Y[1]} `;break;case"bcurveTo":g+=`C${Y[0]} ${Y[1]}, ${Y[2]} ${Y[3]}, ${Y[4]} ${Y[5]} `;break;case"lineTo":g+=`L${Y[0]} ${Y[1]} `}}return g.trim()}toPaths(Z){const u=Z.sets||[],g=Z.options||this.defaultOptions,z=[];for(const Y of u){let te=null;switch(Y.type){case"path":te={d:this.opsToPath(Y),stroke:g.stroke,strokeWidth:g.strokeWidth,fill:Ie};break;case"fillPath":te={d:this.opsToPath(Y),stroke:Ie,strokeWidth:0,fill:g.fill||Ie};break;case"fillSketch":te=this.fillSketch(Y,g)}te&&z.push(te)}return z}fillSketch(Z,u){let g=u.fillWeight;return g<0&&(g=u.strokeWidth/2),{d:this.opsToPath(Z),stroke:u.fill||Ie,strokeWidth:g,fill:Ie}}_mergedShape(Z){return Z.filter((u,g)=>g===0||u.op!=="move")}}},8152:function(We,ue,n){function r(){return Math.floor(Math.random()*2147483648)}n.d(ue,{W:function(){return r},k:function(){return A}});class A{constructor(b){this.seed=b}next(){return this.seed?(2147483647&(this.seed=Math.imul(48271,this.seed)))/2147483648:Math.random()}}},9845:function(We,ue,n){n.d(ue,{Z:function(){return w}});var r=n(8128);class A{constructor(M,f){this.canvas=M,this.ctx=this.canvas.getContext("2d"),this.gen=new r.V(f)}draw(M){const f=M.sets||[],d=M.options||this.getDefaultOptions(),j=this.ctx,L=M.options.fixedDecimalPlaceDigits;for(const H of f)switch(H.type){case"path":j.save(),j.strokeStyle=d.stroke==="none"?"transparent":d.stroke,j.lineWidth=d.strokeWidth,d.strokeLineDash&&j.setLineDash(d.strokeLineDash),d.strokeLineDashOffset&&(j.lineDashOffset=d.strokeLineDashOffset),this._drawToContext(j,H,L),j.restore();break;case"fillPath":{j.save(),j.fillStyle=d.fill||"";const x=M.shape==="curve"||M.shape==="polygon"||M.shape==="path"?"evenodd":"nonzero";this._drawToContext(j,H,L,x),j.restore();break}case"fillSketch":this.fillSketch(j,H,d)}}fillSketch(M,f,d){let j=d.fillWeight;j<0&&(j=d.strokeWidth/2),M.save(),d.fillLineDash&&M.setLineDash(d.fillLineDash),d.fillLineDashOffset&&(M.lineDashOffset=d.fillLineDashOffset),M.strokeStyle=d.fill||"",M.lineWidth=j,this._drawToContext(M,f,d.fixedDecimalPlaceDigits),M.restore()}_drawToContext(M,f,d,j="nonzero"){M.beginPath();for(const L of f.ops){const H=typeof d=="number"&&d>=0?L.data.map(x=>+x.toFixed(d)):L.data;switch(L.op){case"move":M.moveTo(H[0],H[1]);break;case"bcurveTo":M.bezierCurveTo(H[0],H[1],H[2],H[3],H[4],H[5]);break;case"lineTo":M.lineTo(H[0],H[1])}}f.type==="fillPath"?M.fill(j):M.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(M,f,d,j,L){const H=this.gen.line(M,f,d,j,L);return this.draw(H),H}rectangle(M,f,d,j,L){const H=this.gen.rectangle(M,f,d,j,L);return this.draw(H),H}ellipse(M,f,d,j,L){const H=this.gen.ellipse(M,f,d,j,L);return this.draw(H),H}circle(M,f,d,j){const L=this.gen.circle(M,f,d,j);return this.draw(L),L}linearPath(M,f){const d=this.gen.linearPath(M,f);return this.draw(d),d}polygon(M,f){const d=this.gen.polygon(M,f);return this.draw(d),d}arc(M,f,d,j,L,H,x=!1,S){const q=this.gen.arc(M,f,d,j,L,H,x,S);return this.draw(q),q}curve(M,f){const d=this.gen.curve(M,f);return this.draw(d),d}path(M,f){const d=this.gen.path(M,f);return this.draw(d),d}}const k="http://www.w3.org/2000/svg";class b{constructor(M,f){this.svg=M,this.gen=new r.V(f)}draw(M){const f=M.sets||[],d=M.options||this.getDefaultOptions(),j=this.svg.ownerDocument||window.document,L=j.createElementNS(k,"g"),H=M.options.fixedDecimalPlaceDigits;for(const x of f){let S=null;switch(x.type){case"path":S=j.createElementNS(k,"path"),S.setAttribute("d",this.opsToPath(x,H)),S.setAttribute("stroke",d.stroke),S.setAttribute("stroke-width",d.strokeWidth+""),S.setAttribute("fill","none"),d.strokeLineDash&&S.setAttribute("stroke-dasharray",d.strokeLineDash.join(" ").trim()),d.strokeLineDashOffset&&S.setAttribute("stroke-dashoffset",`${d.strokeLineDashOffset}`);break;case"fillPath":S=j.createElementNS(k,"path"),S.setAttribute("d",this.opsToPath(x,H)),S.setAttribute("stroke","none"),S.setAttribute("stroke-width","0"),S.setAttribute("fill",d.fill||""),M.shape!=="curve"&&M.shape!=="polygon"||S.setAttribute("fill-rule","evenodd");break;case"fillSketch":S=this.fillSketch(j,x,d)}S&&L.appendChild(S)}return L}fillSketch(M,f,d){let j=d.fillWeight;j<0&&(j=d.strokeWidth/2);const L=M.createElementNS(k,"path");return L.setAttribute("d",this.opsToPath(f,d.fixedDecimalPlaceDigits)),L.setAttribute("stroke",d.fill||""),L.setAttribute("stroke-width",j+""),L.setAttribute("fill","none"),d.fillLineDash&&L.setAttribute("stroke-dasharray",d.fillLineDash.join(" ").trim()),d.fillLineDashOffset&&L.setAttribute("stroke-dashoffset",`${d.fillLineDashOffset}`),L}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(M,f){return this.gen.opsToPath(M,f)}line(M,f,d,j,L){const H=this.gen.line(M,f,d,j,L);return this.draw(H)}rectangle(M,f,d,j,L){const H=this.gen.rectangle(M,f,d,j,L);return this.draw(H)}ellipse(M,f,d,j,L){const H=this.gen.ellipse(M,f,d,j,L);return this.draw(H)}circle(M,f,d,j){const L=this.gen.circle(M,f,d,j);return this.draw(L)}linearPath(M,f){const d=this.gen.linearPath(M,f);return this.draw(d)}polygon(M,f){const d=this.gen.polygon(M,f);return this.draw(d)}arc(M,f,d,j,L,H,x=!1,S){const q=this.gen.arc(M,f,d,j,L,H,x,S);return this.draw(q)}curve(M,f){const d=this.gen.curve(M,f);return this.draw(d)}path(M,f){const d=this.gen.path(M,f);return this.draw(d)}}var w={canvas:(N,M)=>new A(N,M),svg:(N,M)=>new b(N,M),generator:N=>new r.V(N),newSeed:()=>r.V.newSeed()}},5714:function(We){We.exports=function(ue,n,r){var A=[],k=ue.length;if(k===0)return A;var b=n<0?Math.max(0,n+k):n||0;for(r!==void 0&&(k=r<0?r+k:r);k-- >b;)A[k-b]=ue[k];return A}},2173:function(We,ue,n){var r=n(9787),A=typeof Object.is=="function"?Object.is:function(d,j){return d===j&&(d!==0||1/d==1/j)||d!=d&&j!=j},k=r.useState,b=r.useEffect,w=r.useLayoutEffect,N=r.useDebugValue;function M(d){var j=d.getSnapshot;d=d.value;try{var L=j();return!A(d,L)}catch{return!0}}var f=typeof window>"u"||window.document===void 0||window.document.createElement===void 0?function(d,j){return j()}:function(d,j){var L=j(),H=k({inst:{value:L,getSnapshot:j}}),x=H[0].inst,S=H[1];return w(function(){x.value=L,x.getSnapshot=j,M(x)&&S({inst:x})},[d,L,j]),b(function(){return M(x)&&S({inst:x}),d(function(){M(x)&&S({inst:x})})},[d]),N(L),L};ue.useSyncExternalStore=r.useSyncExternalStore!==void 0?r.useSyncExternalStore:f},5917:function(We,ue,n){var r=n(9787),A=n(1374),k=typeof Object.is=="function"?Object.is:function(d,j){return d===j&&(d!==0||1/d==1/j)||d!=d&&j!=j},b=A.useSyncExternalStore,w=r.useRef,N=r.useEffect,M=r.useMemo,f=r.useDebugValue;ue.useSyncExternalStoreWithSelector=function(d,j,L,H,x){var S=w(null);if(S.current===null){var q={hasValue:!1,value:null};S.current=q}else q=S.current;S=M(function(){function ke(K){if(!J){if(J=!0,Se=K,K=H(K),x!==void 0&&q.hasValue){var T=q.value;if(x(T,K))return ge=T}return ge=K}if(T=ge,k(Se,K))return T;var B=H(K);return x!==void 0&&x(T,B)?T:(Se=K,ge=B)}var Se,ge,J=!1,Q=L===void 0?null:L;return[function(){return ke(j())},Q===null?void 0:function(){return ke(Q())}]},[j,L,H,x]);var ve=b(d,S[0],S[1]);return N(function(){q.hasValue=!0,q.value=ve},[ve]),f(ve),ve}},1374:function(We,ue,n){We.exports=n(2173)},5668:function(We,ue,n){We.exports=n(5917)},940:function(We,ue,n){var r={"./ar-SA.json":[7822,2091],"./az-AZ.json":[9753,4568],"./bg-BG.json":[1203,1628],"./bn-BD.json":[8525,7429],"./ca-ES.json":[510,5130],"./cs-CZ.json":[7605,6265],"./da-DK.json":[2392,1790],"./de-DE.json":[2853,3082],"./el-GR.json":[9876,1513],"./en.json":[1463],"./es-ES.json":[2264,8759],"./eu-ES.json":[5658,8081],"./fa-IR.json":[3747,5330],"./fi-FI.json":[9490,3512],"./fr-FR.json":[7830,3682],"./gl-ES.json":[5199,2943],"./he-IL.json":[1994,2312],"./hi-IN.json":[4646,9828],"./hu-HU.json":[6373,7368],"./id-ID.json":[3247,3808],"./it-IT.json":[3257,6239],"./ja-JP.json":[198,1204],"./kaa.json":[7941,663],"./kab-KAB.json":[228,9551],"./kk-KZ.json":[8972,22],"./km-KH.json":[5845,6566],"./ko-KR.json":[7596,6844],"./ku-TR.json":[2508,3031],"./lt-LT.json":[3755,8340],"./lv-LV.json":[2327,6768],"./mr-IN.json":[5297,3397],"./my-MM.json":[7704,1477],"./nb-NO.json":[1167,2359],"./nl-NL.json":[290,3024],"./nn-NO.json":[4481,3885],"./oc-FR.json":[2284,1690],"./pa-IN.json":[6773,3162],"./percentages.json":[4451],"./pl-PL.json":[3661,3674],"./pt-BR.json":[8881,3721],"./pt-PT.json":[125,5395],"./ro-RO.json":[2013,5089],"./ru-RU.json":[2253,8124],"./si-LK.json":[5497,1302],"./sk-SK.json":[4570,8750],"./sl-SI.json":[1984,6071],"./sv-SE.json":[976,8534],"./ta-IN.json":[3952,2404],"./th-TH.json":[2596,537],"./tr-TR.json":[7315,4977],"./uk-UA.json":[3458,7759],"./vi-VN.json":[456,4e3],"./zh-CN.json":[1037,4680],"./zh-HK.json":[5334,7920],"./zh-TW.json":[931,3421]};function A(k){if(!n.o(r,k))return Promise.resolve().then(function(){var N=new Error("Cannot find module '"+k+"'");throw N.code="MODULE_NOT_FOUND",N});var b=r[k],w=b[0];return Promise.all(b.slice(1).map(n.e)).then(function(){return n.t(w,19)})}A.keys=function(){return Object.keys(r)},A.id=940,We.exports=A},9713:function(We){We.exports=function(ue,n,r){return n in ue?Object.defineProperty(ue,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):ue[n]=r,ue}},6479:function(We,ue,n){var r=n(7316);We.exports=function(A,k){if(A==null)return{};var b,w,N=r(A,k);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(A);for(w=0;w<M.length;w++)b=M[w],k.indexOf(b)>=0||Object.prototype.propertyIsEnumerable.call(A,b)&&(N[b]=A[b])}return N}},7316:function(We){We.exports=function(ue,n){if(ue==null)return{};var r,A,k={},b=Object.keys(ue);for(A=0;A<b.length;A++)r=b[A],n.indexOf(r)>=0||(k[r]=ue[r]);return k}},4295:function(We,ue,n){var r=n(8081),A=n.n(r),k=n(3645),b=n.n(k),w=n(1667),N=n.n(w),M=new URL(n(3940),n.b),f=new URL(n(3147),n.b),d=new URL(n(8303),n.b),j=new URL(n(1273),n.b),L=new URL(n(9577),n.b),H=new URL(n(9729),n.b),x=b()(A()),S=N()(M),q=N()(f),ve=N()(d),ke=N()(j),Se=N()(L),ge=N()(H);x.push([We.id,'@font-face{font-family:"Virgil";src:url('+S+');font-display:swap}@font-face{font-family:"Cascadia";src:url('+q+');font-display:swap}@font-face{font-family:"Assistant";src:url('+ve+');font-display:swap;font-weight:400}@font-face{font-family:"Assistant";src:url('+ke+');font-display:swap;font-weight:500}@font-face{font-family:"Assistant";src:url('+Se+');font-display:swap;font-weight:600}@font-face{font-family:"Assistant";src:url('+ge+");font-display:swap;font-weight:700}",""]),ue.Z=x},6086:function(We,ue,n){var r=n(8081),A=n.n(r),k=n(3645),b=n.n(k)()(A());b.push([We.id,".zoom-actions,.undo-redo-buttons{background-color:var(--island-bg-color);border-radius:var(--border-radius-lg);box-shadow:0 0 0 1px var(--color-surface-lowest)}.zoom-button,.undo-redo-buttons button{border-radius:0 !important;background-color:var(--color-surface-low) !important;font-size:.875rem !important;width:var(--lg-button-size);height:var(--lg-button-size)}.zoom-button svg,.undo-redo-buttons button svg{width:var(--lg-icon-size) !important;height:var(--lg-icon-size) !important}.zoom-button .ToolIcon__icon,.undo-redo-buttons button .ToolIcon__icon{width:100%;height:100%}.reset-zoom-button{border-left:0 !important;border-right:0 !important;padding:0 .625rem !important;width:3.75rem !important;justify-content:center;color:var(--text-primary-color)}.zoom-out-button{border-top-left-radius:var(--border-radius-lg) !important;border-bottom-left-radius:var(--border-radius-lg) !important}:root[dir=rtl] .zoom-out-button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.zoom-out-button .ToolIcon__icon{border-top-right-radius:0 !important;border-bottom-right-radius:0 !important}.zoom-in-button{border-top-right-radius:var(--border-radius-lg) !important;border-bottom-right-radius:var(--border-radius-lg) !important}:root[dir=rtl] .zoom-in-button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.zoom-in-button .ToolIcon__icon{border-top-left-radius:0 !important;border-bottom-left-radius:0 !important}.undo-redo-buttons .undo-button-container button{border-top-left-radius:var(--border-radius-lg) !important;border-bottom-left-radius:var(--border-radius-lg) !important;border-right:0 !important}:root[dir=rtl] .undo-redo-buttons .undo-button-container button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.undo-redo-buttons .undo-button-container button .ToolIcon__icon{border-top-right-radius:0 !important;border-bottom-right-radius:0 !important}.undo-redo-buttons .redo-button-container button{border-top-right-radius:var(--border-radius-lg) !important;border-bottom-right-radius:var(--border-radius-lg) !important}:root[dir=rtl] .undo-redo-buttons .redo-button-container button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.undo-redo-buttons .redo-button-container button .ToolIcon__icon{border-top-left-radius:0 !important;border-bottom-left-radius:0 !important}",""]),ue.Z=b},3729:function(We,ue,n){var r=n(8081),A=n.n(r),k=n(3645),b=n.n(k)()(A());b.push([We.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Avatar{width:1.25rem;height:1.25rem;position:relative;border-radius:100%;outline-offset:2px;display:flex;justify-content:center;align-items:center;cursor:pointer;font-size:.75rem;font-weight:800;line-height:1}.excalidraw .Avatar-img{width:100%;height:100%;border-radius:100%}.excalidraw .Avatar::before{content:"";position:absolute;top:-3px;right:-3px;bottom:-3px;left:-3px;border:1px solid var(--avatar-border-color);border-radius:100%}',""]),ue.Z=b},3137:function(We,ue,n){var r=n(8081),A=n.n(r),k=n(3645),b=n.n(k),w=n(1667),N=n.n(w),M=new URL(n(7984),n.b),f=new URL(n(1639),n.b),d=b()(A()),j=N()(M),L=N()(f);d.push([We.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw{--theme-filter: none;--button-destructive-bg-color: #ffe3e3;--button-destructive-color: #c92a2a;--button-gray-1: #e9ecef;--button-gray-2: #ced4da;--button-gray-3: #adb5bd;--button-special-active-bg-color: #ebfbee;--dialog-border-color: var(--color-gray-20);--dropdown-icon: url("+j+");--focus-highlight-color: #a5d8ff;--icon-fill-color: var(--color-on-surface);--icon-green-fill-color: #2b8a3e;--default-bg-color: #ffffff;--input-bg-color: #ffffff;--input-border-color: #ced4da;--input-hover-bg-color: #f1f3f5;--input-label-color: #495057;--island-bg-color: #ffffff;--keybinding-color: var(--color-gray-40);--link-color: #1c7ed6;--overlay-bg-color: rgba(255, 255, 255, 0.88);--popup-bg-color: var(--island-bg-color);--popup-secondary-bg-color: #f1f3f5;--popup-text-color: #000000;--popup-text-inverted-color: #ffffff;--select-highlight-color: #339af0;--shadow-island: 0px 0px 0.9310142993927002px 0px rgba(0, 0, 0, 0.17), 0px 0px 3.1270833015441895px 0px rgba(0, 0, 0, 0.08), 0px 7px 14px 0px rgba(0, 0, 0, 0.05);--button-hover-bg: var(--color-surface-high);--button-active-bg: var(--color-surface-high);--button-active-border: var(--color-brand-active);--default-border-color: var(--color-surface-high);--default-button-size: 2rem;--default-icon-size: 1rem;--lg-button-size: 2.25rem;--lg-icon-size: 1rem;--editor-container-padding: 1rem;--scrollbar-thumb: var(--button-gray-2);--scrollbar-thumb-hover: var(--button-gray-3);--modal-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--avatar-border-color: var(--color-gray-20);--sidebar-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--sidebar-border-color: var(--color-surface-high);--sidebar-bg-color: var(--island-bg-color);--library-dropdown-shadow: 0px 15px 6px rgba(0, 0, 0, 0.01), 0px 8px 5px rgba(0, 0, 0, 0.05), 0px 4px 4px rgba(0, 0, 0, 0.09), 0px 1px 2px rgba(0, 0, 0, 0.1), 0px 0px 0px rgba(0, 0, 0, 0.1);--space-factor: 0.25rem;--text-primary-color: var(--color-on-surface);--color-selection: #6965db;--color-icon-white: #ffffff;--color-primary: #6965db;--color-primary-darker: #5b57d1;--color-primary-darkest: #4a47b1;--color-primary-light: #e3e2fe;--color-primary-light-darker: #d7d5ff;--color-gray-10: #f5f5f5;--color-gray-20: #ebebeb;--color-gray-30: #d6d6d6;--color-gray-40: #b8b8b8;--color-gray-50: #999999;--color-gray-60: #7a7a7a;--color-gray-70: #5c5c5c;--color-gray-80: #3d3d3d;--color-gray-85: #242424;--color-gray-90: #1e1e1e;--color-gray-100: #121212;--color-warning: #fceeca;--color-warning-dark: #f5c354;--color-warning-darker: #f3ab2c;--color-warning-darkest: #ec8b14;--color-text-warning: var(--text-primary-color);--color-danger: #db6965;--color-danger-dark: #db6965;--color-danger-darker: #d65550;--color-danger-darkest: #d1413c;--color-danger-text: black;--color-danger-background: #fff0f0;--color-danger-icon-background: #ffdad6;--color-danger-color: #700000;--color-danger-icon-color: #700000;--color-warning-background: var(--color-warning);--color-warning-icon-background: var(--color-warning-dark);--color-warning-color: var(--text-primary-color);--color-warning-icon-color: var(--text-primary-color);--color-muted: var(--color-gray-30);--color-muted-darker: var(--color-gray-60);--color-muted-darkest: var(--color-gray-100);--color-muted-background: var(--color-gray-80);--color-muted-background-darker: var(--color-gray-100);--color-promo: #e70078;--color-success: #268029;--color-success-lighter: #cafccc;--color-logo-icon: var(--color-primary);--color-logo-text: #190064;--border-radius-md: 0.375rem;--border-radius-lg: 0.5rem;--color-surface-high: hsl(244, 100%, 97%);--color-surface-mid: hsl(240 25% 96%);--color-surface-low: hsl(240 25% 94%);--color-surface-lowest: #ffffff;--color-on-surface: #1b1b1f;--color-brand-hover: #5753d0;--color-on-primary-container: #030064;--color-surface-primary-container: #e0dfff;--color-brand-active: #4440bf;--color-border-outline: #767680;--color-border-outline-variant: #c5c5d0;--color-surface-primary-container: #e0dfff}@media screen and (min-device-width: 1921px){.excalidraw{--lg-button-size: 2.5rem;--lg-icon-size: 1.25rem;--default-button-size: 2.25rem;--default-icon-size: 1.25rem}}.excalidraw.theme--dark.theme--dark-background-none{background:none}.excalidraw.theme--dark{--theme-filter: invert(93%) hue-rotate(180deg);--button-destructive-bg-color: #5a0000;--button-destructive-color: #ffa8a8;--button-gray-1: #363636;--button-gray-2: #272727;--button-gray-3: #222;--button-special-active-bg-color: #204624;--dialog-border-color: var(--color-gray-80);--dropdown-icon: url("+L+");--focus-highlight-color: #228be6;--icon-green-fill-color: #69db7c;--default-bg-color: #121212;--input-bg-color: #121212;--input-border-color: #2e2e2e;--input-hover-bg-color: #181818;--input-label-color: #e9ecef;--island-bg-color: #232329;--keybinding-color: var(--color-gray-60);--link-color: #4dabf7;--overlay-bg-color: rgba(52, 58, 64, 0.12);--popup-secondary-bg-color: #222;--popup-text-color: #ced4da;--popup-text-inverted-color: #2c2c2c;--select-highlight-color: #4dabf7;--shadow-island: 0px 0px 0.9310142993927002px 0px rgba(0, 0, 0, 0.17), 0px 0px 3.1270833015441895px 0px rgba(0, 0, 0, 0.08), 0px 7px 14px 0px rgba(0, 0, 0, 0.05);--modal-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--avatar-border-color: var(--color-gray-85);--scrollbar-thumb: #343a40;--scrollbar-thumb-hover: #495057;--color-selection: #3530c4;--color-icon-white: var(--color-gray-90);--color-primary: #a8a5ff;--color-primary-darker: #b2aeff;--color-primary-darkest: #beb9ff;--color-primary-light: #4f4d6f;--color-primary-light-darker: #43415e;--color-text-warning: var(--color-gray-80);--color-danger: #ffa8a5;--color-danger-dark: #672120;--color-danger-darker: #8f2625;--color-danger-darkest: #ac2b29;--color-danger-text: #fbcbcc;--color-danger-background: #fbcbcc;--color-danger-icon-background: #672120;--color-danger-color: #261919;--color-danger-icon-color: #fbcbcc;--color-warning-background: var(--color-warning);--color-warning-icon-background: var(--color-warning-dark);--color-warning-color: var(--color-gray-80);--color-warning-icon-color: var(--color-gray-80);--color-muted: var(--color-gray-80);--color-muted-darker: var(--color-gray-60);--color-muted-darkest: var(--color-gray-20);--color-muted-background: var(--color-gray-40);--color-muted-background-darker: var(--color-gray-20);--color-promo: #d297ff;--color-logo-text: #e2dfff;--color-surface-high: hsl(245, 10%, 21%);--color-surface-low: hsl(240, 8%, 15%);--color-surface-mid: hsl(240 6% 10%);--color-surface-lowest: hsl(0, 0%, 7%);--color-on-surface: #e3e3e8;--color-brand-hover: #bbb8ff;--color-on-primary-container: #e0dfff;--color-surface-primary-container: #403e6a;--color-brand-active: #d0ccff;--color-border-outline: #8e8d9c;--color-border-outline-variant: #46464f;--color-surface-primary-container: #403e6a}.excalidraw .excalidraw-button{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--color-on-surface))}.excalidraw .excalidraw-button svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .excalidraw-button:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--button-border, var(--default-border-color)));color:var(--button-hover-color, var(--button-color, var(--text-primary-color, inherit)))}.excalidraw .excalidraw-button:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .excalidraw-button.active{background-color:var(--button-selected-bg, var(--color-surface-primary-container));border-color:var(--button-selected-border, var(--color-surface-primary-container))}.excalidraw .excalidraw-button.active:hover{background-color:var(--button-selected-hover-bg, var(--color-surface-primary-container))}.excalidraw .excalidraw-button.active svg{color:var(--button-color, var(--color-on-primary-container))}",""]),ue.Z=d},4241:function(We,ue,n){var r=n(8081),A=n.n(r),k=n(3645),b=n.n(k)()(A());b.push([We.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Card{display:flex;flex-direction:column;align-items:center;max-width:290px;margin:1em;text-align:center}.excalidraw .Card .Card-icon{font-size:2.6em;display:flex;flex:0 0 auto;padding:1.4rem;border-radius:50%;background:var(--card-color);color:#fff}.excalidraw .Card .Card-icon svg{width:2.8rem;height:2.8rem}.excalidraw .Card .Card-details{font-size:.96em;min-height:90px;padding:0 1em;margin-bottom:auto}.excalidraw .Card .Card-button.ToolIcon_type_button{height:2.5rem;margin-top:1em;margin-bottom:.3em;background-color:var(--card-color)}.excalidraw .Card .Card-button.ToolIcon_type_button:hover{background-color:var(--card-color-darker)}.excalidraw .Card .Card-button.ToolIcon_type_button:active{background-color:var(--card-color-darkest)}.excalidraw .Card .Card-button.ToolIcon_type_button .ToolIcon__label{color:#fff}.excalidraw .Card .Card-button.ToolIcon_type_button .Spinner{--spinner-color: #fff}",""]),ue.Z=b},6029:function(We,ue,n){var r=n(8081),A=n.n(r),k=n(3645),b=n.n(k)()(A());b.push([We.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Checkbox{margin:4px .3em;display:flex;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.excalidraw .Checkbox:hover:not(.is-checked) .Checkbox-box:not(:focus){box-shadow:0 0 0 2px #4dabf7}.excalidraw .Checkbox:hover:not(.is-checked) .Checkbox-box:not(:focus) svg{display:block;opacity:.3}.excalidraw .Checkbox:active .Checkbox-box{box-shadow:0 0 2px 1px inset #1c7ed6 !important}.excalidraw .Checkbox:hover .Checkbox-box{background-color:rgba(208,235,255,.2)}.excalidraw .Checkbox.is-checked .Checkbox-box{background-color:#d0ebff}.excalidraw .Checkbox.is-checked .Checkbox-box svg{display:block}.excalidraw .Checkbox.is-checked:hover .Checkbox-box{background-color:#a5d8ff}.excalidraw .Checkbox .Checkbox-box{width:22px;height:22px;padding:0;flex:0 0 auto;margin:0 1em;display:flex;align-items:center;justify-content:center;box-shadow:0 0 0 2px #1c7ed6;background-color:rgba(0,0,0,0);border-radius:4px;color:#1c7ed6;border:0}.excalidraw .Checkbox .Checkbox-box:focus{box-shadow:0 0 0 3px #1c7ed6}.excalidraw .Checkbox .Checkbox-box svg{display:none;width:16px;height:16px;stroke-width:3px}.excalidraw .Checkbox .Checkbox-label{display:flex;align-items:center}.excalidraw .Checkbox .excalidraw-tooltip-icon{width:1em;height:1em}",""]),ue.Z=b},4269:function(We,ue,n){var r=n(8081),A=n.n(r),k=n(3645),b=n.n(k),w=n(1667),N=n.n(w),M=new URL(n(9669),n.b),f=b()(A()),d=N()(M);f.push([We.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .focus-visible-none:focus-visible{outline:none !important}.excalidraw .color-picker__heading{padding:0 .5rem;font-size:.75rem;text-align:left}.excalidraw .color-picker-container{display:grid;grid-template-columns:1fr 20px 1.625rem;padding:.25rem 0px;align-items:center}.excalidraw--mobile.excalidraw .color-picker-container{max-width:175px}.excalidraw .color-picker__top-picks{display:flex;justify-content:space-between}.excalidraw .color-picker__button{--radius: 0.25rem;padding:0;margin:0;width:1.35rem;height:1.35rem;border:1px solid var(--color-gray-30);border-radius:var(--radius);-webkit-filter:var(--theme-filter);filter:var(--theme-filter);background-color:var(--swatch-color);background-position:left center;position:relative;font-family:inherit;box-sizing:border-box}.excalidraw .color-picker__button:hover::after{content:"";position:absolute;top:-2px;left:-2px;right:-2px;bottom:-2px;box-shadow:0 0 0 1px var(--color-gray-30);border-radius:calc(var(--radius) + 1px);-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .color-picker__button.active .color-picker__button-outline{position:absolute;top:-2px;left:-2px;right:-2px;bottom:-2px;box-shadow:0 0 0 1px var(--color-primary-darkest);z-index:1;border-radius:calc(var(--radius) + 1px);-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .color-picker__button:focus-visible{outline:none}.excalidraw .color-picker__button:focus-visible::after{content:"";position:absolute;top:-4px;right:-4px;bottom:-4px;left:-4px;border:3px solid var(--focus-highlight-color);border-radius:calc(var(--radius) + 1px)}.excalidraw .color-picker__button:focus-visible.active .color-picker__button-outline{display:none}.excalidraw .color-picker__button--large{--radius: 0.5rem;width:1.875rem;height:1.875rem}.excalidraw .color-picker__button.is-transparent{background-image:url('+d+")}.excalidraw .color-picker__button--no-focus-visible{border:0}.excalidraw .color-picker__button--no-focus-visible::after{display:none}.excalidraw .color-picker__button--no-focus-visible:focus-visible{outline:none !important}.excalidraw .color-picker__button.active-color{border-radius:calc(var(--radius) + 1px);width:1.625rem;height:1.625rem}.excalidraw .color-picker__button__hotkey-label{position:absolute;right:4px;bottom:4px;-webkit-filter:none;filter:none;font-size:11px}.excalidraw .color-picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}:root[dir=ltr] .excalidraw .color-picker{left:-5.5px}:root[dir=rtl] .excalidraw .color-picker{right:-5.5px}.excalidraw .color-picker-control-container{display:grid;grid-template-columns:auto 1fr;align-items:center;-webkit-column-gap:.5rem;column-gap:.5rem}.excalidraw .color-picker-control-container+.popover{position:static}.excalidraw .color-picker-popover-container{margin-top:-0.25rem}:root[dir=ltr] .excalidraw .color-picker-popover-container{margin-left:.5rem}:root[dir=rtl] .excalidraw .color-picker-popover-container{margin-left:-3rem}.excalidraw .color-picker-triangle{width:0;height:0;border-style:solid;border-width:0 9px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) var(--popup-bg-color);position:absolute;top:10px}:root[dir=ltr] .excalidraw .color-picker-triangle{-webkit-transform:rotate(270deg);transform:rotate(270deg);left:-14px}:root[dir=rtl] .excalidraw .color-picker-triangle{-webkit-transform:rotate(90deg);transform:rotate(90deg);right:-14px}.excalidraw .color-picker-triangle-shadow{border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,.1)}:root[dir=ltr] .excalidraw .color-picker-triangle-shadow{left:-14px}:root[dir=rtl] .excalidraw .color-picker-triangle-shadow{right:-16px}.excalidraw .color-picker-content{display:flex;flex-direction:column;gap:.75rem;outline:none}.excalidraw .color-picker-content--default{padding:.5rem;display:grid;grid-template-columns:repeat(5, 1.875rem);grid-gap:.25rem;border-radius:4px}.excalidraw .color-picker-content--default:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-picker-content--canvas{display:flex;flex-direction:column;padding:.25rem}.excalidraw .color-picker-content--canvas-title{color:#868e96;font-size:12px;padding:0 .25rem}.excalidraw .color-picker-content--canvas-colors{padding:.5rem 0}.excalidraw .color-picker-content--canvas-colors .color-picker-swatch{margin:0 .25rem}.excalidraw .color-picker-content .color-input-container{grid-column:1/span 5}.excalidraw .color-picker-swatch{position:relative;height:1.875rem;width:1.875rem;cursor:pointer;border-radius:4px;margin:0;box-sizing:border-box;border:1px solid #ddd;background-color:currentColor !important;-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .color-picker-swatch:focus{box-shadow:0 0 4px 1px currentColor;border-color:var(--select-highlight-color)}.excalidraw .color-picker-transparent{border-radius:4px;box-shadow:rgba(0,0,0,.1) 0 0 0 1px inset;position:absolute;top:0;right:0;bottom:0;left:0}.excalidraw .color-picker-transparent,.excalidraw .color-picker-label-swatch{background:url("+d+') left center}.excalidraw .color-picker-hash{height:var(--default-button-size);flex-shrink:0;padding:.5rem .5rem .5rem .75rem;border:1px solid var(--default-border-color);border-right:0;box-sizing:border-box;color:var(--input-label-color);display:flex;align-items:center;justify-content:center;position:relative}:root[dir=ltr] .excalidraw .color-picker-hash{border-radius:var(--border-radius-lg) 0 0 var(--border-radius-lg)}:root[dir=rtl] .excalidraw .color-picker-hash{border-radius:0 var(--border-radius-lg) var(--border-radius-lg) 0;border-right:1px solid var(--default-border-color);border-left:0}.excalidraw .color-input-container{display:flex}.excalidraw .color-input-container:focus-within{box-shadow:0 0 0 1px var(--color-primary-darkest);border-radius:var(--border-radius-lg)}.excalidraw .color-picker__input-label{display:grid;grid-template-columns:auto 1fr auto auto;gap:8px;align-items:center;border:1px solid var(--default-border-color);border-radius:8px;padding:0 12px;margin:8px;box-sizing:border-box}.excalidraw .color-picker__input-label:focus-within{box-shadow:0 0 0 1px var(--color-primary-darkest);border-radius:var(--border-radius-lg)}.excalidraw .color-picker__input-hash{padding:0 .25rem}.excalidraw .color-picker-input{box-sizing:border-box;width:100%;margin:0;font-size:.875rem;font-family:inherit;background-color:rgba(0,0,0,0);color:var(--text-primary-color);border:0;outline:none;height:var(--default-button-size);border:1px solid var(--default-border-color);border-left:0;letter-spacing:.4px;padding:.5rem;padding-left:.25rem;-webkit-appearance:none;appearance:none}:root[dir=ltr] .excalidraw .color-picker-input{border-radius:0 var(--border-radius-lg) var(--border-radius-lg) 0}:root[dir=rtl] .excalidraw .color-picker-input{border-radius:var(--border-radius-lg) 0 0 var(--border-radius-lg);border-left:1px solid var(--default-border-color);border-right:0}.excalidraw .color-picker-input:focus-visible{box-shadow:none}.excalidraw .color-picker-label-swatch-container{border:1px solid var(--default-border-color);border-radius:var(--border-radius-lg);width:var(--default-button-size);height:var(--default-button-size);box-sizing:border-box;overflow:hidden}.excalidraw .color-picker-label-swatch{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--color-on-surface));background-color:var(--swatch-color) !important;overflow:hidden;position:relative;-webkit-filter:var(--theme-filter);filter:var(--theme-filter);border:0 !important}.excalidraw .color-picker-label-swatch svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .color-picker-label-swatch:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--button-border, var(--default-border-color)));color:var(--button-hover-color, var(--button-color, var(--text-primary-color, inherit)))}.excalidraw .color-picker-label-swatch:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .color-picker-label-swatch.active{background-color:var(--button-selected-bg, var(--color-surface-primary-container));border-color:var(--button-selected-border, var(--color-surface-primary-container))}.excalidraw .color-picker-label-swatch.active:hover{background-color:var(--button-selected-hover-bg, var(--color-surface-primary-container))}.excalidraw .color-picker-label-swatch.active svg{color:var(--button-color, var(--color-on-primary-container))}.excalidraw .color-picker-label-swatch:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:var(--swatch-color)}.excalidraw .color-picker-keybinding{position:absolute;bottom:2px;font-size:.7em}:root[dir=ltr] .excalidraw .color-picker-keybinding{right:2px}:root[dir=rtl] .excalidraw .color-picker-keybinding{left:2px}.excalidraw--mobile.excalidraw .color-picker-keybinding{display:none}.excalidraw .color-picker-type-canvasBackground .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementBackground .color-picker-keybinding{color:#fff}.excalidraw .color-picker-swatch[aria-label=transparent] .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementStroke .color-picker-keybinding{color:#d4d4d4}.excalidraw.theme--dark .color-picker-type-elementBackground .color-picker-keybinding{color:#000}.excalidraw.theme--dark .color-picker-swatch[aria-label=transparent] .color-picker-keybinding{color:#000}',""]),ue.Z=f},9393:function(We,ue,n){var r=n(8081),A=n.n(r),k=n(3645),b=n.n(k)()(A());b.push([We.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .confirm-dialog-buttons{display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;justify-content:flex-end}",""]),ue.Z=b},6578:function(We,ue,n){var r=n(8081),A=n.n(r),k=n(3645),b=n.n(k)()(A());b.push([We.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .context-menu{position:relative;border-radius:4px;box-shadow:0 3px 10px rgba(0,0,0,.2);padding:0;list-style:none;-webkit-user-select:none;user-select:none;margin:-0.25rem 0 0 .125rem;padding:.5rem 0;background-color:var(--popup-secondary-bg-color);border:1px solid var(--button-gray-3);cursor:default}.excalidraw .context-menu button{color:var(--popup-text-color)}.excalidraw .context-menu-item{position:relative;width:100%;min-width:9.5rem;margin:0;padding:.25rem 1rem .25rem 1.25rem;text-align:start;border-radius:0;background-color:rgba(0,0,0,0);border:none;white-space:nowrap;font-family:inherit;display:grid;grid-template-columns:1fr .2fr;align-items:center}.excalidraw .context-menu-item.checkmark::before{position:absolute;left:6px;margin-bottom:1px;content:"✓"}.excalidraw .context-menu-item.dangerous .context-menu-item__label{color:#f03e3e}.excalidraw .context-menu-item .context-menu-item__label{justify-self:start;-webkit-margin-end:20px;margin-inline-end:20px}.excalidraw .context-menu-item .context-menu-item__shortcut{justify-self:end;opacity:.6;font-family:inherit;font-size:.7rem}.excalidraw .context-menu-item:hover{color:var(--popup-bg-color);background-color:var(--select-highlight-color)}.excalidraw .context-menu-item:hover.dangerous{background-color:#fa5252}.excalidraw .context-menu-item:hover.dangerous .context-menu-item__label{color:var(--popup-bg-color)}.excalidraw .context-menu-item:focus{z-index:1}.excalidraw--mobile.excalidraw .context-menu-item{display:block}.excalidraw--mobile.excalidraw .context-menu-item .context-menu-item__label{-webkit-margin-end:0;margin-inline-end:0}.excalidraw--mobile.excalidraw .context-menu-item .context-menu-item__shortcut{display:none}.excalidraw .context-menu-item-separator{border:none;border-top:1px solid #adb5bd}',""]),ue.Z=b},9482:function(We,ue,n){var r=n(8081),A=n.n(r),k=n(3645),b=n.n(k)()(A());b.push([We.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Dialog{-webkit-user-select:text;user-select:text;cursor:auto}.excalidraw .Dialog__title{margin:0;text-align:left;font-size:1.25rem;border-bottom:1px solid var(--dialog-border-color);padding:0 0 .75rem;margin-bottom:1.5rem}.excalidraw .Dialog__close{color:var(--color-gray-40);margin:0;position:absolute;top:.75rem;right:.5rem;border:0;background-color:rgba(0,0,0,0);line-height:0;cursor:pointer}.excalidraw .Dialog__close:hover{color:var(--color-gray-60)}.excalidraw .Dialog__close:active{color:var(--color-gray-40)}.excalidraw .Dialog__close svg{width:1.5rem;height:1.5rem}.excalidraw .Dialog--fullscreen .Dialog__close{top:1.25rem;right:1.25rem}",""]),ue.Z=b},6148:function(We,ue,n){var r=n(8081),A=n.n(r),k=n(3645),b=n.n(k)()(A());b.push([We.id,".excalidraw .Dialog__action-button{position:relative;display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;align-items:center;padding:.5rem 1.5rem;border:1px solid var(--default-border-color);background-color:rgba(0,0,0,0);height:3rem;border-radius:var(--border-radius-lg);letter-spacing:.4px;color:inherit;font-family:inherit;font-size:.875rem;font-weight:600;-webkit-user-select:none;user-select:none}.excalidraw .Dialog__action-button svg{display:block;width:1rem;height:1rem}.excalidraw .Dialog__action-button--danger{background-color:var(--color-danger);border-color:var(--color-danger);color:#fff}.excalidraw .Dialog__action-button--primary{background-color:var(--color-primary);border-color:var(--color-primary);color:#fff}.excalidraw.theme--dark .Dialog__action-button--danger{color:var(--color-gray-100)}.excalidraw.theme--dark .Dialog__action-button--primary{color:var(--color-gray-100)}",""]),ue.Z=b},5744:function(We,ue,n){var r=n(8081),A=n.n(r),k=n(3645),b=n.n(k)()(A());b.push([We.id,".excalidraw .ExcalidrawLogo{--logo-icon--xs: 2rem;--logo-text--xs: 1.5rem;--logo-icon--small: 2.5rem;--logo-text--small: 1.75rem;--logo-icon--normal: 3rem;--logo-text--normal: 2.2rem;--logo-icon--large: 90px;--logo-text--large: 65px;display:flex;align-items:center}.excalidraw .ExcalidrawLogo svg{flex:0 0 auto}.excalidraw .ExcalidrawLogo .ExcalidrawLogo-icon{width:auto;color:var(--color-logo-icon)}.excalidraw .ExcalidrawLogo .ExcalidrawLogo-text{margin-left:.75rem;width:auto;color:var(--color-logo-text)}.excalidraw .ExcalidrawLogo.is-xs .ExcalidrawLogo-icon{height:var(--logo-icon--xs)}.excalidraw .ExcalidrawLogo.is-xs .ExcalidrawLogo-text{height:var(--logo-text--xs)}.excalidraw .ExcalidrawLogo.is-small .ExcalidrawLogo-icon{height:var(--logo-icon--small)}.excalidraw .ExcalidrawLogo.is-small .ExcalidrawLogo-text{height:var(--logo-text--small)}.excalidraw .ExcalidrawLogo.is-normal .ExcalidrawLogo-icon{height:var(--logo-icon--normal)}.excalidraw .ExcalidrawLogo.is-normal .ExcalidrawLogo-text{height:var(--logo-text--normal)}.excalidraw .ExcalidrawLogo.is-large .ExcalidrawLogo-icon{height:var(--logo-icon--large)}.excalidraw .ExcalidrawLogo.is-large .ExcalidrawLogo-text{height:var(--logo-text--large)}",""]),ue.Z=b},7955:function(We,ue,n){var r=n(8081),A=n.n(r),k=n(3645),b=n.n(k),w=n(1667),N=n.n(w),M=new URL(n(9669),n.b),f=b()(A()),d=N()(M);f.push([We.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .ExportDialog__preview{--preview-padding: calc(var(--space-factor) * 4);background:url("+d+") left center;text-align:center;padding:var(--preview-padding);margin-bottom:calc(var(--space-factor)*3);display:flex;justify-content:center;align-items:center}.excalidraw .ExportDialog__preview canvas{max-width:calc(100% - var(--preview-padding)*2);max-height:25rem}.excalidraw.theme--dark .ExportDialog__preview canvas{-webkit-filter:none;filter:none}.excalidraw .ExportDialog__actions{width:100%;display:flex;grid-gap:calc(var(--space-factor)*2);align-items:top;justify-content:space-between}.excalidraw--mobile.excalidraw .ExportDialog{display:flex;flex-direction:column}.excalidraw--mobile.excalidraw .ExportDialog__actions{flex-direction:column;align-items:center}.excalidraw--mobile.excalidraw .ExportDialog__actions>*{margin-bottom:calc(var(--space-factor)*3)}.excalidraw--mobile.excalidraw .ExportDialog__preview canvas{max-height:30vh}.excalidraw--mobile.excalidraw .ExportDialog__dialog,.excalidraw--mobile.excalidraw .ExportDialog__dialog .Island{height:100%;box-sizing:border-box}.excalidraw--mobile.excalidraw .ExportDialog__dialog .Island{overflow-y:auto}.excalidraw .ExportDialog--json .ExportDialog-cards{display:grid;grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));justify-items:center;row-gap:2em}@media(max-width: 460px){.excalidraw .ExportDialog--json .ExportDialog-cards{grid-template-columns:repeat(auto-fit, minmax(240px, 1fr))}.excalidraw .ExportDialog--json .ExportDialog-cards .Card-details{min-height:40px}}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin:1em auto;align-items:flex-start;flex-direction:column}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName .TextInput{width:auto}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName-label{margin:.625em 0;font-weight:bold}.excalidraw button.ExportDialog-imageExportButton{border:0;width:5rem;height:5rem;margin:0 .2em;padding:0;display:flex;align-items:center;justify-content:center;border-radius:1rem;background-color:var(--button-color);box-shadow:0 3px 5px -1px rgba(0,0,0,.28),0 6px 10px 0 rgba(0,0,0,.14);font-family:Cascadia;font-size:1.8em;color:#fff}.excalidraw button.ExportDialog-imageExportButton:hover{background-color:var(--button-color-darker)}.excalidraw button.ExportDialog-imageExportButton:active{background-color:var(--button-color-darkest);box-shadow:none}.excalidraw button.ExportDialog-imageExportButton svg{width:.9em}",""]),ue.Z=f},7522:function(We,ue,n){var r=n(8081),A=n.n(r),k=n(3645),b=n.n(k)()(A());b.push([We.id,".excalidraw .excalidraw-eye-dropper-container,.excalidraw .excalidraw-eye-dropper-backdrop{position:absolute;width:100%;height:100%;z-index:var(--zIndex-eyeDropperBackdrop);touch-action:none}.excalidraw .excalidraw-eye-dropper-container{pointer-events:none}.excalidraw .excalidraw-eye-dropper-backdrop{pointer-events:all}.excalidraw .excalidraw-eye-dropper-preview{pointer-events:none;width:3rem;height:3rem;position:fixed;z-index:var(--zIndex-eyeDropperPreview);border-radius:1rem;border:1px solid var(--default-border-color);-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .excalidraw-eye-dropper-trigger{width:1.25rem;height:1.25rem;cursor:pointer;padding:4px;margin-right:-4px;margin-left:-2px;border-radius:.5rem;color:var(--icon-fill-color)}.excalidraw .excalidraw-eye-dropper-trigger:hover{background:var(--button-hover-bg)}.excalidraw .excalidraw-eye-dropper-trigger.selected{color:var(--color-primary);background:var(--color-primary-light)}",""]),ue.Z=b},8960:function(We,ue,n){var r=n(8081),A=n.n(r),k=n(3645),b=n.n(k)()(A());b.push([We.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .ExcButton{--text-color: transparent;--border-color: transparent;--back-color: transparent;color:var(--text-color);background-color:var(--back-color);border-color:var(--border-color);display:flex;justify-content:center;align-items:center;flex-shrink:0;flex-wrap:nowrap;border-radius:.5rem;border-width:1px;border-style:solid;font-family:"Assistant";-webkit-user-select:none;user-select:none;transition:all 150ms ease-out}.excalidraw .ExcButton--color-primary.ExcButton--variant-filled{--text-color: var(--color-surface-lowest);--back-color: var(--color-primary)}.excalidraw .ExcButton--color-primary.ExcButton--variant-filled:hover{--back-color: var(--color-brand-hover)}.excalidraw .ExcButton--color-primary.ExcButton--variant-filled:active{--back-color: var(--color-brand-active)}.excalidraw .ExcButton--color-primary.ExcButton--variant-outlined,.excalidraw .ExcButton--color-primary.ExcButton--variant-icon{--text-color: var(--color-primary);--border-color: var(--color-border-outline);--back-color: transparent}.excalidraw .ExcButton--color-primary.ExcButton--variant-outlined:hover,.excalidraw .ExcButton--color-primary.ExcButton--variant-icon:hover{--text-color: var(--color-brand-hover);--border-color: var(--color-brand-hover)}.excalidraw .ExcButton--color-primary.ExcButton--variant-outlined:active,.excalidraw .ExcButton--color-primary.ExcButton--variant-icon:active{--text-color: var(--color-brand-active);--border-color: var(--color-brand-active)}.excalidraw .ExcButton--color-danger.ExcButton--variant-filled{--text-color: var(--color-danger-text);--back-color: var(--color-danger-dark)}.excalidraw .ExcButton--color-danger.ExcButton--variant-filled:hover{--back-color: var(--color-danger-darker)}.excalidraw .ExcButton--color-danger.ExcButton--variant-filled:active{--back-color: var(--color-danger-darkest)}.excalidraw .ExcButton--color-danger.ExcButton--variant-outlined,.excalidraw .ExcButton--color-danger.ExcButton--variant-icon{--text-color: var(--color-danger);--border-color: var(--color-danger);--back-color: transparent}.excalidraw .ExcButton--color-danger.ExcButton--variant-outlined:hover,.excalidraw .ExcButton--color-danger.ExcButton--variant-icon:hover{--text-color: var(--color-danger-darkest);--border-color: var(--color-danger-darkest)}.excalidraw .ExcButton--color-danger.ExcButton--variant-outlined:active,.excalidraw .ExcButton--color-danger.ExcButton--variant-icon:active{--text-color: var(--color-danger-darker);--border-color: var(--color-danger-darker)}.excalidraw .ExcButton--color-muted.ExcButton--variant-filled{--text-color: var(--island-bg-color);--back-color: var(--color-gray-50)}.excalidraw .ExcButton--color-muted.ExcButton--variant-filled:hover{--back-color: var(--color-gray-60)}.excalidraw .ExcButton--color-muted.ExcButton--variant-filled:active{--back-color: var(--color-gray-80)}.excalidraw .ExcButton--color-muted.ExcButton--variant-outlined,.excalidraw .ExcButton--color-muted.ExcButton--variant-icon{--text-color: var(--color-muted-background);--border-color: var(--color-muted);--back-color: var(--island-bg-color)}.excalidraw .ExcButton--color-muted.ExcButton--variant-outlined:hover,.excalidraw .ExcButton--color-muted.ExcButton--variant-icon:hover{--text-color: var(--color-muted-background-darker);--border-color: var(--color-muted-darker)}.excalidraw .ExcButton--color-muted.ExcButton--variant-outlined:active,.excalidraw .ExcButton--color-muted.ExcButton--variant-icon:active{--text-color: var(--color-muted-background-darker);--border-color: var(--color-muted-darkest)}.excalidraw .ExcButton--color-warning.ExcButton--variant-filled{--text-color: black;--back-color: var(--color-warning-dark)}.excalidraw .ExcButton--color-warning.ExcButton--variant-filled:hover{--back-color: var(--color-warning-darker)}.excalidraw .ExcButton--color-warning.ExcButton--variant-filled:active{--back-color: var(--color-warning-darkest)}.excalidraw .ExcButton--color-warning.ExcButton--variant-outlined,.excalidraw .ExcButton--color-warning.ExcButton--variant-icon{--text-color: var(--color-warning-dark);--border-color: var(--color-warning-dark);--back-color: var(--input-bg-color)}.excalidraw .ExcButton--color-warning.ExcButton--variant-outlined:hover,.excalidraw .ExcButton--color-warning.ExcButton--variant-icon:hover{--text-color: var(--color-warning-darker);--border-color: var(--color-warning-darker)}.excalidraw .ExcButton--color-warning.ExcButton--variant-outlined:active,.excalidraw .ExcButton--color-warning.ExcButton--variant-icon:active{--text-color: var(--color-warning-darkest);--border-color: var(--color-warning-darkest)}.excalidraw .ExcButton--size-large{font-weight:600;font-size:.875rem;min-height:3rem;padding:.5rem 1.5rem;gap:.75rem;letter-spacing:.4px}.excalidraw .ExcButton--size-medium{font-weight:600;font-size:.75rem;min-height:2.5rem;padding:.5rem 1rem;gap:.5rem;letter-spacing:normal}.excalidraw .ExcButton--variant-icon{padding:.5rem .75rem;width:3rem}.excalidraw .ExcButton--fullWidth{width:100%}.excalidraw .ExcButton__icon{width:1.25rem;height:1.25rem}',""]),ue.Z=b},3195:function(We,ue,n){var r=n(8081),A=n.n(r),k=n(3645),b=n.n(k)()(A());b.push([We.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .FixedSideContainer{position:absolute;pointer-events:none}.excalidraw .FixedSideContainer>*{pointer-events:var(--ui-pointerEvents)}.excalidraw .FixedSideContainer_side_top{left:var(--editor-container-padding);top:var(--editor-container-padding);right:var(--editor-container-padding);bottom:var(--editor-container-padding);z-index:2}.excalidraw .FixedSideContainer_side_top.zen-mode{right:42px}",""]),ue.Z=b},2978:function(We,ue,n){var r=n(8081),A=n.n(r),k=n(3645),b=n.n(k)()(A());b.push([We.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .HelpDialog .Modal__content{max-width:960px}.excalidraw .HelpDialog h3{margin:1.5rem 0;font-weight:bold;font-size:1.125rem}.excalidraw .HelpDialog__header{display:flex;flex-wrap:wrap;gap:.75rem}.excalidraw .HelpDialog__btn{--background: var(--color-surface-mid);display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;align-items:center;background-color:var(--background);padding:.625rem 1rem;border:1px solid var(--background);border-radius:var(--border-radius-lg);color:var(--text-primary-color);font-weight:600;font-size:.75rem;letter-spacing:.4px}.excalidraw.theme--dark.excalidraw .HelpDialog__btn{--background: var(--color-surface-high)}.excalidraw.theme--dark.excalidraw .HelpDialog__btn:hover{--background: #363541}.excalidraw .HelpDialog__btn:hover{--background: var(--color-surface-high);text-decoration:none}.excalidraw .HelpDialog__btn:active{border-color:var(--color-primary)}.excalidraw .HelpDialog__link-icon{line-height:0}.excalidraw .HelpDialog__link-icon svg{width:1rem;height:1rem}.excalidraw .HelpDialog__islands-container{display:grid;grid-column-gap:1.5rem;grid-row-gap:2rem}@media screen and (min-width: 1024px){.excalidraw .HelpDialog__islands-container{grid-template-columns:1fr 1fr}}@media screen and (min-width: 1024px){.excalidraw .HelpDialog__island--tools{grid-area:1/1/2/2}.excalidraw .HelpDialog__island--view{grid-area:2/1/3/2}.excalidraw .HelpDialog__island--editor{grid-area:1/2/3/3}}.excalidraw .HelpDialog__island h4{font-size:1rem;font-weight:bold;margin:0;margin-bottom:.625rem}.excalidraw .HelpDialog__island-content{border:1px solid var(--dialog-border-color);border-radius:var(--border-radius-lg)}.excalidraw .HelpDialog__shortcut{border-bottom:1px solid var(--dialog-border-color);padding:.375rem .75rem;display:flex;justify-content:space-between;align-items:center;font-size:.875rem;-webkit-column-gap:.5rem;column-gap:.5rem}.excalidraw .HelpDialog__shortcut:last-child{border-bottom:none}.excalidraw .HelpDialog__key-container{display:flex;align-items:center;-webkit-column-gap:.25rem;column-gap:.25rem;flex-shrink:0}.excalidraw .HelpDialog__key{display:flex;box-sizing:border-box;font-size:.625rem;background-color:var(--color-primary-light);border-radius:var(--border-radius-md);padding:.5rem;word-break:keep-all;align-items:center;font-family:inherit;line-height:1}",""]),ue.Z=b},1587:function(We,ue,n){var r=n(8081),A=n.n(r),k=n(3645),b=n.n(k)()(A());b.push([We.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .HintViewer{pointer-events:none;box-sizing:border-box;position:absolute;display:flex;justify-content:center;left:0;top:100%;max-width:100%;width:100%;margin-top:.5rem;text-align:center;color:var(--color-gray-40);font-size:.75rem}.excalidraw--mobile.excalidraw .HintViewer{position:static;padding-right:2rem}.excalidraw .HintViewer>span{padding:.25rem}.excalidraw.theme--dark .HintViewer{color:var(--color-gray-60)}",""]),ue.Z=b},9478:function(We,ue,n){var r=n(8081),A=n.n(r),k=n(3645),b=n.n(k)()(A());b.push([We.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .picker-container{display:inline-block;box-sizing:border-box;margin-right:.25rem}.excalidraw .picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 2px 2px 4px 2px;border-radius:4px;position:absolute}.excalidraw .picker-container button,.excalidraw .picker button{position:relative;display:flex;align-items:center;justify-content:center}.excalidraw .picker-container button:focus-visible,.excalidraw .picker button:focus-visible{outline:rgba(0,0,0,0);background-color:var(--button-gray-2)}.excalidraw .picker-container button:focus-visible svg,.excalidraw .picker button:focus-visible svg{opacity:1}.excalidraw .picker-container button:hover,.excalidraw .picker button:hover{background-color:var(--button-gray-2)}.excalidraw .picker-container button:active,.excalidraw .picker button:active{background-color:var(--button-gray-3)}.excalidraw .picker-container button:disabled,.excalidraw .picker button:disabled{cursor:not-allowed}.excalidraw .picker-container button svg,.excalidraw .picker button svg{margin:0;width:36px;height:18px;pointer-events:none}.excalidraw .picker button{padding:.25rem .28rem .35rem .25rem}.excalidraw .picker-triangle{width:0;height:0;position:relative;top:-10px;z-index:10}:root[dir=ltr] .excalidraw .picker-triangle{left:12px}:root[dir=rtl] .excalidraw .picker-triangle{right:12px}.excalidraw .picker-triangle:before{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,.1);top:-1px}.excalidraw .picker-triangle:after{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) var(--popup-bg-color)}.excalidraw .picker-content{padding:.5rem;display:grid;grid-template-columns:repeat(3, auto);grid-gap:.5rem;border-radius:4px}:root[dir=rtl] .excalidraw .picker-content{padding:.4rem}.excalidraw .picker-keybinding{position:absolute;bottom:2px;font-size:.7em;color:var(--keybinding-color)}:root[dir=ltr] .excalidraw .picker-keybinding{right:2px}:root[dir=rtl] .excalidraw .picker-keybinding{left:2px}.excalidraw--mobile.excalidraw .picker-keybinding{display:none}.excalidraw .picker-type-canvasBackground .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementBackground .picker-keybinding{color:#fff}.excalidraw .picker-swatch[aria-label=transparent] .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementStroke .picker-keybinding{color:#d4d4d4}.excalidraw.theme--dark .picker-type-elementBackground .picker-keybinding{color:#000}.excalidraw.theme--dark .picker-swatch[aria-label=transparent] .picker-keybinding{color:#000}',""]),ue.Z=b},9706:function(We,ue,n){var r=n(8081),A=n.n(r),k=n(3645),b=n.n(k),w=n(1667),N=n.n(w),M=new URL(n(9669),n.b),f=b()(A()),d=N()(M);f.push([We.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw{--ImageExportModal-preview-border: #d6d6d6}.excalidraw.theme--dark{--ImageExportModal-preview-border: #5c5c5c}.excalidraw .ImageExportModal{display:flex;flex-direction:row;justify-content:space-between}.excalidraw .ImageExportModal h3{font-family:"Assistant";font-style:normal;font-weight:700;font-size:1.313rem;line-height:130%;padding:0;margin:0}.excalidraw--mobile.excalidraw .ImageExportModal h3{display:none}.excalidraw .ImageExportModal>h3{display:none}.excalidraw--mobile.excalidraw .ImageExportModal>h3{display:block}.excalidraw--mobile.excalidraw .ImageExportModal{flex-direction:column;height:calc(100vh - 5rem)}.excalidraw .ImageExportModal__preview{box-sizing:border-box;display:flex;flex-direction:column;align-items:center;height:360px;width:55%;margin-right:1.5rem}.excalidraw--mobile.excalidraw .ImageExportModal__preview{max-width:unset;margin-right:unset;width:100%;height:unset;flex-grow:1}.excalidraw .ImageExportModal__preview__filename>input{margin-top:1rem}.excalidraw .ImageExportModal__preview__canvas{box-sizing:border-box;width:100%;height:100%;display:flex;flex-grow:1;justify-content:center;align-items:center;background:url('+d+') left center;border:1px solid var(--ImageExportModal-preview-border);border-radius:12px;overflow:hidden;padding:1rem}.excalidraw .ImageExportModal__preview__canvas>canvas{max-width:calc(100% - 2rem);max-height:calc(100% - 2rem);-webkit-filter:none !important;filter:none !important}.excalidraw--mobile.excalidraw .ImageExportModal__preview__canvas>canvas{max-height:100%}.excalidraw--mobile.excalidraw .ImageExportModal__preview__canvas{margin-top:24px;max-width:unset}.excalidraw .ImageExportModal__settings{display:flex;flex-direction:column;flex-wrap:wrap;gap:18px}.excalidraw--mobile.excalidraw .ImageExportModal__settings{margin-left:unset;margin-top:1rem;flex-direction:row;gap:6px 34px;align-content:flex-start}.excalidraw .ImageExportModal__settings__setting{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.excalidraw--mobile.excalidraw .ImageExportModal__settings__setting{flex-direction:column;align-items:start;justify-content:unset;height:52px}.excalidraw .ImageExportModal__settings__setting__label{display:flex;flex-direction:row;align-items:center;font-family:"Assistant";font-weight:600;font-size:1rem;line-height:150%}.excalidraw .ImageExportModal__settings__setting__label svg{width:20px;height:20px;margin-left:10px}.excalidraw .ImageExportModal__settings__setting__content{display:flex;height:100%;align-items:center}.excalidraw .ImageExportModal__settings__buttons{flex-grow:1;flex-wrap:wrap;display:flex;flex-direction:row;gap:11px;align-items:flex-end;align-content:flex-end}.excalidraw--mobile.excalidraw .ImageExportModal__settings__buttons{padding-top:32px;flex-basis:100%;justify-content:center}',""]),ue.Z=f},7369:function(We,ue,n){var r=n(8081),A=n.n(r),k=n(3645),b=n.n(k)()(A());b.push([We.id,".excalidraw .Island{--padding: 0;box-sizing:border-box;background-color:var(--island-bg-color);box-shadow:var(--shadow-island);border-radius:var(--border-radius-lg);padding:calc(var(--padding)*var(--space-factor));position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .Island.zen-mode{box-shadow:none}",""]),ue.Z=b},7930:function(We,ue,n){var r=n(8081),A=n.n(r),k=n(3645),b=n.n(k)()(A());b.push([We.id,".excalidraw .LaserToolOverlay{pointer-events:none;width:100vw;height:100vh;position:fixed;top:0;left:0;z-index:2}.excalidraw .LaserToolOverlay .LaserToolOverlayCanvas{image-rendering:auto;overflow:visible;position:absolute;top:0;left:0}",""]),ue.Z=b},1434:function(We,ue,n){var r=n(8081),A=n.n(r),k=n(3645),b=n.n(k)()(A());b.push([We.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .layer-ui__wrapper.animate{transition:width .1s ease-in-out}.excalidraw .layer-ui__wrapper{position:absolute;width:100%;height:100%;pointer-events:none;z-index:var(--zIndex-layerUI)}.excalidraw .layer-ui__wrapper__top-right{display:flex;gap:.75rem}.excalidraw .layer-ui__wrapper__footer{width:100%}.excalidraw .layer-ui__wrapper__footer-right{z-index:100;display:flex}.excalidraw .layer-ui__wrapper .zen-mode-transition{transition:-webkit-transform .5s ease-in-out;transition:transform .5s ease-in-out;transition:transform .5s ease-in-out, -webkit-transform .5s ease-in-out}:root[dir=ltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{-webkit-transform:translate(-999px, 0);transform:translate(-999px, 0)}:root[dir=ltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{-webkit-transform:translate(999px, 0);transform:translate(999px, 0)}:root[dir=rtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{-webkit-transform:translate(999px, 0);transform:translate(999px, 0)}:root[dir=rtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{-webkit-transform:translate(-999px, 0);transform:translate(-999px, 0)}.excalidraw .layer-ui__wrapper .zen-mode-transition.layer-ui__wrapper__footer-left--transition-bottom{-webkit-transform:translate(0, 92px);transform:translate(0, 92px)}.excalidraw .layer-ui__wrapper .disable-zen-mode{padding:10px;position:absolute;bottom:0;opacity:0;visibility:hidden;transition:visibility 0s linear 0s,opacity .5s;font-family:var(--ui-font);font-size:.75rem;font-weight:500;line-height:1;border-radius:var(--border-radius-lg);border:1px solid var(--default-border-color);background-color:var(--island-bg-color);color:var(--text-primary-color)}[dir=ltr] .excalidraw .layer-ui__wrapper .disable-zen-mode{right:1rem}[dir=rtl] .excalidraw .layer-ui__wrapper .disable-zen-mode{left:1rem}.excalidraw .layer-ui__wrapper .disable-zen-mode:hover{background-color:var(--button-hover-bg)}.excalidraw .layer-ui__wrapper .disable-zen-mode:active{border-color:var(--color-primary)}.excalidraw .layer-ui__wrapper .disable-zen-mode--visible{opacity:1;visibility:visible;transition:visibility 0s linear 300ms,opacity .5s;transition-delay:.8s;pointer-events:var(--ui-pointerEvents)}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-left>*,.excalidraw .layer-ui__wrapper .footer-center>*,.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-right>*{pointer-events:var(--ui-pointerEvents)}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-right{margin-top:auto;margin-bottom:auto}",""]),ue.Z=b},8923:function(We,ue,n){var r=n(8081),A=n.n(r),k=n(3645),b=n.n(k)()(A());b.push([We.id,'.excalidraw .layer-ui__library{display:flex;flex-direction:column;flex:1 1 auto}.excalidraw .library-actions-counter{background-color:var(--color-primary);color:var(--color-primary-light);font-weight:bold;display:flex;align-items:center;justify-content:center;border-radius:50%;width:1rem;height:1rem;position:absolute;bottom:-0.25rem;right:-0.25rem;font-size:.625rem;pointer-events:none}.excalidraw .layer-ui__library-message{padding:2rem;min-width:200px;display:flex;flex-direction:column;align-items:center;flex-grow:1;justify-content:center}.excalidraw .layer-ui__library-message span{font-size:.8em}.excalidraw .publish-library-success .Dialog__content{display:flex;flex-direction:column}.excalidraw .publish-library-success-close.ToolIcon_type_button{background-color:#228be6;align-self:flex-end}.excalidraw .publish-library-success-close.ToolIcon_type_button:hover{background-color:#1971c2}.excalidraw .publish-library-success-close.ToolIcon_type_button .ToolIcon__icon{width:auto;font-size:1rem;color:#fff;padding:0 .5rem}.excalidraw .library-menu-control-buttons{display:flex;align-items:center;justify-content:center;gap:.625rem;position:relative}.excalidraw .library-menu-control-buttons--at-bottom::before{content:"";width:calc(100% - 1.5rem);height:1px;position:absolute;top:-1px;background:var(--sidebar-border-color)}.excalidraw .library-menu-browse-button{flex:1;height:var(--lg-button-size);display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative;border-radius:var(--border-radius-lg);background-color:var(--color-primary);color:#fff;text-align:center;white-space:nowrap;text-decoration:none !important;font-weight:600;font-size:.75rem}.excalidraw .library-menu-browse-button:hover{background-color:var(--color-brand-hover)}.excalidraw .library-menu-browse-button:active{background-color:var(--color-brand-active)}.excalidraw.theme--dark .library-menu-browse-button{color:var(--color-gray-100)}.excalidraw.excalidraw--mobile .library-menu-browse-button{height:var(--default-button-size)}.excalidraw .layer-ui__library .dropdown-menu{width:auto;top:initial;right:0;left:initial;bottom:100%;margin-bottom:.625rem}.excalidraw .layer-ui__library .dropdown-menu .dropdown-menu-container{width:196px;box-shadow:var(--library-dropdown-shadow);border-radius:var(--border-radius-lg);padding:.25rem .5rem}.excalidraw .layer-ui__library .library-menu-dropdown-container{position:relative}.excalidraw .layer-ui__library .library-menu-dropdown-container--in-heading{padding:0;position:absolute;top:1rem;right:.75rem;z-index:1}.excalidraw .layer-ui__library .library-menu-dropdown-container--in-heading .dropdown-menu{top:100%}',""]),ue.Z=b},6440:function(We,ue,n){var r=n(8081),A=n.n(r),k=n(3645),b=n.n(k)()(A());b.push([We.id,".excalidraw{--container-padding-y: 1.5rem;--container-padding-x: 0.75rem}.excalidraw .library-menu-items__no-items{text-align:center;color:var(--color-gray-70);line-height:1.5;font-size:.875rem;width:100%}.excalidraw .library-menu-items__no-items__label{color:var(--color-primary);font-weight:bold;font-size:1.125rem;margin-bottom:.75rem}.excalidraw.theme--dark .library-menu-items__no-items{color:var(--color-gray-40)}.excalidraw .library-menu-items-container{width:100%;display:flex;flex-grow:1;flex-shrink:1;flex-basis:0;overflow-y:auto;flex-direction:column;height:100%;justify-content:center;margin:0;position:relative}.excalidraw .library-menu-items-container>div{padding-left:.75rem;padding-right:.75rem}.excalidraw .library-menu-items-container__row{display:grid;grid-template-columns:repeat(4, 1fr);gap:1rem}.excalidraw .library-menu-items-container__items{row-gap:.5rem;padding:var(--container-padding-y) 0;flex:1;overflow-y:auto;overflow-x:hidden;margin-bottom:1rem}.excalidraw .library-menu-items-container__header{color:var(--color-primary);font-size:1.125rem;font-weight:bold;margin-bottom:.75rem;width:100%;padding-right:4rem;box-sizing:border-box}.excalidraw .library-menu-items-container__header--excal{margin-top:2rem}.excalidraw .library-menu-items-container__grid{display:grid;grid-template-columns:1fr 1fr 1fr 1fr;grid-gap:1rem}.excalidraw .library-menu-items-container .separator{width:100%;display:flex;align-items:center;font-weight:500;font-size:.9rem;margin:.6em .2em;color:var(--text-primary-color)}.excalidraw .library-menu-items-private-library-container{min-height:3.75rem;width:100%}",""]),ue.Z=b},5644:function(We,ue,n){var r=n(8081),A=n.n(r),k=n(3645),b=n.n(k)()(A());b.push([We.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .library-unit{align-items:center;border:1px solid rgba(0,0,0,0);display:flex;justify-content:center;position:relative;width:55px;height:55px;box-sizing:border-box;border-radius:var(--border-radius-lg)}.excalidraw .library-unit svg{pointer-events:none}.excalidraw .library-unit--hover{border-color:var(--color-primary)}.excalidraw .library-unit--selected{border-color:var(--color-primary);border-width:1px}.excalidraw .library-unit--skeleton{opacity:.5;background:linear-gradient(-45deg, var(--color-gray-10), var(--color-gray-20), var(--color-gray-10));background-size:200% 200%;-webkit-animation:library-unit__skeleton-opacity-animation .2s linear;animation:library-unit__skeleton-opacity-animation .2s linear}.excalidraw.theme--dark .library-unit--skeleton{background-image:linear-gradient(-45deg, var(--color-gray-100), var(--color-gray-80), var(--color-gray-100))}.excalidraw .library-unit__dragger{display:flex;align-items:center;justify-content:center;height:100%;width:100%}.excalidraw .library-unit__dragger>svg{-webkit-filter:var(--theme-filter);filter:var(--theme-filter);flex-grow:1;max-height:100%;max-width:100%}.excalidraw .library-unit__checkbox-container,.excalidraw .library-unit__checkbox-container:hover,.excalidraw .library-unit__checkbox-container:active{align-items:center;background:none;border:none;color:var(--icon-fill-color);display:flex;justify-content:center;margin:0;padding:.5rem;position:absolute;left:2rem;bottom:2rem;cursor:pointer}.excalidraw .library-unit__checkbox-container input,.excalidraw .library-unit__checkbox-container:hover input,.excalidraw .library-unit__checkbox-container:active input{cursor:pointer}.excalidraw .library-unit__checkbox{position:absolute;top:.125rem;right:.125rem;margin:0}.excalidraw .library-unit__checkbox .Checkbox-box{margin:0;width:1rem;height:1rem;border-radius:4px;background-color:var(--color-primary-light);border:1px solid var(--color-primary);box-shadow:none !important;padding:2px}.excalidraw .library-unit__checkbox.Checkbox:hover .Checkbox-box{background-color:var(--color-primary-light)}.excalidraw .library-unit__checkbox.is-checked .Checkbox-box{background-color:var(--color-primary) !important}.excalidraw .library-unit__checkbox.is-checked .Checkbox-box svg{color:var(--color-primary-light)}.excalidraw .library-unit__removeFromLibrary>svg{height:16px;width:16px}.excalidraw .library-unit__adder{-webkit-transform:scale(1);transform:scale(1);-webkit-animation:library-unit__adder-animation 1s ease-in infinite;animation:library-unit__adder-animation 1s ease-in infinite;position:absolute;width:1.5rem;height:1.5rem;background-color:var(--color-primary);border-radius:var(--border-radius-md);display:flex;justify-content:center;align-items:center;pointer-events:none}.excalidraw .library-unit__adder svg{color:var(--color-primary-light);width:1rem;height:1rem}.excalidraw .library-unit:active .library-unit__adder{-webkit-animation:none;animation:none;-webkit-transform:scale(0.8);transform:scale(0.8)}.excalidraw .library-unit__active{cursor:pointer}@-webkit-keyframes library-unit__adder-animation{0%{-webkit-transform:scale(0.85);transform:scale(0.85)}50%{-webkit-transform:scale(1);transform:scale(1)}100%{-webkit-transform:scale(0.85);transform:scale(0.85)}}@keyframes library-unit__adder-animation{0%{-webkit-transform:scale(0.85);transform:scale(0.85)}50%{-webkit-transform:scale(1);transform:scale(1)}100%{-webkit-transform:scale(0.85);transform:scale(0.85)}}@-webkit-keyframes library-unit__skeleton-opacity-animation{0%{opacity:0}75%{opacity:0}100%{opacity:.5}}@keyframes library-unit__skeleton-opacity-animation{0%{opacity:0}75%{opacity:0}100%{opacity:.5}}",""]),ue.Z=b},5830:function(We,ue,n){var r=n(8081),A=n.n(r),k=n(3645),b=n.n(k),w=n(1667),N=n.n(w),M=new URL(n(9669),n.b),f=b()(A()),d=N()(M);f.push([We.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .dialog-mermaid-title{margin-bottom:5px;margin-top:2px}.excalidraw .dialog-mermaid-desc{font-size:15px;font-style:italic;font-weight:500}.excalidraw .dialog-mermaid .Modal__content .Island{box-shadow:none}.excalidraw:not(.excalidraw--mobile).excalidraw .dialog-mermaid{padding:1.25rem}.excalidraw:not(.excalidraw--mobile).excalidraw .dialog-mermaid .Modal__content{height:100%;max-height:750px}@media screen and (max-width: 860px){.excalidraw:not(.excalidraw--mobile).excalidraw .dialog-mermaid .Modal__content{height:auto;max-height:100%}}.excalidraw:not(.excalidraw--mobile).excalidraw .dialog-mermaid .Modal__content .Island{height:100%;display:flex;flex-direction:column;flex:1 1 auto}.excalidraw:not(.excalidraw--mobile).excalidraw .dialog-mermaid .Modal__content .Island .Dialog__content{display:flex;flex:1 1 auto}.excalidraw .dialog-mermaid-body{width:100%;display:grid;grid-template-columns:1fr 1fr;grid-template-rows:1fr auto;height:100%;-webkit-column-gap:4rem;column-gap:4rem}@media screen and (max-width: 860px){.excalidraw .dialog-mermaid-body{flex-direction:column;display:flex;gap:1rem}}.excalidraw .dialog-mermaid-panels{display:grid;width:100%;grid-template-columns:1fr 1fr;justify-content:space-between;gap:4rem;grid-row:1;grid-column:1/3}@media screen and (max-width: 860px){.excalidraw .dialog-mermaid-panels{flex-direction:column;display:flex;gap:1rem}}.excalidraw .dialog-mermaid-panels label{font-size:14px;font-style:normal;font-weight:600;margin-bottom:4px;margin-left:4px}@media screen and (max-width: 860px){.excalidraw .dialog-mermaid-panels label{margin-top:4px}}.excalidraw .dialog-mermaid-panels-text{display:flex;flex-direction:column}.excalidraw .dialog-mermaid-panels-text textarea{width:20rem;height:100%;resize:none;border-radius:var(--border-radius-lg);border:1px solid var(--dialog-border-color);white-space:pre-wrap;padding:.85rem;box-sizing:border-box;width:100%;font-family:monospace}@media screen and (max-width: 860px){.excalidraw .dialog-mermaid-panels-text textarea{width:auto;height:10rem}}.excalidraw .dialog-mermaid-panels-preview-wrapper{display:flex;align-items:center;justify-content:center;padding:.85rem;box-sizing:border-box;width:100%;height:200px;flex-grow:1;position:relative;background:url("+d+') left center;border-radius:var(--border-radius-lg);border:1px solid var(--dialog-border-color)}@media screen and (max-width: 860px){.excalidraw .dialog-mermaid-panels-preview-wrapper{height:400px;width:auto}}.excalidraw .dialog-mermaid-panels-preview-wrapper canvas{max-width:100%;max-height:100%}.excalidraw .dialog-mermaid-panels-preview-canvas-container{display:flex;width:100%;height:100%;align-items:center;justify-content:center;flex-grow:1}.excalidraw .dialog-mermaid-panels-preview{display:flex;flex-direction:column}.excalidraw .dialog-mermaid-panels .mermaid-error{color:red;font-weight:800;font-size:30px;word-break:break-word;overflow:auto;max-height:100%;height:100%;width:100%;text-align:center;position:absolute;z-index:10}.excalidraw .dialog-mermaid-panels .mermaid-error p{font-weight:500;font-family:Cascadia;text-align:left;white-space:pre-wrap;font-size:.875rem;padding:0 10px}.excalidraw .dialog-mermaid-buttons{grid-column:2}.excalidraw .dialog-mermaid-buttons .dialog-mermaid-insert.excalidraw-button{font-family:"Assistant";font-weight:600;height:2.5rem;margin-top:1em;margin-bottom:.3em;width:7.5rem;font-size:12px;color:#fff;background-color:var(--color-primary)}.excalidraw .dialog-mermaid-buttons .dialog-mermaid-insert.excalidraw-button:hover{background-color:var(--color-primary-darker)}.excalidraw .dialog-mermaid-buttons .dialog-mermaid-insert.excalidraw-button:active{background-color:var(--color-primary-darkest)}@media screen and (max-width: 860px){.excalidraw .dialog-mermaid-buttons .dialog-mermaid-insert.excalidraw-button{width:100%}}.excalidraw.theme--dark.excalidraw .dialog-mermaid-buttons .dialog-mermaid-insert.excalidraw-button{color:var(--color-gray-100)}.excalidraw .dialog-mermaid-buttons .dialog-mermaid-insert span{padding-left:.5rem;display:flex}',""]),ue.Z=f},6843:function(We,ue,n){var r=n(8081),A=n.n(r),k=n(3645),b=n.n(k)()(A());b.push([We.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw.excalidraw-modal-container{position:absolute;z-index:var(--zIndex-modal)}.excalidraw .Modal{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;overflow:auto;padding:calc(var(--space-factor)*10)}.excalidraw .Modal .Island{padding:2.5rem !important}.excalidraw .Modal__background{position:fixed;top:0;left:0;right:0;bottom:0;z-index:1;background-color:rgba(18,18,18,.2);-webkit-animation:Modal__background__fade-in .125s linear forwards;animation:Modal__background__fade-in .125s linear forwards}.excalidraw .Modal__content{position:relative;z-index:2;width:100%;max-width:var(--max-width);max-height:100%;opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px);-webkit-animation:Modal__content_fade-in .1s ease-out .05s forwards;animation:Modal__content_fade-in .1s ease-out .05s forwards;position:relative;overflow-y:auto;background:var(--island-bg-color);border:1px solid var(--dialog-border-color);box-shadow:var(--modal-shadow);border-radius:6px;box-sizing:border-box}.excalidraw .Modal__content:focus{outline:none}@-webkit-keyframes Modal__background__fade-in{from{opacity:0}to{opacity:1}}@keyframes Modal__background__fade-in{from{opacity:0}to{opacity:1}}@-webkit-keyframes Modal__content_fade-in{from{opacity:0;-webkit-transform:scale(0.9);transform:scale(0.9)}to{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@keyframes Modal__content_fade-in{from{opacity:0;-webkit-transform:scale(0.9);transform:scale(0.9)}to{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}.excalidraw .Modal__close{color:var(--icon-fill-color);margin:0;padding:.375rem;position:absolute;top:1rem;right:1rem;border:0;background-color:rgba(0,0,0,0);line-height:0;cursor:pointer}.excalidraw .Modal__close svg{width:1.5rem;height:1.5rem}.excalidraw .Dialog--fullscreen .Modal{padding:0}.excalidraw .Dialog--fullscreen .Modal__content{position:absolute;top:0;left:0;right:0;bottom:0;max-width:100%;border:0;border-radius:0}",""]),ue.Z=b},9439:function(We,ue,n){var r=n(8081),A=n.n(r),k=n(3645),b=n.n(k)()(A());b.push([We.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .OverwriteConfirm{display:flex;flex-direction:column;align-items:center;gap:.75rem;isolation:isolate}.excalidraw .OverwriteConfirm h3{margin:0;font-weight:700;font-size:1.3125rem;line-height:130%;align-self:flex-start;color:var(--text-primary-color)}.excalidraw .OverwriteConfirm__Description{box-sizing:border-box;display:flex;flex-direction:row;align-items:center;width:100%;gap:1rem;padding:2.5rem;background:var(--color-danger-background);border-radius:.5rem;font-family:"Assistant";font-style:normal;font-weight:400;font-size:1rem;line-height:150%;color:var(--color-danger-color)}.excalidraw--mobile.excalidraw .OverwriteConfirm__Description{flex-direction:column;text-align:center}.excalidraw .OverwriteConfirm__Description__spacer{flex-grow:1}.excalidraw .OverwriteConfirm__Description__icon{box-sizing:border-box;display:flex;align-items:center;justify-content:center;border-radius:2.5rem;background:var(--color-danger-icon-background);width:3.5rem;height:3.5rem;padding:.75rem}.excalidraw .OverwriteConfirm__Description__icon svg{color:var(--color-danger-icon-color);width:1.5rem;height:1.5rem}.excalidraw .OverwriteConfirm__Description.OverwriteConfirm__Description--color-warning{background:var(--color-warning-background);color:var(--color-warning-color)}.excalidraw .OverwriteConfirm__Description.OverwriteConfirm__Description--color-warning .OverwriteConfirm__Description__icon{background:var(--color-warning-icon-background);flex:0 0 auto}.excalidraw .OverwriteConfirm__Description.OverwriteConfirm__Description--color-warning .OverwriteConfirm__Description__icon svg{color:var(--color-warning-icon-color)}.excalidraw .OverwriteConfirm__Actions{display:flex;flex-direction:row;align-items:stretch;justify-items:stretch;justify-content:center;gap:1.5rem}.excalidraw--mobile.excalidraw .OverwriteConfirm__Actions{flex-direction:column}.excalidraw .OverwriteConfirm__Actions__Action{display:flex;flex-direction:column;align-items:center;padding:1.5rem;gap:.75rem;flex-basis:50%;flex-grow:0}.excalidraw .OverwriteConfirm__Actions__Action__content{height:100%;font-size:.875rem;text-align:center}.excalidraw .OverwriteConfirm__Actions__Action h4{font-weight:700;font-size:1.125rem;line-height:130%;margin:0;color:var(--text-primary-color)}',""]),ue.Z=b},8461:function(We,ue,n){var r=n(8081),A=n.n(r),k=n(3645),b=n.n(k)()(A());b.push([We.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw--mobile.excalidraw .PasteChartDialog .Island{display:flex;flex-direction:column}.excalidraw .PasteChartDialog .container{display:flex;align-items:center;justify-content:space-around;flex-wrap:wrap}.excalidraw--mobile.excalidraw .PasteChartDialog .container{flex-direction:column;justify-content:center}.excalidraw .PasteChartDialog .ChartPreview{margin:8px;text-align:center;width:192px;height:128px;border-radius:2px;padding:1px;border:1px solid #ced4da;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0)}.excalidraw .PasteChartDialog .ChartPreview div{display:inline-block}.excalidraw .PasteChartDialog .ChartPreview svg{max-height:120px;max-width:186px}.excalidraw .PasteChartDialog .ChartPreview:hover{padding:0;border:2px solid #339af0}",""]),ue.Z=b},9935:function(We,ue,n){var r=n(8081),A=n.n(r),k=n(3645),b=n.n(k)()(A());b.push([We.id,".excalidraw .popover{position:absolute;z-index:10;padding:5px 0 5px;outline:none}",""]),ue.Z=b},532:function(We,ue,n){var r=n(8081),A=n.n(r),k=n(3645),b=n.n(k)()(A());b.push([We.id,".ProjectName{margin:auto;display:flex;align-items:center}.ProjectName .TextInput{height:calc(1rem - 3px);width:200px;overflow:hidden;text-align:center;margin-left:8px;text-overflow:ellipsis}.ProjectName .TextInput--readonly{background:none;border:none;width:auto;max-width:200px;padding-left:2px}.ProjectName .TextInput--readonly:hover{background:none}",""]),ue.Z=b},7589:function(We,ue,n){var r=n(8081),A=n.n(r),k=n(3645),b=n.n(k)()(A());b.push([We.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .publish-library__fields{display:flex;flex-direction:column}.excalidraw .publish-library__fields label{padding:1em 0;display:flex;justify-content:space-between;align-items:center}.excalidraw .publish-library__fields label span{font-weight:500;font-size:1rem;color:#868e96}.excalidraw .publish-library__fields label input,.excalidraw .publish-library__fields label textarea{width:70%;padding:.6em;font-family:var(--ui-font)}.excalidraw .publish-library__fields label .required{color:#e03131;margin:.2rem}.excalidraw .publish-library__buttons{display:flex;padding:.2rem 0;justify-content:flex-end;gap:.5rem}.excalidraw .publish-library__buttons .ToolIcon__icon{min-width:2.5rem;width:auto;font-size:1rem}.excalidraw .publish-library__buttons .ToolIcon_type_button{margin-left:1rem;padding:0 .5rem}.excalidraw .publish-library__buttons--confirm.ToolIcon_type_button{background-color:#228be6}.excalidraw .publish-library__buttons--confirm.ToolIcon_type_button:hover{background-color:#1971c2}.excalidraw .publish-library__buttons--cancel.ToolIcon_type_button{background-color:#adb5bd}.excalidraw .publish-library__buttons--cancel.ToolIcon_type_button:hover{background-color:#868e96}.excalidraw .publish-library__buttons .ToolIcon__icon{color:#fff}.excalidraw .publish-library__buttons .ToolIcon__icon .Spinner{--spinner-color: #fff}.excalidraw .publish-library__buttons .ToolIcon__icon .Spinner svg{padding:.5rem}.excalidraw .publish-library .selected-library-items{display:flex;flex-wrap:wrap}.excalidraw .publish-library .selected-library-items .single-library-item-wrapper{width:9rem}.excalidraw .publish-library-warning{color:#fa5252}.excalidraw .publish-library-note{padding:1em 0;font-style:italic;font-size:14px;display:block}.excalidraw .single-library-item{position:relative}.excalidraw .single-library-item-status{position:absolute;top:.3rem;left:.3rem;font-size:.7rem;color:#f03e3e;background:rgba(255,255,255,.9);padding:.1rem .2rem;border-radius:.2rem}.excalidraw .single-library-item__svg{background-color:#fff;padding:.3rem;width:7.5rem;height:7.5rem;border:1px solid var(--button-gray-2)}.excalidraw .single-library-item__svg svg{width:100%;height:100%}.excalidraw .single-library-item .ToolIcon__icon{background-color:#fff;width:auto;height:auto;margin:0 .5rem}.excalidraw .single-library-item .ToolIcon,.excalidraw .single-library-item .ToolIcon_type_button:hover{background-color:#fff}.excalidraw .single-library-item .required,.excalidraw .single-library-item .error{color:#e03131;font-weight:bold;font-size:1rem;margin:.2rem}.excalidraw .single-library-item .error{font-weight:500;margin:0;padding:.3em 0}.excalidraw .single-library-item--remove{position:absolute;top:.2rem;right:1rem}.excalidraw .single-library-item--remove .ToolIcon__icon{margin:0}.excalidraw .single-library-item--remove .ToolIcon__icon{background-color:#fa5252}.excalidraw .single-library-item--remove .ToolIcon__icon:hover{background-color:#f03e3e}.excalidraw .single-library-item--remove .ToolIcon__icon:active{background-color:#e03131}.excalidraw .single-library-item--remove svg{color:#fff;padding:.26rem;border-radius:.3em;width:1rem;height:1rem}",""]),ue.Z=b},6217:function(We,ue,n){var r=n(8081),A=n.n(r),k=n(3645),b=n.n(k)()(A());b.push([We.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw{--RadioGroup-background: var(--island-bg-color);--RadioGroup-border: var(--color-surface-high);--RadioGroup-choice-color-off: var(--color-primary);--RadioGroup-choice-color-off-hover: var(--color-brand-hover);--RadioGroup-choice-background-off: var(--island-bg-color);--RadioGroup-choice-background-off-active: var(--color-surface-high);--RadioGroup-choice-color-on: var(--color-surface-lowest);--RadioGroup-choice-background-on: var(--color-primary);--RadioGroup-choice-background-on-hover: var(--color-brand-hover);--RadioGroup-choice-background-on-active: var(--color-brand-active)}.excalidraw .RadioGroup{box-sizing:border-box;display:flex;flex-direction:row;align-items:flex-start;padding:3px;border-radius:10px;background:var(--RadioGroup-background);border:1px solid var(--RadioGroup-border)}.excalidraw .RadioGroup__choice{position:relative;display:flex;align-items:center;justify-content:center;width:32px;height:24px;color:var(--RadioGroup-choice-color-off);background:var(--RadioGroup-choice-background-off);border-radius:8px;font-family:"Assistant";font-style:normal;font-weight:600;font-size:.75rem;line-height:100%;-webkit-user-select:none;user-select:none;letter-spacing:.4px;transition:all 75ms ease-out}.excalidraw .RadioGroup__choice:hover{color:var(--RadioGroup-choice-color-off-hover)}.excalidraw .RadioGroup__choice:active{background:var(--RadioGroup-choice-background-off-active)}.excalidraw .RadioGroup__choice.active{color:var(--RadioGroup-choice-color-on);background:var(--RadioGroup-choice-background-on)}.excalidraw .RadioGroup__choice.active:hover{background:var(--RadioGroup-choice-background-on-hover)}.excalidraw .RadioGroup__choice.active:active{background:var(--RadioGroup-choice-background-on-active)}.excalidraw .RadioGroup__choice input{z-index:1;position:absolute;width:100%;height:100%;margin:0;padding:0;border-radius:8px;-webkit-appearance:none;appearance:none;cursor:pointer}',""]),ue.Z=b},8208:function(We,ue,n){var r=n(8081),A=n.n(r),k=n(3645),b=n.n(k)()(A());b.push([We.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .sidebar{display:flex;flex-direction:column;position:absolute;top:0;bottom:0;right:0;z-index:5;margin:0;padding:0;box-sizing:border-box;background-color:var(--sidebar-bg-color);box-shadow:var(--sidebar-shadow);pointer-events:var(--ui-pointerEvents);overflow:hidden;border-radius:0;width:calc(302px - var(--space-factor) * 2);border-left:1px solid var(--sidebar-border-color)}:root[dir=rtl] .excalidraw .sidebar{left:0;right:auto}.excalidraw .sidebar--docked{box-shadow:none}:root[dir=rtl] .excalidraw .sidebar{border-right:1px solid var(--sidebar-border-color);border-left:0}.excalidraw .sidebar__header{box-sizing:border-box;display:flex;justify-content:space-between;align-items:center;width:100%;padding:1rem .75rem;position:relative}.excalidraw .sidebar__header::after{content:"";width:calc(100% - 1.5rem);height:1px;background:var(--sidebar-border-color);position:absolute;bottom:-1px}.excalidraw .sidebar__header__buttons{gap:0;display:flex;align-items:center;margin-left:auto}.excalidraw .sidebar__header__buttons button{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--color-on-surface));--button-bg: transparent;border:0 !important;width:var(--lg-button-size);height:var(--lg-button-size);padding:0}.excalidraw .sidebar__header__buttons button svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .sidebar__header__buttons button:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--button-border, var(--default-border-color)));color:var(--button-hover-color, var(--button-color, var(--text-primary-color, inherit)))}.excalidraw .sidebar__header__buttons button:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .sidebar__header__buttons button.active{background-color:var(--button-selected-bg, var(--color-surface-primary-container));border-color:var(--button-selected-border, var(--color-surface-primary-container))}.excalidraw .sidebar__header__buttons button.active:hover{background-color:var(--button-selected-hover-bg, var(--color-surface-primary-container))}.excalidraw .sidebar__header__buttons button.active svg{color:var(--button-color, var(--color-on-primary-container))}.excalidraw .sidebar__header__buttons button svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .sidebar__header__buttons button:hover{background:var(--button-hover-bg, var(--island-bg-color))}.excalidraw .sidebar__header__buttons .sidebar__dock.selected svg{stroke:var(--color-primary);fill:var(--color-primary)}.excalidraw .sidebar-tabs-root{display:flex;flex-direction:column;flex:1 1 auto;padding:1rem 0}.excalidraw .sidebar-tabs-root [role=tabpanel]{flex:1;outline:none;flex:1 1 auto;display:flex;flex-direction:column;outline:none}.excalidraw .sidebar-tabs-root [role=tabpanel][data-state=inactive]{display:none !important}.excalidraw .sidebar-tabs-root [role=tablist]{display:grid;gap:1rem;grid-template-columns:repeat(auto-fit, minmax(0, 1fr))}.excalidraw .sidebar-tabs-root>.sidebar__header{padding-top:0;padding-bottom:1rem}.excalidraw .sidebar-tab-trigger{--button-width: auto;--button-bg: transparent;--button-hover-bg: transparent;--button-active-bg: var(--color-primary);--button-hover-color: var(--color-primary);--button-hover-border: var(--color-primary)}.excalidraw .sidebar-tab-trigger[data-state=active]{--button-bg: var(--color-primary);--button-hover-bg: var(--color-primary-darker);--button-hover-color: var(--color-icon-white);--button-border: var(--color-primary);color:var(--color-icon-white)}.excalidraw .default-sidebar{display:flex;flex-direction:column}.excalidraw .default-sidebar .sidebar-triggers{display:flex;gap:0;padding:2px;margin-top:-3px;margin-bottom:-3px;border:1px solid var(--sidebar-border-color);background:var(--default-bg-color);border-radius:.625rem}.excalidraw .default-sidebar .sidebar-triggers .sidebar-tab-trigger{height:var(--lg-button-size);width:var(--lg-button-size);border:none}',""]),ue.Z=b},7051:function(We,ue,n){var r=n(8081),A=n.n(r),k=n(3645),b=n.n(k)()(A());b.push([We.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .sidebar-trigger{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--color-on-surface));border:none;box-shadow:0 0 0 1px var(--color-surface-lowest);background-color:var(--color-surface-low);width:auto;height:var(--lg-button-size);display:flex;align-items:center;gap:.5rem;line-height:0;font-size:.75rem;letter-spacing:.4px}.excalidraw .sidebar-trigger svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .sidebar-trigger:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--button-border, var(--default-border-color)));color:var(--button-hover-color, var(--button-color, var(--text-primary-color, inherit)))}.excalidraw .sidebar-trigger:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .sidebar-trigger.active{background-color:var(--button-selected-bg, var(--color-surface-primary-container));border-color:var(--button-selected-border, var(--color-surface-primary-container))}.excalidraw .sidebar-trigger.active:hover{background-color:var(--button-selected-hover-bg, var(--color-surface-primary-container))}.excalidraw .sidebar-trigger.active svg{color:var(--button-color, var(--color-on-primary-container))}.excalidraw .sidebar-trigger:active{box-shadow:0 0 0 1px var(--color-brand-active)}.excalidraw .sidebar-trigger svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .default-sidebar-trigger .sidebar-trigger__label{display:block}.excalidraw.excalidraw--mobile .default-sidebar-trigger .sidebar-trigger__label{display:none}",""]),ue.Z=b},5892:function(We,ue,n){var r=n(8081),A=n.n(r),k=n(3645),b=n.n(k)()(A());b.push([We.id,".excalidraw .Spinner{display:flex;align-items:center;justify-content:center;height:100%;margin-left:auto;margin-right:auto;--spinner-color: var(--icon-fill-color)}.excalidraw .Spinner svg{-webkit-animation:rotate 1.6s linear infinite;animation:rotate 1.6s linear infinite;-webkit-animation-delay:var(--spinner-delay);animation-delay:var(--spinner-delay);-webkit-transform-origin:center center;transform-origin:center center}.excalidraw .Spinner circle{stroke:var(--spinner-color);-webkit-animation:dash 1.6s linear 0s infinite;animation:dash 1.6s linear 0s infinite;stroke-linecap:round}@-webkit-keyframes rotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes rotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes dash{0%{stroke-dasharray:1,300;stroke-dashoffset:0}50%{stroke-dasharray:150,300;stroke-dashoffset:-200}100%{stroke-dasharray:1,300;stroke-dashoffset:-280}}@keyframes dash{0%{stroke-dasharray:1,300;stroke-dashoffset:0}50%{stroke-dasharray:150,300;stroke-dashoffset:-200}100%{stroke-dasharray:1,300;stroke-dashoffset:-280}}",""]),ue.Z=b},3874:function(We,ue,n){var r=n(8081),A=n.n(r),k=n(3645),b=n.n(k)()(A());b.push([We.id,".excalidraw .Stack{--gap: 0;display:grid;gap:calc(var(--space-factor)*var(--gap))}.excalidraw .Stack_vertical{grid-template-columns:auto;grid-auto-flow:row;grid-auto-rows:-webkit-min-content;grid-auto-rows:min-content}.excalidraw .Stack_horizontal{grid-template-rows:auto;grid-auto-flow:column;grid-auto-columns:-webkit-min-content;grid-auto-columns:min-content}",""]),ue.Z=b},2681:function(We,ue,n){var r=n(8081),A=n.n(r),k=n(3645),b=n.n(k)()(A());b.push([We.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Stats{position:absolute;top:64px;right:12px;font-size:12px;z-index:10;pointer-events:var(--ui-pointerEvents)}.excalidraw .Stats h3{margin:0 24px 8px 0;white-space:nowrap}.excalidraw .Stats .close{float:right;height:16px;width:16px;cursor:pointer}.excalidraw .Stats .close svg{width:100%;height:100%}.excalidraw .Stats table{width:100%}.excalidraw .Stats table th{border-bottom:1px solid var(--input-border-color);padding:4px}.excalidraw .Stats table tr td:nth-child(2){min-width:24px;text-align:right}:root[dir=rtl] .excalidraw .Stats{left:12px;right:initial}:root[dir=rtl] .excalidraw .Stats h3{margin:0 0 8px 24px}:root[dir=rtl] .excalidraw .Stats .close{float:left}",""]),ue.Z=b},7802:function(We,ue,n){var r=n(8081),A=n.n(r),k=n(3645),b=n.n(k)()(A());b.push([We.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw{--Switch-disabled-color: var(--color-border-outline);--Switch-disabled-toggled-background: var(--color-border-outline-variant);--Switch-disabled-border: var(--color-border-outline-variant);--Switch-track-background: var(--island-bg-color);--Switch-thumb-background: var(--color-on-surface);--Switch-hover-background: var(--color-brand-hover);--Switch-active-background: var(--color-brand-active)}.excalidraw .Switch{position:relative;box-sizing:border-box;width:40px;height:20px;border-radius:12px;transition-property:background,border;transition-duration:150ms;transition-timing-function:ease-out;background:var(--Switch-track-background);border:1px solid var(--Switch-disabled-color)}.excalidraw .Switch:hover{background:var(--Switch-track-background);border:1px solid var(--Switch-hover-background)}.excalidraw .Switch:active{border:1px solid var(--Switch-active-background)}.excalidraw .Switch.toggled{background:var(--color-primary);border:1px solid var(--color-primary)}.excalidraw .Switch.toggled:hover{background:var(--color-primary-darker);border:1px solid var(--color-primary-darker)}.excalidraw .Switch.disabled{background:var(--Switch-track-background);border:1px solid var(--Switch-disabled-border)}.excalidraw .Switch.disabled.toggled{background:var(--Switch-disabled-toggled-background);border:1px solid var(--Switch-disabled-toggled-background)}.excalidraw .Switch:before{content:"";box-sizing:border-box;display:block;pointer-events:none;position:absolute;border-radius:100%;transition:all 150ms ease-out;width:10px;height:10px;top:4px;left:4px;background:var(--Switch-thumb-background)}.excalidraw .Switch:active:before{width:12px}.excalidraw .Switch.toggled:before{width:14px;height:14px;left:22px;top:2px;background:var(--Switch-track-background)}.excalidraw .Switch.toggled:active:before{width:16px;left:20px}.excalidraw .Switch.disabled:before{background:var(--Switch-disabled-color)}.excalidraw .Switch.disabled.toggled:before{background:var(--Switch-disabled-color)}.excalidraw .Switch input{width:100%;height:100%;margin:0;border-radius:12px;-webkit-appearance:none;appearance:none;cursor:pointer}.excalidraw .Switch input:disabled{cursor:unset}',""]),ue.Z=b},6759:function(We,ue,n){var r=n(8081),A=n.n(r),k=n(3645),b=n.n(k)()(A());b.push([We.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .TextInput{display:inline-block}",""]),ue.Z=b},9650:function(We,ue,n){var r=n(8081),A=n.n(r),k=n(3645),b=n.n(k)()(A());b.push([We.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Toast{-webkit-animation:fade-in .5s;animation:fade-in .5s;background-color:var(--button-gray-1);border-radius:4px;bottom:10px;box-sizing:border-box;cursor:default;left:50%;margin-left:-150px;padding:4px 0;position:absolute;text-align:center;width:300px;z-index:999999}.excalidraw .Toast .Toast__message{padding:0 1.6rem;color:var(--popup-text-color);white-space:pre-wrap}.excalidraw .Toast .close{position:absolute;top:0;right:0;padding:.4rem}.excalidraw .Toast .close .ToolIcon__icon{width:1.2rem;height:1.2rem}@-webkit-keyframes fade-in{from{opacity:0}to{opacity:1}}@keyframes fade-in{from{opacity:0}to{opacity:1}}",""]),ue.Z=b},2044:function(We,ue,n){var r=n(8081),A=n.n(r),k=n(3645),b=n.n(k)()(A());b.push([We.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .ToolIcon{border-radius:var(--border-radius-lg);display:inline-flex;align-items:center;position:relative;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;user-select:none}.excalidraw .ToolIcon__hidden{display:none !important}.excalidraw .ToolIcon.fillable .ToolIcon_type_radio:checked+.ToolIcon__icon,.excalidraw .ToolIcon.fillable .ToolIcon_type_checkbox:checked+.ToolIcon__icon{--icon-fill-color: var(--color-on-primary-container)}.excalidraw .ToolIcon.fillable .ToolIcon_type_radio:checked+.ToolIcon__icon svg,.excalidraw .ToolIcon.fillable .ToolIcon_type_checkbox:checked+.ToolIcon__icon svg{fill:var(--icon-fill-color)}.excalidraw .ToolIcon .ToolIcon_type_radio:checked+.ToolIcon__icon,.excalidraw .ToolIcon .ToolIcon_type_checkbox:checked+.ToolIcon__icon{background:var(--color-surface-primary-container);--keybinding-color: var(--color-on-primary-container)}.excalidraw .ToolIcon .ToolIcon_type_radio:checked+.ToolIcon__icon svg,.excalidraw .ToolIcon .ToolIcon_type_checkbox:checked+.ToolIcon__icon svg{color:var(--color-on-primary-container)}.excalidraw .ToolIcon .ToolIcon__keybinding{bottom:4px;right:4px}.excalidraw .ToolIcon .ToolIcon__icon:hover{background:var(--button-hover-bg)}.excalidraw .ToolIcon .ToolIcon__icon:active{background:var(--button-hover-bg);border:1px solid var(--button-active-border)}.excalidraw .ToolIcon .ToolIcon__icon:active svg{color:var(--color-on-primary-container)}.excalidraw .ToolIcon--plain{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon--plain .ToolIcon__icon{width:2rem;height:2rem}.excalidraw .ToolIcon_type_radio,.excalidraw .ToolIcon_type_checkbox{position:absolute;opacity:0;pointer-events:none}.excalidraw .ToolIcon__icon{box-sizing:border-box;width:var(--default-button-size);height:var(--default-button-size);color:var(--icon-fill-color);display:flex;justify-content:center;align-items:center;border-radius:var(--border-radius-lg)}.excalidraw .ToolIcon__icon+.ToolIcon__label{-webkit-margin-start:0;margin-inline-start:0}.excalidraw .ToolIcon__icon svg{position:relative;width:var(--default-icon-size);height:var(--default-icon-size);color:var(--icon-fill-color)}.excalidraw .ToolIcon__label{display:flex;align-items:center;color:var(--icon-fill-color);font-family:var(--ui-font);margin:0 .8em;text-overflow:ellipsis}.excalidraw .ToolIcon__label .Spinner{margin-left:.6em}.excalidraw .ToolIcon_size_small .ToolIcon__icon{width:2rem;height:2rem;font-size:.8em}.excalidraw .ToolIcon_type_button,.excalidraw .Modal .ToolIcon_type_button,.excalidraw .ToolIcon_type_button{padding:0;border:none;margin:0;font-size:inherit;background-color:initial}.excalidraw .ToolIcon_type_button:focus-visible,.excalidraw .Modal .ToolIcon_type_button:focus-visible,.excalidraw .ToolIcon_type_button:focus-visible{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .ToolIcon_type_button.ToolIcon--selected,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected,.excalidraw .ToolIcon_type_button.ToolIcon--selected{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .ToolIcon_type_button.ToolIcon--selected:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_button:active,.excalidraw .Modal .ToolIcon_type_button:active,.excalidraw .ToolIcon_type_button:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_button--show,.excalidraw .Modal .ToolIcon_type_button--show,.excalidraw .ToolIcon_type_button--show{visibility:visible}.excalidraw .ToolIcon_type_button--hide,.excalidraw .Modal .ToolIcon_type_button--hide,.excalidraw .ToolIcon_type_button--hide{display:none !important}.excalidraw .ToolIcon_type_floating{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon_type_floating:hover{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon_type_floating:active{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon_type_floating .ToolIcon__icon{background-color:var(--button-gray-1);width:2rem;height:2rem}.excalidraw .ToolIcon_type_floating .ToolIcon__icon:hover{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_floating .ToolIcon__icon:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon__keybinding{position:absolute;bottom:2px;right:3px;font-size:.625rem;color:var(--keybinding-color);font-family:var(--ui-font);-webkit-user-select:none;user-select:none}:root[dir=ltr] .excalidraw .unlocked-icon{left:2px}:root[dir=rtl] .excalidraw .unlocked-icon{right:2px}.excalidraw .App-toolbar-container .ToolIcon__icon{width:var(--lg-button-size);height:var(--lg-button-size)}@media screen and (max-width: 450px){.excalidraw .App-toolbar-container .ToolIcon__icon{width:1.8rem;height:1.8rem}}@media screen and (max-width: 379px){.excalidraw .App-toolbar-container .ToolIcon__icon{width:1.5rem;height:1.5rem}}.excalidraw .App-toolbar-container .ToolIcon__icon svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .App-toolbar-container .ToolIcon__LaserPointer .ToolIcon__icon{width:var(--default-button-size);height:var(--default-button-size)}",""]),ue.Z=b},9144:function(We,ue,n){var r=n(8081),A=n.n(r),k=n(3645),b=n.n(k)()(A());b.push([We.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .App-toolbar.zen-mode .ToolIcon__keybinding,.excalidraw .App-toolbar.zen-mode .HintViewer{display:none}.excalidraw .App-toolbar__divider{width:1px;height:1.5rem;align-self:center;background-color:var(--default-border-color);margin:0 .25rem}.excalidraw--mobile.excalidraw .App-toolbar__divider{margin:0}.excalidraw .App-toolbar__extra-tools-trigger{box-shadow:none;border:0;background-color:rgba(0,0,0,0)}.excalidraw .App-toolbar__extra-tools-trigger:active{background-color:var(--button-hover-bg);box-shadow:0 0 0 1px var(--button-active-border, var(--color-primary-darkest)) inset}.excalidraw .App-toolbar__extra-tools-trigger--selected,.excalidraw .App-toolbar__extra-tools-trigger--selected:hover{background:var(--color-primary-light);color:var(--color-primary)}.excalidraw .App-toolbar__extra-tools-dropdown{margin-top:.375rem;right:0;min-width:11.875rem;z-index:1}",""]),ue.Z=b},6626:function(We,ue,n){var r=n(8081),A=n.n(r),k=n(3645),b=n.n(k)()(A());b.push([We.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw-tooltip{--ui-font: Assistant, system-ui, BlinkMacSystemFont, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;font-family:var(--ui-font);position:fixed;z-index:var(--zIndex-popup);padding:8px;border-radius:6px;box-sizing:border-box;pointer-events:none;word-wrap:break-word;background:#000;line-height:1.5;text-align:center;font-size:13px;font-weight:500;color:#fff;display:none}.excalidraw-tooltip.excalidraw-tooltip--visible{display:block}.excalidraw-tooltip-wrapper{display:flex}.excalidraw-tooltip-icon{width:.9em;height:.9em;margin-left:5px;margin-top:1px;display:flex}.excalidraw--mobile.excalidraw-tooltip-icon{display:none}",""]),ue.Z=b},6359:function(We,ue,n){var r=n(8081),A=n.n(r),k=n(3645),b=n.n(k)()(A());b.push([We.id,".excalidraw .UserList{pointer-events:none;padding:var(--space-factor) var(--space-factor) var(--space-factor) var(--space-factor);display:flex;flex-wrap:wrap;justify-content:flex-end;align-items:center;gap:.625rem;max-height:140px;max-width:290px;overflow:hidden}.excalidraw .UserList:empty{display:none}.excalidraw .UserList>*{pointer-events:var(--ui-pointerEvents)}.excalidraw .UserList_mobile{padding:0;justify-content:normal;margin:.5rem 0}",""]),ue.Z=b},7399:function(We,ue,n){var r=n(8081),A=n.n(r),k=n(3645),b=n.n(k)()(A());b.push([We.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .dropdown-menu{position:absolute;top:100%;margin-top:.25rem}.excalidraw .dropdown-menu--mobile{left:0;width:100%;row-gap:.75rem}.excalidraw .dropdown-menu--mobile .dropdown-menu-container{padding:8px 8px;box-sizing:border-box;box-shadow:var(--shadow-island);border-radius:var(--border-radius-lg);position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .dropdown-menu--mobile .dropdown-menu-container.zen-mode{box-shadow:none}.excalidraw .dropdown-menu .dropdown-menu-container{background-color:var(--island-bg-color);max-height:calc(100vh - 150px);overflow-y:auto;--gap: 2}.excalidraw .dropdown-menu .dropdown-menu-item-base{display:flex;padding:0 .625rem;-webkit-column-gap:.625rem;column-gap:.625rem;font-size:.875rem;color:var(--color-on-surface);width:100%;box-sizing:border-box;font-weight:normal;font-family:inherit}.excalidraw .dropdown-menu .dropdown-menu-item{background-color:rgba(0,0,0,0);border:1px solid rgba(0,0,0,0);align-items:center;height:2rem;cursor:pointer;border-radius:var(--border-radius-md)}@media screen and (min-width: 1921px){.excalidraw .dropdown-menu .dropdown-menu-item{height:2.25rem}}.excalidraw .dropdown-menu .dropdown-menu-item--selected{background:var(--color-primary-light);--icon-fill-color: var(--color-primary-darker)}.excalidraw .dropdown-menu .dropdown-menu-item__text{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.excalidraw .dropdown-menu .dropdown-menu-item__shortcut{-webkit-margin-start:auto;margin-inline-start:auto;opacity:.5}.excalidraw .dropdown-menu .dropdown-menu-item:hover{background-color:var(--button-hover-bg);text-decoration:none}.excalidraw .dropdown-menu .dropdown-menu-item:active{background-color:var(--button-hover-bg);border-color:var(--color-brand-active)}.excalidraw .dropdown-menu .dropdown-menu-item svg{width:1rem;height:1rem;display:block}.excalidraw .dropdown-menu .dropdown-menu-item-custom{margin-top:.5rem}.excalidraw .dropdown-menu .dropdown-menu-group-title{font-size:14px;text-align:left;margin:10px 0;font-weight:500}.excalidraw .dropdown-menu-button{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--color-on-surface));width:var(--lg-button-size);height:var(--lg-button-size);--background: var(--color-surface-mid);background-color:var(--background)}.excalidraw .dropdown-menu-button svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .dropdown-menu-button:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--button-border, var(--default-border-color)));color:var(--button-hover-color, var(--button-color, var(--text-primary-color, inherit)))}.excalidraw .dropdown-menu-button:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .dropdown-menu-button.active{background-color:var(--button-selected-bg, var(--color-surface-primary-container));border-color:var(--button-selected-border, var(--color-surface-primary-container))}.excalidraw .dropdown-menu-button.active:hover{background-color:var(--button-selected-hover-bg, var(--color-surface-primary-container))}.excalidraw .dropdown-menu-button.active svg{color:var(--button-color, var(--color-on-primary-container))}.excalidraw.theme--dark.excalidraw .dropdown-menu-button{--background: var(--color-surface-high)}.excalidraw.theme--dark.excalidraw .dropdown-menu-button:hover{--background: #363541}.excalidraw .dropdown-menu-button:hover{--background: var(--color-surface-high);background-color:var(--background);text-decoration:none}.excalidraw .dropdown-menu-button:active{border-color:var(--color-primary)}.excalidraw .dropdown-menu-button svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .dropdown-menu-button--mobile{border:none;margin:0;padding:0;width:var(--default-button-size);height:var(--default-button-size)}",""]),ue.Z=b},8793:function(We,ue,n){var r=n(8081),A=n.n(r),k=n(3645),b=n.n(k)()(A());b.push([We.id,".footer-center{pointer-events:none;display:flex;width:100%;justify-content:flex-start;-webkit-margin-end:.6rem;margin-inline-end:.6rem}.footer-center>*{pointer-events:var(--ui-pointerEvents)}",""]),ue.Z=b},3397:function(We,ue,n){var r=n(8081),A=n.n(r),k=n(3645),b=n.n(k)()(A());b.push([We.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .collab-button{--button-bg: var(--color-primary);--button-color: white;--button-border: var(--color-primary);--button-width: var(--lg-button-size);--button-height: var(--lg-button-size);--button-hover-bg: var(--color-primary-darker);--button-hover-border: var(--color-primary-darker);--button-active-bg: var(--color-primary-darker);box-shadow:0 0 0 1px var(--color-surface-lowest);flex-shrink:0}.excalidraw .collab-button.active.active{background-color:#0fb884;border-color:#0fb884}.excalidraw .collab-button.active.active svg{color:#fff}.excalidraw .collab-button.active.active:hover,.excalidraw .collab-button.active.active:active{background-color:#0fb884;border-color:#0fb884}.excalidraw.theme--dark .collab-button{color:var(--color-gray-90)}.excalidraw .CollabButton.is-collaborating{background-color:var(--button-special-active-bg-color)}.excalidraw .CollabButton.is-collaborating .ToolIcon__icon svg,.excalidraw .CollabButton.is-collaborating .ToolIcon__label{color:var(--icon-green-fill-color)}.excalidraw .CollabButton-collaborators{min-width:1em;min-height:1em;line-height:1;position:absolute;bottom:-5px;padding:3px;border-radius:50%;background-color:#b2f2bb;color:#2b8a3e;font-size:.6rem;font-family:"Cascadia"}:root[dir=ltr] .excalidraw .CollabButton-collaborators{right:-5px}:root[dir=rtl] .excalidraw .CollabButton-collaborators{left:-5px}',""]),ue.Z=b},4343:function(We,ue,n){var r=n(8081),A=n.n(r),k=n(3645),b=n.n(k)()(A());b.push([We.id,".excalidraw .ActiveFile .ActiveFile__fileName{display:flex;align-items:center}.excalidraw .ActiveFile .ActiveFile__fileName span{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;width:9.3em}.excalidraw .ActiveFile .ActiveFile__fileName svg{width:1.15em;-webkit-margin-end:.3em;margin-inline-end:.3em;-webkit-transform:scaleY(0.9);transform:scaleY(0.9)}",""]),ue.Z=b},1569:function(We,ue,n){var r=n(8081),A=n.n(r),k=n(3645),b=n.n(k)()(A());b.push([We.id,'.excalidraw .virgil{font-family:"Virgil"}.excalidraw .welcome-screen-decor{pointer-events:none;color:var(--color-gray-40)}.excalidraw .welcome-screen-decor a{--color: var(--color-primary);color:var(--color);text-decoration:none;margin-bottom:-6px}.excalidraw.theme--dark .welcome-screen-decor{color:var(--color-gray-60)}@media(max-height: 599px){.excalidraw .welcome-screen-decor-hint{display:none !important}}@media(max-width: 1024px),(max-width: 800px){.excalidraw .welcome-screen-decor-hint .welcome-screen-decor--help,.excalidraw .welcome-screen-decor-hint .welcome-screen-decor--menu{display:none}}.excalidraw .welcome-screen-decor-hint--help{display:flex;position:absolute;right:0;bottom:100%}:root[dir=rtl] .excalidraw .welcome-screen-decor-hint--help{left:0;right:auto}.excalidraw .welcome-screen-decor-hint--help svg{margin-top:.5rem;width:85px;height:71px;-webkit-transform:scaleX(-1) rotate(80deg);transform:scaleX(-1) rotate(80deg)}:root[dir=rtl] .excalidraw .welcome-screen-decor-hint--help svg{-webkit-transform:rotate(80deg);transform:rotate(80deg)}.excalidraw .welcome-screen-decor-hint--toolbar{position:absolute;top:100%;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);margin-top:2.5rem;display:flex;align-items:baseline}.excalidraw .welcome-screen-decor-hint--toolbar .welcome-screen-decor-hint__label{width:120px;position:relative;top:-0.5rem}.excalidraw .welcome-screen-decor-hint--toolbar svg{width:38px;height:78px}:root[dir=rtl] .excalidraw .welcome-screen-decor-hint--toolbar svg{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.excalidraw .welcome-screen-decor-hint--menu{position:absolute;width:320px;font-size:1rem;top:100%;margin-top:.25rem;-webkit-margin-start:.6rem;margin-inline-start:.6rem;display:flex;align-items:flex-end;gap:.5rem}.excalidraw .welcome-screen-decor-hint--menu svg{width:41px;height:94px}:root[dir=rtl] .excalidraw .welcome-screen-decor-hint--menu svg{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@media(max-width: 860px){.excalidraw .welcome-screen-decor-hint--menu .welcome-screen-decor-hint__label{max-width:160px}}.excalidraw .welcome-screen-center{display:flex;flex-direction:column;gap:2rem;justify-content:center;align-items:center;position:absolute;pointer-events:none;left:1rem;top:1rem;right:1rem;bottom:1rem}.excalidraw .welcome-screen-center__logo{display:flex;align-items:center;-webkit-column-gap:.75rem;column-gap:.75rem;font-size:2.25rem}.excalidraw .welcome-screen-center__heading{font-size:1.125rem;text-align:center}.excalidraw .welcome-screen-menu{display:flex;flex-direction:column;gap:2px;justify-content:center;align-items:center}.excalidraw .welcome-screen-menu-item{box-sizing:border-box;pointer-events:var(--ui-pointerEvents);color:var(--color-gray-50);font-size:.875rem;width:100%;min-width:300px;max-width:400px;display:grid;align-items:center;justify-content:space-between;background:none;border:1px solid rgba(0,0,0,0);padding:.75rem;border-radius:var(--border-radius-md);grid-template-columns:calc(var(--default-icon-size) + .5rem) 1fr 3rem}.excalidraw .welcome-screen-menu-item__text{display:flex;align-items:center;margin-right:auto;text-align:left;-webkit-column-gap:.5rem;column-gap:.5rem}.excalidraw .welcome-screen-menu-item__icon{width:var(--default-icon-size);height:var(--default-icon-size)}.excalidraw .welcome-screen-menu-item__shortcut{margin-left:auto;color:var(--color-gray-40);font-size:.75rem}.excalidraw .welcome-screen-menu-item:hover{text-decoration:none;background:var(--button-hover-bg)}.excalidraw .welcome-screen-menu-item:hover .welcome-screen-menu-item__shortcut{color:var(--color-gray-50)}.excalidraw .welcome-screen-menu-item:hover .welcome-screen-menu-item__text{color:var(--color-gray-100)}.excalidraw .welcome-screen-menu-item:active{background:var(--button-hover-bg);border-color:var(--color-brand-active)}.excalidraw .welcome-screen-menu-item:active .welcome-screen-menu-item__shortcut{color:var(--color-gray-50)}.excalidraw .welcome-screen-menu-item:active .welcome-screen-menu-item__text{color:var(--color-gray-100)}.excalidraw .welcome-screen-menu-item:active--promo{color:var(--color-promo) !important}.excalidraw .welcome-screen-menu-item:active--promo:hover .welcome-screen-menu-item__text{color:var(--color-promo) !important}.excalidraw.theme--dark .welcome-screen-menu-item{color:var(--color-gray-60)}.excalidraw.theme--dark .welcome-screen-menu-item__shortcut{color:var(--color-gray-60)}.excalidraw.theme--dark .welcome-screen-menu-item:hover{background-color:var(--color-surface-low)}.excalidraw.theme--dark .welcome-screen-menu-item:hover .welcome-screen-menu-item__shortcut{color:var(--color-gray-50)}.excalidraw.theme--dark .welcome-screen-menu-item:hover .welcome-screen-menu-item__text{color:var(--color-gray-10)}.excalidraw.theme--dark .welcome-screen-menu-item:active .welcome-screen-menu-item__text{color:var(--color-gray-10)}@media(max-height: 599px){.excalidraw .welcome-screen-center{margin-top:4rem}}@media(min-height: 600px)and (max-height: 900px){.excalidraw .welcome-screen-center{margin-top:8rem}}@media(max-height: 500px),(max-width: 320px){.excalidraw .welcome-screen-center{display:none}}',""]),ue.Z=b},9915:function(We,ue,n){var r=n(8081),A=n.n(r),k=n(3645),b=n.n(k)()(A());b.push([We.id,".visually-hidden{position:absolute !important;height:1px;width:1px;overflow:hidden;clip:rect(1px, 1px, 1px, 1px);white-space:nowrap;-webkit-user-select:none;user-select:none}.LoadingMessage{position:absolute;top:0;right:0;bottom:0;left:0;z-index:999;display:flex;flex-direction:column;align-items:center;justify-content:center;pointer-events:none}.LoadingMessage .Spinner{font-size:2.8em}.LoadingMessage .LoadingMessage-text{margin-top:1em;font-size:.8em}.LoadingMessage--dark{background-color:#121212;color:#ced4da}",""]),ue.Z=b},9310:function(We,ue,n){var r=n(8081),A=n.n(r),k=n(3645),b=n.n(k),w=n(1667),N=n.n(w),M=new URL(n(7984),n.b),f=new URL(n(1639),n.b),d=b()(A()),j=N()(M),L=N()(f);d.push([We.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}:export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw{--theme-filter: none;--button-destructive-bg-color: #ffe3e3;--button-destructive-color: #c92a2a;--button-gray-1: #e9ecef;--button-gray-2: #ced4da;--button-gray-3: #adb5bd;--button-special-active-bg-color: #ebfbee;--dialog-border-color: var(--color-gray-20);--dropdown-icon: url("+j+");--focus-highlight-color: #a5d8ff;--icon-fill-color: var(--color-on-surface);--icon-green-fill-color: #2b8a3e;--default-bg-color: #ffffff;--input-bg-color: #ffffff;--input-border-color: #ced4da;--input-hover-bg-color: #f1f3f5;--input-label-color: #495057;--island-bg-color: #ffffff;--keybinding-color: var(--color-gray-40);--link-color: #1c7ed6;--overlay-bg-color: rgba(255, 255, 255, 0.88);--popup-bg-color: var(--island-bg-color);--popup-secondary-bg-color: #f1f3f5;--popup-text-color: #000000;--popup-text-inverted-color: #ffffff;--select-highlight-color: #339af0;--shadow-island: 0px 0px 0.9310142993927002px 0px rgba(0, 0, 0, 0.17), 0px 0px 3.1270833015441895px 0px rgba(0, 0, 0, 0.08), 0px 7px 14px 0px rgba(0, 0, 0, 0.05);--button-hover-bg: var(--color-surface-high);--button-active-bg: var(--color-surface-high);--button-active-border: var(--color-brand-active);--default-border-color: var(--color-surface-high);--default-button-size: 2rem;--default-icon-size: 1rem;--lg-button-size: 2.25rem;--lg-icon-size: 1rem;--editor-container-padding: 1rem;--scrollbar-thumb: var(--button-gray-2);--scrollbar-thumb-hover: var(--button-gray-3);--modal-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--avatar-border-color: var(--color-gray-20);--sidebar-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--sidebar-border-color: var(--color-surface-high);--sidebar-bg-color: var(--island-bg-color);--library-dropdown-shadow: 0px 15px 6px rgba(0, 0, 0, 0.01), 0px 8px 5px rgba(0, 0, 0, 0.05), 0px 4px 4px rgba(0, 0, 0, 0.09), 0px 1px 2px rgba(0, 0, 0, 0.1), 0px 0px 0px rgba(0, 0, 0, 0.1);--space-factor: 0.25rem;--text-primary-color: var(--color-on-surface);--color-selection: #6965db;--color-icon-white: #ffffff;--color-primary: #6965db;--color-primary-darker: #5b57d1;--color-primary-darkest: #4a47b1;--color-primary-light: #e3e2fe;--color-primary-light-darker: #d7d5ff;--color-gray-10: #f5f5f5;--color-gray-20: #ebebeb;--color-gray-30: #d6d6d6;--color-gray-40: #b8b8b8;--color-gray-50: #999999;--color-gray-60: #7a7a7a;--color-gray-70: #5c5c5c;--color-gray-80: #3d3d3d;--color-gray-85: #242424;--color-gray-90: #1e1e1e;--color-gray-100: #121212;--color-warning: #fceeca;--color-warning-dark: #f5c354;--color-warning-darker: #f3ab2c;--color-warning-darkest: #ec8b14;--color-text-warning: var(--text-primary-color);--color-danger: #db6965;--color-danger-dark: #db6965;--color-danger-darker: #d65550;--color-danger-darkest: #d1413c;--color-danger-text: black;--color-danger-background: #fff0f0;--color-danger-icon-background: #ffdad6;--color-danger-color: #700000;--color-danger-icon-color: #700000;--color-warning-background: var(--color-warning);--color-warning-icon-background: var(--color-warning-dark);--color-warning-color: var(--text-primary-color);--color-warning-icon-color: var(--text-primary-color);--color-muted: var(--color-gray-30);--color-muted-darker: var(--color-gray-60);--color-muted-darkest: var(--color-gray-100);--color-muted-background: var(--color-gray-80);--color-muted-background-darker: var(--color-gray-100);--color-promo: #e70078;--color-success: #268029;--color-success-lighter: #cafccc;--color-logo-icon: var(--color-primary);--color-logo-text: #190064;--border-radius-md: 0.375rem;--border-radius-lg: 0.5rem;--color-surface-high: hsl(244, 100%, 97%);--color-surface-mid: hsl(240 25% 96%);--color-surface-low: hsl(240 25% 94%);--color-surface-lowest: #ffffff;--color-on-surface: #1b1b1f;--color-brand-hover: #5753d0;--color-on-primary-container: #030064;--color-surface-primary-container: #e0dfff;--color-brand-active: #4440bf;--color-border-outline: #767680;--color-border-outline-variant: #c5c5d0;--color-surface-primary-container: #e0dfff}@media screen and (min-device-width: 1921px){.excalidraw{--lg-button-size: 2.5rem;--lg-icon-size: 1.25rem;--default-button-size: 2.25rem;--default-icon-size: 1.25rem}}.excalidraw.theme--dark.theme--dark-background-none{background:none}.excalidraw.theme--dark{--theme-filter: invert(93%) hue-rotate(180deg);--button-destructive-bg-color: #5a0000;--button-destructive-color: #ffa8a8;--button-gray-1: #363636;--button-gray-2: #272727;--button-gray-3: #222;--button-special-active-bg-color: #204624;--dialog-border-color: var(--color-gray-80);--dropdown-icon: url("+L+');--focus-highlight-color: #228be6;--icon-green-fill-color: #69db7c;--default-bg-color: #121212;--input-bg-color: #121212;--input-border-color: #2e2e2e;--input-hover-bg-color: #181818;--input-label-color: #e9ecef;--island-bg-color: #232329;--keybinding-color: var(--color-gray-60);--link-color: #4dabf7;--overlay-bg-color: rgba(52, 58, 64, 0.12);--popup-secondary-bg-color: #222;--popup-text-color: #ced4da;--popup-text-inverted-color: #2c2c2c;--select-highlight-color: #4dabf7;--shadow-island: 0px 0px 0.9310142993927002px 0px rgba(0, 0, 0, 0.17), 0px 0px 3.1270833015441895px 0px rgba(0, 0, 0, 0.08), 0px 7px 14px 0px rgba(0, 0, 0, 0.05);--modal-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--avatar-border-color: var(--color-gray-85);--scrollbar-thumb: #343a40;--scrollbar-thumb-hover: #495057;--color-selection: #3530c4;--color-icon-white: var(--color-gray-90);--color-primary: #a8a5ff;--color-primary-darker: #b2aeff;--color-primary-darkest: #beb9ff;--color-primary-light: #4f4d6f;--color-primary-light-darker: #43415e;--color-text-warning: var(--color-gray-80);--color-danger: #ffa8a5;--color-danger-dark: #672120;--color-danger-darker: #8f2625;--color-danger-darkest: #ac2b29;--color-danger-text: #fbcbcc;--color-danger-background: #fbcbcc;--color-danger-icon-background: #672120;--color-danger-color: #261919;--color-danger-icon-color: #fbcbcc;--color-warning-background: var(--color-warning);--color-warning-icon-background: var(--color-warning-dark);--color-warning-color: var(--color-gray-80);--color-warning-icon-color: var(--color-gray-80);--color-muted: var(--color-gray-80);--color-muted-darker: var(--color-gray-60);--color-muted-darkest: var(--color-gray-20);--color-muted-background: var(--color-gray-40);--color-muted-background-darker: var(--color-gray-20);--color-promo: #d297ff;--color-logo-text: #e2dfff;--color-surface-high: hsl(245, 10%, 21%);--color-surface-low: hsl(240, 8%, 15%);--color-surface-mid: hsl(240 6% 10%);--color-surface-lowest: hsl(0, 0%, 7%);--color-on-surface: #e3e3e8;--color-brand-hover: #bbb8ff;--color-on-primary-container: #e0dfff;--color-surface-primary-container: #403e6a;--color-brand-active: #d0ccff;--color-border-outline: #8e8d9c;--color-border-outline-variant: #46464f;--color-surface-primary-container: #403e6a}:root{--zIndex-canvas: 1;--zIndex-interactiveCanvas: 2;--zIndex-wysiwyg: 3;--zIndex-layerUI: 4;--zIndex-eyeDropperBackdrop: 5;--zIndex-eyeDropperPreview: 6;--zIndex-modal: 1000;--zIndex-popup: 1001;--zIndex-toast: 999999;--sab: env(safe-area-inset-bottom);--sal: env(safe-area-inset-left);--sar: env(safe-area-inset-right);--sat: env(safe-area-inset-top)}.excalidraw{--ui-font: Assistant, system-ui, BlinkMacSystemFont, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;font-family:var(--ui-font);position:relative;overflow:hidden;color:var(--text-primary-color);display:flex;top:0;bottom:0;left:0;right:0;height:100%;width:100%;-webkit-user-select:none;user-select:none}.excalidraw button{cursor:pointer}.excalidraw:focus{outline:none}.excalidraw a{font-weight:500;text-decoration:none;color:var(--link-color)}.excalidraw a:hover{text-decoration:underline}.excalidraw canvas{touch-action:none;image-rendering:pixelated;image-rendering:-moz-crisp-edges;z-index:var(--zIndex-canvas)}.excalidraw canvas.interactive{z-index:var(--zIndex-interactiveCanvas)}.excalidraw__canvas-wrapper,.excalidraw__canvas.static{pointer-events:none}.excalidraw__canvas{position:absolute}.excalidraw__embeddable{width:100%;height:100%;border:0}.excalidraw__embeddable-container{position:absolute;z-index:2;-webkit-transform-origin:top left;transform-origin:top left;pointer-events:none}.excalidraw.theme--dark canvas{-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .FixedSideContainer{padding-top:var(--sat, 0);padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0)}.excalidraw .panelRow{display:flex;justify-content:space-between}.excalidraw .panelColumn{display:flex;flex-direction:column;row-gap:.75rem}.excalidraw .panelColumn h3,.excalidraw .panelColumn legend,.excalidraw .panelColumn .control-label{margin:0;margin-bottom:.25rem;font-size:.75rem;color:var(--text-primary-color);font-weight:normal;display:block}.excalidraw .panelColumn .control-label input{display:block;width:100%}.excalidraw .panelColumn legend{padding:0}.excalidraw .panelColumn .iconSelectList{flex-wrap:wrap;position:relative}.excalidraw .panelColumn .buttonList{flex-wrap:wrap;display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;row-gap:.5rem}.excalidraw .panelColumn .buttonList label{font-size:.75rem}.excalidraw .panelColumn .buttonList input[type=radio],.excalidraw .panelColumn .buttonList input[type=button]{opacity:0;position:absolute;pointer-events:none}.excalidraw .panelColumn .buttonList .iconRow{margin-top:8px}.excalidraw .panelColumn fieldset{margin:0;padding:0;border:none}.excalidraw .divider{width:1px;background-color:#e9ecef;margin:1px}.excalidraw .welcome-screen-menu-item:focus-visible,.excalidraw .dropdown-menu-item:focus-visible,.excalidraw button:focus-visible,.excalidraw .buttonList label:focus-within,.excalidraw input:focus-visible{outline:rgba(0,0,0,0);box-shadow:0 0 0 1px var(--color-brand-hover)}.excalidraw .buttonList .ToolIcon__icon{all:unset !important;display:flex !important}.excalidraw .buttonList button{background-color:rgba(0,0,0,0)}.excalidraw .buttonList label,.excalidraw .buttonList button,.excalidraw .buttonList .zIndexButton{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--color-on-surface));padding:0}.excalidraw .buttonList label svg,.excalidraw .buttonList button svg,.excalidraw .buttonList .zIndexButton svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .buttonList label:hover,.excalidraw .buttonList button:hover,.excalidraw .buttonList .zIndexButton:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--button-border, var(--default-border-color)));color:var(--button-hover-color, var(--button-color, var(--text-primary-color, inherit)))}.excalidraw .buttonList label:active,.excalidraw .buttonList button:active,.excalidraw .buttonList .zIndexButton:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .buttonList label.active,.excalidraw .buttonList button.active,.excalidraw .buttonList .zIndexButton.active{background-color:var(--button-selected-bg, var(--color-surface-primary-container));border-color:var(--button-selected-border, var(--color-surface-primary-container))}.excalidraw .buttonList label.active:hover,.excalidraw .buttonList button.active:hover,.excalidraw .buttonList .zIndexButton.active:hover{background-color:var(--button-selected-hover-bg, var(--color-surface-primary-container))}.excalidraw .buttonList label.active svg,.excalidraw .buttonList button.active svg,.excalidraw .buttonList .zIndexButton.active svg{color:var(--button-color, var(--color-on-primary-container))}.excalidraw .buttonList label svg,.excalidraw .buttonList button svg,.excalidraw .buttonList .zIndexButton svg{width:var(--default-icon-size);height:var(--default-icon-size)}.excalidraw .App-top-bar{z-index:var(--zIndex-layerUI);display:flex;flex-direction:column;align-items:center}.excalidraw .App-bottom-bar{position:absolute;top:0;bottom:0;left:0;right:0;--bar-padding: calc(4 * var(--space-factor));padding-top:max(var(--bar-padding), var(--sat,0));padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0);z-index:4;display:flex;align-items:flex-end;pointer-events:none}.excalidraw .App-bottom-bar>.Island{width:100%;max-width:100%;min-width:100%;box-sizing:border-box;max-height:100%;display:flex;flex-direction:column;pointer-events:var(--ui-pointerEvents)}.excalidraw .App-bottom-bar>.Island .panelColumn{padding:8px 8px 0 8px}.excalidraw .App-toolbar{width:100%}.excalidraw .App-toolbar .eraser.ToolIcon:hover{--icon-fill-color: #fff;--keybinding-color: #fff}.excalidraw .App-toolbar .eraser.active{background-color:var(--color-primary)}.excalidraw .App-toolbar-content{display:flex;align-items:center;justify-content:space-between;padding:8px}.excalidraw .App-toolbar-content .dropdown-menu--mobile{bottom:55px;top:auto}.excalidraw .App-mobile-menu{width:100%;overflow-x:visible;overflow-y:auto;box-sizing:border-box;margin-bottom:var(--bar-padding)}.excalidraw .App-menu{display:grid;color:var(--icon-fill-color)}.excalidraw .shapes-section{display:flex;justify-content:center;pointer-events:none !important}.excalidraw .shapes-section>*{pointer-events:var(--ui-pointerEvents)}.excalidraw .App-menu_top{grid-template-columns:1fr 2fr 1fr;grid-gap:2rem;align-items:flex-start;cursor:default;pointer-events:none !important}.excalidraw .App-menu_top>*{pointer-events:var(--ui-pointerEvents)}@media(min-width: 1536px){.excalidraw .App-menu_top{grid-template-columns:1fr 1fr 1fr;grid-gap:3rem}}.excalidraw .App-menu_top>*:first-child{justify-self:flex-start}.excalidraw .App-menu_top>*:last-child{justify-self:flex-end}.excalidraw .App-menu_bottom{position:absolute;bottom:1rem;display:flex;justify-content:space-between;align-items:flex-start;cursor:default;pointer-events:none !important;box-sizing:border-box;padding:0 1rem}.excalidraw .App-menu_bottom--transition-left section{width:185px}.excalidraw .App-menu_bottom section{display:flex}.excalidraw .App-menu_bottom>*:first-child{justify-self:flex-start}.excalidraw .App-menu_bottom>*:last-child{justify-self:flex-end}.excalidraw .App-menu_left{grid-template-rows:1fr auto 1fr;height:100%}.excalidraw .App-menu_right{grid-template-rows:1fr;height:100%}.excalidraw .App-menu__left{overflow-y:auto;padding:.75rem;width:202px;box-sizing:border-box;position:absolute}.excalidraw .dropdown-select{height:1.5rem;padding:0;-webkit-padding-start:.5rem;padding-inline-start:.5rem;-webkit-padding-end:1.5rem;padding-inline-end:1.5rem;color:var(--icon-fill-color);background-color:var(--button-gray-1);border-radius:var(--space-factor);border:1px solid var(--button-gray-2);font-size:.8rem;font-family:inherit;outline:none;-webkit-appearance:none;appearance:none;background-image:var(--dropdown-icon);background-repeat:no-repeat;background-position:right .7rem top 50%,0 0;background-size:.65em auto,100%}:root[dir=rtl] .excalidraw .dropdown-select{background-position:left .7rem top 50%,0 0}.excalidraw .dropdown-select:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .dropdown-select:hover{background-color:var(--button-gray-2)}.excalidraw .dropdown-select:active{background-color:var(--button-gray-2)}.excalidraw .dropdown-select__language{height:2rem;background-color:var(--island-bg-color);border-color:var(--default-border-color) !important;cursor:pointer}.excalidraw .dropdown-select__language:hover{background-color:var(--island-bg-color)}.excalidraw .scroll-back-to-content{border-radius:var(--border-radius-lg);background-color:var(--island-bg-color);color:var(--icon-fill-color);border:1px solid var(--default-border-color);padding:10px 20px;position:absolute;left:50%;bottom:30px;-webkit-transform:translateX(-50%);transform:translateX(-50%);pointer-events:var(--ui-pointerEvents);font-family:inherit}.excalidraw .scroll-back-to-content:hover{background-color:var(--button-hover-bg)}.excalidraw .scroll-back-to-content:active{border:1px solid var(--button-active-border)}.excalidraw .help-icon{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--color-on-surface));border:none;box-shadow:0 0 0 1px var(--color-surface-lowest);background-color:var(--color-surface-low);width:var(--lg-button-size);height:var(--lg-button-size)}.excalidraw .help-icon svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .help-icon:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--button-border, var(--default-border-color)));color:var(--button-hover-color, var(--button-color, var(--text-primary-color, inherit)))}.excalidraw .help-icon:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .help-icon.active{background-color:var(--button-selected-bg, var(--color-surface-primary-container));border-color:var(--button-selected-border, var(--color-surface-primary-container))}.excalidraw .help-icon.active:hover{background-color:var(--button-selected-hover-bg, var(--color-surface-primary-container))}.excalidraw .help-icon.active svg{color:var(--button-color, var(--color-on-primary-container))}.excalidraw .help-icon:active{box-shadow:0 0 0 1px var(--color-brand-active)}.excalidraw .help-icon svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .reset-zoom-button{font-family:var(--ui-font)}.excalidraw .finalize-button{display:grid;grid-auto-flow:column;gap:.4em;margin-top:auto;margin-bottom:auto;-webkit-margin-start:.6em;margin-inline-start:.6em}.excalidraw .undo-redo-buttons,.excalidraw .eraser-buttons{display:grid;grid-auto-flow:column;margin-top:auto;margin-bottom:auto;-webkit-margin-start:.6em;margin-inline-start:.6em}.excalidraw--mobile.excalidraw aside{display:none}.excalidraw--mobile.excalidraw .scroll-back-to-content{bottom:calc(80px + var(--sab, 0));z-index:-1}:root[dir=rtl] .excalidraw .rtl-mirror{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.excalidraw .zen-mode-visibility{visibility:visible;opacity:1;height:auto;width:auto;transition:opacity .5s}.excalidraw .zen-mode-visibility.zen-mode-visibility--hidden{visibility:hidden;opacity:0;height:0;width:0;transition:opacity .5s}.excalidraw .disable-pointerEvents{pointer-events:none !important}.excalidraw.excalidraw--view-mode .App-menu{display:flex;justify-content:space-between}.excalidraw input[type=text],.excalidraw textarea:not(.excalidraw-wysiwyg){color:var(--text-primary-color);border:1.5px solid var(--input-border-color);padding:.75rem;white-space:nowrap;border-radius:var(--space-factor);background-color:var(--input-bg-color)}.excalidraw input[type=text]:not(:focus):hover,.excalidraw textarea:not(.excalidraw-wysiwyg):not(:focus):hover{border-color:var(--color-brand-hover)}.excalidraw input[type=text]:focus,.excalidraw textarea:not(.excalidraw-wysiwyg):focus{outline:none;border-color:var(--color-brand-hover)}@media print{.excalidraw .App-bottom-bar,.excalidraw .FixedSideContainer,.excalidraw .layer-ui__wrapper{display:none}}.excalidraw ::-webkit-scrollbar{width:3px;height:3px}.excalidraw select::-webkit-scrollbar{width:10px}.excalidraw ::-webkit-scrollbar-thumb{background:var(--scrollbar-thumb);border-radius:10px}.excalidraw ::-webkit-scrollbar-thumb:hover{background:var(--scrollbar-thumb-hover)}.excalidraw ::-webkit-scrollbar-thumb:active{background:var(--scrollbar-thumb)}.excalidraw .mobile-misc-tools-container{position:absolute;top:calc(5rem - var(--editor-container-padding));right:calc(var(--editor-container-padding)*-1);display:flex;flex-direction:column;border:1px solid var(--sidebar-border-color);border-top-left-radius:var(--border-radius-lg);border-bottom-left-radius:var(--border-radius-lg);border-right:0;overflow:hidden;background-color:var(--island-bg-color)}.excalidraw .mobile-misc-tools-container .ToolIcon__icon{width:2rem;height:2rem;border-radius:0}.excalidraw .mobile-misc-tools-container .default-sidebar-trigger{border:0}.excalidraw .App-toolbar--mobile{overflow:visible;max-width:98vw}.excalidraw .App-toolbar--mobile .ToolIcon__keybinding{display:none}.excalidraw .UserList-Wrapper{margin:0;padding:0;border:none;text-align:left}.excalidraw .UserList-Wrapper legend{display:block;font-size:.75rem;font-weight:400;margin:0 0 .25rem;padding:0}.excalidraw .main-menu-trigger{border:none;box-shadow:0 0 0 1px var(--color-surface-lowest);background-color:var(--color-surface-low)}.excalidraw .main-menu-trigger:active{box-shadow:0 0 0 1px var(--color-brand-active)}.excalidraw .App-menu__left{--button-border: transparent;--button-bg: var(--color-surface-mid)}.excalidraw.theme--dark.excalidraw .App-menu__left{--button-hover-bg: #363541;--button-bg: var(--color-surface-high)}.ErrorSplash.excalidraw{min-height:100vh;padding:20px 0;overflow:auto;display:flex;align-items:center;justify-content:center;-webkit-user-select:text;user-select:text}.ErrorSplash.excalidraw .ErrorSplash-messageContainer{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;background-color:#ffe3e3;border:3px solid #c92a2a}.ErrorSplash.excalidraw .ErrorSplash-paragraph{margin:15px 0;max-width:600px}.ErrorSplash.excalidraw .ErrorSplash-paragraph.align-center{text-align:center}.ErrorSplash.excalidraw .bigger,.ErrorSplash.excalidraw .bigger button{font-size:1.1em}.ErrorSplash.excalidraw .smaller,.ErrorSplash.excalidraw .smaller button{font-size:.9em}.ErrorSplash.excalidraw .ErrorSplash-details{display:flex;flex-direction:column;align-items:flex-start}.ErrorSplash.excalidraw .ErrorSplash-details textarea{width:100%;margin:10px 0;font-family:"Cascadia";font-size:.8em}.excalidraw__embeddable-container .excalidraw__embeddable-container__inner{overflow:hidden;display:flex;align-items:center;justify-content:center;border-radius:var(--embeddable-radius)}.excalidraw__embeddable-container .excalidraw__embeddable__outer{width:100%;height:100%}.excalidraw__embeddable-container .excalidraw__embeddable__outer>*{border-radius:var(--embeddable-radius)}.excalidraw__embeddable-container .excalidraw__embeddable-hint{position:absolute;z-index:1;background:rgba(0,0,0,.5);padding:1rem 1.6rem;border-radius:12px;color:#fff;font-weight:bold;letter-spacing:.6px;font-family:"Assistant"}',""]),ue.Z=d},6464:function(We,ue,n){var r=n(8081),A=n.n(r),k=n(3645),b=n.n(k)()(A());b.push([We.id,"",""]),b.locals={themeFilter:"invert(93%) hue-rotate(180deg)",rightSidebarWidth:"302px"},ue.Z=b},5260:function(We,ue,n){var r=n(8081),A=n.n(r),k=n(3645),b=n.n(k)()(A());b.push([We.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw-hyperlinkContainer{display:flex;align-items:center;justify-content:space-between;position:absolute;box-shadow:0px 2px 4px 0 rgba(0,0,0,.3);z-index:100;background:var(--island-bg-color);border-radius:var(--border-radius-md);box-sizing:border-box;min-height:42px}.excalidraw-hyperlinkContainer-input,.excalidraw-hyperlinkContainer button{z-index:100}.excalidraw-hyperlinkContainer-input,.excalidraw-hyperlinkContainer-link{height:24px;padding:0 8px;line-height:24px;font-size:.9rem;font-weight:500;font-family:var(--ui-font)}.excalidraw-hyperlinkContainer-input{width:18rem;border:none;background-color:rgba(0,0,0,0);color:var(--text-primary-color);outline:none;border:none;box-shadow:none !important}.excalidraw-hyperlinkContainer-link{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:15rem}.excalidraw-hyperlinkContainer button{color:#228be6;background-color:rgba(0,0,0,0) !important;font-weight:500}.excalidraw-hyperlinkContainer button.excalidraw-hyperlinkContainer--remove{color:#c92a2a}.excalidraw-hyperlinkContainer--remove .ToolIcon__icon svg{color:#fa5252}.excalidraw-hyperlinkContainer .ToolIcon__icon{width:2rem;height:2rem}.excalidraw-hyperlinkContainer__buttons{flex:0 0 auto}",""]),ue.Z=b},3645:function(We){We.exports=function(ue){var n=[];return n.toString=function(){return this.map(function(r){var A="",k=r[5]!==void 0;return r[4]&&(A+="@supports (".concat(r[4],") {")),r[2]&&(A+="@media ".concat(r[2]," {")),k&&(A+="@layer".concat(r[5].length>0?" ".concat(r[5]):""," {")),A+=ue(r),k&&(A+="}"),r[2]&&(A+="}"),r[4]&&(A+="}"),A}).join("")},n.i=function(r,A,k,b,w){typeof r=="string"&&(r=[[null,r,void 0]]);var N={};if(k)for(var M=0;M<this.length;M++){var f=this[M][0];f!=null&&(N[f]=!0)}for(var d=0;d<r.length;d++){var j=[].concat(r[d]);k&&N[j[0]]||(w!==void 0&&(j[5]===void 0||(j[1]="@layer".concat(j[5].length>0?" ".concat(j[5]):""," {").concat(j[1],"}")),j[5]=w),A&&(j[2]&&(j[1]="@media ".concat(j[2]," {").concat(j[1],"}")),j[2]=A),b&&(j[4]?(j[1]="@supports (".concat(j[4],") {").concat(j[1],"}"),j[4]=b):j[4]="".concat(b)),n.push(j))}},n}},1667:function(We){We.exports=function(ue,n){return n||(n={}),ue&&(ue=String(ue.__esModule?ue.default:ue),/^['"].*['"]$/.test(ue)&&(ue=ue.slice(1,-1)),n.hash&&(ue+=n.hash),/["'() \t\n]|(%20)/.test(ue)||n.needQuotes?'"'.concat(ue.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):ue)}},8081:function(We){We.exports=function(ue){return ue[1]}},7392:function(We,ue,n){n.d(ue,{JQ:function(){return Se},vD:function(){return ve},y7:function(){return q}});var r=n(1930),A=n(7169),k=n(9937),b=n(7651),w=n(583),N=n(4761),M=n(3474),f=n(4183),d=n(9827),j=n(2767);function L(ge,J){var Q=typeof Symbol<"u"&&ge[Symbol.iterator]||ge["@@iterator"];if(!Q){if(Array.isArray(ge)||(Q=function(E,v){if(E){if(typeof E=="string")return H(E,v);var i=Object.prototype.toString.call(E).slice(8,-1);if(i==="Object"&&E.constructor&&(i=E.constructor.name),i==="Map"||i==="Set")return Array.from(E);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return H(E,v)}}(ge))||J){Q&&(ge=Q);var K=0,T=function(){};return{s:T,n:function(){return K>=ge.length?{done:!0}:{done:!1,value:ge[K++]}},e:function(E){throw E},f:T}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var B,O=!0,R=!1;return{s:function(){Q=Q.call(ge)},n:function(){var E=Q.next();return O=E.done,E},e:function(E){R=!0,B=E},f:function(){try{O||Q.return==null||Q.return()}finally{if(R)throw B}}}}function H(ge,J){(J==null||J>ge.length)&&(J=ge.length);for(var Q=0,K=new Array(J);Q<J;Q++)K[Q]=ge[Q];return K}function x(ge,J){var Q=Object.keys(ge);if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(ge);J&&(K=K.filter(function(T){return Object.getOwnPropertyDescriptor(ge,T).enumerable})),Q.push.apply(Q,K)}return Q}function S(ge){for(var J=1;J<arguments.length;J++){var Q=arguments[J]!=null?arguments[J]:{};J%2?x(Object(Q),!0).forEach(function(K){(0,A.Z)(ge,K,Q[K])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ge,Object.getOwnPropertyDescriptors(Q)):x(Object(Q)).forEach(function(K){Object.defineProperty(ge,K,Object.getOwnPropertyDescriptor(Q,K))})}return ge}var q=(0,j.z)({name:"unbindText",contextItemLabel:"labels.unbindText",trackEvent:{category:"element"},predicate:function(ge,J,Q,K){return K.scene.getSelectedElements(J).some(function(T){return(0,f.Xo)(T)})},perform:function(ge,J,Q,K){return K.scene.getSelectedElements(J).forEach(function(T){var B=(0,N.WJ)(T);if(B){var O,R=(0,N.X1)(B.originalText,(0,d.mO)(B),B.lineHeight),E=R.width,v=R.height,i=R.baseline,a=(0,M.eR)(T.id);(0,M.kT)(T.id);var y=(0,N.FE)(T,B),h=y.x,m=y.y;(0,w.DR)(B,{containerId:null,width:E,height:v,baseline:i,text:B.originalText,x:h,y:m}),(0,w.DR)(T,{boundElements:(O=T.boundElements)===null||O===void 0?void 0:O.filter(function(C){return C.id!==B.id}),height:a||T.height})}}),{elements:ge,appState:J,commitToHistory:!0}}}),ve=(0,j.z)({name:"bindText",contextItemLabel:"labels.bindText",trackEvent:{category:"element"},predicate:function(ge,J,Q,K){var T=K.scene.getSelectedElements(J);if(T.length===2){var B,O=(0,b.iB)(T[0])||(0,b.iB)(T[1]);if((0,f.mG)(T[0])?B=T[0]:(0,f.mG)(T[1])&&(B=T[1]),O&&B&&(0,N.WJ)(B)===null)return!0}return!1},perform:function(ge,J,Q,K){var T,B,O=K.scene.getSelectedElements(J);(0,b.iB)(O[0])&&(0,f.mG)(O[1])?(T=O[0],B=O[1]):(T=O[1],B=O[0]),(0,w.DR)(T,{containerId:B.id,verticalAlign:k.oX.MIDDLE,textAlign:k.I8.CENTER}),(0,w.DR)(B,{boundElements:(B.boundElements||[]).concat({type:"text",id:T.id})});var R=B.height;return(0,N.oN)(T,B),(0,M.h_)(B.id,R),{elements:ke(ge,B,T),appState:S(S({},J),{},{selectedElementIds:(0,A.Z)({},B.id,!0)}),commitToHistory:!0}}}),ke=function(ge,J,Q){var K=ge.slice(),T=K.findIndex(function(O){return O.id===Q.id});K.splice(T,1);var B=K.findIndex(function(O){return O.id===J.id});return K.splice(B+1,0,Q),K},Se=(0,j.z)({name:"wrapTextInContainer",contextItemLabel:"labels.createContainerFromText",trackEvent:{category:"element"},predicate:function(ge,J,Q,K){var T=K.scene.getSelectedElements(J),B=T.every(function(O){return(0,b.iB)(O)});return T.length>0&&B},perform:function(ge,J,Q,K){var T,B=K.scene.getSelectedElements(J),O=ge.slice(),R={},E=L(B);try{var v=function(){var i=T.value;if((0,b.iB)(i)){var a,y=(0,b.Up)({type:"rectangle",backgroundColor:J.currentItemBackgroundColor,boundElements:[].concat((0,r.Z)(i.boundElements||[]),[{id:i.id,type:"text"}]),angle:i.angle,fillStyle:J.currentItemFillStyle,strokeColor:J.currentItemStrokeColor,roughness:J.currentItemRoughness,strokeWidth:J.currentItemStrokeWidth,strokeStyle:J.currentItemStrokeStyle,roundness:J.currentItemRoundness==="round"?{type:(0,f.QI)("rectangle")?k.a6.ADAPTIVE_RADIUS:k.a6.PROPORTIONAL_RADIUS}:null,opacity:100,locked:!1,x:i.x-k.gK,y:i.y-k.gK,width:(0,N.NS)(i.width,"rectangle"),height:(0,N.NS)(i.height,"rectangle"),groupIds:i.groupIds,frameId:i.frameId});if((a=i.boundElements)!==null&&a!==void 0&&a.length){var h=i.boundElements.filter(function(m){return m.type==="arrow"}).map(function(m){return m.id});O.filter(function(m){return h.includes(m.id)}).forEach(function(m){var C,U,V=m.startBinding,D=m.endBinding;((C=V)===null||C===void 0?void 0:C.elementId)===i.id&&(V=S(S({},V),{},{elementId:y.id})),((U=D)===null||U===void 0?void 0:U.elementId)===i.id&&(D=S(S({},D),{},{elementId:y.id})),(V||D)&&(0,w.DR)(m,{startBinding:V,endBinding:D},!1)})}(0,w.DR)(i,{containerId:y.id,verticalAlign:k.oX.MIDDLE,boundElements:null,textAlign:k.I8.CENTER},!1),(0,N.oN)(i,y),O=function(m,C,U){var V=m.slice(),D=V.findIndex(function(F){return F.id===C.id});V.splice(D,1);var P=V.findIndex(function(F){return F.id===U.id});return V.splice(P,0,C),V}([].concat((0,r.Z)(O),[y]),y,i),R[y.id]=!0}};for(E.s();!(T=E.n()).done;)v()}catch(i){E.e(i)}finally{E.f()}return{elements:O,appState:S(S({},J),{},{selectedElementIds:R}),commitToHistory:!0}}})},6006:function(We,ue,n){n.d(ue,{CZ:function(){return O},JB:function(){return R},Lo:function(){return B},Zp:function(){return E},eF:function(){return v},mo:function(){return T}});var r=n(2577),A=n(7169),k=n(193),b=n(8935),w=n(1512),N=n(9937),M=n(7651),f=n(8227),d=n(5491),j=n(4105),L=n(2382),H=n(4116),x=n(9827),S=n(2767),q=n(8925),ve=n(583),ke=n(6853),Se=n(9240),ge=n(7652),J=n(4512);function Q(i,a){var y=Object.keys(i);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(i);a&&(h=h.filter(function(m){return Object.getOwnPropertyDescriptor(i,m).enumerable})),y.push.apply(y,h)}return y}function K(i){for(var a=1;a<arguments.length;a++){var y=arguments[a]!=null?arguments[a]:{};a%2?Q(Object(y),!0).forEach(function(h){(0,A.Z)(i,h,y[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(y)):Q(Object(y)).forEach(function(h){Object.defineProperty(i,h,Object.getOwnPropertyDescriptor(y,h))})}return i}(0,S.z)({name:"changeViewBackgroundColor",trackEvent:!1,predicate:function(i,a,y,h){return!!h.props.UIOptions.canvasActions.changeViewBackgroundColor&&!a.viewModeEnabled},perform:function(i,a,y){return{appState:K(K({},a),y),commitToHistory:!!y.viewBackgroundColor}},PanelComponent:function(i){var a=i.elements,y=i.appState,h=i.updateData;return i.appProps,(0,J.jsx)(k.z,{palette:null,topPicks:Se.ay,label:(0,f.t)("labels.canvasBackground"),type:"canvasBackground",color:y.viewBackgroundColor,onChange:function(m){return h({viewBackgroundColor:m})},"data-testid":"canvas-background-picker",elements:a,appState:y,updateData:h})}});var T=(0,S.z)({name:"clearCanvas",trackEvent:{category:"canvas"},predicate:function(i,a,y,h){return!!h.props.UIOptions.canvasActions.clearCanvas&&!a.viewModeEnabled},perform:function(i,a,y,h){return h.imageCache.clear(),{elements:i.map(function(m){return(0,ve.BE)(m,{isDeleted:!0})}),appState:K(K({},(0,ke.im)()),{},{files:{},theme:a.theme,penMode:a.penMode,penDetected:a.penDetected,exportBackground:a.exportBackground,exportEmbedScene:a.exportEmbedScene,gridSize:a.gridSize,showStats:a.showStats,pasteDialog:a.pasteDialog,activeTool:a.activeTool.type==="image"?K(K({},a.activeTool),{},{type:"selection"}):a.activeTool}),commitToHistory:!0}}}),B=(0,S.z)({name:"zoomIn",viewMode:!0,trackEvent:{category:"canvas"},perform:function(i,a,y,h){return{appState:K(K({},a),(0,H.E)({viewportX:a.width/2+a.offsetLeft,viewportY:a.height/2+a.offsetTop,nextZoom:(0,j.j)(a.zoom.value+N.V4)},a)),commitToHistory:!1}},PanelComponent:function(i){var a=i.updateData;return(0,J.jsx)(w.V,{type:"button",className:"zoom-in-button zoom-button",icon:b.Sd,title:"".concat((0,f.t)("buttons.zoomIn")," — ").concat((0,x.uY)("CtrlOrCmd++")),"aria-label":(0,f.t)("buttons.zoomIn"),onClick:function(){a(null)}})},keyTest:function(i){return(i.code===d.aU.EQUAL||i.code===d.aU.NUM_ADD)&&(i[d.tW.CTRL_OR_CMD]||i.shiftKey)}}),O=(0,S.z)({name:"zoomOut",viewMode:!0,trackEvent:{category:"canvas"},perform:function(i,a,y,h){return{appState:K(K({},a),(0,H.E)({viewportX:a.width/2+a.offsetLeft,viewportY:a.height/2+a.offsetTop,nextZoom:(0,j.j)(a.zoom.value-N.V4)},a)),commitToHistory:!1}},PanelComponent:function(i){var a=i.updateData;return(0,J.jsx)(w.V,{type:"button",className:"zoom-out-button zoom-button",icon:b.xL,title:"".concat((0,f.t)("buttons.zoomOut")," — ").concat((0,x.uY)("CtrlOrCmd+-")),"aria-label":(0,f.t)("buttons.zoomOut"),onClick:function(){a(null)}})},keyTest:function(i){return(i.code===d.aU.MINUS||i.code===d.aU.NUM_SUBTRACT)&&(i[d.tW.CTRL_OR_CMD]||i.shiftKey)}}),R=((0,S.z)({name:"resetZoom",viewMode:!0,trackEvent:{category:"canvas"},perform:function(i,a,y,h){return{appState:K(K({},a),(0,H.E)({viewportX:a.width/2+a.offsetLeft,viewportY:a.height/2+a.offsetTop,nextZoom:(0,j.j)(1)},a)),commitToHistory:!1}},PanelComponent:function(i){var a=i.updateData,y=i.appState;return(0,J.jsx)(q.u,{label:(0,f.t)("buttons.resetZoom"),style:{height:"100%"},children:(0,J.jsxs)(w.V,{type:"button",className:"reset-zoom-button zoom-button",title:(0,f.t)("buttons.resetZoom"),"aria-label":(0,f.t)("buttons.resetZoom"),onClick:function(){a(null)},children:[(100*y.zoom.value).toFixed(0),"%"]})})},keyTest:function(i){return(i.code===d.aU.ZERO||i.code===d.aU.NUM_ZERO)&&(i[d.tW.CTRL_OR_CMD]||i.shiftKey)}}),function(i){var a,y,h,m=i.targetElements,C=i.appState,U=i.fitToViewport,V=U!==void 0&&U,D=i.viewportZoomFactor,P=D===void 0?.7:D,F=(0,M.KP)((0,M.Lm)(m)),X=(0,r.Z)(F,4),le=X[0],de=X[1],fe=X[2],pe=X[3],ne=(le+fe)/2,oe=(de+pe)/2;if(V){var be=fe-le,Me=pe-de;a=Math.min(C.width/be,C.height/Me)*Math.min(1,Math.max(P,.1)),a=Math.min(Math.max(a,.1),30),y=C.width/2*(1/a)-ne,h=C.height/2*(1/a)-oe}else{a=function(qe,Ne){var Pe=(0,r.Z)(qe,4),Re=Pe[0],Ze=Pe[1],Ie=Pe[2],Ee=Pe[3],xe=Ie-Re,Z=Ne.width/xe,u=Ee-Ze,g=Ne.height/u,z=Math.min(Z,g),Y=Math.floor(z/N.V4)*N.V4;return Math.min(Math.max(Y,N.Zj),1)}(F,{width:C.width,height:C.height});var Ge=(0,L.s)({scenePoint:{x:ne,y:oe},viewportDimensions:{width:C.width,height:C.height},zoom:{value:a}});y=Ge.scrollX,h=Ge.scrollY}return{appState:K(K({},C),{},{scrollX:y,scrollY:h,zoom:{value:a}}),commitToHistory:!1}}),E=((0,S.z)({name:"zoomToFitSelectionInViewport",trackEvent:{category:"canvas"},perform:function(i,a,y,h){var m=h.scene.getSelectedElements(a);return R({targetElements:m.length?m:i,appState:a,fitToViewport:!1})},keyTest:function(i){return i.code===d.aU.TWO&&i.shiftKey&&!i.altKey&&!i[d.tW.CTRL_OR_CMD]}}),(0,S.z)({name:"zoomToFitSelection",trackEvent:{category:"canvas"},perform:function(i,a,y,h){var m=h.scene.getSelectedElements(a);return R({targetElements:m.length?m:i,appState:a,fitToViewport:!0})},keyTest:function(i){return i.code===d.aU.THREE&&i.shiftKey&&!i.altKey&&!i[d.tW.CTRL_OR_CMD]}}),(0,S.z)({name:"zoomToFit",viewMode:!0,trackEvent:{category:"canvas"},perform:function(i,a){return R({targetElements:i,appState:a,fitToViewport:!1})},keyTest:function(i){return i.code===d.aU.ONE&&i.shiftKey&&!i.altKey&&!i[d.tW.CTRL_OR_CMD]}}),(0,S.z)({name:"toggleTheme",viewMode:!0,trackEvent:{category:"canvas"},perform:function(i,a,y){return{appState:K(K({},a),{},{theme:y||(a.theme===N.C6.LIGHT?N.C6.DARK:N.C6.LIGHT)}),commitToHistory:!1}},keyTest:function(i){return i.altKey&&i.shiftKey&&i.code===d.aU.D},predicate:function(i,a,y,h){return!!h.props.UIOptions.canvasActions.toggleTheme}})),v=((0,S.z)({name:"toggleEraserTool",trackEvent:{category:"toolbar"},perform:function(i,a){var y;return y=(0,ke.EN)(a)?(0,x.Om)(a,K(K({},a.activeTool.lastActiveTool||{type:"selection"}),{},{lastActiveToolBeforeEraser:null})):(0,x.Om)(a,{type:"eraser",lastActiveToolBeforeEraser:a.activeTool}),{appState:K(K({},a),{},{selectedElementIds:{},selectedGroupIds:{},activeEmbeddable:null,activeTool:y}),commitToHistory:!0}},keyTest:function(i){return i.key===d.tW.E}}),(0,S.z)({name:"toggleHandTool",trackEvent:{category:"toolbar"},perform:function(i,a,y,h){var m;return(0,ke.l$)(a)?m=(0,x.Om)(a,K(K({},a.activeTool.lastActiveTool||{type:"selection"}),{},{lastActiveToolBeforeEraser:null})):(m=(0,x.Om)(a,{type:"hand",lastActiveToolBeforeEraser:a.activeTool}),(0,ge.KJ)(h.interactiveCanvas,N.oc.GRAB)),{appState:K(K({},a),{},{selectedElementIds:{},selectedGroupIds:{},activeEmbeddable:null,activeTool:m}),commitToHistory:!0}},keyTest:function(i){return!i.altKey&&!i[d.tW.CTRL_OR_CMD]&&i.key===d.tW.H}}))},5047:function(We,ue,n){n.d(ue,{FA:function(){return K},ZM:function(){return Q},jK:function(){return T},uN:function(){return ge},yQ:function(){return J},zp:function(){return B}});var r=n(7169),A=n(8950),k=n(2975),b=n.n(k),w=n(5491),N=n(2767),M=n(4694),f=n(2448),d=n(2435),j=n(7651),L=n(8227),H=n(9937);function x(O,R){var E=Object.keys(O);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(O);R&&(v=v.filter(function(i){return Object.getOwnPropertyDescriptor(O,i).enumerable})),E.push.apply(E,v)}return E}function S(O){for(var R=1;R<arguments.length;R++){var E=arguments[R]!=null?arguments[R]:{};R%2?x(Object(E),!0).forEach(function(v){(0,r.Z)(O,v,E[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(E)):x(Object(E)).forEach(function(v){Object.defineProperty(O,v,Object.getOwnPropertyDescriptor(E,v))})}return O}var q,ve,ke,Se,ge=(0,N.z)({name:"copy",trackEvent:{category:"element"},perform:(q=(0,A.Z)(b().mark(function O(R,E,v,i){var a;return b().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return a=i.scene.getSelectedElements({selectedElementIds:E.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0}),y.prev=1,y.next=4,(0,M.vQ)(a,i.files,v);case 4:y.next=9;break;case 6:return y.prev=6,y.t0=y.catch(1),y.abrupt("return",{commitToHistory:!1,appState:S(S({},E),{},{errorMessage:y.t0.message})});case 9:return y.abrupt("return",{commitToHistory:!1});case 10:case"end":return y.stop()}},O,null,[[1,6]])})),function(O,R,E,v){return q.apply(this,arguments)}),contextItemLabel:"labels.copy",keyTest:void 0}),J=(0,N.z)({name:"paste",trackEvent:{category:"element"},perform:(ve=(0,A.Z)(b().mark(function O(R,E,v,i){var a;return b().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.prev=0,y.next=3,(0,M.Se)();case 3:a=y.sent,y.next=14;break;case 6:if(y.prev=6,y.t0=y.catch(0),y.t0.name!=="AbortError"&&y.t0.name!=="NotAllowedError"){y.next=10;break}return y.abrupt("return",!1);case 10:if(console.error("actionPaste ".concat(y.t0.name,": ").concat(y.t0.message)),!H.vU){y.next=13;break}return y.abrupt("return",{commitToHistory:!1,appState:S(S({},E),{},{errorMessage:(0,L.t)("hints.firefox_clipboard_write")})});case 13:return y.abrupt("return",{commitToHistory:!1,appState:S(S({},E),{},{errorMessage:(0,L.t)("errors.asyncPasteFailedOnRead")})});case 14:y.prev=14,i.pasteFromClipboard((0,M.OO)({types:a})),y.next=22;break;case 18:return y.prev=18,y.t1=y.catch(14),console.error(y.t1),y.abrupt("return",{commitToHistory:!1,appState:S(S({},E),{},{errorMessage:(0,L.t)("errors.asyncPasteFailedOnParse")})});case 22:return y.abrupt("return",{commitToHistory:!1});case 23:case"end":return y.stop()}},O,null,[[0,6],[14,18]])})),function(O,R,E,v){return ve.apply(this,arguments)}),contextItemLabel:"labels.paste",keyTest:void 0}),Q=(0,N.z)({name:"cut",trackEvent:{category:"element"},perform:function(O,R,E,v){return ge.perform(O,R,E,v),f.X.perform(O,R)},contextItemLabel:"labels.cut",keyTest:function(O){return O[w.tW.CTRL_OR_CMD]&&O.key===w.tW.X}}),K=(0,N.z)({name:"copyAsSvg",trackEvent:{category:"element"},perform:(ke=(0,A.Z)(b().mark(function O(R,E,v,i){var a,y,h;return b().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(i.canvas){m.next=2;break}return m.abrupt("return",{commitToHistory:!1});case 2:return a=(0,d.HD)(R,E,!0),y=a.exportedElements,h=a.exportingFrame,m.prev=3,m.next=6,(0,d.p1)("clipboard-svg",y,E,i.files,S(S({},E),{},{exportingFrame:h}));case 6:return m.abrupt("return",{commitToHistory:!1});case 9:return m.prev=9,m.t0=m.catch(3),console.error(m.t0),m.abrupt("return",{appState:S(S({},E),{},{errorMessage:m.t0.message}),commitToHistory:!1});case 13:case"end":return m.stop()}},O,null,[[3,9]])})),function(O,R,E,v){return ke.apply(this,arguments)}),predicate:function(O){return M.wx&&O.length>0},contextItemLabel:"labels.copyAsSvg"}),T=(0,N.z)({name:"copyAsPng",trackEvent:{category:"element"},perform:(Se=(0,A.Z)(b().mark(function O(R,E,v,i){var a,y,h,m;return b().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(i.canvas){C.next=2;break}return C.abrupt("return",{commitToHistory:!1});case 2:return a=i.scene.getSelectedElements({selectedElementIds:E.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0}),y=(0,d.HD)(R,E,!0),h=y.exportedElements,m=y.exportingFrame,C.prev=4,C.next=7,(0,d.p1)("clipboard",h,E,i.files,S(S({},E),{},{exportingFrame:m}));case 7:return C.abrupt("return",{appState:S(S({},E),{},{toast:{message:(0,L.t)("toast.copyToClipboardAsPng",{exportSelection:a.length?(0,L.t)("toast.selection"):(0,L.t)("toast.canvas"),exportColorScheme:E.exportWithDarkMode?(0,L.t)("buttons.darkMode"):(0,L.t)("buttons.lightMode")})}}),commitToHistory:!1});case 10:return C.prev=10,C.t0=C.catch(4),console.error(C.t0),C.abrupt("return",{appState:S(S({},E),{},{errorMessage:C.t0.message}),commitToHistory:!1});case 14:case"end":return C.stop()}},O,null,[[4,10]])})),function(O,R,E,v){return Se.apply(this,arguments)}),predicate:function(O){return M.vt&&O.length>0},contextItemLabel:"labels.copyAsPng",keyTest:function(O){return O.code===w.aU.C&&O.altKey&&O.shiftKey}}),B=(0,N.z)({name:"copyText",trackEvent:{category:"element"},perform:function(O,R,E,v){var i=v.scene.getSelectedElements({selectedElementIds:R.selectedElementIds,includeBoundTextElement:!0}).reduce(function(a,y){return(0,j.iB)(y)&&a.push(y.text),a},[]).join(`

`);return(0,M.dd)(i),{commitToHistory:!1}},predicate:function(O,R,E,v){return M.wx&&v.scene.getSelectedElements({selectedElementIds:R.selectedElementIds,includeBoundTextElement:!0}).some(j.iB)},contextItemLabel:"labels.copyText"})},2448:function(We,ue,n){n.d(ue,{X:function(){return ge}});var r=n(7169),A=n(4105),k=n(5491),b=n(1512),w=n(8227),N=n(2767),M=n(7651),f=n(583),d=n(9215),j=n(7422),L=n(9645),H=n(4183),x=n(9827),S=n(8935),q=n(4512);function ve(J,Q){var K=Object.keys(J);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(J);Q&&(T=T.filter(function(B){return Object.getOwnPropertyDescriptor(J,B).enumerable})),K.push.apply(K,T)}return K}function ke(J){for(var Q=1;Q<arguments.length;Q++){var K=arguments[Q]!=null?arguments[Q]:{};Q%2?ve(Object(K),!0).forEach(function(T){(0,r.Z)(J,T,K[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(J,Object.getOwnPropertyDescriptors(K)):ve(Object(K)).forEach(function(T){Object.defineProperty(J,T,Object.getOwnPropertyDescriptor(K,T))})}return J}var Se=function(J,Q){if(J.editingGroupId){var K=(0,d.Fb)((0,M.Lm)(Q),J.editingGroupId);if(K.length)return ke(ke({},J),{},{selectedElementIds:(0,r.Z)({},K[0].id,!0)})}return J},ge=(0,N.z)({name:"deleteSelectedElements",trackEvent:{category:"element",action:"delete"},perform:function(J,Q){if(Q.editingLinearElement){var K=Q.editingLinearElement,T=K.elementId,B=K.selectedPointsIndices,O=K.startBindingElement,R=K.endBindingElement,E=j._.getElement(T);if(!E||B==null)return!1;if(E.points.length<2){var v=J.map(function(m){return m.id===E.id?(0,f.BE)(m,{isDeleted:!0}):m});return{elements:v,appState:ke(ke({},Se(Q,v)),{},{editingLinearElement:null}),commitToHistory:!1}}var i={startBindingElement:B!=null&&B.includes(0)?null:O,endBindingElement:B!=null&&B.includes(E.points.length-1)?null:R};return j._.deletePoints(E,B),{elements:J,appState:ke(ke({},Q),{},{editingLinearElement:ke(ke(ke({},Q.editingLinearElement),i),{},{selectedPointsIndices:(B==null?void 0:B[0])>0?[B[0]-1]:[0]})}),commitToHistory:!0}}var a=function(m,C){var U=new Set((0,A.eD)(m.filter(function(V){return V.type==="frame"}),C).map(function(V){return V.id}));return{elements:m.map(function(V){return C.selectedElementIds[V.id]||V.frameId&&U.has(V.frameId)||(0,H.Xh)(V)&&C.selectedElementIds[V.containerId]?(0,f.BE)(V,{isDeleted:!0}):V}),appState:ke(ke({},C),{},{selectedElementIds:{},selectedGroupIds:{}})}}(J,Q),y=a.elements,h=a.appState;return(0,L.$q)(y,J.filter(function(m){var C=m.id;return Q.selectedElementIds[C]})),{elements:y,appState:ke(ke({},h=Se(h,y)),{},{activeTool:(0,x.Om)(Q,{type:"selection"}),multiElement:null,activeEmbeddable:null}),commitToHistory:(0,A.N)((0,M.Lm)(J),Q)}},contextItemLabel:"labels.delete",keyTest:function(J,Q,K){return(J.key===k.tW.BACKSPACE||J.key===k.tW.DELETE)&&!J[k.tW.CTRL_OR_CMD]},PanelComponent:function(J){var Q=J.elements,K=J.appState,T=J.updateData;return(0,q.jsx)(b.V,{type:"button",icon:S.XH,title:(0,w.t)("labels.delete"),"aria-label":(0,w.t)("labels.delete"),onClick:function(){return T(null)},visible:(0,A.N)((0,M.Lm)(Q),K)})}})},9672:function(We,ue,n){n.d(ue,{$:function(){return d},U:function(){return j}});var r=n(7169),A=n(583),k=n(5491),b=n(9827),w=n(2767);function N(L,H){var x=Object.keys(L);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(L);H&&(S=S.filter(function(q){return Object.getOwnPropertyDescriptor(L,q).enumerable})),x.push.apply(x,S)}return x}function M(L){for(var H=1;H<arguments.length;H++){var x=arguments[H]!=null?arguments[H]:{};H%2?N(Object(x),!0).forEach(function(S){(0,r.Z)(L,S,x[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(x)):N(Object(x)).forEach(function(S){Object.defineProperty(L,S,Object.getOwnPropertyDescriptor(x,S))})}return L}var f=function(L){return L.every(function(H){return!H.locked})},d=(0,w.z)({name:"toggleElementLock",trackEvent:{category:"element"},predicate:function(L,H,x,S){return!S.scene.getSelectedElements(H).some(function(q){return q.locked&&q.frameId})},perform:function(L,H,x,S){var q=S.scene.getSelectedElements({selectedElementIds:H.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0});if(!q.length)return!1;var ve=f(q),ke=(0,b.xn)(q);return{elements:L.map(function(Se){return ke.has(Se.id)?(0,A.BE)(Se,{locked:ve}):Se}),appState:M(M({},H),{},{selectedLinearElement:ve?null:H.selectedLinearElement}),commitToHistory:!0}},contextItemLabel:function(L,H,x){var S=x.scene.getSelectedElements({selectedElementIds:H.selectedElementIds,includeBoundTextElement:!1});return S.length===1&&S[0].type!=="frame"?S[0].locked?"labels.elementLock.unlock":"labels.elementLock.lock":f(S)?"labels.elementLock.lockAll":"labels.elementLock.unlockAll"},keyTest:function(L,H,x,S){return L.key.toLocaleLowerCase()===k.tW.L&&L[k.tW.CTRL_OR_CMD]&&L.shiftKey&&S.scene.getSelectedElements({selectedElementIds:H.selectedElementIds,includeBoundTextElement:!1}).length>0}}),j=(0,w.z)({name:"unlockAllElements",trackEvent:{category:"canvas"},viewMode:!1,predicate:function(L){return L.some(function(H){return H.locked})},perform:function(L,H){var x=L.filter(function(S){return S.locked});return{elements:L.map(function(S){return S.locked?(0,A.BE)(S,{locked:!1}):S}),appState:M(M({},H),{},{selectedElementIds:Object.fromEntries(x.map(function(S){return[S.id,!0]}))}),commitToHistory:!0}},contextItemLabel:"labels.elementLock.unlockAll"})},4406:function(We,ue,n){n.d(ue,{XA:function(){return Re},Du:function(){return Ze},sK:function(){return Pe},zX:function(){return Ne},bJ:function(){return Z},_d:function(){return xe},mM:function(){return Ee},ns:function(){return Ie}});var r=n(8950),A=n(2577),k=n(7169),b=n(2975),w=n.n(b),N=n(8935),M=n(3379),f=n.n(M),d=n(7795),j=n.n(d),L=n(569),H=n.n(L),x=n(3565),S=n.n(x),q=n(9216),ve=n.n(q),ke=n(4589),Se=n.n(ke),ge=n(6759),J={};J.styleTagTransform=Se(),J.setAttributes=S(),J.insert=H().bind(null,"head"),J.domAPI=j(),J.insertStyleElement=ve(),f()(ge.Z,J),ge.Z&&ge.Z.locals&&ge.Z.locals;var Q=n(9787),K=n(9827),T=n(532),B={};B.styleTagTransform=Se(),B.setAttributes=S(),B.insert=H().bind(null,"head"),B.domAPI=j(),B.insertStyleElement=ve(),f()(T.Z,B),T.Z&&T.Z.locals&&T.Z.locals;var O=n(8242),R=n(5491),E=n(4512),v=function(u){var g=(0,O.J0)().id,z=(0,Q.useState)(u.value),Y=(0,A.Z)(z,2),te=Y[0],ae=Y[1];return(0,E.jsxs)("div",{className:"ProjectName",children:[(0,E.jsx)("label",{className:"ProjectName-label",htmlFor:"filename",children:"".concat(u.label).concat(u.isNameEditable?"":":")}),u.isNameEditable?(0,E.jsx)("input",{type:"text",className:"TextInput",onBlur:function(ce){u.ignoreFocus||(0,K.qz)(ce.target);var ye=ce.target.value;ye!==u.value&&u.onChange(ye)},onKeyDown:function(ce){if(ce.key===R.tW.ENTER){if(ce.preventDefault(),ce.nativeEvent.isComposing||ce.keyCode===229)return;ce.currentTarget.blur()}},id:"".concat(g,"-filename"),value:te,onChange:function(ce){return ae(ce.target.value)}}):(0,E.jsx)("span",{className:"TextInput TextInput--readonly",id:"".concat(g,"-filename"),children:u.value})]})},i=n(1512),a=n(8925),y=(n(3041),n(8227)),h=n(9937),m=function(u){var g=u.title||(u.value==="dark"?(0,y.t)("buttons.lightMode"):(0,y.t)("buttons.darkMode"));return(0,E.jsx)(i.V,{type:"icon",icon:u.value===h.C6.LIGHT?C.MOON:C.SUN,title:g,"aria-label":g,onClick:function(){return u.onChange(u.value===h.C6.DARK?h.C6.LIGHT:h.C6.DARK)},"data-testid":"toggle-dark-mode"})},C={SUN:(0,E.jsx)("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512",children:(0,E.jsx)("path",{fill:"currentColor",d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"})}),MOON:(0,E.jsx)("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512",children:(0,E.jsx)("path",{fill:"currentColor",d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"})})},U=n(2435),V=n(5796);function D(u,g){var z=Object.keys(u);if(Object.getOwnPropertySymbols){var Y=Object.getOwnPropertySymbols(u);g&&(Y=Y.filter(function(te){return Object.getOwnPropertyDescriptor(u,te).enumerable})),z.push.apply(z,Y)}return z}function P(u){for(var g=1;g<arguments.length;g++){var z=arguments[g]!=null?arguments[g]:{};g%2?D(Object(z),!0).forEach(function(Y){(0,k.Z)(u,Y,z[Y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(z)):D(Object(z)).forEach(function(Y){Object.defineProperty(u,Y,Object.getOwnPropertyDescriptor(z,Y))})}return u}var F=function(){var u=(0,r.Z)(w().mark(function g(z,Y,te){var ae,ce,ye,je,Be,Qe,rt,Ye,tt;return w().wrap(function(ht){for(;;)switch(ht.prev=ht.next){case 0:if(ce=(ae=Y).exportBackground,ye=ae.viewBackgroundColor,je=ae.name,Be=ae.fileHandle,Qe=(0,V.Qk)(Be),Be&&(0,V.DQ)(Qe)){ht.next=4;break}throw new Error("fileHandle should exist and should be of type svg or png when resaving");case 4:return Y=P(P({},Y),{},{exportEmbedScene:!0}),rt=(0,U.HD)(z,Y,!1),Ye=rt.exportedElements,tt=rt.exportingFrame,ht.next=8,(0,U.p1)(Qe,Ye,Y,te,{exportBackground:ce,viewBackgroundColor:ye,name:je,fileHandle:Be,exportingFrame:tt});case 8:return ht.abrupt("return",{fileHandle:Be});case 9:case"end":return ht.stop()}},g)}));return function(g,z,Y){return u.apply(this,arguments)}}(),X=n(2767),le=n(6238),de=n(3668),fe=n(4105),pe=n(7651),ne=n(6548);function oe(u,g){var z=Object.keys(u);if(Object.getOwnPropertySymbols){var Y=Object.getOwnPropertySymbols(u);g&&(Y=Y.filter(function(te){return Object.getOwnPropertyDescriptor(u,te).enumerable})),z.push.apply(z,Y)}return z}function be(u){for(var g=1;g<arguments.length;g++){var z=arguments[g]!=null?arguments[g]:{};g%2?oe(Object(z),!0).forEach(function(Y){(0,k.Z)(u,Y,z[Y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(z)):oe(Object(z)).forEach(function(Y){Object.defineProperty(u,Y,Object.getOwnPropertyDescriptor(z,Y))})}return u}var Me,Ge,qe,Ne=(0,X.z)({name:"changeProjectName",trackEvent:!1,perform:function(u,g,z){return{appState:be(be({},g),{},{name:z}),commitToHistory:!1}},PanelComponent:function(u){var g,z=u.appState,Y=u.updateData,te=u.appProps,ae=u.data;return(0,E.jsx)(v,{label:(0,y.t)("labels.fileTitle"),value:z.name||"Unnamed",onChange:function(ce){return Y(ce)},isNameEditable:te.name===void 0&&!z.viewModeEnabled,ignoreFocus:(g=ae==null?void 0:ae.ignoreFocus)!==null&&g!==void 0&&g})}}),Pe=(0,X.z)({name:"changeExportScale",trackEvent:{category:"export",action:"scale"},perform:function(u,g,z){return{appState:be(be({},g),{},{exportScale:z}),commitToHistory:!1}},PanelComponent:function(u){var g=u.elements,z=u.appState,Y=u.updateData,te=(0,pe.Lm)(g),ae=(0,fe.N)(te,z)?(0,fe.eD)(te,z):te;return(0,E.jsx)(E.Fragment,{children:h.ZB.map(function(ce){var ye=(0,de.Cg)(ae,h.qy,ce),je=(0,A.Z)(ye,2),Be=je[0],Qe=je[1],rt="".concat((0,y.t)("imageExportDialog.label.scale")," ").concat(ce,"x (").concat(Be,"x").concat(Qe,")");return(0,E.jsx)(i.V,{size:"small",type:"radio",icon:"".concat(ce,"x"),name:"export-canvas-scale",title:rt,"aria-label":rt,id:"export-canvas-scale",checked:ce===z.exportScale,onChange:function(){return Y(ce)}},ce)})})}}),Re=(0,X.z)({name:"changeExportBackground",trackEvent:{category:"export",action:"toggleBackground"},perform:function(u,g,z){return{appState:be(be({},g),{},{exportBackground:z}),commitToHistory:!1}},PanelComponent:function(u){var g=u.appState,z=u.updateData;return(0,E.jsx)(le.o,{checked:g.exportBackground,onChange:function(Y){return z(Y)},children:(0,y.t)("imageExportDialog.label.withBackground")})}}),Ze=(0,X.z)({name:"changeExportEmbedScene",trackEvent:{category:"export",action:"embedScene"},perform:function(u,g,z){return{appState:be(be({},g),{},{exportEmbedScene:z}),commitToHistory:!1}},PanelComponent:function(u){var g=u.appState,z=u.updateData;return(0,E.jsxs)(le.o,{checked:g.exportEmbedScene,onChange:function(Y){return z(Y)},children:[(0,y.t)("imageExportDialog.label.embedScene"),(0,E.jsx)(a.u,{label:(0,y.t)("imageExportDialog.tooltip.embedScene"),long:!0,children:(0,E.jsx)("div",{className:"excalidraw-tooltip-icon",children:N.Vl})})]})}}),Ie=(0,X.z)({name:"saveToActiveFile",trackEvent:{category:"export"},predicate:function(u,g,z,Y){return!!Y.props.UIOptions.canvasActions.saveToActiveFile&&!!g.fileHandle&&!g.viewModeEnabled},perform:(Me=(0,r.Z)(w().mark(function u(g,z,Y,te){var ae,ce,ye;return w().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:if(ae=!!z.fileHandle,je.prev=1,!(0,V.g8)(z.fileHandle)){je.next=8;break}return je.next=5,F(g,z,te.files);case 5:je.t0=je.sent,je.next=11;break;case 8:return je.next=10,(0,U.Um)(g,z,te.files);case 10:je.t0=je.sent;case 11:return ce=je.t0,ye=ce.fileHandle,je.abrupt("return",{commitToHistory:!1,appState:be(be({},z),{},{fileHandle:ye,toast:ae?{message:ye!=null&&ye.name?(0,y.t)("toast.fileSavedToFilename").replace("{filename}",'"'.concat(ye.name,'"')):(0,y.t)("toast.fileSaved")}:null})});case 16:return je.prev=16,je.t1=je.catch(1),(je.t1===null||je.t1===void 0?void 0:je.t1.name)!=="AbortError"?console.error(je.t1):console.warn(je.t1),je.abrupt("return",{commitToHistory:!1});case 20:case"end":return je.stop()}},u,null,[[1,16]])})),function(u,g,z,Y){return Me.apply(this,arguments)}),keyTest:function(u){return u.key===R.tW.S&&u[R.tW.CTRL_OR_CMD]&&!u.shiftKey}}),Ee=(0,X.z)({name:"saveFileToDisk",viewMode:!0,trackEvent:{category:"export"},perform:(Ge=(0,r.Z)(w().mark(function u(g,z,Y,te){var ae,ce;return w().wrap(function(ye){for(;;)switch(ye.prev=ye.next){case 0:return ye.prev=0,ye.next=3,(0,U.Um)(g,be(be({},z),{},{fileHandle:null}),te.files);case 3:return ae=ye.sent,ce=ae.fileHandle,ye.abrupt("return",{commitToHistory:!1,appState:be(be({},z),{},{openDialog:null,fileHandle:ce,toast:{message:(0,y.t)("toast.fileSaved")}})});case 8:return ye.prev=8,ye.t0=ye.catch(0),(ye.t0===null||ye.t0===void 0?void 0:ye.t0.name)!=="AbortError"?console.error(ye.t0):console.warn(ye.t0),ye.abrupt("return",{commitToHistory:!1});case 12:case"end":return ye.stop()}},u,null,[[0,8]])})),function(u,g,z,Y){return Ge.apply(this,arguments)}),keyTest:function(u){return u.key===R.tW.S&&u.shiftKey&&u[R.tW.CTRL_OR_CMD]},PanelComponent:function(u){var g=u.updateData;return(0,E.jsx)(i.V,{type:"button",icon:N.po,title:(0,y.t)("buttons.saveAs"),"aria-label":(0,y.t)("buttons.saveAs"),showAriaLabel:(0,O.Fy)().editor.isMobile,hidden:!ne.kr,onClick:function(){return g(null)},"data-testid":"save-as-button"})}}),xe=(0,X.z)({name:"loadScene",trackEvent:{category:"export"},predicate:function(u,g,z,Y){return!!Y.props.UIOptions.canvasActions.loadScene&&!g.viewModeEnabled},perform:(qe=(0,r.Z)(w().mark(function u(g,z,Y,te){var ae,ce,ye,je;return w().wrap(function(Be){for(;;)switch(Be.prev=Be.next){case 0:return Be.prev=0,Be.next=3,(0,U.n8)(z,g);case 3:return ae=Be.sent,ce=ae.elements,ye=ae.appState,je=ae.files,Be.abrupt("return",{elements:ce,appState:ye,files:je,commitToHistory:!0});case 10:if(Be.prev=10,Be.t0=Be.catch(0),(Be.t0===null||Be.t0===void 0?void 0:Be.t0.name)!=="AbortError"){Be.next=15;break}return console.warn(Be.t0),Be.abrupt("return",!1);case 15:return Be.abrupt("return",{elements:g,appState:be(be({},z),{},{errorMessage:Be.t0.message}),files:te.files,commitToHistory:!1});case 16:case"end":return Be.stop()}},u,null,[[0,10]])})),function(u,g,z,Y){return qe.apply(this,arguments)}),keyTest:function(u){return u[R.tW.CTRL_OR_CMD]&&u.key===R.tW.O}}),Z=(0,X.z)({name:"exportWithDarkMode",trackEvent:{category:"export",action:"toggleTheme"},perform:function(u,g,z){return{appState:be(be({},g),{},{exportWithDarkMode:z}),commitToHistory:!1}},PanelComponent:function(u){var g=u.appState,z=u.updateData;return(0,E.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"-45px",marginBottom:"10px"},children:(0,E.jsx)(m,{value:g.exportWithDarkMode?h.C6.DARK:h.C6.LIGHT,onChange:function(Y){z(Y===h.C6.DARK)},title:(0,y.t)("imageExportDialog.label.darkMode")})})}})},3361:function(We,ue,n){n.d(ue,{Tu:function(){return Ge},Zq:function(){return qe}});var r=n(1930),A=n(7169),k=n(9240),b=n(3646),w=n(45),N=n(4512),M=function(Ne){return(0,N.jsx)("div",{className:"buttonList buttonListIcon",children:Ne.options.map(function(Pe){var Re;return Ne.type==="button"?(0,N.jsx)("button",{onClick:function(Ze){return Ne.onClick(Pe.value,Ze)},className:(0,w.Z)({active:(Re=Pe.active)!==null&&Re!==void 0?Re:Ne.value===Pe.value}),"data-testid":Pe.testId,title:Pe.text,children:Pe.icon},Pe.text):(0,N.jsxs)("label",{className:(0,w.Z)({active:Ne.value===Pe.value}),title:Pe.text,children:[(0,N.jsx)("input",{type:"radio",name:Ne.group,onChange:function(){return Ne.onChange(Pe.value)},checked:Ne.value===Pe.value,"data-testid":Pe.testId}),Pe.icon]},Pe.text)})})},f=n(193),d=n(2577),j=n(9787),L=n.n(j),H=n(3204),x=n(3379),S=n.n(x),q=n(7795),ve=n.n(q),ke=n(569),Se=n.n(ke),ge=n(3565),J=n.n(ge),Q=n(9216),K=n.n(Q),T=n(4589),B=n.n(T),O=n(9478),R={};R.styleTagTransform=B(),R.setAttributes=J(),R.insert=Se().bind(null,"head"),R.domAPI=ve(),R.insertStyleElement=K(),S()(O.Z,R),O.Z&&O.Z.locals&&O.Z.locals;var E=n(5491),v=n(8227);function i(Ne,Pe){var Re=Object.keys(Ne);if(Object.getOwnPropertySymbols){var Ze=Object.getOwnPropertySymbols(Ne);Pe&&(Ze=Ze.filter(function(Ie){return Object.getOwnPropertyDescriptor(Ne,Ie).enumerable})),Re.push.apply(Re,Ze)}return Re}function a(Ne){for(var Pe=1;Pe<arguments.length;Pe++){var Re=arguments[Pe]!=null?arguments[Pe]:{};Pe%2?i(Object(Re),!0).forEach(function(Ze){(0,A.Z)(Ne,Ze,Re[Ze])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ne,Object.getOwnPropertyDescriptors(Re)):i(Object(Re)).forEach(function(Ze){Object.defineProperty(Ne,Ze,Object.getOwnPropertyDescriptor(Re,Ze))})}return Ne}function y(Ne){var Pe=Ne.options,Re=Ne.value,Ze=Ne.label,Ie=Ne.onChange,Ee=Ne.onClose,xe=L().useRef(),Z=L().useRef(),u=L().useRef(null);return L().useEffect(function(){Z.current?Z.current.focus():u.current&&u.current.focus()},[]),(0,N.jsx)("div",{className:"picker",role:"dialog","aria-modal":"true","aria-label":Ze,onKeyDown:function(g){var z=Pe.find(function(Be){return Be.keyBinding===g.key.toLowerCase()});if(g.metaKey||g.altKey||g.ctrlKey||!z)if(g.key===E.tW.TAB)setTimeout(function(){Z.current!==document.activeElement&&Ee()},0);else if((0,E.Wl)(g.key)){var Y=document.activeElement,te=(0,v.G3)().rtl,ae=Array.prototype.indexOf.call(u.current.children,Y);if(ae!==-1){var ce=Pe.length,ye=ae;switch(g.key){case(te?E.tW.ARROW_LEFT:E.tW.ARROW_RIGHT):case E.tW.ARROW_DOWN:ye=(ae+1)%ce;break;case(te?E.tW.ARROW_RIGHT:E.tW.ARROW_LEFT):case E.tW.ARROW_UP:ye=(ce+ae-1)%ce}u.current.children[ye].focus()}g.preventDefault()}else g.key!==E.tW.ESCAPE&&g.key!==E.tW.ENTER||(g.preventDefault(),Ee());else{var je=Pe.indexOf(z);u.current.children[je].focus(),g.preventDefault()}g.nativeEvent.stopImmediatePropagation(),g.stopPropagation()},children:(0,N.jsx)("div",{className:"picker-content",ref:u,children:Pe.map(function(g,z){return(0,N.jsxs)("button",{className:(0,w.Z)("picker-option",{active:Re===g.value}),onClick:function(Y){Y.currentTarget.focus(),Ie(g.value)},title:"".concat(g.text," — ").concat(g.keyBinding.toUpperCase()),"aria-label":g.text||"none","aria-keyshortcuts":g.keyBinding,ref:function(Y){Y&&z===0&&(xe.current=Y),Y&&g.value===Re&&(Z.current=Y)},onFocus:function(){Ie(g.value)},children:[g.icon,(0,N.jsx)("span",{className:"picker-keybinding",children:g.keyBinding})]},g.text)})})})}function h(Ne){var Pe,Re=Ne.value,Ze=Ne.label,Ie=Ne.options,Ee=Ne.onChange,xe=Ne.group,Z=xe===void 0?"":xe,u=L().useState(!1),g=(0,d.Z)(u,2),z=g[0],Y=g[1],te=L().useRef(null),ae=(0,v.G3)().rtl;return(0,N.jsxs)("div",{children:[(0,N.jsx)("button",{name:Z,className:z?"active":"","aria-label":Ze,onClick:function(){return Y(!z)},ref:te,children:(Pe=Ie.find(function(ce){return ce.value===Re}))===null||Pe===void 0?void 0:Pe.icon}),(0,N.jsx)(L().Suspense,{fallback:"",children:z?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(H.J,a(a({onCloseRequest:function(ce){return ce.target!==te.current&&Y(!1)}},ae?{right:5.5}:{left:-5.5}),{},{children:(0,N.jsx)(y,{options:Ie,value:Re,label:Ze,onChange:Ee,onClose:function(){var ce;Y(!1),(ce=te.current)===null||ce===void 0||ce.focus()}})})),(0,N.jsx)("div",{className:"picker-triangle"})]}):null})]})}var m=n(8935),C=n(9937),U=n(7651),V=n(583),D=n(4761),P=n(4183),F=n(4643),X=n(4105),le=n(1648),de=n(9827),fe=n(2767);function pe(Ne,Pe){var Re=Object.keys(Ne);if(Object.getOwnPropertySymbols){var Ze=Object.getOwnPropertySymbols(Ne);Pe&&(Ze=Ze.filter(function(Ie){return Object.getOwnPropertyDescriptor(Ne,Ie).enumerable})),Re.push.apply(Re,Ze)}return Re}function ne(Ne){for(var Pe=1;Pe<arguments.length;Pe++){var Re=arguments[Pe]!=null?arguments[Pe]:{};Pe%2?pe(Object(Re),!0).forEach(function(Ze){(0,A.Z)(Ne,Ze,Re[Ze])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ne,Object.getOwnPropertyDescriptors(Re)):pe(Object(Re)).forEach(function(Ze){Object.defineProperty(Ne,Ze,Object.getOwnPropertyDescriptor(Re,Ze))})}return Ne}var oe=function(Ne,Pe,Re){var Ze=arguments.length>3&&arguments[3]!==void 0&&arguments[3],Ie=(0,de.xn)((0,X.eD)(Ne,Pe,{includeBoundTextElement:Ze}));return Ne.map(function(Ee){var xe;return Ie.get(Ee.id)||Ee.id===((xe=Pe.editingElement)===null||xe===void 0?void 0:xe.id)?Re(Ee):Ee})},be=function(Ne,Pe,Re,Ze,Ie){var Ee,xe=Pe.editingElement,Z=(0,U.Lm)(Ne),u=null;return xe&&(u=Re(xe)),u||(u=(0,X.N)(Z,Pe)?(Ee=(0,X.PR)(Ze===!0?Z:Z.filter(function(g){return Ze(g)}),Pe,Re))!==null&&Ee!==void 0?Ee:typeof Ie=="function"?Ie(!0):Ie:typeof Ie=="function"?Ie(!1):Ie),u},Me=function(Ne,Pe,Re,Ze){var Ie=new Set;return{elements:oe(Ne,Pe,function(Ee){if((0,U.iB)(Ee)){var xe=Re(Ee);Ie.add(xe);var Z=(0,V.BE)(Ee,{fontSize:xe});return(0,U.oN)(Z,(0,D.tl)(Ee)),u=Ee,g=Z,Z=(0,P.Xh)(g)?g:(0,V.DR)(g,{x:u.textAlign==="left"?u.x:u.x+(u.width-g.width)/(u.textAlign==="center"?2:1),y:u.y+(u.height-g.height)/2},!1)}var u,g;return Ee},!0),appState:ne(ne({},Pe),{},{currentItemFontSize:Ie.size===1?(0,r.Z)(Ie)[0]:Ze??Pe.currentItemFontSize}),commitToHistory:!0}},Ge=((0,fe.z)({name:"changeStrokeColor",trackEvent:!1,perform:function(Ne,Pe,Re){return ne(ne({},Re.currentItemStrokeColor&&{elements:oe(Ne,Pe,function(Ze){return(0,le.PD)(Ze.type)?(0,V.BE)(Ze,{strokeColor:Re.currentItemStrokeColor}):Ze},!0)}),{},{appState:ne(ne({},Pe),Re),commitToHistory:!!Re.currentItemStrokeColor})},PanelComponent:function(Ne){var Pe=Ne.elements,Re=Ne.appState,Ze=Ne.updateData;return Ne.appProps,(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("h3",{"aria-hidden":"true",children:(0,v.t)("labels.stroke")}),(0,N.jsx)(f.z,{topPicks:k.fY,palette:k.Wk,type:"elementStroke",label:(0,v.t)("labels.stroke"),color:be(Pe,Re,function(Ie){return Ie.strokeColor},!0,Re.currentItemStrokeColor),onChange:function(Ie){return Ze({currentItemStrokeColor:Ie})},elements:Pe,appState:Re,updateData:Ze})]})}}),(0,fe.z)({name:"changeBackgroundColor",trackEvent:!1,perform:function(Ne,Pe,Re){return ne(ne({},Re.currentItemBackgroundColor&&{elements:oe(Ne,Pe,function(Ze){return(0,V.BE)(Ze,{backgroundColor:Re.currentItemBackgroundColor})})}),{},{appState:ne(ne({},Pe),Re),commitToHistory:!!Re.currentItemBackgroundColor})},PanelComponent:function(Ne){var Pe=Ne.elements,Re=Ne.appState,Ze=Ne.updateData;return Ne.appProps,(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("h3",{"aria-hidden":"true",children:(0,v.t)("labels.background")}),(0,N.jsx)(f.z,{topPicks:k.eq,palette:k.SF,type:"elementBackground",label:(0,v.t)("labels.background"),color:be(Pe,Re,function(Ie){return Ie.backgroundColor},!0,Re.currentItemBackgroundColor),onChange:function(Ie){return Ze({currentItemBackgroundColor:Ie})},elements:Pe,appState:Re,updateData:Ze})]})}}),(0,fe.z)({name:"changeFillStyle",trackEvent:!1,perform:function(Ne,Pe,Re,Ze){return(0,b.L)("element","changeFillStyle","".concat(Re," (").concat(Ze.device.editor.isMobile?"mobile":"desktop",")")),{elements:oe(Ne,Pe,function(Ie){return(0,V.BE)(Ie,{fillStyle:Re})}),appState:ne(ne({},Pe),{},{currentItemFillStyle:Re}),commitToHistory:!0}},PanelComponent:function(Ne){var Pe=Ne.elements,Re=Ne.appState,Ze=Ne.updateData,Ie=(0,X.eD)(Pe,Re),Ee=Ie.length>0&&Ie.every(function(xe){return xe.fillStyle==="zigzag"});return(0,N.jsxs)("fieldset",{children:[(0,N.jsx)("legend",{children:(0,v.t)("labels.fill")}),(0,N.jsx)(M,{type:"button",options:[{value:"hachure",text:"".concat(Ee?(0,v.t)("labels.zigzag"):(0,v.t)("labels.hachure")," (").concat((0,de.uY)("Alt-Click"),")"),icon:Ee?m.lF:m.a0,active:!!Ee||void 0,testId:"fill-hachure"},{value:"cross-hatch",text:(0,v.t)("labels.crossHatch"),icon:m.np,testId:"fill-cross-hatch"},{value:"solid",text:(0,v.t)("labels.solid"),icon:m.X7,testId:"fill-solid"}],value:be(Pe,Re,function(xe){return xe.fillStyle},function(xe){return xe.hasOwnProperty("fillStyle")},function(xe){return xe?null:Re.currentItemFillStyle}),onClick:function(xe,Z){var u=Z.altKey&&xe==="hachure"&&Ie.every(function(g){return g.fillStyle==="hachure"})?"zigzag":xe;Ze(u)}})]})}}),(0,fe.z)({name:"changeStrokeWidth",trackEvent:!1,perform:function(Ne,Pe,Re){return{elements:oe(Ne,Pe,function(Ze){return(0,V.BE)(Ze,{strokeWidth:Re})}),appState:ne(ne({},Pe),{},{currentItemStrokeWidth:Re}),commitToHistory:!0}},PanelComponent:function(Ne){var Pe=Ne.elements,Re=Ne.appState,Ze=Ne.updateData;return(0,N.jsxs)("fieldset",{children:[(0,N.jsx)("legend",{children:(0,v.t)("labels.strokeWidth")}),(0,N.jsx)(M,{group:"stroke-width",options:[{value:C.dg.thin,text:(0,v.t)("labels.thin"),icon:m.ZA,testId:"strokeWidth-thin"},{value:C.dg.bold,text:(0,v.t)("labels.bold"),icon:m.Wl,testId:"strokeWidth-bold"},{value:C.dg.extraBold,text:(0,v.t)("labels.extraBold"),icon:m.m9,testId:"strokeWidth-extraBold"}],value:be(Pe,Re,function(Ie){return Ie.strokeWidth},function(Ie){return Ie.hasOwnProperty("strokeWidth")},function(Ie){return Ie?null:Re.currentItemStrokeWidth}),onChange:function(Ie){return Ze(Ie)}})]})}}),(0,fe.z)({name:"changeSloppiness",trackEvent:!1,perform:function(Ne,Pe,Re){return{elements:oe(Ne,Pe,function(Ze){return(0,V.BE)(Ze,{seed:(0,F.LU)(),roughness:Re})}),appState:ne(ne({},Pe),{},{currentItemRoughness:Re}),commitToHistory:!0}},PanelComponent:function(Ne){var Pe=Ne.elements,Re=Ne.appState,Ze=Ne.updateData;return(0,N.jsxs)("fieldset",{children:[(0,N.jsx)("legend",{children:(0,v.t)("labels.sloppiness")}),(0,N.jsx)(M,{group:"sloppiness",options:[{value:0,text:(0,v.t)("labels.architect"),icon:m.bf},{value:1,text:(0,v.t)("labels.artist"),icon:m.kM},{value:2,text:(0,v.t)("labels.cartoonist"),icon:m.W2}],value:be(Pe,Re,function(Ie){return Ie.roughness},function(Ie){return Ie.hasOwnProperty("roughness")},function(Ie){return Ie?null:Re.currentItemRoughness}),onChange:function(Ie){return Ze(Ie)}})]})}}),(0,fe.z)({name:"changeStrokeStyle",trackEvent:!1,perform:function(Ne,Pe,Re){return{elements:oe(Ne,Pe,function(Ze){return(0,V.BE)(Ze,{strokeStyle:Re})}),appState:ne(ne({},Pe),{},{currentItemStrokeStyle:Re}),commitToHistory:!0}},PanelComponent:function(Ne){var Pe=Ne.elements,Re=Ne.appState,Ze=Ne.updateData;return(0,N.jsxs)("fieldset",{children:[(0,N.jsx)("legend",{children:(0,v.t)("labels.strokeStyle")}),(0,N.jsx)(M,{group:"strokeStyle",options:[{value:"solid",text:(0,v.t)("labels.strokeStyle_solid"),icon:m.ZA},{value:"dashed",text:(0,v.t)("labels.strokeStyle_dashed"),icon:m.a5},{value:"dotted",text:(0,v.t)("labels.strokeStyle_dotted"),icon:m.aT}],value:be(Pe,Re,function(Ie){return Ie.strokeStyle},function(Ie){return Ie.hasOwnProperty("strokeStyle")},function(Ie){return Ie?null:Re.currentItemStrokeStyle}),onChange:function(Ie){return Ze(Ie)}})]})}}),(0,fe.z)({name:"changeOpacity",trackEvent:!1,perform:function(Ne,Pe,Re){return{elements:oe(Ne,Pe,function(Ze){return(0,V.BE)(Ze,{opacity:Re})},!0),appState:ne(ne({},Pe),{},{currentItemOpacity:Re}),commitToHistory:!0}},PanelComponent:function(Ne){var Pe,Re=Ne.elements,Ze=Ne.appState,Ie=Ne.updateData;return(0,N.jsxs)("label",{className:"control-label",children:[(0,v.t)("labels.opacity"),(0,N.jsx)("input",{type:"range",min:"0",max:"100",step:"10",onChange:function(Ee){return Ie(+Ee.target.value)},value:(Pe=be(Re,Ze,function(Ee){return Ee.opacity},!0,Ze.currentItemOpacity))!==null&&Pe!==void 0?Pe:void 0})]})}}),(0,fe.z)({name:"changeFontSize",trackEvent:!1,perform:function(Ne,Pe,Re){return Me(Ne,Pe,function(){return Re},Re)},PanelComponent:function(Ne){var Pe=Ne.elements,Re=Ne.appState,Ze=Ne.updateData;return(0,N.jsxs)("fieldset",{children:[(0,N.jsx)("legend",{children:(0,v.t)("labels.fontSize")}),(0,N.jsx)(M,{group:"font-size",options:[{value:16,text:(0,v.t)("labels.small"),icon:m.q0,testId:"fontSize-small"},{value:20,text:(0,v.t)("labels.medium"),icon:m.nq,testId:"fontSize-medium"},{value:28,text:(0,v.t)("labels.large"),icon:m.tW,testId:"fontSize-large"},{value:36,text:(0,v.t)("labels.veryLarge"),icon:m.OA,testId:"fontSize-veryLarge"}],value:be(Pe,Re,function(Ie){if((0,U.iB)(Ie))return Ie.fontSize;var Ee=(0,D.WJ)(Ie);return Ee?Ee.fontSize:null},function(Ie){return(0,U.iB)(Ie)||(0,D.WJ)(Ie)!==null},function(Ie){return Ie?null:Re.currentItemFontSize||C.n5}),onChange:function(Ie){return Ze(Ie)}})]})}}),(0,fe.z)({name:"decreaseFontSize",trackEvent:!1,perform:function(Ne,Pe,Re){return Me(Ne,Pe,function(Ze){return Math.round(1/1.1*Ze.fontSize)})},keyTest:function(Ne){return Ne[E.tW.CTRL_OR_CMD]&&Ne.shiftKey&&(Ne.key===E.tW.CHEVRON_LEFT||Ne.key===E.tW.COMMA)}})),qe=(0,fe.z)({name:"increaseFontSize",trackEvent:!1,perform:function(Ne,Pe,Re){return Me(Ne,Pe,function(Ze){return Math.round(1.1*Ze.fontSize)})},keyTest:function(Ne){return Ne[E.tW.CTRL_OR_CMD]&&Ne.shiftKey&&(Ne.key===E.tW.CHEVRON_RIGHT||Ne.key===E.tW.PERIOD)}});(0,fe.z)({name:"changeFontFamily",trackEvent:!1,perform:function(Ne,Pe,Re){return{elements:oe(Ne,Pe,function(Ze){if((0,U.iB)(Ze)){var Ie=(0,V.BE)(Ze,{fontFamily:Re,lineHeight:(0,D.PT)(Re)});return(0,U.oN)(Ie,(0,D.tl)(Ze)),Ie}return Ze},!0),appState:ne(ne({},Pe),{},{currentItemFontFamily:Re}),commitToHistory:!0}},PanelComponent:function(Ne){var Pe=Ne.elements,Re=Ne.appState,Ze=Ne.updateData,Ie=[{value:C.ut.Virgil,text:(0,v.t)("labels.handDrawn"),icon:m.Pm,testId:"font-family-virgil"},{value:C.ut.Helvetica,text:(0,v.t)("labels.normal"),icon:m.vo,testId:"font-family-normal"},{value:C.ut.Cascadia,text:(0,v.t)("labels.code"),icon:m.z6,testId:"font-family-code"}];return(0,N.jsxs)("fieldset",{children:[(0,N.jsx)("legend",{children:(0,v.t)("labels.fontFamily")}),(0,N.jsx)(M,{group:"font-family",options:Ie,value:be(Pe,Re,function(Ee){if((0,U.iB)(Ee))return Ee.fontFamily;var xe=(0,D.WJ)(Ee);return xe?xe.fontFamily:null},function(Ee){return(0,U.iB)(Ee)||(0,D.WJ)(Ee)!==null},function(Ee){return Ee?null:Re.currentItemFontFamily||C.rk}),onChange:function(Ee){return Ze(Ee)}})]})}}),(0,fe.z)({name:"changeTextAlign",trackEvent:!1,perform:function(Ne,Pe,Re){return{elements:oe(Ne,Pe,function(Ze){if((0,U.iB)(Ze)){var Ie=(0,V.BE)(Ze,{textAlign:Re});return(0,U.oN)(Ie,(0,D.tl)(Ze)),Ie}return Ze},!0),appState:ne(ne({},Pe),{},{currentItemTextAlign:Re}),commitToHistory:!0}},PanelComponent:function(Ne){var Pe=Ne.elements,Re=Ne.appState,Ze=Ne.updateData;return(0,N.jsxs)("fieldset",{children:[(0,N.jsx)("legend",{children:(0,v.t)("labels.textAlign")}),(0,N.jsx)(M,{group:"text-align",options:[{value:"left",text:(0,v.t)("labels.left"),icon:m.rr,testId:"align-left"},{value:"center",text:(0,v.t)("labels.center"),icon:m.o3,testId:"align-horizontal-center"},{value:"right",text:(0,v.t)("labels.right"),icon:m.oT,testId:"align-right"}],value:be(Pe,Re,function(Ie){if((0,U.iB)(Ie))return Ie.textAlign;var Ee=(0,D.WJ)(Ie);return Ee?Ee.textAlign:null},function(Ie){return(0,U.iB)(Ie)||(0,D.WJ)(Ie)!==null},function(Ie){return Ie?null:Re.currentItemTextAlign}),onChange:function(Ie){return Ze(Ie)}})]})}}),(0,fe.z)({name:"changeVerticalAlign",trackEvent:{category:"element"},perform:function(Ne,Pe,Re){return{elements:oe(Ne,Pe,function(Ze){if((0,U.iB)(Ze)){var Ie=(0,V.BE)(Ze,{verticalAlign:Re});return(0,U.oN)(Ie,(0,D.tl)(Ze)),Ie}return Ze},!0),appState:ne({},Pe),commitToHistory:!0}},PanelComponent:function(Ne){var Pe=Ne.elements,Re=Ne.appState,Ze=Ne.updateData;return(0,N.jsx)("fieldset",{children:(0,N.jsx)(M,{group:"text-align",options:[{value:C.oX.TOP,text:(0,v.t)("labels.alignTop"),icon:(0,N.jsx)(m.EO,{theme:Re.theme}),testId:"align-top"},{value:C.oX.MIDDLE,text:(0,v.t)("labels.centerVertically"),icon:(0,N.jsx)(m.P7,{theme:Re.theme}),testId:"align-middle"},{value:C.oX.BOTTOM,text:(0,v.t)("labels.alignBottom"),icon:(0,N.jsx)(m.aA,{theme:Re.theme}),testId:"align-bottom"}],value:be(Pe,Re,function(Ie){if((0,U.iB)(Ie)&&Ie.containerId)return Ie.verticalAlign;var Ee=(0,D.WJ)(Ie);return Ee?Ee.verticalAlign:null},function(Ie){return(0,U.iB)(Ie)||(0,D.WJ)(Ie)!==null},function(Ie){return Ie?null:C.oX.MIDDLE}),onChange:function(Ie){return Ze(Ie)}})})}}),(0,fe.z)({name:"changeRoundness",trackEvent:!1,perform:function(Ne,Pe,Re){return{elements:oe(Ne,Pe,function(Ze){return(0,V.BE)(Ze,{roundness:Re==="round"?{type:(0,P.QI)(Ze.type)?C.a6.ADAPTIVE_RADIUS:C.a6.PROPORTIONAL_RADIUS}:null})}),appState:ne(ne({},Pe),{},{currentItemRoundness:Re}),commitToHistory:!0}},PanelComponent:function(Ne){var Pe=Ne.elements,Re=Ne.appState,Ze=Ne.updateData,Ie=(0,X.Zs)((0,U.Lm)(Pe),Re).some(function(Ee){var xe;return((xe=Ee.roundness)===null||xe===void 0?void 0:xe.type)===C.a6.LEGACY});return(0,N.jsxs)("fieldset",{children:[(0,N.jsx)("legend",{children:(0,v.t)("labels.edges")}),(0,N.jsx)(M,{group:"edges",options:[{value:"sharp",text:(0,v.t)("labels.sharp"),icon:m.wr},{value:"round",text:(0,v.t)("labels.round"),icon:m.DS}],value:be(Pe,Re,function(Ee){return Ie?null:Ee.roundness?"round":"sharp"},function(Ee){return Ee.hasOwnProperty("roundness")},function(Ee){return Ee?null:Re.currentItemRoundness}),onChange:function(Ee){return Ze(Ee)}})]})}}),(0,fe.z)({name:"changeArrowhead",trackEvent:!1,perform:function(Ne,Pe,Re){return{elements:oe(Ne,Pe,function(Ze){if((0,P.bt)(Ze)){var Ie=Re.position,Ee=Re.type;if(Ie==="start")return(0,V.BE)(Ze,{startArrowhead:Ee});if(Ie==="end")return(0,V.BE)(Ze,{endArrowhead:Ee})}return Ze}),appState:ne(ne({},Pe),{},(0,A.Z)({},Re.position==="start"?"currentItemStartArrowhead":"currentItemEndArrowhead",Re.type)),commitToHistory:!0}},PanelComponent:function(Ne){var Pe=Ne.elements,Re=Ne.appState,Ze=Ne.updateData,Ie=(0,v.G3)().rtl;return(0,N.jsxs)("fieldset",{children:[(0,N.jsx)("legend",{children:(0,v.t)("labels.arrowheads")}),(0,N.jsxs)("div",{className:"iconSelectList buttonList",children:[(0,N.jsx)(h,{label:"arrowhead_start",options:[{value:null,text:(0,v.t)("labels.arrowhead_none"),icon:m.fr,keyBinding:"q"},{value:"arrow",text:(0,v.t)("labels.arrowhead_arrow"),icon:(0,N.jsx)(m.il,{flip:!Ie}),keyBinding:"w"},{value:"bar",text:(0,v.t)("labels.arrowhead_bar"),icon:(0,N.jsx)(m.m,{flip:!Ie}),keyBinding:"e"},{value:"dot",text:(0,v.t)("labels.arrowhead_dot"),icon:(0,N.jsx)(m.tn,{flip:!Ie}),keyBinding:"r"},{value:"triangle",text:(0,v.t)("labels.arrowhead_triangle"),icon:(0,N.jsx)(m.j8,{flip:!Ie}),keyBinding:"t"}],value:be(Pe,Re,function(Ee){return(0,P.bt)(Ee)&&(0,X.Un)(Ee.type)?Ee.startArrowhead:Re.currentItemStartArrowhead},!0,Re.currentItemStartArrowhead),onChange:function(Ee){return Ze({position:"start",type:Ee})}}),(0,N.jsx)(h,{label:"arrowhead_end",group:"arrowheads",options:[{value:null,text:(0,v.t)("labels.arrowhead_none"),keyBinding:"q",icon:m.fr},{value:"arrow",text:(0,v.t)("labels.arrowhead_arrow"),keyBinding:"w",icon:(0,N.jsx)(m.il,{flip:Ie})},{value:"bar",text:(0,v.t)("labels.arrowhead_bar"),keyBinding:"e",icon:(0,N.jsx)(m.m,{flip:Ie})},{value:"dot",text:(0,v.t)("labels.arrowhead_dot"),keyBinding:"r",icon:(0,N.jsx)(m.tn,{flip:Ie})},{value:"triangle",text:(0,v.t)("labels.arrowhead_triangle"),icon:(0,N.jsx)(m.j8,{flip:Ie}),keyBinding:"t"}],value:be(Pe,Re,function(Ee){return(0,P.bt)(Ee)&&(0,X.Un)(Ee.type)?Ee.endArrowhead:Re.currentItemEndArrowhead},!0,Re.currentItemEndArrowhead),onChange:function(Ee){return Ze({position:"end",type:Ee})}})]})]})}})},7080:function(We,ue,n){n.d(ue,{u:function(){return N}});var r=n(7169),A=n(2767),k=n(5491);function b(M,f){var d=Object.keys(M);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(M);f&&(j=j.filter(function(L){return Object.getOwnPropertyDescriptor(M,L).enumerable})),d.push.apply(d,j)}return d}function w(M){for(var f=1;f<arguments.length;f++){var d=arguments[f]!=null?arguments[f]:{};f%2?b(Object(d),!0).forEach(function(j){(0,r.Z)(M,j,d[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(d)):b(Object(d)).forEach(function(j){Object.defineProperty(M,j,Object.getOwnPropertyDescriptor(d,j))})}return M}var N=(0,A.z)({name:"stats",viewMode:!0,trackEvent:{category:"menu"},perform:function(M,f){return{appState:w(w({},f),{},{showStats:!this.checked(f)}),commitToHistory:!1}},checked:function(M){return M.showStats},contextItemLabel:"stats.title",keyTest:function(M){return!M[k.tW.CTRL_OR_CMD]&&M.altKey&&M.code===k.aU.SLASH}})},5463:function(We,ue,n){n.d(ue,{FL:function(){return or},vD:function(){return go.vD},yA:function(){return y},BZ:function(){return m},mo:function(){return Ie.mo},uN:function(){return Fr.uN},jK:function(){return Fr.jK},FA:function(){return Fr.FA},pw:function(){return ce},ZM:function(){return Fr.ZM},X9:function(){return r.X},xF:function(){return Re},pL:function(){return g},jl:function(){return jr},kt:function(){return Cr},EQ:function(){return Le},nz:function(){return bo.nz},_d:function(){return z._d},W3:function(){return ye},mM:function(){return z.mM},ns:function(){return z.ns},Yy:function(){return X},V:function(){return a},zi:function(){return h},jY:function(){return Qe},$h:function(){return _o.$},Pb:function(){return Rr},Qs:function(){return co},pm:function(){return In},u0:function(){return Xn.u},Zp:function(){return Ie.Zp},JN:function(){return rn},y7:function(){return go.y7},s:function(){return et},zp:function(){return Fr.zp}});var r=n(2448),A=n(2577),k=n(1930),b=n(583),w=n(4183),N=n(9215),M=n(4105),f=n(457),d=n(9827);function j(it,Oe){var ze=typeof Symbol<"u"&&it[Symbol.iterator]||it["@@iterator"];if(!ze){if(Array.isArray(it)||(ze=function(Qt,Vt){if(Qt){if(typeof Qt=="string")return L(Qt,Vt);var Er=Object.prototype.toString.call(Qt).slice(8,-1);if(Er==="Object"&&Qt.constructor&&(Er=Qt.constructor.name),Er==="Map"||Er==="Set")return Array.from(Qt);if(Er==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Er))return L(Qt,Vt)}}(it))||Oe){ze&&(it=ze);var $e=0,pt=function(){};return{s:pt,n:function(){return $e>=it.length?{done:!0}:{done:!1,value:it[$e++]}},e:function(Qt){throw Qt},f:pt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Kt,fr=!0,vr=!1;return{s:function(){ze=ze.call(it)},n:function(){var Qt=ze.next();return fr=Qt.done,Qt},e:function(Qt){vr=!0,Kt=Qt},f:function(){try{fr||ze.return==null||ze.return()}finally{if(vr)throw Kt}}}}function L(it,Oe){(Oe==null||Oe>it.length)&&(Oe=it.length);for(var ze=0,$e=new Array(Oe);ze<Oe;ze++)$e[ze]=it[ze];return $e}var H=function(it,Oe){return it.frameId===Oe||it.id===Oe},x=function(it,Oe,ze){for(var $e=[],pt=[],Kt=null,fr=-1,vr=(0,d.xn)(ze||(0,M.eD)(it,Oe,{includeBoundTextElement:!0,includeElementsInFrames:!0}));++fr<it.length;){var Qt=it[fr];vr.get(Qt.id)?(pt.length&&($e=$e.concat(pt),pt=[]),$e.push(fr),Kt=fr+1):Qt.isDeleted&&Kt===fr?(Kt=fr+1,pt.push(fr)):pt=[]}return $e},S=function(it,Oe,ze){if("containerId"in it&&it.containerId){if(ze!=="left")return Oe.indexOf(it);var $e=f.Z.getScene(it).getElement(it.containerId);if($e)return Oe.indexOf($e)}else{var pt,Kt,fr=(pt=it.boundElements)===null||pt===void 0||(Kt=pt.find(function(Qt){return Qt.type!=="arrow"}))===null||Kt===void 0?void 0:Kt.id;if(fr){if(ze==="left")return Oe.indexOf(it);var vr=f.Z.getScene(it).getElement(fr);if(vr)return Oe.indexOf(vr)}}},q=function(it,Oe,ze,$e,pt){var Kt,fr,vr,Qt,Vt,Er=Oe[ze],Lr=function(Hn){return!Hn.isDeleted&&(pt?Hn.frameId===pt:!it.editingGroupId||Hn.groupIds.includes(it.editingGroupId))},Jr=$e==="left"?(0,d.qr)(Oe,function(Hn){return Lr(Hn)},Math.max(0,ze-1)):(0,d.cx)(Oe,function(Hn){return Lr(Hn)},ze+1),on=Oe[Jr];if(!on)return-1;if(it.editingGroupId){var gn;if((Er==null?void 0:Er.groupIds.join(""))===(on==null?void 0:on.groupIds.join("")))return(gn=S(on,Oe,$e))!==null&&gn!==void 0?gn:Jr;if(on==null||!on.groupIds.includes(it.editingGroupId))return-1}if(!pt&&(on.frameId||on.type==="frame")){var yn=(Kt=Oe,fr=on.frameId||on.id,vr=-1,Qt=-1,Kt.forEach(function(Hn,eo){H(Hn,fr)&&(vr===-1&&(vr=eo),Qt=eo)}),vr===-1?[]:Kt.slice(vr,Qt+1));return $e==="left"?Oe.indexOf(yn[0]):Oe.indexOf(yn[yn.length-1])}if(!on.groupIds.length)return(Vt=S(on,Oe,$e))!==null&&Vt!==void 0?Vt:Jr;var dn=it.editingGroupId?on.groupIds[on.groupIds.indexOf(it.editingGroupId)-1]:on.groupIds[on.groupIds.length-1],mn=(0,N.Fb)(Oe,dn);return mn.length?$e==="left"?Oe.indexOf(mn[0]):Oe.indexOf(mn[mn.length-1]):Jr},ve=function(it,Oe){return Oe.reduce(function(ze,$e){var pt=it[$e];return ze[pt.id]=pt,ze},{})},ke=function(it,Oe,ze){var $e=x(it,Oe),pt=ve(it,$e),Kt=function(vr){var Qt=0;return vr.reduce(function(Vt,Er,Lr){return Lr>0&&vr[Lr-1]!==Er-1&&(Qt=++Qt),(Vt[Qt]||(Vt[Qt]=[])).push(Er),Vt},[])}($e);ze==="right"&&(Kt=Kt.reverse());var fr=new Set($e.filter(function(vr){return it[vr].type==="frame"}).map(function(vr){return it[vr].id}));return Kt.forEach(function(vr,Qt){var Vt,Er=vr[0],Lr=vr[vr.length-1],Jr=ze==="left"?Er:Lr,on=vr.some(function(eo){var So=it[eo];return So.frameId&&fr.has(So.frameId)})?null:(Vt=it[Jr])===null||Vt===void 0?void 0:Vt.frameId,gn=q(Oe,it,Jr,ze,on);if(gn!==-1&&Jr!==gn){var yn=ze==="left"?it.slice(0,gn):it.slice(0,Er),dn=it.slice(Er,Lr+1),mn=ze==="left"?it.slice(gn,Er):it.slice(Lr+1,gn+1),Hn=ze==="left"?it.slice(Lr+1):it.slice(gn+1);it=ze==="left"?[].concat((0,k.Z)(yn),(0,k.Z)(dn),(0,k.Z)(mn),(0,k.Z)(Hn)):[].concat((0,k.Z)(yn),(0,k.Z)(mn),(0,k.Z)(dn),(0,k.Z)(Hn))}}),it.map(function(vr){return pt[vr.id]?(0,b.ZP)(vr):vr})},Se=function(it,Oe,ze,$e,pt){var Kt,fr,vr=x(it,Oe,pt),Qt=ve(it,vr),Vt=[];if(ze==="left"){if($e)Kt=(0,d.cx)(it,function(dn){return H(dn,$e)});else if(Oe.editingGroupId){var Er=(0,N.Fb)(it,Oe.editingGroupId);if(!Er.length)return it;Kt=it.indexOf(Er[0])}else Kt=0;fr=vr[vr.length-1]}else{if($e)fr=(0,d.qr)(it,function(dn){return H(dn,$e)});else if(Oe.editingGroupId){var Lr=(0,N.Fb)(it,Oe.editingGroupId);if(!Lr.length)return it;fr=it.indexOf(Lr[Lr.length-1])}else fr=it.length-1;Kt=vr[0]}Kt===-1&&(Kt=0);for(var Jr=Kt;Jr<fr+1;Jr++)vr.includes(Jr)||Vt.push(it[Jr]);var on=Object.values(Qt).map(function(dn){return(0,b.ZP)(dn)}),gn=it.slice(0,Kt),yn=it.slice(fr+1);return ze==="left"?[].concat((0,k.Z)(gn),(0,k.Z)(on),Vt,(0,k.Z)(yn)):[].concat((0,k.Z)(gn),Vt,(0,k.Z)(on),(0,k.Z)(yn))};function ge(it,Oe,ze,$e){var pt,Kt=(0,d.xn)((0,M.eD)(it,Oe,{includeBoundTextElement:!0,includeElementsInFrames:!0})),fr={regularElements:[],frameChildren:new Map},vr=new Set,Qt=j(it);try{for(Qt.s();!(pt=Qt.n()).done;){var Vt=pt.value;Kt.has(Vt.id)&&(0,w.He)(Vt)&&vr.add(Vt.id)}}catch(Hn){Qt.e(Hn)}finally{Qt.f()}var Er,Lr=j(it);try{for(Lr.s();!(Er=Lr.n()).done;){var Jr=Er.value;if(Kt.has(Jr.id))if((0,w.He)(Jr)||Jr.frameId&&vr.has(Jr.frameId))fr.regularElements.push(Jr);else if(Jr.frameId){var on=fr.frameChildren.get(Jr.frameId)||[];on.push(Jr),fr.frameChildren.set(Jr.frameId,on)}else fr.regularElements.push(Jr)}}catch(Hn){Lr.e(Hn)}finally{Lr.f()}for(var gn=it,yn=0,dn=Array.from(fr.frameChildren.entries());yn<dn.length;yn++){var mn=(0,A.Z)(dn[yn],2);gn=$e(it,Oe,ze,mn[0],mn[1])}return $e(gn,Oe,ze,null,fr.regularElements)}var J=function(it,Oe){return ke(it,Oe,"left")},Q=function(it,Oe){return ke(it,Oe,"right")},K=function(it,Oe){return ge(it,Oe,"left",Se)},T=function(it,Oe){return ge(it,Oe,"right",Se)},B=n(5491),O=n(8227),R=n(2767),E=n(8935),v=n(9937),i=n(4512),a=(0,R.z)({name:"sendBackward",trackEvent:{category:"element"},perform:function(it,Oe){return{elements:J(it,Oe),appState:Oe,commitToHistory:!0}},contextItemLabel:"labels.sendBackward",keyPriority:40,keyTest:function(it){return it[B.tW.CTRL_OR_CMD]&&!it.shiftKey&&it.code===B.aU.BRACKET_LEFT},PanelComponent:function(it){var Oe=it.updateData;return it.appState,(0,i.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return Oe(null)},title:"".concat((0,O.t)("labels.sendBackward")," — ").concat((0,d.uY)("CtrlOrCmd+[")),children:E.Gc})}}),y=(0,R.z)({name:"bringForward",trackEvent:{category:"element"},perform:function(it,Oe){return{elements:Q(it,Oe),appState:Oe,commitToHistory:!0}},contextItemLabel:"labels.bringForward",keyPriority:40,keyTest:function(it){return it[B.tW.CTRL_OR_CMD]&&!it.shiftKey&&it.code===B.aU.BRACKET_RIGHT},PanelComponent:function(it){var Oe=it.updateData;return it.appState,(0,i.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return Oe(null)},title:"".concat((0,O.t)("labels.bringForward")," — ").concat((0,d.uY)("CtrlOrCmd+]")),children:E.t5})}}),h=(0,R.z)({name:"sendToBack",trackEvent:{category:"element"},perform:function(it,Oe){return{elements:K(it,Oe),appState:Oe,commitToHistory:!0}},contextItemLabel:"labels.sendToBack",keyTest:function(it){return v.Um?it[B.tW.CTRL_OR_CMD]&&it.altKey&&it.code===B.aU.BRACKET_LEFT:it[B.tW.CTRL_OR_CMD]&&it.shiftKey&&it.code===B.aU.BRACKET_LEFT},PanelComponent:function(it){var Oe=it.updateData;return it.appState,(0,i.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return Oe(null)},title:"".concat((0,O.t)("labels.sendToBack")," — ").concat(v.Um?(0,d.uY)("CtrlOrCmd+Alt+["):(0,d.uY)("CtrlOrCmd+Shift+[")),children:E.pw})}}),m=(0,R.z)({name:"bringToFront",trackEvent:{category:"element"},perform:function(it,Oe){return{elements:T(it,Oe),appState:Oe,commitToHistory:!0}},contextItemLabel:"labels.bringToFront",keyTest:function(it){return v.Um?it[B.tW.CTRL_OR_CMD]&&it.altKey&&it.code===B.aU.BRACKET_RIGHT:it[B.tW.CTRL_OR_CMD]&&it.shiftKey&&it.code===B.aU.BRACKET_RIGHT},PanelComponent:function(it){var Oe=it.updateData;return it.appState,(0,i.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(ze){return Oe(null)},title:"".concat((0,O.t)("labels.bringToFront")," — ").concat(v.Um?(0,d.uY)("CtrlOrCmd+Alt+]"):(0,d.uY)("CtrlOrCmd+Shift+]")),children:E.IN})}}),C=n(7169),U=n(7651),V=n(7422),D=n(6264);function P(it,Oe){var ze=Object.keys(it);if(Object.getOwnPropertySymbols){var $e=Object.getOwnPropertySymbols(it);Oe&&($e=$e.filter(function(pt){return Object.getOwnPropertyDescriptor(it,pt).enumerable})),ze.push.apply(ze,$e)}return ze}function F(it){for(var Oe=1;Oe<arguments.length;Oe++){var ze=arguments[Oe]!=null?arguments[Oe]:{};Oe%2?P(Object(ze),!0).forEach(function($e){(0,C.Z)(it,$e,ze[$e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(it,Object.getOwnPropertyDescriptors(ze)):P(Object(ze)).forEach(function($e){Object.defineProperty(it,$e,Object.getOwnPropertyDescriptor(ze,$e))})}return it}var X=(0,R.z)({name:"selectAll",trackEvent:{category:"canvas"},perform:function(it,Oe,ze,$e){if(Oe.editingLinearElement)return!1;var pt=(0,D.aI)(it.filter(function(Kt){return!(Kt.isDeleted||(0,U.iB)(Kt)&&Kt.containerId||Kt.locked)})).reduce(function(Kt,fr){return Kt[fr.id]=!0,Kt},{});return{appState:F(F(F({},Oe),(0,N.bO)({editingGroupId:null,selectedElementIds:pt},(0,U.Lm)(it),Oe,$e)),{},{selectedLinearElement:Object.keys(pt).length===1&&(0,w.bt)(it[0])?new V._(it[0],$e.scene):null}),commitToHistory:!0}},contextItemLabel:"labels.selectAll",keyTest:function(it){return it[B.tW.CTRL_OR_CMD]&&it.key===B.tW.A}}),le=n(1512),de=n(9645),fe=n(4761);function pe(it,Oe){var ze=typeof Symbol<"u"&&it[Symbol.iterator]||it["@@iterator"];if(!ze){if(Array.isArray(it)||(ze=function(Qt,Vt){if(Qt){if(typeof Qt=="string")return ne(Qt,Vt);var Er=Object.prototype.toString.call(Qt).slice(8,-1);if(Er==="Object"&&Qt.constructor&&(Er=Qt.constructor.name),Er==="Map"||Er==="Set")return Array.from(Qt);if(Er==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Er))return ne(Qt,Vt)}}(it))||Oe){ze&&(it=ze);var $e=0,pt=function(){};return{s:pt,n:function(){return $e>=it.length?{done:!0}:{done:!1,value:it[$e++]}},e:function(Qt){throw Qt},f:pt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Kt,fr=!0,vr=!1;return{s:function(){ze=ze.call(it)},n:function(){var Qt=ze.next();return fr=Qt.done,Qt},e:function(Qt){vr=!0,Kt=Qt},f:function(){try{fr||ze.return==null||ze.return()}finally{if(vr)throw Kt}}}}function ne(it,Oe){(Oe==null||Oe>it.length)&&(Oe=it.length);for(var ze=0,$e=new Array(Oe);ze<Oe;ze++)$e[ze]=it[ze];return $e}var oe=function(it){var Oe=it.slice(),ze=new Set,$e=function Kt(fr){var vr,Qt,Vt,Er=(vr=fr[0])===null||vr===void 0||(Qt=vr.groupIds)===null||Qt===void 0?void 0:Qt.join(""),Lr=[fr[0]],Jr=[],on=pe(fr.slice(1));try{for(on.s();!(Vt=on.n()).done;){var gn,yn=Vt.value;((gn=yn.groupIds)===null||gn===void 0?void 0:gn.join(""))===Er?Lr.push(yn):Jr.push(yn)}}catch(dn){on.e(dn)}finally{on.f()}return Jr.length?[].concat(Lr,(0,k.Z)(Kt(Jr))):Lr},pt=new Map;return Oe.forEach(function(Kt,fr){var vr;if(!pt.has(Kt.id))if((vr=Kt.groupIds)!==null&&vr!==void 0&&vr.length){var Qt,Vt=Kt.groupIds[Kt.groupIds.length-1],Er=Oe.slice(fr).filter(function(on){var gn,yn=on==null||(gn=on.groupIds)===null||gn===void 0?void 0:gn.some(function(dn){return dn===Vt});return yn&&pt.set(on.id,!0),yn}),Lr=pe($e(Er));try{for(Lr.s();!(Qt=Lr.n()).done;){var Jr=Qt.value;ze.add(Jr)}}catch(on){Lr.e(on)}finally{Lr.f()}}else ze.add(Kt)}),ze.size!==it.length?(console.error("normalizeGroupElementOrder: lost some elements... bailing!"),it):(0,k.Z)(ze)},be=function(it){var Oe=function(ze){var $e=(0,d.I4)(ze),pt=ze.slice(),Kt=new Set;return pt.forEach(function(fr,vr){var Qt;if(fr)if((Qt=fr.boundElements)!==null&&Qt!==void 0&&Qt.length)Kt.add(fr),pt[vr]=null,fr.boundElements.forEach(function(Lr){var Jr=$e.get(Lr.id);Jr&&Lr.type==="text"&&(Kt.add(Jr[0]),pt[Jr[1]]=null)});else if(fr.type==="text"&&fr.containerId){var Vt,Er=$e.get(fr.containerId);Er!=null&&(Vt=Er[0].boundElements)!==null&&Vt!==void 0&&Vt.find(function(Lr){return Lr.id===fr.id})||(Kt.add(fr),pt[vr]=null)}else Kt.add(fr),pt[vr]=null}),Kt.size!==ze.length?(console.error("normalizeBoundElementsOrder: lost some elements... bailing!"),ze):(0,k.Z)(Kt)}(oe(it));return Oe},Me=n(4682);function Ge(it,Oe){var ze=typeof Symbol<"u"&&it[Symbol.iterator]||it["@@iterator"];if(!ze){if(Array.isArray(it)||(ze=function(Qt,Vt){if(Qt){if(typeof Qt=="string")return qe(Qt,Vt);var Er=Object.prototype.toString.call(Qt).slice(8,-1);if(Er==="Object"&&Qt.constructor&&(Er=Qt.constructor.name),Er==="Map"||Er==="Set")return Array.from(Qt);if(Er==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Er))return qe(Qt,Vt)}}(it))||Oe){ze&&(it=ze);var $e=0,pt=function(){};return{s:pt,n:function(){return $e>=it.length?{done:!0}:{done:!1,value:it[$e++]}},e:function(Qt){throw Qt},f:pt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Kt,fr=!0,vr=!1;return{s:function(){ze=ze.call(it)},n:function(){var Qt=ze.next();return fr=Qt.done,Qt},e:function(Qt){vr=!0,Kt=Qt},f:function(){try{fr||ze.return==null||ze.return()}finally{if(vr)throw Kt}}}}function qe(it,Oe){(Oe==null||Oe>it.length)&&(Oe=it.length);for(var ze=0,$e=new Array(Oe);ze<Oe;ze++)$e[ze]=it[ze];return $e}function Ne(it,Oe){var ze=Object.keys(it);if(Object.getOwnPropertySymbols){var $e=Object.getOwnPropertySymbols(it);Oe&&($e=$e.filter(function(pt){return Object.getOwnPropertyDescriptor(it,pt).enumerable})),ze.push.apply(ze,$e)}return ze}function Pe(it){for(var Oe=1;Oe<arguments.length;Oe++){var ze=arguments[Oe]!=null?arguments[Oe]:{};Oe%2?Ne(Object(ze),!0).forEach(function($e){(0,C.Z)(it,$e,ze[$e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(it,Object.getOwnPropertyDescriptors(ze)):Ne(Object(ze)).forEach(function($e){Object.defineProperty(it,$e,Object.getOwnPropertyDescriptor(ze,$e))})}return it}var Re=(0,R.z)({name:"duplicateSelection",trackEvent:{category:"element"},perform:function(it,Oe){if(Oe.editingLinearElement){var ze=V._.duplicateSelectedPoints(Oe);return!!ze&&{elements:it,appState:ze.appState,commitToHistory:!0}}return Pe(Pe({},Ze(it,Oe)),{},{commitToHistory:!0})},contextItemLabel:"labels.duplicateSelection",keyTest:function(it){return it[B.tW.CTRL_OR_CMD]&&it.key===B.tW.D},PanelComponent:function(it){var Oe=it.elements,ze=it.appState,$e=it.updateData;return(0,i.jsx)(le.V,{type:"button",icon:E.NA,title:"".concat((0,O.t)("labels.duplicateSelection")," — ").concat((0,d.uY)("CtrlOrCmd+D")),"aria-label":(0,O.t)("labels.duplicateSelection"),onClick:function(){return $e(null)},visible:(0,M.N)((0,U.Lm)(Oe),ze)})}}),Ze=function(it,Oe){for(var ze=be(it),$e=new Map,pt=[],Kt=[],fr=new Map,vr=function(bn){var Yn=(0,U.Sy)(Oe.editingGroupId,$e,bn,{x:bn.x+v.k/2,y:bn.y+v.k/2});return fr.set(bn.id,Yn.id),Kt.push(bn),pt.push(Yn),Yn},Qt=(0,d.xn)((0,D.eD)(ze,Oe,{includeBoundTextElement:!0,includeElementsInFrames:!0})),Vt=new Map,Er=function(bn){var Yn,vo=Ge(bn);try{for(vo.s();!(Yn=vo.n()).done;){var Ao=Yn.value;Vt.set(Ao.id,!0)}}catch(Yo){vo.e(Yo)}finally{vo.f()}return bn},Lr=[],Jr=-1;++Jr<ze.length;){var on=ze[Jr];if(!Vt.get(on.id)){var gn=(0,fe.WJ)(on),yn=(0,w.He)(on);if(Qt.get(on.id)){if(on.groupIds.length||gn||yn){var dn=(0,N.yO)(Oe,on);if(dn){var mn=(0,N.Fb)(ze,dn).flatMap(function(bn){return(0,w.He)(bn)?[].concat((0,k.Z)((0,Me.zD)(it,bn.id)),[bn]):[bn]});Lr.push.apply(Lr,(0,k.Z)(Er([].concat((0,k.Z)(mn),(0,k.Z)(mn.map(function(bn){return vr(bn)}))))));continue}if(gn){Lr.push.apply(Lr,(0,k.Z)(Er([on,gn,vr(on),vr(gn)])));continue}if(yn){var Hn=(0,Me.zD)(ze,on.id);Lr.push.apply(Lr,(0,k.Z)(Er([].concat((0,k.Z)(Hn),[on],(0,k.Z)(Hn.map(function(bn){return vr(bn)})),[vr(on)]))));continue}}on.frameId&&Qt.has(on.frameId)||Lr.push.apply(Lr,(0,k.Z)(Er([on,vr(on)])))}else Lr.push.apply(Lr,(0,k.Z)(Er([on])))}}var eo=[],So=new Map;for(Jr=Lr.length;--Jr>=0;){var Qo=Lr[Jr];So.get(Qo.id)||(So.set(Qo.id,!0),eo.push(Qo))}var Fo=eo.reverse();(0,fe.P7)(Lr,Kt,fr),(0,de.ek)(Lr,Kt,fr),(0,Me.xr)(Fo,Kt,fr);var On=(0,D.aI)(pt);return{elements:Fo,appState:Pe(Pe({},Oe),(0,N.bO)({editingGroupId:Oe.editingGroupId,selectedElementIds:On.reduce(function(bn,Yn){return(0,w.Xh)(Yn)||(bn[Yn.id]=!0),bn},{})},(0,U.Lm)(Fo),Oe,null))}},Ie=(n(3361),n(6006)),Ee=n(2361),xe=n(7652);function Z(it,Oe){var ze=Object.keys(it);if(Object.getOwnPropertySymbols){var $e=Object.getOwnPropertySymbols(it);Oe&&($e=$e.filter(function(pt){return Object.getOwnPropertyDescriptor(it,pt).enumerable})),ze.push.apply(ze,$e)}return ze}function u(it){for(var Oe=1;Oe<arguments.length;Oe++){var ze=arguments[Oe]!=null?arguments[Oe]:{};Oe%2?Z(Object(ze),!0).forEach(function($e){(0,C.Z)(it,$e,ze[$e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(it,Object.getOwnPropertyDescriptors(ze)):Z(Object(ze)).forEach(function($e){Object.defineProperty(it,$e,Object.getOwnPropertyDescriptor(ze,$e))})}return it}var g=(0,R.z)({name:"finalize",trackEvent:!1,perform:function(it,Oe,ze,$e){var pt,Kt=$e.interactiveCanvas,fr=$e.focusContainer,vr=$e.scene;if(Oe.editingLinearElement){var Qt=Oe.editingLinearElement,Vt=Qt.elementId,Er=Qt.startBindingElement,Lr=Qt.endBindingElement,Jr=V._.getElement(Vt);if(Jr)return(0,w.Mn)(Jr)&&(0,de.HG)(Jr,Er,Lr),{elements:Jr.points.length<2||(0,U.QD)(Jr)?it.filter(function(vo){return vo.id!==Jr.id}):void 0,appState:u(u({},Oe),{},{cursorButton:"up",editingLinearElement:null}),commitToHistory:!0}}var on=it,gn=Oe.pendingImageElementId&&vr.getElement(Oe.pendingImageElementId);gn&&(0,b.DR)(gn,{isDeleted:!0},!1),window.document.activeElement instanceof HTMLElement&&fr();var yn,dn=Oe.multiElement?Oe.multiElement:((pt=Oe.editingElement)===null||pt===void 0?void 0:pt.type)==="freedraw"?Oe.editingElement:null;if(dn){if(dn.type!=="freedraw"&&Oe.lastPointerDownWith!=="touch"){var mn=dn.points,Hn=dn.lastCommittedPoint;Hn&&mn[mn.length-1]===Hn||(0,b.DR)(dn,{points:dn.points.slice(0,-1)})}(0,U.QD)(dn)&&(on=on.filter(function(vo){return vo.id!==dn.id}));var eo=(0,Ee.g6)(dn.points,Oe.zoom.value);if((dn.type==="line"||dn.type==="freedraw")&&eo){var So=dn.points,Qo=So[0];(0,b.DR)(dn,{points:So.map(function(vo,Ao){return Ao===So.length-1?[Qo[0],Qo[1]]:vo})})}if((0,w.Mn)(dn)&&!eo&&dn.points.length>1){var Fo=V._.getPointAtIndexGlobalCoordinates(dn,-1),On=(0,A.Z)(Fo,2),bn=On[0],Yn=On[1];(0,de.R)(dn,Oe,f.Z.getScene(dn),{x:bn,y:Yn})}}return(Oe.activeTool.locked||Oe.activeTool.type==="freedraw")&&dn||(0,xe.z8)(Kt),yn=Oe.activeTool.type==="eraser"?(0,d.Om)(Oe,u(u({},Oe.activeTool.lastActiveTool||{type:"selection"}),{},{lastActiveToolBeforeEraser:null})):(0,d.Om)(Oe,{type:"selection"}),{elements:on,appState:u(u({},Oe),{},{cursorButton:"up",activeTool:(Oe.activeTool.locked||Oe.activeTool.type==="freedraw")&&dn?Oe.activeTool:yn,activeEmbeddable:null,draggingElement:null,multiElement:null,editingElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:dn&&!Oe.activeTool.locked&&Oe.activeTool.type!=="freedraw"?u(u({},Oe.selectedElementIds),{},(0,C.Z)({},dn.id,!0)):Oe.selectedElementIds,selectedLinearElement:dn&&(0,w.bt)(dn)?new V._(dn,vr):Oe.selectedLinearElement,pendingImageElementId:null}),commitToHistory:Oe.activeTool.type==="freedraw"}},keyTest:function(it,Oe){return it.key===B.tW.ESCAPE&&(Oe.editingLinearElement!==null||!Oe.draggingElement&&Oe.multiElement===null)||(it.key===B.tW.ESCAPE||it.key===B.tW.ENTER)&&Oe.multiElement!==null},PanelComponent:function(it){var Oe=it.appState,ze=it.updateData,$e=it.data;return(0,i.jsx)(le.V,{type:"button",icon:E.$c,title:(0,O.t)("buttons.done"),"aria-label":(0,O.t)("buttons.done"),onClick:ze,visible:Oe.multiElement!=null,size:($e==null?void 0:$e.size)||"medium"})}}),z=n(4406);function Y(it,Oe){var ze=Object.keys(it);if(Object.getOwnPropertySymbols){var $e=Object.getOwnPropertySymbols(it);Oe&&($e=$e.filter(function(pt){return Object.getOwnPropertyDescriptor(it,pt).enumerable})),ze.push.apply(ze,$e)}return ze}function te(it){for(var Oe=1;Oe<arguments.length;Oe++){var ze=arguments[Oe]!=null?arguments[Oe]:{};Oe%2?Y(Object(ze),!0).forEach(function($e){(0,C.Z)(it,$e,ze[$e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(it,Object.getOwnPropertyDescriptors(ze)):Y(Object(ze)).forEach(function($e){Object.defineProperty(it,$e,Object.getOwnPropertyDescriptor(ze,$e))})}return it}var ae="{}",ce=(0,R.z)({name:"copyStyles",trackEvent:{category:"element"},perform:function(it,Oe){var ze=[],$e=it.find(function(Kt){return Oe.selectedElementIds[Kt.id]});if(ze.push($e),$e&&(0,w.Xo)($e)){var pt=(0,fe.WJ)($e);ze.push(pt)}return $e&&(ae=JSON.stringify(ze)),{appState:te(te({},Oe),{},{toast:{message:(0,O.t)("toast.copyStyles")}}),commitToHistory:!1}},contextItemLabel:"labels.copyStyles",keyTest:function(it){return it[B.tW.CTRL_OR_CMD]&&it.altKey&&it.code===B.aU.C}}),ye=(0,R.z)({name:"pasteStyles",trackEvent:{category:"element"},perform:function(it,Oe){var ze=JSON.parse(ae),$e=ze[0],pt=ze[1];if(!(0,U.r2)($e))return{elements:it,commitToHistory:!1};var Kt=(0,M.eD)(it,Oe,{includeBoundTextElement:!0}),fr=Kt.map(function(vr){return vr.id});return{elements:it.map(function(vr){if(fr.includes(vr.id)){var Qt,Vt,Er,Lr,Jr,on,gn,yn=$e;if((0,U.iB)(vr)&&vr.containerId&&(yn=pt),!yn)return vr;var dn=(0,b.BE)(vr,{backgroundColor:(Qt=yn)===null||Qt===void 0?void 0:Qt.backgroundColor,strokeWidth:(Vt=yn)===null||Vt===void 0?void 0:Vt.strokeWidth,strokeColor:(Er=yn)===null||Er===void 0?void 0:Er.strokeColor,strokeStyle:(Lr=yn)===null||Lr===void 0?void 0:Lr.strokeStyle,fillStyle:(Jr=yn)===null||Jr===void 0?void 0:Jr.fillStyle,opacity:(on=yn)===null||on===void 0?void 0:on.opacity,roughness:(gn=yn)===null||gn===void 0?void 0:gn.roughness,roundness:yn.roundness?(0,w.eK)(yn.roundness.type,vr)?yn.roundness:(0,w.UQ)(vr):null});if((0,U.iB)(dn)){var mn=yn.fontSize||v.n5,Hn=yn.fontFamily||v.rk,eo=null;(dn=(0,b.BE)(dn,{fontSize:mn,fontFamily:Hn,textAlign:yn.textAlign||v.Hg,lineHeight:yn.lineHeight||(0,fe.PT)(Hn)})).containerId&&(eo=Kt.find(function(So){return(0,U.iB)(dn)&&So.id===dn.containerId})||null),(0,U.oN)(dn,eo)}return dn.type==="arrow"&&(0,w.Yv)(yn)&&(dn=(0,b.BE)(dn,{startArrowhead:yn.startArrowhead,endArrowhead:yn.endArrowhead})),(0,w.He)(vr)&&(dn=(0,b.BE)(dn,{roundness:null,backgroundColor:"transparent"})),dn}return vr}),commitToHistory:!0}},contextItemLabel:"labels.pasteStyles",keyTest:function(it){return it[B.tW.CTRL_OR_CMD]&&it.altKey&&it.code===B.aU.V}});function je(it,Oe){var ze=Object.keys(it);if(Object.getOwnPropertySymbols){var $e=Object.getOwnPropertySymbols(it);Oe&&($e=$e.filter(function(pt){return Object.getOwnPropertyDescriptor(it,pt).enumerable})),ze.push.apply(ze,$e)}return ze}function Be(it){for(var Oe=1;Oe<arguments.length;Oe++){var ze=arguments[Oe]!=null?arguments[Oe]:{};Oe%2?je(Object(ze),!0).forEach(function($e){(0,C.Z)(it,$e,ze[$e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(it,Object.getOwnPropertyDescriptors(ze)):je(Object(ze)).forEach(function($e){Object.defineProperty(it,$e,Object.getOwnPropertyDescriptor(ze,$e))})}return it}(0,R.z)({name:"toggleCanvasMenu",trackEvent:{category:"menu"},perform:function(it,Oe){return{appState:Be(Be({},Oe),{},{openMenu:Oe.openMenu==="canvas"?null:"canvas"}),commitToHistory:!1}},PanelComponent:function(it){var Oe=it.appState,ze=it.updateData;return(0,i.jsx)(le.V,{type:"button",icon:E.RY,"aria-label":(0,O.t)("buttons.menu"),onClick:ze,selected:Oe.openMenu==="canvas"})}}),(0,R.z)({name:"toggleEditMenu",trackEvent:{category:"menu"},perform:function(it,Oe){return{appState:Be(Be({},Oe),{},{openMenu:Oe.openMenu==="shape"?null:"shape"}),commitToHistory:!1}},PanelComponent:function(it){var Oe=it.elements,ze=it.appState,$e=it.updateData;return(0,i.jsx)(le.V,{visible:(0,U.RT)(ze,(0,U.Lm)(Oe)),type:"button",icon:E.DG,"aria-label":(0,O.t)("buttons.edit"),onClick:$e,selected:ze.openMenu==="shape"})}});var Qe=(0,R.z)({name:"toggleShortcuts",viewMode:!0,trackEvent:{category:"menu",action:"toggleHelpDialog"},perform:function(it,Oe,ze,$e){var pt=$e.focusContainer;return Oe.openDialog==="help"&&pt(),{appState:Be(Be({},Oe),{},{openDialog:Oe.openDialog==="help"?null:"help"}),commitToHistory:!1}},keyTest:function(it){return it.key===B.tW.QUESTION_MARK}}),rt=n(6655),Ye=n(4643);function tt(it,Oe){var ze=Object.keys(it);if(Object.getOwnPropertySymbols){var $e=Object.getOwnPropertySymbols(it);Oe&&($e=$e.filter(function(pt){return Object.getOwnPropertyDescriptor(it,pt).enumerable})),ze.push.apply(ze,$e)}return ze}function ht(it){for(var Oe=1;Oe<arguments.length;Oe++){var ze=arguments[Oe]!=null?arguments[Oe]:{};Oe%2?tt(Object(ze),!0).forEach(function($e){(0,C.Z)(it,$e,ze[$e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(it,Object.getOwnPropertyDescriptors(ze)):tt(Object(ze)).forEach(function($e){Object.defineProperty(it,$e,Object.getOwnPropertyDescriptor(ze,$e))})}return it}function gt(it,Oe){var ze=typeof Symbol<"u"&&it[Symbol.iterator]||it["@@iterator"];if(!ze){if(Array.isArray(it)||(ze=function(Qt,Vt){if(Qt){if(typeof Qt=="string")return Ue(Qt,Vt);var Er=Object.prototype.toString.call(Qt).slice(8,-1);if(Er==="Object"&&Qt.constructor&&(Er=Qt.constructor.name),Er==="Map"||Er==="Set")return Array.from(Qt);if(Er==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Er))return Ue(Qt,Vt)}}(it))||Oe){ze&&(it=ze);var $e=0,pt=function(){};return{s:pt,n:function(){return $e>=it.length?{done:!0}:{done:!1,value:it[$e++]}},e:function(Qt){throw Qt},f:pt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Kt,fr=!0,vr=!1;return{s:function(){ze=ze.call(it)},n:function(){var Qt=ze.next();return fr=Qt.done,Qt},e:function(Qt){vr=!0,Kt=Qt},f:function(){try{fr||ze.return==null||ze.return()}finally{if(vr)throw Kt}}}}function Ue(it,Oe){(Oe==null||Oe>it.length)&&(Oe=it.length);for(var ze=0,$e=new Array(Oe);ze<Oe;ze++)$e[ze]=it[ze];return $e}var Ce=function(it,Oe,ze){var $e=ze.scene.getSelectedElements({selectedElementIds:Oe.selectedElementIds,includeBoundTextElement:!0});return $e.length>=2&&!function(pt){if(pt.length>=2){var Kt,fr=gt(pt[0].groupIds);try{var vr=function(){var Vt=Kt.value;if(pt.reduce(function(Er,Lr){return Er&&(0,N.Nd)(Lr,Vt)},!0))return{v:!0}};for(fr.s();!(Kt=fr.n()).done;){var Qt=vr();if((0,rt.Z)(Qt)==="object")return Qt.v}}catch(Vt){fr.e(Vt)}finally{fr.f()}}return!1}($e)},Le=(0,R.z)({name:"group",trackEvent:{category:"element"},perform:function(it,Oe,ze,$e){var pt=$e.scene.getSelectedElements({selectedElementIds:Oe.selectedElementIds,includeBoundTextElement:!0});if(pt.length<2)return{appState:Oe,elements:it,commitToHistory:!1};var Kt=(0,N.iJ)(Oe);if(Kt.length===1){var fr=Kt[0],vr=new Set((0,N.Fb)(it,fr).map(function(mn){return mn.id})),Qt=new Set(pt.map(function(mn){return mn.id}));if(new Set([].concat((0,k.Z)(Array.from(vr)),(0,k.Z)(Array.from(Qt)))).size===vr.size)return{appState:Oe,elements:it,commitToHistory:!1}}var Vt=(0,k.Z)(it);new Set(pt.map(function(mn){return mn.frameId})).size>1&&(0,Me.SH)(pt).forEach(function(mn,Hn){Vt=(0,Me.lz)(Vt,mn,Oe)});var Er=(0,Ye.kb)(),Lr=(0,d.xn)(pt);Vt=Vt.map(function(mn){return Lr.get(mn.id)?(0,b.BE)(mn,{groupIds:(0,N.S_)(mn.groupIds,Er,Oe.editingGroupId)}):mn});var Jr=(0,N.Fb)(Vt,Er),on=Jr[Jr.length-1],gn=Vt.lastIndexOf(on),yn=Vt.slice(gn+1),dn=Vt.slice(0,gn).filter(function(mn){return!(0,N.Nd)(mn,Er)});return Vt=[].concat((0,k.Z)(dn),(0,k.Z)(Jr),(0,k.Z)(yn)),{appState:ht(ht({},Oe),(0,N.F$)(Er,ht(ht({},Oe),{},{selectedGroupIds:{}}),(0,U.Lm)(Vt))),elements:Vt,commitToHistory:!0}},contextItemLabel:"labels.group",predicate:function(it,Oe,ze,$e){return Ce(0,Oe,$e)},keyTest:function(it){return!it.shiftKey&&it[B.tW.CTRL_OR_CMD]&&it.key===B.tW.G},PanelComponent:function(it){var Oe=it.elements,ze=it.appState,$e=it.updateData,pt=it.app;return(0,i.jsx)(le.V,{hidden:!Ce(0,ze,pt),type:"button",icon:(0,i.jsx)(E.BF,{theme:ze.theme}),onClick:function(){return $e(null)},title:"".concat((0,O.t)("labels.group")," — ").concat((0,d.uY)("CtrlOrCmd+G")),"aria-label":(0,O.t)("labels.group"),visible:(0,M.N)((0,U.Lm)(Oe),ze)})}}),et=(0,R.z)({name:"ungroup",trackEvent:{category:"element"},perform:function(it,Oe,ze,$e){if((0,N.iJ)(Oe).length===0)return{appState:Oe,elements:it,commitToHistory:!1};var pt=(0,k.Z)(it),Kt=[];pt=pt.map(function(Vt){(0,w.Xh)(Vt)&&Kt.push(Vt.id);var Er=(0,N.h6)(Vt.groupIds,Oe.selectedGroupIds);return Er.length===Vt.groupIds.length?Vt:(0,b.BE)(Vt,{groupIds:Er})});var fr=(0,N.bO)(Oe,(0,U.Lm)(pt),Oe,null),vr=$e.scene.getSelectedElements(Oe),Qt=new Set(vr.filter(function(Vt){return Vt.frameId}).map(function(Vt){return Vt.frameId}));return(0,Me.wO)(it).filter(function(Vt){return Qt.has(Vt.id)}).forEach(function(Vt){Vt&&(pt=(0,Me.pr)(pt,(0,Me.ni)(pt,Vt,Oe),Vt,Oe))}),fr.selectedElementIds=Object.entries(fr.selectedElementIds).reduce(function(Vt,Er){var Lr=(0,A.Z)(Er,2),Jr=Lr[0];return Lr[1]&&!Kt.includes(Jr)&&(Vt[Jr]=!0),Vt},{}),{appState:ht(ht({},Oe),fr),elements:pt,commitToHistory:!0}},keyTest:function(it){return it.shiftKey&&it[B.tW.CTRL_OR_CMD]&&it.key===B.tW.G.toUpperCase()},contextItemLabel:"labels.ungroup",predicate:function(it,Oe){return(0,N.iJ)(Oe).length>0},PanelComponent:function(it){var Oe=it.elements,ze=it.appState,$e=it.updateData;return(0,i.jsx)(le.V,{type:"button",hidden:(0,N.iJ)(ze).length===0,icon:(0,i.jsx)(E.RJ,{theme:ze.theme}),onClick:function(){return $e(null)},title:"".concat((0,O.t)("labels.ungroup")," — ").concat((0,d.uY)("CtrlOrCmd+Shift+G")),"aria-label":(0,O.t)("labels.ungroup"),visible:(0,M.N)((0,U.Lm)(Oe),ze)})}}),ft=n(957),xt=n(3379),wt=n.n(xt),Rt=n(7795),It=n.n(Rt),At=n(569),Xt=n.n(At),tr=n(3565),Gt=n.n(tr),Jt=n(9216),gr=n.n(Jt),Pt=n(4589),St=n.n(Pt),Zt=n(3729),Tt={};Tt.styleTagTransform=St(),Tt.setAttributes=Gt(),Tt.insert=Xt().bind(null,"head"),Tt.domAPI=It(),Tt.insertStyleElement=gr(),wt()(Zt.Z,Tt),Zt.Z&&Zt.Z.locals&&Zt.Z.locals;var Lt=n(9787),Wt=function(it){var Oe=it.color,ze=it.onClick,$e=it.name,pt=it.src,Kt=(0,ft.l)($e),fr=(0,Lt.useState)(!1),vr=(0,A.Z)(fr,2),Qt=vr[0],Vt=vr[1],Er=!Qt&&pt,Lr=Er?void 0:{background:Oe};return(0,i.jsx)("div",{className:"Avatar",style:Lr,onClick:ze,children:Er?(0,i.jsx)("img",{className:"Avatar-img",src:pt,alt:Kt,referrerPolicy:"no-referrer",onError:function(){return Vt(!0)}}):Kt})},qt=n(2382);function sr(it,Oe){var ze=Object.keys(it);if(Object.getOwnPropertySymbols){var $e=Object.getOwnPropertySymbols(it);Oe&&($e=$e.filter(function(pt){return Object.getOwnPropertyDescriptor(it,pt).enumerable})),ze.push.apply(ze,$e)}return ze}function cr(it){for(var Oe=1;Oe<arguments.length;Oe++){var ze=arguments[Oe]!=null?arguments[Oe]:{};Oe%2?sr(Object(ze),!0).forEach(function($e){(0,C.Z)(it,$e,ze[$e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(it,Object.getOwnPropertyDescriptors(ze)):sr(Object(ze)).forEach(function($e){Object.defineProperty(it,$e,Object.getOwnPropertyDescriptor(ze,$e))})}return it}(0,R.z)({name:"goToCollaborator",viewMode:!0,trackEvent:{category:"collab"},perform:function(it,Oe,ze){var $e=ze;return $e?{appState:cr(cr(cr({},Oe),(0,qt.s)({scenePoint:$e,viewportDimensions:{width:Oe.width,height:Oe.height},zoom:Oe.zoom})),{},{openMenu:Oe.openMenu==="canvas"?null:Oe.openMenu}),commitToHistory:!1}:{appState:Oe,commitToHistory:!1}},PanelComponent:function(it){var Oe=it.updateData,ze=it.data,$e=(0,A.Z)(ze,2),pt=$e[0],Kt=$e[1],fr=(0,ft.G)(pt);return(0,i.jsx)(Wt,{color:fr,onClick:function(){return Oe(Kt.pointer)},name:Kt.username||"",src:Kt.avatarUrl})}});var Sr=n(5742);function Mr(it,Oe){var ze=Object.keys(it);if(Object.getOwnPropertySymbols){var $e=Object.getOwnPropertySymbols(it);Oe&&($e=$e.filter(function(pt){return Object.getOwnPropertyDescriptor(it,pt).enumerable})),ze.push.apply(ze,$e)}return ze}function zr(it){for(var Oe=1;Oe<arguments.length;Oe++){var ze=arguments[Oe]!=null?arguments[Oe]:{};Oe%2?Mr(Object(ze),!0).forEach(function($e){(0,C.Z)(it,$e,ze[$e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(it,Object.getOwnPropertyDescriptors(ze)):Mr(Object(ze)).forEach(function($e){Object.defineProperty(it,$e,Object.getOwnPropertyDescriptor(ze,$e))})}return it}function pr(it,Oe){var ze=typeof Symbol<"u"&&it[Symbol.iterator]||it["@@iterator"];if(!ze){if(Array.isArray(it)||(ze=function(Qt,Vt){if(Qt){if(typeof Qt=="string")return Ft(Qt,Vt);var Er=Object.prototype.toString.call(Qt).slice(8,-1);if(Er==="Object"&&Qt.constructor&&(Er=Qt.constructor.name),Er==="Map"||Er==="Set")return Array.from(Qt);if(Er==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Er))return Ft(Qt,Vt)}}(it))||Oe){ze&&(it=ze);var $e=0,pt=function(){};return{s:pt,n:function(){return $e>=it.length?{done:!0}:{done:!1,value:it[$e++]}},e:function(Qt){throw Qt},f:pt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Kt,fr=!0,vr=!1;return{s:function(){ze=ze.call(it)},n:function(){var Qt=ze.next();return fr=Qt.done,Qt},e:function(Qt){vr=!0,Kt=Qt},f:function(){try{fr||ze.return==null||ze.return()}finally{if(vr)throw Kt}}}}function Ft(it,Oe){(Oe==null||Oe>it.length)&&(Oe=it.length);for(var ze=0,$e=new Array(Oe);ze<Oe;ze++)$e[ze]=it[ze];return $e}var or=(0,R.z)({name:"addToLibrary",trackEvent:{category:"element"},perform:function(it,Oe,ze,$e){var pt,Kt=$e.scene.getSelectedElements({selectedElementIds:Oe.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0}),fr=pr(v.PR);try{var vr=function(){var Vt=pt.value;if(Kt.some(function(Er){return Er.type===Vt}))return{v:{commitToHistory:!1,appState:zr(zr({},Oe),{},{errorMessage:(0,O.t)("errors.libraryElementTypeError.".concat(Vt))})}}};for(fr.s();!(pt=fr.n()).done;){var Qt=vr();if((0,rt.Z)(Qt)==="object")return Qt.v}}catch(Vt){fr.e(Vt)}finally{fr.f()}return $e.library.getLatestLibrary().then(function(Vt){return $e.library.setLibrary([{id:(0,Ye.kb)(),status:"unpublished",elements:Kt.map(Sr.OL),created:Date.now()}].concat((0,k.Z)(Vt)))}).then(function(){return{commitToHistory:!1,appState:zr(zr({},Oe),{},{toast:{message:(0,O.t)("toast.addedToLibrary")}})}}).catch(function(Vt){return{commitToHistory:!1,appState:zr(zr({},Oe),{},{errorMessage:Vt.message})}})},contextItemLabel:"labels.addToLibrary"}),rr=n(4949);function Or(it,Oe){var ze=Object.keys(it);if(Object.getOwnPropertySymbols){var $e=Object.getOwnPropertySymbols(it);Oe&&($e=$e.filter(function(pt){return Object.getOwnPropertyDescriptor(it,pt).enumerable})),ze.push.apply(ze,$e)}return ze}function Kr(it){for(var Oe=1;Oe<arguments.length;Oe++){var ze=arguments[Oe]!=null?arguments[Oe]:{};Oe%2?Or(Object(ze),!0).forEach(function($e){(0,C.Z)(it,$e,ze[$e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(it,Object.getOwnPropertyDescriptors(ze)):Or(Object(ze)).forEach(function($e){Object.defineProperty(it,$e,Object.getOwnPropertyDescriptor(ze,$e))})}return it}var Xr=function(it,Oe,ze){var $e=ze.axis,pt=ze.position,Kt=(0,rr.v2)(it),fr=$e==="x"?["minX","maxX"]:["minY","maxY"],vr=(0,A.Z)(fr,2),Qt=vr[0],Vt=vr[1],Er={x:0,y:0};return Kr(Kr({},Er),{},pt==="start"?(0,C.Z)({},$e,Oe[Qt]-Kt[Qt]):pt==="end"?(0,C.Z)({},$e,Oe[Vt]-Kt[Vt]):(0,C.Z)({},$e,(Oe[Qt]+Oe[Vt])/2-(Kt[Qt]+Kt[Vt])/2))},cn=function(it,Oe,ze,$e){var pt=$e.scene.getSelectedElements(Oe);return pt.length>1&&!pt.some(function(Kt){return Kt.type==="frame"})},en=function(it,Oe,ze,$e){var pt=function(fr,vr){var Qt=(0,N.AI)(fr),Vt=(0,rr.v2)(fr);return Qt.flatMap(function(Er){var Lr=Xr(Er,Vt,vr);return Er.map(function(Jr){return(0,b.BE)(Jr,{x:Jr.x+Lr.x,y:Jr.y+Lr.y})})})}(ze.scene.getSelectedElements(Oe),$e),Kt=(0,d.xn)(pt);return(0,Me.Tq)(it.map(function(fr){return Kt.get(fr.id)||fr}),Oe,ze)};(0,R.z)({name:"alignTop",trackEvent:{category:"element"},predicate:cn,perform:function(it,Oe,ze,$e){return{appState:Oe,elements:en(it,Oe,$e,{position:"start",axis:"y"}),commitToHistory:!0}},keyTest:function(it){return it[B.tW.CTRL_OR_CMD]&&it.shiftKey&&it.key===B.tW.ARROW_UP},PanelComponent:function(it){var Oe=it.elements,ze=it.appState,$e=it.updateData,pt=it.app;return(0,i.jsx)(le.V,{hidden:!cn(0,ze,0,pt),type:"button",icon:E.Ct,onClick:function(){return $e(null)},title:"".concat((0,O.t)("labels.alignTop")," — ").concat((0,d.uY)("CtrlOrCmd+Shift+Up")),"aria-label":(0,O.t)("labels.alignTop"),visible:(0,M.N)((0,U.Lm)(Oe),ze)})}}),(0,R.z)({name:"alignBottom",trackEvent:{category:"element"},predicate:cn,perform:function(it,Oe,ze,$e){return{appState:Oe,elements:en(it,Oe,$e,{position:"end",axis:"y"}),commitToHistory:!0}},keyTest:function(it){return it[B.tW.CTRL_OR_CMD]&&it.shiftKey&&it.key===B.tW.ARROW_DOWN},PanelComponent:function(it){var Oe=it.elements,ze=it.appState,$e=it.updateData,pt=it.app;return(0,i.jsx)(le.V,{hidden:!cn(0,ze,0,pt),type:"button",icon:E.HL,onClick:function(){return $e(null)},title:"".concat((0,O.t)("labels.alignBottom")," — ").concat((0,d.uY)("CtrlOrCmd+Shift+Down")),"aria-label":(0,O.t)("labels.alignBottom"),visible:(0,M.N)((0,U.Lm)(Oe),ze)})}}),(0,R.z)({name:"alignLeft",trackEvent:{category:"element"},predicate:cn,perform:function(it,Oe,ze,$e){return{appState:Oe,elements:en(it,Oe,$e,{position:"start",axis:"x"}),commitToHistory:!0}},keyTest:function(it){return it[B.tW.CTRL_OR_CMD]&&it.shiftKey&&it.key===B.tW.ARROW_LEFT},PanelComponent:function(it){var Oe=it.elements,ze=it.appState,$e=it.updateData,pt=it.app;return(0,i.jsx)(le.V,{hidden:!cn(0,ze,0,pt),type:"button",icon:E.xs,onClick:function(){return $e(null)},title:"".concat((0,O.t)("labels.alignLeft")," — ").concat((0,d.uY)("CtrlOrCmd+Shift+Left")),"aria-label":(0,O.t)("labels.alignLeft"),visible:(0,M.N)((0,U.Lm)(Oe),ze)})}}),(0,R.z)({name:"alignRight",trackEvent:{category:"element"},predicate:cn,perform:function(it,Oe,ze,$e){return{appState:Oe,elements:en(it,Oe,$e,{position:"end",axis:"x"}),commitToHistory:!0}},keyTest:function(it){return it[B.tW.CTRL_OR_CMD]&&it.shiftKey&&it.key===B.tW.ARROW_RIGHT},PanelComponent:function(it){var Oe=it.elements,ze=it.appState,$e=it.updateData,pt=it.app;return(0,i.jsx)(le.V,{hidden:!cn(0,ze,0,pt),type:"button",icon:E.mh,onClick:function(){return $e(null)},title:"".concat((0,O.t)("labels.alignRight")," — ").concat((0,d.uY)("CtrlOrCmd+Shift+Right")),"aria-label":(0,O.t)("labels.alignRight"),visible:(0,M.N)((0,U.Lm)(Oe),ze)})}}),(0,R.z)({name:"alignVerticallyCentered",trackEvent:{category:"element"},predicate:cn,perform:function(it,Oe,ze,$e){return{appState:Oe,elements:en(it,Oe,$e,{position:"center",axis:"y"}),commitToHistory:!0}},PanelComponent:function(it){var Oe=it.elements,ze=it.appState,$e=it.updateData,pt=it.app;return(0,i.jsx)(le.V,{hidden:!cn(0,ze,0,pt),type:"button",icon:E.ST,onClick:function(){return $e(null)},title:(0,O.t)("labels.centerVertically"),"aria-label":(0,O.t)("labels.centerVertically"),visible:(0,M.N)((0,U.Lm)(Oe),ze)})}}),(0,R.z)({name:"alignHorizontallyCentered",trackEvent:{category:"element"},predicate:cn,perform:function(it,Oe,ze,$e){return{appState:Oe,elements:en(it,Oe,$e,{position:"center",axis:"x"}),commitToHistory:!0}},PanelComponent:function(it){var Oe=it.elements,ze=it.appState,$e=it.updateData,pt=it.app;return(0,i.jsx)(le.V,{hidden:!cn(0,ze,0,pt),type:"button",icon:E.gK,onClick:function(){return $e(null)},title:(0,O.t)("labels.centerHorizontally"),"aria-label":(0,O.t)("labels.centerHorizontally"),visible:(0,M.N)((0,U.Lm)(Oe),ze)})}});function ur(it,Oe){var ze=typeof Symbol<"u"&&it[Symbol.iterator]||it["@@iterator"];if(!ze){if(Array.isArray(it)||(ze=function(Qt,Vt){if(Qt){if(typeof Qt=="string")return Dt(Qt,Vt);var Er=Object.prototype.toString.call(Qt).slice(8,-1);if(Er==="Object"&&Qt.constructor&&(Er=Qt.constructor.name),Er==="Map"||Er==="Set")return Array.from(Qt);if(Er==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Er))return Dt(Qt,Vt)}}(it))||Oe){ze&&(it=ze);var $e=0,pt=function(){};return{s:pt,n:function(){return $e>=it.length?{done:!0}:{done:!1,value:it[$e++]}},e:function(Qt){throw Qt},f:pt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Kt,fr=!0,vr=!1;return{s:function(){ze=ze.call(it)},n:function(){var Qt=ze.next();return fr=Qt.done,Qt},e:function(Qt){vr=!0,Kt=Qt},f:function(){try{fr||ze.return==null||ze.return()}finally{if(vr)throw Kt}}}}function Dt(it,Oe){(Oe==null||Oe>it.length)&&(Oe=it.length);for(var ze=0,$e=new Array(Oe);ze<Oe;ze++)$e[ze]=it[ze];return $e}var Nt=function(it,Oe){var ze=Oe.scene.getSelectedElements(it);return ze.length>1&&!ze.some(function($e){return $e.type==="frame"})},Ut=function(it,Oe,ze,$e){var pt=function(fr,vr){var Qt,Vt=vr.axis==="x"?["minX","midX","maxX","width"]:["minY","midY","maxY","height"],Er=(0,A.Z)(Vt,4),Lr=Er[0],Jr=Er[1],on=Er[2],gn=Er[3],yn=(0,rr.v2)(fr),dn=(0,N.AI)(fr).map(function(Yn){return[Yn,(0,rr.v2)(Yn)]}).sort(function(Yn,vo){return Yn[1][Jr]-vo[1][Jr]}),mn=0,Hn=ur(dn);try{for(Hn.s();!(Qt=Hn.n()).done;)mn+=Qt.value[1][gn]}catch(Yn){Hn.e(Yn)}finally{Hn.f()}var eo=(yn[gn]-mn)/(dn.length-1);if(eo<0){var So=dn.findIndex(function(Yn){return Yn[1][Lr]===yn[Lr]}),Qo=dn.findIndex(function(Yn){return Yn[1][on]===yn[on]}),Fo=(dn[Qo][1][Jr]-dn[So][1][Jr])/(dn.length-1),On=dn[So][1][Jr];return dn.flatMap(function(Yn,vo){var Ao=(0,A.Z)(Yn,2),Yo=Ao[0],vi=Ao[1],Oi={x:0,y:0};return vo!==So&&vo!==Qo&&(On+=Fo,Oi[vr.axis]=On-vi[Jr]),Yo.map(function(bi){return(0,b.BE)(bi,{x:bi.x+Oi.x,y:bi.y+Oi.y})})})}var bn=yn[Lr];return dn.flatMap(function(Yn){var vo=(0,A.Z)(Yn,2),Ao=vo[0],Yo=vo[1],vi={x:0,y:0};return vi[vr.axis]=bn-Yo[Lr],bn+=eo,bn+=Yo[gn],Ao.map(function(Oi){return(0,b.BE)(Oi,{x:Oi.x+vi.x,y:Oi.y+vi.y})})})}(ze.scene.getSelectedElements(Oe),$e),Kt=(0,d.xn)(pt);return(0,Me.Tq)(it.map(function(fr){return Kt.get(fr.id)||fr}),Oe,ze)},hr=((0,R.z)({name:"distributeHorizontally",trackEvent:{category:"element"},perform:function(it,Oe,ze,$e){return{appState:Oe,elements:Ut(it,Oe,$e,{axis:"x"}),commitToHistory:!0}},keyTest:function(it){return!it[B.tW.CTRL_OR_CMD]&&it.altKey&&it.code===B.aU.H},PanelComponent:function(it){var Oe=it.elements,ze=it.appState,$e=it.updateData,pt=it.app;return(0,i.jsx)(le.V,{hidden:!Nt(ze,pt),type:"button",icon:E.uD,onClick:function(){return $e(null)},title:"".concat((0,O.t)("labels.distributeHorizontally")," — ").concat((0,d.uY)("Alt+H")),"aria-label":(0,O.t)("labels.distributeHorizontally"),visible:(0,M.N)((0,U.Lm)(Oe),ze)})}}),(0,R.z)({name:"distributeVertically",trackEvent:{category:"element"},perform:function(it,Oe,ze,$e){return{appState:Oe,elements:Ut(it,Oe,$e,{axis:"y"}),commitToHistory:!0}},keyTest:function(it){return!it[B.tW.CTRL_OR_CMD]&&it.altKey&&it.code===B.aU.V},PanelComponent:function(it){var Oe=it.elements,ze=it.appState,$e=it.updateData,pt=it.app;return(0,i.jsx)(le.V,{hidden:!Nt(ze,pt),type:"button",icon:E.W5,onClick:function(){return $e(null)},title:"".concat((0,O.t)("labels.distributeVertically")," — ").concat((0,d.uY)("Alt+V")),"aria-label":(0,O.t)("labels.distributeVertically"),visible:(0,M.N)((0,U.Lm)(Oe),ze)})}}),n(4381)),jr=(0,R.z)({name:"flipHorizontal",trackEvent:{category:"element"},perform:function(it,Oe,ze,$e){return{elements:(0,Me.Tq)(Zr(it,Oe,"horizontal"),Oe,$e),appState:Oe,commitToHistory:!0}},keyTest:function(it){return it.shiftKey&&it.code===B.aU.H},contextItemLabel:"labels.flipHorizontal"}),Cr=(0,R.z)({name:"flipVertical",trackEvent:{category:"element"},perform:function(it,Oe,ze,$e){return{elements:(0,Me.Tq)(Zr(it,Oe,"vertical"),Oe,$e),appState:Oe,commitToHistory:!0}},keyTest:function(it){return it.shiftKey&&it.code===B.aU.V&&!it[B.tW.CTRL_OR_CMD]},contextItemLabel:"labels.flipVertical"}),Zr=function(it,Oe,ze){var $e=(0,M.eD)((0,U.Lm)(it),Oe,{includeBoundTextElement:!0,includeElementsInFrames:!0}),pt=Dr($e,Oe,ze),Kt=(0,d.xn)(pt);return it.map(function(fr){return Kt.get(fr.id)||fr})},Dr=function(it,Oe,ze){var $e=(0,rr.v2)(it),pt=$e.minX,Kt=$e.minY,fr=$e.maxX,vr=$e.maxY;return(0,hr.LM)({originalElements:(0,d.xn)(it)},it,"nw",!0,ze==="horizontal"?fr:pt,ze==="horizontal"?Kt:vr),((0,de.N1)(Oe)?de.el:de.H)(it),it},Fr=n(5047);function ln(it,Oe){var ze=Object.keys(it);if(Object.getOwnPropertySymbols){var $e=Object.getOwnPropertySymbols(it);Oe&&($e=$e.filter(function(pt){return Object.getOwnPropertyDescriptor(it,pt).enumerable})),ze.push.apply(ze,$e)}return ze}function Gr(it){for(var Oe=1;Oe<arguments.length;Oe++){var ze=arguments[Oe]!=null?arguments[Oe]:{};Oe%2?ln(Object(ze),!0).forEach(function($e){(0,C.Z)(it,$e,ze[$e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(it,Object.getOwnPropertyDescriptors(ze)):ln(Object(ze)).forEach(function($e){Object.defineProperty(it,$e,Object.getOwnPropertyDescriptor(ze,$e))})}return it}var Rr=(0,R.z)({name:"gridMode",viewMode:!0,trackEvent:{category:"canvas",predicate:function(it){return!it.gridSize}},perform:function(it,Oe){return{appState:Gr(Gr({},Oe),{},{gridSize:this.checked(Oe)?null:v.k,objectsSnapModeEnabled:!1}),commitToHistory:!1}},checked:function(it){return it.gridSize!==null},predicate:function(it,Oe,ze){return ze.gridModeEnabled===void 0},contextItemLabel:"labels.showGrid",keyTest:function(it){return it[B.tW.CTRL_OR_CMD]&&it.code===B.aU.QUOTE}});function Wr(it,Oe){var ze=Object.keys(it);if(Object.getOwnPropertySymbols){var $e=Object.getOwnPropertySymbols(it);Oe&&($e=$e.filter(function(pt){return Object.getOwnPropertyDescriptor(it,pt).enumerable})),ze.push.apply(ze,$e)}return ze}function Ur(it){for(var Oe=1;Oe<arguments.length;Oe++){var ze=arguments[Oe]!=null?arguments[Oe]:{};Oe%2?Wr(Object(ze),!0).forEach(function($e){(0,C.Z)(it,$e,ze[$e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(it,Object.getOwnPropertyDescriptors(ze)):Wr(Object(ze)).forEach(function($e){Object.defineProperty(it,$e,Object.getOwnPropertyDescriptor(ze,$e))})}return it}var rn=(0,R.z)({name:"zenMode",viewMode:!0,trackEvent:{category:"canvas",predicate:function(it){return!it.zenModeEnabled}},perform:function(it,Oe){return{appState:Ur(Ur({},Oe),{},{zenModeEnabled:!this.checked(Oe)}),commitToHistory:!1}},checked:function(it){return it.zenModeEnabled},predicate:function(it,Oe,ze){return ze.zenModeEnabled===void 0},contextItemLabel:"buttons.zenMode",keyTest:function(it){return!it[B.tW.CTRL_OR_CMD]&&it.altKey&&it.code===B.aU.Z}});function an(it,Oe){var ze=Object.keys(it);if(Object.getOwnPropertySymbols){var $e=Object.getOwnPropertySymbols(it);Oe&&($e=$e.filter(function(pt){return Object.getOwnPropertyDescriptor(it,pt).enumerable})),ze.push.apply(ze,$e)}return ze}function Qr(it){for(var Oe=1;Oe<arguments.length;Oe++){var ze=arguments[Oe]!=null?arguments[Oe]:{};Oe%2?an(Object(ze),!0).forEach(function($e){(0,C.Z)(it,$e,ze[$e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(it,Object.getOwnPropertyDescriptors(ze)):an(Object(ze)).forEach(function($e){Object.defineProperty(it,$e,Object.getOwnPropertyDescriptor(ze,$e))})}return it}var In=(0,R.z)({name:"objectsSnapMode",viewMode:!0,trackEvent:{category:"canvas",predicate:function(it){return!it.objectsSnapModeEnabled}},perform:function(it,Oe){return{appState:Qr(Qr({},Oe),{},{objectsSnapModeEnabled:!this.checked(Oe),gridSize:null}),commitToHistory:!1}},checked:function(it){return it.objectsSnapModeEnabled},predicate:function(it,Oe,ze){return ze.objectsSnapModeEnabled===void 0},contextItemLabel:"buttons.objectsSnapMode",keyTest:function(it){return!it[B.tW.CTRL_OR_CMD]&&it.altKey&&it.code===B.aU.S}}),Xn=n(7080),go=n(7392),bo=n(5992),_o=n(9672);function wo(it,Oe){var ze=Object.keys(it);if(Object.getOwnPropertySymbols){var $e=Object.getOwnPropertySymbols(it);Oe&&($e=$e.filter(function(pt){return Object.getOwnPropertyDescriptor(it,pt).enumerable})),ze.push.apply(ze,$e)}return ze}function ao(it){for(var Oe=1;Oe<arguments.length;Oe++){var ze=arguments[Oe]!=null?arguments[Oe]:{};Oe%2?wo(Object(ze),!0).forEach(function($e){(0,C.Z)(it,$e,ze[$e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(it,Object.getOwnPropertyDescriptors(ze)):wo(Object(ze)).forEach(function($e){Object.defineProperty(it,$e,Object.getOwnPropertyDescriptor(ze,$e))})}return it}var co=(0,R.z)({name:"toggleLinearEditor",trackEvent:{category:"element"},predicate:function(it,Oe,ze,$e){var pt=$e.scene.getSelectedElements(Oe);return!(pt.length!==1||!(0,w.bt)(pt[0]))},perform:function(it,Oe,ze,$e){var pt,Kt=$e.scene.getSelectedElements({selectedElementIds:Oe.selectedElementIds,includeBoundTextElement:!0})[0],fr=((pt=Oe.editingLinearElement)===null||pt===void 0?void 0:pt.elementId)===Kt.id?null:new V._(Kt,$e.scene);return{appState:ao(ao({},Oe),{},{editingLinearElement:fr}),commitToHistory:!1}},contextItemLabel:function(it,Oe,ze){var $e,pt=ze.scene.getSelectedElements({selectedElementIds:Oe.selectedElementIds,includeBoundTextElement:!0})[0];return(($e=Oe.editingLinearElement)===null||$e===void 0?void 0:$e.elementId)===pt.id?"labels.lineEditor.exit":"labels.lineEditor.edit"}})},2767:function(We,ue,n){n.d(ue,{N:function(){return r},z:function(){return A}});var r=[],A=function(k){return r=r.concat(k),k}},2529:function(We,ue,n){n.d(ue,{C:function(){return w}});var r=n(9937),A=n(8227),k=n(9827),b={toggleTheme:[(0,k.uY)("Shift+Alt+D")],saveScene:[(0,k.uY)("CtrlOrCmd+S")],loadScene:[(0,k.uY)("CtrlOrCmd+O")],clearCanvas:[(0,k.uY)("CtrlOrCmd+Delete")],imageExport:[(0,k.uY)("CtrlOrCmd+Shift+E")],cut:[(0,k.uY)("CtrlOrCmd+X")],copy:[(0,k.uY)("CtrlOrCmd+C")],paste:[(0,k.uY)("CtrlOrCmd+V")],copyStyles:[(0,k.uY)("CtrlOrCmd+Alt+C")],pasteStyles:[(0,k.uY)("CtrlOrCmd+Alt+V")],selectAll:[(0,k.uY)("CtrlOrCmd+A")],deleteSelectedElements:[(0,k.uY)("Delete")],duplicateSelection:[(0,k.uY)("CtrlOrCmd+D"),(0,k.uY)("Alt+".concat((0,A.t)("helpDialog.drag")))],sendBackward:[(0,k.uY)("CtrlOrCmd+[")],bringForward:[(0,k.uY)("CtrlOrCmd+]")],sendToBack:[r.Um?(0,k.uY)("CtrlOrCmd+Alt+["):(0,k.uY)("CtrlOrCmd+Shift+[")],bringToFront:[r.Um?(0,k.uY)("CtrlOrCmd+Alt+]"):(0,k.uY)("CtrlOrCmd+Shift+]")],copyAsPng:[(0,k.uY)("Shift+Alt+C")],copyAsSvg:[],group:[(0,k.uY)("CtrlOrCmd+G")],ungroup:[(0,k.uY)("CtrlOrCmd+Shift+G")],gridMode:[(0,k.uY)("CtrlOrCmd+'")],zenMode:[(0,k.uY)("Alt+Z")],objectsSnapMode:[(0,k.uY)("Alt+S")],stats:[(0,k.uY)("Alt+/")],addToLibrary:[],flipHorizontal:[(0,k.uY)("Shift+H")],flipVertical:[(0,k.uY)("Shift+V")],viewMode:[(0,k.uY)("Alt+R")],hyperlink:[(0,k.uY)("CtrlOrCmd+K")],toggleElementLock:[(0,k.uY)("CtrlOrCmd+Shift+L")]},w=function(N){var M=b[N];return M&&M.length>0?M[0]:""}},3646:function(We,ue,n){n.d(ue,{L:function(){return r}});var r=function(A,k,b,w){try{if(typeof window>"u"||{VITE_APP_BACKEND_V2_GET_URL:"https://json.excalidraw.com/api/v2/",VITE_APP_BACKEND_V2_POST_URL:"https://json.excalidraw.com/api/v2/post/",VITE_APP_LIBRARY_URL:"https://libraries.excalidraw.com",VITE_APP_LIBRARY_BACKEND:"https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries",VITE_APP_PORTAL_URL:"https://portal.excalidraw.com",VITE_APP_PLUS_LP:"https://plus.excalidraw.com",VITE_APP_PLUS_APP:"https://app.excalidraw.com",VITE_APP_WS_SERVER_URL:"",VITE_APP_FIREBASE_CONFIG:'{"apiKey":"AIzaSyAd15pYlMci_xIp9ko6wkEsDzAAA0Dn0RU","authDomain":"excalidraw-room-persistence.firebaseapp.com","databaseURL":"https://excalidraw-room-persistence.firebaseio.com","projectId":"excalidraw-room-persistence","storageBucket":"excalidraw-room-persistence.appspot.com","messagingSenderId":"654800341332","appId":"1:654800341332:web:4a692de832b55bd57ce0c1"}',VITE_APP_DISABLE_TRACKING:"",VITE_PKG_NAME:"@excalidraw/excalidraw",VITE_PKG_VERSION:"0.17.6",VITE_IS_EXCALIDRAW_NPM_PACKAGE:!0}.VITE_WORKER_ID||![].includes(A))return;window.sa_event&&window.sa_event(k,{category:A,label:b,value:w})}catch(N){console.error("error during analytics",N)}}},6853:function(We,ue,n){n.d(ue,{EN:function(){return L},eS:function(){return j},im:function(){return N},l$:function(){return H},s:function(){return d}});var r=n(9240),A=n(9937),k=n(8227),b=n(9827),w=A.ZB.includes(devicePixelRatio)?devicePixelRatio:1,N=function(){return{showWelcomeScreen:!1,theme:A.C6.LIGHT,collaborators:new Map,currentChartType:"bar",currentItemBackgroundColor:A.HN.backgroundColor,currentItemEndArrowhead:"arrow",currentItemFillStyle:A.HN.fillStyle,currentItemFontFamily:A.rk,currentItemFontSize:A.n5,currentItemOpacity:A.HN.opacity,currentItemRoughness:A.HN.roughness,currentItemStartArrowhead:null,currentItemStrokeColor:A.HN.strokeColor,currentItemRoundness:"round",currentItemStrokeStyle:A.HN.strokeStyle,currentItemStrokeWidth:A.HN.strokeWidth,currentItemTextAlign:A.Hg,cursorButton:"up",activeEmbeddable:null,draggingElement:null,editingElement:null,editingGroupId:null,editingLinearElement:null,activeTool:{type:"selection",customType:null,locked:A.HN.locked,lastActiveTool:null},penMode:!1,penDetected:!1,errorMessage:null,exportBackground:!0,exportScale:w,exportEmbedScene:!1,exportWithDarkMode:!1,fileHandle:null,gridSize:null,isBindingEnabled:!0,defaultSidebarDockedPreference:!1,isLoading:!1,isResizing:!1,isRotating:!1,lastPointerDownWith:"mouse",multiElement:null,name:"".concat((0,k.t)("labels.untitled"),"-").concat((0,b.Fc)()),contextMenu:null,openMenu:null,openPopup:null,openSidebar:null,openDialog:null,pasteDialog:{shown:!1,data:null},previousSelectedElementIds:{},resizingElement:null,scrolledOutside:!1,scrollX:0,scrollY:0,selectedElementIds:{},selectedGroupIds:{},selectedElementsAreBeingDragged:!1,selectionElement:null,shouldCacheIgnoreZoom:!1,showStats:!1,startBoundElement:null,suggestedBindings:[],frameRendering:{enabled:!0,clip:!0,name:!0,outline:!0},frameToHighlight:null,editingFrame:null,elementsToHighlight:null,toast:null,viewBackgroundColor:r.HO.white,zenModeEnabled:!1,zoom:{value:1},viewModeEnabled:!1,pendingImageElementId:null,showHyperlinkPopup:!1,selectedLinearElement:null,snapLines:[],originSnapOffset:{x:0,y:0},objectsSnapModeEnabled:!1}},M={showWelcomeScreen:{browser:!0,export:!1,server:!1},theme:{browser:!0,export:!1,server:!1},collaborators:{browser:!1,export:!1,server:!1},currentChartType:{browser:!0,export:!1,server:!1},currentItemBackgroundColor:{browser:!0,export:!1,server:!1},currentItemEndArrowhead:{browser:!0,export:!1,server:!1},currentItemFillStyle:{browser:!0,export:!1,server:!1},currentItemFontFamily:{browser:!0,export:!1,server:!1},currentItemFontSize:{browser:!0,export:!1,server:!1},currentItemRoundness:{browser:!0,export:!1,server:!1},currentItemOpacity:{browser:!0,export:!1,server:!1},currentItemRoughness:{browser:!0,export:!1,server:!1},currentItemStartArrowhead:{browser:!0,export:!1,server:!1},currentItemStrokeColor:{browser:!0,export:!1,server:!1},currentItemStrokeStyle:{browser:!0,export:!1,server:!1},currentItemStrokeWidth:{browser:!0,export:!1,server:!1},currentItemTextAlign:{browser:!0,export:!1,server:!1},cursorButton:{browser:!0,export:!1,server:!1},activeEmbeddable:{browser:!1,export:!1,server:!1},draggingElement:{browser:!1,export:!1,server:!1},editingElement:{browser:!1,export:!1,server:!1},editingGroupId:{browser:!0,export:!1,server:!1},editingLinearElement:{browser:!1,export:!1,server:!1},activeTool:{browser:!0,export:!1,server:!1},penMode:{browser:!0,export:!1,server:!1},penDetected:{browser:!0,export:!1,server:!1},errorMessage:{browser:!1,export:!1,server:!1},exportBackground:{browser:!0,export:!1,server:!1},exportEmbedScene:{browser:!0,export:!1,server:!1},exportScale:{browser:!0,export:!1,server:!1},exportWithDarkMode:{browser:!0,export:!1,server:!1},fileHandle:{browser:!1,export:!1,server:!1},gridSize:{browser:!0,export:!0,server:!0},height:{browser:!1,export:!1,server:!1},isBindingEnabled:{browser:!1,export:!1,server:!1},defaultSidebarDockedPreference:{browser:!0,export:!1,server:!1},isLoading:{browser:!1,export:!1,server:!1},isResizing:{browser:!1,export:!1,server:!1},isRotating:{browser:!1,export:!1,server:!1},lastPointerDownWith:{browser:!0,export:!1,server:!1},multiElement:{browser:!1,export:!1,server:!1},name:{browser:!0,export:!1,server:!1},offsetLeft:{browser:!1,export:!1,server:!1},offsetTop:{browser:!1,export:!1,server:!1},contextMenu:{browser:!1,export:!1,server:!1},openMenu:{browser:!0,export:!1,server:!1},openPopup:{browser:!1,export:!1,server:!1},openSidebar:{browser:!0,export:!1,server:!1},openDialog:{browser:!1,export:!1,server:!1},pasteDialog:{browser:!1,export:!1,server:!1},previousSelectedElementIds:{browser:!0,export:!1,server:!1},resizingElement:{browser:!1,export:!1,server:!1},scrolledOutside:{browser:!0,export:!1,server:!1},scrollX:{browser:!0,export:!1,server:!1},scrollY:{browser:!0,export:!1,server:!1},selectedElementIds:{browser:!0,export:!1,server:!1},selectedGroupIds:{browser:!0,export:!1,server:!1},selectedElementsAreBeingDragged:{browser:!1,export:!1,server:!1},selectionElement:{browser:!1,export:!1,server:!1},shouldCacheIgnoreZoom:{browser:!0,export:!1,server:!1},showStats:{browser:!0,export:!1,server:!1},startBoundElement:{browser:!1,export:!1,server:!1},suggestedBindings:{browser:!1,export:!1,server:!1},frameRendering:{browser:!1,export:!1,server:!1},frameToHighlight:{browser:!1,export:!1,server:!1},editingFrame:{browser:!1,export:!1,server:!1},elementsToHighlight:{browser:!1,export:!1,server:!1},toast:{browser:!1,export:!1,server:!1},viewBackgroundColor:{browser:!0,export:!0,server:!0},width:{browser:!1,export:!1,server:!1},zenModeEnabled:{browser:!0,export:!1,server:!1},zoom:{browser:!0,export:!1,server:!1},viewModeEnabled:{browser:!1,export:!1,server:!1},pendingImageElementId:{browser:!1,export:!1,server:!1},showHyperlinkPopup:{browser:!1,export:!1,server:!1},selectedLinearElement:{browser:!0,export:!1,server:!1},snapLines:{browser:!1,export:!1,server:!1},originSnapOffset:{browser:!1,export:!1,server:!1},objectsSnapModeEnabled:{browser:!0,export:!1,server:!1}},f=function(x,S){for(var q={},ve=0,ke=Object.keys(x);ve<ke.length;ve++){var Se=ke[ve],ge=M[Se];if(ge!=null&&ge[S]){var J=x[Se];q[Se]=J}}return q},d=function(x){return f(x,"export")},j=function(x){return f(x,"server")},L=function(x){return x.activeTool.type==="eraser"},H=function(x){return x.activeTool.type==="hand"}},901:function(We,ue,n){n.d(ue,{dz:function(){return J},i$:function(){return ve},ps:function(){return O}});var r=n(1930),A=n(7169),k=n(2577),b=n(9240),w=n(9937),N=n(7651),M=n(4643);function f(R,E){var v=typeof Symbol<"u"&&R[Symbol.iterator]||R["@@iterator"];if(!v){if(Array.isArray(R)||(v=function(C,U){if(C){if(typeof C=="string")return d(C,U);var V=Object.prototype.toString.call(C).slice(8,-1);if(V==="Object"&&C.constructor&&(V=C.constructor.name),V==="Map"||V==="Set")return Array.from(C);if(V==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(V))return d(C,U)}}(R))||E){v&&(R=v);var i=0,a=function(){};return{s:a,n:function(){return i>=R.length?{done:!0}:{done:!1,value:R[i++]}},e:function(C){throw C},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var y,h=!0,m=!1;return{s:function(){v=v.call(R)},n:function(){var C=v.next();return h=C.done,C},e:function(C){m=!0,y=C},f:function(){try{h||v.return==null||v.return()}finally{if(m)throw y}}}}function d(R,E){(E==null||E>R.length)&&(E=R.length);for(var v=0,i=new Array(E);v<E;v++)i[v]=R[v];return i}function j(R,E){var v=Object.keys(R);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(R);E&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(R,a).enumerable})),v.push.apply(v,i)}return v}function L(R){for(var E=1;E<arguments.length;E++){var v=arguments[E]!=null?arguments[E]:{};E%2?j(Object(v),!0).forEach(function(i){(0,A.Z)(R,i,v[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(v)):j(Object(v)).forEach(function(i){Object.defineProperty(R,i,Object.getOwnPropertyDescriptor(v,i))})}return R}var H=32,x=12,S=256,q="NOT_SPREADSHEET",ve="VALID_SPREADSHEET",ke=function(R){var E=/^([-+]?)[$€£¥₩]?([-+]?)([\d.,]+)[%]?$/.exec(R);return E?parseFloat("".concat((E[1]||E[2])+E[3]).replace(/,/g,"")):null},Se=function(R,E){return R.slice(1).every(function(v){return ke(v[E])!==null})},ge=function(R){var E=R[0].length;if(E>2)return{type:q,reason:"More than 2 columns"};if(E===1){if(!Se(R,0))return{type:q,reason:"Value is not numeric"};var v=ke(R[0][0])===null,i=(v?R.slice(1):R).map(function(P){return ke(P[0])});return i.length<2?{type:q,reason:"Less than two rows"}:{type:ve,spreadsheet:{title:v?R[0][0]:null,labels:null,values:i}}}var a=Se(R,0),y=Se(R,1);if(!a&&!y)return{type:q,reason:"Value is not numeric"};var h=y?[0,1]:[1,0],m=(0,k.Z)(h,2),C=m[0],U=m[1],V=ke(R[0][U])===null,D=V?R.slice(1):R;return D.length<2?{type:q,reason:"Less than 2 rows"}:{type:ve,spreadsheet:{title:V?R[0][U]:null,labels:D.map(function(P){return P[C]}),values:D.map(function(P){return ke(P[U])})}}},J=function(R){var E=R.trim().split(`
`).map(function(y){return y.trim().split("	")});if(E.length&&E[0].length!==2&&(E=R.trim().split(`
`).map(function(y){return y.trim().split(",")})),E.length===0)return{type:q,reason:"No values"};var v=E[0].length;if(!E.every(function(y){return y.length===v}))return{type:q,reason:"All rows don't have same number of columns"};var i=ge(E);if(i.type!==ve){var a=ge(function(y){for(var h=[],m=0;m<y[0].length;m++){for(var C=[],U=0;U<y.length;U++)C.push(y[U][m]);h.push(C)}return h}(E));if(a.type===ve)return a}return i},Q=(0,b.sF)(b.C2),K={fillStyle:"hachure",fontFamily:w.rk,fontSize:w.n5,opacity:100,roughness:1,strokeColor:b.HO.black,roundness:null,strokeStyle:"solid",strokeWidth:1,verticalAlign:w.oX.MIDDLE,locked:!1},T=function(R){return{chartWidth:44*R.values.length+x,chartHeight:280}},B=function(R,E,v,i,a,y){var h=T(R),m=h.chartWidth,C=R.title?(0,N.VL)(L(L({backgroundColor:a,groupIds:[i]},K),{},{text:R.title,x:E+m/2,y:v-S-24-w.n5,roundness:null,textAlign:"center"})):null;return[].concat((0,r.Z)([]),(0,r.Z)(C?[C]:[]),(0,r.Z)(function(U,V,D,P,F){var X;return((X=U.labels)===null||X===void 0?void 0:X.map(function(le,de){return(0,N.VL)(L(L({groupIds:[P],backgroundColor:F},K),{},{text:le.length>8?"".concat(le.slice(0,5),"..."):le,x:V+44*de+24,y:D+6,width:H,angle:5.87,fontSize:16,textAlign:"center",verticalAlign:"top"}))}))||[]}(R,E,v,i,a)),(0,r.Z)(function(U,V,D,P,F){var X=(0,N.VL)(L(L({groupIds:[P],backgroundColor:F},K),{},{x:V-x,y:D-x,text:"0",textAlign:"right"}));return[X,(0,N.VL)(L(L({groupIds:[P],backgroundColor:F},K),{},{x:V-x,y:D-S-X.height/2,text:Math.max.apply(Math,(0,r.Z)(U.values)).toLocaleString(),textAlign:"right"}))]}(R,E,v,i,a)),(0,r.Z)(function(U,V,D,P,F){var X=T(U),le=X.chartWidth,de=X.chartHeight;return[(0,N.y8)(L(L({backgroundColor:F,groupIds:[P]},K),{},{type:"line",x:V,y:D,startArrowhead:null,endArrowhead:null,width:le,points:[[0,0],[le,0]]})),(0,N.y8)(L(L({backgroundColor:F,groupIds:[P]},K),{},{type:"line",x:V,y:D,startArrowhead:null,endArrowhead:null,height:de,points:[[0,0],[0,-280]]})),(0,N.y8)(L(L({backgroundColor:F,groupIds:[P]},K),{},{type:"line",x:V,y:D-S-x,startArrowhead:null,endArrowhead:null,strokeStyle:"dotted",width:le,opacity:50,points:[[0,0],[le,0]]}))]}(R,E,v,i,a)))},O=function(R,E,v,i){return R==="line"?function(a,y,h){var m,C=Math.max.apply(Math,(0,r.Z)(a.values)),U=(0,M.kb)(),V=Q[Math.floor(Math.random()*Q.length)],D=0,P=[],F=f(a.values);try{for(F.s();!(m=F.n()).done;){var X=m.value,le=44*D,de=-X/C*S;P.push([le,de]),D++}}catch(qe){F.e(qe)}finally{F.f()}var fe=Math.max.apply(Math,(0,r.Z)(P.map(function(qe){return qe[0]}))),pe=Math.max.apply(Math,(0,r.Z)(P.map(function(qe){return qe[1]}))),ne=Math.min.apply(Math,(0,r.Z)(P.map(function(qe){return qe[0]}))),oe=Math.min.apply(Math,(0,r.Z)(P.map(function(qe){return qe[1]}))),be=(0,N.y8)(L(L({backgroundColor:V,groupIds:[U]},K),{},{type:"line",x:y+x+16,y:h-x,startArrowhead:null,endArrowhead:null,height:pe-oe,width:fe-ne,strokeWidth:2,points:P})),Me=a.values.map(function(qe,Ne){var Pe=44*Ne+6,Re=-qe/C*S+6;return(0,N.Up)(L(L({backgroundColor:V,groupIds:[U]},K),{},{fillStyle:"solid",strokeWidth:2,type:"ellipse",x:y+Pe+16,y:h+Re-24,width:x,height:x}))}),Ge=a.values.map(function(qe,Ne){var Pe=44*Ne+6,Re=qe/C*S+6+x;return(0,N.y8)(L(L({backgroundColor:V,groupIds:[U]},K),{},{type:"line",x:y+Pe+16+6,y:h-Re,startArrowhead:null,endArrowhead:null,height:Re,strokeStyle:"dotted",opacity:50,points:[[0,0],[0,Re]]}))});return[].concat((0,r.Z)(B(a,y,h,U,V)),[be],(0,r.Z)(Ge),(0,r.Z)(Me))}(E,v,i):function(a,y,h){var m=Math.max.apply(Math,(0,r.Z)(a.values)),C=(0,M.kb)(),U=Q[Math.floor(Math.random()*Q.length)],V=a.values.map(function(D,P){var F=D/m*S;return(0,N.Up)(L(L({backgroundColor:U,groupIds:[C]},K),{},{type:"rectangle",x:y+44*P+x,y:h-F-x,width:H,height:F}))});return[].concat((0,r.Z)(V),(0,r.Z)(B(a,y,h,C,U)))}(E,v,i)}},957:function(We,ue,n){n.d(ue,{G:function(){return r},l:function(){return A}});var r=function(k){var b=Math.abs(function(w){var N=0;if(w.length===0)return N;for(var M=0;M<w.length;M++)N=(N<<5)-N+w.charCodeAt(M);return N}(k));return"hsl(".concat(b%37*10,", ").concat(100,"%, ").concat(83,"%)")},A=function(k){var b,w=k==null||(b=k.trim())===null||b===void 0?void 0:b.codePointAt(0);return(w?String.fromCodePoint(w):"?").toUpperCase()}},4694:function(We,ue,n){n.d(ue,{OO:function(){return ge},Se:function(){return O},dd:function(){return i},mQ:function(){return E},uR:function(){return v},vQ:function(){return Q},vt:function(){return ke},wx:function(){return ve}});var r=n(7169),A=n(8950),k=n(2577),b=n(2975),w=n.n(b),N=n(901),M=n(9937),f=n(4183),d=n(5742),j=n(583),L=n(4682),H=n(9827),x=n(8227);function S(y,h){var m=typeof Symbol<"u"&&y[Symbol.iterator]||y["@@iterator"];if(!m){if(Array.isArray(y)||(m=function(F,X){if(F){if(typeof F=="string")return q(F,X);var le=Object.prototype.toString.call(F).slice(8,-1);if(le==="Object"&&F.constructor&&(le=F.constructor.name),le==="Map"||le==="Set")return Array.from(F);if(le==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(le))return q(F,X)}}(y))||h){m&&(y=m);var C=0,U=function(){};return{s:U,n:function(){return C>=y.length?{done:!0}:{done:!1,value:y[C++]}},e:function(F){throw F},f:U}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var V,D=!0,P=!1;return{s:function(){m=m.call(y)},n:function(){var F=m.next();return D=F.done,F},e:function(F){P=!0,V=F},f:function(){try{D||m.return==null||m.return()}finally{if(P)throw V}}}}function q(y,h){(h==null||h>y.length)&&(h=y.length);for(var m=0,C=new Array(h);m<h;m++)C[m]=y[m];return C}var ve="clipboard"in navigator&&"writeText"in navigator.clipboard,ke="clipboard"in navigator&&"write"in navigator.clipboard&&"ClipboardItem"in window&&"toBlob"in HTMLCanvasElement.prototype,Se=function(y){return!(![M.r8.excalidraw,M.r8.excalidrawClipboard,M.r8.excalidrawClipboardWithAPI].includes(y==null?void 0:y.type)||!Array.isArray(y.elements))},ge=function(y){var h=y.types,m=y.files;h||m||console.warn("createPasteEvent: no types or files provided");var C=new ClipboardEvent("paste",{clipboardData:new DataTransfer});if(h)for(var U=0,V=Object.entries(h);U<V.length;U++){var D=(0,k.Z)(V[U],2),P=D[0],F=D[1];try{var X,le;if((X=C.clipboardData)===null||X===void 0||X.setData(P,F),((le=C.clipboardData)===null||le===void 0?void 0:le.getData(P))!==F)throw new Error('Failed to set "'.concat(P,'" as clipboardData item'))}catch(Me){throw new Error(Me.message)}}if(m){var de,fe=-1,pe=S(m);try{for(pe.s();!(de=pe.n()).done;){var ne=de.value;fe++;try{var oe,be;if((oe=C.clipboardData)===null||oe===void 0||oe.items.add(ne),((be=C.clipboardData)===null||be===void 0?void 0:be.files[fe])!==ne)throw new Error('Failed to set file "'.concat(ne.name,'" as clipboardData item'))}catch(Me){throw new Error(Me.message)}}}catch(Me){pe.e(Me)}finally{pe.f()}}return C},J=function(y){var h=y.elements,m=y.files,C=new Set(h.filter(function(P){return P.type==="frame"})),U=!1,V=h.reduce(function(P,F){return(0,f.wi)(F)&&(U=!0,m&&m[F.fileId]&&(P[F.fileId]=m[F.fileId])),P},{});U&&!m&&console.warn("copyToClipboard: attempting to file element(s) without providing associated `files` object.");var D={type:M.r8.excalidrawClipboard,elements:h.map(function(P){if((0,L.$Z)(P)&&!C.has((0,L.$Z)(P))){var F=(0,d.OL)(P);return(0,j.DR)(F,{frameId:null}),F}return P}),files:m?V:void 0};return JSON.stringify(D)},Q=function(){var y=(0,A.Z)(w().mark(function h(m,C,U){return w().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.next=2,i(J({elements:m,files:C}),U);case 2:case"end":return V.stop()}},h)}));return function(h,m,C){return y.apply(this,arguments)}}(),K=function(y){var h=(0,N.dz)(y);return h.type===N.i$?{spreadsheet:h.spreadsheet}:null};function T(y){var h,m=[],C=S(y.childNodes);try{for(C.s();!(h=C.n()).done;){var U=h.value;if(U.nodeType===3){var V,D=(V=U.textContent)===null||V===void 0?void 0:V.trim();D&&m.push({type:"text",value:D})}else if(U instanceof HTMLImageElement){var P=U.getAttribute("src");P&&P.startsWith("http")&&m.push({type:"imageUrl",value:P})}else m=m.concat(T(U))}}catch(F){C.e(F)}finally{C.f()}return m}var B=function(y){var h,m=(h=y.clipboardData)===null||h===void 0?void 0:h.getData("text/html");if(!m)return null;try{var C=T(new DOMParser().parseFromString(m,"text/html").body);if(C.length)return{type:"mixedContent",value:C}}catch(U){console.error("error in parseHTMLFromPaste: ".concat(U.message))}return null},O=function(){var y=(0,A.Z)(w().mark(function h(){var m,C,U,V,D,P,F,X,le,de,fe,pe;return w().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:if(m={},ne.prev=1,(C=navigator.clipboard)===null||C===void 0||!C.readText){ne.next=7;break}return ne.next=5,(U=navigator.clipboard)===null||U===void 0?void 0:U.readText();case 5:return ne.t0=ne.sent,ne.abrupt("return",{"text/plain":ne.t0});case 7:ne.next=16;break;case 9:if(ne.prev=9,ne.t1=ne.catch(1),(V=navigator.clipboard)===null||V===void 0||!V.read){ne.next=15;break}console.warn("navigator.clipboard.readText() failed (".concat(ne.t1.message,"). Failling back to navigator.clipboard.read()")),ne.next=16;break;case 15:throw ne.t1;case 16:return ne.prev=16,ne.next=19,(P=navigator.clipboard)===null||P===void 0?void 0:P.read();case 19:D=ne.sent,ne.next=28;break;case 22:if(ne.prev=22,ne.t2=ne.catch(16),ne.t2.name!=="DataError"){ne.next=27;break}return console.warn("navigator.clipboard.read() error, clipboard is probably empty: ".concat(ne.t2.message)),ne.abrupt("return",m);case 27:throw ne.t2;case 28:F=S(D),ne.prev=29,F.s();case 31:if((X=F.n()).done){ne.next=63;break}le=X.value,de=S(le.types),ne.prev=34,de.s();case 36:if((fe=de.n()).done){ne.next=53;break}if(pe=fe.value,(0,H.XF)(M.wL,pe)){ne.next=40;break}return ne.abrupt("continue",51);case 40:return ne.prev=40,ne.next=43,le.getType(pe);case 43:return ne.next=45,ne.sent.text();case 45:m[pe]=ne.sent,ne.next=51;break;case 48:ne.prev=48,ne.t3=ne.catch(40),console.warn("Cannot retrieve ".concat(pe," from clipboardItem: ").concat(ne.t3.message));case 51:ne.next=36;break;case 53:ne.next=58;break;case 55:ne.prev=55,ne.t4=ne.catch(34),de.e(ne.t4);case 58:return ne.prev=58,de.f(),ne.finish(58);case 61:ne.next=31;break;case 63:ne.next=68;break;case 65:ne.prev=65,ne.t5=ne.catch(29),F.e(ne.t5);case 68:return ne.prev=68,F.f(),ne.finish(68);case 71:if(Object.keys(m).length!==0){ne.next=74;break}return console.warn("No clipboard data found from clipboard.read()."),ne.abrupt("return",m);case 74:return ne.abrupt("return",m);case 75:case"end":return ne.stop()}},h,null,[[1,9],[16,22],[29,65,68,71],[34,55,58,61],[40,48]])}));return function(){return y.apply(this,arguments)}}(),R=function(){var y=(0,A.Z)(w().mark(function h(m){var C,U,V,D,P,F=arguments;return w().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(C=F.length>1&&F[1]!==void 0&&F[1],X.prev=1,!(V=!C&&m&&B(m))){X.next=7;break}if(!V.value.every(function(le){return le.type==="text"})){X.next=6;break}return X.abrupt("return",{type:"text",value:((D=m.clipboardData)===null||D===void 0?void 0:D.getData("text/plain"))||V.value.map(function(le){return le.value}).join(`
`).trim()});case 6:return X.abrupt("return",V);case 7:return P=(U=m.clipboardData)===null||U===void 0?void 0:U.getData("text/plain"),X.abrupt("return",{type:"text",value:(P||"").trim()});case 11:return X.prev=11,X.t0=X.catch(1),X.abrupt("return",{type:"text",value:""});case 14:case"end":return X.stop()}},h,null,[[1,11]])}));return function(h){return y.apply(this,arguments)}}(),E=function(){var y=(0,A.Z)(w().mark(function h(m){var C,U,V,D,P,F=arguments;return w().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return C=F.length>1&&F[1]!==void 0&&F[1],X.next=3,R(m,C);case 3:if((U=X.sent).type!=="mixedContent"){X.next=6;break}return X.abrupt("return",{mixedContent:U.value});case 6:if(X.prev=6,!(V=!C&&K(U.value))){X.next=10;break}return X.abrupt("return",V);case 10:X.next=15;break;case 12:X.prev=12,X.t0=X.catch(6),console.error(X.t0);case 15:if(X.prev=15,D=JSON.parse(U.value),P=D.type===M.r8.excalidrawClipboardWithAPI,!Se(D)){X.next=20;break}return X.abrupt("return",{elements:D.elements,files:D.files,text:C?JSON.stringify(D.elements,null,2):void 0,programmaticAPI:P});case 20:X.next=24;break;case 22:X.prev=22,X.t1=X.catch(15);case 24:return X.abrupt("return",{text:U.value});case 25:case"end":return X.stop()}},h,null,[[6,12],[15,22]])}));return function(h){return y.apply(this,arguments)}}(),v=function(){var y=(0,A.Z)(w().mark(function h(m){return w().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.prev=0,C.next=3,navigator.clipboard.write([new window.ClipboardItem((0,r.Z)({},M.LO.png,m))]);case 3:case 21:C.next=24;break;case 5:if(C.prev=5,C.t0=C.catch(0),!(0,H.y8)(m)){C.next=23;break}return C.t1=navigator.clipboard,C.t2=window.ClipboardItem,C.t3=r.Z,C.t4={},C.t5=M.LO.png,C.next=15,m;case 15:return C.t6=C.sent,C.t7=(0,C.t3)(C.t4,C.t5,C.t6),C.t8=new C.t2(C.t7),C.t9=[C.t8],C.next=21,C.t1.write.call(C.t1,C.t9);case 23:throw C.t0;case 24:case"end":return C.stop()}},h,null,[[0,5]])}));return function(h){return y.apply(this,arguments)}}(),i=function(){var y=(0,A.Z)(w().mark(function h(m,C){var U,V;return w().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(!ve){D.next=10;break}return D.prev=1,D.next=4,navigator.clipboard.writeText(m||"");case 4:return D.abrupt("return");case 7:D.prev=7,D.t0=D.catch(1),console.error(D.t0);case 10:if(D.prev=10,!C){D.next=16;break}if((U=C.clipboardData)===null||U===void 0||U.setData("text/plain",m||""),((V=C.clipboardData)===null||V===void 0?void 0:V.getData("text/plain"))===m){D.next=15;break}throw new Error("Failed to setData on clipboardEvent");case 15:return D.abrupt("return");case 16:D.next=21;break;case 18:D.prev=18,D.t1=D.catch(10),console.error(D.t1);case 21:if(a(m)){D.next=23;break}throw new Error((0,x.t)("errors.copyToSystemClipboardFailed"));case 23:case"end":return D.stop()}},h,null,[[1,7],[10,18]])}));return function(h,m){return y.apply(this,arguments)}}(),a=function(y){y||(y=" ");var h=document.documentElement.getAttribute("dir")==="rtl",m=document.createElement("textarea");m.style.border="0",m.style.padding="0",m.style.margin="0",m.style.position="absolute",m.style[h?"right":"left"]="-9999px";var C=window.pageYOffset||document.documentElement.scrollTop;m.style.top="".concat(C,"px"),m.style.fontSize="12pt",m.setAttribute("readonly",""),m.value=y,document.body.appendChild(m);var U=!1;try{m.select(),m.setSelectionRange(0,m.value.length),U=document.execCommand("copy")}catch(V){console.error(V)}return m.remove(),U}},9240:function(We,ue,n){n.d(ue,{C2:function(){return f},HO:function(){return x},Lx:function(){return N},SF:function(){return ge},Wk:function(){return Se},_T:function(){return j},ay:function(){return ke},dC:function(){return M},eq:function(){return ve},fY:function(){return q},sF:function(){return J},vq:function(){return Q},z8:function(){return d}});var r=n(7169),A=n(5284);function k(K,T){var B=Object.keys(K);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(K);T&&(O=O.filter(function(R){return Object.getOwnPropertyDescriptor(K,R).enumerable})),B.push.apply(B,O)}return B}function b(K){for(var T=1;T<arguments.length;T++){var B=arguments[T]!=null?arguments[T]:{};T%2?k(Object(B),!0).forEach(function(O){(0,r.Z)(K,O,B[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(K,Object.getOwnPropertyDescriptors(B)):k(Object(B)).forEach(function(O){Object.defineProperty(K,O,Object.getOwnPropertyDescriptor(B,O))})}return K}var w,N=5,M=5,f=4,d=4,j=1,L=[0,2,4,6,8],H=function(K,T){return T.map(function(B){return A[K][B]})},x={transparent:"transparent",black:"#1e1e1e",white:"#ffffff",gray:H("gray",L),red:H("red",L),pink:H("pink",L),grape:H("grape",L),violet:H("violet",L),blue:H("blue",L),cyan:H("cyan",L),teal:H("teal",L),green:H("green",L),yellow:H("yellow",L),orange:H("orange",L),bronze:["#f8f1ee","#eaddd7","#d2bab0","#a18072","#846358"]},S=(w=x,["cyan","blue","violet","grape","pink","green","teal","yellow","orange","red"].reduce(function(K,T){return T in w&&(K[T]=w[T]),K},{})),q=[x.black,x.red[d],x.green[d],x.blue[d],x.yellow[d]],ve=[x.transparent,x.red[j],x.green[j],x.blue[j],x.yellow[j]],ke=[x.white,"#f8f9fa","#f5faff","#fffce8","#fdf8f6"],Se=b({transparent:x.transparent,white:x.white,gray:x.gray,black:x.black,bronze:x.bronze},S),ge=b({transparent:x.transparent,white:x.white,gray:x.gray,black:x.black,bronze:x.bronze},S),J=function(K){return[x.cyan[K],x.blue[K],x.violet[K],x.grape[K],x.pink[K],x.green[K],x.teal[K],x.yellow[K],x.orange[K],x.red[K]]},Q=function(K,T,B){return"#".concat(((1<<24)+(K<<16)+(T<<8)+B).toString(16).slice(1))}},8973:function(We,ue,n){n.d(ue,{o:function(){return j},w:function(){return d}});var r=n(2577),A=n(3607),k=n(5463),b=n(8227),w=n(453),N=n(8242),M=n(6887),f=n(4512),d=(0,A.cn)(null),j=function(){var L=(0,A.KO)(d,w.yE),H=(0,r.Z)(L,2),x=H[0],S=H[1],q=(0,N.eh)();return x&&x==="clearCanvas"?(0,f.jsx)(M.Z,{onConfirm:function(){q.executeAction(k.mo),S(null)},onCancel:function(){return S(null)},title:(0,b.t)("clearCanvasDialog.title"),children:(0,f.jsxs)("p",{className:"clear-canvas__content",children:[" ",(0,b.t)("alerts.clearReset")]})}):null}},8242:function(We,ue,n){var Ul,Vl;n.d(ue,{ZP:function(){return cc},qD:function(){return wl},hY:function(){return Tl},Fy:function(){return Pa},eh:function(){return Us},gF:function(){return Is},J0:function(){return ka},bd:function(){return Ws},n9:function(){return Os}});var r=n(6655),A=n(2577),k=n(1930),b=n(8950),w=n(8821),N=n(5169),M=n(3173),f=n(2248),d=n(7245),j=n(2312),L=n(7169),H=n(2975),x=n.n(H),S=n(9787),q=n.n(S),ve=n(5156),ke=n(9845),Se=n(45),ge=n(5605),J=n(5463),Q=n(8935),K=n(1512),T=n(8227),B=n(5491),O=n(583),R=n(9645),E=n(9827),v=n(9937),i=n(4512);function a(W,s){var I=Object.keys(W);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(W);s&&(G=G.filter(function(se){return Object.getOwnPropertyDescriptor(W,se).enumerable})),I.push.apply(I,G)}return I}function y(W){for(var s=1;s<arguments.length;s++){var I=arguments[s]!=null?arguments[s]:{};s%2?a(Object(I),!0).forEach(function(G){(0,L.Z)(W,G,I[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(W,Object.getOwnPropertyDescriptors(I)):a(Object(I)).forEach(function(G){Object.defineProperty(W,G,Object.getOwnPropertyDescriptor(I,G))})}return W}var h=function(W,s,I){var G=!1;if(!(s.multiElement||s.resizingElement||s.editingElement||s.draggingElement)){var se=I();if(se===null)return{commitToHistory:G};var _e=(0,E.xn)(W),he=se.elements,$=(0,E.xn)(he),ie=W.filter(function(He){return!$.has(He.id)}),De=he.map(function(He){return(0,O.BE)(_e.get(He.id)||He,He)}).concat(ie.map(function(He){return(0,O.BE)(He,{isDeleted:!0})}));return(0,R.$q)(De,ie),{elements:De,appState:y(y({},s),se.appState),commitToHistory:G,syncHistory:!0}}return{commitToHistory:G}},m=n(3646),C=function(W,s,I,G,se,_e){if(W.trackEvent)try{(0,r.Z)(W.trackEvent)==="object"&&(!W.trackEvent.predicate||W.trackEvent.predicate(I,G,_e))&&(0,m.L)(W.trackEvent.category,W.trackEvent.action||W.name,"".concat(s," (").concat(se.device.editor.isMobile?"mobile":"desktop",")"))}catch(he){console.error("error while logging action:",he)}},U=function(){function W(s,I,G,se){var _e=this;(0,w.Z)(this,W),this.actions={},this.renderAction=function(he,$){var ie=_e.app.props.UIOptions.canvasActions;if(_e.actions[he]&&"PanelComponent"in _e.actions[he]&&(!(he in ie)||ie[he])){var De=_e.actions[he],He=De.PanelComponent;He.displayName="PanelComponent";var Ve=_e.getElementsIncludingDeleted(),lt=_e.getAppState();return(0,i.jsx)(He,{elements:_e.getElementsIncludingDeleted(),appState:_e.getAppState(),updateData:function(dt){C(De,"ui",lt,Ve,_e.app,dt),_e.updater(De.perform(_e.getElementsIncludingDeleted(),_e.getAppState(),dt,_e.app))},appProps:_e.app.props,app:_e.app,data:$})}return null},this.isActionEnabled=function(he){var $=_e.getElementsIncludingDeleted(),ie=_e.getAppState();return!he.predicate||he.predicate($,ie,_e.app.props,_e.app)},this.updater=function(he){if(!he||!("then"in he))return s(he);he.then(function($){return s($)})},this.getAppState=I,this.getElementsIncludingDeleted=G,this.app=se}return(0,N.Z)(W,[{key:"registerAction",value:function(s){this.actions[s.name]=s}},{key:"registerAll",value:function(s){var I=this;s.forEach(function(G){return I.registerAction(G)})}},{key:"handleKeyDown",value:function(s){var I=this,G=this.app.props.UIOptions.canvasActions,se=Object.values(this.actions).sort(function(ie,De){return(De.keyPriority||0)-(ie.keyPriority||0)}).filter(function(ie){return(!(ie.name in G)||G[ie.name])&&ie.keyTest&&ie.keyTest(s,I.getAppState(),I.getElementsIncludingDeleted(),I.app)});if(se.length!==1)return se.length>1&&console.warn("Canceling as multiple actions match this shortcut",se),!1;var _e=se[0];if(this.getAppState().viewModeEnabled&&_e.viewMode!==!0)return!1;var he=this.getElementsIncludingDeleted(),$=this.getAppState();return C(_e,"keyboard",$,he,this.app,null),s.preventDefault(),s.stopPropagation(),this.updater(se[0].perform(he,$,null,this.app)),!0}},{key:"executeAction",value:function(s){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"api",G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,se=this.getElementsIncludingDeleted(),_e=this.getAppState();C(s,I,_e,se,this.app,G),this.updater(s.perform(se,_e,G,this.app))}}]),W}(),V=n(2767),D=n(6853),P=n(4694),F=n(2435),X=n(9326),le=n(7994),de=n(7651),fe=n(7422),pe=n(5742),ne=n(4183),oe=function(W){var s=Array.from(W.values());return{x:Me(s,function(I){return I.x})/s.length,y:Me(s,function(I){return I.y})/s.length}},be=function(W){var s=(0,A.Z)(W,2),I=s[0],G=s[1];return Math.hypot(I.x-G.x,I.y-G.y)},Me=function(W,s){return W.reduce(function(I,G){return I+s(G)},0)},Ge=n(9215);function qe(W,s){var I=Object.keys(W);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(W);s&&(G=G.filter(function(se){return Object.getOwnPropertyDescriptor(W,se).enumerable})),I.push.apply(I,G)}return I}function Ne(W){for(var s=1;s<arguments.length;s++){var I=arguments[s]!=null?arguments[s]:{};s%2?qe(Object(I),!0).forEach(function(G){(0,L.Z)(W,G,I[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(W,Object.getOwnPropertyDescriptors(I)):qe(Object(I)).forEach(function(G){Object.defineProperty(W,G,Object.getOwnPropertyDescriptor(I,G))})}return W}var Pe=function(W){return{selectedElementIds:W.selectedElementIds,selectedGroupIds:W.selectedGroupIds,viewBackgroundColor:W.viewBackgroundColor,editingLinearElement:W.editingLinearElement,editingGroupId:W.editingGroupId,name:W.name}},Re=function(){function W(){var s=this;(0,w.Z)(this,W),this.elementCache=new Map,this.recording=!0,this.stateHistory=[],this.redoStack=[],this.lastEntry=null,this.generateEntry=function(I,G){return s.dehydrateHistoryEntry({appState:Pe(I),elements:G.reduce(function(se,_e){if((0,ne.bt)(_e)&&I.multiElement&&I.multiElement.id===_e.id){if(I.multiElement&&I.multiElement.id===_e.id&&_e.points.length<2)return se;se.push(Ne(Ne({},_e),{},{points:_e.lastCommittedPoint!==_e.points[_e.points.length-1]?_e.points.slice(0,-1):_e.points}))}else se.push(_e);return se},[])})}}return(0,N.Z)(W,[{key:"hydrateHistoryEntry",value:function(s){var I=this,G=s.appState,se=s.elements;return{appState:JSON.parse(G),elements:se.map(function(_e){var he,$=(he=I.elementCache.get(_e.id))===null||he===void 0?void 0:he.get(_e.versionNonce);if(!$)throw new Error("Element not found: ".concat(_e.id,":").concat(_e.versionNonce));return $})}}},{key:"dehydrateHistoryEntry",value:function(s){var I=this,G=s.appState,se=s.elements;return{appState:JSON.stringify(G),elements:se.map(function(_e){I.elementCache.has(_e.id)||I.elementCache.set(_e.id,new Map);var he=I.elementCache.get(_e.id);return he.has(_e.versionNonce)||he.set(_e.versionNonce,(0,pe.OL)(_e)),{id:_e.id,versionNonce:_e.versionNonce}})}}},{key:"getSnapshotForTest",value:function(){var s=this;return{recording:this.recording,stateHistory:this.stateHistory.map(function(I){return s.hydrateHistoryEntry(I)}),redoStack:this.redoStack.map(function(I){return s.hydrateHistoryEntry(I)})}}},{key:"clear",value:function(){this.stateHistory.length=0,this.redoStack.length=0,this.lastEntry=null,this.elementCache.clear()}},{key:"shouldCreateEntry",value:function(s){var I,G=this.lastEntry;if(!G||s.elements.length!==G.elements.length)return!0;for(var se=s.elements.length-1;se>-1;se--){var _e=s.elements[se],he=G.elements[se];if(!_e||!he||_e.id!==he.id||_e.versionNonce!==he.versionNonce)return!0}for(I in s.appState){var $,ie;if(!(I==="editingLinearElement"&&(($=s.appState[I])===null||$===void 0?void 0:$.elementId)===((ie=G.appState[I])===null||ie===void 0?void 0:ie.elementId))&&I!=="selectedElementIds"&&I!=="selectedGroupIds"&&s.appState[I]!==G.appState[I])return!0}return!1}},{key:"pushEntry",value:function(s,I){var G=this.generateEntry(s,I),se=this.hydrateHistoryEntry(G);if(se){if(!this.shouldCreateEntry(se))return;this.stateHistory.push(G),this.lastEntry=se,this.clearRedoStack()}}},{key:"clearRedoStack",value:function(){this.redoStack.splice(0,this.redoStack.length)}},{key:"redoOnce",value:function(){if(this.redoStack.length===0)return null;var s=this.redoStack.pop();return s!==void 0?(this.stateHistory.push(s),this.hydrateHistoryEntry(s)):null}},{key:"undoOnce",value:function(){if(this.stateHistory.length===1)return null;var s=this.stateHistory.pop(),I=this.stateHistory[this.stateHistory.length-1];return s!==void 0?(this.redoStack.push(s),this.hydrateHistoryEntry(I)):null}},{key:"setCurrentState",value:function(s,I){this.lastEntry=this.hydrateHistoryEntry(this.generateEntry(s,I))}},{key:"resumeRecording",value:function(){this.recording=!0}},{key:"record",value:function(s,I){this.recording&&(this.pushEntry(s,I),this.recording=!1)}}]),W}(),Ze=n(7935),Ie=n(2361),Ee=n(4105),xe=n(457),Z=n(4116),u=[{icon:Q.zu,value:"selection",key:B.tW.V,numericKey:B.tW[1],fillable:!0},{icon:Q.OW,value:"rectangle",key:B.tW.R,numericKey:B.tW[2],fillable:!0},{icon:Q.nb,value:"diamond",key:B.tW.D,numericKey:B.tW[3],fillable:!0},{icon:Q.Re,value:"ellipse",key:B.tW.O,numericKey:B.tW[4],fillable:!0},{icon:Q.e0,value:"arrow",key:B.tW.A,numericKey:B.tW[5],fillable:!0},{icon:Q.zb,value:"line",key:B.tW.L,numericKey:B.tW[6],fillable:!0},{icon:Q.Pm,value:"freedraw",key:[B.tW.P,B.tW.X],numericKey:B.tW[7],fillable:!1},{icon:Q.VL,value:"text",key:B.tW.T,numericKey:B.tW[8],fillable:!1},{icon:Q.XB,value:"image",key:null,numericKey:B.tW[9],fillable:!1},{icon:Q.$q,value:"eraser",key:B.tW.E,numericKey:B.tW[0],fillable:!1}],g=n(761),z=n(3204),Y=n(3379),te=n.n(Y),ae=n(7795),ce=n.n(ae),ye=n(569),je=n.n(ye),Be=n(3565),Qe=n.n(Be),rt=n(9216),Ye=n.n(rt),tt=n(4589),ht=n.n(tt),gt=n(6578),Ue={};Ue.styleTagTransform=ht(),Ue.setAttributes=Qe(),Ue.insert=je().bind(null,"head"),Ue.domAPI=ce(),Ue.insertStyleElement=Ye(),te()(gt.Z,Ue),gt.Z&&gt.Z.locals&&gt.Z.locals;var Ce=n(2529),Le="separator",et=q().memo(function(W){var s=W.actionManager,I=W.items,G=W.top,se=W.left,_e=W.onClose,he=Is(),$=Ws(),ie=I.reduce(function(De,He){return!He||He!==Le&&He.predicate&&!He.predicate($,he,s.app.props,s.app)||De.push(He),De},[]);return(0,i.jsx)(z.J,{onCloseRequest:function(){_e()},top:G,left:se,fitInViewport:!0,offsetLeft:he.offsetLeft,offsetTop:he.offsetTop,viewportWidth:he.width,viewportHeight:he.height,children:(0,i.jsx)("ul",{className:"context-menu",onContextMenu:function(De){return De.preventDefault()},children:ie.map(function(De,He){var Ve;if(De===Le)return ie[He-1]&&ie[He-1]!==Le?(0,i.jsx)("hr",{className:"context-menu-item-separator"},He):null;var lt=De.name,dt="";return De.contextItemLabel&&(dt=typeof De.contextItemLabel=="function"?(0,T.t)(De.contextItemLabel($,he,s.app)):(0,T.t)(De.contextItemLabel)),(0,i.jsx)("li",{"data-testid":lt,onClick:function(){_e(function(){s.executeAction(De,"contextMenu")})},children:(0,i.jsxs)("button",{className:(0,Se.Z)("context-menu-item",{dangerous:lt==="deleteSelectedElements",checkmark:(Ve=De.checked)===null||Ve===void 0?void 0:Ve.call(De,he)}),children:[(0,i.jsx)("div",{className:"context-menu-item__label",children:dt}),(0,i.jsx)("kbd",{className:"context-menu-item__shortcut",children:lt?(0,Ce.C)(lt):""})]})},He)})})})}),ft=n(2726),xt=n(2540),wt=n(1648),Rt=n(8925),It=n(4761),At=n(6086),Xt={};Xt.styleTagTransform=ht(),Xt.setAttributes=Qe(),Xt.insert=je().bind(null,"head"),Xt.domAPI=ce(),Xt.insertStyleElement=Ye(),te()(At.Z,Xt),At.Z&&At.Z.locals&&At.Z.locals;var tr=n(7104);function Gt(W,s){var I=typeof Symbol<"u"&&W[Symbol.iterator]||W["@@iterator"];if(!I){if(Array.isArray(W)||(I=function(ie,De){if(ie){if(typeof ie=="string")return Jt(ie,De);var He=Object.prototype.toString.call(ie).slice(8,-1);if(He==="Object"&&ie.constructor&&(He=ie.constructor.name),He==="Map"||He==="Set")return Array.from(ie);if(He==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(He))return Jt(ie,De)}}(W))||s){I&&(W=I);var G=0,se=function(){};return{s:se,n:function(){return G>=W.length?{done:!0}:{done:!1,value:W[G++]}},e:function(ie){throw ie},f:se}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _e,he=!0,$=!1;return{s:function(){I=I.call(W)},n:function(){var ie=I.next();return he=ie.done,ie},e:function(ie){$=!0,_e=ie},f:function(){try{he||I.return==null||I.return()}finally{if($)throw _e}}}}function Jt(W,s){(s==null||s>W.length)&&(s=W.length);for(var I=0,G=new Array(s);I<s;I++)G[I]=W[I];return G}var gr=function(W){var s,I=W.appState,G=W.elements,se=W.renderAction,_e=(0,Ee.Zs)((0,de.Lm)(G),I),he=!1;_e.length===2&&((0,ne.Xo)(_e[0])||(0,ne.Xo)(_e[1]))&&(he=!0);var $,ie=!!I.editingElement,De=Pa(),He=document.documentElement.getAttribute("dir")==="rtl",Ve=(0,Ee.$b)(I.activeTool.type)&&!(0,E.Qm)(I.currentItemBackgroundColor)||_e.some(function(Mt){return(0,Ee.$b)(Mt.type)&&!(0,E.Qm)(Mt.backgroundColor)}),lt=(0,Ee.$b)(I.activeTool.type)||_e.some(function(Mt){return(0,Ee.$b)(Mt.type)}),dt=_e.length===1||he,vt=((s=_e[0])===null||s===void 0?void 0:s.type)||null,Ct=Gt(_e);try{for(Ct.s();!($=Ct.n()).done;)if($.value.type!==vt){vt=null;break}}catch(Mt){Ct.e(Mt)}finally{Ct.f()}return(0,i.jsxs)("div",{className:"panelColumn",children:[(0,i.jsx)("div",{children:((0,wt.PD)(I.activeTool.type)&&I.activeTool.type!=="image"&&vt!=="image"&&vt!=="frame"||_e.some(function(Mt){return(0,wt.PD)(Mt.type)}))&&se("changeStrokeColor")}),lt&&(0,i.jsx)("div",{children:se("changeBackgroundColor")}),Ve&&se("changeFillStyle"),((0,Ee.Zd)(I.activeTool.type)||_e.some(function(Mt){return(0,Ee.Zd)(Mt.type)}))&&se("changeStrokeWidth"),(I.activeTool.type==="freedraw"||_e.some(function(Mt){return Mt.type==="freedraw"}))&&se("changeStrokeShape"),((0,Ee.M9)(I.activeTool.type)||_e.some(function(Mt){return(0,Ee.M9)(Mt.type)}))&&(0,i.jsxs)(i.Fragment,{children:[se("changeStrokeStyle"),se("changeSloppiness")]}),((0,Ee.sh)(I.activeTool.type)||_e.some(function(Mt){return(0,Ee.sh)(Mt.type)}))&&(0,i.jsx)(i.Fragment,{children:se("changeRoundness")}),(I.activeTool.type==="text"||_e.some(ne.iB))&&(0,i.jsxs)(i.Fragment,{children:[se("changeFontSize"),se("changeFontFamily"),(I.activeTool.type==="text"||(0,It.aV)(_e))&&se("changeTextAlign")]}),(0,It.cn)(_e)&&se("changeVerticalAlign"),((0,Ee.Un)(I.activeTool.type)||_e.some(function(Mt){return(0,Ee.Un)(Mt.type)}))&&(0,i.jsx)(i.Fragment,{children:se("changeArrowhead")}),se("changeOpacity"),(0,i.jsxs)("fieldset",{children:[(0,i.jsx)("legend",{children:(0,T.t)("labels.layers")}),(0,i.jsxs)("div",{className:"buttonList",children:[se("sendToBack"),se("sendBackward"),se("bringToFront"),se("bringForward")]})]}),_e.length>1&&!he&&(0,i.jsxs)("fieldset",{children:[(0,i.jsx)("legend",{children:(0,T.t)("labels.align")}),(0,i.jsxs)("div",{className:"buttonList",children:[He?(0,i.jsxs)(i.Fragment,{children:[se("alignRight"),se("alignHorizontallyCentered"),se("alignLeft")]}):(0,i.jsxs)(i.Fragment,{children:[se("alignLeft"),se("alignHorizontallyCentered"),se("alignRight")]}),_e.length>2&&se("distributeHorizontally"),(0,i.jsx)("div",{style:{flexBasis:"100%",height:0}}),(0,i.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:".5rem",marginTop:"-0.5rem"},children:[se("alignTop"),se("alignVerticallyCentered"),se("alignBottom"),_e.length>2&&se("distributeVertically")]})]})]}),!ie&&_e.length>0&&(0,i.jsxs)("fieldset",{children:[(0,i.jsx)("legend",{children:(0,T.t)("labels.actions")}),(0,i.jsxs)("div",{className:"buttonList",children:[!De.editor.isMobile&&se("duplicateSelection"),!De.editor.isMobile&&se("deleteSelectedElements"),se("group"),se("ungroup"),dt&&se("hyperlink")]})]})]})},Pt=function(W){var s=W.activeTool,I=W.appState,G=W.app,se=W.UIOptions,_e=(0,S.useState)(!1),he=(0,A.Z)(_e,2),$=he[0],ie=he[1],De=s.type==="frame",He=s.type==="laser",Ve=s.type==="embeddable";return(0,i.jsxs)(i.Fragment,{children:[u.map(function(lt,dt){var vt,Ct=lt.value,Mt=lt.icon,Yt=lt.key,ar=lt.numericKey,Bt=lt.fillable;if(((vt=se.tools)===null||vt===void 0?void 0:vt[Ct])===!1)return null;var zt=(0,T.t)("toolBar.".concat(Ct)),$t=Yt&&(0,E.Oo)(typeof Yt=="string"?Yt:Yt[0]),dr=$t?"".concat($t," ").concat((0,T.t)("helpDialog.or")," ").concat(ar):"".concat(ar);return(0,i.jsx)(K.V,{className:(0,Se.Z)("Shape",{fillable:Bt}),type:"radio",icon:Mt,checked:s.type===Ct,name:"editor-current-shape",title:"".concat((0,E.Oo)(zt)," — ").concat(dr),keyBindingLabel:ar||$t,"aria-label":(0,E.Oo)(zt),"aria-keyshortcuts":dr,"data-testid":"toolbar-".concat(Ct),onPointerDown:function(yr){var lr=yr.pointerType;I.penDetected||lr!=="pen"||G.togglePenMode(!0)},onChange:function(yr){var lr=yr.pointerType;I.activeTool.type!==Ct&&(0,m.L)("toolbar",Ct,"ui"),Ct==="image"?G.setActiveTool({type:Ct,insertOnCanvasDirectly:lr!=="mouse"}):G.setActiveTool({type:Ct})}},Ct)}),(0,i.jsx)("div",{className:"App-toolbar__divider"}),(0,i.jsxs)(tr.Z,{open:$,children:[(0,i.jsx)(tr.Z.Trigger,{className:(0,Se.Z)("App-toolbar__extra-tools-trigger",{"App-toolbar__extra-tools-trigger--selected":De||Ve||He&&!G.props.isCollaborating}),onToggle:function(){return ie(!$)},title:(0,T.t)("toolBar.extraTools"),children:Q.dg}),(0,i.jsxs)(tr.Z.Content,{onClickOutside:function(){return ie(!1)},onSelect:function(){return ie(!1)},className:"App-toolbar__extra-tools-dropdown",children:[(0,i.jsx)(tr.Z.Item,{onSelect:function(){return G.setActiveTool({type:"frame"})},icon:Q.zl,shortcut:B.tW.F.toLocaleUpperCase(),"data-testid":"toolbar-frame",selected:De,children:(0,T.t)("toolBar.frame")}),(0,i.jsx)(tr.Z.Item,{onSelect:function(){return G.setActiveTool({type:"embeddable"})},icon:Q.FL,"data-testid":"toolbar-embeddable",selected:Ve,children:(0,T.t)("toolBar.embeddable")}),(0,i.jsx)(tr.Z.Item,{onSelect:function(){return G.setActiveTool({type:"laser"})},icon:Q.d,"data-testid":"toolbar-laser",selected:He,shortcut:B.tW.K.toLocaleUpperCase(),children:(0,T.t)("toolBar.laser")}),(0,i.jsx)(tr.Z.Item,{onSelect:function(){return G.setOpenDialog("mermaid")},icon:Q.II,"data-testid":"toolbar-embeddable",children:(0,T.t)("toolBar.mermaidToExcalidraw")})]})]})]})},St=function(W){var s=W.renderAction;return W.zoom,(0,i.jsx)(xt.Z.Col,{gap:1,className:"zoom-actions",children:(0,i.jsxs)(xt.Z.Row,{align:"center",children:[s("zoomOut"),s("resetZoom"),s("zoomIn")]})})},Zt=function(W){var s=W.renderAction,I=W.className;return(0,i.jsxs)("div",{className:"undo-redo-buttons ".concat(I),children:[(0,i.jsx)("div",{className:"undo-button-container",children:(0,i.jsx)(Rt.u,{label:(0,T.t)("buttons.undo"),children:s("undo")})}),(0,i.jsx)("div",{className:"redo-button-container",children:(0,i.jsxs)(Rt.u,{label:(0,T.t)("buttons.redo"),children:[" ",s("redo")]})})]})},Tt=function(W){var s=W.actionManager,I=W.showExitZenModeBtn;return(0,i.jsx)("button",{className:(0,Se.Z)("disable-zen-mode",{"disable-zen-mode--visible":I}),onClick:function(){return s.executeAction(J.JN)},children:(0,T.t)("buttons.exitZenMode")})},Lt=function(W){var s=W.renderAction,I=W.className;return(0,i.jsx)("div",{className:"finalize-button ".concat(I),children:s("finalize",{size:"small"})})},Wt=n(1300),qt=function(W){var s=W.children,I=W.onClose,G=(0,S.useState)(!!s),se=(0,A.Z)(G,2),_e=se[0],he=se[1],$=ka().container,ie=q().useCallback(function(){he(!1),I&&I(),$==null||$.focus()},[I,$]);return(0,i.jsx)(i.Fragment,{children:_e&&(0,i.jsx)(Wt.V,{size:"small",onCloseRequest:ie,title:(0,T.t)("errorDialog.title"),children:(0,i.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:s})})})},sr=n(4406),cr=n(5796),Sr=n(6548),Mr=n(507),zr=n(6217),pr={};pr.styleTagTransform=ht(),pr.setAttributes=Qe(),pr.insert=je().bind(null,"head"),pr.domAPI=ce(),pr.insertStyleElement=Ye(),te()(zr.Z,pr),zr.Z&&zr.Z.locals&&zr.Z.locals;var Ft=function(W){var s=W.onChange,I=W.value,G=W.choices,se=W.name;return(0,i.jsx)("div",{className:"RadioGroup",children:G.map(function(_e){return(0,i.jsxs)("div",{className:(0,Se.Z)("RadioGroup__choice",{active:_e.value===I}),children:[(0,i.jsx)("input",{name:se,type:"radio",checked:_e.value===I,onChange:function(){return s(_e.value)}}),_e.label]},_e.label)})})},or=n(7802),rr={};rr.styleTagTransform=ht(),rr.setAttributes=Qe(),rr.insert=je().bind(null,"head"),rr.domAPI=ce(),rr.insertStyleElement=Ye(),te()(or.Z,rr),or.Z&&or.Z.locals&&or.Z.locals;var Or=function(W){var s=W.title,I=W.name,G=W.checked,se=W.onChange,_e=W.disabled,he=_e!==void 0&&_e;return(0,i.jsx)("div",{className:(0,Se.Z)("Switch",{toggled:G,disabled:he}),children:(0,i.jsx)("input",{name:I,id:I,title:s,type:"checkbox",checked:G,disabled:he,onChange:function(){return se(!G)},onKeyDown:function($){$.key===" "&&se(!G)}})})},Kr=n(9706),Xr={};Xr.styleTagTransform=ht(),Xr.setAttributes=Qe(),Xr.insert=je().bind(null,"head"),Xr.domAPI=ce(),Xr.insertStyleElement=Ye(),te()(Kr.Z,Xr),Kr.Z&&Kr.Z.locals&&Kr.Z.locals;var cn=n(8960),en={};en.styleTagTransform=ht(),en.setAttributes=Qe(),en.insert=je().bind(null,"head"),en.domAPI=ce(),en.insertStyleElement=Ye(),te()(cn.Z,en),cn.Z&&cn.Z.locals&&cn.Z.locals;var ur=(0,S.forwardRef)(function(W,s){var I=W.children,G=W.startIcon,se=W.onClick,_e=W.label,he=W.variant,$=he===void 0?"filled":he,ie=W.color,De=ie===void 0?"primary":ie,He=W.size,Ve=He===void 0?"medium":He,lt=W.fullWidth,dt=W.className;return(0,i.jsxs)("button",{className:(0,Se.Z)("ExcButton","ExcButton--color-".concat(De),"ExcButton--variant-".concat($),"ExcButton--size-".concat(Ve),{"ExcButton--fullWidth":lt},dt),onClick:se,type:"button","aria-label":_e,ref:s,children:[G&&(0,i.jsx)("div",{className:"ExcButton__icon","aria-hidden":!0,children:G}),$!=="icon"&&(I??_e)]})});function Dt(W,s){var I=Object.keys(W);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(W);s&&(G=G.filter(function(se){return Object.getOwnPropertyDescriptor(W,se).enumerable})),I.push.apply(I,G)}return I}function Nt(W){for(var s=1;s<arguments.length;s++){var I=arguments[s]!=null?arguments[s]:{};s%2?Dt(Object(I),!0).forEach(function(G){(0,L.Z)(W,G,I[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(W,Object.getOwnPropertyDescriptors(I)):Dt(Object(I)).forEach(function(G){Object.defineProperty(W,G,Object.getOwnPropertyDescriptor(I,G))})}return W}var Ut="filter"in document.createElement("canvas").getContext("2d"),hr=function(){return(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{children:(0,T.t)("canvasError.cannotShowPreview")}),(0,i.jsx)("p",{children:(0,i.jsx)("span",{children:(0,T.t)("canvasError.canvasTooBig")})}),(0,i.jsxs)("em",{children:["(",(0,T.t)("canvasError.canvasTooBigTip"),")"]})]})},jr=function(W){var s=W.appStateSnapshot,I=W.elementsSnapshot,G=W.files,se=W.actionManager,_e=W.onExportImage,he=(0,Ee.N)(I,s),$=Tl(),ie=(0,S.useState)(s.name),De=(0,A.Z)(ie,2),He=De[0],Ve=De[1],lt=(0,S.useState)(he),dt=(0,A.Z)(lt,2),vt=dt[0],Ct=dt[1],Mt=(0,S.useState)(s.exportBackground),Yt=(0,A.Z)(Mt,2),ar=Yt[0],Bt=Yt[1],zt=(0,S.useState)(s.exportWithDarkMode),$t=(0,A.Z)(zt,2),dr=$t[0],yr=$t[1],lr=(0,S.useState)(s.exportEmbedScene),nr=(0,A.Z)(lr,2),Tr=nr[0],qr=nr[1],pn=(0,S.useState)(s.exportScale),_n=(0,A.Z)(pn,2),Nn=_n[0],Un=_n[1],kn=(0,S.useRef)(null),vn=(0,S.useState)(null),An=(0,A.Z)(vn,2),jn=An[0],qn=An[1],oo=(0,F.HD)(I,s,vt),no=oo.exportedElements,so=oo.exportingFrame;return(0,S.useEffect)(function(){var zn=kn.current;if(zn){var Mn=zn.offsetWidth,Jn=zn.offsetHeight;Mn&&(0,Mr.NL)({elements:no,appState:Nt(Nt({},s),{},{name:He,exportBackground:ar,exportWithDarkMode:dr,exportScale:Nn,exportEmbedScene:Tr}),files:G,exportPadding:v.qy,maxWidthOrHeight:Math.max(Mn,Jn),exportingFrame:so}).then(function(Ro){return qn(null),(0,cr._c)(Ro).then(function(){zn.replaceChildren(Ro)})}).catch(function(Ro){console.error(Ro),qn(Ro)})}},[s,G,no,so,He,ar,dr,Nn,Tr]),(0,i.jsxs)("div",{className:"ImageExportModal",children:[(0,i.jsx)("h3",{children:(0,T.t)("imageExportDialog.header")}),(0,i.jsxs)("div",{className:"ImageExportModal__preview",children:[(0,i.jsx)("div",{className:"ImageExportModal__preview__canvas",ref:kn,children:jn&&(0,i.jsx)(hr,{})}),(0,i.jsx)("div",{className:"ImageExportModal__preview__filename",children:!Sr.kr&&(0,i.jsx)("input",{type:"text",className:"TextInput",value:He,style:{width:"30ch"},disabled:$.name!==void 0||s.viewModeEnabled,onChange:function(zn){Ve(zn.target.value),se.executeAction(sr.zX,"ui",zn.target.value)}})})]}),(0,i.jsxs)("div",{className:"ImageExportModal__settings",children:[(0,i.jsx)("h3",{children:(0,T.t)("imageExportDialog.header")}),he&&(0,i.jsx)(Cr,{label:(0,T.t)("imageExportDialog.label.onlySelected"),name:"exportOnlySelected",children:(0,i.jsx)(Or,{name:"exportOnlySelected",checked:vt,onChange:function(zn){Ct(zn)}})}),(0,i.jsx)(Cr,{label:(0,T.t)("imageExportDialog.label.withBackground"),name:"exportBackgroundSwitch",children:(0,i.jsx)(Or,{name:"exportBackgroundSwitch",checked:ar,onChange:function(zn){Bt(zn),se.executeAction(sr.XA,"ui",zn)}})}),Ut&&(0,i.jsx)(Cr,{label:(0,T.t)("imageExportDialog.label.darkMode"),name:"exportDarkModeSwitch",children:(0,i.jsx)(Or,{name:"exportDarkModeSwitch",checked:dr,onChange:function(zn){yr(zn),se.executeAction(sr.bJ,"ui",zn)}})}),(0,i.jsx)(Cr,{label:(0,T.t)("imageExportDialog.label.embedScene"),tooltip:(0,T.t)("imageExportDialog.tooltip.embedScene"),name:"exportEmbedSwitch",children:(0,i.jsx)(Or,{name:"exportEmbedSwitch",checked:Tr,onChange:function(zn){qr(zn),se.executeAction(sr.Du,"ui",zn)}})}),(0,i.jsx)(Cr,{label:(0,T.t)("imageExportDialog.label.scale"),name:"exportScale",children:(0,i.jsx)(Ft,{name:"exportScale",value:Nn,onChange:function(zn){Un(zn),se.executeAction(sr.sK,"ui",zn)},choices:v.ZB.map(function(zn){return{value:zn,label:"".concat(zn,"×")}})})}),(0,i.jsxs)("div",{className:"ImageExportModal__settings__buttons",children:[(0,i.jsx)(ur,{className:"ImageExportModal__settings__buttons__button",label:(0,T.t)("imageExportDialog.title.exportToPng"),onClick:function(){return _e(v.I_.png,no,{exportingFrame:so})},startIcon:Q.aL,children:(0,T.t)("imageExportDialog.button.exportToPng")}),(0,i.jsx)(ur,{className:"ImageExportModal__settings__buttons__button",label:(0,T.t)("imageExportDialog.title.exportToSvg"),onClick:function(){return _e(v.I_.svg,no,{exportingFrame:so})},startIcon:Q.aL,children:(0,T.t)("imageExportDialog.button.exportToSvg")}),(P.vt||v.vU)&&(0,i.jsx)(ur,{className:"ImageExportModal__settings__buttons__button",label:(0,T.t)("imageExportDialog.title.copyPngToClipboard"),onClick:function(){return _e(v.I_.clipboard,no,{exportingFrame:so})},startIcon:Q.UI,children:(0,T.t)("imageExportDialog.button.copyPngToClipboard")})]})]})]})},Cr=function(W){var s=W.label,I=W.children,G=W.tooltip,se=W.name;return(0,i.jsxs)("div",{className:"ImageExportModal__settings__setting",title:s,children:[(0,i.jsxs)("label",{htmlFor:se,className:"ImageExportModal__settings__setting__label",children:[s,G&&(0,i.jsx)(Rt.u,{label:G,long:!0,children:Q.mv})]}),(0,i.jsx)("div",{className:"ImageExportModal__settings__setting__content",children:I})]})},Zr=function(W){var s=W.elements,I=W.appState,G=W.files,se=W.actionManager,_e=W.onExportImage,he=W.onCloseRequest,$=(0,S.useState)(function(){return{appStateSnapshot:(0,E.xU)(I),elementsSnapshot:(0,E.xU)(s)}}),ie=(0,A.Z)($,1)[0],De=ie.appStateSnapshot,He=ie.elementsSnapshot;return(0,i.jsx)(Wt.V,{onCloseRequest:he,size:"wide",title:!1,children:(0,i.jsx)(jr,{elementsSnapshot:He,appStateSnapshot:De,files:G,actionManager:se,onExportImage:_e})})},Dr=n(3195),Fr={};Fr.styleTagTransform=ht(),Fr.setAttributes=Qe(),Fr.insert=je().bind(null,"head"),Fr.domAPI=ce(),Fr.insertStyleElement=Ye(),te()(Dr.Z,Fr),Dr.Z&&Dr.Z.locals&&Dr.Z.locals;var ln=function(W){var s=W.children,I=W.side,G=W.className;return(0,i.jsx)("div",{className:(0,Se.Z)("FixedSideContainer","FixedSideContainer_side_".concat(I),G),children:s})},Gr=n(1587),Rr={};Rr.styleTagTransform=ht(),Rr.setAttributes=Qe(),Rr.insert=je().bind(null,"head"),Rr.domAPI=ce(),Rr.insertStyleElement=Ye(),te()(Gr.Z,Rr),Gr.Z&&Gr.Z.locals&&Gr.Z.locals;var Wr=function(W){var s=function(I){var G=I.appState,se=I.isMobile,_e=I.device,he=I.app,$=G.activeTool,ie=G.isResizing,De=G.isRotating,He=G.lastPointerDownWith,Ve=G.multiElement!==null;if(G.openSidebar&&!_e.editor.canFitSidebar)return null;if((0,D.EN)(G))return(0,T.t)("hints.eraserRevert");if($.type==="arrow"||$.type==="line")return Ve?(0,T.t)("hints.linearElementMulti"):(0,T.t)("hints.linearElement");if($.type==="freedraw")return(0,T.t)("hints.freeDraw");if($.type==="text")return(0,T.t)("hints.text");if($.type==="embeddable")return(0,T.t)("hints.embeddable");if(G.activeTool.type==="image"&&G.pendingImageElementId)return(0,T.t)("hints.placeImage");var lt=he.scene.getSelectedElements(G);if(ie&&He==="mouse"&&lt.length===1){var dt=lt[0];return(0,ne.bt)(dt)&&dt.points.length===2?(0,T.t)("hints.lockAngle"):(0,ne.pC)(dt)?(0,T.t)("hints.resizeImage"):(0,T.t)("hints.resize")}if(De&&He==="mouse")return(0,T.t)("hints.rotate");if(lt.length===1&&(0,ne.iB)(lt[0]))return(0,T.t)("hints.text_selected");if(G.editingElement&&(0,ne.iB)(G.editingElement))return(0,T.t)("hints.text_editing");if($.type==="selection"){var vt;if(((vt=G.draggingElement)===null||vt===void 0?void 0:vt.type)==="selection"&&!lt.length&&!G.editingElement&&!G.editingLinearElement)return(0,T.t)("hints.deepBoxSelect");if(G.gridSize&&G.draggingElement)return(0,T.t)("hints.disableSnapping");if(!lt.length&&!se)return(0,T.t)("hints.canvasPanning");if(lt.length===1){if((0,ne.bt)(lt[0]))return G.editingLinearElement?G.editingLinearElement.selectedPointsIndices?(0,T.t)("hints.lineEditor_pointSelected"):(0,T.t)("hints.lineEditor_nothingSelected"):(0,T.t)("hints.lineEditor_info");if(!G.draggingElement&&(0,ne.mG)(lt[0]))return(0,T.t)("hints.bindTextToElement")}}return null}({appState:W.appState,isMobile:W.isMobile,device:W.device,app:W.app});return s?(s=(0,E.uY)(s),(0,i.jsx)("div",{className:"HintViewer",children:(0,i.jsx)("span",{children:s})})):null},Ur=n(1404),rn=n(7165),an=(n(3041),{CHECKED:Q.FC,UNCHECKED:Q._C}),Qr=function(W){return(0,i.jsxs)("label",{className:(0,Se.Z)("ToolIcon ToolIcon__lock","ToolIcon_size_".concat("medium"),{"is-mobile":W.isMobile}),title:"".concat(W.title," — Q"),children:[(0,i.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:W.name,onChange:W.onChange,checked:W.checked,"aria-label":W.title,"data-testid":"toolbar-lock"}),(0,i.jsx)("div",{className:"ToolIcon__icon",children:W.checked?an.CHECKED:an.UNCHECKED})]})},In=["heading","children"];function Xn(W,s){var I=Object.keys(W);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(W);s&&(G=G.filter(function(se){return Object.getOwnPropertyDescriptor(W,se).enumerable})),I.push.apply(I,G)}return I}function go(W){for(var s=1;s<arguments.length;s++){var I=arguments[s]!=null?arguments[s]:{};s%2?Xn(Object(I),!0).forEach(function(G){(0,L.Z)(W,G,I[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(W,Object.getOwnPropertyDescriptors(I)):Xn(Object(I)).forEach(function(G){Object.defineProperty(W,G,Object.getOwnPropertyDescriptor(I,G))})}return W}var bo=function(W){var s=W.heading,I=W.children,G=(0,ft.Z)(W,In),se=ka().id,_e=(0,i.jsx)("h2",{className:"visually-hidden",id:"".concat(se,"-").concat(s,"-title"),children:(0,T.t)("headings.".concat(s))});return(0,i.jsx)("section",go(go({},G),{},{"aria-labelledby":"".concat(se,"-").concat(s,"-title"),children:typeof I=="function"?I(_e):(0,i.jsxs)(i.Fragment,{children:[_e,I]})}))},_o=n(4726),wo=function(W){return W.penDetected?(0,i.jsxs)("label",{className:(0,Se.Z)("ToolIcon ToolIcon__penMode","ToolIcon_size_".concat("medium"),{"is-mobile":W.isMobile}),title:"".concat(W.title),children:[(0,i.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:W.name,onChange:W.onChange,checked:W.checked,"aria-label":W.title}),(0,i.jsx)("div",{className:"ToolIcon__icon",children:Q.tb})]}):null},ao=n(4949),co=n(2681),it={};it.styleTagTransform=ht(),it.setAttributes=Qe(),it.insert=je().bind(null,"head"),it.domAPI=ce(),it.insertStyleElement=Ye(),te()(co.Z,it),co.Z&&co.Z.locals&&co.Z.locals;var Oe=function(W){var s,I=(0,ao.KP)(W.elements),G=(0,Ee.Zs)(W.elements,W.appState),se=(0,ao.KP)(G);return(0,i.jsx)("div",{className:"Stats",children:(0,i.jsxs)(Ur.W,{padding:2,children:[(0,i.jsx)("div",{className:"close",onClick:W.onClose,children:Q.Tw}),(0,i.jsx)("h3",{children:(0,T.t)("stats.title")}),(0,i.jsx)("table",{children:(0,i.jsxs)("tbody",{children:[(0,i.jsx)("tr",{children:(0,i.jsx)("th",{colSpan:2,children:(0,T.t)("stats.scene")})}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:(0,T.t)("stats.elements")}),(0,i.jsx)("td",{children:W.elements.length})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:(0,T.t)("stats.width")}),(0,i.jsx)("td",{children:Math.round(I[2])-Math.round(I[0])})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:(0,T.t)("stats.height")}),(0,i.jsx)("td",{children:Math.round(I[3])-Math.round(I[1])})]}),G.length===1&&(0,i.jsx)("tr",{children:(0,i.jsx)("th",{colSpan:2,children:(0,T.t)("stats.element")})}),G.length>1&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("tr",{children:(0,i.jsx)("th",{colSpan:2,children:(0,T.t)("stats.selected")})}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:(0,T.t)("stats.elements")}),(0,i.jsx)("td",{children:G.length})]})]}),G.length>0&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"x"}),(0,i.jsx)("td",{children:Math.round(se[0])})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"y"}),(0,i.jsx)("td",{children:Math.round(se[1])})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:(0,T.t)("stats.width")}),(0,i.jsx)("td",{children:Math.round(se[2]-se[0])})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:(0,T.t)("stats.height")}),(0,i.jsx)("td",{children:Math.round(se[3]-se[1])})]})]}),G.length===1&&(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:(0,T.t)("stats.angle")}),(0,i.jsx)("td",{children:"".concat(Math.round(180*G[0].angle/Math.PI),"°")})]}),(s=W.renderCustomStats)===null||s===void 0?void 0:s.call(W,W.elements,W.appState)]})})]})})},ze=function(W){return(0,i.jsx)(K.V,{className:(0,Se.Z)("Shape",{fillable:!1}),type:"radio",icon:Q.Hk,name:"editor-current-shape",checked:W.checked,title:"".concat(W.title," — H"),keyBindingLabel:W.isMobile?void 0:B.tW.H.toLocaleUpperCase(),"aria-label":"".concat(W.title," — H"),"aria-keyshortcuts":B.tW.H,"data-testid":"toolbar-hand",onChange:function(){var s;return(s=W.onChange)===null||s===void 0?void 0:s.call(W)}})},$e=n(4572);function pt(W,s){var I=Object.keys(W);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(W);s&&(G=G.filter(function(se){return Object.getOwnPropertyDescriptor(W,se).enumerable})),I.push.apply(I,G)}return I}var Kt=function(W){var s=W.appState,I=W.elements,G=W.actionManager,se=W.setAppState,_e=W.onLockToggle,he=W.onHandToolToggle,$=W.onPenModeToggle,ie=W.renderTopRightUI,De=W.renderCustomStats,He=W.renderSidebars,Ve=W.device,lt=W.renderWelcomeScreen,dt=W.UIOptions,vt=W.app,Ct=(0,$e.R6)(),Mt=Ct.WelcomeScreenCenterTunnel,Yt=Ct.MainMenuTunnel,ar=Ct.DefaultSidebarTriggerTunnel;return(0,i.jsxs)(i.Fragment,{children:[He(),!s.viewModeEnabled&&(0,i.jsxs)(ln,{side:"top",className:"App-top-bar",children:[lt&&(0,i.jsx)(Mt.Out,{}),(0,i.jsx)(bo,{heading:"shapes",children:function(Bt){return(0,i.jsx)(xt.Z.Col,{gap:4,align:"center",children:(0,i.jsxs)(xt.Z.Row,{gap:1,className:"App-toolbar-container",children:[(0,i.jsxs)(Ur.W,{padding:1,className:"App-toolbar App-toolbar--mobile",children:[Bt,(0,i.jsx)(xt.Z.Row,{gap:1,children:(0,i.jsx)(Pt,{appState:s,activeTool:s.activeTool,UIOptions:dt,app:vt})})]}),ie&&ie(!0,s),(0,i.jsxs)("div",{className:"mobile-misc-tools-container",children:[!s.viewModeEnabled&&(0,i.jsx)(ar.Out,{}),(0,i.jsx)(wo,{checked:s.penMode,onChange:function(){return $(null)},title:(0,T.t)("toolBar.penMode"),isMobile:!0,penDetected:s.penDetected}),(0,i.jsx)(Qr,{checked:s.activeTool.locked,onChange:_e,title:(0,T.t)("toolBar.lock"),isMobile:!0}),(0,i.jsx)(ze,{checked:(0,D.l$)(s),onChange:function(){return he()},title:(0,T.t)("toolBar.hand"),isMobile:!0})]})]})})}}),(0,i.jsx)(Wr,{appState:s,isMobile:!0,device:Ve,app:vt})]}),!s.openMenu&&s.showStats&&(0,i.jsx)(Oe,{appState:s,setAppState:se,elements:I,onClose:function(){G.executeAction(J.u0)},renderCustomStats:De}),(0,i.jsx)("div",{className:"App-bottom-bar",style:{marginBottom:_o.nn+2*_o.WM,marginLeft:_o.nn+2*_o.WM,marginRight:_o.nn+2*_o.WM},children:(0,i.jsxs)(Ur.W,{padding:0,children:[s.openMenu==="shape"&&!s.viewModeEnabled&&(0,de.RT)(s,I)?(0,i.jsx)(bo,{className:"App-mobile-menu",heading:"selectedShapeActions",children:(0,i.jsx)(gr,{appState:s,elements:I,renderAction:G.renderAction})}):null,(0,i.jsxs)("footer",{className:"App-toolbar",children:[s.viewModeEnabled?(0,i.jsx)("div",{className:"App-toolbar-content",children:(0,i.jsx)(Yt.Out,{})}):(0,i.jsxs)("div",{className:"App-toolbar-content",children:[(0,i.jsx)(Yt.Out,{}),G.renderAction("toggleEditMenu"),G.renderAction("undo"),G.renderAction("redo"),G.renderAction(s.multiElement?"finalize":"duplicateSelection"),G.renderAction("deleteSelectedElements")]}),s.scrolledOutside&&!s.openMenu&&!s.openSidebar&&(0,i.jsx)("button",{className:"scroll-back-to-content",onClick:function(){se(function(Bt){return function(zt){for(var $t=1;$t<arguments.length;$t++){var dr=arguments[$t]!=null?arguments[$t]:{};$t%2?pt(Object(dr),!0).forEach(function(yr){(0,L.Z)(zt,yr,dr[yr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(zt,Object.getOwnPropertyDescriptors(dr)):pt(Object(dr)).forEach(function(yr){Object.defineProperty(zt,yr,Object.getOwnPropertyDescriptor(dr,yr))})}return zt}({},(0,Ee.W)(I,Bt))})},children:(0,T.t)("buttons.scrollBackToContent")})]})]})})]})},fr=n(5284),vr=n(901),Qt=n(3668),Vt=n(8461),Er={};Er.styleTagTransform=ht(),Er.setAttributes=Qe(),Er.insert=je().bind(null,"head"),Er.domAPI=ce(),Er.insertStyleElement=Ye(),te()(Vt.Z,Er),Vt.Z&&Vt.Z.locals&&Vt.Z.locals;var Lr=function(W){var s=(0,S.useRef)(null),I=(0,S.useState)(null),G=(0,A.Z)(I,2),se=G[0],_e=G[1];return(0,S.useLayoutEffect)(function(){if(W.spreadsheet){var he,$=(0,vr.ps)(W.chartType,W.spreadsheet,0,0);_e($);var ie=s.current;return(0,b.Z)(x().mark(function De(){var He;return x().wrap(function(Ve){for(;;)switch(Ve.prev=Ve.next){case 0:return Ve.next=2,(0,Qt.$D)($,{exportBackground:!1,viewBackgroundColor:fr.white},null);case 2:he=Ve.sent,(He=he.querySelector(".style-fonts"))===null||He===void 0||He.remove(),ie.replaceChildren(),ie.appendChild(he),W.selected&&ie.parentNode.focus();case 7:case"end":return Ve.stop()}},De)}))(),function(){ie.replaceChildren()}}},[W.spreadsheet,W.chartType,W.selected]),(0,i.jsx)("button",{className:"ChartPreview",onClick:function(){se&&W.onClick(W.chartType,se)},children:(0,i.jsx)("div",{ref:s})})},Jr=function(W){var s=W.setAppState,I=W.appState,G=W.onClose,se=wl().onInsertElements,_e=q().useCallback(function(){G&&G()},[G]),he=function($,ie){se(ie),(0,m.L)("magic","chart",$),s({currentChartType:$,pasteDialog:{shown:!1,data:null}})};return(0,i.jsx)(Wt.V,{size:"small",onCloseRequest:_e,title:(0,T.t)("labels.pasteCharts"),className:"PasteChartDialog",autofocus:!1,children:(0,i.jsxs)("div",{className:"container",children:[(0,i.jsx)(Lr,{chartType:"bar",spreadsheet:I.pasteDialog.data,selected:I.currentChartType==="bar",onClick:he}),(0,i.jsx)(Lr,{chartType:"line",spreadsheet:I.pasteDialog.data,selected:I.currentChartType==="line",onClick:he})]})})},on=n(2978),gn={};gn.styleTagTransform=ht(),gn.setAttributes=Qe(),gn.insert=je().bind(null,"head"),gn.domAPI=ce(),gn.insertStyleElement=Ye(),te()(on.Z,gn),on.Z&&on.Z.locals&&on.Z.locals;function yn(W,s){var I=Object.keys(W);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(W);s&&(G=G.filter(function(se){return Object.getOwnPropertyDescriptor(W,se).enumerable})),I.push.apply(I,G)}return I}var dn=x().mark(Fo);function mn(W,s){var I=typeof Symbol<"u"&&W[Symbol.iterator]||W["@@iterator"];if(!I){if(Array.isArray(W)||(I=function(ie,De){if(ie){if(typeof ie=="string")return Hn(ie,De);var He=Object.prototype.toString.call(ie).slice(8,-1);if(He==="Object"&&ie.constructor&&(He=ie.constructor.name),He==="Map"||He==="Set")return Array.from(ie);if(He==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(He))return Hn(ie,De)}}(W))||s){I&&(W=I);var G=0,se=function(){};return{s:se,n:function(){return G>=W.length?{done:!0}:{done:!1,value:W[G++]}},e:function(ie){throw ie},f:se}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _e,he=!0,$=!1;return{s:function(){I=I.call(W)},n:function(){var ie=I.next();return he=ie.done,ie},e:function(ie){$=!0,_e=ie},f:function(){try{he||I.return==null||I.return()}finally{if($)throw _e}}}}function Hn(W,s){(s==null||s>W.length)&&(s=W.length);for(var I=0,G=new Array(s);I<s;I++)G[I]=W[I];return G}var eo=function(){return(0,i.jsxs)("div",{className:"HelpDialog__header",children:[(0,i.jsxs)("a",{className:"HelpDialog__btn",href:"https://docs.excalidraw.com",target:"_blank",rel:"noopener noreferrer",children:[(0,T.t)("helpDialog.documentation"),(0,i.jsx)("div",{className:"HelpDialog__link-icon",children:Q.h0})]}),(0,i.jsxs)("a",{className:"HelpDialog__btn",href:"https://blog.excalidraw.com",target:"_blank",rel:"noopener noreferrer",children:[(0,T.t)("helpDialog.blog"),(0,i.jsx)("div",{className:"HelpDialog__link-icon",children:Q.h0})]}),(0,i.jsxs)("a",{className:"HelpDialog__btn",href:"https://github.com/excalidraw/excalidraw/issues",target:"_blank",rel:"noopener noreferrer",children:[(0,T.t)("helpDialog.github"),(0,i.jsx)("div",{className:"HelpDialog__link-icon",children:Q.h0})]})]})},So=function(W){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h3",{children:W.title}),(0,i.jsx)("div",{className:"HelpDialog__islands-container",children:W.children})]})},Qo=function(W){return(0,i.jsxs)("div",{className:"HelpDialog__island ".concat(W.className),children:[(0,i.jsx)("h4",{className:"HelpDialog__island-title",children:W.caption}),(0,i.jsx)("div",{className:"HelpDialog__island-content",children:W.children})]})};function Fo(W,s){var I,G,se,_e;return x().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:I=!0,G=mn(W),he.prev=2,G.s();case 4:if((se=G.n()).done){he.next=14;break}if(_e=se.value,I){he.next=9;break}return he.next=9,s;case 9:return I=!1,he.next=12,_e;case 12:he.next=4;break;case 14:he.next=19;break;case 16:he.prev=16,he.t0=he.catch(2),G.e(he.t0);case 19:return he.prev=19,G.f(),he.finish(19);case 22:case"end":return he.stop()}},dn,null,[[2,16,19,22]])}var On=function(W){var s=W.label,I=W.shortcuts,G=W.isOr,se=G===void 0||G,_e=I.map(function(he){return(he.endsWith("++")?[].concat((0,k.Z)(he.slice(0,-2).split("+")),["+"]):he.split("+")).map(function($){return(0,i.jsx)(bn,{children:(ie=$,ie.replace(/\b[a-z]\b/,function(De){return De.toUpperCase()}))},$);var ie})});return(0,i.jsxs)("div",{className:"HelpDialog__shortcut",children:[(0,i.jsx)("div",{children:s}),(0,i.jsx)("div",{className:"HelpDialog__key-container",children:(0,k.Z)(Fo(_e,se?(0,T.t)("helpDialog.or"):null))})]})},bn=function(W){return(0,i.jsx)("kbd",function(s){for(var I=1;I<arguments.length;I++){var G=arguments[I]!=null?arguments[I]:{};I%2?yn(Object(G),!0).forEach(function(se){(0,L.Z)(s,se,G[se])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(G)):yn(Object(G)).forEach(function(se){Object.defineProperty(s,se,Object.getOwnPropertyDescriptor(G,se))})}return s}({className:"HelpDialog__key"},W))},Yn=function(W){var s=W.onClose,I=q().useCallback(function(){s&&s()},[s]);return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(Wt.V,{onCloseRequest:I,title:(0,T.t)("helpDialog.title"),className:"HelpDialog",children:[(0,i.jsx)(eo,{}),(0,i.jsxs)(So,{title:(0,T.t)("helpDialog.shortcuts"),children:[(0,i.jsxs)(Qo,{className:"HelpDialog__island--tools",caption:(0,T.t)("helpDialog.tools"),children:[(0,i.jsx)(On,{label:(0,T.t)("toolBar.hand"),shortcuts:[B.tW.H]}),(0,i.jsx)(On,{label:(0,T.t)("toolBar.selection"),shortcuts:[B.tW.V,B.tW[1]]}),(0,i.jsx)(On,{label:(0,T.t)("toolBar.rectangle"),shortcuts:[B.tW.R,B.tW[2]]}),(0,i.jsx)(On,{label:(0,T.t)("toolBar.diamond"),shortcuts:[B.tW.D,B.tW[3]]}),(0,i.jsx)(On,{label:(0,T.t)("toolBar.ellipse"),shortcuts:[B.tW.O,B.tW[4]]}),(0,i.jsx)(On,{label:(0,T.t)("toolBar.arrow"),shortcuts:[B.tW.A,B.tW[5]]}),(0,i.jsx)(On,{label:(0,T.t)("toolBar.line"),shortcuts:[B.tW.L,B.tW[6]]}),(0,i.jsx)(On,{label:(0,T.t)("toolBar.freedraw"),shortcuts:[B.tW.P,B.tW[7]]}),(0,i.jsx)(On,{label:(0,T.t)("toolBar.text"),shortcuts:[B.tW.T,B.tW[8]]}),(0,i.jsx)(On,{label:(0,T.t)("toolBar.image"),shortcuts:[B.tW[9]]}),(0,i.jsx)(On,{label:(0,T.t)("toolBar.eraser"),shortcuts:[B.tW.E,B.tW[0]]}),(0,i.jsx)(On,{label:(0,T.t)("toolBar.frame"),shortcuts:[B.tW.F]}),(0,i.jsx)(On,{label:(0,T.t)("toolBar.laser"),shortcuts:[B.tW.K]}),(0,i.jsx)(On,{label:(0,T.t)("labels.eyeDropper"),shortcuts:[B.tW.I,"Shift+S","Shift+G"]}),(0,i.jsx)(On,{label:(0,T.t)("helpDialog.editLineArrowPoints"),shortcuts:[(0,E.uY)("CtrlOrCmd+Enter")]}),(0,i.jsx)(On,{label:(0,T.t)("helpDialog.editText"),shortcuts:[(0,E.uY)("Enter")]}),(0,i.jsx)(On,{label:(0,T.t)("helpDialog.textNewLine"),shortcuts:[(0,E.uY)("Enter"),(0,E.uY)("Shift+Enter")]}),(0,i.jsx)(On,{label:(0,T.t)("helpDialog.textFinish"),shortcuts:[(0,E.uY)("Esc"),(0,E.uY)("CtrlOrCmd+Enter")]}),(0,i.jsx)(On,{label:(0,T.t)("helpDialog.curvedArrow"),shortcuts:["A",(0,T.t)("helpDialog.click"),(0,T.t)("helpDialog.click"),(0,T.t)("helpDialog.click")],isOr:!1}),(0,i.jsx)(On,{label:(0,T.t)("helpDialog.curvedLine"),shortcuts:["L",(0,T.t)("helpDialog.click"),(0,T.t)("helpDialog.click"),(0,T.t)("helpDialog.click")],isOr:!1}),(0,i.jsx)(On,{label:(0,T.t)("toolBar.lock"),shortcuts:[B.tW.Q]}),(0,i.jsx)(On,{label:(0,T.t)("helpDialog.preventBinding"),shortcuts:[(0,E.uY)("CtrlOrCmd")]}),(0,i.jsx)(On,{label:(0,T.t)("toolBar.link"),shortcuts:[(0,E.uY)("CtrlOrCmd+K")]})]}),(0,i.jsxs)(Qo,{className:"HelpDialog__island--view",caption:(0,T.t)("helpDialog.view"),children:[(0,i.jsx)(On,{label:(0,T.t)("buttons.zoomIn"),shortcuts:[(0,E.uY)("CtrlOrCmd++")]}),(0,i.jsx)(On,{label:(0,T.t)("buttons.zoomOut"),shortcuts:[(0,E.uY)("CtrlOrCmd+-")]}),(0,i.jsx)(On,{label:(0,T.t)("buttons.resetZoom"),shortcuts:[(0,E.uY)("CtrlOrCmd+0")]}),(0,i.jsx)(On,{label:(0,T.t)("helpDialog.zoomToFit"),shortcuts:["Shift+1"]}),(0,i.jsx)(On,{label:(0,T.t)("helpDialog.zoomToSelection"),shortcuts:["Shift+2"]}),(0,i.jsx)(On,{label:(0,T.t)("helpDialog.movePageUpDown"),shortcuts:["PgUp/PgDn"]}),(0,i.jsx)(On,{label:(0,T.t)("helpDialog.movePageLeftRight"),shortcuts:["Shift+PgUp/PgDn"]}),(0,i.jsx)(On,{label:(0,T.t)("buttons.zenMode"),shortcuts:[(0,E.uY)("Alt+Z")]}),(0,i.jsx)(On,{label:(0,T.t)("buttons.objectsSnapMode"),shortcuts:[(0,E.uY)("Alt+S")]}),(0,i.jsx)(On,{label:(0,T.t)("labels.showGrid"),shortcuts:[(0,E.uY)("CtrlOrCmd+'")]}),(0,i.jsx)(On,{label:(0,T.t)("labels.viewMode"),shortcuts:[(0,E.uY)("Alt+R")]}),(0,i.jsx)(On,{label:(0,T.t)("labels.toggleTheme"),shortcuts:[(0,E.uY)("Alt+Shift+D")]}),(0,i.jsx)(On,{label:(0,T.t)("stats.title"),shortcuts:[(0,E.uY)("Alt+/")]})]}),(0,i.jsxs)(Qo,{className:"HelpDialog__island--editor",caption:(0,T.t)("helpDialog.editor"),children:[(0,i.jsx)(On,{label:(0,T.t)("labels.moveCanvas"),shortcuts:[(0,E.uY)("Space+".concat((0,T.t)("helpDialog.drag"))),(0,E.uY)("Wheel+".concat((0,T.t)("helpDialog.drag")))],isOr:!0}),(0,i.jsx)(On,{label:(0,T.t)("buttons.clearReset"),shortcuts:[(0,E.uY)("CtrlOrCmd+Delete")]}),(0,i.jsx)(On,{label:(0,T.t)("labels.delete"),shortcuts:[(0,E.uY)("Delete")]}),(0,i.jsx)(On,{label:(0,T.t)("labels.cut"),shortcuts:[(0,E.uY)("CtrlOrCmd+X")]}),(0,i.jsx)(On,{label:(0,T.t)("labels.copy"),shortcuts:[(0,E.uY)("CtrlOrCmd+C")]}),(0,i.jsx)(On,{label:(0,T.t)("labels.paste"),shortcuts:[(0,E.uY)("CtrlOrCmd+V")]}),(0,i.jsx)(On,{label:(0,T.t)("labels.pasteAsPlaintext"),shortcuts:[(0,E.uY)("CtrlOrCmd+Shift+V")]}),(0,i.jsx)(On,{label:(0,T.t)("labels.selectAll"),shortcuts:[(0,E.uY)("CtrlOrCmd+A")]}),(0,i.jsx)(On,{label:(0,T.t)("labels.multiSelect"),shortcuts:[(0,E.uY)("Shift+".concat((0,T.t)("helpDialog.click")))]}),(0,i.jsx)(On,{label:(0,T.t)("helpDialog.deepSelect"),shortcuts:[(0,E.uY)("CtrlOrCmd+".concat((0,T.t)("helpDialog.click")))]}),(0,i.jsx)(On,{label:(0,T.t)("helpDialog.deepBoxSelect"),shortcuts:[(0,E.uY)("CtrlOrCmd+".concat((0,T.t)("helpDialog.drag")))]}),(P.vt||v.vU)&&(0,i.jsx)(On,{label:(0,T.t)("labels.copyAsPng"),shortcuts:[(0,E.uY)("Shift+Alt+C")]}),(0,i.jsx)(On,{label:(0,T.t)("labels.copyStyles"),shortcuts:[(0,E.uY)("CtrlOrCmd+Alt+C")]}),(0,i.jsx)(On,{label:(0,T.t)("labels.pasteStyles"),shortcuts:[(0,E.uY)("CtrlOrCmd+Alt+V")]}),(0,i.jsx)(On,{label:(0,T.t)("labels.sendToBack"),shortcuts:[v.Um?(0,E.uY)("CtrlOrCmd+Alt+["):(0,E.uY)("CtrlOrCmd+Shift+[")]}),(0,i.jsx)(On,{label:(0,T.t)("labels.bringToFront"),shortcuts:[v.Um?(0,E.uY)("CtrlOrCmd+Alt+]"):(0,E.uY)("CtrlOrCmd+Shift+]")]}),(0,i.jsx)(On,{label:(0,T.t)("labels.sendBackward"),shortcuts:[(0,E.uY)("CtrlOrCmd+[")]}),(0,i.jsx)(On,{label:(0,T.t)("labels.bringForward"),shortcuts:[(0,E.uY)("CtrlOrCmd+]")]}),(0,i.jsx)(On,{label:(0,T.t)("labels.alignTop"),shortcuts:[(0,E.uY)("CtrlOrCmd+Shift+Up")]}),(0,i.jsx)(On,{label:(0,T.t)("labels.alignBottom"),shortcuts:[(0,E.uY)("CtrlOrCmd+Shift+Down")]}),(0,i.jsx)(On,{label:(0,T.t)("labels.alignLeft"),shortcuts:[(0,E.uY)("CtrlOrCmd+Shift+Left")]}),(0,i.jsx)(On,{label:(0,T.t)("labels.alignRight"),shortcuts:[(0,E.uY)("CtrlOrCmd+Shift+Right")]}),(0,i.jsx)(On,{label:(0,T.t)("labels.duplicateSelection"),shortcuts:[(0,E.uY)("CtrlOrCmd+D"),(0,E.uY)("Alt+".concat((0,T.t)("helpDialog.drag")))]}),(0,i.jsx)(On,{label:(0,T.t)("helpDialog.toggleElementLock"),shortcuts:[(0,E.uY)("CtrlOrCmd+Shift+L")]}),(0,i.jsx)(On,{label:(0,T.t)("buttons.undo"),shortcuts:[(0,E.uY)("CtrlOrCmd+Z")]}),(0,i.jsx)(On,{label:(0,T.t)("buttons.redo"),shortcuts:v.ED?[(0,E.uY)("CtrlOrCmd+Y"),(0,E.uY)("CtrlOrCmd+Shift+Z")]:[(0,E.uY)("CtrlOrCmd+Shift+Z")]}),(0,i.jsx)(On,{label:(0,T.t)("labels.group"),shortcuts:[(0,E.uY)("CtrlOrCmd+G")]}),(0,i.jsx)(On,{label:(0,T.t)("labels.ungroup"),shortcuts:[(0,E.uY)("CtrlOrCmd+Shift+G")]}),(0,i.jsx)(On,{label:(0,T.t)("labels.flipHorizontal"),shortcuts:[(0,E.uY)("Shift+H")]}),(0,i.jsx)(On,{label:(0,T.t)("labels.flipVertical"),shortcuts:[(0,E.uY)("Shift+V")]}),(0,i.jsx)(On,{label:(0,T.t)("labels.showStroke"),shortcuts:[(0,E.uY)("S")]}),(0,i.jsx)(On,{label:(0,T.t)("labels.showBackground"),shortcuts:[(0,E.uY)("G")]}),(0,i.jsx)(On,{label:(0,T.t)("labels.decreaseFontSize"),shortcuts:[(0,E.uY)("CtrlOrCmd+Shift+<")]}),(0,i.jsx)(On,{label:(0,T.t)("labels.increaseFontSize"),shortcuts:[(0,E.uY)("CtrlOrCmd+Shift+>")]})]})]})]})})},vo=n(4704),Ao=n(4241),Yo={};Yo.styleTagTransform=ht(),Yo.setAttributes=Qe(),Yo.insert=je().bind(null,"head"),Yo.domAPI=ce(),Yo.insertStyleElement=Ye(),te()(Ao.Z,Yo),Ao.Z&&Ao.Z.locals&&Ao.Z.locals;var vi=function(W){var s,I=W.children,G=W.color;return(0,i.jsx)("div",{className:"Card",style:(s={},(0,L.Z)(s,"--card-color",G==="primary"?"var(--color-primary)":fr[G][7]),(0,L.Z)(s,"--card-color-darker",G==="primary"?"var(--color-primary-darker)":fr[G][8]),(0,L.Z)(s,"--card-color-darkest",G==="primary"?"var(--color-primary-darkest)":fr[G][9]),s),children:I})},Oi=n(7955),bi={};bi.styleTagTransform=ht(),bi.setAttributes=Qe(),bi.insert=je().bind(null,"head"),bi.domAPI=ce(),bi.insertStyleElement=Ye(),te()(Oi.Z,bi),Oi.Z&&Oi.Z.locals&&Oi.Z.locals;var Qi=function(W){var s=W.elements,I=W.appState,G=W.setAppState,se=W.files,_e=W.actionManager,he=W.exportOpts,$=W.canvas,ie=W.onCloseRequest,De=he.onExportToBackend;return(0,i.jsx)("div",{className:"ExportDialog ExportDialog--json",children:(0,i.jsxs)("div",{className:"ExportDialog-cards",children:[he.saveFileToDisk&&(0,i.jsxs)(vi,{color:"lime",children:[(0,i.jsx)("div",{className:"Card-icon",children:Q.TP}),(0,i.jsx)("h2",{children:(0,T.t)("exportDialog.disk_title")}),(0,i.jsxs)("div",{className:"Card-details",children:[(0,T.t)("exportDialog.disk_details"),!Sr.kr&&_e.renderAction("changeProjectName")]}),(0,i.jsx)(K.V,{className:"Card-button",type:"button",title:(0,T.t)("exportDialog.disk_button"),"aria-label":(0,T.t)("exportDialog.disk_button"),showAriaLabel:!0,onClick:function(){_e.executeAction(sr.mM,"ui")}})]}),De&&(0,i.jsxs)(vi,{color:"pink",children:[(0,i.jsx)("div",{className:"Card-icon",children:Q.xP}),(0,i.jsx)("h2",{children:(0,T.t)("exportDialog.link_title")}),(0,i.jsx)("div",{className:"Card-details",children:(0,T.t)("exportDialog.link_details")}),(0,i.jsx)(K.V,{className:"Card-button",type:"button",title:(0,T.t)("exportDialog.link_button"),"aria-label":(0,T.t)("exportDialog.link_button"),showAriaLabel:!0,onClick:(0,b.Z)(x().mark(function He(){return x().wrap(function(Ve){for(;;)switch(Ve.prev=Ve.next){case 0:return Ve.prev=0,(0,m.L)("export","link","ui (".concat((0,E.$h)(),")")),Ve.next=4,De(s,I,se,$);case 4:ie(),Ve.next=10;break;case 7:Ve.prev=7,Ve.t0=Ve.catch(0),G({errorMessage:Ve.t0.message});case 10:case"end":return Ve.stop()}},He,null,[[0,7]])}))})]}),he.renderCustomUI&&he.renderCustomUI(s,I,se,$)]})})},Ja=function(W){var s=W.elements,I=W.appState,G=W.files,se=W.actionManager,_e=W.exportOpts,he=W.canvas,$=W.setAppState,ie=q().useCallback(function(){$({openDialog:null})},[$]);return(0,i.jsx)(i.Fragment,{children:I.openDialog==="jsonExport"&&(0,i.jsx)(Wt.V,{onCloseRequest:ie,title:(0,T.t)("buttons.export"),children:(0,i.jsx)(Qi,{elements:s,appState:I,setAppState:$,files:G,actionManager:se,onCloseRequest:ie,exportOpts:_e,canvas:he})})})},Ha=n(7080),ks=function(W){return(0,i.jsx)("button",{className:"help-icon",onClick:W.onClick,type:"button",title:"".concat((0,T.t)("helpDialog.title")," — ?"),"aria-label":(0,T.t)("helpDialog.title"),children:Q.by})},ol=function(W){var s=W.appState,I=W.actionManager,G=W.showExitZenModeBtn,se=W.renderWelcomeScreen,_e=(0,$e.R6)(),he=_e.FooterCenterTunnel,$=_e.WelcomeScreenHelpHintTunnel,ie=Pa(),De=!s.viewModeEnabled&&s.multiElement&&ie.isTouchScreen;return(0,i.jsxs)("footer",{role:"contentinfo",className:"layer-ui__wrapper__footer App-menu App-menu_bottom",children:[(0,i.jsx)("div",{className:(0,Se.Z)("layer-ui__wrapper__footer-left zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-left":s.zenModeEnabled}),children:(0,i.jsx)(xt.Z.Col,{gap:2,children:(0,i.jsxs)(bo,{heading:"canvasActions",children:[(0,i.jsx)(St,{renderAction:I.renderAction,zoom:s.zoom}),!s.viewModeEnabled&&(0,i.jsx)(Zt,{renderAction:I.renderAction,className:(0,Se.Z)("zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-bottom":s.zenModeEnabled})}),De&&(0,i.jsx)(Lt,{renderAction:I.renderAction,className:(0,Se.Z)("zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-left":s.zenModeEnabled})})]})})}),(0,i.jsx)(he.Out,{}),(0,i.jsx)("div",{className:(0,Se.Z)("layer-ui__wrapper__footer-right zen-mode-transition",{"transition-right":s.zenModeEnabled}),children:(0,i.jsxs)("div",{style:{position:"relative"},children:[se&&(0,i.jsx)($.Out,{}),(0,i.jsx)(ks,{onClick:function(){return I.executeAction(J.jY)}})]})}),(0,i.jsx)(Tt,{actionManager:I,showExitZenModeBtn:G})]})},Da=ol;ol.displayName="Footer";var As=n(5902),Ca=n(453),da=n(3607),Hi=n(7021),Gi=n(8973),ra=n(6922),Ds=n(7827),Ra=function(W){var s=W.title,I=W.children,G=W.actionLabel,se=W.onClick;return(0,i.jsxs)("div",{className:"OverwriteConfirm__Actions__Action",children:[(0,i.jsx)("h4",{children:s}),(0,i.jsx)("div",{className:"OverwriteConfirm__Actions__Action__content",children:I}),(0,i.jsx)(ur,{variant:"outlined",color:"muted",label:G,size:"large",fullWidth:!0,onClick:se})]})},Fi=Object.assign(function(W){var s=W.children;return(0,i.jsx)("div",{className:"OverwriteConfirm__Actions",children:s})},{ExportToImage:function(){var W=(0,T.QT)().t,s=Us(),I=Os();return(0,i.jsx)(Ra,{title:W("overwriteConfirm.action.exportToImage.title"),actionLabel:W("overwriteConfirm.action.exportToImage.button"),onClick:function(){s.executeAction(sr.Du,"ui",!0),I({openDialog:"imageExport"})},children:W("overwriteConfirm.action.exportToImage.description")})},SaveToDisk:function(){var W=(0,T.QT)().t,s=Us();return(0,i.jsx)(Ra,{title:W("overwriteConfirm.action.saveToDisk.title"),actionLabel:W("overwriteConfirm.action.saveToDisk.button"),onClick:function(){s.executeAction(J.mM,"ui")},children:W("overwriteConfirm.action.saveToDisk.description")})}}),me=n(9439),ot={};ot.styleTagTransform=ht(),ot.setAttributes=Qe(),ot.insert=je().bind(null,"head"),ot.domAPI=ce(),ot.insertStyleElement=Ye(),te()(me.Z,ot),me.Z&&me.Z.locals&&me.Z.locals;function mt(W,s){var I=Object.keys(W);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(W);s&&(G=G.filter(function(se){return Object.getOwnPropertyDescriptor(W,se).enumerable})),I.push.apply(I,G)}return I}function Ht(W){for(var s=1;s<arguments.length;s++){var I=arguments[s]!=null?arguments[s]:{};s%2?mt(Object(I),!0).forEach(function(G){(0,L.Z)(W,G,I[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(W,Object.getOwnPropertyDescriptors(I)):mt(Object(I)).forEach(function(G){Object.defineProperty(W,G,Object.getOwnPropertyDescriptor(I,G))})}return W}var Hr=Object.assign((0,ra.$)("OverwriteConfirmDialog",function(W){var s=W.children,I=(0,$e.R6)().OverwriteConfirmDialogTunnel,G=(0,da.KO)(Ds.K,Ca.yE),se=(0,A.Z)(G,2),_e=se[0],he=se[1];return _e.active?(0,i.jsx)(I.In,{children:(0,i.jsx)(Wt.V,{onCloseRequest:function(){_e.onClose(),he(function($){return Ht(Ht({},$),{},{active:!1})})},title:!1,size:916,children:(0,i.jsxs)("div",{className:"OverwriteConfirm",children:[(0,i.jsx)("h3",{children:_e.title}),(0,i.jsxs)("div",{className:"OverwriteConfirm__Description OverwriteConfirm__Description--color-".concat(_e.color),children:[(0,i.jsx)("div",{className:"OverwriteConfirm__Description__icon",children:Q.UT}),(0,i.jsx)("div",{children:_e.description}),(0,i.jsx)("div",{className:"OverwriteConfirm__Description__spacer"}),(0,i.jsx)(ur,{color:_e.color,size:"large",label:_e.actionLabel,onClick:function(){_e.onConfirm(),he(function($){return Ht(Ht({},$),{},{active:!1})})}})]}),(0,i.jsx)(Fi,{children:s})]})})}):null}),{Actions:Fi,Action:Ra}),sn=n(100),Fn=n(1925),ri=n(8924),Mi=n(1434),Co={};Co.styleTagTransform=ht(),Co.setAttributes=Qe(),Co.insert=je().bind(null,"head"),Co.domAPI=ce(),Co.insertStyleElement=Ye(),te()(Mi.Z,Co),Mi.Z&&Mi.Z.locals&&Mi.Z.locals;var ai=n(9144),hi={};hi.styleTagTransform=ht(),hi.setAttributes=Qe(),hi.insert=je().bind(null,"head"),hi.domAPI=ce(),hi.insertStyleElement=Ye(),te()(ai.Z,hi),ai.Z&&ai.Z.locals&&ai.Z.locals;var Ai=n(2921),Wi=function(W){return(0,i.jsxs)("label",{className:(0,Se.Z)("ToolIcon ToolIcon__LaserPointer","ToolIcon_size_".concat("small"),{"is-mobile":W.isMobile}),title:"".concat(W.title),children:[(0,i.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:W.name,onChange:W.onChange,checked:W.checked,"aria-label":W.title,"data-testid":"toolbar-LaserPointer"}),(0,i.jsx)("div",{className:"ToolIcon__icon",children:Q.d})]})},us=["suggestedBindings","startBoundElement","cursorButton","scrollX","scrollY"],ds=["canvas","appState"],Bl=["canvas","appState"];function il(W,s){var I=Object.keys(W);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(W);s&&(G=G.filter(function(se){return Object.getOwnPropertyDescriptor(W,se).enumerable})),I.push.apply(I,G)}return I}function Rs(W,s){var I=typeof Symbol<"u"&&W[Symbol.iterator]||W["@@iterator"];if(!I){if(Array.isArray(W)||(I=function(ie,De){if(ie){if(typeof ie=="string")return Ia(ie,De);var He=Object.prototype.toString.call(ie).slice(8,-1);if(He==="Object"&&ie.constructor&&(He=ie.constructor.name),He==="Map"||He==="Set")return Array.from(ie);if(He==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(He))return Ia(ie,De)}}(W))||s){I&&(W=I);var G=0,se=function(){};return{s:se,n:function(){return G>=W.length?{done:!0}:{done:!1,value:W[G++]}},e:function(ie){throw ie},f:se}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _e,he=!0,$=!1;return{s:function(){I=I.call(W)},n:function(){var ie=I.next();return he=ie.done,ie},e:function(ie){$=!0,_e=ie},f:function(){try{he||I.return==null||I.return()}finally{if($)throw _e}}}}function Ia(W,s){(s==null||s>W.length)&&(s=W.length);for(var I=0,G=new Array(s);I<s;I++)G[I]=W[I];return G}var _s=function(W){var s=W.UIOptions;return(0,i.jsxs)(Hi.Z,{__fallback:!0,children:[(0,i.jsx)(Hi.Z.DefaultItems.LoadScene,{}),(0,i.jsx)(Hi.Z.DefaultItems.SaveToActiveFile,{}),s.canvasActions.export&&(0,i.jsx)(Hi.Z.DefaultItems.Export,{}),s.canvasActions.saveAsImage&&(0,i.jsx)(Hi.Z.DefaultItems.SaveAsImage,{}),(0,i.jsx)(Hi.Z.DefaultItems.Help,{}),(0,i.jsx)(Hi.Z.DefaultItems.ClearCanvas,{}),(0,i.jsx)(Hi.Z.Separator,{}),(0,i.jsx)(Hi.Z.Group,{title:"Excalidraw links",children:(0,i.jsx)(Hi.Z.DefaultItems.Socials,{})}),(0,i.jsx)(Hi.Z.Separator,{}),(0,i.jsx)(Hi.Z.DefaultItems.ToggleTheme,{}),(0,i.jsx)(Hi.Z.DefaultItems.ChangeCanvasBackground,{})]})},oc=function(){return(0,i.jsxs)(Hr,{__fallback:!0,children:[(0,i.jsx)(Hr.Actions.SaveToDisk,{}),(0,i.jsx)(Hr.Actions.ExportToImage,{})]})},ic=function(W){var s,I,G=W.actionManager,se=W.appState,_e=W.files,he=W.setAppState,$=W.elements,ie=W.canvas,De=W.onLockToggle,He=W.onHandToolToggle,Ve=W.onPenModeToggle,lt=W.showExitZenModeBtn,dt=W.renderTopRightUI,vt=W.renderCustomStats,Ct=W.UIOptions,Mt=W.onExportImage,Yt=W.renderWelcomeScreen,ar=W.children,Bt=W.app,zt=W.isCollaborating,$t=Pa(),dr=(0,$e.ZC)(),yr=(0,da.KO)(ri.$,Ca.yE),lr=(0,A.Z)(yr,2),nr=lr[0],Tr=lr[1],qr=function(){return Ct.canvasActions.export?(0,i.jsx)(Ja,{elements:$,appState:se,files:_e,actionManager:G,exportOpts:Ct.canvasActions.export,canvas:ie,setAppState:he}):null},pn=function(){return Ct.canvasActions.saveAsImage&&se.openDialog==="imageExport"?(0,i.jsx)(Zr,{elements:$,appState:se,files:_e,actionManager:G,onExportImage:Mt,onCloseRequest:function(){return he({openDialog:null})}}):null},_n=function(){return(0,i.jsx)(Fn.O,{__fallback:!0,onDock:function(kn){(0,m.L)("sidebar","toggleDock (".concat(kn?"dock":"undock",")"),"(".concat($t.editor.isMobile?"mobile":"desktop",")"))}})},Nn=(0,da.Dv)(As.t6,Ca.yE),Un=(0,i.jsxs)(i.Fragment,{children:[ar,(0,i.jsx)(_s,{UIOptions:Ct}),(0,i.jsx)(Fn.O.Trigger,{__fallback:!0,icon:Q.Vq,title:(0,E.Oo)((0,T.t)("toolBar.library")),onToggle:function(kn){kn&&(0,m.L)("sidebar","".concat(v.Cc.name," (open)"),"button (".concat($t.editor.isMobile?"mobile":"desktop",")"))},tab:v.Cc.defaultTab,children:(0,T.t)("toolBar.library")}),(0,i.jsx)(oc,{}),se.isLoading&&(0,i.jsx)(rn.z,{delay:250}),se.errorMessage&&(0,i.jsx)(qt,{onClose:function(){return he({errorMessage:null})},children:se.errorMessage}),nr&&!$t.editor.isMobile&&(0,i.jsx)(ri.p,{colorPickerType:nr.colorPickerType,onCancel:function(){Tr(null)},onChange:function(kn,vn,An,jn){var qn=jn.altKey;if(kn==="elementBackground"||kn==="elementStroke")if(An.length){var oo,no,so=Rs(An);try{for(so.s();!(no=so.n()).done;){var zn=no.value;(0,O.DR)(zn,(0,L.Z)({},qn&&nr.swapPreviewOnAlt?kn==="elementBackground"?"strokeColor":"backgroundColor":kn==="elementBackground"?"backgroundColor":"strokeColor",vn),!1),Ai.R.delete(zn)}}catch(Mn){so.e(Mn)}finally{so.f()}(oo=xe.Z.getScene(An[0]))===null||oo===void 0||oo.informMutation()}else he(kn==="elementBackground"?{currentItemBackgroundColor:vn}:{currentItemStrokeColor:vn})},onSelect:function(kn,vn){var An;Tr(function(jn){return jn!=null&&jn.keepOpenOnAlt&&vn.altKey?jn:null}),nr==null||(An=nr.onSelect)===null||An===void 0||An.call(nr,kn,vn)}}),se.openDialog==="help"&&(0,i.jsx)(Yn,{onClose:function(){he({openDialog:null})}}),(0,i.jsx)(Gi.o,{}),(0,i.jsx)(dr.OverwriteConfirmDialogTunnel.Out,{}),pn(),qr(),se.pasteDialog.shown&&(0,i.jsx)(Jr,{setAppState:he,appState:se,onClose:function(){return he({pasteDialog:{shown:!1,data:null}})}}),$t.editor.isMobile&&(0,i.jsx)(Kt,{app:Bt,appState:se,elements:$,actionManager:G,renderJSONExportDialog:qr,renderImageExportDialog:pn,setAppState:he,onLockToggle:De,onHandToolToggle:He,onPenModeToggle:Ve,renderTopRightUI:dt,renderCustomStats:vt,renderSidebars:_n,device:$t,renderWelcomeScreen:Yt,UIOptions:Ct}),!$t.editor.isMobile&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"layer-ui__wrapper",style:se.openSidebar&&Nn&&$t.editor.canFitSidebar?{width:"calc(100% - ".concat(v.EE,"px)")}:{},children:[Yt&&(0,i.jsx)(dr.WelcomeScreenCenterTunnel.Out,{}),(I=(0,de.RT)(se,$),(0,i.jsx)(ln,{side:"top",children:(0,i.jsxs)("div",{className:"App-menu App-menu_top",children:[(0,i.jsxs)(xt.Z.Col,{gap:6,className:(0,Se.Z)("App-menu_top__left"),children:[(0,i.jsxs)("div",{style:{position:"relative"},children:[(0,i.jsx)(dr.MainMenuTunnel.Out,{}),Yt&&(0,i.jsx)(dr.WelcomeScreenMenuHintTunnel.Out,{})]}),I&&(0,i.jsx)(bo,{heading:"selectedShapeActions",className:(0,Se.Z)("selected-shape-actions zen-mode-transition",{"transition-left":se.zenModeEnabled}),children:(0,i.jsx)(Ur.W,{className:v.$C.SHAPE_ACTIONS_MENU,padding:2,style:{maxHeight:"".concat(se.height-166,"px")},children:(0,i.jsx)(gr,{appState:se,elements:$,renderAction:G.renderAction})})})]}),!se.viewModeEnabled&&(0,i.jsx)(bo,{heading:"shapes",className:"shapes-section",children:function(kn){return(0,i.jsxs)("div",{style:{position:"relative"},children:[Yt&&(0,i.jsx)(dr.WelcomeScreenToolbarHintTunnel.Out,{}),(0,i.jsx)(xt.Z.Col,{gap:4,align:"start",children:(0,i.jsxs)(xt.Z.Row,{gap:1,className:(0,Se.Z)("App-toolbar-container",{"zen-mode":se.zenModeEnabled}),children:[(0,i.jsxs)(Ur.W,{padding:1,className:(0,Se.Z)("App-toolbar",{"zen-mode":se.zenModeEnabled}),children:[(0,i.jsx)(Wr,{appState:se,isMobile:$t.editor.isMobile,device:$t,app:Bt}),kn,(0,i.jsxs)(xt.Z.Row,{gap:1,children:[(0,i.jsx)(wo,{zenModeEnabled:se.zenModeEnabled,checked:se.penMode,onChange:function(){return Ve(null)},title:(0,T.t)("toolBar.penMode"),penDetected:se.penDetected}),(0,i.jsx)(Qr,{checked:se.activeTool.locked,onChange:De,title:(0,T.t)("toolBar.lock")}),(0,i.jsx)("div",{className:"App-toolbar__divider"}),(0,i.jsx)(ze,{checked:(0,D.l$)(se),onChange:function(){return He()},title:(0,T.t)("toolBar.hand"),isMobile:!0}),(0,i.jsx)(Pt,{appState:se,activeTool:se.activeTool,UIOptions:Ct,app:Bt})]})]}),zt&&(0,i.jsx)(Ur.W,{style:{marginLeft:8,alignSelf:"center",height:"fit-content"},children:(0,i.jsx)(Wi,{title:(0,T.t)("toolBar.laser"),checked:se.activeTool.type==="laser",onChange:function(){return Bt.setActiveTool({type:"laser"})},isMobile:!0})})]})})]})}}),(0,i.jsxs)("div",{className:(0,Se.Z)("layer-ui__wrapper__top-right zen-mode-transition",{"transition-right":se.zenModeEnabled}),children:[(0,i.jsx)(vo.Z,{collaborators:se.collaborators}),dt==null?void 0:dt($t.editor.isMobile,se),!se.viewModeEnabled&&(!Nn||((s=se.openSidebar)===null||s===void 0?void 0:s.name)!==v.Cc.name)&&(0,i.jsx)(dr.DefaultSidebarTriggerTunnel.Out,{})]})]})})),(0,i.jsx)(Da,{appState:se,actionManager:G,showExitZenModeBtn:lt,renderWelcomeScreen:Yt}),se.showStats&&(0,i.jsx)(Oe,{appState:se,setAppState:he,elements:$,onClose:function(){G.executeAction(Ha.u)},renderCustomStats:vt}),se.scrolledOutside&&(0,i.jsx)("button",{className:"scroll-back-to-content",onClick:function(){he(function(kn){return function(vn){for(var An=1;An<arguments.length;An++){var jn=arguments[An]!=null?arguments[An]:{};An%2?il(Object(jn),!0).forEach(function(qn){(0,L.Z)(vn,qn,jn[qn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(vn,Object.getOwnPropertyDescriptors(jn)):il(Object(jn)).forEach(function(qn){Object.defineProperty(vn,qn,Object.getOwnPropertyDescriptor(jn,qn))})}return vn}({},(0,Ee.W)($,kn))})},children:(0,T.t)("buttons.scrollBackToContent")})]}),_n()]})]});return(0,i.jsx)(sn.k.Provider,{value:se,children:(0,i.jsx)(da.zt,{scope:dr.jotaiScope,children:(0,i.jsx)($e.A3.Provider,{value:dr,children:Un})})})},ml=function(W){return W.suggestedBindings,W.startBoundElement,W.cursorButton,W.scrollX,W.scrollY,(0,ft.Z)(W,us)},gl=function(W,s){if(W.children!==s.children)return!1;W.canvas;var I=W.appState,G=(0,ft.Z)(W,ds),se=(s.canvas,s.appState),_e=(0,ft.Z)(s,Bl);return(0,E.w8)(ml(I),ml(se),{selectedElementIds:E.w8,selectedGroupIds:E.w8})&&(0,E.w8)(G,_e)},al=q().memo(ic,gl),fs=n(9650),ba={};ba.styleTagTransform=ht(),ba.setAttributes=Qe(),ba.insert=je().bind(null,"head"),ba.domAPI=ce(),ba.insertStyleElement=Ye(),te()(fs.Z,ba),fs.Z&&fs.Z.locals&&fs.Z.locals;var ya=function(W){var s=W.message,I=W.onClose,G=W.closable,se=G!==void 0&&G,_e=W.duration,he=_e===void 0?5e3:_e,$=(0,S.useRef)(0),ie=he!==1/0,De=(0,S.useCallback)(function(){ie&&($.current=window.setTimeout(function(){return I()},he))},[I,he,ie]);(0,S.useEffect)(function(){if(ie)return De(),function(){return clearTimeout($.current)}},[De,s,he,ie]);var He=ie?function(){return clearTimeout($==null?void 0:$.current)}:void 0,Ve=ie?De:void 0;return(0,i.jsxs)("div",{className:"Toast",onMouseEnter:He,onMouseLeave:Ve,children:[(0,i.jsx)("p",{className:"Toast__message",children:s}),se&&(0,i.jsx)(K.V,{icon:Q.Tw,"aria-label":"close",type:"icon",onClick:I,className:"close"})]})};function Fl(W,s){var I=Object.keys(W);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(W);s&&(G=G.filter(function(se){return Object.getOwnPropertyDescriptor(W,se).enumerable})),I.push.apply(I,G)}return I}function vl(W){for(var s=1;s<arguments.length;s++){var I=arguments[s]!=null?arguments[s]:{};s%2?Fl(Object(I),!0).forEach(function(G){(0,L.Z)(W,G,I[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(W,Object.getOwnPropertyDescriptors(I)):Fl(Object(I)).forEach(function(G){Object.defineProperty(W,G,Object.getOwnPropertyDescriptor(I,G))})}return W}var Ls=(0,V.z)({name:"viewMode",viewMode:!0,trackEvent:{category:"canvas",predicate:function(W){return!W.viewModeEnabled}},perform:function(W,s){return{appState:vl(vl({},s),{},{viewModeEnabled:!this.checked(s)}),commitToHistory:!1}},checked:function(W){return W.viewModeEnabled},predicate:function(W,s,I){return I.viewModeEnabled===void 0},contextItemLabel:"labels.viewMode",keyTest:function(W){return!W[B.tW.CTRL_OR_CMD]&&W.altKey&&W.code===B.aU.R}}),hs=n(4178),Ns=n(200),Sl=n.n(Ns),Cl=n(3528),ps=n(5992),La=n(8020),sl=n(4048),Il=n(9672);function ll(W,s){var I=Object.keys(W);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(W);s&&(G=G.filter(function(se){return Object.getOwnPropertyDescriptor(W,se).enumerable})),I.push.apply(I,G)}return I}var fa=(0,N.Z)(function W(s){var I=this,G=s.scene,se=s.onSceneUpdated;(0,w.Z)(this,W),this.onFontsLoaded=function(_e){if(_e.every(function($){var ie="".concat($.family,"-").concat($.style,"-").concat($.weight);return!!W.loadedFontFaces.has(ie)||(W.loadedFontFaces.add(ie),!1)}))return!1;var he=!1;I.scene.mapElements(function($){return(0,de.iB)($)&&!(0,ne.Xh)($)?(Ai.R.delete($),he=!0,(0,O.BE)($,function(ie){for(var De=1;De<arguments.length;De++){var He=arguments[De]!=null?arguments[De]:{};De%2?ll(Object(He),!0).forEach(function(Ve){(0,L.Z)(ie,Ve,He[Ve])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ie,Object.getOwnPropertyDescriptors(He)):ll(Object(He)).forEach(function(Ve){Object.defineProperty(ie,Ve,Object.getOwnPropertyDescriptor(He,Ve))})}return ie}({},(0,de.JZ)($)))):$}),he&&I.onSceneUpdated()},this.loadFontsForElements=function(){var _e=(0,b.Z)(x().mark(function he($){var ie;return x().wrap(function(De){for(;;)switch(De.prev=De.next){case 0:return De.next=2,Promise.all((0,k.Z)(new Set($.filter(function(He){return(0,de.iB)(He)}).map(function(He){return He.fontFamily}))).map(function(He){var Ve,lt,dt,vt,Ct=(0,E.mO)({fontFamily:He,fontSize:16});if((Ve=document.fonts)===null||Ve===void 0||(lt=Ve.check)===null||lt===void 0||!lt.call(Ve,Ct))return(dt=document.fonts)===null||dt===void 0||(vt=dt.load)===null||vt===void 0?void 0:vt.call(dt,Ct)}));case 2:ie=De.sent,I.onFontsLoaded(ie.flat().filter(Boolean));case 4:case"end":return De.stop()}},he)}));return function(he){return _e.apply(this,arguments)}}(),this.scene=G,this.onSceneUpdated=se});fa.loadedFontFaces=new Set;var pi=n(4682),uo=n(6264),Jo=n(5047),Io=n(7652);function Oo(W,s){var I=Object.keys(W);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(W);s&&(G=G.filter(function(se){return Object.getOwnPropertyDescriptor(W,se).enumerable})),I.push.apply(I,G)}return I}function ia(W){for(var s=1;s<arguments.length;s++){var I=arguments[s]!=null?arguments[s]:{};s%2?Oo(Object(I),!0).forEach(function(G){(0,L.Z)(W,G,I[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(W,Object.getOwnPropertyDescriptors(I)):Oo(Object(I)).forEach(function(G){Object.defineProperty(W,G,Object.getOwnPropertyDescriptor(I,G))})}return W}var xa=function(W,s){var I=s.scene.getSelectedElements(W);return I.length===1&&I[0].type==="frame"},Hl=(0,V.z)({name:"selectAllElementsInFrame",trackEvent:{category:"canvas"},perform:function(W,s,I,G){var se=G.scene.getSelectedElements(s)[0];if(se&&se.type==="frame"){var _e=(0,pi.zD)((0,de.Lm)(W),se.id).filter(function(he){return!(he.type==="text"&&he.containerId)});return{elements:W,appState:ia(ia({},s),{},{selectedElementIds:_e.reduce(function(he,$){return he[$.id]=!0,he},{})}),commitToHistory:!1}}return{elements:W,appState:s,commitToHistory:!1}},contextItemLabel:"labels.selectAllElementsInFrame",predicate:function(W,s,I,G){return xa(s,G)}}),Zs=(0,V.z)({name:"removeAllElementsFromFrame",trackEvent:{category:"history"},perform:function(W,s,I,G){var se=G.scene.getSelectedElements(s)[0];return se&&se.type==="frame"?{elements:(0,pi.yZ)(W,se,s),appState:ia(ia({},s),{},{selectedElementIds:(0,L.Z)({},se.id,!0)}),commitToHistory:!0}:{elements:W,appState:s,commitToHistory:!1}},contextItemLabel:"labels.removeAllElementsFromFrame",predicate:function(W,s,I,G){return xa(s,G)}}),bl=((0,V.z)({name:"updateFrameRendering",viewMode:!0,trackEvent:{category:"canvas"},perform:function(W,s){return{elements:W,appState:ia(ia({},s),{},{frameRendering:ia(ia({},s.frameRendering),{},{enabled:!s.frameRendering.enabled})}),commitToHistory:!1}},contextItemLabel:"labels.updateFrameRendering",checked:function(W){return W.frameRendering.enabled}}),(0,V.z)({name:"setFrameAsActiveTool",trackEvent:{category:"toolbar"},perform:function(W,s,I,G){var se=(0,E.Om)(s,{type:"frame"});return(0,Io.Uk)(G.interactiveCanvas,ia(ia({},s),{},{activeTool:se})),{elements:W,appState:ia(ia({},s),{},{activeTool:(0,E.Om)(s,{type:"frame"})}),commitToHistory:!1}},keyTest:function(W){return!W[B.tW.CTRL_OR_CMD]&&!W.shiftKey&&!W.altKey&&W.key.toLocaleLowerCase()===B.tW.F}}),n(6006)),zs=n(3506);function yl(W,s){var I=Object.keys(W);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(W);s&&(G=G.filter(function(se){return Object.getOwnPropertyDescriptor(W,se).enumerable})),I.push.apply(I,G)}return I}function xl(W){for(var s=1;s<arguments.length;s++){var I=arguments[s]!=null?arguments[s]:{};s%2?yl(Object(I),!0).forEach(function(G){(0,L.Z)(W,G,I[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(W,Object.getOwnPropertyDescriptors(I)):yl(Object(I)).forEach(function(G){Object.defineProperty(W,G,Object.getOwnPropertyDescriptor(I,G))})}return W}function aa(W,s){var I=typeof Symbol<"u"&&W[Symbol.iterator]||W["@@iterator"];if(!I){if(Array.isArray(W)||(I=function(ie,De){if(ie){if(typeof ie=="string")return Ui(ie,De);var He=Object.prototype.toString.call(ie).slice(8,-1);if(He==="Object"&&ie.constructor&&(He=ie.constructor.name),He==="Map"||He==="Set")return Array.from(ie);if(He==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(He))return Ui(ie,De)}}(W))||s){I&&(W=I);var G=0,se=function(){};return{s:se,n:function(){return G>=W.length?{done:!0}:{done:!1,value:W[G++]}},e:function(ie){throw ie},f:se}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _e,he=!0,$=!1;return{s:function(){I=I.call(W)},n:function(){var ie=I.next();return he=ie.done,ie},e:function(ie){$=!0,_e=ie},f:function(){try{he||I.return==null||I.return()}finally{if($)throw _e}}}}function Ui(W,s){(s==null||s>W.length)&&(s=W.length);for(var I=0,G=new Array(s);I<s;I++)G[I]=W[I];return G}var sa=function(W){return 8/W},si=(0,N.Z)(function W(){(0,w.Z)(this,W)});si.referenceSnapPoints=null,si.visibleGaps=null,si.setReferenceSnapPoints=function(W){si.referenceSnapPoints=W},si.getReferenceSnapPoints=function(){return si.referenceSnapPoints},si.setVisibleGaps=function(W){si.visibleGaps=W},si.getVisibleGaps=function(){return si.visibleGaps},si.destroy=function(){si.referenceSnapPoints=null,si.visibleGaps=null};var ei=function(W){var s=W.event,I=W.appState,G=W.selectedElements;return s?I.objectsSnapModeEnabled&&!s[B.tW.CTRL_OR_CMD]||!I.objectsSnapModeEnabled&&s[B.tW.CTRL_OR_CMD]&&I.gridSize===null:(G.length!==1||G[0].type!=="arrow")&&I.objectsSnapModeEnabled},ha=function(W){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{omitCenter:!1,boundingBoxCorners:!1},I=s.omitCenter,G=s.boundingBoxCorners,se=s.dragOffset,_e=[];if(W.length===1){var he=W[0],$=(0,ao.qf)(he),ie=(0,A.Z)($,6),De=ie[0],He=ie[1],Ve=ie[2],lt=ie[3],dt=ie[4],vt=ie[5];se&&(De+=se.x,Ve+=se.x,dt+=se.x,He+=se.y,lt+=se.y,vt+=se.y);var Ct=(Ve-De)/2,Mt=(lt-He)/2;if(he.type!=="diamond"&&he.type!=="ellipse"||G){var Yt=(0,Ie.xj)([De,He],[dt,vt],he.angle),ar=(0,Ie.xj)([Ve,He],[dt,vt],he.angle),Bt=(0,Ie.xj)([De,lt],[dt,vt],he.angle),zt=(0,Ie.xj)([Ve,lt],[dt,vt],he.angle),$t=[dt,vt];_e=I?[Yt,ar,Bt,zt]:[Yt,ar,Bt,zt,$t]}else{var dr=(0,Ie.xj)([De,He+Mt],[dt,vt],he.angle),yr=(0,Ie.xj)([De+Ct,He],[dt,vt],he.angle),lr=(0,Ie.xj)([Ve,He+Mt],[dt,vt],he.angle),nr=(0,Ie.xj)([De+Ct,lt],[dt,vt],he.angle),Tr=[dt,vt];_e=I?[dr,yr,lr,nr]:[dr,yr,lr,nr,Tr]}}else if(W.length>1){var qr=(0,ao.hC)(W,se??{x:0,y:0}),pn=(0,A.Z)(qr,4),_n=pn[0],Nn=pn[1],Un=pn[2],kn=pn[3],vn=Un-_n,An=kn-Nn,jn=[_n,Nn],qn=[Un,Nn],oo=[_n,kn],no=[Un,kn],so=[_n+vn/2,Nn+An/2];_e=I?[jn,qn,oo,no]:[jn,qn,oo,no,so]}return _e.map(function(zn){return[Je(zn[0]),Je(zn[1])]})},Ss=function(W,s,I){var G=s.filter(function(se){return(0,ne.He)(se)}).map(function(se){return se.id});return(0,uo.CF)(W,s,I).filter(function(se){return!(se.frameId&&G.includes(se.frameId))})},Ol=function(W,s,I){var G=Ss(W,s,I),se=(0,Ge.AI)(G).filter(function(An){return!(An.length===1&&(0,ne.Xh)(An[0]))}).map(function(An){return(0,ao.KP)(An).map(function(jn){return Je(jn)})}),_e=se.sort(function(An,jn){return An[0]-jn[0]}),he=[],$=0;e:for(var ie=0;ie<_e.length;ie++)for(var De=_e[ie],He=ie+1;He<_e.length;He++){if(++$>99999)break e;var Ve=_e[He],lt=(0,A.Z)(De,4),dt=lt[1],vt=lt[2],Ct=lt[3],Mt=(0,A.Z)(Ve,4),Yt=Mt[0],ar=Mt[1],Bt=Mt[3];vt<Yt&&(0,Ie.ep)([dt,Ct],[ar,Bt])&&he.push({startBounds:De,endBounds:Ve,startSide:[[vt,dt],[vt,Ct]],endSide:[[Yt,ar],[Yt,Bt]],length:Yt-vt,overlap:(0,Ie.mW)([dt,Ct],[ar,Bt])})}var zt=se.sort(function(An,jn){return An[1]-jn[1]}),$t=[];$=0;e:for(var dr=0;dr<zt.length;dr++)for(var yr=zt[dr],lr=dr+1;lr<zt.length;lr++){if(++$>99999)break e;var nr=zt[lr],Tr=(0,A.Z)(yr,4),qr=Tr[0],pn=Tr[2],_n=Tr[3],Nn=(0,A.Z)(nr,3),Un=Nn[0],kn=Nn[1],vn=Nn[2];_n<kn&&(0,Ie.ep)([qr,pn],[Un,vn])&&$t.push({startBounds:yr,endBounds:nr,startSide:[[qr,_n],[pn,_n]],endSide:[[Un,kn],[vn,kn]],length:kn-_n,overlap:(0,Ie.mW)([qr,pn],[Un,vn])})}return{horizontalGaps:he,verticalGaps:$t}},ut=function(W,s,I,G,se,_e,he){if(!ei({appState:I,event:G,selectedElements:W}))return[];if(W.length===0)return[];var $=si.getVisibleGaps();if($){var ie,De=$.horizontalGaps,He=$.verticalGaps,Ve=(0,ao.hC)(W,s).map(function(Ro){return Je(Ro)}),lt=(0,A.Z)(Ve,4),dt=lt[0],vt=lt[1],Ct=lt[2],Mt=lt[3],Yt=(dt+Ct)/2,ar=(vt+Mt)/2,Bt=aa(De);try{for(Bt.s();!(ie=Bt.n()).done;){var zt=ie.value;if((0,Ie.ep)([vt,Mt],zt.overlap)){var $t=zt.startSide[0][0]+zt.length/2,dr=Je($t-Yt);if(zt.length>Ct-dt&&Math.abs(dr)<=he.x){Math.abs(dr)<he.x&&(se.length=0),he.x=Math.abs(dr);var yr={type:"gap",direction:"center_horizontal",gap:zt,offset:dr};se.push(yr)}else{var lr=dt-(0,A.Z)(zt.endBounds,3)[2],nr=Je(zt.length-lr);if(Math.abs(nr)<=he.x){Math.abs(nr)<he.x&&(se.length=0),he.x=Math.abs(nr);var Tr={type:"gap",direction:"side_right",gap:zt,offset:nr};se.push(Tr)}else{var qr=(0,A.Z)(zt.startBounds,3)[0],pn=Je(qr-Ct-zt.length);if(Math.abs(pn)<=he.x){Math.abs(pn)<he.x&&(se.length=0),he.x=Math.abs(pn);var _n={type:"gap",direction:"side_left",gap:zt,offset:pn};se.push(_n)}}}}}}catch(Ro){Bt.e(Ro)}finally{Bt.f()}var Nn,Un=aa(He);try{for(Un.s();!(Nn=Un.n()).done;){var kn=Nn.value;if((0,Ie.ep)([dt,Ct],kn.overlap)){var vn=kn.startSide[0][1]+kn.length/2,An=Je(vn-ar);if(kn.length>Mt-vt&&Math.abs(An)<=he.y){Math.abs(An)<he.y&&(_e.length=0),he.y=Math.abs(An);var jn={type:"gap",direction:"center_vertical",gap:kn,offset:An};_e.push(jn)}else{var qn=(0,A.Z)(kn.startBounds,3)[1],oo=Je(qn-Mt-kn.length);if(Math.abs(oo)<=he.y){Math.abs(oo)<he.y&&(_e.length=0),he.y=Math.abs(oo);var no={type:"gap",direction:"side_top",gap:kn,offset:oo};_e.push(no)}else{var so=(0,A.Z)(kn.endBounds,4)[3],zn=Je(vt-so),Mn=kn.length-zn;if(Math.abs(Mn)<=he.y){Math.abs(Mn)<he.y&&(_e.length=0),he.y=Math.abs(Mn);var Jn={type:"gap",direction:"side_bottom",gap:kn,offset:Mn};_e.push(Jn)}}}}}}catch(Ro){Un.e(Ro)}finally{Un.f()}}},Ae=function(W,s,I){var G=Ss(W,s,I);return(0,Ge.AI)(G).filter(function(se){return!(se.length===1&&(0,ne.Xh)(se[0]))}).flatMap(function(se){return ha(se)})},Xe=function(W,s,I,G,se,_e,he){if(!ei({appState:I,event:G,selectedElements:W})||W.length===0&&s.length===0)return[];var $=si.getReferenceSnapPoints();if($){var ie,De=aa(s);try{for(De.s();!(ie=De.n()).done;){var He,Ve=ie.value,lt=aa($);try{for(lt.s();!(He=lt.n()).done;){var dt=He.value,vt=dt[0]-Ve[0],Ct=dt[1]-Ve[1];Math.abs(vt)<=he.x&&(Math.abs(vt)<he.x&&(se.length=0),se.push({type:"point",points:[Ve,dt],offset:vt}),he.x=Math.abs(vt)),Math.abs(Ct)<=he.y&&(Math.abs(Ct)<he.y&&(_e.length=0),_e.push({type:"point",points:[Ve,dt],offset:Ct}),he.y=Math.abs(Ct))}}catch(Mt){lt.e(Mt)}finally{lt.f()}}}catch(Mt){De.e(Mt)}finally{De.f()}}},Je=function(W){return Math.round(W*Math.pow(10,6))/Math.pow(10,6)},ct=function(W){var s,I=new Map,G=aa(W);try{for(G.s();!(s=G.n()).done;){var se=s.value,_e=se.join(",");I.has(_e)||I.set(_e,se)}}catch(he){G.e(he)}finally{G.f()}return Array.from(I.values())},bt=function(W,s){var I={},G={};if(W.length>0){var se,_e=aa(W);try{for(_e.s();!(se=_e.n()).done;){var he=se.value;if(he.type==="point"){var $,ie=Je(he.points[0][0]);I[ie]||(I[ie]=[]),($=I[ie]).push.apply($,(0,k.Z)(he.points.map(function(vt){return[Je(vt[0]),Je(vt[1])]})))}}}catch(vt){_e.e(vt)}finally{_e.f()}}if(s.length>0){var De,He=aa(s);try{for(He.s();!(De=He.n()).done;){var Ve=De.value;if(Ve.type==="point"){var lt,dt=Je(Ve.points[0][1]);G[dt]||(G[dt]=[]),(lt=G[dt]).push.apply(lt,(0,k.Z)(Ve.points.map(function(vt){return[Je(vt[0]),Je(vt[1])]})))}}}catch(vt){He.e(vt)}finally{He.f()}}return Object.entries(I).map(function(vt){var Ct=(0,A.Z)(vt,2),Mt=Ct[0],Yt=Ct[1];return{type:"points",points:ct(Yt.map(function(ar){return[Number(Mt),ar[1]]}).sort(function(ar,Bt){return ar[1]-Bt[1]}))}}).concat(Object.entries(G).map(function(vt){var Ct=(0,A.Z)(vt,2),Mt=Ct[0],Yt=Ct[1];return{type:"points",points:ct(Yt.map(function(ar){return[ar[0],Number(Mt)]}).sort(function(ar,Bt){return ar[0]-Bt[0]}))}}))},_t=function(W,s,I){var G,se=(0,ao.hC)(W,s),_e=(0,A.Z)(se,4),he=_e[0],$=_e[1],ie=_e[2],De=_e[3],He=[],Ve=aa(I);try{for(Ve.s();!(G=Ve.n()).done;){var lt=G.value,dt=(0,A.Z)(lt.gap.startBounds,4),vt=dt[0],Ct=dt[1],Mt=dt[2],Yt=dt[3],ar=(0,A.Z)(lt.gap.endBounds,4),Bt=ar[0],zt=ar[1],$t=ar[2],dr=ar[3],yr=(0,Ie.mW)([$,De],lt.gap.overlap),lr=(0,Ie.mW)([he,ie],lt.gap.overlap);switch(lt.direction){case"center_horizontal":if(yr){var nr=(yr[0]+yr[1])/2;He.push({type:"gap",direction:"horizontal",points:[[lt.gap.startSide[0][0],nr],[he,nr]]},{type:"gap",direction:"horizontal",points:[[ie,nr],[lt.gap.endSide[0][0],nr]]})}break;case"center_vertical":if(lr){var Tr=(lr[0]+lr[1])/2;He.push({type:"gap",direction:"vertical",points:[[Tr,lt.gap.startSide[0][1]],[Tr,$]]},{type:"gap",direction:"vertical",points:[[Tr,De],[Tr,lt.gap.endSide[0][1]]]})}break;case"side_right":if(yr){var qr=(yr[0]+yr[1])/2;He.push({type:"gap",direction:"horizontal",points:[[Mt,qr],[Bt,qr]]},{type:"gap",direction:"horizontal",points:[[$t,qr],[he,qr]]})}break;case"side_left":if(yr){var pn=(yr[0]+yr[1])/2;He.push({type:"gap",direction:"horizontal",points:[[ie,pn],[vt,pn]]},{type:"gap",direction:"horizontal",points:[[Mt,pn],[Bt,pn]]})}break;case"side_top":if(lr){var _n=(lr[0]+lr[1])/2;He.push({type:"gap",direction:"vertical",points:[[_n,De],[_n,Ct]]},{type:"gap",direction:"vertical",points:[[_n,Yt],[_n,zt]]})}break;case"side_bottom":if(lr){var Nn=(lr[0]+lr[1])/2;He.push({type:"gap",direction:"vertical",points:[[Nn,Yt],[Nn,zt]]},{type:"gap",direction:"vertical",points:[[Nn,dr],[Nn,$]]})}}}}catch(Un){Ve.e(Un)}finally{Ve.f()}return function(Un){var kn,vn=new Map,An=aa(Un);try{for(An.s();!(kn=An.n()).done;){var jn=kn.value,qn=jn.points.flat().map(function(oo){return[Je(oo)]}).join(",");vn.has(qn)||vn.set(qn,jn)}}catch(oo){An.e(oo)}finally{An.f()}return Array.from(vn.values())}(He.map(function(Un){return xl(xl({},Un),{},{points:Un.points.map(function(kn){return[Je(kn[0]),Je(kn[1])]})})}))},Et=function(W,s,I,G,se,_e){var he,$,ie,De;if(!ei({event:G,selectedElements:W,appState:I})||W.length===0||W.length===1&&!function(pn,_n){var Nn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.01;return Math.abs(pn-_n)<=Nn}(W[0].angle,0))return{snapOffset:{x:0,y:0},snapLines:[]};var He=(0,ao.KP)(s),Ve=(0,A.Z)(He,4),lt=Ve[0],dt=Ve[1],vt=Ve[2],Ct=Ve[3];_e&&(_e.includes("e")?vt+=se.x:_e.includes("w")&&(lt+=se.x),_e.includes("n")?dt+=se.y:_e.includes("s")&&(Ct+=se.y));var Mt=[];if(_e)switch(_e){case"e":Mt.push([vt,dt],[vt,Ct]);break;case"w":Mt.push([lt,dt],[lt,Ct]);break;case"n":Mt.push([lt,dt],[vt,dt]);break;case"s":Mt.push([lt,Ct],[vt,Ct]);break;case"ne":Mt.push([vt,dt]);break;case"nw":Mt.push([lt,dt]);break;case"se":Mt.push([vt,Ct]);break;case"sw":Mt.push([lt,Ct])}var Yt=sa(I.zoom.value),ar={x:Yt,y:Yt},Bt=[],zt=[];Xe(s,Mt,I,G,Bt,zt,ar);var $t={x:(he=($=Bt[0])===null||$===void 0?void 0:$.offset)!==null&&he!==void 0?he:0,y:(ie=(De=zt[0])===null||De===void 0?void 0:De.offset)!==null&&ie!==void 0?ie:0};ar.x=0,ar.y=0,Bt.length=0,zt.length=0;var dr=(0,ao.KP)(W).map(function(pn){return Je(pn)}),yr=(0,A.Z)(dr,4),lr=yr[0],nr=yr[1],Tr=yr[2],qr=yr[3];return Xe(W,[[lr,nr],[lr,qr],[Tr,nr],[Tr,qr]],I,G,Bt,zt,ar),{snapOffset:$t,snapLines:bt(Bt,zt)}},jt=n(7392),mr=n(9247),xr=function(){return(0,i.jsxs)("div",{"data-testid":"brave-measure-text-error",children:[(0,i.jsx)("p",{children:(0,i.jsx)(mr.Z,{i18nKey:"errors.brave_measure_text_error.line1",bold:function(W){return(0,i.jsx)("span",{style:{fontWeight:600},children:W})}})}),(0,i.jsx)("p",{children:(0,i.jsx)(mr.Z,{i18nKey:"errors.brave_measure_text_error.line2",bold:function(W){return(0,i.jsx)("span",{style:{fontWeight:600},children:W})}})}),(0,i.jsx)("p",{children:(0,i.jsx)(mr.Z,{i18nKey:"errors.brave_measure_text_error.line3",link:function(W){return(0,i.jsx)("a",{href:"http://docs.excalidraw.com/docs/@excalidraw/excalidraw/faq#turning-off-aggresive-block-fingerprinting-in-brave-browser",children:W})}})}),(0,i.jsx)("p",{children:(0,i.jsx)(mr.Z,{i18nKey:"errors.brave_measure_text_error.line4",issueLink:function(W){return(0,i.jsx)("a",{href:"https://github.com/excalidraw/excalidraw/issues/new",children:W})},discordLink:function(W){return(0,i.jsxs)("a",{href:"https://discord.gg/UexuTaE",children:[W,"."]})}})})]})},ir=n(6199),er=n(7766),kr=function(W){var s=(0,S.useRef)(!1);return(0,S.useEffect)(function(){var I;if(s.current){var G={},se={},_e={},he={},$={};W.appState.collaborators.forEach(function(De,He){if(De.selectedElementIds)for(var Ve=0,lt=Object.keys(De.selectedElementIds);Ve<lt.length;Ve++){var dt=lt[Ve];dt in _e||(_e[dt]=[]),_e[dt].push(He)}De.pointer&&(De.username&&(he[He]=De.username),De.userState&&($[He]=De.userState),se[He]=(0,E._i)({sceneX:De.pointer.x,sceneY:De.pointer.y},W.appState),G[He]=De.button)});var ie=((I=W.containerRef)===null||I===void 0?void 0:I.current)&&getComputedStyle(W.containerRef.current).getPropertyValue("--color-selection")||"#6965db";(0,er.tp)({canvas:W.canvas,elements:W.elements,visibleElements:W.visibleElements,selectedElements:W.selectedElements,scale:window.devicePixelRatio,appState:W.appState,renderConfig:{remotePointerViewportCoords:se,remotePointerButton:G,remoteSelectedElementIds:_e,remotePointerUsernames:he,remotePointerUserStates:$,selectionColor:ie,renderScrollbars:!1},callback:W.renderInteractiveSceneCallback},(0,E.G9)())}else s.current=!0}),(0,i.jsx)("canvas",{className:"excalidraw__canvas interactive",style:{width:W.appState.width,height:W.appState.height,cursor:W.appState.viewModeEnabled?v.oc.GRAB:v.oc.AUTO},width:W.appState.width*W.scale,height:W.appState.height*W.scale,ref:W.handleCanvasRef,onContextMenu:W.onContextMenu,onPointerMove:W.onPointerMove,onPointerUp:W.onPointerUp,onPointerCancel:W.onPointerCancel,onTouchMove:W.onTouchMove,onPointerDown:W.onPointerDown,onDoubleClick:W.appState.viewModeEnabled?void 0:W.onDoubleClick,children:(0,T.t)("labels.drawingCanvas")})},Ir=function(W){return{zoom:W.zoom,scrollX:W.scrollX,scrollY:W.scrollY,width:W.width,height:W.height,viewModeEnabled:W.viewModeEnabled,editingGroupId:W.editingGroupId,editingLinearElement:W.editingLinearElement,selectedElementIds:W.selectedElementIds,frameToHighlight:W.frameToHighlight,offsetLeft:W.offsetLeft,offsetTop:W.offsetTop,theme:W.theme,pendingImageElementId:W.pendingImageElementId,selectionElement:W.selectionElement,selectedGroupIds:W.selectedGroupIds,selectedLinearElement:W.selectedLinearElement,multiElement:W.multiElement,isBindingEnabled:W.isBindingEnabled,suggestedBindings:W.suggestedBindings,isRotating:W.isRotating,elementsToHighlight:W.elementsToHighlight,openSidebar:W.openSidebar,showHyperlinkPopup:W.showHyperlinkPopup,collaborators:W.collaborators,activeEmbeddable:W.activeEmbeddable,snapLines:W.snapLines,zenModeEnabled:W.zenModeEnabled}},_r=function(W,s){return W.selectionNonce===s.selectionNonce&&W.versionNonce===s.versionNonce&&W.scale===s.scale&&W.elements===s.elements&&W.visibleElements===s.visibleElements&&W.selectedElements===s.selectedElements&&(0,E.w8)(Ir(W.appState),Ir(s.appState))},wr=q().memo(kr,_r),Ar=function(W){var s=(0,S.useRef)(null),I=(0,S.useRef)(!1);return(0,S.useEffect)(function(){var G=s.current;if(G){var se=W.canvas;I.current||(I.current=!0,G.replaceChildren(se),se.classList.add("excalidraw__canvas","static"));var _e="".concat(W.appState.width,"px"),he="".concat(W.appState.height,"px");se.style.width!==_e&&(se.style.width=_e),se.style.height!==he&&(se.style.height=he);var $=W.appState.width*W.scale,ie=W.appState.height*W.scale;se.width!==$&&(se.width=$),se.height!==ie&&(se.height=ie),(0,er.AW)({canvas:se,rc:W.rc,scale:W.scale,elements:W.elements,visibleElements:W.visibleElements,appState:W.appState,renderConfig:W.renderConfig},(0,E.G9)())}}),(0,i.jsx)("div",{className:"excalidraw__canvas-wrapper",ref:s})},Vr=function(W){return{zoom:W.zoom,scrollX:W.scrollX,scrollY:W.scrollY,width:W.width,height:W.height,viewModeEnabled:W.viewModeEnabled,offsetLeft:W.offsetLeft,offsetTop:W.offsetTop,theme:W.theme,pendingImageElementId:W.pendingImageElementId,shouldCacheIgnoreZoom:W.shouldCacheIgnoreZoom,viewBackgroundColor:W.viewBackgroundColor,exportScale:W.exportScale,selectedElementsAreBeingDragged:W.selectedElementsAreBeingDragged,gridSize:W.gridSize,frameRendering:W.frameRendering,selectedElementIds:W.selectedElementIds,frameToHighlight:W.frameToHighlight,editingGroupId:W.editingGroupId}},Yr=function(W,s){return W.versionNonce===s.versionNonce&&W.scale===s.scale&&W.elements===s.elements&&W.visibleElements===s.visibleElements&&(0,E.w8)(Vr(W.appState),Vr(s.appState))&&(0,E.w8)(W.renderConfig,s.renderConfig)},Br=q().memo(Ar,Yr),tn=function(){function W(s){var I=this;(0,w.Z)(this,W),this.getRenderableElements=(0,E.HP)(function(G){var se=G.zoom,_e=G.offsetLeft,he=G.offsetTop,$=G.scrollX,ie=G.scrollY,De=G.height,He=G.width,Ve=G.editingElement,lt=G.pendingImageElementId,dt=(G.versionNonce,function(Ct){var Mt=Ct.editingElement,Yt=Ct.elements,ar=Ct.pendingImageElementId;return Yt.filter(function(Bt){return!((0,ne.pC)(Bt)&&ar===Bt.id||Mt&&Mt.type==="text"&&Bt.id===Mt.id)})}({elements:I.scene.getNonDeletedElements(),editingElement:Ve,pendingImageElementId:lt})),vt=function(Ct){var Mt=Ct.elements,Yt=Ct.zoom,ar=Ct.offsetLeft,Bt=Ct.offsetTop,zt=Ct.scrollX,$t=Ct.scrollY,dr=Ct.height,yr=Ct.width;return Mt.filter(function(lr){return(0,Ze.PZ)(lr,yr,dr,{zoom:Yt,offsetLeft:ar,offsetTop:Bt,scrollX:zt,scrollY:$t})})}({elements:dt,zoom:se,offsetLeft:_e,offsetTop:he,scrollX:$,scrollY:ie,height:De,width:He});return{canvasElements:dt,visibleElements:vt}}),this.scene=s}return(0,N.Z)(W,[{key:"destroy",value:function(){(0,er.n_)(),this.getRenderableElements.clear()}}]),W}(),Sn=n(8806),Tn=n(4864),xn=n(8531),En=n(5830),Ln={};Ln.styleTagTransform=ht(),Ln.setAttributes=Qe(),Ln.insert=je().bind(null,"head"),Ln.domAPI=ce(),Ln.insertStyleElement=Ye(),te()(En.Z,Ln),En.Z&&En.Z.locals&&En.Z.locals;var Zn="mermaid-to-excalidraw",Kn=function(W){var s=W.error;return(0,i.jsxs)("div",{"data-testid":"mermaid-error",className:"mermaid-error",children:["Error! ",(0,i.jsx)("p",{children:s})]})},$n=function(){var W=(0,S.useState)({loaded:!1,api:null}),s=(0,A.Z)(W,2),I=s[0],G=s[1],se=(0,S.useState)(""),_e=(0,A.Z)(se,2),he=_e[0],$=_e[1],ie=(0,S.useDeferredValue)(he.trim()),De=(0,S.useState)(null),He=(0,A.Z)(De,2),Ve=He[0],lt=He[1],dt=(0,S.useRef)(null),vt=(0,S.useRef)({elements:[],files:null}),Ct=wl(),Mt=function(){var ar=dt.current;if(ar){var Bt=ar.parentElement;Bt&&(Bt.style.background="",lt(null),ar.replaceChildren())}};(0,S.useEffect)(function(){var ar=function(){var Bt=(0,b.Z)(x().mark(function zt(){var $t;return x().wrap(function(dr){for(;;)switch(dr.prev=dr.next){case 0:return dr.next=2,n.e(4736).then(n.bind(n,1049));case 2:$t=dr.sent,G({loaded:!0,api:$t});case 4:case"end":return dr.stop()}},zt)}));return function(){return Bt.apply(this,arguments)}}();ar()},[]),(0,S.useEffect)(function(){var ar=function(){try{var Bt=localStorage.getItem(Zn);if(Bt)return Bt}catch(zt){console.error(zt)}return null}()||`flowchart TD
 A[Christmas] -->|Get money| B(Go shopping)
 B --> C{Let me think}
 C -->|One| D[Laptop]
 C -->|Two| E[iPhone]
 C -->|Three| F[Car]`;$(ar)},[]),(0,S.useEffect)(function(){var ar=function(){var Bt=(0,b.Z)(x().mark(function zt(){var $t,dr,yr,lr,nr,Tr;return x().wrap(function(qr){for(;;)switch(qr.prev=qr.next){case 0:if($t=dt.current,dr=$t==null?void 0:$t.parentElement,I.loaded&&$t&&dr&&I.api){qr.next=4;break}return qr.abrupt("return");case 4:if(ie){qr.next=7;break}return Mt(),qr.abrupt("return");case 7:return qr.prev=7,qr.next=10,I.api.parseMermaidToExcalidraw(ie,{fontSize:v.n5});case 10:return yr=qr.sent,lr=yr.elements,nr=yr.files,lt(null),vt.current={elements:(0,Tn.wc)(lr,{regenerateIds:!0}),files:nr},qr.next=17,(0,Tn.NL)({elements:vt.current.elements,files:vt.current.files,exportPadding:v.qy,maxWidthOrHeight:Math.max(dr.offsetWidth,dr.offsetHeight)*window.devicePixelRatio});case 17:return Tr=qr.sent,qr.next=20,(0,cr._c)(Tr);case 20:dr.style.background="var(--default-bg-color)",$t.replaceChildren(Tr),qr.next=28;break;case 24:qr.prev=24,qr.t0=qr.catch(7),dr.style.background="var(--default-bg-color)",ie&&lt(qr.t0.message);case 28:case"end":return qr.stop()}},zt,null,[[7,24]])}));return function(){return Bt.apply(this,arguments)}}();ar()},[ie,I]);var Yt=function(){Ct.setOpenDialog(null),function(ar){try{localStorage.setItem(Zn,ar)}catch(Bt){console.error(Bt)}}(he)};return(0,i.jsx)(Wt.V,{className:"dialog-mermaid",onCloseRequest:Yt,size:1200,title:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("p",{className:"dialog-mermaid-title",children:(0,T.t)("mermaid.title")}),(0,i.jsxs)("span",{className:"dialog-mermaid-desc",children:[(0,i.jsx)(mr.Z,{i18nKey:"mermaid.description",flowchartLink:function(ar){return(0,i.jsx)("a",{href:"https://mermaid.js.org/syntax/flowchart.html",children:ar})},sequenceLink:function(ar){return(0,i.jsx)("a",{href:"https://mermaid.js.org/syntax/sequenceDiagram.html",children:ar})}}),(0,i.jsx)("br",{})]})]}),children:(0,i.jsxs)("div",{className:"dialog-mermaid-body",children:[(0,i.jsxs)("div",{className:"dialog-mermaid-panels",children:[(0,i.jsxs)("div",{className:"dialog-mermaid-panels-text",children:[(0,i.jsx)("label",{children:(0,T.t)("mermaid.syntax")}),(0,i.jsx)("textarea",{onChange:function(ar){return $(ar.target.value)},value:he})]}),(0,i.jsxs)("div",{className:"dialog-mermaid-panels-preview",children:[(0,i.jsx)("label",{children:(0,T.t)("mermaid.preview")}),(0,i.jsxs)("div",{className:"dialog-mermaid-panels-preview-wrapper",children:[Ve&&(0,i.jsx)(Kn,{error:Ve}),I.loaded?(0,i.jsx)("div",{ref:dt,style:{opacity:Ve?"0.15":1},className:"dialog-mermaid-panels-preview-canvas-container"}):(0,i.jsx)(xn.Z,{size:"2rem"})]})]})]}),(0,i.jsx)("div",{className:"dialog-mermaid-buttons",children:(0,i.jsxs)(Sn.z,{className:"dialog-mermaid-insert",onSelect:function(){var ar=vt.current,Bt=ar.elements,zt=ar.files;Ct.addElementsFromPasteOrLibrary({elements:Bt,files:zt,position:"center",fitToContent:!0}),Yt()},children:[(0,T.t)("mermaid.button"),(0,i.jsx)("span",{children:Q.LZ})]})})]})})},ro=n(7930),Uo={};Uo.styleTagTransform=ht(),Uo.setAttributes=Qe(),Uo.insert=je().bind(null,"head"),Uo.domAPI=ce(),Uo.insertStyleElement=Ye(),te()(ro.Z,Uo),ro.Z&&ro.Z.locals&&ro.Z.locals;var Ti=function(W){var s=W.manager,I=(0,S.useRef)(null);return(0,S.useEffect)(function(){return I.current&&s.start(I.current),function(){s.stop()}},[s]),(0,i.jsx)("div",{className:"LaserToolOverlay",children:(0,i.jsx)("svg",{ref:I,className:"LaserToolOverlayCanvas"})})},Bi,Ei,Vi,Ni;function ti([W,s,I],[G,se,_e]){return[W+G,s+se,I+_e]}function $o([W,s,I],[G,se,_e]){return[W-G,s-se,I-_e]}function Vo([W,s,I],G){return[W*G,s*G,I*G]}function Xo([W,s,I]){return[W/Math.sqrt(W**2+s**2),s/Math.sqrt(W**2+s**2),I]}function Go([W,s,I],G){return[Math.cos(G)*W-Math.sin(G)*s,Math.sin(G)*W+Math.cos(G)*s,I]}function Di(W,s,I){return Math.atan2(I[1]-W[1],I[0]-W[0])-Math.atan2(s[1]-W[1],s[0]-W[0])}function Oa(W){return Math.atan2(Math.sin(W),Math.cos(W))}function Ta([W,s]){return Math.sqrt(W**2+s**2)}function Ki([W,s],[I,G]){return Math.sqrt((I-W)**2+(G-s)**2)}Bi={},Ei="LaserPointer",Vi=()=>wa,Object.defineProperty(Bi,Ei,{get:Vi,set:Ni,enumerable:!0,configurable:!0});function na(W,s,I){const G=Ki(s,I);if(G===0)return Ki(W,s);const se=((_e,he,$)=>Math.max(he,Math.min($,_e)))(((W[0]-s[0])*(I[0]-s[0])+(W[1]-s[1])*(I[1]-s[1]))/G**2,0,1);return Ki([s[0]+se*(I[0]-s[0]),s[1]+se*(I[1]-s[1]),W[2]],W)}function Wa(W,s){if(s===0||W.length<=2)return W;const I=W[0],G=W[W.length-1],[se,_e]=W.reduce(([he,$],ie,De)=>{const He=na(ie,I,G);return He>he?[He,De]:[he,$]},[0,-1]);if(se>=s){const he=W[_e];return[...Wa([I,...W.slice(1,_e),he],s).slice(0,-1),he,...Wa([he,...W.slice(_e,-1),G],s).slice(1)]}return[I,G]}const ns=class ns{constructor(s){this.originalPoints=[],this.stablePoints=[],this.tailPoints=[],this.isFresh=!0,this.options=Object.assign({},ns.defaults,s)}get lastPoint(){return this.tailPoints[this.tailPoints.length-1]??this.stablePoints[this.stablePoints.length-1]}addPoint(s){const I=this.originalPoints[this.originalPoints.length-1];if(!I||I[0]!==s[0]||I[1]!==s[1]){if(this.originalPoints.push(s),this.isFresh)return this.isFresh=!1,void this.stablePoints.push(s);var G,se,_e;this.options.streamline>0&&(G=this.lastPoint,se=s,_e=1-this.options.streamline,s=ti(G,Vo($o(se,G),_e))),this.tailPoints.push(s),function(he){if(he.length<2)return 0;let $=0;for(let ie=1;ie<=he.length-1;ie++)$+=Ki(he[ie-1],he[ie]);return $+=Ki(he[he.length-2],he[he.length-1]),$}(this.tailPoints)>ns.constants.maxTailLength&&this.stabilizeTail()}}close(){this.stabilizeTail()}stabilizeTail(){if(this.options.simplify>0&&this.options.simplifyPhase=="tail")throw new Error("Not implemented yet");this.stablePoints.push(...this.tailPoints),this.tailPoints=[]}getSize(s,I,G,se,_e){return(s??this.options.size)*this.options.sizeMapping({pressure:I,runningLength:_e,currentIndex:G,totalLength:se})}getStrokeOutline(s){if(this.isFresh)return[];let I=[...this.stablePoints,...this.tailPoints];this.options.simplify>0&&this.options.simplifyPhase==="input"&&(I=Wa(I,this.options.simplify));const G=I.length;if(G===0)return[];if(G===1){const yr=I[0],lr=[];for(let nr=0;nr<=2*Math.PI;nr+=Math.PI/16)lr.push(ti(yr,Vo(Go([1,0,0],nr),this.getSize(s,yr[2],0,G,0))));return lr.push(ti(yr,Vo([1,0,0],this.getSize(s,yr[2],0,G,0)))),lr}if(G===2){const yr=I[0],lr=I[1],nr=[],Tr=Di(yr,[yr[0],yr[1]-100,yr[2]],lr);for(let qr=Tr;qr<=Math.PI+Tr;qr+=Math.PI/16)nr.push(ti(yr,Vo(Go([1,0,0],qr),this.getSize(s,yr[2],0,G,0))));for(let qr=Math.PI+Tr;qr<=2*Math.PI+Tr;qr+=Math.PI/16)nr.push(ti(lr,Vo(Go([1,0,0],qr),this.getSize(s,lr[2],0,G,0))));return nr.push(nr[0]),nr}const se=[],_e=[];let he=0,$=0,ie=0,De=0;for(let yr=1;yr<G-1;yr++){const lr=I[yr-1],nr=I[yr],Tr=I[yr+1];let qr=nr[2];const pn=Ki(lr,nr);De+=pn,he=$+.2*(pn-$);const _n=this.getSize(s,qr,yr,G,De);if(_n===0){ie=yr+1;continue}const Nn=Xo($o(lr,nr)),Un=Xo($o(Tr,nr)),kn=Go(Nn,Math.PI/2),vn=Go(Nn,-Math.PI/2),An=Go(Un,Math.PI/2),jn=Go(Un,-Math.PI/2),qn=ti(nr,Vo(kn,_n)),oo=ti(nr,Vo(vn,_n)),no=ti(nr,Vo(An,_n)),so=ti(nr,Vo(jn,_n)),zn=ti(kn,jn),Mn=ti(vn,An),Jn=ti(nr,Vo(Ta(zn)===0?Nn:Xo(zn),_n)),Ro=ti(nr,Vo(Ta(Mn)===0?Un:Xo(Mn),_n)),Do=Oa(Di(nr,lr,Tr)),Eo=ns.constants.cornerDetectionMaxAngle/180*Math.PI*ns.constants.cornerDetectionVariance(he);if(Math.abs(Do)<Eo){const To=Math.abs(Oa(Math.PI-Do));if(To===0)continue;if(Do<0){_e.push(oo,Ro);for(let ho=0;ho<=To;ho+=To/4)se.push(ti(nr,Go(Vo(kn,_n),ho)));for(let ho=To;ho>=0;ho-=To/4)_e.push(ti(nr,Go(Vo(kn,_n),ho)));_e.push(Ro,no)}else{se.push(qn,Jn);for(let ho=0;ho<=To;ho+=To/4)_e.push(ti(nr,Go(Vo(kn,-_n),-ho)));for(let ho=To;ho>=0;ho-=To/4)se.push(ti(nr,Go(Vo(kn,-_n),-ho)));se.push(Jn,so)}}else se.push(Jn),_e.push(Ro);$=he}const He=I[ie],Ve=I[ie+1],lt=I[G-2],dt=I[G-1];if(ie>=G-2)return[];const vt=Xo($o(Ve,He)),Ct=Xo($o(lt,dt)),Mt=Go(vt,-Math.PI/2),Yt=Go(Ct,Math.PI/2),ar=this.getSize(s,He[2],0,G,0),Bt=[],zt=this.getSize(s,lt[2],G-2,G,De),$t=[];for(let yr=0;yr<=Math.PI;yr+=Math.PI/16)Bt.unshift(ti(He,Go(Vo(Mt,ar),-yr)));Bt.unshift(ti(He,Vo(Mt,-ar)));for(let yr=0;yr<=Math.PI;yr+=Math.PI/16)$t.push(ti(dt,Go(Vo(Yt,-zt),-yr)));const dr=[...Bt,...se,...$t.reverse(),..._e.reverse()];return Bt.length>0&&dr.push(Bt[0]),this.options.simplify>0&&this.options.simplifyPhase==="output"?Wa(dr,this.options.simplify):dr}};Ul=new WeakMap,Vl=new WeakMap,dd(ns,Ul,(()=>{ns.defaults={size:2,streamline:.45,simplify:.1,simplifyPhase:"output",sizeMapping:()=>1}})()),dd(ns,Vl,(()=>{ns.constants={cornerDetectionMaxAngle:120,cornerDetectionVariance:s=>s>35?.5:1,maxTailLength:50}})());let wa=ns;var es=n(957);function Cs(W,s){var I=typeof Symbol<"u"&&W[Symbol.iterator]||W["@@iterator"];if(!I){if(Array.isArray(W)||(I=function(ie,De){if(ie){if(typeof ie=="string")return Ua(ie,De);var He=Object.prototype.toString.call(ie).slice(8,-1);if(He==="Object"&&ie.constructor&&(He=ie.constructor.name),He==="Map"||He==="Set")return Array.from(ie);if(He==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(He))return Ua(ie,De)}}(W))||s){I&&(W=I);var G=0,se=function(){};return{s:se,n:function(){return G>=W.length?{done:!0}:{done:!1,value:W[G++]}},e:function(ie){throw ie},f:se}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _e,he=!0,$=!1;return{s:function(){I=I.call(W)},n:function(){var ie=I.next();return he=ie.done,ie},e:function(ie){$=!0,_e=ie},f:function(){try{he||I.return==null||I.return()}finally{if($)throw _e}}}}function Ua(W,s){(s==null||s>W.length)&&(s=W.length);for(var I=0,G=new Array(s);I<s;I++)G[I]=W[I];return G}var yi=1e3,ci=function(W,s){return(W+s)/2};function ja(W){return 1-Math.pow(1-W,3)}function Ri(){return{currentPath:void 0,finishedPaths:[],lastPoint:[-1e4,-1e4],svg:document.createElementNS("http://www.w3.org/2000/svg","path")}}function ki(){return wa.constants.cornerDetectionMaxAngle=70,new wa({simplify:0,streamline:.4,sizeMapping:function(W){var s=Math.max(0,1-(performance.now()-W.pressure)/1e3),I=(50-Math.min(50,W.totalLength-W.currentIndex))/50;return Math.min(ja(I),ja(s))}})}var Ea=function(){function W(s){(0,w.Z)(this,W),this.app=s,this.collaboratorsState=new Map,this.isDrawing=!1,this.isRunning=!1,this.ownState=Ri()}return(0,N.Z)(W,[{key:"destroy",value:function(){this.stop(),this.isDrawing=!1,this.ownState=Ri(),this.collaboratorsState=new Map}},{key:"startPath",value:function(s,I){this.ownState.currentPath=ki(),this.ownState.currentPath.addPoint([s,I,performance.now()]),this.updatePath(this.ownState)}},{key:"addPointToPath",value:function(s,I){var G;this.ownState.currentPath&&((G=this.ownState.currentPath)===null||G===void 0||G.addPoint([s,I,performance.now()]),this.updatePath(this.ownState))}},{key:"endPath",value:function(){this.ownState.currentPath&&(this.ownState.currentPath.close(),this.ownState.finishedPaths.push(this.ownState.currentPath),this.updatePath(this.ownState))}},{key:"updatePath",value:function(s){this.isDrawing=!0,this.isRunning||this.start()}},{key:"start",value:function(s){s&&(this.container=s,this.container.appendChild(this.ownState.svg)),this.stop(),this.isRunning=!0,this.loop()}},{key:"stop",value:function(){this.isRunning=!1,this.rafId&&cancelAnimationFrame(this.rafId),this.rafId=void 0}},{key:"loop",value:function(){this.rafId=requestAnimationFrame(this.loop.bind(this)),this.updateCollabolatorsState(),this.isDrawing?this.update():this.isRunning=!1}},{key:"draw",value:function(s){var I=this;return function(G){var se=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],_e=G.length;if(_e<4)return"";for(var he=G[0],$=G[1],ie=G[2],De="M".concat(he[0].toFixed(2),",").concat(he[1].toFixed(2)," Q").concat($[0].toFixed(2),",").concat($[1].toFixed(2)," ").concat(ci($[0],ie[0]).toFixed(2),",").concat(ci($[1],ie[1]).toFixed(2)," T"),He=2,Ve=_e-1;He<Ve;He++)he=G[He],$=G[He+1],De+="".concat(ci(he[0],$[0]).toFixed(2),",").concat(ci(he[1],$[1]).toFixed(2)," ");return se&&(De+="Z"),De}(s.getStrokeOutline(s.options.size/this.app.state.zoom.value).map(function(G){var se=(0,A.Z)(G,2),_e=se[0],he=se[1],$=(0,E._i)({sceneX:_e,sceneY:he},I.app.state);return[$.x,$.y]}),!0)}},{key:"updateCollabolatorsState",value:function(){if(this.container&&this.app.state.collaborators.size){var s,I=Cs(this.app.state.collaborators.entries());try{for(I.s();!(s=I.n()).done;){var G=(0,A.Z)(s.value,2),se=G[0],_e=G[1];if(!this.collaboratorsState.has(se)){var he=Ri();this.container.appendChild(he.svg),this.collaboratorsState.set(se,he),this.updatePath(he)}var $=this.collaboratorsState.get(se);_e.pointer&&_e.pointer.tool==="laser"&&(_e.button==="down"&&$.currentPath===void 0&&($.lastPoint=[_e.pointer.x,_e.pointer.y],$.currentPath=ki(),$.currentPath.addPoint([_e.pointer.x,_e.pointer.y,performance.now()]),this.updatePath($)),_e.button==="down"&&$.currentPath!==void 0&&(_e.pointer.x===$.lastPoint[0]&&_e.pointer.y===$.lastPoint[1]||($.lastPoint=[_e.pointer.x,_e.pointer.y],$.currentPath.addPoint([_e.pointer.x,_e.pointer.y,performance.now()]),this.updatePath($))),_e.button==="up"&&$.currentPath!==void 0&&($.lastPoint=[_e.pointer.x,_e.pointer.y],$.currentPath.addPoint([_e.pointer.x,_e.pointer.y,performance.now()]),$.currentPath.close(),$.finishedPaths.push($.currentPath),$.currentPath=void 0,this.updatePath($)))}}catch(ie){I.e(ie)}finally{I.f()}}}},{key:"update",value:function(){var s=this;if(this.container){var I,G=!1,se=Cs(this.collaboratorsState.entries());try{for(se.s();!(I=se.n()).done;){var _e=(0,A.Z)(I.value,2),he=_e[0],$=_e[1];if(this.app.state.collaborators.has(he)){$.finishedPaths=$.finishedPaths.filter(function(He){var Ve=He.originalPoints[He.originalPoints.length-1];return!(Ve&&Ve[2]<performance.now()-yi)});var ie=$.finishedPaths.map(function(He){return s.draw(He)}).join(" ");$.currentPath&&(ie+=" ".concat(this.draw($.currentPath))),ie.trim()&&(G=!0),$.svg.setAttribute("d",ie),$.svg.setAttribute("fill",(0,es.G)(he))}else $.svg.remove(),this.collaboratorsState.delete(he)}}catch(He){se.e(He)}finally{se.f()}this.ownState.finishedPaths=this.ownState.finishedPaths.filter(function(He){var Ve=He.originalPoints[He.originalPoints.length-1];return!(Ve&&Ve[2]<performance.now()-yi)});var De=this.ownState.finishedPaths.map(function(He){return s.draw(He)}).join(" ");this.ownState.currentPath&&(De+=" ".concat(this.draw(this.ownState.currentPath))),(De=De.trim())&&(G=!0),this.ownState.svg.setAttribute("d",De),this.ownState.svg.setAttribute("fill","red"),G||(this.isDrawing=!1)}}}]),W}(),Zi=function(){function W(s){var I;(0,w.Z)(this,W),this.subscribers=[],this.updateOnChangeOnly=(I=s==null?void 0:s.updateOnChangeOnly)!==null&&I!==void 0&&I,this.value=s==null?void 0:s.initialState}return(0,N.Z)(W,[{key:"on",value:function(){for(var s,I=this,G=arguments.length,se=new Array(G),_e=0;_e<G;_e++)se[_e]=arguments[_e];var he=se.flat().filter(function($){return typeof $=="function"});return(s=this.subscribers).push.apply(s,(0,k.Z)(he)),function(){return I.off(he)}}},{key:"off",value:function(){for(var s=arguments.length,I=new Array(s),G=0;G<s;G++)I[G]=arguments[G];var se=I.flat();this.subscribers=this.subscribers.filter(function(_e){return!se.includes(_e)})}},{key:"trigger",value:function(){for(var s=arguments.length,I=new Array(s),G=0;G<s;G++)I[G]=arguments[G];return this.updateOnChangeOnly&&this.value===I?[]:(this.value=I,this.subscribers.map(function(se){return se.apply(void 0,I)}))}},{key:"destroy",value:function(){this.subscribers=[],this.value=void 0}}]),W}();function Ko(W,s){var I=typeof Symbol<"u"&&W[Symbol.iterator]||W["@@iterator"];if(!I){if(Array.isArray(W)||(I=function(ie,De){if(ie){if(typeof ie=="string")return Ji(ie,De);var He=Object.prototype.toString.call(ie).slice(8,-1);if(He==="Object"&&ie.constructor&&(He=ie.constructor.name),He==="Map"||He==="Set")return Array.from(ie);if(He==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(He))return Ji(ie,De)}}(W))||s){I&&(W=I);var G=0,se=function(){};return{s:se,n:function(){return G>=W.length?{done:!0}:{done:!1,value:W[G++]}},e:function(ie){throw ie},f:se}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _e,he=!0,$=!1;return{s:function(){I=I.call(W)},n:function(){var ie=I.next();return he=ie.done,ie},e:function(ie){$=!0,_e=ie},f:function(){try{he||I.return==null||I.return()}finally{if($)throw _e}}}}function Ji(W,s){(s==null||s>W.length)&&(s=W.length);for(var I=0,G=new Array(s);I<s;I++)G[I]=W[I];return G}function ms(W){var s=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var I,G=(0,j.Z)(W);if(s){var se=(0,j.Z)(this).constructor;I=Reflect.construct(G,arguments,se)}else I=G.apply(this,arguments);return(0,d.Z)(this,I)}}function Bs(W,s){var I=Object.keys(W);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(W);s&&(G=G.filter(function(se){return Object.getOwnPropertyDescriptor(W,se).enumerable})),I.push.apply(I,G)}return I}function fn(W){for(var s=1;s<arguments.length;s++){var I=arguments[s]!=null?arguments[s]:{};s%2?Bs(Object(I),!0).forEach(function(G){(0,L.Z)(W,G,I[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(W,Object.getOwnPropertyDescriptors(I)):Bs(Object(I)).forEach(function(G){Object.defineProperty(W,G,Object.getOwnPropertyDescriptor(I,G))})}return W}var hn=q().createContext(null),la=q().createContext(null),Va={viewport:{isMobile:!1,isLandscape:!1},editor:{isMobile:!1,canFitSidebar:!1},isTouchScreen:!1},ts=q().createContext(Va);ts.displayName="DeviceContext";var cl=q().createContext({container:null,id:null});cl.displayName="ExcalidrawContainerContext";var ac=q().createContext([]);ac.displayName="ExcalidrawElementsContext";var gs=q().createContext(fn(fn({},(0,D.im)()),{},{width:0,height:0,offsetLeft:0,offsetTop:0}));gs.displayName="ExcalidrawAppStateContext";var Fs=q().createContext(function(){console.warn("unitialized ExcalidrawSetAppStateContext context!")});Fs.displayName="ExcalidrawSetAppStateContext";var Hs=q().createContext(null);Hs.displayName="ExcalidrawActionManagerContext";var wl=function(){return(0,S.useContext)(hn)},Tl=function(){return(0,S.useContext)(la)},Pa=function(){return(0,S.useContext)(ts)},ka=function(){return(0,S.useContext)(cl)},Ws=function(){return(0,S.useContext)(ac)},Is=function(){return(0,S.useContext)(gs)},Os=function(){return(0,S.useContext)(Fs)},Us=function(){return(0,S.useContext)(Hs)},sc=typeof window<"u"&&"ResizeObserver"in window,El=!1,ul=0,ea=!1,Yi=!1,_i=!1,Na={horizontal:null,vertical:null},Ts=0,rs=!1,dl=new Map,jl=!1,lc=0,Wl=!1,Vs=null,Zo={pointers:new Map,lastCenter:null,initialDistance:null,initialScale:null},ni=function(W){(0,f.Z)(_e,W);var s,I,G,se=ms(_e);function _e(he){var $;(0,w.Z)(this,_e),$=se.call(this,he),$c.call((0,M.Z)($));var ie,De=(0,D.im)(),He=he.excalidrawAPI,Ve=he.viewModeEnabled,lt=Ve!==void 0&&Ve,dt=he.zenModeEnabled,vt=dt!==void 0&&dt,Ct=he.gridModeEnabled,Mt=Ct!==void 0&&Ct,Yt=he.objectsSnapModeEnabled,ar=Yt!==void 0&&Yt,Bt=he.theme,zt=Bt===void 0?De.theme:Bt,$t=he.name,dr=$t===void 0?De.name:$t;if($.state=fn(fn(fn({},De),{},{theme:zt,isLoading:!0},$.getCanvasOffsets()),{},{viewModeEnabled:lt,zenModeEnabled:vt,objectsSnapModeEnabled:ar,gridSize:Mt?v.k:null,name:dr,width:window.innerWidth,height:window.innerHeight}),$.id=(0,ge.x0)(),$.library=new X.ZP((0,M.Z)($)),$.scene=new xe.Z,$.canvas=document.createElement("canvas"),$.rc=ke.Z.canvas($.canvas),$.renderer=new tn($.scene),He){var yr={updateScene:$.updateScene,updateLibrary:$.library.updateLibrary,addFiles:$.addFiles,resetScene:$.resetScene,getSceneElementsIncludingDeleted:$.getSceneElementsIncludingDeleted,history:{clear:$.resetHistory},scrollToContent:$.scrollToContent,getSceneElements:$.getSceneElements,getAppState:function(){return $.state},getFiles:function(){return $.files},refresh:$.refresh,setToast:$.setToast,id:$.id,setActiveTool:$.setActiveTool,setCursor:$.setCursor,resetCursor:$.resetCursor,updateFrameRendering:$.updateFrameRendering,toggleSidebar:$.toggleSidebar,onChange:function(lr){return $.onChangeEmitter.on(lr)},onPointerDown:function(lr){return $.onPointerDownEmitter.on(lr)},onPointerUp:function(lr){return $.onPointerUpEmitter.on(lr)}};typeof He=="function"?He(yr):console.error("excalidrawAPI should be a function!")}return $.excalidrawContainerValue={container:$.excalidrawContainerRef.current,id:$.id},$.fonts=new fa({scene:$.scene,onSceneUpdated:$.onSceneUpdated}),$.history=new Re,$.actionManager=new U($.syncActionResult,function(){return $.state},function(){return $.scene.getElementsIncludingDeleted()},(0,M.Z)($)),$.actionManager.registerAll(V.N),$.actionManager.registerAction((ie=$.history,{name:"undo",trackEvent:{category:"history"},perform:function(lr,nr){return h(lr,nr,function(){return ie.undoOnce()})},keyTest:function(lr){return lr[B.tW.CTRL_OR_CMD]&&lr.key.toLowerCase()===B.tW.Z&&!lr.shiftKey},PanelComponent:function(lr){var nr=lr.updateData,Tr=lr.data;return(0,i.jsx)(K.V,{type:"button",icon:Q.UE,"aria-label":(0,T.t)("buttons.undo"),onClick:nr,size:(Tr==null?void 0:Tr.size)||"medium"})},commitToHistory:function(){return!1}})),$.actionManager.registerAction(function(lr){return{name:"redo",trackEvent:{category:"history"},perform:function(nr,Tr){return h(nr,Tr,function(){return lr.redoOnce()})},keyTest:function(nr){return nr[B.tW.CTRL_OR_CMD]&&nr.shiftKey&&nr.key.toLowerCase()===B.tW.Z||v.ED&&nr.ctrlKey&&!nr.shiftKey&&nr.key===B.tW.Y},PanelComponent:function(nr){var Tr=nr.updateData,qr=nr.data;return(0,i.jsx)(K.V,{type:"button",icon:Q.zG,"aria-label":(0,T.t)("buttons.redo"),onClick:Tr,size:(qr==null?void 0:qr.size)||"medium"})},commitToHistory:function(){return!1}}}($.history)),$}return(0,N.Z)(_e,[{key:"onWindowMessage",value:function(he){if(he.origin==="https://player.vimeo.com"||he.origin==="https://www.youtube.com"){var $=null;try{$=JSON.parse(he.data)}catch{}if($)switch(he.origin){case"https://player.vimeo.com":if($.method==="paused"){var ie,De=null,He=document.body.querySelectorAll("iframe.excalidraw__embeddable");if(!He)break;var Ve,lt=Ko(He);try{for(lt.s();!(Ve=lt.n()).done;){var dt=Ve.value;dt.contentWindow===he.source&&(De=dt.contentWindow)}}catch(Mt){lt.e(Mt)}finally{lt.f()}(ie=De)===null||ie===void 0||ie.postMessage(JSON.stringify({method:$.value?"play":"pause",value:!0}),"*")}break;case"https://www.youtube.com":if($.event==="infoDelivery"&&$.info&&$.id&&typeof $.info.playerState=="number"){var vt=$.id,Ct=$.info.playerState;Object.values(v.vf).includes(Ct)&&dl.set(vt,Ct)}}}}},{key:"updateEmbeddableRef",value:function(he,$){$&&this.iFrameRefs.set(he,$)}},{key:"getHTMLIFrameElement",value:function(he){return this.iFrameRefs.get(he)}},{key:"handleEmbeddableCenterClick",value:function(he){var $,ie,De,He,Ve=this;if((($=this.state.activeEmbeddable)===null||$===void 0?void 0:$.element)!==he||((ie=this.state.activeEmbeddable)===null||ie===void 0?void 0:ie.state)!=="active"){setTimeout(function(){Ve.setState({activeEmbeddable:{element:he,state:"active"},selectedElementIds:(0,L.Z)({},he.id,!0),draggingElement:null,selectionElement:null})},100);var lt=this.getHTMLIFrameElement(he.id);if(lt!=null&&lt.contentWindow){if(lt.src.includes("youtube")){var dt=dl.get(he.id);switch(dt||(dl.set(he.id,v.vf.UNSTARTED),lt.contentWindow.postMessage(JSON.stringify({event:"listening",id:he.id}),"*")),dt){case v.vf.PLAYING:case v.vf.BUFFERING:(De=lt.contentWindow)===null||De===void 0||De.postMessage(JSON.stringify({event:"command",func:"pauseVideo",args:""}),"*");break;default:(He=lt.contentWindow)===null||He===void 0||He.postMessage(JSON.stringify({event:"command",func:"playVideo",args:""}),"*")}}lt.src.includes("player.vimeo.com")&&lt.contentWindow.postMessage(JSON.stringify({method:"paused"}),"*")}}}},{key:"isEmbeddableCenter",value:function(he,$,ie,De){var He,Ve;return he&&!$.altKey&&!$.shiftKey&&!$.metaKey&&!$.ctrlKey&&(((He=this.state.activeEmbeddable)===null||He===void 0?void 0:He.element)!==he||((Ve=this.state.activeEmbeddable)===null||Ve===void 0?void 0:Ve.state)==="hover"||!this.state.activeEmbeddable)&&ie>=he.x+he.width/3&&ie<=he.x+2*he.width/3&&De>=he.y+he.height/3&&De<=he.y+2*he.height/3}},{key:"renderEmbeddables",value:function(){var he=this,$=this.state.zoom.value,ie=this.state.width,De=this.state.height,He=this.scene.getNonDeletedElements().filter(function(Ve){return(0,ne.gs)(Ve)&&!!Ve.validated});return(0,i.jsx)(i.Fragment,{children:He.map(function(Ve){var lt,dt,vt,Ct,Mt,Yt,ar,Bt,zt,$t=(0,E._i)({sceneX:Ve.x,sceneY:Ve.y},he.state),dr=$t.x,yr=$t.y,lr=(0,g.LM)((0,La.ye)(Ve.link||"")),nr=(0,Ze.PZ)(Ve,ie,De,he.state),Tr=((lt=he.state.activeEmbeddable)===null||lt===void 0?void 0:lt.element)===Ve&&((dt=he.state.activeEmbeddable)===null||dt===void 0?void 0:dt.state)==="active",qr=((vt=he.state.activeEmbeddable)===null||vt===void 0?void 0:vt.element)===Ve&&((Ct=he.state.activeEmbeddable)===null||Ct===void 0?void 0:Ct.state)==="hover";return(0,i.jsx)("div",{className:(0,Se.Z)("excalidraw__embeddable-container",{"is-hovered":qr}),style:(0,L.Z)({transform:nr?"translate(".concat(dr-he.state.offsetLeft,"px, ").concat(yr-he.state.offsetTop,"px) scale(").concat($,")"):"none",display:nr?"block":"none",opacity:Ve.opacity/100},"--embeddable-radius","".concat((0,Ie.yW)(Math.min(Ve.width,Ve.height),Ve),"px")),children:(0,i.jsxs)("div",{className:"excalidraw__embeddable-container__inner",style:{width:nr?"".concat(Ve.width,"px"):0,height:nr?"".concat(Ve.height,"px"):0,transform:nr?"rotate(".concat(Ve.angle,"rad)"):"none",pointerEvents:Tr?v.XI.enabled:v.XI.disabled},children:[qr&&(0,i.jsx)("div",{className:"excalidraw__embeddable-hint",children:(0,T.t)("buttons.embeddableInteractionButton")}),(0,i.jsx)("div",{className:"excalidraw__embeddable__outer",style:{padding:"".concat(Ve.strokeWidth,"px")},children:(Mt=(Yt=(ar=he.props).renderEmbeddable)===null||Yt===void 0?void 0:Yt.call(ar,Ve,he.state))!==null&&Mt!==void 0?Mt:(0,i.jsx)("iframe",{ref:function(pn){return he.updateEmbeddableRef(Ve.id,pn)},className:"excalidraw__embeddable",srcDoc:(lr==null?void 0:lr.type)==="document"?lr.srcdoc(he.state.theme):void 0,src:(lr==null?void 0:lr.type)!=="document"?(Bt=lr==null?void 0:lr.link)!==null&&Bt!==void 0?Bt:"":void 0,scrolling:"no",referrerPolicy:"no-referrer-when-downgrade",title:"Excalidraw Embedded Content",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,sandbox:"".concat(lr!=null&&(zt=lr.sandbox)!==null&&zt!==void 0&&zt.allowSameOrigin?"allow-same-origin":""," allow-scripts allow-forms allow-popups allow-popups-to-escape-sandbox allow-presentation allow-downloads")})})]})},Ve.id)})})}},{key:"render",value:function(){var he,$,ie,De=this,He=this.scene.getSelectedElements(this.state),Ve=this.props,lt=Ve.renderTopRightUI,dt=Ve.renderCustomStats,vt=this.scene.getVersionNonce(),Ct=this.renderer.getRenderableElements({versionNonce:vt,zoom:this.state.zoom,offsetLeft:this.state.offsetLeft,offsetTop:this.state.offsetTop,scrollX:this.state.scrollX,scrollY:this.state.scrollY,height:this.state.height,width:this.state.width,editingElement:this.state.editingElement,pendingImageElementId:this.state.pendingImageElementId}),Mt=Ct.canvasElements,Yt=Ct.visibleElements,ar=!(this.state.editingElement&&(0,ne.bt)(this.state.editingElement))&&(this.state.selectionElement||this.state.draggingElement||this.state.resizingElement||this.state.activeTool.type==="laser"&&this.state.cursorButton==="down"||this.state.editingElement&&!(0,de.iB)(this.state.editingElement));return(0,i.jsx)("div",{className:(0,Se.Z)("excalidraw excalidraw-container",{"excalidraw--view-mode":this.state.viewModeEnabled,"excalidraw--mobile":this.device.editor.isMobile}),style:(0,L.Z)({},"--ui-pointerEvents",ar?v.XI.disabled:v.XI.enabled),ref:this.excalidrawContainerRef,onDrop:this.handleAppOnDrop,tabIndex:0,onKeyDown:this.props.handleKeyboardGlobally?void 0:this.onKeyDown,children:(0,i.jsx)(hn.Provider,{value:this,children:(0,i.jsx)(la.Provider,{value:this.props,children:(0,i.jsx)(cl.Provider,{value:this.excalidrawContainerValue,children:(0,i.jsx)(ts.Provider,{value:this.device,children:(0,i.jsx)(Fs.Provider,{value:this.setAppState,children:(0,i.jsx)(gs.Provider,{value:this.state,children:(0,i.jsxs)(ac.Provider,{value:this.scene.getNonDeletedElements(),children:[(0,i.jsxs)(Hs.Provider,{value:this.actionManager,children:[(0,i.jsxs)(al,{canvas:this.canvas,appState:this.state,files:this.files,setAppState:this.setAppState,actionManager:this.actionManager,elements:this.scene.getNonDeletedElements(),onLockToggle:this.toggleLock,onPenModeToggle:this.togglePenMode,onHandToolToggle:this.onHandToolToggle,langCode:(0,T.G3)().code,renderTopRightUI:lt,renderCustomStats:dt,showExitZenModeBtn:((he=this.props)===null||he===void 0?void 0:he.zenModeEnabled)===void 0&&this.state.zenModeEnabled,UIOptions:this.props.UIOptions,onExportImage:this.onExportImage,renderWelcomeScreen:!this.state.isLoading&&this.state.showWelcomeScreen&&this.state.activeTool.type==="selection"&&!this.state.zenModeEnabled&&!this.scene.getElementsIncludingDeleted().length,app:this,isCollaborating:this.props.isCollaborating,children:[this.props.children,this.state.openDialog==="mermaid"&&(0,i.jsx)($n,{})]}),(0,i.jsx)("div",{className:"excalidraw-textEditorContainer"}),(0,i.jsx)("div",{className:"excalidraw-contextMenuContainer"}),(0,i.jsx)("div",{className:"excalidraw-eye-dropper-container"}),(0,i.jsx)(Ti,{manager:this.laserPathManager}),He.length===1&&!this.state.contextMenu&&this.state.showHyperlinkPopup&&(0,i.jsx)(ps.nW,{element:He[0],setAppState:this.setAppState,onLinkOpen:this.props.onLinkOpen,setToast:this.setToast},He[0].id),this.state.toast!==null&&(0,i.jsx)(ya,{message:this.state.toast.message,onClose:function(){return De.setToast(null)},duration:this.state.toast.duration,closable:this.state.toast.closable}),this.state.contextMenu&&(0,i.jsx)(et,{items:this.state.contextMenu.items,top:this.state.contextMenu.top,left:this.state.contextMenu.left,actionManager:this.actionManager,onClose:function(Bt){De.setState({contextMenu:null},function(){De.focusContainer(),Bt==null||Bt()})}}),(0,i.jsx)(Br,{canvas:this.canvas,rc:this.rc,elements:Mt,visibleElements:Yt,versionNonce:vt,selectionNonce:($=this.state.selectionElement)===null||$===void 0?void 0:$.versionNonce,scale:window.devicePixelRatio,appState:this.state,renderConfig:{imageCache:this.imageCache,isExporting:!1,renderGrid:!0}}),(0,i.jsx)(wr,{containerRef:this.excalidrawContainerRef,canvas:this.interactiveCanvas,elements:Mt,visibleElements:Yt,selectedElements:He,versionNonce:vt,selectionNonce:(ie=this.state.selectionElement)===null||ie===void 0?void 0:ie.versionNonce,scale:window.devicePixelRatio,appState:this.state,renderInteractiveSceneCallback:this.renderInteractiveSceneCallback,handleCanvasRef:this.handleInteractiveCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.handleCanvasPointerUp,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onPointerDown:this.handleCanvasPointerDown,onDoubleClick:this.handleCanvasDoubleClick}),this.renderFrameNames()]}),this.renderEmbeddables()]})})})})})})})})}},{key:"componentDidMount",value:(G=(0,b.Z)(x().mark(function he(){var $,ie=this;return x().wrap(function(De){for(;;)switch(De.prev=De.next){case 0:this.unmounted=!1,this.excalidrawContainerValue.container=this.excalidrawContainerRef.current,v.Vi.TEST==="production"&&(this.setState.bind(this),Object.defineProperties(window.h,{state:{configurable:!0,get:function(){return ie.state}},setState:{configurable:!0,value:function(){return ie.setState.apply(ie,arguments)}},app:{configurable:!0,value:this},history:{configurable:!0,value:this.history}})),this.scene.addCallback(this.onSceneUpdated),this.addEventListeners(),this.props.autoFocus&&this.excalidrawContainerRef.current&&this.focusContainer(),(0,E.h2)()||(this.refreshViewportBreakpoints(),this.refreshEditorBreakpoints()),sc&&this.excalidrawContainerRef.current&&(this.resizeObserver=new ResizeObserver(function(){ie.refreshEditorBreakpoints(),ie.updateDOMRect()}),($=this.resizeObserver)===null||$===void 0||$.observe(this.excalidrawContainerRef.current)),new URLSearchParams(window.location.search.slice(1)).has("web-share-target")?this.restoreFileFromShare():this.updateDOMRect(this.initializeScene),(0,v.jP)()&&!(0,It.eB)()&&this.setState({errorMessage:(0,i.jsx)(xr,{})});case 11:case"end":return De.stop()}},he,this)})),function(){return G.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){var he;this.renderer.destroy(),this.scene=new xe.Z,this.renderer=new tn(this.scene),this.files={},this.imageCache.clear(),(he=this.resizeObserver)===null||he===void 0||he.disconnect(),this.unmounted=!0,this.removeEventListeners(),this.scene.destroy(),this.library.destroy(),this.laserPathManager.destroy(),this.onChangeEmitter.destroy(),Ai.R.destroy(),si.destroy(),clearTimeout(Ts),Ee.N.clearCache(),Ge.bO.clearCache(),Ts=0}},{key:"removeEventListeners",value:function(){var he,$,ie,De;document.removeEventListener(v.Ks.POINTER_UP,this.removePointer),document.removeEventListener(v.Ks.COPY,this.onCopy),document.removeEventListener(v.Ks.PASTE,this.pasteFromClipboard),document.removeEventListener(v.Ks.CUT,this.onCut),(he=this.excalidrawContainerRef.current)===null||he===void 0||he.removeEventListener(v.Ks.WHEEL,this.onWheel),($=this.nearestScrollableContainer)===null||$===void 0||$.removeEventListener(v.Ks.SCROLL,this.onScroll),document.removeEventListener(v.Ks.KEYDOWN,this.onKeyDown,!1),document.removeEventListener(v.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition,!1),document.removeEventListener(v.Ks.KEYUP,this.onKeyUp),window.removeEventListener(v.Ks.RESIZE,this.onResize,!1),window.removeEventListener(v.Ks.UNLOAD,this.onUnload,!1),window.removeEventListener(v.Ks.BLUR,this.onBlur,!1),(ie=this.excalidrawContainerRef.current)===null||ie===void 0||ie.removeEventListener(v.Ks.DRAG_OVER,this.disableEvent,!1),(De=this.excalidrawContainerRef.current)===null||De===void 0||De.removeEventListener(v.Ks.DROP,this.disableEvent,!1),document.removeEventListener(v.Ks.GESTURE_START,this.onGestureStart,!1),document.removeEventListener(v.Ks.GESTURE_CHANGE,this.onGestureChange,!1),document.removeEventListener(v.Ks.GESTURE_END,this.onGestureEnd,!1),window.removeEventListener(v.Ks.MESSAGE,this.onWindowMessage,!1)}},{key:"addEventListeners",value:function(){var he,$,ie,De,He,Ve=this;this.removeEventListeners(),window.addEventListener(v.Ks.MESSAGE,this.onWindowMessage,!1),document.addEventListener(v.Ks.POINTER_UP,this.removePointer),document.addEventListener(v.Ks.COPY,this.onCopy),(he=this.excalidrawContainerRef.current)===null||he===void 0||he.addEventListener(v.Ks.WHEEL,this.onWheel,{passive:!1}),this.props.handleKeyboardGlobally&&document.addEventListener(v.Ks.KEYDOWN,this.onKeyDown,!1),document.addEventListener(v.Ks.KEYUP,this.onKeyUp,{passive:!0}),document.addEventListener(v.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition),($=document.fonts)===null||$===void 0||(ie=$.addEventListener)===null||ie===void 0||ie.call($,"loadingdone",function(lt){var dt=lt.fontfaces;Ve.fonts.onFontsLoaded(dt)}),document.addEventListener(v.Ks.GESTURE_START,this.onGestureStart,!1),document.addEventListener(v.Ks.GESTURE_CHANGE,this.onGestureChange,!1),document.addEventListener(v.Ks.GESTURE_END,this.onGestureEnd,!1),this.state.viewModeEnabled||(document.addEventListener(v.Ks.PASTE,this.pasteFromClipboard),document.addEventListener(v.Ks.CUT,this.onCut),this.props.detectScroll&&(this.nearestScrollableContainer=(0,E.Ip)(this.excalidrawContainerRef.current),this.nearestScrollableContainer.addEventListener(v.Ks.SCROLL,this.onScroll)),window.addEventListener(v.Ks.RESIZE,this.onResize,!1),window.addEventListener(v.Ks.UNLOAD,this.onUnload,!1),window.addEventListener(v.Ks.BLUR,this.onBlur,!1),(De=this.excalidrawContainerRef.current)===null||De===void 0||De.addEventListener(v.Ks.DRAG_OVER,this.disableEvent,!1),(He=this.excalidrawContainerRef.current)===null||He===void 0||He.addEventListener(v.Ks.DROP,this.disableEvent,!1))}},{key:"componentDidUpdate",value:function(he,$){var ie,De,He,Ve,lt=this;this.updateEmbeddables(),this.state.showWelcomeScreen||this.scene.getElementsIncludingDeleted().length||this.setState({showWelcomeScreen:!0}),he.UIOptions.dockedSidebarBreakpoint!==this.props.UIOptions.dockedSidebarBreakpoint&&this.refreshEditorBreakpoints(),($.scrollX!==this.state.scrollX||$.scrollY!==this.state.scrollY)&&((He=this.props)===null||He===void 0||(Ve=He.onScrollChange)===null||Ve===void 0||Ve.call(He,this.state.scrollX,this.state.scrollY)),Object.keys(this.state.selectedElementIds).length&&(0,D.EN)(this.state)&&this.setState({activeTool:(0,E.Om)(this.state,{type:"selection"})}),this.state.activeTool.type==="eraser"&&$.theme!==this.state.theme&&(0,Io.OF)(this.interactiveCanvas,this.state.theme),$.activeTool.type==="selection"&&this.state.activeTool.type!=="selection"&&this.state.showHyperlinkPopup&&this.setState({showHyperlinkPopup:!1}),he.langCode!==this.props.langCode&&this.updateLanguage(),he.viewModeEnabled!==this.props.viewModeEnabled&&this.setState({viewModeEnabled:!!this.props.viewModeEnabled}),$.viewModeEnabled!==this.state.viewModeEnabled&&(this.addEventListeners(),this.deselectElements()),he.zenModeEnabled!==this.props.zenModeEnabled&&this.setState({zenModeEnabled:!!this.props.zenModeEnabled}),he.theme!==this.props.theme&&this.props.theme&&this.setState({theme:this.props.theme}),he.gridModeEnabled!==this.props.gridModeEnabled&&this.setState({gridSize:this.props.gridModeEnabled?v.k:null}),this.props.name&&he.name!==this.props.name&&this.setState({name:this.props.name}),(ie=this.excalidrawContainerRef.current)===null||ie===void 0||ie.classList.toggle("theme--dark",this.state.theme==="dark"),this.state.editingLinearElement&&!this.state.selectedElementIds[this.state.editingLinearElement.elementId]&&setTimeout(function(){lt.state.editingLinearElement&&lt.actionManager.executeAction(J.pL)}),(De=this.state.editingElement)!==null&&De!==void 0&&De.isDeleted&&this.setState({editingElement:null}),this.state.selectedLinearElement&&!this.state.selectedElementIds[this.state.selectedLinearElement.elementId]&&this.setState({selectedLinearElement:null});var dt,vt,Ct=$.multiElement;$.activeTool!==this.state.activeTool&&Ct!=null&&(0,R.N1)(this.state)&&(0,ne.Mn)(Ct,!1)&&(0,R.R)(Ct,this.state,this.scene,(0,E.AK)(fe._.getPointAtIndexGlobalCoordinates(Ct,-1))),this.history.record(this.state,this.scene.getElementsIncludingDeleted()),this.state.isLoading||((dt=(vt=this.props).onChange)===null||dt===void 0||dt.call(vt,this.scene.getElementsIncludingDeleted(),this.state,this.files),this.onChangeEmitter.trigger(this.scene.getElementsIncludingDeleted(),this.state,this.files))}},{key:"addElementsFromMixedContentPaste",value:(I=(0,b.Z)(x().mark(function he($,ie){var De,He,Ve,lt,dt,vt,Ct,Mt,Yt,ar,Bt,zt,$t,dr,yr;return x().wrap(function(lr){for(;;)switch(lr.prev=lr.next){case 0:if(De=ie.isPlainPaste,He=ie.sceneX,Ve=ie.sceneY,De||!$.some(function(nr){return nr.type==="imageUrl"})||!this.isToolSupported("image")){lr.next=35;break}return lt=$.filter(function(nr){return nr.type==="imageUrl"}).map(function(nr){return nr.value}),lr.next=5,Promise.all(lt.map(function(){var nr=(0,b.Z)(x().mark(function Tr(qr){return x().wrap(function(pn){for(;;)switch(pn.prev=pn.next){case 0:return pn.prev=0,pn.next=3,(0,cr._p)(qr);case 3:return pn.t0=pn.sent,pn.abrupt("return",{file:pn.t0});case 7:return pn.prev=7,pn.t1=pn.catch(0),pn.abrupt("return",{errorMessage:pn.t1.message});case 10:case"end":return pn.stop()}},Tr,null,[[0,7]])}));return function(Tr){return nr.apply(this,arguments)}}()));case 5:dt=lr.sent,vt=Ve,Ct=!1,Mt={},Yt=Ko(dt),lr.prev=10,Yt.s();case 12:if((ar=Yt.n()).done){lr.next=22;break}if(!(Bt=ar.value).file){lr.next=20;break}return zt=this.createImageElement({sceneX:He,sceneY:vt}),lr.next=18,this.insertImageElement(zt,Bt.file);case 18:($t=lr.sent)&&(Ct||(Ct=!0,vt-=$t.height/2),(0,O.DR)($t,{y:vt},!1),vt=zt.y+zt.height+25,Mt[zt.id]=!0);case 20:lr.next=12;break;case 22:lr.next=27;break;case 24:lr.prev=24,lr.t0=lr.catch(10),Yt.e(lr.t0);case 27:return lr.prev=27,Yt.f(),lr.finish(27);case 30:this.setState({selectedElementIds:(0,uo.Oh)(Mt,this.state)}),dr=dt.find(function(nr){return!!nr.errorMessage}),dr&&dr.errorMessage&&this.setState({errorMessage:dr.errorMessage}),lr.next=37;break;case 35:(yr=$.filter(function(nr){return nr.type==="text"})).length&&this.addTextFromPaste(yr.map(function(nr){return nr.value}).join(`

`),De);case 37:case"end":return lr.stop()}},he,this,[[10,24,27,30]])})),function(he,$){return I.apply(this,arguments)})},{key:"addTextFromPaste",value:function(he){var $=this,ie=arguments.length>1&&arguments[1]!==void 0&&arguments[1],De=(0,E.dE)({clientX:this.lastViewportPosition.x,clientY:this.lastViewportPosition.y},this.state),He=De.x,Ve=De.y,lt={x:He,y:Ve,strokeColor:this.state.currentItemStrokeColor,backgroundColor:this.state.currentItemBackgroundColor,fillStyle:this.state.currentItemFillStyle,strokeWidth:this.state.currentItemStrokeWidth,strokeStyle:this.state.currentItemStrokeStyle,roundness:null,roughness:this.state.currentItemRoughness,opacity:this.state.currentItemOpacity,text:he,fontSize:this.state.currentItemFontSize,fontFamily:this.state.currentItemFontFamily,textAlign:this.state.currentItemTextAlign,verticalAlign:v.hs,locked:!1},dt=10,vt=Ve,Ct=ie?[he]:he.split(`
`),Mt=Ct.reduce(function(ar,Bt,zt){var $t=Bt.trim(),dr=(0,It.PT)(lt.fontFamily);if($t.length){var yr=$.getTopLayerFrameAtSceneCoords({x:He,y:vt}),lr=(0,de.VL)(fn(fn({},lt),{},{x:He,y:vt,text:$t,lineHeight:dr,frameId:yr?yr.id:null}));ar.push(lr),vt+=lr.height+dt}else{var nr;!((nr=Ct[zt-1])===null||nr===void 0)&&nr.trim()&&(vt+=(0,It.Rg)(lt.fontSize,dr)+dt)}return ar},[]);if(Mt.length!==0){var Yt=Mt[0].frameId;Yt?this.scene.insertElementsAtIndex(Mt,this.scene.getElementIndex(Yt)):this.scene.replaceAllElements([].concat((0,k.Z)(this.scene.getElementsIncludingDeleted()),(0,k.Z)(Mt))),this.setState({selectedElementIds:(0,uo.Oh)(Object.fromEntries(Mt.map(function(ar){return[ar.id,!0]})),this.state)}),!ie&&Mt.length>1&&Wl===!1&&!this.device.editor.isMobile&&(this.setToast({message:(0,T.t)("toast.pasteAsSingleElement",{shortcut:(0,E.uY)("CtrlOrCmd+Shift+V")}),duration:5e3}),Wl=!0),this.history.resumeRecording()}}},{key:"handleTextWysiwyg",value:function(he,$){var ie=this,De=$.isExistingElement,He=De!==void 0&&De,Ve=function(lt,dt,vt){ie.scene.replaceAllElements((0,k.Z)(ie.scene.getElementsIncludingDeleted().map(function(Ct){return Ct.id===he.id&&(0,de.iB)(Ct)?(0,de.N_)(Ct,{text:lt,isDeleted:vt,originalText:dt}):Ct})))};(0,de.b_)({id:he.id,canvas:this.canvas,getViewportCoords:function(lt,dt){var vt=(0,E._i)({sceneX:lt,sceneY:dt},ie.state),Ct=vt.x,Mt=vt.y;return[Ct-ie.state.offsetLeft,Mt-ie.state.offsetTop]},onChange:(0,E.tH)(function(lt){Ve(lt,lt,!1),(0,de.qP)(he)&&(0,R.Ww)(he)}),onSubmit:(0,E.tH)(function(lt){var dt=lt.text,vt=lt.viaKeyboard,Ct=lt.originalText,Mt=!dt.trim();if(Ve(dt,Ct,Mt),!Mt&&vt){var Yt=he.containerId?he.containerId:he.id;ie.setState(function(ar){return{selectedElementIds:(0,uo.Oh)(fn(fn({},ar.selectedElementIds),{},(0,L.Z)({},Yt,!0)),ar)}})}Mt&&(0,R.$q)(ie.scene.getNonDeletedElements(),[he]),Mt&&!He||ie.history.resumeRecording(),ie.setState({draggingElement:null,editingElement:null}),ie.state.activeTool.locked&&(0,Io.Uk)(ie.interactiveCanvas,ie.state),ie.focusContainer()}),element:he,excalidrawContainer:this.excalidrawContainerRef.current,app:this}),this.deselectElements(),Ve(he.text,he.originalText,!1)}},{key:"deselectElements",value:function(){this.setState({selectedElementIds:(0,uo.Oh)({},this.state),selectedGroupIds:{},editingGroupId:null,activeEmbeddable:null})}},{key:"getTextElementAtPosition",value:function(he,$){var ie=this.getElementAtPosition(he,$,{includeBoundTextElement:!0});return ie&&(0,de.iB)(ie)&&!ie.isDeleted?ie:null}},{key:"getElementAtPosition",value:function(he,$,ie){var De=this.getElementsAtPosition(he,$,ie==null?void 0:ie.includeBoundTextElement,ie==null?void 0:ie.includeLockedElements);if(De.length>1){if(ie!=null&&ie.preferSelected){for(var He=De.length-1;He>-1;He--)if(this.state.selectedElementIds[De[He].id])return De[He]}var Ve=De[De.length-1];return(0,de.wB)(Ve,this.state,this.frameNameBoundsCache,he,$)?De[De.length-2]:Ve}return De.length===1?De[0]:null}},{key:"getElementsAtPosition",value:function(he,$){var ie=this,De=arguments.length>2&&arguments[2]!==void 0&&arguments[2],He=arguments.length>3&&arguments[3]!==void 0&&arguments[3],Ve=De&&He?this.scene.getNonDeletedElements():this.scene.getNonDeletedElements().filter(function(lt){return(He||!lt.locked)&&(De||!((0,de.iB)(lt)&&lt.containerId))});return(0,Ee.CJ)(Ve,function(lt){return(0,de.wX)(lt,ie.state,ie.frameNameBoundsCache,he,$)}).filter(function(lt){var dt=(0,pi.$Z)(lt);return!(dt&&ie.state.frameRendering.enabled&&ie.state.frameRendering.clip)||(0,pi.Dn)({x:he,y:$},dt)})}},{key:"handleHoverSelectedLinearElement",value:function(he,$,ie){var De=fe._.getElement(he.elementId),He=(0,It.WJ)(De);if(De)if(this.state.selectedLinearElement){var Ve=-1,lt=null;(0,Cl.Qu)(De,this.state,this.frameNameBoundsCache,[$,ie])?(Ve=fe._.getPointIndexUnderCursor(De,this.state.zoom,$,ie),lt=fe._.getSegmentMidpointHitCoords(he,{x:$,y:ie},this.state),Ve>=0||lt?(0,Io.KJ)(this.interactiveCanvas,v.oc.POINTER):(0,Io.KJ)(this.interactiveCanvas,v.oc.MOVE)):((0,sl.oY)([De],this.state)&&(0,de.wB)(De,this.state,this.frameNameBoundsCache,$,ie)||He&&(0,de.wX)(He,this.state,this.frameNameBoundsCache,$,ie))&&(0,Io.KJ)(this.interactiveCanvas,v.oc.MOVE),this.state.selectedLinearElement.hoverPointIndex!==Ve&&this.setState({selectedLinearElement:fn(fn({},this.state.selectedLinearElement),{},{hoverPointIndex:Ve})}),fe._.arePointsEqual(this.state.selectedLinearElement.segmentMidPointHoveredCoords,lt)||this.setState({selectedLinearElement:fn(fn({},this.state.selectedLinearElement),{},{segmentMidPointHoveredCoords:lt})})}else(0,Io.KJ)(this.interactiveCanvas,v.oc.AUTO)}},{key:"maybeCleanupAfterMissingPointerUp",value:function(he){Vs!==null&&Vs(he)}},{key:"updateGestureOnPointerDown",value:function(he){Zo.pointers.set(he.pointerId,{x:he.clientX,y:he.clientY}),Zo.pointers.size===2&&(Zo.lastCenter=oe(Zo.pointers),Zo.initialScale=this.state.zoom.value,Zo.initialDistance=be(Array.from(Zo.pointers.values())))}},{key:"initialPointerDownState",value:function(he){var $=(0,E.dE)(he,this.state),ie=this.scene.getSelectedElements(this.state),De=(0,de.KP)(ie),He=(0,A.Z)(De,4),Ve=He[0],lt=He[1],dt=He[2],vt=He[3];return{origin:$,withCmdOrCtrl:he[B.tW.CTRL_OR_CMD],originInGrid:(0,E.AK)((0,Ie.wC)($.x,$.y,he[B.tW.CTRL_OR_CMD]?null:this.state.gridSize)),scrollbars:(0,Ee._4)(Na,he.clientX-this.state.offsetLeft,he.clientY-this.state.offsetTop),lastCoords:fn({},$),originalElements:this.scene.getNonDeletedElements().reduce(function(Ct,Mt){return Ct.set(Mt.id,(0,pe.OL)(Mt)),Ct},new Map),resize:{handleType:!1,isResizing:!1,offset:{x:0,y:0},arrowDirection:"origin",center:{x:(dt+Ve)/2,y:(vt+lt)/2}},hit:{element:null,allHitElements:[],wasAddedToSelection:!1,hasBeenDuplicated:!1,hasHitCommonBoundingBoxOfSelectedElements:this.isHittingCommonBoundingBoxOfSelectedElements($,ie)},drag:{hasOccurred:!1,offset:null},eventListeners:{onMove:null,onUp:null,onKeyUp:null,onKeyDown:null},boxSelection:{hasOccurred:!1},elementIdsToErase:{}}}},{key:"handleDraggingScrollBar",value:function(he,$){var ie=this;if(!$.scrollbars.isOverEither||this.state.multiElement)return!1;_i=!0,$.lastCoords.x=he.clientX,$.lastCoords.y=he.clientY;var De=(0,E.$9)(function(Ve){Ve.target instanceof HTMLElement&&ie.handlePointerMoveOverScrollbars(Ve,$)}),He=(0,E.tH)(function(){_i=!1,(0,Io.Uk)(ie.interactiveCanvas,ie.state),Vs=null,ie.setState({cursorButton:"up"}),ie.savePointer(he.clientX,he.clientY,"up"),window.removeEventListener(v.Ks.POINTER_MOVE,De),window.removeEventListener(v.Ks.POINTER_UP,He),De.flush()});return Vs=He,window.addEventListener(v.Ks.POINTER_MOVE,De),window.addEventListener(v.Ks.POINTER_UP,He),!0}},{key:"isASelectedElement",value:function(he){return he!=null&&this.state.selectedElementIds[he.id]}},{key:"isHittingCommonBoundingBoxOfSelectedElements",value:function(he,$){if($.length<2)return!1;var ie=10/this.state.zoom.value,De=(0,de.KP)($),He=(0,A.Z)(De,4),Ve=He[0],lt=He[1],dt=He[2],vt=He[3];return he.x>Ve-ie&&he.x<dt+ie&&he.y>lt-ie&&he.y<vt+ie}},{key:"getCurrentItemRoundness",value:function(he){return this.state.currentItemRoundness==="round"?{type:(0,ne.QI)(he)?v.a6.ADAPTIVE_RADIUS:v.a6.PROPORTIONAL_RADIUS}:null}},{key:"maybeCacheReferenceSnapPoints",value:function(he,$){var ie=arguments.length>2&&arguments[2]!==void 0&&arguments[2];!ei({event:he,appState:this.state,selectedElements:$})||!ie&&si.getReferenceSnapPoints()||si.setReferenceSnapPoints(Ae(this.scene.getNonDeletedElements(),$,this.state))}},{key:"maybeCacheVisibleGaps",value:function(he,$){var ie=arguments.length>2&&arguments[2]!==void 0&&arguments[2];!ei({event:he,appState:this.state,selectedElements:$})||!ie&&si.getVisibleGaps()||si.setVisibleGaps(Ol(this.scene.getNonDeletedElements(),$,this.state))}},{key:"onKeyDownFromPointerDownHandler",value:function(he){var $=this;return(0,E.tH)(function(ie){$.maybeHandleResize(he,ie)||$.maybeDragNewGenericElement(he,ie)})}},{key:"onKeyUpFromPointerDownHandler",value:function(he){var $=this;return(0,E.tH)(function(ie){ie.key===B.tW.ALT&&ie.preventDefault(),$.maybeHandleResize(he,ie)||$.maybeDragNewGenericElement(he,ie)})}},{key:"onPointerMoveFromPointerDownHandler",value:function(he){var $=this;return(0,E.$9)(function(ie){var De;if(he.drag.offset===null&&(he.drag.offset=(0,E.AK)((0,de.$V)($.scene.getSelectedElements($.state),he.origin.x,he.origin.y))),ie.target instanceof HTMLElement&&!$.handlePointerMoveOverScrollbars(ie,he)){var He=(0,E.dE)(ie,$.state);if((0,D.EN)($.state))$.handleEraser(ie,he,He);else{$.state.activeTool.type==="laser"&&$.laserPathManager.addPointToPath(He.x,He.y);var Ve=(0,Ie.wC)(He.x,He.y,ie[B.tW.CTRL_OR_CMD]?null:$.state.gridSize),lt=(0,A.Z)(Ve,2),dt=lt[0],vt=lt[1];if(he.drag.hasOccurred||$.state.activeTool.type!=="arrow"&&$.state.activeTool.type!=="line"||!((0,Ie.LW)(He.x,He.y,he.origin.x,he.origin.y)<v.f)){if(he.resize.isResizing&&(he.lastCoords.x=He.x,he.lastCoords.y=He.y,$.maybeHandleResize(he,ie)))return!0;if($.state.selectedLinearElement){var Ct=$.state.editingLinearElement||$.state.selectedLinearElement;if(fe._.shouldAddMidpoint($.state.selectedLinearElement,He,$.state)){var Mt=fe._.addMidpoint($.state.selectedLinearElement,He,$.state,!ie[B.tW.CTRL_OR_CMD]);return Mt?void(0,ve.flushSync)(function(){$.state.selectedLinearElement&&$.setState({selectedLinearElement:fn(fn({},$.state.selectedLinearElement),{},{pointerDownState:Mt.pointerDownState,selectedPointsIndices:Mt.selectedPointsIndices})}),$.state.editingLinearElement&&$.setState({editingLinearElement:fn(fn({},$.state.editingLinearElement),{},{pointerDownState:Mt.pointerDownState,selectedPointsIndices:Mt.selectedPointsIndices})})}):void 0}if(Ct.pointerDownState.segmentMidpoint.value!==null&&!Ct.pointerDownState.segmentMidpoint.added)return;var Yt=fe._.handlePointDragging(ie,$.state,He.x,He.y,function(jo,ko){$.maybeSuggestBindingsForLinearElementAtCoords(jo,ko)},Ct);if(Yt)return he.lastCoords.x=He.x,he.lastCoords.y=He.y,he.drag.hasOccurred=!0,$.state.editingLinearElement&&!$.state.editingLinearElement.isDragging&&$.setState({editingLinearElement:fn(fn({},$.state.editingLinearElement),{},{isDragging:!0})}),void($.state.selectedLinearElement.isDragging||$.setState({selectedLinearElement:fn(fn({},$.state.selectedLinearElement),{},{isDragging:!0})}))}var ar=he.hit.allHitElements.some(function(jo){return $.isASelectedElement(jo)}),Bt=$.state.editingLinearElement&&ie.shiftKey&&$.state.editingLinearElement.elementId===((De=he.hit.element)===null||De===void 0?void 0:De.id);if((ar||he.hit.hasHitCommonBoundingBoxOfSelectedElements)&&!Bt){var zt,$t=$.scene.getSelectedElements($.state);if($t.every(function(jo){return jo.locked}))return;var dr=$t.find(function(jo){return(0,ne.He)(jo)}),yr=$.getTopLayerFrameAtSceneCoords(He);if($.setState({frameToHighlight:yr&&!dr?yr:null}),he.drag.hasOccurred=!0,$.setState({selectedElementsAreBeingDragged:!0}),$t.length>0&&!he.withCmdOrCtrl&&!$.state.editingElement&&((zt=$.state.activeEmbeddable)===null||zt===void 0?void 0:zt.state)!=="active"){var lr={x:He.x-he.origin.x,y:He.y-he.origin.y},nr=(0,k.Z)(he.originalElements.values()),Tr=ie.shiftKey;if(Tr){var qr=Math.abs(lr.x),pn=Math.abs(lr.y),_n=Tr&&qr>pn;Tr&&qr<pn&&(lr.x=0),_n&&(lr.y=0)}$.maybeCacheVisibleGaps(ie,$t),$.maybeCacheReferenceSnapPoints(ie,$t);var Nn=function(jo,ko,xi,oa){var Ks,Kl,fl,Gl;if(!ei({appState:xi,event:oa,selectedElements:jo})||jo.length===0)return{snapOffset:{x:0,y:0},snapLines:[]};ko.x=Je(ko.x),ko.y=Je(ko.y);var os=[],pa=[],Gs=sa(xi.zoom.value),hl={x:Gs,y:Gs},Pl=ha(jo,{dragOffset:ko});Xe(jo,Pl,xi,oa,os,pa,hl),ut(jo,ko,xi,oa,os,pa,hl);var kc={x:(Ks=(Kl=os[0])===null||Kl===void 0?void 0:Kl.offset)!==null&&Ks!==void 0?Ks:0,y:(fl=(Gl=pa[0])===null||Gl===void 0?void 0:Gl.offset)!==null&&fl!==void 0?fl:0};hl.x=0,hl.y=0,os.length=0,pa.length=0;var Yl={x:Je(ko.x+kc.x),y:Je(ko.y+kc.y)};Xe(jo,ha(jo,{dragOffset:Yl}),xi,oa,os,pa,hl),ut(jo,Yl,xi,oa,os,pa,hl);var _c=bt(os,pa),Xc=_t(jo,Yl,[].concat(os,pa).filter(function(yu){return yu.type==="gap"}));return{snapOffset:kc,snapLines:[].concat(_c,Xc)}}((0,Ee.eD)(nr,$.state),lr,$.state,ie),Un=Nn.snapOffset,kn=Nn.snapLines;if($.setState({snapLines:kn}),!$.state.editingFrame&&(0,de.o8)(he,$t,lr,$.state,$.scene,Un,ie[B.tW.CTRL_OR_CMD]?null:$.state.gridSize),$.maybeSuggestBindingForAll($t),ie.altKey&&!he.hit.hasBeenDuplicated){he.hit.hasBeenDuplicated=!0;var vn,An=[],jn=[],qn=new Map,oo=new Map,no=he.hit.element,so=new Set($.scene.getSelectedElements({selectedElementIds:$.state.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0}).map(function(jo){return jo.id})),zn=Ko($.scene.getElementsIncludingDeleted());try{for(zn.s();!(vn=zn.n()).done;){var Mn=vn.value;if(so.has(Mn.id)||Mn.id===(no==null?void 0:no.id)&&he.hit.wasAddedToSelection){var Jn=(0,de.Sy)($.state.editingGroupId,qn,Mn),Ro=he.originalElements.get(Mn.id);(0,O.DR)(Jn,{x:Ro.x,y:Ro.y}),he.originalElements.set(Jn.id,Jn),An.push(Jn),jn.push(Mn),oo.set(Mn.id,Jn.id)}else An.push(Mn)}}catch(jo){zn.e(jo)}finally{zn.f()}var Do=[].concat(An,jn);(0,It.P7)(An,jn,oo),(0,R.ek)(Do,jn,oo,"duplicatesServeAsOld"),(0,pi.xr)(Do,jn,oo),$.scene.replaceAllElements(Do),$.maybeCacheVisibleGaps(ie,$t,!0),$.maybeCacheReferenceSnapPoints(ie,$t,!0)}return}}var Eo=$.state.draggingElement;if(Eo){if(Eo.type==="freedraw"){var To=Eo.points,ho=He.x-Eo.x,po=He.y-Eo.y,zo=To.length>0&&To[To.length-1];if(!(zo&&zo[0]===ho&&zo[1]===po)){var Xi=Eo.simulatePressure?Eo.pressures:[].concat((0,k.Z)(Eo.pressures),[ie.pressure]);(0,O.DR)(Eo,{points:[].concat((0,k.Z)(To),[[ho,po]]),pressures:Xi})}}else if((0,ne.bt)(Eo)){he.drag.hasOccurred=!0,$.setState({selectedElementsAreBeingDragged:!0});var Vn=Eo.points,Pn=dt-Eo.x,yo=vt-Eo.y;if((0,B.Ge)(ie)&&Vn.length===2){var Ho=(0,de.o4)(Eo.x,Eo.y,He.x,He.y);Pn=Ho.width,yo=Ho.height}Vn.length===1?(0,O.DR)(Eo,{points:[].concat((0,k.Z)(Vn),[[Pn,yo]])}):Vn.length===2&&(0,O.DR)(Eo,{points:[].concat((0,k.Z)(Vn.slice(0,-1)),[[Pn,yo]])}),(0,ne.Mn)(Eo,!1)&&$.maybeSuggestBindingsForLinearElementAtCoords(Eo,[He],$.state.startBoundElement)}else he.lastCoords.x=He.x,he.lastCoords.y=He.y,$.maybeDragNewGenericElement(he,ie);if($.state.activeTool.type==="selection"){he.boxSelection.hasOccurred=!0;var oi=$.scene.getNonDeletedElements();if($.state.editingLinearElement)fe._.handleBoxSelection(ie,$.state,$.setState.bind($));else{var li=!0;!ie.shiftKey&&(0,Ee.N)(oi,$.state)&&(he.withCmdOrCtrl&&he.hit.element?$.setState(function(jo){return(0,Ge.bO)(fn(fn({},jo),{},{selectedElementIds:(0,L.Z)({},he.hit.element.id,!0)}),$.scene.getNonDeletedElements(),jo,$)}):li=!1);var gi=(0,Ee.Yp)(oi,Eo);$.setState(function(jo){var ko=fn(fn({},li&&jo.selectedElementIds),gi.reduce(function(xi,oa){return xi[oa.id]=!0,xi},{}));return he.hit.element&&(gi.length?delete ko[he.hit.element.id]:ko[he.hit.element.id]=!0),jo=li?jo:fn(fn({},jo),{},{selectedGroupIds:{},editingGroupId:null}),fn(fn({},(0,Ge.bO)({editingGroupId:jo.editingGroupId,selectedElementIds:ko},$.scene.getNonDeletedElements(),jo,$)),{},{selectedLinearElement:gi.length===1&&(0,ne.bt)(gi[0])?new fe._(gi[0],$.scene):null,showHyperlinkPopup:!(gi.length!==1||!gi[0].link&&!(0,ne.gs)(gi[0]))&&"info"})})}}}}}}})}},{key:"handlePointerMoveOverScrollbars",value:function(he,$){if($.scrollbars.isOverHorizontal){var ie=he.clientX,De=ie-$.lastCoords.x;return this.translateCanvas({scrollX:this.state.scrollX-De/this.state.zoom.value}),$.lastCoords.x=ie,!0}if($.scrollbars.isOverVertical){var He=he.clientY,Ve=He-$.lastCoords.y;return this.translateCanvas({scrollY:this.state.scrollY-Ve/this.state.zoom.value}),$.lastCoords.y=He,!0}return!1}},{key:"onPointerUpFromPointerDownHandler",value:function(he){var $=this;return(0,E.tH)(function(ie){var De;he.eventListeners.onMove&&he.eventListeners.onMove.flush();var He,Ve,lt=$.state,dt=lt.draggingElement,vt=lt.resizingElement,Ct=lt.multiElement,Mt=lt.activeTool,Yt=lt.isResizing,ar=lt.isRotating;if($.setState({isResizing:!1,isRotating:!1,resizingElement:null,selectionElement:null,frameToHighlight:null,elementsToHighlight:null,cursorButton:"up",editingElement:Ct||(0,de.iB)($.state.editingElement)?$.state.editingElement:null,snapLines:[],originSnapOffset:null}),si.setReferenceSnapPoints(null),si.setVisibleGaps(null),$.savePointer(ie.clientX,ie.clientY,"up"),$.setState({selectedElementsAreBeingDragged:!1}),$.state.editingLinearElement)if(he.boxSelection.hasOccurred||((He=he.hit)===null||He===void 0||(Ve=He.element)===null||Ve===void 0?void 0:Ve.id)===$.state.editingLinearElement.elementId){var Bt=fe._.handlePointerUp(ie,$.state.editingLinearElement,$.state);Bt!==$.state.editingLinearElement&&$.setState({editingLinearElement:Bt,suggestedBindings:[]})}else $.actionManager.executeAction(J.pL);else if($.state.selectedLinearElement){var zt,$t;if(((zt=he.hit)===null||zt===void 0||($t=zt.element)===null||$t===void 0?void 0:$t.id)!==$.state.selectedLinearElement.elementId)$.scene.getSelectedElements($.state).length>1&&$.setState({selectedLinearElement:null});else{var dr=fe._.handlePointerUp(ie,$.state.selectedLinearElement,$.state),yr=dr.startBindingElement,lr=dr.endBindingElement,nr=$.scene.getElement(dr.elementId);(0,ne.Mn)(nr)&&(0,R.HG)(nr,yr,lr),dr!==$.state.selectedLinearElement&&$.setState({selectedLinearElement:fn(fn({},dr),{},{selectedPointsIndices:null}),suggestedBindings:[]})}}if(Vs=null,window.removeEventListener(v.Ks.POINTER_MOVE,he.eventListeners.onMove),window.removeEventListener(v.Ks.POINTER_UP,he.eventListeners.onUp),window.removeEventListener(v.Ks.KEYDOWN,he.eventListeners.onKeyDown),window.removeEventListener(v.Ks.KEYUP,he.eventListeners.onKeyUp),$.state.pendingImageElementId&&$.setState({pendingImageElementId:null}),$.onPointerUpEmitter.trigger($.state.activeTool,he,ie),(dt==null?void 0:dt.type)==="freedraw"){var Tr=(0,E.dE)(ie,$.state),qr=dt.points,pn=Tr.x-dt.x,_n=Tr.y-dt.y;pn===qr[0][0]&&_n===qr[0][1]&&(_n+=1e-4,pn+=1e-4);var Nn=dt.simulatePressure?[]:[].concat((0,k.Z)(dt.pressures),[ie.pressure]);return(0,O.DR)(dt,{points:[].concat((0,k.Z)(qr),[[pn,_n]]),pressures:Nn,lastCommittedPoint:[pn,_n]}),void $.actionManager.executeAction(J.pL)}if((0,ne.pC)(dt)){var Un=dt;try{$.initializeImageDimensions(Un),$.setState({selectedElementIds:(0,uo.Oh)((0,L.Z)({},Un.id,!0),$.state)},function(){$.actionManager.executeAction(J.pL)})}catch(Vn){console.error(Vn),$.scene.replaceAllElements($.scene.getElementsIncludingDeleted().filter(function(Pn){return Pn.id!==Un.id})),$.actionManager.executeAction(J.pL)}}else if((0,ne.bt)(dt)){dt.points.length>1&&$.history.resumeRecording();var kn=(0,E.dE)(ie,$.state);he.drag.hasOccurred||!dt||Ct?he.drag.hasOccurred&&!Ct&&((0,R.N1)($.state)&&(0,ne.Mn)(dt,!1)&&(0,R.R)(dt,$.state,$.scene,kn),$.setState({suggestedBindings:[],startBoundElement:null}),Mt.locked?$.setState(function(Vn){return{draggingElement:null}}):((0,Io.z8)($.interactiveCanvas),$.setState(function(Vn){return{draggingElement:null,activeTool:(0,E.Om)($.state,{type:"selection"}),selectedElementIds:(0,uo.Oh)(fn(fn({},Vn.selectedElementIds),{},(0,L.Z)({},dt.id,!0)),Vn),selectedLinearElement:new fe._(dt,$.scene)}}))):((0,O.DR)(dt,{points:[].concat((0,k.Z)(dt.points),[[kn.x-dt.x,kn.y-dt.y]])}),$.setState({multiElement:dt,editingElement:$.state.draggingElement}))}else{if(Mt.type!=="selection"&&dt&&(0,de.QD)(dt))return $.scene.replaceAllElements($.scene.getElementsIncludingDeleted().filter(function(Vn){return Vn.id!==dt.id})),void $.setState({draggingElement:null});if(dt){if(he.drag.hasOccurred){var vn=(0,E.dE)(ie,$.state);if($.state.selectedLinearElement&&$.state.selectedLinearElement.isDragging){var An=$.scene.getElement($.state.selectedLinearElement.elementId);if(An!=null&&An.frameId){var jn=(0,pi.$Z)(An);jn&&An&&((0,pi.cO)(An,jn)||((0,O.DR)(An,{groupIds:[]}),$.scene.replaceAllElements((0,pi.lz)($.scene.getElementsIncludingDeleted(),[An],$.state))))}}else{var qn=$.getTopLayerFrameAtSceneCoords(vn),oo=$.scene.getSelectedElements($.state),no=$.scene.getElementsIncludingDeleted(),so=function(Vn){if(Vn.length>0){var Pn,yo=Ko(Vn);try{for(yo.s();!(Pn=yo.n()).done;){var Ho=Pn.value,oi=Ho.groupIds.indexOf($.state.editingGroupId);(0,O.DR)(Ho,{groupIds:Ho.groupIds.slice(0,oi)},!1)}}catch(li){yo.e(li)}finally{yo.f()}no.forEach(function(li){li.groupIds.length&&(0,Ge.Fb)(no,li.groupIds[li.groupIds.length-1]).length<2&&(0,O.DR)(li,{groupIds:[]},!1)}),$.setState({editingGroupId:null})}};if(qn&&!$.state.selectedElementIds[qn.id]){var zn=oo.filter(function(Vn){return Vn.frameId!==qn.id&&(0,pi.Qs)(Vn,no,$.state)});$.state.editingGroupId&&so(zn),no=(0,pi.A_)(no,zn,qn)}else if(!qn&&$.state.editingGroupId){var Mn=oo.filter(function(Vn){return Vn.frameId&&!(0,pi.Qs)(Vn,no,$.state)});so(Mn)}no=(0,pi.Tq)(no,$.state,$),$.scene.replaceAllElements(no)}}if(dt.type==="frame"){var Jn=(0,pi.fj)($.scene.getElementsIncludingDeleted(),dt);$.scene.replaceAllElements((0,pi.A_)($.scene.getElementsIncludingDeleted(),Jn,dt))}(0,O.DR)(dt,(0,de.Qp)(dt))}if(vt&&$.history.resumeRecording(),vt&&(0,de.QD)(vt)&&$.scene.replaceAllElements($.scene.getElementsIncludingDeleted().filter(function(Vn){return Vn.id!==vt.id})),he.resize.isResizing){var Ro,Do=(0,pi.Tq)($.scene.getElementsIncludingDeleted(),$.state,$),Eo=$.scene.getSelectedElements($.state).filter(function(Vn){return Vn.type==="frame"}),To=Ko(Eo);try{for(To.s();!(Ro=To.n()).done;){var ho=Ro.value;Do=(0,pi.pr)(Do,(0,pi.ni)($.scene.getElementsIncludingDeleted(),ho,$.state),ho,$.state)}}catch(Vn){To.e(Vn)}finally{To.f()}$.scene.replaceAllElements(Do)}var po=he.hit.element;if(((De=$.state.selectedLinearElement)===null||De===void 0?void 0:De.elementId)!==(po==null?void 0:po.id)&&(0,ne.bt)(po)&&$.scene.getSelectedElements($.state).length===1&&$.setState({selectedLinearElement:new fe._(po,$.scene)}),(0,D.EN)($.state)){if((0,Ie.LW)($.lastPointerDownEvent.clientX,$.lastPointerDownEvent.clientY,$.lastPointerUpEvent.clientX,$.lastPointerUpEvent.clientY)===0){var zo=(0,E.dE)({clientX:$.lastPointerUpEvent.clientX,clientY:$.lastPointerUpEvent.clientY},$.state);$.getElementsAtPosition(zo.x,zo.y).forEach(function(Vn){return he.elementIdsToErase[Vn.id]={erase:!0,opacity:Vn.opacity}})}$.eraseElements(he)}else{var Xi;Object.keys(he.elementIdsToErase).length&&$.restoreReadyToEraseElements(he),po&&!he.drag.hasOccurred&&!he.hit.wasAddedToSelection&&(!$.state.editingLinearElement||!he.boxSelection.hasOccurred)&&(ie.shiftKey&&!$.state.editingLinearElement?$.state.selectedElementIds[po.id]?(0,Ge.zq)($.state,po)?$.setState(function(Vn){var Pn,yo=fn({},Vn.selectedElementIds),Ho=Ko(po.groupIds.flatMap(function(oi){return(0,Ge.Fb)($.scene.getNonDeletedElements(),oi)}));try{for(Ho.s();!(Pn=Ho.n()).done;)delete yo[Pn.value.id]}catch(oi){Ho.e(oi)}finally{Ho.f()}return{selectedGroupIds:fn(fn({},Vn.selectedElementIds),po.groupIds.map(function(oi){return(0,L.Z)({},oi,!1)}).reduce(function(oi,li){return fn(fn({},oi),li)},{})),selectedElementIds:(0,uo.Oh)(yo,Vn)}}):(Xi=$.state.selectedLinearElement)!==null&&Xi!==void 0&&Xi.isDragging||$.setState(function(Vn){var Pn=fn({},Vn.selectedElementIds);delete Pn[po.id];var yo=(0,Ee.eD)($.scene.getNonDeletedElements(),{selectedElementIds:Pn});return fn(fn({},(0,Ge.bO)({editingGroupId:Vn.editingGroupId,selectedElementIds:Pn},$.scene.getNonDeletedElements(),Vn,$)),{},{selectedLinearElement:yo.length===1&&(0,ne.bt)(yo[0])?new fe._(yo[0],$.scene):Vn.selectedLinearElement})}):po.frameId&&$.state.selectedElementIds[po.frameId]?$.setState(function(Vn){var Pn,yo,Ho=fn(fn({},Vn.selectedElementIds),{},(0,L.Z)({},po.id,!0));return delete Ho[po.frameId],((Pn=(yo=$.scene.getElement(po.frameId))===null||yo===void 0?void 0:yo.groupIds)!==null&&Pn!==void 0?Pn:[]).flatMap(function(oi){return(0,Ge.Fb)($.scene.getNonDeletedElements(),oi)}).forEach(function(oi){delete Ho[oi.id]}),fn(fn({},(0,Ge.bO)({editingGroupId:Vn.editingGroupId,selectedElementIds:Ho},$.scene.getNonDeletedElements(),Vn,$)),{},{showHyperlinkPopup:!(!po.link&&!(0,ne.gs)(po))&&"info"})}):$.setState(function(Vn){return{selectedElementIds:(0,uo.Oh)(fn(fn({},Vn.selectedElementIds),{},(0,L.Z)({},po.id,!0)),Vn)}}):$.setState(function(Vn){var Pn;return fn(fn({},(0,Ge.bO)({editingGroupId:Vn.editingGroupId,selectedElementIds:(0,L.Z)({},po.id,!0)},$.scene.getNonDeletedElements(),Vn,$)),{},{selectedLinearElement:(0,ne.bt)(po)&&((Pn=Vn.selectedLinearElement)===null||Pn===void 0?void 0:Pn.elementId)!==po.id?new fe._(po,$.scene):Vn.selectedLinearElement})})),he.drag.hasOccurred||$.state.isResizing||!(po&&(0,de.wB)(po,$.state,$.frameNameBoundsCache,he.origin.x,he.origin.y)||!po&&he.hit.hasHitCommonBoundingBoxOfSelectedElements)?(!Mt.locked&&Mt.type!=="freedraw"&&dt&&dt.type!=="selection"&&$.setState(function(Vn){return{selectedElementIds:(0,uo.Oh)(fn(fn({},Vn.selectedElementIds),{},(0,L.Z)({},dt.id,!0)),Vn),showHyperlinkPopup:(0,ne.gs)(dt)&&!dt.link?"editor":Vn.showHyperlinkPopup}}),(Mt.type!=="selection"||(0,Ee.N)($.scene.getNonDeletedElements(),$.state))&&$.history.resumeRecording(),(he.drag.hasOccurred||Yt||ar)&&((0,R.N1)($.state)?R.el:R.H)($.scene.getSelectedElements($.state)),Mt.type!=="laser"?(Mt.locked||Mt.type==="freedraw"?$.setState({draggingElement:null,suggestedBindings:[]}):((0,Io.z8)($.interactiveCanvas),$.setState({draggingElement:null,suggestedBindings:[],activeTool:(0,E.Om)($.state,{type:"selection"})})),po&&$.lastPointerUpEvent&&$.lastPointerDownEvent&&$.lastPointerUpEvent.timeStamp-$.lastPointerDownEvent.timeStamp<300&&Zo.pointers.size<=1&&(0,ne.gs)(po)&&$.isEmbeddableCenter(po,$.lastPointerUpEvent,he.origin.x,he.origin.y)&&$.handleEmbeddableCenterClick(po)):$.laserPathManager.endPath()):$.state.editingLinearElement?$.setState({editingLinearElement:null}):$.setState({selectedElementIds:(0,uo.Oh)({},$.state),selectedGroupIds:{},editingGroupId:null,activeEmbeddable:null})}}})}},{key:"maybeSuggestBindingForAll",value:function(he){if(!(he.length>50)){var $=(0,R.ZB)(he);this.setState({suggestedBindings:$})}}},{key:"clearSelection",value:function(he){this.setState(function($){return{selectedElementIds:(0,uo.Oh)({},$),activeEmbeddable:null,selectedGroupIds:{},editingGroupId:$.editingGroupId&&he!=null&&(0,Ge.Nd)(he,$.editingGroupId)?$.editingGroupId:null}}),this.setState({selectedElementIds:(0,uo.Oh)({},this.state),activeEmbeddable:null,previousSelectedElementIds:this.state.selectedElementIds})}},{key:"getTextWysiwygSnappedToCenterPosition",value:function(he,$,ie,De){if(De){var He=De.x+De.width/2,Ve=De.y+De.height/2,lt=(0,It.TP)(De,ie);if(lt&&(He=lt.x,Ve=lt.y),Math.hypot(he-He,$-Ve)<v.wZ){var dt=(0,E._i)({sceneX:He,sceneY:Ve},ie);return{viewportX:dt.x,viewportY:dt.y,elementCenterX:He,elementCenterY:Ve}}}}},{key:"getCanvasOffsets",value:function(){var he;if((he=this.excalidrawContainerRef)!==null&&he!==void 0&&he.current){var $=this.excalidrawContainerRef.current.getBoundingClientRect();return{offsetLeft:$.left,offsetTop:$.top}}return{offsetLeft:0,offsetTop:0}}},{key:"updateLanguage",value:(s=(0,b.Z)(x().mark(function he(){var $,ie=this;return x().wrap(function(De){for(;;)switch(De.prev=De.next){case 0:return $=T.Mj.find(function(He){return He.code===ie.props.langCode})||T.Fp,De.next=3,(0,T.m0)($);case 3:this.setAppState({});case 4:case"end":return De.stop()}},he,this)})),function(){return s.apply(this,arguments)})}],[{key:"resetTapTwice",value:function(){El=!1}}]),_e}(q().Component);ni.defaultProps={UIOptions:v.cW};var $c=function(){var W=this;this.interactiveCanvas=null,this.unmounted=!1,this.device=Va,this.excalidrawContainerRef=q().createRef(),this.files={},this.imageCache=new Map,this.iFrameRefs=new Map,this.lastPointerDownEvent=null,this.lastPointerUpEvent=null,this.lastViewportPosition={x:0,y:0},this.laserPathManager=new Ea(this),this.onChangeEmitter=new Zi,this.onPointerDownEmitter=new Zi,this.onPointerUpEmitter=new Zi,this.updateEmbeddables=function(){var s=new Map,I=!1;W.scene.getNonDeletedElements().filter(function(G){if((0,ne.gs)(G)&&(s.set(G.id,!0),G.validated==null)){I=!0;var se=(0,g.xm)(G.link,W.props.validateEmbeddable);(0,O.DR)(G,{validated:se},!1),Ai.R.delete(G)}return!1}),I&&W.scene.informMutation(),W.iFrameRefs.forEach(function(G,se){s.has(se)||W.iFrameRefs.delete(se)})},this.getFrameNameDOMId=function(s){return"".concat(W.id,"-frame-name-").concat(s.id)},this.frameNameBoundsCache={get:function(s){var I=W.frameNameBoundsCache._cache.get(s.id);if(!I||I.zoom!==W.state.zoom.value||I.versionNonce!==s.versionNonce){var G=document.getElementById(W.getFrameNameDOMId(s));if(G){var se=G.getBoundingClientRect(),_e=(0,E.dE)({clientX:se.x,clientY:se.y},W.state),he=(0,E.dE)({clientX:se.right,clientY:se.bottom},W.state);return I={x:_e.x,y:_e.y,width:he.x-_e.x,height:he.y-_e.y,angle:0,zoom:W.state.zoom.value,versionNonce:s.versionNonce},W.frameNameBoundsCache._cache.set(s.id,I),I}return null}return I},_cache:new Map},this.renderFrameNames=function(){if(!W.state.frameRendering.enabled||!W.state.frameRendering.name)return null;var s=W.state.theme==="dark";return W.scene.getNonDeletedFrames().map(function(I,G){if(!(0,Ze.PZ)(I,W.canvas.width/window.devicePixelRatio,W.canvas.height/window.devicePixelRatio,{offsetLeft:W.state.offsetLeft,offsetTop:W.state.offsetTop,scrollX:W.state.scrollX,scrollY:W.state.scrollY,zoom:W.state.zoom}))return null;var se,_e=(0,E._i)({sceneX:I.x,sceneY:I.y},W.state),he=_e.x,$=_e.y,ie=function(){var He;((He=I.name)===null||He===void 0?void 0:He.trim())===""&&(0,O.DR)(I,{name:null}),W.setState({editingFrame:null})};if(I.id===W.state.editingFrame){var De=I.name==null?"Frame ".concat(G+1):I.name;se=(0,i.jsx)("input",{autoFocus:!0,value:De,onChange:function(He){(0,O.DR)(I,{name:He.target.value})},onBlur:function(){return ie()},onKeyDown:function(He){He.key!==B.tW.ESCAPE&&He.key!==B.tW.ENTER||ie()},style:{background:W.state.viewBackgroundColor,filter:s?v.ZF:"none",zIndex:2,border:"none",display:"block",padding:"".concat(6,"px"),borderRadius:4,boxShadow:"inset 0 0 0 1px var(--color-primary)",fontFamily:"Assistant",fontSize:"14px",transform:"translate(-".concat(6,"px, ").concat(6,"px)"),color:"var(--color-gray-80)",overflow:"hidden",maxWidth:"".concat(document.body.clientWidth-he-6,"px")},size:De.length+1||1,dir:"auto",autoComplete:"off",autoCapitalize:"off",autoCorrect:"off"})}else se=I.name==null||I.name.trim()===""?"Frame ".concat(G+1):I.name.trim();return(0,i.jsx)("div",{id:W.getFrameNameDOMId(I),style:{position:"absolute",bottom:"".concat(W.state.height+v.iG.nameOffsetY-$+W.state.offsetTop,"px"),left:"".concat(he-W.state.offsetLeft,"px"),zIndex:2,fontSize:v.iG.nameFontSize,color:s?v.iG.nameColorDarkTheme:v.iG.nameColorLightTheme,lineHeight:v.iG.nameLineHeight,width:"max-content",maxWidth:"".concat(I.width,"px"),overflow:I.id===W.state.editingFrame?"visible":"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:v.oc.MOVE,pointerEvents:W.state.viewModeEnabled?v.XI.disabled:v.XI.enabled},onPointerDown:function(He){return W.handleCanvasPointerDown(He)},onWheel:function(He){return W.handleWheel(He)},onContextMenu:W.handleCanvasContextMenu,onDoubleClick:function(){W.setState({editingFrame:I.id})},children:se},I.id)})},this.focusContainer=function(){var s;(s=W.excalidrawContainerRef.current)===null||s===void 0||s.focus()},this.getSceneElementsIncludingDeleted=function(){return W.scene.getElementsIncludingDeleted()},this.getSceneElements=function(){return W.scene.getNonDeletedElements()},this.onInsertElements=function(s){W.addElementsFromPasteOrLibrary({elements:s,position:"center",files:null})},this.onExportImage=function(){var s=(0,b.Z)(x().mark(function I(G,se,_e){var he;return x().wrap(function($){for(;;)switch($.prev=$.next){case 0:return(0,m.L)("export",G,"ui"),$.next=3,(0,F.p1)(G,se,W.state,W.files,{exportBackground:W.state.exportBackground,name:W.state.name,viewBackgroundColor:W.state.viewBackgroundColor,exportingFrame:_e.exportingFrame}).catch(E.FG).catch(function(ie){console.error(ie),W.setState({errorMessage:ie.message})});case 3:he=$.sent,W.state.exportEmbedScene&&he&&(0,cr.g8)(he)&&W.setState({fileHandle:he});case 5:case"end":return $.stop()}},I)}));return function(I,G,se){return s.apply(this,arguments)}}(),this.openEyeDropper=function(s){var I=s.type;Ca.e_.set(ri.$,{swapPreviewOnAlt:!0,colorPickerType:I==="stroke"?"elementStroke":"elementBackground",onSelect:function(G,se){var _e=I==="background"&&se.altKey||I==="stroke"&&!se.altKey;W.scene.getSelectedElements(W.state).length&&W.state.activeTool.type==="selection"?W.updateScene({elements:W.scene.getElementsIncludingDeleted().map(function(he){return W.state.selectedElementIds[he.id]?(0,O.BE)(he,(0,L.Z)({},_e?"strokeColor":"backgroundColor",G)):he})}):_e?W.syncActionResult({appState:fn(fn({},W.state),{},{currentItemStrokeColor:G}),commitToHistory:!0}):W.syncActionResult({appState:fn(fn({},W.state),{},{currentItemBackgroundColor:G}),commitToHistory:!0})},keepOpenOnAlt:!1})},this.syncActionResult=(0,E.tH)(function(s){if(!W.unmounted&&s!==!1){var I=null;if(s.elements&&(s.elements.forEach(function(Bt){var zt;((zt=W.state.editingElement)===null||zt===void 0?void 0:zt.id)===Bt.id&&W.state.editingElement!==Bt&&(0,de.qP)(Bt)&&(I=Bt)}),W.scene.replaceAllElements(s.elements),s.commitToHistory&&W.history.resumeRecording()),s.files&&(W.files=s.replaceFiles?s.files:fn(fn({},W.files),s.files),W.addNewImagesToImageCache()),s.appState||I||W.state.contextMenu){var G,se,_e,he,$,ie,De,He,Ve,lt;s.commitToHistory&&W.history.resumeRecording();var dt=(s==null||(G=s.appState)===null||G===void 0?void 0:G.viewModeEnabled)||!1,vt=(s==null||(se=s.appState)===null||se===void 0?void 0:se.zenModeEnabled)||!1,Ct=(s==null||(_e=s.appState)===null||_e===void 0?void 0:_e.gridSize)||null,Mt=(s==null||(he=s.appState)===null||he===void 0?void 0:he.theme)||W.props.theme||v.C6.LIGHT,Yt=($=s==null||(ie=s.appState)===null||ie===void 0?void 0:ie.name)!==null&&$!==void 0?$:W.state.name,ar=(De=s==null||(He=s.appState)===null||He===void 0?void 0:He.errorMessage)!==null&&De!==void 0?De:W.state.errorMessage;W.props.viewModeEnabled!==void 0&&(dt=W.props.viewModeEnabled),W.props.zenModeEnabled!==void 0&&(vt=W.props.zenModeEnabled),W.props.gridModeEnabled!==void 0&&(Ct=W.props.gridModeEnabled?v.k:null),W.props.name!==void 0&&(Yt=W.props.name),(lt=I=I||((Ve=s.appState)===null||Ve===void 0?void 0:Ve.editingElement)||null)!==null&&lt!==void 0&&lt.isDeleted&&(I=null),W.setState(function(Bt){return Object.assign(s.appState||{},{contextMenu:null,editingElement:I,viewModeEnabled:dt,zenModeEnabled:vt,gridSize:Ct,theme:Mt,name:Yt,errorMessage:ar})},function(){s.syncHistory&&W.history.setCurrentState(W.state,W.scene.getElementsIncludingDeleted())})}}}),this.onBlur=(0,E.tH)(function(){ea=!1,W.setState({isBindingEnabled:!0})}),this.onUnload=function(){W.onBlur()},this.disableEvent=function(s){s.preventDefault()},this.resetHistory=function(){W.history.clear()},this.resetScene=(0,E.tH)(function(s){W.scene.replaceAllElements([]),W.setState(function(I){return fn(fn({},(0,D.im)()),{},{isLoading:(s==null||!s.resetLoadingState)&&I.isLoading,theme:W.state.theme})}),W.resetHistory()}),this.initializeScene=(0,b.Z)(x().mark(function s(){var I,G,se,_e,he;return x().wrap(function($){for(;;)switch($.prev=$.next){case 0:return"launchQueue"in window&&"LaunchParams"in window&&window.launchQueue.setConsumer(function(){var ie=(0,b.Z)(x().mark(function De(He){var Ve,lt;return x().wrap(function(dt){for(;;)switch(dt.prev=dt.next){case 0:if(He.files.length){dt.next=2;break}return dt.abrupt("return");case 2:return Ve=He.files[0],dt.next=5,Ve.getFile();case 5:lt=dt.sent,W.loadFileToCanvas(new File([lt],lt.name||"",{type:lt.type}),Ve);case 7:case"end":return dt.stop()}},De)}));return function(De){return ie.apply(this,arguments)}}()),W.props.theme&&W.setState({theme:W.props.theme}),W.state.isLoading||W.setState({isLoading:!0}),se=null,$.prev=4,$.next=7,W.props.initialData;case 7:if($.t0=$.sent,$.t0){$.next=10;break}$.t0=null;case 10:se=$.t0,(_e=se)!==null&&_e!==void 0&&_e.libraryItems&&W.library.updateLibrary({libraryItems:se.libraryItems,merge:!0}).catch(function(ie){console.error(ie)}),$.next=18;break;case 14:$.prev=14,$.t1=$.catch(4),console.error($.t1),se={appState:{errorMessage:$.t1.message||"Encountered an error during importing or restoring scene data"}};case 18:(he=(0,le.nu)(se,null,null,{repairBindings:!0})).appState=fn(fn({},he.appState),{},{theme:W.props.theme||he.appState.theme,openSidebar:((I=he.appState)===null||I===void 0?void 0:I.openSidebar)||W.state.openSidebar,activeTool:he.appState.activeTool.type==="image"?fn(fn({},he.appState.activeTool),{},{type:"selection"}):he.appState.activeTool,isLoading:!1,toast:W.state.toast}),(G=se)!==null&&G!==void 0&&G.scrollToContent&&(he.appState=fn(fn({},he.appState),(0,Ee.W)(he.elements,fn(fn({},he.appState),{},{width:W.state.width,height:W.state.height,offsetTop:W.state.offsetTop,offsetLeft:W.state.offsetLeft})))),W.fonts.loadFontsForElements(he.elements),W.resetHistory(),W.syncActionResult(fn(fn({},he),{},{commitToHistory:!0}));case 24:case"end":return $.stop()}},s,null,[[4,14]])})),this.isMobileBreakpoint=function(s,I){return s<v.kV||I<v.Yx&&s<v.sS},this.refreshViewportBreakpoints=function(){if(W.excalidrawContainerRef.current){var s=document.body,I=s.clientWidth,G=s.clientHeight,se=W.device.viewport,_e=(0,E.v4)(se,{isLandscape:I>G,isMobile:W.isMobileBreakpoint(I,G)});return se!==_e&&(W.device=fn(fn({},W.device),{},{viewport:_e}),!0)}},this.refreshEditorBreakpoints=function(){var s=W.excalidrawContainerRef.current;if(s){var I=s.getBoundingClientRect(),G=I.width,se=I.height,_e=W.props.UIOptions.dockedSidebarBreakpoint!=null?W.props.UIOptions.dockedSidebarBreakpoint:v.sk,he=W.device.editor,$=(0,E.v4)(he,{isMobile:W.isMobileBreakpoint(G,se),canFitSidebar:G>_e});return he!==$&&(W.device=fn(fn({},W.device),{},{editor:$}),!0)}},this.onResize=(0,E.tH)(function(){W.scene.getElementsIncludingDeleted().forEach(function(s){return Ai.R.delete(s)}),W.refreshViewportBreakpoints(),W.updateDOMRect(),sc||W.refreshEditorBreakpoints(),W.setState({})}),this.renderInteractiveSceneCallback=function(s){var I=s.atLeastOneVisibleElement,G=s.scrollBars,se=s.elements;G&&(Na=G);var _e=!(0,de.iB)(W.state.editingElement)&&!I&&se.length>0;W.state.scrolledOutside!==_e&&W.setState({scrolledOutside:_e}),W.scheduleImageRefresh()},this.onScroll=(0,E.Ds)(function(){var s=W.getCanvasOffsets(),I=s.offsetTop,G=s.offsetLeft;W.setState(function(se){return se.offsetLeft===G&&se.offsetTop===I?null:{offsetTop:I,offsetLeft:G}})},v.HM),this.onCut=(0,E.tH)(function(s){var I;!((I=W.excalidrawContainerRef.current)===null||I===void 0)&&I.contains(document.activeElement)&&!(0,E.s)(s.target)&&(W.actionManager.executeAction(J.ZM,"keyboard",s),s.preventDefault(),s.stopPropagation())}),this.onCopy=(0,E.tH)(function(s){var I;!((I=W.excalidrawContainerRef.current)===null||I===void 0)&&I.contains(document.activeElement)&&!(0,E.s)(s.target)&&(W.actionManager.executeAction(J.uN,"keyboard",s),s.preventDefault(),s.stopPropagation())}),this.onTouchStart=function(s){if(v.Dt||s.preventDefault(),!El)return El=!0,clearTimeout(ul),void(ul=window.setTimeout(ni.resetTapTwice,v.Gj));if(El&&s.touches.length===1){var I=s.touches[0];W.handleCanvasDoubleClick({clientX:I.clientX,clientY:I.clientY}),El=!1,clearTimeout(ul)}v.Dt&&s.preventDefault(),s.touches.length===2&&W.setState({selectedElementIds:(0,uo.Oh)({},W.state),activeEmbeddable:null})},this.onTouchEnd=function(s){W.resetContextMenuTimer(),s.touches.length>0?W.setState({previousSelectedElementIds:{},selectedElementIds:(0,uo.Oh)(W.state.previousSelectedElementIds,W.state)}):Zo.pointers.clear()},this.pasteFromClipboard=(0,E.tH)(function(){var s=(0,b.Z)(x().mark(function I(G){var se,_e,he,$,ie,De,He,Ve,lt,dt,vt,Ct,Mt,Yt,ar,Bt,zt;return x().wrap(function($t){for(;;)switch($t.prev=$t.next){case 0:if(he=!!jl,$=document.activeElement,ie=(se=W.excalidrawContainerRef.current)===null||se===void 0?void 0:se.contains($),!G||ie){$t.next=5;break}return $t.abrupt("return");case 5:if(De=document.elementFromPoint(W.lastViewportPosition.x,W.lastViewportPosition.y),!G||De instanceof HTMLCanvasElement&&!(0,E.s)($)){$t.next=8;break}return $t.abrupt("return");case 8:return He=(0,E.dE)({clientX:W.lastViewportPosition.x,clientY:W.lastViewportPosition.y},W.state),Ve=He.x,lt=He.y,dt=G==null||(_e=G.clipboardData)===null||_e===void 0?void 0:_e.files[0],$t.next=12,(0,P.mQ)(G,he);case 12:if(vt=$t.sent,dt||he){$t.next=19;break}if(!vt.mixedContent){$t.next=18;break}return $t.abrupt("return",W.addElementsFromMixedContentPaste(vt.mixedContent,{isPlainPaste:he,sceneX:Ve,sceneY:lt}));case 18:vt.text&&(Ct=vt.text.trim()).startsWith("<svg")&&Ct.endsWith("</svg>")&&(dt=(0,cr.Pn)(Ct));case 19:if(!(0,cr.Wr)(dt)||vt.spreadsheet){$t.next=28;break}if(W.isToolSupported("image")){$t.next=23;break}return W.setState({errorMessage:(0,T.t)("errors.imageToolNotSupported")}),$t.abrupt("return");case 23:return Mt=W.createImageElement({sceneX:Ve,sceneY:lt}),W.insertImageElement(Mt,dt),W.initializeImageDimensions(Mt),W.setState({selectedElementIds:(0,uo.Oh)((0,L.Z)({},Mt.id,!0),W.state)}),$t.abrupt("return");case 28:if(!W.props.onPaste){$t.next=40;break}return $t.prev=29,$t.next=32,W.props.onPaste(vt,G);case 32:if($t.t0=$t.sent,$t.t0!==!1){$t.next=35;break}return $t.abrupt("return");case 35:$t.next=40;break;case 37:$t.prev=37,$t.t1=$t.catch(29),console.error($t.t1);case 40:if(!vt.errorMessage){$t.next=44;break}W.setState({errorMessage:vt.errorMessage}),$t.next=60;break;case 44:if(!vt.spreadsheet||he){$t.next=48;break}W.setState({pasteDialog:{data:vt.spreadsheet,shown:!0}}),$t.next=60;break;case 48:if(!vt.elements){$t.next=53;break}Yt=vt.programmaticAPI?(0,ir.w)(vt.elements):vt.elements,W.addElementsFromPasteOrLibrary({elements:Yt,files:vt.files||null,position:"cursor",retainSeed:he}),$t.next=60;break;case 53:if(!vt.text){$t.next=60;break}if(Bt=(0,g.eX)(vt.text),he||!(0,g.xm)(Bt,W.props.validateEmbeddable)||!/^(http|https):\/\/[^\s/$.?#].[^\s]*$/.test(Bt)&&((ar=(0,g.LM)(Bt))===null||ar===void 0?void 0:ar.type)!=="video"){$t.next=59;break}return(zt=W.insertEmbeddableElement({sceneX:Ve,sceneY:lt,link:(0,La.$u)(Bt)}))&&W.setState({selectedElementIds:(0,L.Z)({},zt.id,!0)}),$t.abrupt("return");case 59:W.addTextFromPaste(vt.text,he);case 60:W.setActiveTool({type:"selection"}),G==null||G.preventDefault();case 62:case"end":return $t.stop()}},I,null,[[29,37]])}));return function(I){return s.apply(this,arguments)}}()),this.addElementsFromPasteOrLibrary=function(s){var I=(0,le.ET)(s.elements,null,void 0),G=(0,de.KP)(I),se=(0,A.Z)(G,4),_e=se[0],he=se[1],$=se[2],ie=se[3],De=(0,E.TE)(_e,$)/2,He=(0,E.TE)(he,ie)/2,Ve=(0,r.Z)(s.position)==="object"?s.position.clientX:s.position==="cursor"?W.lastViewportPosition.x:W.state.width/2+W.state.offsetLeft,lt=(0,r.Z)(s.position)==="object"?s.position.clientY:s.position==="cursor"?W.lastViewportPosition.y:W.state.height/2+W.state.offsetTop,dt=(0,E.dE)({clientX:Ve,clientY:lt},W.state),vt=dt.x-De,Ct=dt.y-He,Mt=(0,Ie.wC)(vt,Ct,W.state.gridSize),Yt=(0,A.Z)(Mt,2),ar=Yt[0],Bt=Yt[1],zt=(0,pe._N)(I.map(function(yr){return(0,O.BE)(yr,{x:yr.x+ar-_e,y:yr.y+Bt-he})}),{randomizeSeed:!s.retainSeed}),$t=[].concat((0,k.Z)(W.scene.getElementsIncludingDeleted()),(0,k.Z)(zt));W.scene.replaceAllElements($t),zt.forEach(function(yr){if((0,de.iB)(yr)&&(0,ne.Xh)(yr)){var lr=(0,It.tl)(yr);(0,de.oN)(yr,lr)}}),s.files&&(W.files=fn(fn({},W.files),s.files)),W.history.resumeRecording();var dr=(0,uo.aI)(zt);W.setState(fn(fn({},W.state),{},{openSidebar:W.state.openSidebar&&W.device.editor.canFitSidebar&&Ca.e_.get(As.t6)?W.state.openSidebar:null},(0,Ge.bO)({editingGroupId:null,selectedElementIds:dr.reduce(function(yr,lr){return(0,ne.Xh)(lr)||(yr[lr.id]=!0),yr},{})},W.scene.getNonDeletedElements(),W.state,W)),function(){s.files&&W.addNewImagesToImageCache()}),W.setActiveTool({type:"selection"}),s.fitToContent&&W.scrollToContent(zt,{fitToContent:!0})},this.setAppState=function(s,I){W.setState(s,I)},this.removePointer=function(s){Ts&&W.resetContextMenuTimer(),Zo.pointers.delete(s.pointerId)},this.toggleLock=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ui";W.state.activeTool.locked||(0,m.L)("toolbar","toggleLock","".concat(s," (").concat(W.device.editor.isMobile?"mobile":"desktop",")")),W.setState(function(I){return{activeTool:fn(fn(fn({},I.activeTool),(0,E.Om)(W.state,I.activeTool.locked?{type:"selection"}:I.activeTool)),{},{locked:!I.activeTool.locked})}})},this.updateFrameRendering=function(s){W.setState(function(I){var G,se,_e,he,$=typeof s=="function"?s(I.frameRendering):s;return{frameRendering:{enabled:(G=$==null?void 0:$.enabled)!==null&&G!==void 0?G:I.frameRendering.enabled,clip:(se=$==null?void 0:$.clip)!==null&&se!==void 0?se:I.frameRendering.clip,name:(_e=$==null?void 0:$.name)!==null&&_e!==void 0?_e:I.frameRendering.name,outline:(he=$==null?void 0:$.outline)!==null&&he!==void 0?he:I.frameRendering.outline}}})},this.togglePenMode=function(s){W.setState(function(I){return{penMode:s??!I.penMode,penDetected:!0}})},this.onHandToolToggle=function(){W.actionManager.executeAction(bl.eF)},this.zoomCanvas=function(s){W.setState(fn({},(0,Z.E)({viewportX:W.state.width/2+W.state.offsetLeft,viewportY:W.state.height/2+W.state.offsetTop,nextZoom:(0,Ee.j)(s)},W.state)))},this.cancelInProgresAnimation=null,this.scrollToContent=function(){var s,I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:W.scene.getNonDeletedElements(),G=arguments.length>1?arguments[1]:void 0;(s=W.cancelInProgresAnimation)===null||s===void 0||s.call(W);var se=Array.isArray(I)?I:[I],_e=W.state.zoom,he=W.state.scrollX,$=W.state.scrollY;if(G!=null&&G.fitToContent||G!=null&&G.fitToViewport){var ie=(0,bl.JB)({targetElements:se,appState:W.state,fitToViewport:!(G==null||!G.fitToViewport),viewportZoomFactor:G==null?void 0:G.viewportZoomFactor}),De=ie.appState;_e=De.zoom,he=De.scrollX,$=De.scrollY}else{var He=(0,Ee.W)(se,W.state);he=He.scrollX,$=He.scrollY}if(G!=null&&G.animate){var Ve,lt=W.state.scrollX,dt=W.state.scrollY,vt=W.state.zoom.value,Ct=(0,E.B4)({fromValues:{scrollX:lt,scrollY:dt,zoom:vt},toValues:{scrollX:he,scrollY:$,zoom:_e.value},interpolateValue:function(Mt,Yt,ar,Bt){if(Bt==="zoom")return Mt*Math.pow(Yt/Mt,(0,E.Vv)(ar))},onStep:function(Mt){var Yt=Mt.scrollX,ar=Mt.scrollY,Bt=Mt.zoom;W.setState({scrollX:Yt,scrollY:ar,zoom:{value:Bt}})},onStart:function(){W.setState({shouldCacheIgnoreZoom:!0})},onEnd:function(){W.setState({shouldCacheIgnoreZoom:!1})},onCancel:function(){W.setState({shouldCacheIgnoreZoom:!1})},duration:(Ve=G==null?void 0:G.duration)!==null&&Ve!==void 0?Ve:500});W.cancelInProgresAnimation=function(){Ct(),W.cancelInProgresAnimation=null}}else W.setState({scrollX:he,scrollY:$,zoom:_e})},this.translateCanvas=function(s){var I;(I=W.cancelInProgresAnimation)===null||I===void 0||I.call(W),W.setState(s)},this.setToast=function(s){W.setState({toast:s})},this.restoreFileFromShare=(0,b.Z)(x().mark(function s(){var I,G,se,_e;return x().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return he.prev=0,he.next=3,caches.open("web-share-target");case 3:return I=he.sent,he.next=6,I.match("shared-file");case 6:if(!(G=he.sent)){he.next=16;break}return he.next=10,G.blob();case 10:return se=he.sent,_e=new File([se],se.name||"",{type:se.type}),W.loadFileToCanvas(_e,null),he.next=15,I.delete("shared-file");case 15:window.history.replaceState(null,v.iC,window.location.pathname);case 16:he.next=21;break;case 18:he.prev=18,he.t0=he.catch(0),W.setState({errorMessage:he.t0.message});case 21:case"end":return he.stop()}},s,null,[[0,18]])})),this.addFiles=(0,E.tH)(function(s){var I=s.reduce(function(G,se){return G.set(se.id,se),G},new Map);W.files=fn(fn({},W.files),Object.fromEntries(I)),W.scene.getNonDeletedElements().forEach(function(G){(0,ne.wi)(G)&&I.has(G.fileId)&&(W.imageCache.delete(G.fileId),Ai.R.delete(G))}),W.scene.informMutation(),W.addNewImagesToImageCache()}),this.updateScene=(0,E.tH)(function(s){s.commitToHistory&&W.history.resumeRecording(),s.appState&&W.setState(s.appState),s.elements&&W.scene.replaceAllElements(s.elements),s.collaborators&&W.setState({collaborators:s.collaborators})}),this.onSceneUpdated=function(){W.setState({})},this.toggleSidebar=function(s){var I,G,se=s.name,_e=s.tab,he=s.force;return he===void 0?I=((G=W.state.openSidebar)===null||G===void 0?void 0:G.name)===se?null:se:I=he?se:null,W.setState({openSidebar:I?{name:I,tab:_e}:null}),!!I},this.updateCurrentCursorPosition=(0,E.tH)(function(s){W.lastViewportPosition.x=s.clientX,W.lastViewportPosition.y=s.clientY}),this.onKeyDown=(0,E.tH)(function(s){if("Proxy"in window&&(!s.shiftKey&&/^[A-Z]$/.test(s.key)||s.shiftKey&&/^[a-z]$/.test(s.key))&&(s=new Proxy(s,{get:function(ar,Bt){var zt=ar[Bt];return typeof zt=="function"?zt.bind(ar):Bt==="key"?s.shiftKey?ar.key.toUpperCase():ar.key.toLowerCase():zt}})),s[B.tW.CTRL_OR_CMD]&&s.key.toLowerCase()===B.tW.V&&(jl=s.shiftKey,clearTimeout(lc),lc=window.setTimeout(function(){jl=!1},100)),!s[B.tW.CTRL_OR_CMD]||!(0,E.s)(s.target)||s.code!==B.aU.MINUS&&s.code!==B.aU.EQUAL){if(!((0,E.s)(s.target)&&s.key!==B.tW.ESCAPE||(0,B.Wl)(s.key)&&(0,E._Z)(s.target)))if(s.key!==B.tW.QUESTION_MARK){if(s.key.toLowerCase()===B.tW.E&&s.shiftKey&&s[B.tW.CTRL_OR_CMD])return s.preventDefault(),void W.setState({openDialog:"imageExport"});if(s.key===B.tW.PAGE_UP||s.key===B.tW.PAGE_DOWN){var I=(s.shiftKey?W.state.width:W.state.height)/W.state.zoom.value;s.key===B.tW.PAGE_DOWN&&(I=-I),s.shiftKey?W.translateCanvas(function(ar){return{scrollX:ar.scrollX+I}}):W.translateCanvas(function(ar){return{scrollY:ar.scrollY+I}})}if(!W.actionManager.handleKeyDown(s)&&!W.state.viewModeEnabled){if(s[B.tW.CTRL_OR_CMD]&&W.state.isBindingEnabled&&W.setState({isBindingEnabled:!1}),(0,B.Wl)(s.key)){var G=W.state.gridSize&&(s.shiftKey?v.$e:W.state.gridSize)||(s.shiftKey?v.Iw:v.$e),se=0,_e=0;s.key===B.tW.ARROW_LEFT?se=-G:s.key===B.tW.ARROW_RIGHT?se=G:s.key===B.tW.ARROW_UP?_e=-G:s.key===B.tW.ARROW_DOWN&&(_e=G);var he=W.scene.getSelectedElements({selectedElementIds:W.state.selectedElementIds,includeBoundTextElement:!0,includeElementsInFrames:!0});he.forEach(function(ar){(0,O.DR)(ar,{x:ar.x+se,y:ar.y+_e}),(0,R.Ww)(ar,{simultaneouslyUpdated:he})}),W.maybeSuggestBindingForAll(he),s.preventDefault()}else if(s.key===B.tW.ENTER){var $=W.scene.getSelectedElements(W.state);if($.length===1){var ie=$[0];if(s[B.tW.CTRL_OR_CMD])(0,ne.bt)(ie)&&(W.state.editingLinearElement&&W.state.editingLinearElement.elementId===$[0].id||(W.history.resumeRecording(),W.setState({editingLinearElement:new fe._(ie,W.scene)})));else{if((0,de.iB)(ie)||(0,It.Zr)(ie)){var De;(0,de.iB)(ie)||(De=ie);var He=(0,It.TP)(ie,W.state),Ve=He.x,lt=He.y;return W.startTextEditing({sceneX:Ve,sceneY:lt,container:De}),void s.preventDefault()}(0,ne.He)(ie)&&W.setState({editingFrame:ie.id})}}}else if(!s.ctrlKey&&!s.altKey&&!s.metaKey&&W.state.draggingElement===null){var dt=function(ar){var Bt=u.find(function(zt,$t){return zt.numericKey!=null&&ar===zt.numericKey.toString()||zt.key&&(typeof zt.key=="string"?zt.key===ar:zt.key.includes(ar))});return(Bt==null?void 0:Bt.value)||null}(s.key);dt?(W.state.activeTool.type!==dt&&(0,m.L)("toolbar",dt,"keyboard (".concat(W.device.editor.isMobile?"mobile":"desktop",")")),W.setActiveTool({type:dt}),s.stopPropagation()):s.key===B.tW.Q&&(W.toggleLock("keyboard"),s.stopPropagation())}if(s.key===B.tW.SPACE&&Zo.pointers.size===0&&(ea=!0,(0,Io.KJ)(W.interactiveCanvas,v.oc.GRAB),s.preventDefault()),!(s.key!==B.tW.G&&s.key!==B.tW.S||s.altKey||s[B.tW.CTRL_OR_CMD])){var vt=W.scene.getSelectedElements(W.state);if(W.state.activeTool.type==="selection"&&!vt.length)return;s.key===B.tW.G&&((0,Ee.$b)(W.state.activeTool.type)||vt.some(function(ar){return(0,Ee.$b)(ar.type)}))&&(W.setState({openPopup:"elementBackground"}),s.stopPropagation()),s.key===B.tW.S&&(W.setState({openPopup:"elementStroke"}),s.stopPropagation())}if(s.key!==B.tW.K||s.altKey||s[B.tW.CTRL_OR_CMD]){!s[B.tW.CTRL_OR_CMD]||s.key!==B.tW.BACKSPACE&&s.key!==B.tW.DELETE||Ca.e_.set(Gi.w,"clearCanvas");var Ct=s.key.toLocaleLowerCase(),Mt=Ct===B.tW.S&&s.shiftKey,Yt=s.key===B.tW.I||Ct===B.tW.G&&s.shiftKey;(Mt||Yt)&&W.openEyeDropper({type:Mt?"stroke":"background"})}else W.state.activeTool.type==="laser"?W.setActiveTool({type:"selection"}):W.setActiveTool({type:"laser"})}}else W.setState({openDialog:"help"})}else s.preventDefault()}),this.onWheel=(0,E.tH)(function(s){s.target instanceof HTMLCanvasElement||!s.ctrlKey||s.preventDefault()}),this.onKeyUp=(0,E.tH)(function(s){if(s.key===B.tW.SPACE&&(W.state.viewModeEnabled?(0,Io.KJ)(W.interactiveCanvas,v.oc.GRAB):W.state.activeTool.type==="selection"?(0,Io.z8)(W.interactiveCanvas):((0,Io.Uk)(W.interactiveCanvas,W.state),W.setState({selectedElementIds:(0,uo.Oh)({},W.state),selectedGroupIds:{},editingGroupId:null,activeEmbeddable:null})),ea=!1),s[B.tW.CTRL_OR_CMD]||W.state.isBindingEnabled||W.setState({isBindingEnabled:!0}),(0,B.Wl)(s.key)){var I=W.scene.getSelectedElements(W.state);(0,R.N1)(W.state)?(0,R.el)(I):(0,R.H)(I),W.setState({suggestedBindings:[]})}}),this.isToolSupported=function(s){var I;return((I=W.props.UIOptions.tools)===null||I===void 0?void 0:I[s])!==!1},this.setActiveTool=function(s){if(W.isToolSupported(s.type)){var I,G=(0,E.Om)(W.state,s);G.type==="hand"?(0,Io.KJ)(W.interactiveCanvas,v.oc.GRAB):ea||(0,Io.Uk)(W.interactiveCanvas,W.state),(0,E.wO)(document.activeElement)&&W.focusContainer(),(0,ne.dt)(G.type)||W.setState({suggestedBindings:[]}),G.type==="image"&&W.onImageAction({insertOnCanvasDirectly:(I=s.type==="image"&&s.insertOnCanvasDirectly)!==null&&I!==void 0&&I}),W.setState(function(se){var _e={snapLines:se.snapLines.length?[]:se.snapLines,originSnapOffset:null,activeEmbeddable:null};return G.type!=="selection"?fn(fn({},se),{},{activeTool:G,selectedElementIds:(0,uo.Oh)({},se),selectedGroupIds:(0,uo.Oh)({},se),editingGroupId:null,multiElement:null},_e):fn(fn({},se),{},{activeTool:G},_e)})}else console.warn('"'.concat(s.type,'" tool is disabled via "UIOptions.canvasActions.tools.').concat(s.type,'"'))},this.setOpenDialog=function(s){W.setState({openDialog:s})},this.setCursor=function(s){(0,Io.KJ)(W.interactiveCanvas,s)},this.resetCursor=function(){(0,Io.z8)(W.interactiveCanvas)},this.isTouchScreenMultiTouchGesture=function(){return Zo.pointers.size>=2},this.onGestureStart=(0,E.tH)(function(s){s.preventDefault(),W.isTouchScreenMultiTouchGesture()&&W.setState({selectedElementIds:(0,uo.Oh)({},W.state),activeEmbeddable:null}),Zo.initialScale=W.state.zoom.value}),this.onGestureChange=(0,E.tH)(function(s){if(s.preventDefault(),!W.isTouchScreenMultiTouchGesture()){var I=Zo.initialScale;I&&W.setState(function(G){return fn({},(0,Z.E)({viewportX:W.lastViewportPosition.x,viewportY:W.lastViewportPosition.y,nextZoom:(0,Ee.j)(I*s.scale)},G))})}}),this.onGestureEnd=(0,E.tH)(function(s){s.preventDefault(),W.isTouchScreenMultiTouchGesture()&&W.setState({previousSelectedElementIds:{},selectedElementIds:(0,uo.Oh)(W.state.previousSelectedElementIds,W.state)}),Zo.initialScale=null}),this.startTextEditing=function(s){var I,G,se,_e,he=s.sceneX,$=s.sceneY,ie=s.insertAtParentCenter,De=ie===void 0||ie,He=s.container,Ve=!1,lt=De&&W.getTextWysiwygSnappedToCenterPosition(he,$,W.state,He);He&&lt&&((0,It.WJ)(He)||(Ve=!0));var dt=null,vt=W.scene.getSelectedElements(W.state),Ct=((I=dt=vt.length===1?(0,de.iB)(vt[0])?vt[0]:He?(0,It.WJ)(vt[0]):W.getTextElementAtPosition(he,$):W.getTextElementAtPosition(he,$))===null||I===void 0?void 0:I.fontFamily)||W.state.currentItemFontFamily,Mt=((G=dt)===null||G===void 0?void 0:G.lineHeight)||(0,It.PT)(Ct),Yt=W.state.currentItemFontSize;if(!dt&&Ve&&He&&!(0,ne.Yv)(He)){var ar={fontSize:Yt,fontFamily:Ct},Bt=(0,It.AT)((0,E.mO)(ar),Mt),zt=(0,It.w_)(Yt,Mt),$t=Math.max(He.height,zt),dr=Math.max(He.width,Bt);(0,O.DR)(He,{height:$t,width:dr}),he=He.x+dr/2,$=He.y+$t/2,lt&&(lt=W.getTextWysiwygSnappedToCenterPosition(he,$,W.state,He))}var yr=W.getTopLayerFrameAtSceneCoords({x:he,y:$}),lr=dt||(0,de.VL)({x:lt?lt.elementCenterX:he,y:lt?lt.elementCenterY:$,strokeColor:W.state.currentItemStrokeColor,backgroundColor:W.state.currentItemBackgroundColor,fillStyle:W.state.currentItemFillStyle,strokeWidth:W.state.currentItemStrokeWidth,strokeStyle:W.state.currentItemStrokeStyle,roughness:W.state.currentItemRoughness,opacity:W.state.currentItemOpacity,text:"",fontSize:Yt,fontFamily:Ct,textAlign:lt?"center":W.state.currentItemTextAlign,verticalAlign:lt?v.oX.MIDDLE:v.hs,containerId:Ve?He==null?void 0:He.id:void 0,groupIds:(se=He==null?void 0:He.groupIds)!==null&&se!==void 0?se:[],lineHeight:Mt,angle:(_e=He==null?void 0:He.angle)!==null&&_e!==void 0?_e:0,frameId:yr?yr.id:null});if(!dt&&Ve&&He&&(0,O.DR)(He,{boundElements:(He.boundElements||[]).concat({type:"text",id:lr.id})}),W.setState({editingElement:lr}),!dt)if(He&&Ve){var nr=W.scene.getElementIndex(He.id);W.scene.insertElementAtIndex(lr,nr+1)}else W.scene.addNewElement(lr);W.setState({editingElement:lr}),W.handleTextWysiwyg(lr,{isExistingElement:!!dt})},this.handleCanvasDoubleClick=function(s){if(!W.state.multiElement&&W.state.activeTool.type==="selection"){var I=W.scene.getSelectedElements(W.state);if(I.length===1&&(0,ne.bt)(I[0])){if(s[B.tW.CTRL_OR_CMD]&&(!W.state.editingLinearElement||W.state.editingLinearElement.elementId!==I[0].id))return W.history.resumeRecording(),void W.setState({editingLinearElement:new fe._(I[0],W.scene)});if(W.state.editingLinearElement&&W.state.editingLinearElement.elementId===I[0].id)return}(0,Io.z8)(W.interactiveCanvas);var G=(0,E.dE)(s,W.state),se=G.x,_e=G.y;if((0,Ge.iJ)(W.state).length>0){var he=W.getElementAtPosition(se,_e),$=he&&(0,Ge.YS)(he,W.state.selectedGroupIds);if($)return void W.setState(function(Ve){return fn(fn({},Ve),(0,Ge.bO)({editingGroupId:$,selectedElementIds:(0,L.Z)({},he.id,!0)},W.scene.getNonDeletedElements(),Ve,W))})}if((0,Io.z8)(W.interactiveCanvas),!s[B.tW.CTRL_OR_CMD]&&!W.state.viewModeEnabled){var ie=W.getElementAtPosition(se,_e);if((0,ne.gs)(ie))return void W.setState({activeEmbeddable:{element:ie,state:"active"}});var De=(0,It.OW)(W.scene.getNonDeletedElements(),W.state,se,_e);if(De&&((0,ne.Xo)(De)||!(0,E.Qm)(De.backgroundColor)||(0,Cl.Qu)(De,W.state,W.frameNameBoundsCache,[se,_e]))){var He=(0,It.TP)(De,W.state);se=He.x,_e=He.y}W.startTextEditing({sceneX:se,sceneY:_e,insertAtParentCenter:!s.altKey,container:De})}}},this.getElementLinkAtPosition=function(s,I){var G=W.scene.getNonDeletedElements().slice().reverse(),se=1/0;return G.find(function(_e,he){return I&&_e.id===I.id&&(se=he),_e.link&&he<=se&&(0,ps.Ni)(_e,W.state,[s.x,s.y],W.device.editor.isMobile)})},this.redirectToLink=function(s,I){var G=(0,Ie.LW)(W.lastPointerDownEvent.clientX,W.lastPointerDownEvent.clientY,W.lastPointerUpEvent.clientX,W.lastPointerUpEvent.clientY);if(!(!W.hitLinkElement||I&&G>v.f||!I&&G!==0)){var se=(0,E.dE)(W.lastPointerDownEvent,W.state),_e=(0,ps.Ni)(W.hitLinkElement,W.state,[se.x,se.y],W.device.editor.isMobile),he=(0,E.dE)(W.lastPointerUpEvent,W.state),$=(0,ps.Ni)(W.hitLinkElement,W.state,[he.x,he.y],W.device.editor.isMobile);if(_e&&$){var ie,De,He=W.hitLinkElement.link;if(He&&(He=(0,La.$u)(He),W.props.onLinkOpen&&(De=(0,E.ag)(v.Ks.EXCALIDRAW_LINK,s.nativeEvent),W.props.onLinkOpen(fn(fn({},W.hitLinkElement),{},{link:He}),De)),(ie=De)===null||ie===void 0||!ie.defaultPrevented)){var Ve=(0,La.q$)(He)?"_self":"_blank",lt=window.open(void 0,Ve);lt&&(lt.opener=null,lt.location=He)}}}},this.getTopLayerFrameAtSceneCoords=function(s){var I=W.scene.getNonDeletedFrames().filter(function(G){return(0,pi.Dn)(s,G)});return I.length?I[I.length-1]:null},this.handleCanvasPointerMove=function(s){W.savePointer(s.clientX,s.clientY,W.state.cursorButton),Zo.pointers.has(s.pointerId)&&Zo.pointers.set(s.pointerId,{x:s.clientX,y:s.clientY});var I=Zo.initialScale;if(Zo.pointers.size===2&&Zo.lastCenter&&I&&Zo.initialDistance){var G=oe(Zo.pointers),se=G.x-Zo.lastCenter.x,_e=G.y-Zo.lastCenter.y;Zo.lastCenter=G;var he=be(Array.from(Zo.pointers.values())),$=W.state.activeTool.type==="freedraw"&&W.state.penMode?1:he/Zo.initialDistance,ie=$?(0,Ee.j)(I*$):W.state.zoom.value;W.setState(function(Ro){var Do=(0,Z.E)({viewportX:G.x,viewportY:G.y,nextZoom:ie},Ro);W.translateCanvas({zoom:Do.zoom,scrollX:Do.scrollX+se/ie,scrollY:Do.scrollY+_e/ie,shouldCacheIgnoreZoom:!0})}),W.resetShouldCacheIgnoreZoomDebounced()}else Zo.lastCenter=Zo.initialDistance=Zo.initialScale=null;if(!(ea||Yi||_i||(0,D.l$)(W.state))){var De=(0,Ee._4)(Na,s.clientX-W.state.offsetLeft,s.clientY-W.state.offsetTop).isOverEither;W.state.draggingElement||W.state.multiElement||(De?(0,Io.z8)(W.interactiveCanvas):(0,Io.Uk)(W.interactiveCanvas,W.state));var He,Ve=(0,E.dE)(s,W.state),lt=Ve.x,dt=Ve.y;if(W.state.draggingElement||(He=W.state.activeTool.type)!=="rectangle"&&He!=="ellipse"&&He!=="diamond"&&He!=="frame"&&He!=="image")W.state.draggingElement||W.setState({snapLines:[]});else{var vt=function(Ro,Do,Eo,To){if(!ei({event:To,selectedElements:[],appState:Do}))return{originOffset:{x:0,y:0},snapLines:[]};var ho,po=(0,uo.CF)(Ro,[],Do),zo=sa(Do.zoom.value),Xi={x:zo,y:zo},Vn=[],Pn=[],yo=aa(po);try{for(yo.s();!(ho=yo.n()).done;){var Ho,oi=ho.value,li=aa(ha([oi]));try{for(li.s();!(Ho=li.n()).done;){var gi=Ho.value,jo=gi[0]-Eo.x;Math.abs(jo)<=Math.abs(Xi.x)&&(Math.abs(jo)<Math.abs(Xi.x)&&(Pn.length=0),Pn.push({type:"pointer",points:[gi,[gi[0],Eo.y]],direction:"vertical"}),Xi.x=jo);var ko=gi[1]-Eo.y;Math.abs(ko)<=Math.abs(Xi.y)&&(Math.abs(ko)<Math.abs(Xi.y)&&(Vn.length=0),Vn.push({type:"pointer",points:[gi,[Eo.x,gi[1]]],direction:"horizontal"}),Xi.y=ko)}}catch(xi){li.e(xi)}finally{li.f()}}}catch(xi){yo.e(xi)}finally{yo.f()}return{originOffset:{x:Pn.length>0?Pn[0].points[0][0]-Eo.x:0,y:Vn.length>0?Vn[0].points[0][1]-Eo.y:0},snapLines:[].concat(Pn,Vn)}}(W.scene.getNonDeletedElements(),W.state,{x:lt,y:dt},s),Ct=vt.originOffset,Mt=vt.snapLines;W.setState({snapLines:Mt,originSnapOffset:Ct})}if(W.state.editingLinearElement&&!W.state.editingLinearElement.isDragging){var Yt=fe._.handlePointerMove(s,lt,dt,W.state);Yt&&Yt!==W.state.editingLinearElement&&(0,ve.flushSync)(function(){W.setState({editingLinearElement:Yt})}),(Yt==null?void 0:Yt.lastUncommittedPoint)!=null?W.maybeSuggestBindingAtCursor(Ve):(0,ve.flushSync)(function(){W.setState({suggestedBindings:[]})})}if((0,ne.Lx)(W.state.activeTool.type)){var ar=W.state.draggingElement;(0,ne.Mn)(ar,!1)?W.maybeSuggestBindingsForLinearElementAtCoords(ar,[Ve],W.state.startBoundElement):W.maybeSuggestBindingAtCursor(Ve)}if(W.state.multiElement){var Bt=W.state.multiElement,zt=Bt.x,$t=Bt.y,dr=Bt.points,yr=Bt.lastCommittedPoint,lr=dr[dr.length-1];if((0,Io.Uk)(W.interactiveCanvas,W.state),lr===yr)(0,Ie.LW)(lt-zt,dt-$t,lr[0],lr[1])>=v.qx?(0,O.DR)(Bt,{points:[].concat((0,k.Z)(dr),[[lt-zt,dt-$t]])}):(0,Io.KJ)(W.interactiveCanvas,v.oc.POINTER);else if(dr.length>2&&yr&&(0,Ie.LW)(lt-zt,dt-$t,yr[0],yr[1])<v.qx)(0,Io.KJ)(W.interactiveCanvas,v.oc.POINTER),(0,O.DR)(Bt,{points:dr.slice(0,-1)});else{var nr,Tr=(0,Ie.wC)(lt,dt,s[B.tW.CTRL_OR_CMD]?null:W.state.gridSize),qr=(0,A.Z)(Tr,2),pn=qr[0],_n=qr[1],Nn=(nr=Bt==null?void 0:Bt.lastCommittedPoint)!==null&&nr!==void 0?nr:[0,0],Un=(0,A.Z)(Nn,2),kn=Un[0],vn=Un[1],An=pn-zt-kn,jn=_n-$t-vn;if((0,B.Ge)(s)){var qn=(0,de.o4)(kn+zt,vn+$t,pn,_n);An=qn.width,jn=qn.height}(0,Ie.g6)(dr,W.state.zoom.value)&&(0,Io.KJ)(W.interactiveCanvas,v.oc.POINTER),(0,O.DR)(Bt,{points:[].concat((0,k.Z)(dr.slice(0,-1)),[[kn+An,vn+jn]])})}}else if(!(s.buttons||W.state.activeTool.type!=="selection"&&W.state.activeTool.type!=="text"&&W.state.activeTool.type!=="eraser")){var oo=W.scene.getNonDeletedElements(),no=W.scene.getSelectedElements(W.state);if(no.length!==1||De||W.state.editingLinearElement){if(no.length>1&&!De){var so=(0,de.n2)((0,de.KP)(no),lt,dt,W.state.zoom,s.pointerType);if(so)return void(0,Io.KJ)(W.interactiveCanvas,(0,de.Un)({transformHandleType:so}))}}else{var zn=(0,de.jt)(oo,W.state,lt,dt,W.state.zoom,s.pointerType);if(zn&&zn.transformHandleType)return void(0,Io.KJ)(W.interactiveCanvas,(0,de.Un)(zn))}var Mn=W.getElementAtPosition(Ve.x,Ve.y);if(W.hitLinkElement=W.getElementLinkAtPosition(Ve,Mn),!(0,D.EN)(W.state))if(W.hitLinkElement&&!W.state.selectedElementIds[W.hitLinkElement.id])(0,Io.KJ)(W.interactiveCanvas,v.oc.POINTER),(0,ps.Pp)(W.hitLinkElement,W.state);else if((0,ps.lV)(),Mn&&(Mn.link||(0,ne.gs)(Mn))&&W.state.selectedElementIds[Mn.id]&&!W.state.contextMenu&&!W.state.showHyperlinkPopup)W.setState({showHyperlinkPopup:"info"});else if(W.state.activeTool.type==="text")(0,Io.KJ)(W.interactiveCanvas,(0,de.iB)(Mn)?v.oc.TEXT:v.oc.CROSSHAIR);else if(W.state.viewModeEnabled)(0,Io.KJ)(W.interactiveCanvas,v.oc.GRAB);else if(De)(0,Io.KJ)(W.interactiveCanvas,v.oc.AUTO);else if(W.state.selectedLinearElement)W.handleHoverSelectedLinearElement(W.state.selectedLinearElement,lt,dt);else if(s[B.tW.CTRL_OR_CMD])(0,Io.KJ)(W.interactiveCanvas,v.oc.AUTO);else{var Jn;(Mn||W.isHittingCommonBoundingBoxOfSelectedElements(Ve,no))&&(Mn==null||!Mn.locked)&&(Mn&&(0,ne.gs)(Mn)&&W.isEmbeddableCenter(Mn,s,lt,dt)?((0,Io.KJ)(W.interactiveCanvas,v.oc.POINTER),W.setState({activeEmbeddable:{element:Mn,state:"hover"}})):((0,Io.KJ)(W.interactiveCanvas,v.oc.MOVE),((Jn=W.state.activeEmbeddable)===null||Jn===void 0?void 0:Jn.state)==="hover"&&W.setState({activeEmbeddable:null})))}}}},this.handleEraser=function(s,I,G){for(var se=function(vt){vt.forEach(function(Ct){Ct.locked||(_e.push(Ct.id),s.altKey?I.elementIdsToErase[Ct.id]&&I.elementIdsToErase[Ct.id].erase&&(I.elementIdsToErase[Ct.id].erase=!1):I.elementIdsToErase[Ct.id]||(I.elementIdsToErase[Ct.id]={erase:!0,opacity:Ct.opacity}))})},_e=[],he=(0,Ie.LW)(I.lastCoords.x,I.lastCoords.y,G.x,G.y),$=10/W.state.zoom.value,ie=fn({},I.lastCoords),De=0;De<=he&&(se(W.getElementsAtPosition(ie.x,ie.y)),De!==he);){var He=(De=Math.min(De+$,he))/he,Ve=(1-He)*ie.x+He*G.x,lt=(1-He)*ie.y+He*G.y;ie.x=Ve,ie.y=lt}var dt=W.scene.getElementsIncludingDeleted().map(function(vt){var Ct=(0,ne.Xh)(vt)&&_e.includes(vt.containerId)?vt.containerId:vt.id;if(_e.includes(Ct)){if(!s.altKey)return(0,O.BE)(vt,{opacity:v.xY});if(I.elementIdsToErase[Ct]&&I.elementIdsToErase[Ct].erase===!1)return(0,O.BE)(vt,{opacity:I.elementIdsToErase[Ct].opacity})}return vt});W.scene.replaceAllElements(dt),I.lastCoords.x=G.x,I.lastCoords.y=G.y},this.handleTouchMove=function(s){rs=!0},this.handleCanvasPointerDown=function(s){var I,G;if(W.state.contextMenu&&W.setState({contextMenu:null}),W.state.snapLines&&W.setAppState({snapLines:[]}),W.updateGestureOnPointerDown(s),s.pointerType==="touch"&&W.state.draggingElement&&W.state.draggingElement.type==="freedraw"){var se=W.state.draggingElement;W.updateScene(fn(fn({},se.points.length<10?{elements:W.scene.getElementsIncludingDeleted().filter(function(Mt){return Mt.id!==se.id})}:{}),{},{appState:{draggingElement:null,editingElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:(0,uo.Oh)(Object.keys(W.state.selectedElementIds).filter(function(Mt){return Mt!==se.id}).reduce(function(Mt,Yt){return Mt[Yt]=W.state.selectedElementIds[Yt],Mt},{}),W.state)}}))}else{var _e=document.getSelection();if(_e!=null&&_e.anchorNode&&_e.removeAllRanges(),W.maybeOpenContextMenuAfterPointerDownOnTouchDevices(s),W.maybeCleanupAfterMissingPointerUp(s),W.state.penDetected||s.pointerType!=="pen"||W.setState(function(Mt){return{penMode:!0,penDetected:!0}}),!W.device.isTouchScreen&&["pen","touch"].includes(s.pointerType)&&(W.device=(0,E.v4)(W.device,{isTouchScreen:!0})),!(Yi||(W.lastPointerDownEvent=s,W.handleCanvasPanUsingWheelOrSpaceDrag(s)||(W.setState({lastPointerDownWith:s.pointerType,cursorButton:"down"}),W.savePointer(s.clientX,s.clientY,"down"),s.button!==v.Oh.MAIN&&s.button!==v.Oh.TOUCH||Zo.pointers.size>1)))){var he=W.initialPointerDownState(s);if(W.setState({selectedElementsAreBeingDragged:!1}),!W.handleDraggingScrollBar(s,he)&&(W.clearSelectionIfNotUsingSelection(),W.updateBindingEnabledOnPointerMove(s),!W.handleSelectionOnPointerDown(s,he)&&(!W.state.penMode||s.pointerType!=="touch"||W.state.activeTool.type==="selection"||W.state.activeTool.type==="text"||W.state.activeTool.type==="image")))if(W.state.activeTool.type!=="text"){if(W.state.activeTool.type==="arrow"||W.state.activeTool.type==="line")W.handleLinearElementOnPointerDown(s,W.state.activeTool.type,he);else if(W.state.activeTool.type==="image"){(0,Io.KJ)(W.interactiveCanvas,v.oc.CROSSHAIR);var $=W.state.pendingImageElementId&&W.scene.getElement(W.state.pendingImageElementId);if(!$)return;W.setState({draggingElement:$,editingElement:$,pendingImageElementId:null,multiElement:null});var ie=(0,E.dE)(s,W.state),De=ie.x,He=ie.y,Ve=W.getTopLayerFrameAtSceneCoords({x:De,y:He});(0,O.DR)($,{x:De,y:He,frameId:Ve?Ve.id:null})}else W.state.activeTool.type==="freedraw"?W.handleFreeDrawElementOnPointerDown(s,W.state.activeTool.type,he):W.state.activeTool.type==="custom"?(0,Io.Uk)(W.interactiveCanvas,W.state):W.state.activeTool.type==="frame"?W.createFrameElementOnPointerDown(he):W.state.activeTool.type==="laser"?W.laserPathManager.startPath(he.lastCoords.x,he.lastCoords.y):W.state.activeTool.type!=="eraser"&&W.state.activeTool.type!=="hand"&&W.createGenericElementOnPointerDown(W.state.activeTool.type,he);(I=W.props)===null||I===void 0||(G=I.onPointerDown)===null||G===void 0||G.call(I,W.state.activeTool,he),W.onPointerDownEmitter.trigger(W.state.activeTool,he,s);var lt=W.onPointerMoveFromPointerDownHandler(he),dt=W.onPointerUpFromPointerDownHandler(he),vt=W.onKeyDownFromPointerDownHandler(he),Ct=W.onKeyUpFromPointerDownHandler(he);Vs=dt,W.state.viewModeEnabled&&W.state.activeTool.type!=="laser"||(window.addEventListener(v.Ks.POINTER_MOVE,lt),window.addEventListener(v.Ks.POINTER_UP,dt),window.addEventListener(v.Ks.KEYDOWN,vt),window.addEventListener(v.Ks.KEYUP,Ct),he.eventListeners.onMove=lt,he.eventListeners.onUp=dt,he.eventListeners.onKeyUp=Ct,he.eventListeners.onKeyDown=vt)}else W.handleTextOnPointerDown(s,he)}}},this.handleCanvasPointerUp=function(s){var I,G;W.removePointer(s),W.lastPointerUpEvent=s;var se=(0,E.dE)({clientX:s.clientX,clientY:s.clientY},W.state),_e=s.timeStamp-((I=(G=W.lastPointerDownEvent)===null||G===void 0?void 0:G.timeStamp)!==null&&I!==void 0?I:0);if(W.device.editor.isMobile&&_e<300){var he=W.getElementAtPosition(se.x,se.y);if((0,ne.gs)(he)&&W.isEmbeddableCenter(he,s,se.x,se.y))return void W.handleEmbeddableCenterClick(he)}if(W.device.isTouchScreen){var $=W.getElementAtPosition(se.x,se.y);W.hitLinkElement=W.getElementLinkAtPosition(se,$)}W.hitLinkElement&&!W.state.selectedElementIds[W.hitLinkElement.id]?_e<300&&W.hitLinkElement.type==="embeddable"&&!(0,ps.wq)(W.hitLinkElement,W.state,[se.x,se.y])?W.handleEmbeddableCenterClick(W.hitLinkElement):W.redirectToLink(s,W.device.isTouchScreen):W.state.viewModeEnabled&&W.setState({activeEmbeddable:null,selectedElementIds:{}})},this.maybeOpenContextMenuAfterPointerDownOnTouchDevices=function(s){s.pointerType==="touch"&&(rs=!1,Ts?rs=!0:Ts=window.setTimeout(function(){Ts=0,rs||W.handleCanvasContextMenu(s)},v.nM))},this.resetContextMenuTimer=function(){clearTimeout(Ts),Ts=0,rs=!1},this.handleCanvasPanUsingWheelOrSpaceDrag=function(s){if(!(Zo.pointers.size<=1&&(s.button===v.Oh.WHEEL||s.button===v.Oh.MAIN&&ea||(0,D.l$)(W.state)||W.state.viewModeEnabled))||(0,de.iB)(W.state.editingElement))return!1;Yi=!0,s.preventDefault();var I=!1,G=/Linux/.test(window.navigator.platform);(0,Io.KJ)(W.interactiveCanvas,v.oc.GRABBING);var se=s.clientX,_e=s.clientY,he=(0,E.$9)(function(ie){var De=se-ie.clientX,He=_e-ie.clientY;if(se=ie.clientX,_e=ie.clientY,G&&!I&&(Math.abs(De)>1||Math.abs(He)>1)){I=!0;var Ve=function lt(dt){document.body.removeEventListener(v.Ks.PASTE,lt),dt.stopPropagation()};document.body.addEventListener(v.Ks.PASTE,Ve),window.addEventListener(v.Ks.POINTER_UP,function lt(){setTimeout(function(){document.body.removeEventListener(v.Ks.PASTE,Ve),window.removeEventListener(v.Ks.POINTER_UP,lt)},100)})}W.translateCanvas({scrollX:W.state.scrollX-De/W.state.zoom.value,scrollY:W.state.scrollY-He/W.state.zoom.value})}),$=(0,E.tH)(Vs=function(){Vs=null,Yi=!1,ea||(W.state.viewModeEnabled?(0,Io.KJ)(W.interactiveCanvas,v.oc.GRAB):(0,Io.Uk)(W.interactiveCanvas,W.state)),W.setState({cursorButton:"up"}),W.savePointer(s.clientX,s.clientY,"up"),window.removeEventListener(v.Ks.POINTER_MOVE,he),window.removeEventListener(v.Ks.POINTER_UP,$),window.removeEventListener(v.Ks.BLUR,$),he.flush()});return window.addEventListener(v.Ks.BLUR,$),window.addEventListener(v.Ks.POINTER_MOVE,he,{passive:!0}),window.addEventListener(v.Ks.POINTER_UP,$),!0},this.clearSelectionIfNotUsingSelection=function(){W.state.activeTool.type!=="selection"&&W.setState({selectedElementIds:(0,uo.Oh)({},W.state),selectedGroupIds:{},editingGroupId:null,activeEmbeddable:null})},this.handleSelectionOnPointerDown=function(s,I){if(W.state.activeTool.type==="selection"){var G=W.scene.getNonDeletedElements(),se=W.scene.getSelectedElements(W.state);if(se.length!==1||W.state.editingLinearElement)se.length>1&&(I.resize.handleType=(0,de.n2)((0,de.KP)(se),I.origin.x,I.origin.y,W.state.zoom,s.pointerType));else{var _e=(0,de.jt)(G,W.state,I.origin.x,I.origin.y,W.state.zoom,s.pointerType);_e!=null&&(W.setState({resizingElement:_e.element}),I.resize.handleType=_e.transformHandleType)}if(I.resize.handleType)I.resize.isResizing=!0,I.resize.offset=(0,E.AK)((0,de.xx)(I.resize.handleType,se,I.origin.x,I.origin.y)),se.length===1&&(0,ne.bt)(se[0])&&se[0].points.length===2&&(I.resize.arrowDirection=(0,de.T)(I.resize.handleType,se[0]));else{var he;if(W.state.selectedLinearElement){var $=W.state.editingLinearElement||W.state.selectedLinearElement,ie=fe._.handlePointerDown(s,W.state,W.history,I.origin,$);if(ie.hitElement&&(I.hit.element=ie.hitElement),ie.linearElementEditor&&(W.setState({selectedLinearElement:ie.linearElementEditor}),W.state.editingLinearElement&&W.setState({editingLinearElement:ie.linearElementEditor})),ie.didAddPoint)return!0}if(I.hit.element=(he=I.hit.element)!==null&&he!==void 0?he:W.getElementAtPosition(I.origin.x,I.origin.y),I.hit.element&&W.getElementLinkAtPosition({x:I.origin.x,y:I.origin.y},I.hit.element))return!1;I.hit.allHitElements=W.getElementsAtPosition(I.origin.x,I.origin.y);var De=I.hit.element,He=I.hit.allHitElements.some(function(Ve){return W.isASelectedElement(Ve)});if(De!==null&&He||s.shiftKey||I.hit.hasHitCommonBoundingBoxOfSelectedElements||W.clearSelection(De),W.state.editingLinearElement)W.setState({selectedElementIds:(0,uo.Oh)((0,L.Z)({},W.state.editingLinearElement.elementId,!0),W.state)});else if(De!=null){if(s[B.tW.CTRL_OR_CMD])return W.state.selectedElementIds[De.id]||(I.hit.wasAddedToSelection=!0),W.setState(function(Ve){return fn(fn({},(0,Ge.iE)(Ve,De)),{},{previousSelectedElementIds:W.state.selectedElementIds})}),!1;W.state.selectedElementIds[De.id]||(W.state.editingGroupId&&!(0,Ge.Nd)(De,W.state.editingGroupId)&&W.setState({selectedElementIds:(0,uo.Oh)({},W.state),selectedGroupIds:{},editingGroupId:null,activeEmbeddable:null}),He||I.hit.hasHitCommonBoundingBoxOfSelectedElements||(W.setState(function(Ve){var lt=fn(fn({},Ve.selectedElementIds),{},(0,L.Z)({},De.id,!0)),dt=[];if(Object.keys(Ve.selectedElementIds).forEach(function(Mt){var Yt=W.scene.getElement(Mt);Yt&&dt.push(Yt)}),De.type==="frame")(0,pi.zD)(dt,De.id).forEach(function(Mt){delete lt[Mt.id]});else if(De.frameId)lt[De.frameId]&&delete lt[De.id];else{var vt=De.groupIds,Ct=new Set(vt.flatMap(function(Mt){return(0,Ge.Fb)(W.scene.getNonDeletedElements(),Mt)}).filter(function(Mt){return Mt.type==="frame"}).map(function(Mt){return Mt.id}));Ct.size>0&&dt.forEach(function(Mt){Mt.frameId&&Ct.has(Mt.frameId)&&(delete lt[Mt.id],Mt.groupIds.flatMap(function(Yt){return(0,Ge.Fb)(W.scene.getNonDeletedElements(),Yt)}).forEach(function(Yt){delete lt[Yt.id]}))})}return fn(fn({},(0,Ge.bO)({editingGroupId:Ve.editingGroupId,selectedElementIds:lt},W.scene.getNonDeletedElements(),Ve,W)),{},{showHyperlinkPopup:!(!De.link&&!(0,ne.gs)(De))&&"info"})}),I.hit.wasAddedToSelection=!0))}W.setState({previousSelectedElementIds:W.state.selectedElementIds})}}return!1},this.handleTextOnPointerDown=function(s,I){if(!(0,de.iB)(W.state.editingElement)){var G=I.origin.x,se=I.origin.y,_e=W.getElementAtPosition(G,se,{includeBoundTextElement:!0}),he=(0,It.OW)(W.scene.getNonDeletedElements(),W.state,G,se);(0,ne.Xo)(_e)&&(he=_e,G=_e.x+_e.width/2,se=_e.y+_e.height/2),W.startTextEditing({sceneX:G,sceneY:se,insertAtParentCenter:!s.altKey,container:he}),(0,Io.z8)(W.interactiveCanvas),W.state.activeTool.locked||W.setState({activeTool:(0,E.Om)(W.state,{type:"selection"})})}},this.handleFreeDrawElementOnPointerDown=function(s,I,G){var se=(0,Ie.wC)(G.origin.x,G.origin.y,null),_e=(0,A.Z)(se,2),he=_e[0],$=_e[1],ie=W.getTopLayerFrameAtSceneCoords({x:he,y:$}),De=(0,pe.KE)({type:I,x:he,y:$,strokeColor:W.state.currentItemStrokeColor,backgroundColor:W.state.currentItemBackgroundColor,fillStyle:W.state.currentItemFillStyle,strokeWidth:W.state.currentItemStrokeWidth,strokeStyle:W.state.currentItemStrokeStyle,roughness:W.state.currentItemRoughness,opacity:W.state.currentItemOpacity,roundness:null,simulatePressure:s.pressure===.5,locked:!1,frameId:ie?ie.id:null});W.setState(function(lt){var dt=fn({},lt.selectedElementIds);return delete dt[De.id],{selectedElementIds:(0,uo.Oh)(dt,lt)}});var He=De.simulatePressure?De.pressures:[].concat((0,k.Z)(De.pressures),[s.pressure]);(0,O.DR)(De,{points:[[0,0]],pressures:He});var Ve=(0,R.Y9)(G.origin,W.scene);W.scene.addNewElement(De),W.setState({draggingElement:De,editingElement:De,startBoundElement:Ve,suggestedBindings:[]})},this.insertEmbeddableElement=function(s){var I,G=s.sceneX,se=s.sceneY,_e=s.link,he=(0,Ie.wC)(G,se,(I=W.lastPointerDownEvent)!==null&&I!==void 0&&I[B.tW.CTRL_OR_CMD]?null:W.state.gridSize),$=(0,A.Z)(he,2),ie=$[0],De=$[1],He=(0,g.LM)(_e);if(He){He.warning&&W.setToast({message:He.warning,closable:!0});var Ve=(0,pe.M)({type:"embeddable",x:ie,y:De,strokeColor:"transparent",backgroundColor:"transparent",fillStyle:W.state.currentItemFillStyle,strokeWidth:W.state.currentItemStrokeWidth,strokeStyle:W.state.currentItemStrokeStyle,roughness:W.state.currentItemRoughness,roundness:W.getCurrentItemRoundness("embeddable"),opacity:W.state.currentItemOpacity,locked:!1,width:He.aspectRatio.w,height:He.aspectRatio.h,link:_e,validated:null});return W.scene.replaceAllElements([].concat((0,k.Z)(W.scene.getElementsIncludingDeleted()),[Ve])),Ve}},this.createImageElement=function(s){var I,G=s.sceneX,se=s.sceneY,_e=s.addToFrameUnderCursor,he=_e===void 0||_e,$=(0,Ie.wC)(G,se,(I=W.lastPointerDownEvent)!==null&&I!==void 0&&I[B.tW.CTRL_OR_CMD]?null:W.state.gridSize),ie=(0,A.Z)($,2),De=ie[0],He=ie[1],Ve=he?W.getTopLayerFrameAtSceneCoords({x:De,y:He}):null;return(0,de.vw)({type:"image",x:De,y:He,strokeColor:W.state.currentItemStrokeColor,backgroundColor:W.state.currentItemBackgroundColor,fillStyle:W.state.currentItemFillStyle,strokeWidth:W.state.currentItemStrokeWidth,strokeStyle:W.state.currentItemStrokeStyle,roughness:W.state.currentItemRoughness,roundness:null,opacity:W.state.currentItemOpacity,locked:!1,frameId:Ve?Ve.id:null})},this.handleLinearElementOnPointerDown=function(s,I,G){if(W.state.multiElement){var se=W.state.multiElement;if(se.type==="line"&&(0,Ie.g6)(se.points,W.state.zoom.value))return(0,O.DR)(se,{lastCommittedPoint:se.points[se.points.length-1]}),void W.actionManager.executeAction(J.pL);var _e=se.x,he=se.y,$=se.lastCommittedPoint;if(se.points.length>1&&$&&(0,Ie.LW)(G.origin.x-_e,G.origin.y-he,$[0],$[1])<v.qx)return void W.actionManager.executeAction(J.pL);W.setState(function(dr){return{selectedElementIds:(0,uo.Oh)(fn(fn({},dr.selectedElementIds),{},(0,L.Z)({},se.id,!0)),dr)}}),(0,O.DR)(se,{lastCommittedPoint:se.points[se.points.length-1]}),(0,Io.KJ)(W.interactiveCanvas,v.oc.POINTER)}else{var ie=(0,Ie.wC)(G.origin.x,G.origin.y,s[B.tW.CTRL_OR_CMD]?null:W.state.gridSize),De=(0,A.Z)(ie,2),He=De[0],Ve=De[1],lt=W.getTopLayerFrameAtSceneCoords({x:He,y:Ve}),dt=W.state,vt=dt.currentItemStartArrowhead,Ct=dt.currentItemEndArrowhead,Mt=I==="arrow"?[vt,Ct]:[null,null],Yt=(0,A.Z)(Mt,2),ar=Yt[0],Bt=Yt[1],zt=(0,de.y8)({type:I,x:He,y:Ve,strokeColor:W.state.currentItemStrokeColor,backgroundColor:W.state.currentItemBackgroundColor,fillStyle:W.state.currentItemFillStyle,strokeWidth:W.state.currentItemStrokeWidth,strokeStyle:W.state.currentItemStrokeStyle,roughness:W.state.currentItemRoughness,opacity:W.state.currentItemOpacity,roundness:W.state.currentItemRoundness==="round"?{type:v.a6.PROPORTIONAL_RADIUS}:null,startArrowhead:ar,endArrowhead:Bt,locked:!1,frameId:lt?lt.id:null});W.setState(function(dr){var yr=fn({},dr.selectedElementIds);return delete yr[zt.id],{selectedElementIds:(0,uo.Oh)(yr,dr)}}),(0,O.DR)(zt,{points:[].concat((0,k.Z)(zt.points),[[0,0]])});var $t=(0,R.Y9)(G.origin,W.scene);W.scene.addNewElement(zt),W.setState({draggingElement:zt,editingElement:zt,startBoundElement:$t,suggestedBindings:[]})}},this.createGenericElementOnPointerDown=function(s,I){var G,se,_e=(0,Ie.wC)(I.origin.x,I.origin.y,(G=W.lastPointerDownEvent)!==null&&G!==void 0&&G[B.tW.CTRL_OR_CMD]?null:W.state.gridSize),he=(0,A.Z)(_e,2),$=he[0],ie=he[1],De=W.getTopLayerFrameAtSceneCoords({x:$,y:ie}),He={x:$,y:ie,strokeColor:W.state.currentItemStrokeColor,backgroundColor:W.state.currentItemBackgroundColor,fillStyle:W.state.currentItemFillStyle,strokeWidth:W.state.currentItemStrokeWidth,strokeStyle:W.state.currentItemStrokeStyle,roughness:W.state.currentItemRoughness,opacity:W.state.currentItemOpacity,roundness:W.getCurrentItemRoundness(s),locked:!1,frameId:De?De.id:null};(se=s==="embeddable"?(0,pe.M)(fn({type:"embeddable",validated:null},He)):(0,de.Up)(fn({type:s},He))).type==="selection"?W.setState({selectionElement:se,draggingElement:se}):(W.scene.addNewElement(se),W.setState({multiElement:null,draggingElement:se,editingElement:se}))},this.createFrameElementOnPointerDown=function(s){var I,G=(0,Ie.wC)(s.origin.x,s.origin.y,(I=W.lastPointerDownEvent)!==null&&I!==void 0&&I[B.tW.CTRL_OR_CMD]?null:W.state.gridSize),se=(0,A.Z)(G,2),_e=se[0],he=se[1],$=(0,pe.M3)(fn({x:_e,y:he,opacity:W.state.currentItemOpacity,locked:!1},v.iG));W.scene.replaceAllElements([].concat((0,k.Z)(W.scene.getElementsIncludingDeleted()),[$])),W.setState({multiElement:null,draggingElement:$,editingElement:$})},this.restoreReadyToEraseElements=function(s){var I=W.scene.getElementsIncludingDeleted().map(function(G){return s.elementIdsToErase[G.id]&&s.elementIdsToErase[G.id].erase?(0,O.BE)(G,{opacity:s.elementIdsToErase[G.id].opacity}):(0,ne.Xh)(G)&&s.elementIdsToErase[G.containerId]&&s.elementIdsToErase[G.containerId].erase?(0,O.BE)(G,{opacity:s.elementIdsToErase[G.containerId].opacity}):G.frameId&&s.elementIdsToErase[G.frameId]&&s.elementIdsToErase[G.frameId].erase?(0,O.BE)(G,{opacity:s.elementIdsToErase[G.frameId].opacity}):G});W.scene.replaceAllElements(I)},this.eraseElements=function(s){var I=W.scene.getElementsIncludingDeleted().map(function(G){return s.elementIdsToErase[G.id]&&s.elementIdsToErase[G.id].erase||(0,ne.Xh)(G)&&s.elementIdsToErase[G.containerId]&&s.elementIdsToErase[G.containerId].erase||G.frameId&&s.elementIdsToErase[G.frameId]&&s.elementIdsToErase[G.frameId].erase?(0,O.BE)(G,{isDeleted:!0}):G});W.history.resumeRecording(),W.scene.replaceAllElements(I)},this.initializeImage=function(){var s=(0,b.Z)(x().mark(function I(G){var se,_e,he,$,ie,De,He,Ve,lt,dt,vt,Ct,Mt,Yt,ar;return x().wrap(function(Bt){for(;;)switch(Bt.prev=Bt.next){case 0:if($=G.imageFile,ie=G.imageElement,De=G.showCursorImagePreview,He=De!==void 0&&De,(0,cr.Wr)($)){Bt.next=3;break}throw new Error((0,T.t)("errors.unsupportedFileType"));case 3:if(Ve=$.type,(0,Io.KJ)(W.interactiveCanvas,"wait"),Ve!==v.LO.svg){Bt.next=23;break}return Bt.prev=6,Bt.t0=cr.Pn,Bt.t1=hs.bp,Bt.next=11,$.text();case 11:return Bt.t2=Bt.sent,Bt.next=14,(0,Bt.t1)(Bt.t2);case 14:Bt.t3=Bt.sent,Bt.t4=$.name,$=(0,Bt.t0)(Bt.t3,Bt.t4),Bt.next=23;break;case 19:throw Bt.prev=19,Bt.t5=Bt.catch(6),console.warn(Bt.t5),new Error((0,T.t)("errors.svgImageInsertError"));case 23:return Bt.next=25,((se=(_e=W.props).generateIdForFile)===null||se===void 0?void 0:se.call(_e,$))||(0,cr.tW)($);case 25:if(lt=Bt.sent){Bt.next=29;break}throw console.warn("Couldn't generate file id or the supplied `generateIdForFile` didn't resolve to one."),new Error((0,T.t)("errors.imageInsertError"));case 29:if((dt=W.files[lt])!=null&&dt.dataURL){Bt.next=42;break}return Bt.prev=31,Bt.next=34,(0,cr.Tu)($,{maxWidthOrHeight:v.h6});case 34:$=Bt.sent,Bt.next=40;break;case 37:Bt.prev=37,Bt.t6=Bt.catch(31),console.error("error trying to resing image file on insertion",Bt.t6);case 40:if(!($.size>v.$n)){Bt.next=42;break}throw new Error((0,T.t)("errors.fileTooBig",{maxSize:"".concat(Math.trunc(v.$n/1024/1024),"MB")}));case 42:if(He&&(Ct=(vt=W.files[lt])===null||vt===void 0?void 0:vt.dataURL,Mt=Ct&&(0,cr.KG)(Ct),W.setImagePreviewCursor(Mt||$)),Bt.t7=(he=W.files[lt])===null||he===void 0?void 0:he.dataURL,Bt.t7){Bt.next=48;break}return Bt.next=47,(0,cr.Sf)($);case 47:Bt.t7=Bt.sent;case 48:return Yt=Bt.t7,ar=(0,O.DR)(ie,{fileId:lt},!1),Bt.abrupt("return",new Promise(function(){var zt=(0,b.Z)(x().mark(function $t(dr,yr){var lr,nr;return x().wrap(function(Tr){for(;;)switch(Tr.prev=Tr.next){case 0:if(Tr.prev=0,W.files=fn(fn({},W.files),{},(0,L.Z)({},lt,{mimeType:Ve,id:lt,dataURL:Yt,created:Date.now(),lastRetrieved:Date.now()})),nr=W.imageCache.get(lt)){Tr.next=7;break}return W.addNewImagesToImageCache(),Tr.next=7,W.updateImageCache([ar]);case 7:if(!((nr==null?void 0:nr.image)instanceof Promise)){Tr.next=10;break}return Tr.next=10,nr.image;case 10:W.state.pendingImageElementId!==ar.id&&((lr=W.state.draggingElement)===null||lr===void 0?void 0:lr.id)!==ar.id&&W.initializeImageDimensions(ar,!0),dr(ar),Tr.next=18;break;case 14:Tr.prev=14,Tr.t0=Tr.catch(0),console.error(Tr.t0),yr(new Error((0,T.t)("errors.imageInsertError")));case 18:return Tr.prev=18,He||(0,Io.z8)(W.interactiveCanvas),Tr.finish(18);case 21:case"end":return Tr.stop()}},$t,null,[[0,14,18,21]])}));return function($t,dr){return zt.apply(this,arguments)}}()));case 51:case"end":return Bt.stop()}},I,null,[[6,19],[31,37]])}));return function(I){return s.apply(this,arguments)}}(),this.insertImageElement=function(){var s=(0,b.Z)(x().mark(function I(G,se,_e){return x().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:if(W.isToolSupported("image")){he.next=3;break}return W.setState({errorMessage:(0,T.t)("errors.imageToolNotSupported")}),he.abrupt("return");case 3:return W.scene.addNewElement(G),he.prev=4,he.next=7,W.initializeImage({imageFile:se,imageElement:G,showCursorImagePreview:_e});case 7:return he.abrupt("return",he.sent);case 10:return he.prev=10,he.t0=he.catch(4),(0,O.DR)(G,{isDeleted:!0}),W.actionManager.executeAction(J.pL),W.setState({errorMessage:he.t0.message||(0,T.t)("errors.imageInsertError")}),he.abrupt("return",null);case 16:case"end":return he.stop()}},I,null,[[4,10]])}));return function(I,G,se){return s.apply(this,arguments)}}(),this.setImagePreviewCursor=function(){var s=(0,b.Z)(x().mark(function I(G){var se,_e,he,$,ie,De,He;return x().wrap(function(Ve){for(;;)switch(Ve.prev=Ve.next){case 0:return se=96,Ve.next=3,(0,cr.Tu)(G,{maxWidthOrHeight:se});case 3:return _e=Ve.sent,Ve.next=6,(0,cr.Sf)(_e);case 6:if(he=Ve.sent,G.type!==v.LO.svg){Ve.next=20;break}return Ve.next=10,(0,hs.PK)(he);case 10:$=Ve.sent,ie=Math.min($.height,se),(De=ie*($.width/$.height))>se&&(ie=(De=se)*($.height/$.width)),(He=document.createElement("canvas")).height=ie,He.width=De,He.getContext("2d").drawImage($,0,0,De,ie),he=He.toDataURL(v.LO.svg);case 20:W.state.pendingImageElementId&&(0,Io.KJ)(W.interactiveCanvas,"url(".concat(he,") 4 4, auto"));case 21:case"end":return Ve.stop()}},I)}));return function(I){return s.apply(this,arguments)}}(),this.onImageAction=function(){var s=(0,b.Z)(x().mark(function I(G){var se,_e,he,$,ie,De,He,Ve;return x().wrap(function(lt){for(;;)switch(lt.prev=lt.next){case 0:return se=G.insertOnCanvasDirectly,lt.prev=1,_e=W.state.width/2+W.state.offsetLeft,he=W.state.height/2+W.state.offsetTop,$=(0,E.dE)({clientX:_e,clientY:he},W.state),ie=$.x,De=$.y,lt.next=7,(0,Sr.I$)({description:"Image",extensions:Object.keys(v.KL)});case 7:He=lt.sent,Ve=W.createImageElement({sceneX:ie,sceneY:De,addToFrameUnderCursor:!1}),se?(W.insertImageElement(Ve,He),W.initializeImageDimensions(Ve),W.setState({selectedElementIds:(0,uo.Oh)((0,L.Z)({},Ve.id,!0),W.state)},function(){W.actionManager.executeAction(J.pL)})):W.setState({pendingImageElementId:Ve.id},function(){W.insertImageElement(Ve,He,!0)}),lt.next=16;break;case 12:lt.prev=12,lt.t0=lt.catch(1),lt.t0.name!=="AbortError"?console.error(lt.t0):console.warn(lt.t0),W.setState({pendingImageElementId:null,editingElement:null,activeTool:(0,E.Om)(W.state,{type:"selection"})},function(){W.actionManager.executeAction(J.pL)});case 16:case"end":return lt.stop()}},I,null,[[1,12]])}));return function(I){return s.apply(this,arguments)}}(),this.initializeImageDimensions=function(s){var I,G=arguments.length>1&&arguments[1]!==void 0&&arguments[1],se=(0,ne.wi)(s)&&((I=W.imageCache.get(s.fileId))===null||I===void 0?void 0:I.image);if(!se||se instanceof Promise){if(s.width<v.f/W.state.zoom.value&&s.height<v.f/W.state.zoom.value){var _e=100/W.state.zoom.value;(0,O.DR)(s,{x:s.x-_e/2,y:s.y-_e/2,width:_e,height:_e})}}else if(G||s.width<v.f/W.state.zoom.value&&s.height<v.f/W.state.zoom.value){var he=Math.max(W.state.height-120,160),$=Math.min(he,Math.floor(.5*W.state.height)/W.state.zoom.value),ie=Math.min(se.naturalHeight,$),De=ie*(se.naturalWidth/se.naturalHeight),He=s.x+s.width/2-De/2,Ve=s.y+s.height/2-ie/2;(0,O.DR)(s,{x:He,y:Ve,width:De,height:ie})}},this.updateImageCache=function(){var s=(0,b.Z)(x().mark(function I(G){var se,_e,he,$,ie,De,He,Ve=arguments;return x().wrap(function(lt){for(;;)switch(lt.prev=lt.next){case 0:return se=Ve.length>1&&Ve[1]!==void 0?Ve[1]:W.files,lt.next=3,(0,hs.Xx)({imageCache:W.imageCache,fileIds:G.map(function(dt){return dt.fileId}),files:se});case 3:if(_e=lt.sent,he=_e.updatedFiles,$=_e.erroredFiles,he.size||$.size){ie=Ko(G);try{for(ie.s();!(De=ie.n()).done;)He=De.value,he.has(He.fileId)&&Ai.R.delete(He)}catch(dt){ie.e(dt)}finally{ie.f()}}return $.size&&W.scene.replaceAllElements(W.scene.getElementsIncludingDeleted().map(function(dt){return(0,ne.wi)(dt)&&$.has(dt.fileId)?(0,O.BE)(dt,{status:"error"}):dt})),lt.abrupt("return",{updatedFiles:he,erroredFiles:$});case 9:case"end":return lt.stop()}},I)}));return function(I){return s.apply(this,arguments)}}(),this.addNewImagesToImageCache=(0,b.Z)(x().mark(function s(){var I,G,se,_e,he=arguments;return x().wrap(function($){for(;;)switch($.prev=$.next){case 0:if(I=he.length>0&&he[0]!==void 0?he[0]:(0,hs.oA)(W.scene.getNonDeletedElements()),G=he.length>1&&he[1]!==void 0?he[1]:W.files,!(se=I.filter(function(ie){return!ie.isDeleted&&!W.imageCache.has(ie.fileId)})).length){$.next=9;break}return $.next=6,W.updateImageCache(se,G);case 6:_e=$.sent,_e.updatedFiles.size&&W.scene.informMutation();case 9:case"end":return $.stop()}},s)})),this.scheduleImageRefresh=Sl()(function(){W.addNewImagesToImageCache()},v.LL),this.updateBindingEnabledOnPointerMove=function(s){var I=(0,R.cz)(s);W.state.isBindingEnabled!==I&&W.setState({isBindingEnabled:I})},this.maybeSuggestBindingAtCursor=function(s){var I=(0,R.Y9)(s,W.scene);W.setState({suggestedBindings:I!=null?[I]:[]})},this.maybeSuggestBindingsForLinearElementAtCoords=function(s,I,G){if(I.length){var se=I.reduce(function(_e,he){var $=(0,R.Y9)(he,W.scene);return $==null||(0,R.DK)(s,G==null?void 0:G.id,$)||_e.push($),_e},[]);W.setState({suggestedBindings:se})}},this.handleInteractiveCanvasRef=function(s){var I,G,se;s!==null?(W.interactiveCanvas=s,W.interactiveCanvas.addEventListener(v.Ks.WHEEL,W.handleWheel),W.interactiveCanvas.addEventListener(v.Ks.TOUCH_START,W.onTouchStart),W.interactiveCanvas.addEventListener(v.Ks.TOUCH_END,W.onTouchEnd)):((I=W.interactiveCanvas)===null||I===void 0||I.removeEventListener(v.Ks.WHEEL,W.handleWheel),(G=W.interactiveCanvas)===null||G===void 0||G.removeEventListener(v.Ks.TOUCH_START,W.onTouchStart),(se=W.interactiveCanvas)===null||se===void 0||se.removeEventListener(v.Ks.TOUCH_END,W.onTouchEnd))},this.handleAppOnDrop=function(){var s=(0,b.Z)(x().mark(function I(G){var se,_e,he,$,ie,De,He,Ve,lt,dt,vt,Ct,Mt,Yt,ar,Bt;return x().wrap(function(zt){for(;;)switch(zt.prev=zt.next){case 0:return zt.next=2,(0,cr.bv)(G);case 2:if(he=zt.sent,$=he.file,ie=he.fileHandle,De=(0,E.dE)(G,W.state),He=De.x,Ve=De.y,zt.prev=6,!(0,cr.Wr)($)||!W.isToolSupported("image")){zt.next=26;break}if(($==null?void 0:$.type)!==v.LO.png&&($==null?void 0:$.type)!==v.LO.svg){zt.next=21;break}return zt.prev=9,zt.next=12,(0,F.cT)($,W.state,W.scene.getElementsIncludingDeleted(),ie);case 12:return lt=zt.sent,W.syncActionResult(fn(fn({},lt),{},{appState:fn(fn({},lt.appState||W.state),{},{isLoading:!1}),replaceFiles:!0,commitToHistory:!0})),zt.abrupt("return");case 17:if(zt.prev=17,zt.t0=zt.catch(9),zt.t0.name==="EncodingError"){zt.next=21;break}throw zt.t0;case 21:return dt=W.createImageElement({sceneX:He,sceneY:Ve}),W.insertImageElement(dt,$),W.initializeImageDimensions(dt),W.setState({selectedElementIds:(0,uo.Oh)((0,L.Z)({},dt.id,!0),W.state)}),zt.abrupt("return");case 26:zt.next=31;break;case 28:return zt.prev=28,zt.t1=zt.catch(6),zt.abrupt("return",W.setState({isLoading:!1,errorMessage:zt.t1.message}));case 31:if(!(vt=G.dataTransfer.getData(v.LO.excalidrawlib))||typeof vt!="string"){zt.next=35;break}try{Ct=(0,cr.wf)(vt),W.addElementsFromPasteOrLibrary({elements:(0,X.WV)(Ct),position:G,files:null})}catch($t){W.setState({errorMessage:$t.message})}return zt.abrupt("return");case 35:if(!$){zt.next=38;break}return zt.next=38,W.loadFileToCanvas($,ie);case 38:(se=G.dataTransfer)!==null&&se!==void 0&&(_e=se.types)!==null&&_e!==void 0&&_e.includes("text/plain")&&(ar=(Mt=G.dataTransfer)===null||Mt===void 0?void 0:Mt.getData("text"))&&(0,g.xm)(ar,W.props.validateEmbeddable)&&(/^(http|https):\/\/[^\s/$.?#].[^\s]*$/.test(ar)||((Yt=(0,g.LM)(ar))===null||Yt===void 0?void 0:Yt.type)==="video")&&(Bt=W.insertEmbeddableElement({sceneX:He,sceneY:Ve,link:(0,La.$u)(ar)}))&&W.setState({selectedElementIds:(0,L.Z)({},Bt.id,!0)});case 39:case"end":return zt.stop()}},I,null,[[6,28],[9,17]])}));return function(I){return s.apply(this,arguments)}}(),this.loadFileToCanvas=function(){var s=(0,b.Z)(x().mark(function I(G,se){var _e;return x().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return he.next=2,(0,cr.gY)(G);case 2:return G=he.sent,he.prev=3,he.next=6,(0,cr.ZY)(G,W.state,W.scene.getElementsIncludingDeleted(),se);case 6:if((_e=he.sent).type!==v.LO.excalidraw){he.next=12;break}W.setState({isLoading:!0}),W.syncActionResult(fn(fn({},_e.data),{},{appState:fn(fn({},_e.data.appState||W.state),{},{isLoading:!1}),replaceFiles:!0,commitToHistory:!0})),he.next=15;break;case 12:if(_e.type!==v.LO.excalidrawlib){he.next=15;break}return he.next=15,W.library.updateLibrary({libraryItems:G,merge:!0,openLibraryMenu:!0}).catch(function($){console.error($),W.setState({errorMessage:(0,T.t)("errors.importLibraryError")})});case 15:he.next=23;break;case 17:if(he.prev=17,he.t0=he.catch(3),!(he.t0 instanceof zs.jk&&he.t0.code==="IMAGE_NOT_CONTAINS_SCENE_DATA")||W.isToolSupported("image")){he.next=22;break}return W.setState({isLoading:!1,errorMessage:(0,T.t)("errors.imageToolNotSupported")}),he.abrupt("return");case 22:W.setState({isLoading:!1,errorMessage:he.t0.message});case 23:case"end":return he.stop()}},I,null,[[3,17]])}));return function(I,G){return s.apply(this,arguments)}}(),this.handleCanvasContextMenu=function(s){if(s.preventDefault(),!("pointerType"in s.nativeEvent&&s.nativeEvent.pointerType==="touch"||"pointerType"in s.nativeEvent&&s.nativeEvent.pointerType==="pen"&&s.button!==v.Oh.SECONDARY)||W.state.activeTool.type==="selection"){var I=(0,E.dE)(s,W.state),G=I.x,se=I.y,_e=W.getElementAtPosition(G,se,{preferSelected:!0,includeLockedElements:!0}),he=W.scene.getSelectedElements(W.state),$=W.isHittingCommonBoundingBoxOfSelectedElements({x:G,y:se},he),ie=_e||$?"element":"canvas",De=W.excalidrawContainerRef.current.getBoundingClientRect(),He=De.top,Ve=De.left,lt=s.clientX-Ve,dt=s.clientY-He;(0,m.L)("contextMenu","openContextMenu",ie),W.setState(fn(fn({},_e&&!W.state.selectedElementIds[_e.id]?fn(fn(fn({},W.state),(0,Ge.bO)({editingGroupId:W.state.editingGroupId,selectedElementIds:(0,L.Z)({},_e.id,!0)},W.scene.getNonDeletedElements(),W.state,W)),{},{selectedLinearElement:(0,ne.bt)(_e)?new fe._(_e,W.scene):null}):W.state),{},{showHyperlinkPopup:!1}),function(){W.setState({contextMenu:{top:dt,left:lt,items:W.getContextMenuItems(ie)}})})}},this.maybeDragNewGenericElement=function(s,I){var G=W.state.draggingElement,se=s.lastCoords;if(G)if(G.type==="selection"&&W.state.activeTool.type!=="eraser")(0,de.EJ)(G,W.state.activeTool.type,s.origin.x,s.origin.y,se.x,se.y,(0,E.TE)(s.origin.x,se.x),(0,E.TE)(s.origin.y,se.y),(0,B.E0)(I),(0,B.OA)(I));else{var _e,he,$,ie,De,He=(0,Ie.wC)(se.x,se.y,I[B.tW.CTRL_OR_CMD]?null:W.state.gridSize),Ve=(0,A.Z)(He,2),lt=Ve[0],dt=Ve[1],vt=(0,ne.wi)(G)&&((_e=W.imageCache.get(G.fileId))===null||_e===void 0?void 0:_e.image),Ct=!vt||vt instanceof Promise?null:vt.width/vt.height;W.maybeCacheReferenceSnapPoints(I,[G]);var Mt=function(Bt,zt,$t,dr,yr){var lr,nr,Tr,qr;if(!ei({event:$t,selectedElements:[Bt],appState:zt}))return{snapOffset:{x:0,y:0},snapLines:[]};var pn=[[dr.x+yr.x,dr.y+yr.y]],_n=sa(zt.zoom.value),Nn={x:_n,y:_n},Un=[],kn=[];Xe([Bt],pn,zt,$t,Un,kn,Nn);var vn={x:(lr=(nr=Un[0])===null||nr===void 0?void 0:nr.offset)!==null&&lr!==void 0?lr:0,y:(Tr=(qr=kn[0])===null||qr===void 0?void 0:qr.offset)!==null&&Tr!==void 0?Tr:0};Nn.x=0,Nn.y=0,Un.length=0,kn.length=0;var An=ha([Bt],{boundingBoxCorners:!0,omitCenter:!0});return Xe([Bt],An,zt,$t,Un,kn,Nn),{snapOffset:vn,snapLines:bt(Un,kn)}}(G,W.state,I,{x:s.originInGrid.x+((he=($=W.state.originSnapOffset)===null||$===void 0?void 0:$.x)!==null&&he!==void 0?he:0),y:s.originInGrid.y+((ie=(De=W.state.originSnapOffset)===null||De===void 0?void 0:De.y)!==null&&ie!==void 0?ie:0)},{x:lt-s.originInGrid.x,y:dt-s.originInGrid.y}),Yt=Mt.snapOffset,ar=Mt.snapLines;lt+=Yt.x,dt+=Yt.y,W.setState({snapLines:ar}),(0,de.EJ)(G,W.state.activeTool.type,s.originInGrid.x,s.originInGrid.y,lt,dt,(0,E.TE)(s.originInGrid.x,lt),(0,E.TE)(s.originInGrid.y,dt),(0,ne.pC)(G)?!(0,B.E0)(I):(0,B.E0)(I),(0,B.OA)(I),Ct,W.state.originSnapOffset),W.maybeSuggestBindingForAll([G]),W.state.activeTool.type==="frame"&&W.setState({elementsToHighlight:(0,pi.ni)(W.scene.getNonDeletedElements(),G,W.state)})}},this.maybeHandleResize=function(s,I){var G=W.scene.getSelectedElements(W.state),se=G.filter(function(dr){return dr.type==="frame"}),_e=s.resize.handleType;if(se.length>0&&_e==="rotation")return!1;W.setState({isResizing:_e&&_e!=="rotation",isRotating:_e==="rotation",activeEmbeddable:null});var he=s.lastCoords,$=(0,Ie.wC)(he.x-s.resize.offset.x,he.y-s.resize.offset.y,I[B.tW.CTRL_OR_CMD]?null:W.state.gridSize),ie=(0,A.Z)($,2),De=ie[0],He=ie[1],Ve=new Map;if(se.forEach(function(dr){(0,pi.zD)(W.scene.getNonDeletedElements(),dr.id).forEach(function(yr){Ve.set(dr.id+yr.id,{x:yr.x-dr.x,y:yr.y-dr.y})})}),!W.state.selectedElementsAreBeingDragged){var lt=(0,Ie.wC)(he.x,he.y,I[B.tW.CTRL_OR_CMD]?null:W.state.gridSize),dt=(0,A.Z)(lt,2),vt=dt[0],Ct=dt[1],Mt={x:vt-s.originInGrid.x,y:Ct-s.originInGrid.y},Yt=(0,k.Z)(s.originalElements.values());W.maybeCacheReferenceSnapPoints(I,G);var ar=Et(G,(0,Ee.eD)(Yt,W.state),W.state,I,Mt,_e),Bt=ar.snapOffset,zt=ar.snapLines;De+=Bt.x,He+=Bt.y,W.setState({snapLines:zt})}if((0,de.vY)(s,_e,G,s.resize.arrowDirection,(0,B.Ge)(I),(0,B.OA)(I),G.length===1&&(0,ne.pC)(G[0])?!(0,B.E0)(I):(0,B.E0)(I),De,He,s.resize.center.x,s.resize.center.y,W.state)){W.maybeSuggestBindingForAll(G);var $t=new Set;return se.forEach(function(dr){var yr=(0,pi.zD)(W.scene.getNonDeletedElements(),dr.id);_e&&(_e.includes("w")&&yr.forEach(function(lr){var nr,Tr;(0,O.DR)(lr,{x:dr.x+(((nr=Ve.get(dr.id+lr.id))===null||nr===void 0?void 0:nr.x)||0),y:dr.y+(((Tr=Ve.get(dr.id+lr.id))===null||Tr===void 0?void 0:Tr.y)||0)})}),_e.includes("n")&&yr.forEach(function(lr){var nr,Tr;(0,O.DR)(lr,{x:dr.x+(((nr=Ve.get(dr.id+lr.id))===null||nr===void 0?void 0:nr.x)||0),y:dr.y+(((Tr=Ve.get(dr.id+lr.id))===null||Tr===void 0?void 0:Tr.y)||0)})})),(0,pi.ni)(W.scene.getNonDeletedElements(),dr,W.state).forEach(function(lr){return $t.add(lr)})}),W.setState({elementsToHighlight:(0,k.Z)($t)}),!0}return!1},this.getContextMenuItems=function(s){var I=[];return I.push(J.jK,J.FA),s==="canvas"?W.state.viewModeEnabled?[].concat(I,[J.Pb,J.JN,Ls,J.u0]):[Jo.yQ,Le,J.jK,J.FA,J.zp,Le,J.Yy,Il.U,Le,J.Pb,J.pm,J.JN,Ls,J.u0]:(I.push(J.zp),W.state.viewModeEnabled?[J.uN].concat(I):[J.ZM,J.uN,Jo.yQ,Hl,Zs,Le].concat(I,[Le,J.pw,J.W3,Le,J.EQ,J.y7,J.vD,jt.JQ,J.s,Le,J.FL,Le,J.V,J.yA,J.zi,J.BZ,Le,J.jl,J.kt,Le,J.Qs,J.nz,J.xF,J.$h,Le,J.X9]))},this.handleWheel=(0,E.tH)(function(s){if(s.preventDefault(),!Yi){var I=s.deltaX,G=s.deltaY;if(s.metaKey||s.ctrlKey){var se=Math.sign(G),_e=100*v.V4,he=Math.abs(G),$=G;he>_e&&($=_e*se);var ie=W.state.zoom.value-$/100;return ie+=Math.log10(Math.max(1,W.state.zoom.value))*-se*Math.min(1,he/20),W.translateCanvas(function(De){return fn(fn({},(0,Z.E)({viewportX:W.lastViewportPosition.x,viewportY:W.lastViewportPosition.y,nextZoom:(0,Ee.j)(ie)},De)),{},{shouldCacheIgnoreZoom:!0})}),void W.resetShouldCacheIgnoreZoomDebounced()}s.shiftKey?W.translateCanvas(function(De){var He=De.zoom;return{scrollX:De.scrollX-(G||I)/He.value}}):W.translateCanvas(function(De){var He=De.zoom,Ve=De.scrollX,lt=De.scrollY;return{scrollX:Ve-I/He.value,scrollY:lt-G/He.value}})}}),this.savePointer=function(s,I,G){var se,_e;if(s&&I){var he=(0,E.dE)({clientX:s,clientY:I},W.state),$=he.x,ie=he.y,De={x:$,y:ie,tool:W.state.activeTool.type==="laser"?"laser":"pointer"};(se=(_e=W.props).onPointerUpdate)===null||se===void 0||se.call(_e,{pointer:De,button:G,pointersMap:Zo.pointers})}},this.resetShouldCacheIgnoreZoomDebounced=(0,E.Ds)(function(){W.unmounted||W.setState({shouldCacheIgnoreZoom:!1})},300),this.updateDOMRect=function(s){var I;if((I=W.excalidrawContainerRef)!==null&&I!==void 0&&I.current){var G=W.excalidrawContainerRef.current.getBoundingClientRect(),se=G.width,_e=G.height,he=G.left,$=G.top,ie=W.state,De=ie.width,He=ie.height,Ve=ie.offsetTop,lt=ie.offsetLeft;if(se===De&&_e===He&&he===lt&&$===Ve)return void(s&&s());W.setState({width:se,height:_e,offsetLeft:he,offsetTop:$},function(){s&&s()})}},this.refresh=function(){W.setState(fn({},W.getCanvasOffsets()))}};v.Vi.TEST==="production"&&(window.h=window.h||{},Object.defineProperties(window.h,{elements:{configurable:!0,get:function(){var W;return(W=this.app)===null||W===void 0?void 0:W.scene.getElementsIncludingDeleted()},set:function(W){var s;return(s=this.app)===null||s===void 0?void 0:s.scene.replaceAllElements(W)}}}));var cc=ni},8806:function(We,ue,n){n.d(ue,{z:function(){return T}});var r=n(7169),A=n(2726),k=n(45),b=n(9827),w=n(3379),N=n.n(w),M=n(7795),f=n.n(M),d=n(569),j=n.n(d),L=n(3565),H=n.n(L),x=n(9216),S=n.n(x),q=n(4589),ve=n.n(q),ke=n(3137),Se={};Se.styleTagTransform=ve(),Se.setAttributes=H(),Se.insert=j().bind(null,"head"),Se.domAPI=f(),Se.insertStyleElement=S(),N()(ke.Z,Se),ke.Z&&ke.Z.locals&&ke.Z.locals;var ge=n(4512),J=["type","onSelect","selected","children","className"];function Q(B,O){var R=Object.keys(B);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(B);O&&(E=E.filter(function(v){return Object.getOwnPropertyDescriptor(B,v).enumerable})),R.push.apply(R,E)}return R}function K(B){for(var O=1;O<arguments.length;O++){var R=arguments[O]!=null?arguments[O]:{};O%2?Q(Object(R),!0).forEach(function(E){(0,r.Z)(B,E,R[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors(R)):Q(Object(R)).forEach(function(E){Object.defineProperty(B,E,Object.getOwnPropertyDescriptor(R,E))})}return B}var T=function(B){var O=B.type,R=O===void 0?"button":O,E=B.onSelect,v=B.selected,i=B.children,a=B.className,y=a===void 0?"":a,h=(0,A.Z)(B,J);return(0,ge.jsx)("button",K(K({onClick:(0,b.Mj)(h.onClick,function(m){E()}),type:R,className:(0,k.Z)("excalidraw-button",y,{selected:v})},h),{},{children:i}))}},6238:function(We,ue,n){n.d(ue,{o:function(){return Se}});var r=n(45),A=n(8935),k=n(3379),b=n.n(k),w=n(7795),N=n.n(w),M=n(569),f=n.n(M),d=n(3565),j=n.n(d),L=n(9216),H=n.n(L),x=n(4589),S=n.n(x),q=n(6029),ve={};ve.styleTagTransform=S(),ve.setAttributes=j(),ve.insert=f().bind(null,"head"),ve.domAPI=N(),ve.insertStyleElement=H(),b()(q.Z,ve),q.Z&&q.Z.locals&&q.Z.locals;var ke=n(4512),Se=function(ge){var J=ge.children,Q=ge.checked,K=ge.onChange,T=ge.className;return(0,ke.jsxs)("div",{className:(0,r.Z)("Checkbox",T,{"is-checked":Q}),onClick:function(B){K(!Q,B),B.currentTarget.querySelector(".Checkbox-box").focus()},children:[(0,ke.jsx)("button",{className:"Checkbox-box",role:"checkbox","aria-checked":Q,children:A.eQ}),(0,ke.jsx)("div",{className:"Checkbox-label",children:J})]})}},193:function(We,ue,n){n.d(ue,{z:function(){return Ol},L:function(){return ei}});var r=n(2577),A=n(9827),k=n(45),b=n(9240),w=n(4512),N=function(ut){var Ae,Xe=ut.onChange,Je=ut.type,ct=ut.activeColor,bt=ut.topPicks;return Je==="elementStroke"&&(Ae=b.fY),Je==="elementBackground"&&(Ae=b.eq),Je==="canvasBackground"&&(Ae=b.ay),bt&&(Ae=bt),Ae?(0,w.jsx)("div",{className:"color-picker__top-picks",children:Ae.map(function(_t){return(0,w.jsx)("button",{className:(0,k.Z)("color-picker__button",{active:_t===ct,"is-transparent":_t==="transparent"||!_t}),style:{"--swatch-color":_t},type:"button",title:_t,onClick:function(){return Xe(_t)},"data-testid":"color-top-pick-".concat(_t),children:(0,w.jsx)("div",{className:"color-picker__button-outline"})},_t)})}):(console.error("Invalid type for TopPicks"),null)},M=n(9787),f=n.n(M),d=n(8227),j=n(3607),L=n(1930),H=function(ut){for(var Ae=ut.palette,Xe=ut.color,Je=0,ct=Object.entries(Ae);Je<ct.length;Je++){var bt=(0,r.Z)(ct[Je],2),_t=bt[0],Et=bt[1];if(Array.isArray(Et)){var jt=Et.indexOf(Xe);if(jt>-1)return{colorName:_t,shade:jt}}else if(Et===Xe)return{colorName:_t,shade:null}}return null},x=[["q","w","e","r","t"],["a","s","d","f","g"],["z","x","c","v","b"]].flat(),S=function(ut){var Ae=ut.color,Xe=ut.palette;return!Object.values(Xe).flat().includes(Ae)},q=(0,j.cn)(null),ve=function(ut,Ae,Xe){return(299*ut+587*Ae+114*Xe)/1e3>=160?"black":"white"},ke=function(ut,Ae){if(Ae){var Xe=new Option().style;if(Xe.color=ut,Xe.color){var Je=Xe.color.replace(/^(rgb|rgba)\(/,"").replace(/\)$/,"").replace(/\s/g,"").split(","),ct=parseInt(Je[0]),bt=parseInt(Je[1]),_t=parseInt(Je[2]);return ve(ct,bt,_t)}}if(ut==="transparent")return"black";var Et=parseInt(ut.substring(1,3),16),jt=parseInt(ut.substring(3,5),16),mr=parseInt(ut.substring(5,7),16);return ve(Et,jt,mr)},Se=function(ut){var Ae=ut.color,Xe=ut.keyLabel,Je=ut.isCustomColor,ct=Je!==void 0&&Je,bt=ut.isShade,_t=bt!==void 0&&bt;return(0,w.jsxs)("div",{className:"color-picker__button__hotkey-label",style:{color:ke(Ae,ct)},children:[_t&&"⇧",Xe]})},ge=function(ut){var Ae=ut.hex,Xe=ut.onChange,Je=ut.palette,ct=H({color:Ae||"transparent",palette:Je}),bt=(0,j.KO)(q),_t=(0,r.Z)(bt,2),Et=_t[0],jt=_t[1],mr=(0,M.useRef)(null);if((0,M.useEffect)(function(){mr.current&&Et==="shades"&&mr.current.focus()},[ct,Et]),ct){var xr=ct.colorName,ir=ct.shade,er=Je[xr];if(Array.isArray(er))return(0,w.jsx)("div",{className:"color-picker-content--default shades",children:er.map(function(kr,Ir){return(0,w.jsxs)("button",{ref:Ir===ir&&Et==="shades"?mr:void 0,tabIndex:-1,type:"button",className:(0,k.Z)("color-picker__button color-picker__button--large",{active:Ir===ir}),"aria-label":"Shade",title:"".concat(xr," - ").concat(Ir+1),style:kr?{"--swatch-color":kr}:void 0,onClick:function(){Xe(kr),jt("shades")},children:[(0,w.jsx)("div",{className:"color-picker__button-outline"}),(0,w.jsx)(Se,{color:kr,keyLabel:Ir+1,isShade:!0})]},Ir)})})}return(0,w.jsxs)("div",{className:"color-picker-content--default",style:{position:"relative"},tabIndex:-1,children:[(0,w.jsx)("button",{type:"button",tabIndex:-1,className:"color-picker__button color-picker__button--large color-picker__button--no-focus-visible"}),(0,w.jsx)("div",{tabIndex:-1,style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",fontSize:"0.75rem"},children:(0,d.t)("colorPicker.noShades")})]})},J=function(ut){var Ae=ut.palette,Xe=ut.color,Je=ut.onChange,ct=(ut.label,ut.activeShade),bt=H({color:Xe||"transparent",palette:Ae}),_t=(0,j.KO)(q),Et=(0,r.Z)(_t,2),jt=Et[0],mr=Et[1],xr=(0,M.useRef)(null);return(0,M.useEffect)(function(){xr.current&&jt==="baseColors"&&xr.current.focus()},[bt==null?void 0:bt.colorName,jt]),(0,w.jsx)("div",{className:"color-picker-content--default",children:Object.entries(Ae).map(function(ir,er){var kr=(0,r.Z)(ir,2),Ir=kr[0],_r=kr[1],wr=(Array.isArray(_r)?_r[ct]:_r)||"transparent",Ar=x[er],Vr=(0,d.t)("colors.".concat(Ir.replace(/\d+/,"")),null,"");return(0,w.jsxs)("button",{ref:(bt==null?void 0:bt.colorName)===Ir?xr:void 0,tabIndex:-1,type:"button",className:(0,k.Z)("color-picker__button color-picker__button--large",{active:(bt==null?void 0:bt.colorName)===Ir,"is-transparent":wr==="transparent"||!1}),onClick:function(){Je(wr),mr("baseColors")},title:"".concat(Vr).concat(wr.startsWith("#")?" ".concat(wr):""," — ").concat(Ar),"aria-label":"".concat(Vr," — ").concat(Ar),style:{"--swatch-color":wr},"data-testid":"color-".concat(Ir),children:[(0,w.jsx)("div",{className:"color-picker__button-outline"}),(0,w.jsx)(Se,{color:wr,keyLabel:Ar})]},Ir)})})},Q=function(ut){var Ae=ut.colors,Xe=ut.color,Je=ut.onChange,ct=ut.label,bt=(0,j.KO)(q),_t=(0,r.Z)(bt,2),Et=_t[0],jt=_t[1],mr=(0,M.useRef)(null);return(0,M.useEffect)(function(){mr.current&&mr.current.focus()},[Xe,Et]),(0,w.jsx)("div",{className:"color-picker-content--default",children:Ae.map(function(xr,ir){return(0,w.jsxs)("button",{ref:Xe===xr?mr:void 0,tabIndex:-1,type:"button",className:(0,k.Z)("color-picker__button color-picker__button--large",{active:Xe===xr,"is-transparent":xr==="transparent"||!xr}),onClick:function(){Je(xr),jt("custom")},title:xr,"aria-label":ct,style:{"--swatch-color":xr},children:[(0,w.jsx)("div",{className:"color-picker__button-outline"}),(0,w.jsx)(Se,{color:xr,keyLabel:ir+1,isCustomColor:!0})]},ir)})})},K=n(5491),T=function(ut,Ae,Xe){var Je,ct=Math.ceil(Xe/b.dC);switch(Ae=(Je=Ae)!==null&&Je!==void 0?Je:-1,ut){case"ArrowLeft":var bt=Ae-1;return bt<0?Xe-1:bt;case"ArrowRight":return(Ae+1)%Xe;case"ArrowDown":var _t=Ae+b.dC;return _t>=Xe?Ae%b.dC:_t;case"ArrowUp":var Et=Ae-b.dC,jt=Et<0?b.dC*ct+Et:Et;return jt>=Xe?void 0:jt}},B=function(ut){var Ae=ut.event,Xe=ut.activeColorPickerSection,Je=ut.palette,ct=ut.color,bt=ut.onChange,_t=ut.customColors,Et=ut.setActiveColorPickerSection,jt=ut.activeShade,mr=ut.onEyeDropperToggle,xr=ut.onEscape;if(Ae[K.tW.CTRL_OR_CMD])return!1;if(Ae.key===K.tW.ESCAPE)return xr(Ae),!0;if(Ae.key===K.tW.ALT)return mr(!0),!0;if(Ae.key===K.tW.I)return mr(),!0;var ir=H({color:ct,palette:Je});if(Ae.key===K.tW.TAB){var er={custom:!!_t.length,baseColors:!0,shades:(ir==null?void 0:ir.shade)!=null,hex:!0},kr=Object.entries(er).reduce(function(Ln,Zn){var Kn=(0,r.Z)(Zn,2),$n=Kn[0];return Kn[1]&&Ln.push($n),Ln},[]),Ir=kr.indexOf(Xe),_r=Ae.shiftKey?-1:1,wr=kr[Ir+_r>kr.length-1?0:Ir+_r<0?kr.length-1:Ir+_r];return wr&&Et(wr),wr==="custom"?bt(_t[0]):wr==="baseColors"&&(Object.entries(Je).find(function(Ln){var Zn=(0,r.Z)(Ln,2),Kn=Zn[0],$n=Zn[1];return Array.isArray($n)?$n.includes(ct):$n===ct?Kn:null})||bt(b.HO.black)),Ae.preventDefault(),Ae.stopPropagation(),!0}if(function(Ln){var Zn=Ln.e,Kn=Ln.colorObj,$n=Ln.onChange,ro=Ln.palette,Uo=Ln.customColors,Ti=Ln.setActiveColorPickerSection,Bi=Ln.activeShade;if((Kn==null?void 0:Kn.shade)!=null&&["Digit1","Digit2","Digit3","Digit4","Digit5"].includes(Zn.code)&&Zn.shiftKey){var Ei=Number(Zn.code.slice(-1))-1;return $n(ro[Kn.colorName][Ei]),Ti("shades"),!0}if(["1","2","3","4","5"].includes(Zn.key)&&Uo[Number(Zn.key)-1])return $n(Uo[Number(Zn.key)-1]),Ti("custom"),!0;if(x.includes(Zn.key)){var Vi=x.indexOf(Zn.key),Ni=ro[Object.keys(ro)[Vi]];return $n(Array.isArray(Ni)?Ni[Bi]:Ni),Ti("baseColors"),!0}return!1}({e:Ae,colorObj:ir,onChange:bt,palette:Je,customColors:_t,setActiveColorPickerSection:Et,activeShade:jt}))return!0;if(Xe==="shades"&&ir){var Ar=ir.shade,Vr=T(Ae.key,Ar,b.dC);if(Vr!==void 0)return bt(Je[ir.colorName][Vr]),!0}if(Xe==="baseColors"&&ir){var Yr=ir.colorName,Br=Object.keys(Je),tn=Br.indexOf(Yr),Sn=T(Ae.key,tn,Br.length);if(Sn!==void 0){var Tn=Je[Br[Sn]];return bt(Array.isArray(Tn)?Tn[jt]:Tn),!0}}if(Xe==="custom"){var xn=_t.indexOf(ct),En=T(Ae.key,xn,_t.length);if(En!==void 0)return bt(_t[En]),!0}return!1},O=function(ut){var Ae=ut.children;return(0,w.jsx)("div",{className:"color-picker__heading",children:Ae})},R=n(9937),E=function(ut){var Ae,Xe=ut.color,Je=ut.onChange,ct=ut.label,bt=ut.type,_t=ut.elements,Et=ut.palette;ut.updateData;var jt=ut.children,mr=ut.onEyeDropperToggle,xr=ut.onEscape,ir=f().useState(function(){return bt==="canvasBackground"?[]:function(Tn,xn,En){var Ln={elementBackground:"backgroundColor",elementStroke:"strokeColor"},Zn=Tn.filter(function($n){if($n.isDeleted)return!1;var ro=$n[Ln[xn]];return S({color:ro,palette:En})}),Kn=new Map;return Zn.forEach(function($n){var ro=$n[Ln[xn]];Kn.has(ro)?Kn.set(ro,Kn.get(ro)+1):Kn.set(ro,1)}),(0,L.Z)(Kn.entries()).sort(function($n,ro){return ro[1]-$n[1]}).map(function($n){return $n[0]}).slice(0,b.Lx)}(_t,bt,Et)}),er=(0,r.Z)(ir,1)[0],kr=(0,j.KO)(q),Ir=(0,r.Z)(kr,2),_r=Ir[0],wr=Ir[1],Ar=H({color:Xe,palette:Et});(0,M.useEffect)(function(){if(!_r){var Tn=S({color:Xe,palette:Et}),xn=Tn&&!er.includes(Xe);wr(xn?"hex":Tn?"custom":(Ar==null?void 0:Ar.shade)!=null?"shades":"baseColors")}},[_r,Xe,Et,wr,Ar,er]);var Vr=(0,M.useState)((Ae=Ar==null?void 0:Ar.shade)!==null&&Ae!==void 0?Ae:bt==="elementBackground"?b._T:b.z8),Yr=(0,r.Z)(Vr,2),Br=Yr[0],tn=Yr[1];(0,M.useEffect)(function(){(Ar==null?void 0:Ar.shade)!=null&&tn(Ar.shade);var Tn=function(xn){xn.key===K.tW.ALT&&mr(!1)};return document.addEventListener(R.Ks.KEYUP,Tn,{capture:!0}),function(){document.removeEventListener(R.Ks.KEYUP,Tn,{capture:!0})}},[Ar,mr]);var Sn=f().useRef(null);return(0,w.jsx)("div",{role:"dialog","aria-modal":"true","aria-label":(0,d.t)("labels.colorPicker"),children:(0,w.jsxs)("div",{ref:Sn,onKeyDown:function(Tn){B({event:Tn,activeColorPickerSection:_r,palette:Et,color:Xe,onChange:Je,onEyeDropperToggle:mr,customColors:er,setActiveColorPickerSection:wr,activeShade:Br,onEscape:xr})&&(Tn.preventDefault(),Tn.stopPropagation())},className:"color-picker-content",tabIndex:-1,children:[!!er.length&&(0,w.jsxs)("div",{children:[(0,w.jsx)(O,{children:(0,d.t)("colorPicker.mostUsedCustomColors")}),(0,w.jsx)(Q,{colors:er,color:Xe,label:(0,d.t)("colorPicker.mostUsedCustomColors"),onChange:Je})]}),(0,w.jsxs)("div",{children:[(0,w.jsx)(O,{children:(0,d.t)("colorPicker.colors")}),(0,w.jsx)(J,{color:Xe,label:ct,palette:Et,onChange:Je,activeShade:Br})]}),(0,w.jsxs)("div",{children:[(0,w.jsx)(O,{children:(0,d.t)("colorPicker.shades")}),(0,w.jsx)(ge,{hex:Xe,onChange:Je,palette:Et})]}),jt]})})},v=n(11),i=n(7217),a=n(9335),y=n(1267),h=n(3119),m=n(3060);const C="dismissableLayer.update",U="dismissableLayer.pointerDownOutside",V="dismissableLayer.focusOutside";let D;const P=(0,M.createContext)({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),F=(0,M.forwardRef)((ut,Ae)=>{var Xe;const{disableOutsidePointerEvents:Je=!1,onEscapeKeyDown:ct,onPointerDownOutside:bt,onFocusOutside:_t,onInteractOutside:Et,onDismiss:jt,...mr}=ut,xr=(0,M.useContext)(P),[ir,er]=(0,M.useState)(null),kr=(Xe=ir==null?void 0:ir.ownerDocument)!==null&&Xe!==void 0?Xe:globalThis==null?void 0:globalThis.document,[,Ir]=(0,M.useState)({}),_r=(0,a.e)(Ae,xn=>er(xn)),wr=Array.from(xr.layers),[Ar]=[...xr.layersWithOutsidePointerEventsDisabled].slice(-1),Vr=wr.indexOf(Ar),Yr=ir?wr.indexOf(ir):-1,Br=xr.layersWithOutsidePointerEventsDisabled.size>0,tn=Yr>=Vr,Sn=function(xn,En=globalThis==null?void 0:globalThis.document){const Ln=(0,m.W)(xn),Zn=(0,M.useRef)(!1),Kn=(0,M.useRef)(()=>{});return(0,M.useEffect)(()=>{const $n=Uo=>{if(Uo.target&&!Zn.current){let Ei=function(){le(U,Ln,Bi,{discrete:!0})};var Ti=Ei;const Bi={originalEvent:Uo};Uo.pointerType==="touch"?(En.removeEventListener("click",Kn.current),Kn.current=Ei,En.addEventListener("click",Kn.current,{once:!0})):Ei()}Zn.current=!1},ro=window.setTimeout(()=>{En.addEventListener("pointerdown",$n)},0);return()=>{window.clearTimeout(ro),En.removeEventListener("pointerdown",$n),En.removeEventListener("click",Kn.current)}},[En,Ln]),{onPointerDownCapture:()=>Zn.current=!0}}(xn=>{const En=xn.target,Ln=[...xr.branches].some(Zn=>Zn.contains(En));tn&&!Ln&&(bt==null||bt(xn),Et==null||Et(xn),xn.defaultPrevented||jt==null||jt())},kr),Tn=function(xn,En=globalThis==null?void 0:globalThis.document){const Ln=(0,m.W)(xn),Zn=(0,M.useRef)(!1);return(0,M.useEffect)(()=>{const Kn=$n=>{$n.target&&!Zn.current&&le(V,Ln,{originalEvent:$n},{discrete:!1})};return En.addEventListener("focusin",Kn),()=>En.removeEventListener("focusin",Kn)},[En,Ln]),{onFocusCapture:()=>Zn.current=!0,onBlurCapture:()=>Zn.current=!1}}(xn=>{const En=xn.target;[...xr.branches].some(Ln=>Ln.contains(En))||(_t==null||_t(xn),Et==null||Et(xn),xn.defaultPrevented||jt==null||jt())},kr);return function(xn,En=globalThis==null?void 0:globalThis.document){const Ln=(0,m.W)(xn);(0,M.useEffect)(()=>{const Zn=Kn=>{Kn.key==="Escape"&&Ln(Kn)};return En.addEventListener("keydown",Zn),()=>En.removeEventListener("keydown",Zn)},[Ln,En])}(xn=>{Yr===xr.layers.size-1&&(ct==null||ct(xn),!xn.defaultPrevented&&jt&&(xn.preventDefault(),jt()))},kr),(0,M.useEffect)(()=>{if(ir)return Je&&(xr.layersWithOutsidePointerEventsDisabled.size===0&&(D=kr.body.style.pointerEvents,kr.body.style.pointerEvents="none"),xr.layersWithOutsidePointerEventsDisabled.add(ir)),xr.layers.add(ir),X(),()=>{Je&&xr.layersWithOutsidePointerEventsDisabled.size===1&&(kr.body.style.pointerEvents=D)}},[ir,kr,Je,xr]),(0,M.useEffect)(()=>()=>{ir&&(xr.layers.delete(ir),xr.layersWithOutsidePointerEventsDisabled.delete(ir),X())},[ir,xr]),(0,M.useEffect)(()=>{const xn=()=>Ir({});return document.addEventListener(C,xn),()=>document.removeEventListener(C,xn)},[]),(0,M.createElement)(h.WV.div,(0,v.Z)({},mr,{ref:_r,style:{pointerEvents:Br?tn?"auto":"none":void 0,...ut.style},onFocusCapture:(0,i.M)(ut.onFocusCapture,Tn.onFocusCapture),onBlurCapture:(0,i.M)(ut.onBlurCapture,Tn.onBlurCapture),onPointerDownCapture:(0,i.M)(ut.onPointerDownCapture,Sn.onPointerDownCapture)}))});function X(){const ut=new CustomEvent(C);document.dispatchEvent(ut)}function le(ut,Ae,Xe,{discrete:Je}){const ct=Xe.originalEvent.target,bt=new CustomEvent(ut,{bubbles:!1,cancelable:!0,detail:Xe});Ae&&ct.addEventListener(ut,Ae,{once:!0}),Je?(0,h.jH)(ct,bt):ct.dispatchEvent(bt)}let de=0;function fe(){(0,M.useEffect)(()=>{var ut,Ae;const Xe=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(ut=Xe[0])!==null&&ut!==void 0?ut:pe()),document.body.insertAdjacentElement("beforeend",(Ae=Xe[1])!==null&&Ae!==void 0?Ae:pe()),de++,()=>{de===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(Je=>Je.remove()),de--}},[])}function pe(){const ut=document.createElement("span");return ut.setAttribute("data-radix-focus-guard",""),ut.tabIndex=0,ut.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",ut}const ne="focusScope.autoFocusOnMount",oe="focusScope.autoFocusOnUnmount",be={bubbles:!1,cancelable:!0},Me=(0,M.forwardRef)((ut,Ae)=>{const{loop:Xe=!1,trapped:Je=!1,onMountAutoFocus:ct,onUnmountAutoFocus:bt,..._t}=ut,[Et,jt]=(0,M.useState)(null),mr=(0,m.W)(ct),xr=(0,m.W)(bt),ir=(0,M.useRef)(null),er=(0,a.e)(Ae,_r=>jt(_r)),kr=(0,M.useRef)({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;(0,M.useEffect)(()=>{if(Je){let Ar=function(Yr){if(kr.paused||!Et)return;const Br=Yr.target;Et.contains(Br)?ir.current=Br:Pe(ir.current,{select:!0})},Vr=function(Yr){!kr.paused&&Et&&(Et.contains(Yr.relatedTarget)||Pe(ir.current,{select:!0}))};var _r=Ar,wr=Vr;return document.addEventListener("focusin",Ar),document.addEventListener("focusout",Vr),()=>{document.removeEventListener("focusin",Ar),document.removeEventListener("focusout",Vr)}}},[Je,Et,kr.paused]),(0,M.useEffect)(()=>{if(Et){Re.add(kr);const wr=document.activeElement;if(!Et.contains(wr)){const Ar=new CustomEvent(ne,be);Et.addEventListener(ne,mr),Et.dispatchEvent(Ar),Ar.defaultPrevented||(function(Vr,{select:Yr=!1}={}){const Br=document.activeElement;for(const tn of Vr)if(Pe(tn,{select:Yr}),document.activeElement!==Br)return}((_r=Ge(Et),_r.filter(Vr=>Vr.tagName!=="A")),{select:!0}),document.activeElement===wr&&Pe(Et))}return()=>{Et.removeEventListener(ne,mr),setTimeout(()=>{const Ar=new CustomEvent(oe,be);Et.addEventListener(oe,xr),Et.dispatchEvent(Ar),Ar.defaultPrevented||Pe(wr??document.body,{select:!0}),Et.removeEventListener(oe,xr),Re.remove(kr)},0)}}var _r},[Et,mr,xr,kr]);const Ir=(0,M.useCallback)(_r=>{if(!Xe&&!Je||kr.paused)return;const wr=_r.key==="Tab"&&!_r.altKey&&!_r.ctrlKey&&!_r.metaKey,Ar=document.activeElement;if(wr&&Ar){const Vr=_r.currentTarget,[Yr,Br]=function(tn){const Sn=Ge(tn),Tn=qe(Sn,tn),xn=qe(Sn.reverse(),tn);return[Tn,xn]}(Vr);Yr&&Br?_r.shiftKey||Ar!==Br?_r.shiftKey&&Ar===Yr&&(_r.preventDefault(),Xe&&Pe(Br,{select:!0})):(_r.preventDefault(),Xe&&Pe(Yr,{select:!0})):Ar===Vr&&_r.preventDefault()}},[Xe,Je,kr.paused]);return(0,M.createElement)(h.WV.div,(0,v.Z)({tabIndex:-1},_t,{ref:er,onKeyDown:Ir}))});function Ge(ut){const Ae=[],Xe=document.createTreeWalker(ut,NodeFilter.SHOW_ELEMENT,{acceptNode:Je=>{const ct=Je.tagName==="INPUT"&&Je.type==="hidden";return Je.disabled||Je.hidden||ct?NodeFilter.FILTER_SKIP:Je.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;Xe.nextNode();)Ae.push(Xe.currentNode);return Ae}function qe(ut,Ae){for(const Xe of ut)if(!Ne(Xe,{upTo:Ae}))return Xe}function Ne(ut,{upTo:Ae}){if(getComputedStyle(ut).visibility==="hidden")return!0;for(;ut;){if(Ae!==void 0&&ut===Ae)return!1;if(getComputedStyle(ut).display==="none")return!0;ut=ut.parentElement}return!1}function Pe(ut,{select:Ae=!1}={}){if(ut&&ut.focus){const Xe=document.activeElement;ut.focus({preventScroll:!0}),ut!==Xe&&function(Je){return Je instanceof HTMLInputElement&&"select"in Je}(ut)&&Ae&&ut.select()}}const Re=function(){let ut=[];return{add(Ae){const Xe=ut[0];Ae!==Xe&&(Xe==null||Xe.pause()),ut=Ze(ut,Ae),ut.unshift(Ae)},remove(Ae){var Xe;ut=Ze(ut,Ae),(Xe=ut[0])===null||Xe===void 0||Xe.resume()}}}();function Ze(ut,Ae){const Xe=[...ut],Je=Xe.indexOf(Ae);return Je!==-1&&Xe.splice(Je,1),Xe}var Ie=n(5622);function Ee(ut){return ut.split("-")[0]}function xe(ut){return ut.split("-")[1]}function Z(ut){return["top","bottom"].includes(Ee(ut))?"x":"y"}function u(ut){return ut==="y"?"height":"width"}function g(ut,Ae,Xe){let{reference:Je,floating:ct}=ut;const bt=Je.x+Je.width/2-ct.width/2,_t=Je.y+Je.height/2-ct.height/2,Et=Z(Ae),jt=u(Et),mr=Je[jt]/2-ct[jt]/2,xr=Et==="x";let ir;switch(Ee(Ae)){case"top":ir={x:bt,y:Je.y-ct.height};break;case"bottom":ir={x:bt,y:Je.y+Je.height};break;case"right":ir={x:Je.x+Je.width,y:_t};break;case"left":ir={x:Je.x-ct.width,y:_t};break;default:ir={x:Je.x,y:Je.y}}switch(xe(Ae)){case"start":ir[Et]-=mr*(Xe&&xr?-1:1);break;case"end":ir[Et]+=mr*(Xe&&xr?-1:1)}return ir}function z(ut){return typeof ut!="number"?function(Ae){return{top:0,right:0,bottom:0,left:0,...Ae}}(ut):{top:ut,right:ut,bottom:ut,left:ut}}function Y(ut){return{...ut,top:ut.y,left:ut.x,right:ut.x+ut.width,bottom:ut.y+ut.height}}async function te(ut,Ae){var Xe;Ae===void 0&&(Ae={});const{x:Je,y:ct,platform:bt,rects:_t,elements:Et,strategy:jt}=ut,{boundary:mr="clippingAncestors",rootBoundary:xr="viewport",elementContext:ir="floating",altBoundary:er=!1,padding:kr=0}=Ae,Ir=z(kr),_r=Et[er?ir==="floating"?"reference":"floating":ir],wr=Y(await bt.getClippingRect({element:(Xe=await(bt.isElement==null?void 0:bt.isElement(_r)))==null||Xe?_r:_r.contextElement||await(bt.getDocumentElement==null?void 0:bt.getDocumentElement(Et.floating)),boundary:mr,rootBoundary:xr,strategy:jt})),Ar=Y(bt.convertOffsetParentRelativeRectToViewportRelativeRect?await bt.convertOffsetParentRelativeRectToViewportRelativeRect({rect:ir==="floating"?{..._t.floating,x:Je,y:ct}:_t.reference,offsetParent:await(bt.getOffsetParent==null?void 0:bt.getOffsetParent(Et.floating)),strategy:jt}):_t[ir]);return{top:wr.top-Ar.top+Ir.top,bottom:Ar.bottom-wr.bottom+Ir.bottom,left:wr.left-Ar.left+Ir.left,right:Ar.right-wr.right+Ir.right}}const ae=Math.min,ce=Math.max;function ye(ut,Ae,Xe){return ce(ut,ae(Ae,Xe))}const je=ut=>({name:"arrow",options:ut,async fn(Ae){const{element:Xe,padding:Je=0}=ut??{},{x:ct,y:bt,placement:_t,rects:Et,platform:jt}=Ae;if(Xe==null)return{};const mr=z(Je),xr={x:ct,y:bt},ir=Z(_t),er=xe(_t),kr=u(ir),Ir=await jt.getDimensions(Xe),_r=ir==="y"?"top":"left",wr=ir==="y"?"bottom":"right",Ar=Et.reference[kr]+Et.reference[ir]-xr[ir]-Et.floating[kr],Vr=xr[ir]-Et.reference[ir],Yr=await(jt.getOffsetParent==null?void 0:jt.getOffsetParent(Xe));let Br=Yr?ir==="y"?Yr.clientHeight||0:Yr.clientWidth||0:0;Br===0&&(Br=Et.floating[kr]);const tn=Ar/2-Vr/2,Sn=mr[_r],Tn=Br-Ir[kr]-mr[wr],xn=Br/2-Ir[kr]/2+tn,En=ye(Sn,xn,Tn),Ln=(er==="start"?mr[_r]:mr[wr])>0&&xn!==En&&Et.reference[kr]<=Et.floating[kr];return{[ir]:xr[ir]-(Ln?xn<Sn?Sn-xn:Tn-xn:0),data:{[ir]:En,centerOffset:xn-En}}}}),Be={left:"right",right:"left",bottom:"top",top:"bottom"};function Qe(ut){return ut.replace(/left|right|bottom|top/g,Ae=>Be[Ae])}function rt(ut,Ae,Xe){Xe===void 0&&(Xe=!1);const Je=xe(ut),ct=Z(ut),bt=u(ct);let _t=ct==="x"?Je===(Xe?"end":"start")?"right":"left":Je==="start"?"bottom":"top";return Ae.reference[bt]>Ae.floating[bt]&&(_t=Qe(_t)),{main:_t,cross:Qe(_t)}}const Ye={start:"end",end:"start"};function tt(ut){return ut.replace(/start|end/g,Ae=>Ye[Ae])}const ht=["top","right","bottom","left"],gt=(ht.reduce((ut,Ae)=>ut.concat(Ae,Ae+"-start",Ae+"-end"),[]),function(ut){return ut===void 0&&(ut={}),{name:"flip",options:ut,async fn(Ae){var Xe;const{placement:Je,middlewareData:ct,rects:bt,initialPlacement:_t,platform:Et,elements:jt}=Ae,{mainAxis:mr=!0,crossAxis:xr=!0,fallbackPlacements:ir,fallbackStrategy:er="bestFit",flipAlignment:kr=!0,...Ir}=ut,_r=Ee(Je),wr=ir||(_r!==_t&&kr?function(xn){const En=Qe(xn);return[tt(xn),En,tt(En)]}(_t):[Qe(_t)]),Ar=[_t,...wr],Vr=await te(Ae,Ir),Yr=[];let Br=((Xe=ct.flip)==null?void 0:Xe.overflows)||[];if(mr&&Yr.push(Vr[_r]),xr){const{main:xn,cross:En}=rt(Je,bt,await(Et.isRTL==null?void 0:Et.isRTL(jt.floating)));Yr.push(Vr[xn],Vr[En])}if(Br=[...Br,{placement:Je,overflows:Yr}],!Yr.every(xn=>xn<=0)){var tn,Sn;const xn=((tn=(Sn=ct.flip)==null?void 0:Sn.index)!=null?tn:0)+1,En=Ar[xn];if(En)return{data:{index:xn,overflows:Br},reset:{placement:En}};let Ln="bottom";switch(er){case"bestFit":{var Tn;const Zn=(Tn=Br.map(Kn=>[Kn,Kn.overflows.filter($n=>$n>0).reduce(($n,ro)=>$n+ro,0)]).sort((Kn,$n)=>Kn[1]-$n[1])[0])==null?void 0:Tn[0].placement;Zn&&(Ln=Zn);break}case"initialPlacement":Ln=_t}if(Je!==Ln)return{reset:{placement:Ln}}}return{}}}});function Ue(ut,Ae){return{top:ut.top-Ae.height,right:ut.right-Ae.width,bottom:ut.bottom-Ae.height,left:ut.left-Ae.width}}function Ce(ut){return ht.some(Ae=>ut[Ae]>=0)}const Le=function(ut){let{strategy:Ae="referenceHidden",...Xe}=ut===void 0?{}:ut;return{name:"hide",async fn(Je){const{rects:ct}=Je;switch(Ae){case"referenceHidden":{const bt=Ue(await te(Je,{...Xe,elementContext:"reference"}),ct.reference);return{data:{referenceHiddenOffsets:bt,referenceHidden:Ce(bt)}}}case"escaped":{const bt=Ue(await te(Je,{...Xe,altBoundary:!0}),ct.floating);return{data:{escapedOffsets:bt,escaped:Ce(bt)}}}default:return{}}}}},et=function(ut){return ut===void 0&&(ut=0),{name:"offset",options:ut,async fn(Ae){const{x:Xe,y:Je}=Ae,ct=await async function(bt,_t){const{placement:Et,platform:jt,elements:mr}=bt,xr=await(jt.isRTL==null?void 0:jt.isRTL(mr.floating)),ir=Ee(Et),er=xe(Et),kr=Z(Et)==="x",Ir=["left","top"].includes(ir)?-1:1,_r=xr&&kr?-1:1,wr=typeof _t=="function"?_t(bt):_t;let{mainAxis:Ar,crossAxis:Vr,alignmentAxis:Yr}=typeof wr=="number"?{mainAxis:wr,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...wr};return er&&typeof Yr=="number"&&(Vr=er==="end"?-1*Yr:Yr),kr?{x:Vr*_r,y:Ar*Ir}:{x:Ar*Ir,y:Vr*_r}}(Ae,ut);return{x:Xe+ct.x,y:Je+ct.y,data:ct}}}};function ft(ut){return ut==="x"?"y":"x"}const xt=function(ut){return ut===void 0&&(ut={}),{name:"shift",options:ut,async fn(Ae){const{x:Xe,y:Je,placement:ct}=Ae,{mainAxis:bt=!0,crossAxis:_t=!1,limiter:Et={fn:wr=>{let{x:Ar,y:Vr}=wr;return{x:Ar,y:Vr}}},...jt}=ut,mr={x:Xe,y:Je},xr=await te(Ae,jt),ir=Z(Ee(ct)),er=ft(ir);let kr=mr[ir],Ir=mr[er];if(bt){const wr=ir==="y"?"bottom":"right";kr=ye(kr+xr[ir==="y"?"top":"left"],kr,kr-xr[wr])}if(_t){const wr=er==="y"?"bottom":"right";Ir=ye(Ir+xr[er==="y"?"top":"left"],Ir,Ir-xr[wr])}const _r=Et.fn({...Ae,[ir]:kr,[er]:Ir});return{..._r,data:{x:_r.x-Xe,y:_r.y-Je}}}}},wt=function(ut){return ut===void 0&&(ut={}),{options:ut,fn(Ae){const{x:Xe,y:Je,placement:ct,rects:bt,middlewareData:_t}=Ae,{offset:Et=0,mainAxis:jt=!0,crossAxis:mr=!0}=ut,xr={x:Xe,y:Je},ir=Z(ct),er=ft(ir);let kr=xr[ir],Ir=xr[er];const _r=typeof Et=="function"?Et({...bt,placement:ct}):Et,wr=typeof _r=="number"?{mainAxis:_r,crossAxis:0}:{mainAxis:0,crossAxis:0,..._r};if(jt){const tn=ir==="y"?"height":"width",Sn=bt.reference[ir]-bt.floating[tn]+wr.mainAxis,Tn=bt.reference[ir]+bt.reference[tn]-wr.mainAxis;kr<Sn?kr=Sn:kr>Tn&&(kr=Tn)}if(mr){var Ar,Vr,Yr,Br;const tn=ir==="y"?"width":"height",Sn=["top","left"].includes(Ee(ct)),Tn=bt.reference[er]-bt.floating[tn]+(Sn&&(Ar=(Vr=_t.offset)==null?void 0:Vr[er])!=null?Ar:0)+(Sn?0:wr.crossAxis),xn=bt.reference[er]+bt.reference[tn]+(Sn?0:(Yr=(Br=_t.offset)==null?void 0:Br[er])!=null?Yr:0)-(Sn?wr.crossAxis:0);Ir<Tn?Ir=Tn:Ir>xn&&(Ir=xn)}return{[ir]:kr,[er]:Ir}}}},Rt=function(ut){return ut===void 0&&(ut={}),{name:"size",options:ut,async fn(Ae){const{placement:Xe,rects:Je,platform:ct,elements:bt}=Ae,{apply:_t,...Et}=ut,jt=await te(Ae,Et),mr=Ee(Xe),xr=xe(Xe);let ir,er;mr==="top"||mr==="bottom"?(ir=mr,er=xr===(await(ct.isRTL==null?void 0:ct.isRTL(bt.floating))?"start":"end")?"left":"right"):(er=mr,ir=xr==="end"?"top":"bottom");const kr=ce(jt.left,0),Ir=ce(jt.right,0),_r=ce(jt.top,0),wr=ce(jt.bottom,0),Ar={availableHeight:Je.floating.height-(["left","right"].includes(Xe)?2*(_r!==0||wr!==0?_r+wr:ce(jt.top,jt.bottom)):jt[ir]),availableWidth:Je.floating.width-(["top","bottom"].includes(Xe)?2*(kr!==0||Ir!==0?kr+Ir:ce(jt.left,jt.right)):jt[er])},Vr=await ct.getDimensions(bt.floating);_t==null||_t({...Ae,...Ar});const Yr=await ct.getDimensions(bt.floating);return Vr.width!==Yr.width||Vr.height!==Yr.height?{reset:{rects:!0}}:{}}}};function It(ut){return ut&&ut.document&&ut.location&&ut.alert&&ut.setInterval}function At(ut){if(ut==null)return window;if(!It(ut)){const Ae=ut.ownerDocument;return Ae&&Ae.defaultView||window}return ut}function Xt(ut){return At(ut).getComputedStyle(ut)}function tr(ut){return It(ut)?"":ut?(ut.nodeName||"").toLowerCase():""}function Gt(){const ut=navigator.userAgentData;return ut!=null&&ut.brands?ut.brands.map(Ae=>Ae.brand+"/"+Ae.version).join(" "):navigator.userAgent}function Jt(ut){return ut instanceof At(ut).HTMLElement}function gr(ut){return ut instanceof At(ut).Element}function Pt(ut){return typeof ShadowRoot<"u"&&(ut instanceof At(ut).ShadowRoot||ut instanceof ShadowRoot)}function St(ut){const{overflow:Ae,overflowX:Xe,overflowY:Je}=Xt(ut);return/auto|scroll|overlay|hidden/.test(Ae+Je+Xe)}function Zt(ut){return["table","td","th"].includes(tr(ut))}function Tt(ut){const Ae=/firefox/i.test(Gt()),Xe=Xt(ut);return Xe.transform!=="none"||Xe.perspective!=="none"||Xe.contain==="paint"||["transform","perspective"].includes(Xe.willChange)||Ae&&Xe.willChange==="filter"||Ae&&!!Xe.filter&&Xe.filter!=="none"}function Lt(){return!/^((?!chrome|android).)*safari/i.test(Gt())}const Wt=Math.min,qt=Math.max,sr=Math.round;function cr(ut,Ae,Xe){var Je,ct,bt,_t;Ae===void 0&&(Ae=!1),Xe===void 0&&(Xe=!1);const Et=ut.getBoundingClientRect();let jt=1,mr=1;Ae&&Jt(ut)&&(jt=ut.offsetWidth>0&&sr(Et.width)/ut.offsetWidth||1,mr=ut.offsetHeight>0&&sr(Et.height)/ut.offsetHeight||1);const xr=gr(ut)?At(ut):window,ir=!Lt()&&Xe,er=(Et.left+(ir&&(Je=(ct=xr.visualViewport)==null?void 0:ct.offsetLeft)!=null?Je:0))/jt,kr=(Et.top+(ir&&(bt=(_t=xr.visualViewport)==null?void 0:_t.offsetTop)!=null?bt:0))/mr,Ir=Et.width/jt,_r=Et.height/mr;return{width:Ir,height:_r,top:kr,right:er+Ir,bottom:kr+_r,left:er,x:er,y:kr}}function Sr(ut){return(Ae=ut,(Ae instanceof At(Ae).Node?ut.ownerDocument:ut.document)||window.document).documentElement;var Ae}function Mr(ut){return gr(ut)?{scrollLeft:ut.scrollLeft,scrollTop:ut.scrollTop}:{scrollLeft:ut.pageXOffset,scrollTop:ut.pageYOffset}}function zr(ut){return cr(Sr(ut)).left+Mr(ut).scrollLeft}function pr(ut,Ae,Xe){const Je=Jt(Ae),ct=Sr(Ae),bt=cr(ut,Je&&function(jt){const mr=cr(jt);return sr(mr.width)!==jt.offsetWidth||sr(mr.height)!==jt.offsetHeight}(Ae),Xe==="fixed");let _t={scrollLeft:0,scrollTop:0};const Et={x:0,y:0};if(Je||!Je&&Xe!=="fixed")if((tr(Ae)!=="body"||St(ct))&&(_t=Mr(Ae)),Jt(Ae)){const jt=cr(Ae,!0);Et.x=jt.x+Ae.clientLeft,Et.y=jt.y+Ae.clientTop}else ct&&(Et.x=zr(ct));return{x:bt.left+_t.scrollLeft-Et.x,y:bt.top+_t.scrollTop-Et.y,width:bt.width,height:bt.height}}function Ft(ut){return tr(ut)==="html"?ut:ut.assignedSlot||ut.parentNode||(Pt(ut)?ut.host:null)||Sr(ut)}function or(ut){return Jt(ut)&&getComputedStyle(ut).position!=="fixed"?ut.offsetParent:null}function rr(ut){const Ae=At(ut);let Xe=or(ut);for(;Xe&&Zt(Xe)&&getComputedStyle(Xe).position==="static";)Xe=or(Xe);return Xe&&(tr(Xe)==="html"||tr(Xe)==="body"&&getComputedStyle(Xe).position==="static"&&!Tt(Xe))?Ae:Xe||function(Je){let ct=Ft(Je);for(Pt(ct)&&(ct=ct.host);Jt(ct)&&!["html","body"].includes(tr(ct));){if(Tt(ct))return ct;ct=ct.parentNode}return null}(ut)||Ae}function Or(ut){if(Jt(ut))return{width:ut.offsetWidth,height:ut.offsetHeight};const Ae=cr(ut);return{width:Ae.width,height:Ae.height}}function Kr(ut){const Ae=Ft(ut);return["html","body","#document"].includes(tr(Ae))?ut.ownerDocument.body:Jt(Ae)&&St(Ae)?Ae:Kr(Ae)}function Xr(ut,Ae){var Xe;Ae===void 0&&(Ae=[]);const Je=Kr(ut),ct=Je===((Xe=ut.ownerDocument)==null?void 0:Xe.body),bt=At(Je),_t=ct?[bt].concat(bt.visualViewport||[],St(Je)?Je:[]):Je,Et=Ae.concat(_t);return ct?Et:Et.concat(Xr(_t))}function cn(ut,Ae,Xe){return Ae==="viewport"?Y(function(Je,ct){const bt=At(Je),_t=Sr(Je),Et=bt.visualViewport;let jt=_t.clientWidth,mr=_t.clientHeight,xr=0,ir=0;if(Et){jt=Et.width,mr=Et.height;const er=Lt();(er||!er&&ct==="fixed")&&(xr=Et.offsetLeft,ir=Et.offsetTop)}return{width:jt,height:mr,x:xr,y:ir}}(ut,Xe)):gr(Ae)?function(Je,ct){const bt=cr(Je,!1,ct==="fixed"),_t=bt.top+Je.clientTop,Et=bt.left+Je.clientLeft;return{top:_t,left:Et,x:Et,y:_t,right:Et+Je.clientWidth,bottom:_t+Je.clientHeight,width:Je.clientWidth,height:Je.clientHeight}}(Ae,Xe):Y(function(Je){var ct;const bt=Sr(Je),_t=Mr(Je),Et=(ct=Je.ownerDocument)==null?void 0:ct.body,jt=qt(bt.scrollWidth,bt.clientWidth,Et?Et.scrollWidth:0,Et?Et.clientWidth:0),mr=qt(bt.scrollHeight,bt.clientHeight,Et?Et.scrollHeight:0,Et?Et.clientHeight:0);let xr=-_t.scrollLeft+zr(Je);const ir=-_t.scrollTop;return Xt(Et||bt).direction==="rtl"&&(xr+=qt(bt.clientWidth,Et?Et.clientWidth:0)-jt),{width:jt,height:mr,x:xr,y:ir}}(Sr(ut)))}function en(ut){const Ae=Xr(ut),Xe=["absolute","fixed"].includes(Xt(ut).position)&&Jt(ut)?rr(ut):ut;return gr(Xe)?Ae.filter(Je=>gr(Je)&&function(ct,bt){const _t=bt.getRootNode==null?void 0:bt.getRootNode();if(ct.contains(bt))return!0;if(_t&&Pt(_t)){let Et=bt;do{if(Et&&ct===Et)return!0;Et=Et.parentNode||Et.host}while(Et)}return!1}(Je,Xe)&&tr(Je)!=="body"):[]}const ur={getClippingRect:function(ut){let{element:Ae,boundary:Xe,rootBoundary:Je,strategy:ct}=ut;const bt=[...Xe==="clippingAncestors"?en(Ae):[].concat(Xe),Je],_t=bt[0],Et=bt.reduce((jt,mr)=>{const xr=cn(Ae,mr,ct);return jt.top=qt(xr.top,jt.top),jt.right=Wt(xr.right,jt.right),jt.bottom=Wt(xr.bottom,jt.bottom),jt.left=qt(xr.left,jt.left),jt},cn(Ae,_t,ct));return{width:Et.right-Et.left,height:Et.bottom-Et.top,x:Et.left,y:Et.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(ut){let{rect:Ae,offsetParent:Xe,strategy:Je}=ut;const ct=Jt(Xe),bt=Sr(Xe);if(Xe===bt)return Ae;let _t={scrollLeft:0,scrollTop:0};const Et={x:0,y:0};if((ct||!ct&&Je!=="fixed")&&((tr(Xe)!=="body"||St(bt))&&(_t=Mr(Xe)),Jt(Xe))){const jt=cr(Xe,!0);Et.x=jt.x+Xe.clientLeft,Et.y=jt.y+Xe.clientTop}return{...Ae,x:Ae.x-_t.scrollLeft+Et.x,y:Ae.y-_t.scrollTop+Et.y}},isElement:gr,getDimensions:Or,getOffsetParent:rr,getDocumentElement:Sr,getElementRects:ut=>{let{reference:Ae,floating:Xe,strategy:Je}=ut;return{reference:pr(Ae,rr(Xe),Je),floating:{...Or(Xe),x:0,y:0}}},getClientRects:ut=>Array.from(ut.getClientRects()),isRTL:ut=>Xt(ut).direction==="rtl"};function Dt(ut,Ae,Xe,Je){Je===void 0&&(Je={});const{ancestorScroll:ct=!0,ancestorResize:bt=!0,elementResize:_t=!0,animationFrame:Et=!1}=Je,jt=ct&&!Et,mr=bt&&!Et,xr=jt||mr?[...gr(ut)?Xr(ut):[],...Xr(Ae)]:[];xr.forEach(Ir=>{jt&&Ir.addEventListener("scroll",Xe,{passive:!0}),mr&&Ir.addEventListener("resize",Xe)});let ir,er=null;if(_t){let Ir=!0;er=new ResizeObserver(()=>{Ir||Xe(),Ir=!1}),gr(ut)&&!Et&&er.observe(ut),er.observe(Ae)}let kr=Et?cr(ut):null;return Et&&function Ir(){const _r=cr(ut);!kr||_r.x===kr.x&&_r.y===kr.y&&_r.width===kr.width&&_r.height===kr.height||Xe(),kr=_r,ir=requestAnimationFrame(Ir)}(),Xe(),()=>{var Ir;xr.forEach(_r=>{jt&&_r.removeEventListener("scroll",Xe),mr&&_r.removeEventListener("resize",Xe)}),(Ir=er)==null||Ir.disconnect(),er=null,Et&&cancelAnimationFrame(ir)}}const Nt=(ut,Ae,Xe)=>(async(Je,ct,bt)=>{const{placement:_t="bottom",strategy:Et="absolute",middleware:jt=[],platform:mr}=bt,xr=await(mr.isRTL==null?void 0:mr.isRTL(ct));let ir=await mr.getElementRects({reference:Je,floating:ct,strategy:Et}),{x:er,y:kr}=g(ir,_t,xr),Ir=_t,_r={},wr=0;for(let Ar=0;Ar<jt.length;Ar++){const{name:Vr,fn:Yr}=jt[Ar],{x:Br,y:tn,data:Sn,reset:Tn}=await Yr({x:er,y:kr,initialPlacement:_t,placement:Ir,strategy:Et,middlewareData:_r,rects:ir,platform:mr,elements:{reference:Je,floating:ct}});er=Br??er,kr=tn??kr,_r={..._r,[Vr]:{..._r[Vr],...Sn}},Tn&&wr<=50&&(wr++,typeof Tn=="object"&&(Tn.placement&&(Ir=Tn.placement),Tn.rects&&(ir=Tn.rects===!0?await mr.getElementRects({reference:Je,floating:ct,strategy:Et}):Tn.rects),{x:er,y:kr}=g(ir,Ir,xr)),Ar=-1)}return{x:er,y:kr,placement:Ir,strategy:Et,middlewareData:_r}})(ut,Ae,{platform:ur,...Xe});var Ut=n(5156),hr=n.n(Ut),jr=typeof document<"u"?M.useLayoutEffect:M.useEffect;function Cr(ut,Ae){if(ut===Ae)return!0;if(typeof ut!=typeof Ae)return!1;if(typeof ut=="function"&&ut.toString()===Ae.toString())return!0;let Xe,Je,ct;if(ut&&Ae&&typeof ut=="object"){if(Array.isArray(ut)){if(Xe=ut.length,Xe!=Ae.length)return!1;for(Je=Xe;Je--!=0;)if(!Cr(ut[Je],Ae[Je]))return!1;return!0}if(ct=Object.keys(ut),Xe=ct.length,Xe!==Object.keys(Ae).length)return!1;for(Je=Xe;Je--!=0;)if(!Object.prototype.hasOwnProperty.call(Ae,ct[Je]))return!1;for(Je=Xe;Je--!=0;){const bt=ct[Je];if((bt!=="_owner"||!ut.$$typeof)&&!Cr(ut[bt],Ae[bt]))return!1}return!0}return ut!=ut&&Ae!=Ae}function Zr(ut){let{middleware:Ae,placement:Xe="bottom",strategy:Je="absolute",whileElementsMounted:ct}=ut===void 0?{}:ut;const bt=M.useRef(null),_t=M.useRef(null),Et=function(Yr){const Br=M.useRef(Yr);return jr(()=>{Br.current=Yr}),Br}(ct),jt=M.useRef(null),[mr,xr]=M.useState({x:null,y:null,strategy:Je,placement:Xe,middlewareData:{}}),[ir,er]=M.useState(Ae);Cr(ir==null?void 0:ir.map(Yr=>{let{options:Br}=Yr;return Br}),Ae==null?void 0:Ae.map(Yr=>{let{options:Br}=Yr;return Br}))||er(Ae);const kr=M.useCallback(()=>{bt.current&&_t.current&&Nt(bt.current,_t.current,{middleware:ir,placement:Xe,strategy:Je}).then(Yr=>{Ir.current&&Ut.flushSync(()=>{xr(Yr)})})},[ir,Xe,Je]);jr(()=>{Ir.current&&kr()},[kr]);const Ir=M.useRef(!1);jr(()=>(Ir.current=!0,()=>{Ir.current=!1}),[]);const _r=M.useCallback(()=>{if(typeof jt.current=="function"&&(jt.current(),jt.current=null),bt.current&&_t.current)if(Et.current){const Yr=Et.current(bt.current,_t.current,kr);jt.current=Yr}else kr()},[kr,Et]),wr=M.useCallback(Yr=>{bt.current=Yr,_r()},[_r]),Ar=M.useCallback(Yr=>{_t.current=Yr,_r()},[_r]),Vr=M.useMemo(()=>({reference:bt,floating:_t}),[]);return M.useMemo(()=>({...mr,update:kr,refs:Vr,reference:wr,floating:Ar}),[mr,kr,Vr,wr,Ar])}const Dr=ut=>{const{element:Ae,padding:Xe}=ut;return{name:"arrow",options:ut,fn(Je){return ct=Ae,Object.prototype.hasOwnProperty.call(ct,"current")?Ae.current!=null?je({element:Ae.current,padding:Xe}).fn(Je):{}:Ae?je({element:Ae,padding:Xe}).fn(Je):{};var ct}}},Fr=(0,M.forwardRef)((ut,Ae)=>{const{children:Xe,width:Je=10,height:ct=5,...bt}=ut;return(0,M.createElement)(h.WV.svg,(0,v.Z)({},bt,{ref:Ae,width:Je,height:ct,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),ut.asChild?Xe:(0,M.createElement)("polygon",{points:"0,0 30,0 15,10"}))}),ln=Fr;var Gr=n(3348);const Rr="Popper",[Wr,Ur]=(0,y.b)(Rr),[rn,an]=Wr(Rr),Qr=ut=>{const{__scopePopper:Ae,children:Xe}=ut,[Je,ct]=(0,M.useState)(null);return(0,M.createElement)(rn,{scope:Ae,anchor:Je,onAnchorChange:ct},Xe)},In="PopperAnchor",Xn=(0,M.forwardRef)((ut,Ae)=>{const{__scopePopper:Xe,virtualRef:Je,...ct}=ut,bt=an(In,Xe),_t=(0,M.useRef)(null),Et=(0,a.e)(Ae,_t);return(0,M.useEffect)(()=>{bt.onAnchorChange((Je==null?void 0:Je.current)||_t.current)}),Je?null:(0,M.createElement)(h.WV.div,(0,v.Z)({},ct,{ref:Et}))}),go="PopperContent",[bo,_o]=Wr(go),[wo,ao]=Wr(go,{hasParent:!1,positionUpdateFns:new Set}),co=(0,M.forwardRef)((ut,Ae)=>{var Xe,Je,ct,bt,_t,Et,jt,mr;const{__scopePopper:xr,side:ir="bottom",sideOffset:er=0,align:kr="center",alignOffset:Ir=0,arrowPadding:_r=0,collisionBoundary:wr=[],collisionPadding:Ar=0,sticky:Vr="partial",hideWhenDetached:Yr=!1,avoidCollisions:Br=!0,onPlaced:tn,...Sn}=ut,Tn=an(go,xr),[xn,En]=(0,M.useState)(null),Ln=(0,a.e)(Ae,Zi=>En(Zi)),[Zn,Kn]=(0,M.useState)(null),$n=function(Zi){const[Ko,Ji]=(0,M.useState)(void 0);return(0,Gr.b)(()=>{if(Zi){Ji({width:Zi.offsetWidth,height:Zi.offsetHeight});const ms=new ResizeObserver(Bs=>{if(!Array.isArray(Bs)||!Bs.length)return;const fn=Bs[0];let hn,la;if("borderBoxSize"in fn){const Va=fn.borderBoxSize,ts=Array.isArray(Va)?Va[0]:Va;hn=ts.inlineSize,la=ts.blockSize}else hn=Zi.offsetWidth,la=Zi.offsetHeight;Ji({width:hn,height:la})});return ms.observe(Zi,{box:"border-box"}),()=>ms.unobserve(Zi)}Ji(void 0)},[Zi]),Ko}(Zn),ro=(Xe=$n==null?void 0:$n.width)!==null&&Xe!==void 0?Xe:0,Uo=(Je=$n==null?void 0:$n.height)!==null&&Je!==void 0?Je:0,Ti=ir+(kr!=="center"?"-"+kr:""),Bi=typeof Ar=="number"?Ar:{top:0,right:0,bottom:0,left:0,...Ar},Ei=Array.isArray(wr)?wr:[wr],Vi=Ei.length>0,Ni={padding:Bi,boundary:Ei.filter(pt),altBoundary:Vi},{reference:ti,floating:$o,strategy:Vo,x:Xo,y:Go,placement:Di,middlewareData:Oa,update:Ta}=Zr({strategy:"fixed",placement:Ti,whileElementsMounted:Dt,middleware:[Kt(),et({mainAxis:er+Uo,alignmentAxis:Ir}),Br?xt({mainAxis:!0,crossAxis:!1,limiter:Vr==="partial"?wt():void 0,...Ni}):void 0,Zn?Dr({element:Zn,padding:_r}):void 0,Br?gt({...Ni}):void 0,Rt({...Ni,apply:({elements:Zi,availableWidth:Ko,availableHeight:Ji})=>{Zi.floating.style.setProperty("--radix-popper-available-width",`${Ko}px`),Zi.floating.style.setProperty("--radix-popper-available-height",`${Ji}px`)}}),fr({arrowWidth:ro,arrowHeight:Uo}),Yr?Le({strategy:"referenceHidden"}):void 0].filter($e)});(0,Gr.b)(()=>{ti(Tn.anchor)},[ti,Tn.anchor]);const Ki=Xo!==null&&Go!==null,[na,Wa]=vr(Di),wa=(0,m.W)(tn);(0,Gr.b)(()=>{Ki&&(wa==null||wa())},[Ki,wa]);const es=(ct=Oa.arrow)===null||ct===void 0?void 0:ct.x,Cs=(bt=Oa.arrow)===null||bt===void 0?void 0:bt.y,Ua=((_t=Oa.arrow)===null||_t===void 0?void 0:_t.centerOffset)!==0,[yi,ci]=(0,M.useState)();(0,Gr.b)(()=>{xn&&ci(window.getComputedStyle(xn).zIndex)},[xn]);const{hasParent:ja,positionUpdateFns:Ri}=ao(go,xr),ki=!ja;(0,M.useLayoutEffect)(()=>{if(!ki)return Ri.add(Ta),()=>{Ri.delete(Ta)}},[ki,Ri,Ta]),(0,Gr.b)(()=>{ki&&Ki&&Array.from(Ri).reverse().forEach(Zi=>requestAnimationFrame(Zi))},[ki,Ki,Ri]);const Ea={"data-side":na,"data-align":Wa,...Sn,ref:Ln,style:{...Sn.style,animation:Ki?void 0:"none",opacity:(Et=Oa.hide)!==null&&Et!==void 0&&Et.referenceHidden?0:void 0}};return(0,M.createElement)("div",{ref:$o,"data-radix-popper-content-wrapper":"",style:{position:Vo,left:0,top:0,transform:Ki?`translate3d(${Math.round(Xo)}px, ${Math.round(Go)}px, 0)`:"translate3d(0, -200%, 0)",minWidth:"max-content",zIndex:yi,"--radix-popper-transform-origin":[(jt=Oa.transformOrigin)===null||jt===void 0?void 0:jt.x,(mr=Oa.transformOrigin)===null||mr===void 0?void 0:mr.y].join(" ")},dir:ut.dir},(0,M.createElement)(bo,{scope:xr,placedSide:na,onArrowChange:Kn,arrowX:es,arrowY:Cs,shouldHideArrow:Ua},ki?(0,M.createElement)(wo,{scope:xr,hasParent:!0,positionUpdateFns:Ri},(0,M.createElement)(h.WV.div,Ea)):(0,M.createElement)(h.WV.div,Ea)))}),it="PopperArrow",Oe={top:"bottom",right:"left",bottom:"top",left:"right"},ze=(0,M.forwardRef)(function(ut,Ae){const{__scopePopper:Xe,...Je}=ut,ct=_o(it,Xe),bt=Oe[ct.placedSide];return(0,M.createElement)("span",{ref:ct.onArrowChange,style:{position:"absolute",left:ct.arrowX,top:ct.arrowY,[bt]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[ct.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[ct.placedSide],visibility:ct.shouldHideArrow?"hidden":void 0}},(0,M.createElement)(ln,(0,v.Z)({},Je,{ref:Ae,style:{...Je.style,display:"block"}})))});function $e(ut){return ut!==void 0}function pt(ut){return ut!==null}const Kt=()=>({name:"anchorCssProperties",fn(ut){const{rects:Ae,elements:Xe}=ut,{width:Je,height:ct}=Ae.reference;return Xe.floating.style.setProperty("--radix-popper-anchor-width",`${Je}px`),Xe.floating.style.setProperty("--radix-popper-anchor-height",`${ct}px`),{}}}),fr=ut=>({name:"transformOrigin",options:ut,fn(Ae){var Xe,Je,ct,bt,_t;const{placement:Et,rects:jt,middlewareData:mr}=Ae,xr=((Xe=mr.arrow)===null||Xe===void 0?void 0:Xe.centerOffset)!==0,ir=xr?0:ut.arrowWidth,er=xr?0:ut.arrowHeight,[kr,Ir]=vr(Et),_r={start:"0%",center:"50%",end:"100%"}[Ir],wr=((Je=(ct=mr.arrow)===null||ct===void 0?void 0:ct.x)!==null&&Je!==void 0?Je:0)+ir/2,Ar=((bt=(_t=mr.arrow)===null||_t===void 0?void 0:_t.y)!==null&&bt!==void 0?bt:0)+er/2;let Vr="",Yr="";return kr==="bottom"?(Vr=xr?_r:`${wr}px`,Yr=-er+"px"):kr==="top"?(Vr=xr?_r:`${wr}px`,Yr=`${jt.floating.height+er}px`):kr==="right"?(Vr=-er+"px",Yr=xr?_r:`${Ar}px`):kr==="left"&&(Vr=`${jt.floating.width+er}px`,Yr=xr?_r:`${Ar}px`),{data:{x:Vr,y:Yr}}}});function vr(ut){const[Ae,Xe="center"]=ut.split("-");return[Ae,Xe]}const Qt=Qr,Vt=Xn,Er=co,Lr=ze,Jr=(0,M.forwardRef)((ut,Ae)=>{var Xe;const{container:Je=globalThis==null||(Xe=globalThis.document)===null||Xe===void 0?void 0:Xe.body,...ct}=ut;return Je?hr().createPortal((0,M.createElement)(h.WV.div,(0,v.Z)({},ct,{ref:Ae})),Je):null});var on=n(1483),gn=n(4801),yn=n(2673),dn=function(ut){return typeof document>"u"?null:(Array.isArray(ut)?ut[0]:ut).ownerDocument.body},mn=new WeakMap,Hn=new WeakMap,eo={},So=0,Qo=function(ut){return ut&&(ut.host||Qo(ut.parentNode))},Fo=function(ut,Ae,Xe,Je){var ct=function(ir,er){return er.map(function(kr){if(ir.contains(kr))return kr;var Ir=Qo(kr);return Ir&&ir.contains(Ir)?Ir:(console.error("aria-hidden",kr,"in not contained inside",ir,". Doing nothing"),null)}).filter(function(kr){return!!kr})}(Ae,Array.isArray(ut)?ut:[ut]);eo[Xe]||(eo[Xe]=new WeakMap);var bt=eo[Xe],_t=[],Et=new Set,jt=new Set(ct),mr=function(ir){ir&&!Et.has(ir)&&(Et.add(ir),mr(ir.parentNode))};ct.forEach(mr);var xr=function(ir){ir&&!jt.has(ir)&&Array.prototype.forEach.call(ir.children,function(er){if(Et.has(er))xr(er);else{var kr=er.getAttribute(Je),Ir=kr!==null&&kr!=="false",_r=(mn.get(er)||0)+1,wr=(bt.get(er)||0)+1;mn.set(er,_r),bt.set(er,wr),_t.push(er),_r===1&&Ir&&Hn.set(er,!0),wr===1&&er.setAttribute(Xe,"true"),Ir||er.setAttribute(Je,"true")}})};return xr(Ae),Et.clear(),So++,function(){_t.forEach(function(ir){var er=mn.get(ir)-1,kr=bt.get(ir)-1;mn.set(ir,er),bt.set(ir,kr),er||(Hn.has(ir)||ir.removeAttribute(Je),Hn.delete(ir)),kr||ir.removeAttribute(Xe)}),--So||(mn=new WeakMap,mn=new WeakMap,Hn=new WeakMap,eo={})}},On=function(ut,Ae,Xe){Xe===void 0&&(Xe="data-aria-hidden");var Je=Array.from(Array.isArray(ut)?ut:[ut]),ct=dn(ut);return ct?(Je.push.apply(Je,Array.from(ct.querySelectorAll("[aria-live]"))),Fo(Je,ct,Xe,"aria-hidden")):function(){return null}},bn=function(){return bn=Object.assign||function(ut){for(var Ae,Xe=1,Je=arguments.length;Xe<Je;Xe++)for(var ct in Ae=arguments[Xe])Object.prototype.hasOwnProperty.call(Ae,ct)&&(ut[ct]=Ae[ct]);return ut},bn.apply(this,arguments)};function Yn(ut,Ae){var Xe={};for(var Je in ut)Object.prototype.hasOwnProperty.call(ut,Je)&&Ae.indexOf(Je)<0&&(Xe[Je]=ut[Je]);if(ut!=null&&typeof Object.getOwnPropertySymbols=="function"){var ct=0;for(Je=Object.getOwnPropertySymbols(ut);ct<Je.length;ct++)Ae.indexOf(Je[ct])<0&&Object.prototype.propertyIsEnumerable.call(ut,Je[ct])&&(Xe[Je[ct]]=ut[Je[ct]])}return Xe}var vo="right-scroll-bar-position",Ao="width-before-scroll-bar";function Yo(ut,Ae){return Xe=null,Je=function(bt){return ut.forEach(function(_t){return function(Et,jt){return typeof Et=="function"?Et(jt):Et&&(Et.current=jt),Et}(_t,bt)})},(ct=(0,M.useState)(function(){return{value:Xe,callback:Je,facade:{get current(){return ct.value},set current(bt){var _t=ct.value;_t!==bt&&(ct.value=bt,ct.callback(bt,_t))}}}})[0]).callback=Je,ct.facade;var Xe,Je,ct}function vi(ut){return ut}function Oi(ut,Ae){Ae===void 0&&(Ae=vi);var Xe=[],Je=!1,ct={read:function(){if(Je)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return Xe.length?Xe[Xe.length-1]:ut},useMedium:function(bt){var _t=Ae(bt,Je);return Xe.push(_t),function(){Xe=Xe.filter(function(Et){return Et!==_t})}},assignSyncMedium:function(bt){for(Je=!0;Xe.length;){var _t=Xe;Xe=[],_t.forEach(bt)}Xe={push:function(Et){return bt(Et)},filter:function(){return Xe}}},assignMedium:function(bt){Je=!0;var _t=[];if(Xe.length){var Et=Xe;Xe=[],Et.forEach(bt),_t=Xe}var jt=function(){var xr=_t;_t=[],xr.forEach(bt)},mr=function(){return Promise.resolve().then(jt)};mr(),Xe={push:function(xr){_t.push(xr),mr()},filter:function(xr){return _t=_t.filter(xr),Xe}}}};return ct}var bi=function(ut){ut===void 0&&(ut={});var Ae=Oi(null);return Ae.options=bn({async:!0,ssr:!1},ut),Ae}(),Qi=function(){},Ja=M.forwardRef(function(ut,Ae){var Xe=M.useRef(null),Je=M.useState({onScrollCapture:Qi,onWheelCapture:Qi,onTouchMoveCapture:Qi}),ct=Je[0],bt=Je[1],_t=ut.forwardProps,Et=ut.children,jt=ut.className,mr=ut.removeScrollBar,xr=ut.enabled,ir=ut.shards,er=ut.sideCar,kr=ut.noIsolation,Ir=ut.inert,_r=ut.allowPinchZoom,wr=ut.as,Ar=wr===void 0?"div":wr,Vr=Yn(ut,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),Yr=er,Br=Yo([Xe,Ae]),tn=bn(bn({},Vr),ct);return M.createElement(M.Fragment,null,xr&&M.createElement(Yr,{sideCar:bi,removeScrollBar:mr,shards:ir,noIsolation:kr,inert:Ir,setCallbacks:bt,allowPinchZoom:!!_r,lockRef:Xe}),_t?M.cloneElement(M.Children.only(Et),bn(bn({},tn),{ref:Br})):M.createElement(Ar,bn({},tn,{className:jt,ref:Br}),Et))});Ja.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},Ja.classNames={fullWidth:Ao,zeroRight:vo};var Ha=function(ut){var Ae=ut.sideCar,Xe=Yn(ut,["sideCar"]);if(!Ae)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var Je=Ae.read();if(!Je)throw new Error("Sidecar medium not found");return M.createElement(Je,bn({},Xe))};Ha.isSideCarExport=!0;function ks(){if(!document)return null;var ut=document.createElement("style");ut.type="text/css";var Ae=n.nc;return Ae&&ut.setAttribute("nonce",Ae),ut}var ol=function(){var ut=0,Ae=null;return{add:function(Xe){var Je,ct;ut==0&&(Ae=ks())&&(ct=Xe,(Je=Ae).styleSheet?Je.styleSheet.cssText=ct:Je.appendChild(document.createTextNode(ct)),function(bt){(document.head||document.getElementsByTagName("head")[0]).appendChild(bt)}(Ae)),ut++},remove:function(){!--ut&&Ae&&(Ae.parentNode&&Ae.parentNode.removeChild(Ae),Ae=null)}}},Da=function(){var ut,Ae=(ut=ol(),function(Xe,Je){M.useEffect(function(){return ut.add(Xe),function(){ut.remove()}},[Xe&&Je])});return function(Xe){var Je=Xe.styles,ct=Xe.dynamic;return Ae(Je,ct),null}},As={left:0,top:0,right:0,gap:0},Ca=function(ut){return parseInt(ut||"",10)||0},da=function(ut){if(ut===void 0&&(ut="margin"),typeof window>"u")return As;var Ae=function(ct){var bt=window.getComputedStyle(document.body),_t=bt[ct==="padding"?"paddingLeft":"marginLeft"],Et=bt[ct==="padding"?"paddingTop":"marginTop"],jt=bt[ct==="padding"?"paddingRight":"marginRight"];return[Ca(_t),Ca(Et),Ca(jt)]}(ut),Xe=document.documentElement.clientWidth,Je=window.innerWidth;return{left:Ae[0],top:Ae[1],right:Ae[2],gap:Math.max(0,Je-Xe+Ae[2]-Ae[0])}},Hi=Da(),Gi=function(ut,Ae,Xe,Je){var ct=ut.left,bt=ut.top,_t=ut.right,Et=ut.gap;return Xe===void 0&&(Xe="margin"),`
  .`.concat("with-scroll-bars-hidden",` {
   overflow: hidden `).concat(Je,`;
   padding-right: `).concat(Et,"px ").concat(Je,`;
  }
  body {
    overflow: hidden `).concat(Je,`;
    overscroll-behavior: contain;
    `).concat([Ae&&"position: relative ".concat(Je,";"),Xe==="margin"&&`
    padding-left: `.concat(ct,`px;
    padding-top: `).concat(bt,`px;
    padding-right: `).concat(_t,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(Et,"px ").concat(Je,`;
    `),Xe==="padding"&&"padding-right: ".concat(Et,"px ").concat(Je,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(vo,` {
    right: `).concat(Et,"px ").concat(Je,`;
  }
  
  .`).concat(Ao,` {
    margin-right: `).concat(Et,"px ").concat(Je,`;
  }
  
  .`).concat(vo," .").concat(vo,` {
    right: 0 `).concat(Je,`;
  }
  
  .`).concat(Ao," .").concat(Ao,` {
    margin-right: 0 `).concat(Je,`;
  }
  
  body {
    `).concat("--removed-body-scroll-bar-size",": ").concat(Et,`px;
  }
`)},ra=function(ut){var Ae=ut.noRelative,Xe=ut.noImportant,Je=ut.gapMode,ct=Je===void 0?"margin":Je,bt=M.useMemo(function(){return da(ct)},[ct]);return M.createElement(Hi,{styles:Gi(bt,!Ae,ct,Xe?"":"!important")})},Ds=!1;if(typeof window<"u")try{var Ra=Object.defineProperty({},"passive",{get:function(){return Ds=!0,!0}});window.addEventListener("test",Ra,Ra),window.removeEventListener("test",Ra,Ra)}catch{Ds=!1}var Fi=!!Ds&&{passive:!1},me=function(ut,Ae){var Xe=window.getComputedStyle(ut);return Xe[Ae]!=="hidden"&&!(Xe.overflowY===Xe.overflowX&&!function(Je){return Je.tagName==="TEXTAREA"}(ut)&&Xe[Ae]==="visible")},ot=function(ut,Ae){var Xe=Ae;do{if(typeof ShadowRoot<"u"&&Xe instanceof ShadowRoot&&(Xe=Xe.host),mt(ut,Xe)){var Je=Ht(ut,Xe);if(Je[1]>Je[2])return!0}Xe=Xe.parentNode}while(Xe&&Xe!==document.body);return!1},mt=function(ut,Ae){return ut==="v"?function(Xe){return me(Xe,"overflowY")}(Ae):function(Xe){return me(Xe,"overflowX")}(Ae)},Ht=function(ut,Ae){return ut==="v"?[(Xe=Ae).scrollTop,Xe.scrollHeight,Xe.clientHeight]:function(Je){return[Je.scrollLeft,Je.scrollWidth,Je.clientWidth]}(Ae);var Xe},Hr=function(ut){return"changedTouches"in ut?[ut.changedTouches[0].clientX,ut.changedTouches[0].clientY]:[0,0]},sn=function(ut){return[ut.deltaX,ut.deltaY]},Fn=function(ut){return ut&&"current"in ut?ut.current:ut},ri=function(ut){return`
  .block-interactivity-`.concat(ut,` {pointer-events: none;}
  .allow-interactivity-`).concat(ut,` {pointer-events: all;}
`)},Mi=0,Co=[],ai,hi=(ai=function(ut){var Ae=M.useRef([]),Xe=M.useRef([0,0]),Je=M.useRef(),ct=M.useState(Mi++)[0],bt=M.useState(function(){return Da()})[0],_t=M.useRef(ut);M.useEffect(function(){_t.current=ut},[ut]),M.useEffect(function(){if(ut.inert){document.body.classList.add("block-interactivity-".concat(ct));var _r=function(wr,Ar,Vr){for(var Yr,Br=0,tn=Ar.length;Br<tn;Br++)!Yr&&Br in Ar||(Yr||(Yr=Array.prototype.slice.call(Ar,0,Br)),Yr[Br]=Ar[Br]);return wr.concat(Yr||Array.prototype.slice.call(Ar))}([ut.lockRef.current],(ut.shards||[]).map(Fn)).filter(Boolean);return _r.forEach(function(wr){return wr.classList.add("allow-interactivity-".concat(ct))}),function(){document.body.classList.remove("block-interactivity-".concat(ct)),_r.forEach(function(wr){return wr.classList.remove("allow-interactivity-".concat(ct))})}}},[ut.inert,ut.lockRef.current,ut.shards]);var Et=M.useCallback(function(_r,wr){if("touches"in _r&&_r.touches.length===2)return!_t.current.allowPinchZoom;var Ar,Vr=Hr(_r),Yr=Xe.current,Br="deltaX"in _r?_r.deltaX:Yr[0]-Vr[0],tn="deltaY"in _r?_r.deltaY:Yr[1]-Vr[1],Sn=_r.target,Tn=Math.abs(Br)>Math.abs(tn)?"h":"v";if("touches"in _r&&Tn==="h"&&Sn.type==="range")return!1;var xn=ot(Tn,Sn);if(!xn)return!0;if(xn?Ar=Tn:(Ar=Tn==="v"?"h":"v",xn=ot(Tn,Sn)),!xn)return!1;if(!Je.current&&"changedTouches"in _r&&(Br||tn)&&(Je.current=Ar),!Ar)return!0;var En=Je.current||Ar;return function(Ln,Zn,Kn,$n,ro){var Uo=function(Di,Oa){return Di==="h"&&Oa==="rtl"?-1:1}(Ln,window.getComputedStyle(Zn).direction),Ti=Uo*$n,Bi=Kn.target,Ei=Zn.contains(Bi),Vi=!1,Ni=Ti>0,ti=0,$o=0;do{var Vo=Ht(Ln,Bi),Xo=Vo[0],Go=Vo[1]-Vo[2]-Uo*Xo;(Xo||Go)&&mt(Ln,Bi)&&(ti+=Go,$o+=Xo),Bi=Bi.parentNode}while(!Ei&&Bi!==document.body||Ei&&(Zn.contains(Bi)||Zn===Bi));return(Ni&&ti===0||!Ni&&$o===0)&&(Vi=!0),Vi}(En,wr,_r,En==="h"?Br:tn)},[]),jt=M.useCallback(function(_r){var wr=_r;if(Co.length&&Co[Co.length-1]===bt){var Ar="deltaY"in wr?sn(wr):Hr(wr),Vr=Ae.current.filter(function(Br){return Br.name===wr.type&&Br.target===wr.target&&function(tn,Sn){return tn[0]===Sn[0]&&tn[1]===Sn[1]}(Br.delta,Ar)})[0];if(Vr&&Vr.should)wr.cancelable&&wr.preventDefault();else if(!Vr){var Yr=(_t.current.shards||[]).map(Fn).filter(Boolean).filter(function(Br){return Br.contains(wr.target)});(Yr.length>0?Et(wr,Yr[0]):!_t.current.noIsolation)&&wr.cancelable&&wr.preventDefault()}}},[]),mr=M.useCallback(function(_r,wr,Ar,Vr){var Yr={name:_r,delta:wr,target:Ar,should:Vr};Ae.current.push(Yr),setTimeout(function(){Ae.current=Ae.current.filter(function(Br){return Br!==Yr})},1)},[]),xr=M.useCallback(function(_r){Xe.current=Hr(_r),Je.current=void 0},[]),ir=M.useCallback(function(_r){mr(_r.type,sn(_r),_r.target,Et(_r,ut.lockRef.current))},[]),er=M.useCallback(function(_r){mr(_r.type,Hr(_r),_r.target,Et(_r,ut.lockRef.current))},[]);M.useEffect(function(){return Co.push(bt),ut.setCallbacks({onScrollCapture:ir,onWheelCapture:ir,onTouchMoveCapture:er}),document.addEventListener("wheel",jt,Fi),document.addEventListener("touchmove",jt,Fi),document.addEventListener("touchstart",xr,Fi),function(){Co=Co.filter(function(_r){return _r!==bt}),document.removeEventListener("wheel",jt,Fi),document.removeEventListener("touchmove",jt,Fi),document.removeEventListener("touchstart",xr,Fi)}},[]);var kr=ut.removeScrollBar,Ir=ut.inert;return M.createElement(M.Fragment,null,Ir?M.createElement(bt,{styles:ri(ct)}):null,kr?M.createElement(ra,{gapMode:"margin"}):null)},bi.useMedium(ai),Ha),Ai=M.forwardRef(function(ut,Ae){return M.createElement(Ja,bn({},ut,{ref:Ae,sideCar:hi}))});Ai.classNames=Ja.classNames;var Wi=Ai;const us="Popover",[ds,Bl]=(0,y.b)(us,[Ur]),il=Ur(),[Rs,Ia]=ds(us),_s=ut=>{const{__scopePopover:Ae,children:Xe,open:Je,defaultOpen:ct,onOpenChange:bt,modal:_t=!1}=ut,Et=il(Ae),jt=(0,M.useRef)(null),[mr,xr]=(0,M.useState)(!1),[ir=!1,er]=(0,yn.T)({prop:Je,defaultProp:ct,onChange:bt});return(0,M.createElement)(Qt,Et,(0,M.createElement)(Rs,{scope:Ae,contentId:(0,Ie.M)(),triggerRef:jt,open:ir,onOpenChange:er,onOpenToggle:(0,M.useCallback)(()=>er(kr=>!kr),[er]),hasCustomAnchor:mr,onCustomAnchorAdd:(0,M.useCallback)(()=>xr(!0),[]),onCustomAnchorRemove:(0,M.useCallback)(()=>xr(!1),[]),modal:_t},Xe))},oc="PopoverTrigger",ic=(0,M.forwardRef)((ut,Ae)=>{const{__scopePopover:Xe,...Je}=ut,ct=Ia(oc,Xe),bt=il(Xe),_t=(0,a.e)(Ae,ct.triggerRef),Et=(0,M.createElement)(h.WV.button,(0,v.Z)({type:"button","aria-haspopup":"dialog","aria-expanded":ct.open,"aria-controls":ct.contentId,"data-state":Ns(ct.open)},Je,{ref:_t,onClick:(0,i.M)(ut.onClick,ct.onOpenToggle)}));return ct.hasCustomAnchor?Et:(0,M.createElement)(Vt,(0,v.Z)({asChild:!0},bt),Et)}),ml="PopoverPortal",[gl,al]=ds(ml,{forceMount:void 0}),fs=ut=>{const{__scopePopover:Ae,forceMount:Xe,children:Je,container:ct}=ut,bt=Ia(ml,Ae);return(0,M.createElement)(gl,{scope:Ae,forceMount:Xe},(0,M.createElement)(on.z,{present:Xe||bt.open},(0,M.createElement)(Jr,{asChild:!0,container:ct},Je)))},ba="PopoverContent",ya=(0,M.forwardRef)((ut,Ae)=>{const Xe=al(ba,ut.__scopePopover),{forceMount:Je=Xe.forceMount,...ct}=ut,bt=Ia(ba,ut.__scopePopover);return(0,M.createElement)(on.z,{present:Je||bt.open},bt.modal?(0,M.createElement)(Fl,(0,v.Z)({},ct,{ref:Ae})):(0,M.createElement)(vl,(0,v.Z)({},ct,{ref:Ae})))}),Fl=(0,M.forwardRef)((ut,Ae)=>{const Xe=Ia(ba,ut.__scopePopover),Je=(0,M.useRef)(null),ct=(0,a.e)(Ae,Je),bt=(0,M.useRef)(!1);return(0,M.useEffect)(()=>{const _t=Je.current;if(_t)return On(_t)},[]),(0,M.createElement)(Wi,{as:gn.g7,allowPinchZoom:!0},(0,M.createElement)(Ls,(0,v.Z)({},ut,{ref:ct,trapFocus:Xe.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,i.M)(ut.onCloseAutoFocus,_t=>{var Et;_t.preventDefault(),bt.current||(Et=Xe.triggerRef.current)===null||Et===void 0||Et.focus()}),onPointerDownOutside:(0,i.M)(ut.onPointerDownOutside,_t=>{const Et=_t.detail.originalEvent,jt=Et.button===0&&Et.ctrlKey===!0,mr=Et.button===2||jt;bt.current=mr},{checkForDefaultPrevented:!1}),onFocusOutside:(0,i.M)(ut.onFocusOutside,_t=>_t.preventDefault(),{checkForDefaultPrevented:!1})})))}),vl=(0,M.forwardRef)((ut,Ae)=>{const Xe=Ia(ba,ut.__scopePopover),Je=(0,M.useRef)(!1);return(0,M.createElement)(Ls,(0,v.Z)({},ut,{ref:Ae,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:ct=>{var bt,_t;(bt=ut.onCloseAutoFocus)===null||bt===void 0||bt.call(ut,ct),ct.defaultPrevented||(Je.current||(_t=Xe.triggerRef.current)===null||_t===void 0||_t.focus(),ct.preventDefault()),Je.current=!1},onInteractOutside:ct=>{var bt,_t;(bt=ut.onInteractOutside)===null||bt===void 0||bt.call(ut,ct),ct.defaultPrevented||(Je.current=!0);const Et=ct.target;!((_t=Xe.triggerRef.current)===null||_t===void 0)&&_t.contains(Et)&&ct.preventDefault()}}))}),Ls=(0,M.forwardRef)((ut,Ae)=>{const{__scopePopover:Xe,trapFocus:Je,onOpenAutoFocus:ct,onCloseAutoFocus:bt,disableOutsidePointerEvents:_t,onEscapeKeyDown:Et,onPointerDownOutside:jt,onFocusOutside:mr,onInteractOutside:xr,...ir}=ut,er=Ia(ba,Xe),kr=il(Xe);return fe(),(0,M.createElement)(Me,{asChild:!0,loop:!0,trapped:Je,onMountAutoFocus:ct,onUnmountAutoFocus:bt},(0,M.createElement)(F,{asChild:!0,disableOutsidePointerEvents:_t,onInteractOutside:xr,onEscapeKeyDown:Et,onPointerDownOutside:jt,onFocusOutside:mr,onDismiss:()=>er.onOpenChange(!1)},(0,M.createElement)(Er,(0,v.Z)({"data-state":Ns(er.open),role:"dialog",id:er.contentId},kr,ir,{ref:Ae,style:{...ir.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)"}}))))}),hs=(0,M.forwardRef)((ut,Ae)=>{const{__scopePopover:Xe,...Je}=ut,ct=il(Xe);return(0,M.createElement)(Lr,(0,v.Z)({},ct,Je,{ref:Ae}))});function Ns(ut){return ut?"open":"closed"}const Sl=_s,Cl=ic,ps=fs,La=ya,sl=hs;var Il=n(8242),ll=n(453),fa=n(8935),pi=n(8924),uo=function(ut){var Ae=ut.color,Xe=ut.onChange,Je=ut.label,ct=ut.colorPickerType,bt=(0,Il.Fy)(),_t=(0,M.useState)(Ae),Et=(0,r.Z)(_t,2),jt=Et[0],mr=Et[1],xr=(0,j.KO)(q),ir=(0,r.Z)(xr,2),er=ir[0],kr=ir[1];(0,M.useEffect)(function(){mr(Ae)},[Ae]);var Ir=(0,M.useCallback)(function(tn){var Sn=tn.toLowerCase(),Tn=ei(Sn);Tn&&Xe(Tn),mr(Sn)},[Xe]),_r=(0,M.useRef)(null),wr=(0,M.useRef)(null);(0,M.useEffect)(function(){_r.current&&_r.current.focus()},[er]);var Ar=(0,j.KO)(pi.$,ll.yE),Vr=(0,r.Z)(Ar,2),Yr=Vr[0],Br=Vr[1];return(0,M.useEffect)(function(){return function(){Br(null)}},[Br]),(0,w.jsxs)("div",{className:"color-picker__input-label",children:[(0,w.jsx)("div",{className:"color-picker__input-hash",children:"#"}),(0,w.jsx)("input",{ref:er==="hex"?_r:void 0,style:{border:0,padding:0},spellCheck:!1,className:"color-picker-input","aria-label":Je,onChange:function(tn){Ir(tn.target.value)},value:(jt||"").replace(/^#/,""),onBlur:function(){mr(Ae)},tabIndex:-1,onFocus:function(){return kr("hex")},onKeyDown:function(tn){var Sn;tn.key!==K.tW.TAB&&(tn.key===K.tW.ESCAPE&&((Sn=wr.current)===null||Sn===void 0||Sn.focus()),tn.stopPropagation())}}),!bt.editor.isMobile&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{style:{width:"1px",height:"1.25rem",backgroundColor:"var(--default-border-color)"}}),(0,w.jsx)("div",{ref:wr,className:(0,k.Z)("excalidraw-eye-dropper-trigger",{selected:Yr}),onClick:function(){return Br(function(tn){return tn?null:{keepOpenOnAlt:!1,onSelect:function(Sn){return Xe(Sn)},colorPickerType:ct}})},title:"".concat((0,d.t)("labels.eyeDropper")," — ").concat(K.tW.I.toLocaleUpperCase()," or ").concat((0,A.uY)("Alt")," "),children:fa.$W})]})]})},Jo=n(3379),Io=n.n(Jo),Oo=n(7795),ia=n.n(Oo),xa=n(569),Hl=n.n(xa),Zs=n(3565),bl=n.n(Zs),zs=n(9216),yl=n.n(zs),xl=n(4589),aa=n.n(xl),Ui=n(4269),sa={};sa.styleTagTransform=aa(),sa.setAttributes=bl(),sa.insert=Hl().bind(null,"head"),sa.domAPI=ia(),sa.insertStyleElement=yl(),Io()(Ui.Z,sa),Ui.Z&&Ui.Z.locals&&Ui.Z.locals;var si=function(ut){var Ae=new Option().style;return Ae.color=ut,!!Ae.color},ei=function(ut){return(0,A.Qm)(ut)?ut:si("#".concat(ut))?"#".concat(ut):si(ut)?ut:null},ha=function(ut){var Ae=ut.type,Xe=ut.color,Je=ut.onChange,ct=ut.label,bt=ut.elements,_t=ut.palette,Et=_t===void 0?b.HO:_t,jt=ut.updateData,mr=(0,j.KO)(q),xr=(0,r.Z)(mr,2)[1],ir=(0,j.KO)(pi.$,ll.yE),er=(0,r.Z)(ir,2),kr=er[0],Ir=er[1],_r=(0,Il.J0)().container,wr=(0,Il.Fy)(),Ar=(0,w.jsxs)("div",{children:[(0,w.jsx)(O,{children:(0,d.t)("colorPicker.hexCode")}),(0,w.jsx)(uo,{color:Xe,label:ct,onChange:function(Br){Je(Br)},colorPickerType:Ae})]}),Vr=(0,M.useRef)(null),Yr=function(){var Br,tn;(Br=Vr.current)===null||Br===void 0||(tn=Br.querySelector(".color-picker-content"))===null||tn===void 0||tn.focus()};return(0,w.jsx)(ps,{container:_r,children:(0,w.jsxs)(La,{ref:Vr,className:"focus-visible-none","data-prevent-outside-click":!0,onFocusOutside:function(Br){Yr(),Br.preventDefault()},onPointerDownOutside:function(Br){kr&&Br.preventDefault()},onCloseAutoFocus:function(Br){Br.stopPropagation(),Br.preventDefault(),_r&&!(0,A.y1)(document.activeElement)&&_r.focus(),jt({openPopup:null}),xr(null)},side:wr.editor.isMobile&&!wr.viewport.isLandscape?"bottom":"right",align:wr.editor.isMobile&&!wr.viewport.isLandscape?"center":"start",alignOffset:-16,sideOffset:20,style:{zIndex:"var(--zIndex-layerUI)",backgroundColor:"var(--popup-bg-color)",maxWidth:"208px",maxHeight:window.innerHeight,padding:"12px",borderRadius:"8px",boxSizing:"border-box",overflowY:"auto",boxShadow:"0px 7px 14px rgba(0, 0, 0, 0.05), 0px 0px 3.12708px rgba(0, 0, 0, 0.0798), 0px 0px 0.931014px rgba(0, 0, 0, 0.1702)"},children:[Et?(0,w.jsx)(E,{palette:Et,color:Xe,onChange:function(Br){Je(Br)},onEyeDropperToggle:function(Br){Ir(function(tn){return Br?((tn=tn||{keepOpenOnAlt:!0,onSelect:Je,colorPickerType:Ae}).keepOpenOnAlt=!0,tn):Br===!1||tn?null:{keepOpenOnAlt:!1,onSelect:Je,colorPickerType:Ae}})},onEscape:function(Br){kr?Ir(null):(0,A.s)(Br.target)?Yr():jt({openPopup:null})},label:ct,type:Ae,elements:bt,updateData:jt,children:Ar}):Ar,(0,w.jsx)(sl,{width:20,height:10,style:{fill:"var(--popup-bg-color)",filter:"drop-shadow(rgba(0, 0, 0, 0.05) 0px 3px 2px)"}})]})})},Ss=function(ut){var Ae=ut.label,Xe=ut.color,Je=ut.type;return(0,w.jsx)(Cl,{type:"button",className:(0,k.Z)("color-picker__button active-color",{"is-transparent":Xe==="transparent"||!Xe}),"aria-label":Ae,style:Xe?{"--swatch-color":Xe}:void 0,title:Je==="elementStroke"?(0,d.t)("labels.showStroke"):(0,d.t)("labels.showBackground"),children:(0,w.jsx)("div",{className:"color-picker__button-outline"})})},Ol=function(ut){var Ae=ut.type,Xe=ut.color,Je=ut.onChange,ct=ut.label,bt=ut.elements,_t=ut.palette,Et=_t===void 0?b.HO:_t,jt=ut.topPicks,mr=ut.updateData,xr=ut.appState;return(0,w.jsx)("div",{children:(0,w.jsxs)("div",{role:"dialog","aria-modal":"true",className:"color-picker-container",children:[(0,w.jsx)(N,{activeColor:Xe,onChange:Je,type:Ae,topPicks:jt}),(0,w.jsx)("div",{style:{width:1,height:"100%",backgroundColor:"var(--default-border-color)",margin:"0 auto"}}),(0,w.jsxs)(Sl,{open:xr.openPopup===Ae,onOpenChange:function(ir){mr({openPopup:ir?Ae:null})},children:[(0,w.jsx)(Ss,{color:Xe,label:ct,type:Ae}),xr.openPopup===Ae&&(0,w.jsx)(ha,{type:Ae,color:Xe,onChange:Je,label:ct,elements:bt,palette:Et,updateData:mr})]})]})})}},6887:function(We,ue,n){n.d(ue,{Z:function(){return v}});var r=n(7169),A=n(2726),k=n(8227),b=n(1300),w=n(3379),N=n.n(w),M=n(7795),f=n.n(M),d=n(569),j=n.n(d),L=n(3565),H=n.n(L),x=n(9216),S=n.n(x),q=n(4589),ve=n.n(q),ke=n(9393),Se={};Se.styleTagTransform=ve(),Se.setAttributes=H(),Se.insert=j().bind(null,"head"),Se.domAPI=f(),Se.insertStyleElement=S(),N()(ke.Z,Se),ke.Z&&ke.Z.locals&&ke.Z.locals;var ge=n(4932),J=n(3607),Q=n(3116),K=n(8242),T=n(453),B=n(4512),O=["onConfirm","onCancel","children","confirmText","cancelText","className"];function R(i,a){var y=Object.keys(i);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(i);a&&(h=h.filter(function(m){return Object.getOwnPropertyDescriptor(i,m).enumerable})),y.push.apply(y,h)}return y}function E(i){for(var a=1;a<arguments.length;a++){var y=arguments[a]!=null?arguments[a]:{};a%2?R(Object(y),!0).forEach(function(h){(0,r.Z)(i,h,y[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(y)):R(Object(y)).forEach(function(h){Object.defineProperty(i,h,Object.getOwnPropertyDescriptor(y,h))})}return i}var v=function(i){var a=i.onConfirm,y=i.onCancel,h=i.children,m=i.confirmText,C=m===void 0?(0,k.t)("buttons.confirm"):m,U=i.cancelText,V=U===void 0?(0,k.t)("buttons.cancel"):U,D=i.className,P=D===void 0?"":D,F=(0,A.Z)(i,O),X=(0,K.n9)(),le=(0,J.b9)(Q.uh,T.yE),de=(0,K.J0)().container;return(0,B.jsxs)(b.V,E(E({onCloseRequest:y,size:"small"},F),{},{className:"confirm-dialog ".concat(P),children:[h,(0,B.jsxs)("div",{className:"confirm-dialog-buttons",children:[(0,B.jsx)(ge.Z,{label:V,onClick:function(){X({openMenu:null}),le(!1),y(),de==null||de.focus()}}),(0,B.jsx)(ge.Z,{label:C,onClick:function(){X({openMenu:null}),le(!1),a(),de==null||de.focus()},actionType:"danger"})]})]}))}},1925:function(We,ue,n){n.d(ue,{O:function(){return Q}});var r=n(2726),A=n(7169),k=n(45),b=n(9937),w=n(4572),N=n(100),M=n(8227),f=n(9827),d=n(8242),j=n(6922),L=n(3116),H=n(5902),x=n(4512),S=n(9787),q=["children"],ve=["children","className","onDock","docked"];function ke(K,T){var B=Object.keys(K);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(K);T&&(O=O.filter(function(R){return Object.getOwnPropertyDescriptor(K,R).enumerable})),B.push.apply(B,O)}return B}function Se(K){for(var T=1;T<arguments.length;T++){var B=arguments[T]!=null?arguments[T]:{};T%2?ke(Object(B),!0).forEach(function(O){(0,A.Z)(K,O,B[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(K,Object.getOwnPropertyDescriptors(B)):ke(Object(B)).forEach(function(O){Object.defineProperty(K,O,Object.getOwnPropertyDescriptor(B,O))})}return K}var ge=(0,j.$)("DefaultSidebarTrigger",function(K){var T=(0,w.R6)().DefaultSidebarTriggerTunnel;return(0,x.jsx)(T.In,{children:(0,x.jsx)(H.YE.Trigger,Se(Se({},K),{},{className:"default-sidebar-trigger",name:b.Cc.name}))})});ge.displayName="DefaultSidebarTrigger";var J=function(K){var T=K.children,B=(0,r.Z)(K,q),O=(0,w.R6)().DefaultSidebarTabTriggersTunnel;return(0,x.jsx)(O.In,{children:(0,x.jsx)(H.YE.TabTriggers,Se(Se({},B),{},{children:T}))})};J.displayName="DefaultTabTriggers";var Q=Object.assign((0,j.$)("DefaultSidebar",function(K){var T=K.children,B=K.className,O=K.onDock,R=K.docked,E=(0,r.Z)(K,ve),v=(0,N.I)(),i=(0,d.n9)(),a=(0,w.R6)().DefaultSidebarTabTriggersTunnel;return(0,S.createElement)(H.YE,Se(Se({},E),{},{name:"default",key:"default",className:(0,k.Z)("default-sidebar",B),docked:R??v.defaultSidebarDockedPreference,onDock:O===!1||!O&&R!=null?void 0:(0,f.Mj)(O,function(y){i({defaultSidebarDockedPreference:y})})}),(0,x.jsxs)(H.YE.Tabs,{children:[(0,x.jsxs)(H.YE.Header,{children:[E.__fallback&&(0,x.jsx)("div",{style:{color:"var(--color-primary)",fontSize:"1.2em",fontWeight:"bold",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",paddingRight:"1em"},children:(0,M.t)("toolBar.library")}),(0,x.jsx)(a.Out,{})]}),(0,x.jsx)(H.YE.Tab,{tab:b.tf,children:(0,x.jsx)(L.rY,{})}),T]}))}),{Trigger:ge,TabTriggers:J})},1300:function(We,ue,n){n.d(ue,{V:function(){return C}});var r=n(2577),A=n(45),k=n(9787),b=n(8227),w=n(8242),N=n(5491),M=n(3379),f=n.n(M),d=n(7795),j=n.n(d),L=n(569),H=n.n(L),x=n(3565),S=n.n(x),q=n(9216),ve=n.n(q),ke=n(4589),Se=n.n(ke),ge=n(9482),J={};J.styleTagTransform=Se(),J.setAttributes=S(),J.insert=H().bind(null,"head"),J.domAPI=j(),J.insertStyleElement=ve(),f()(ge.Z,J),ge.Z&&ge.Z.locals&&ge.Z.locals;var Q=n(8935),K=n(1404),T=n(6843),B={};B.styleTagTransform=Se(),B.setAttributes=S(),B.insert=H().bind(null,"head"),B.domAPI=j(),B.insertStyleElement=ve(),f()(T.Z,B),T.Z&&T.Z.locals&&T.Z.locals;var O=n(5156),R=n(334),E=n(4512),v=function(U){var V=U.closeOnClickOutside,D=V===void 0||V,P=(0,R.F)({className:"excalidraw-modal-container"});return P?(0,O.createPortal)((0,E.jsxs)("div",{className:(0,A.Z)("Modal",U.className),role:"dialog","aria-modal":"true",onKeyDown:function(F){F.key===N.tW.ESCAPE&&(F.nativeEvent.stopImmediatePropagation(),F.stopPropagation(),U.onCloseRequest())},"aria-labelledby":U.labelledBy,"data-prevent-outside-click":!0,children:[(0,E.jsx)("div",{className:"Modal__background",onClick:D?U.onCloseRequest:void 0}),(0,E.jsx)("div",{className:"Modal__content",style:{"--max-width":"".concat(U.maxWidth,"px")},tabIndex:0,children:U.children})]}),P):null},i=n(9827),a=n(3607),y=n(3116),h=n(453);function m(U){if(U&&typeof U=="number")return U;switch(U){case"small":return 550;case"wide":return 1024;default:return 800}}var C=function(U){var V=function(){var be=(0,k.useState)(null),Me=(0,r.Z)(be,2),Ge=Me[0],qe=Me[1];return[Ge,(0,k.useCallback)(function(Ne){return qe(Ne)},[])]}(),D=(0,r.Z)(V,2),P=D[0],F=D[1],X=(0,k.useState)(document.activeElement),le=(0,r.Z)(X,1)[0],de=(0,w.J0)().id,fe=(0,w.Fy)().viewport.isMobile;(0,k.useEffect)(function(){if(P){var be=(0,i.xp)(P);be.length>0&&U.autofocus!==!1&&(be[1]||be[0]).focus();var Me=function(Ge){if(Ge.key===N.tW.TAB){var qe=(0,i.xp)(P),Ne=document.activeElement,Pe=qe.findIndex(function(Re){return Re===Ne});Pe===0&&Ge.shiftKey?(qe[qe.length-1].focus(),Ge.preventDefault()):Pe!==qe.length-1||Ge.shiftKey||(qe[0].focus(),Ge.preventDefault())}};return P.addEventListener("keydown",Me),function(){return P.removeEventListener("keydown",Me)}}},[P,U.autofocus]);var pe=(0,w.n9)(),ne=(0,a.b9)(y.uh,h.yE),oe=function(){pe({openMenu:null}),ne(!1),le.focus(),U.onCloseRequest()};return(0,E.jsx)(v,{className:(0,A.Z)("Dialog",U.className,{"Dialog--fullscreen":fe}),labelledBy:"dialog-title",maxWidth:m(U.size),onCloseRequest:oe,closeOnClickOutside:U.closeOnClickOutside,children:(0,E.jsxs)(K.W,{ref:F,children:[U.title&&(0,E.jsx)("h2",{id:"".concat(de,"-dialog-title"),className:"Dialog__title",children:(0,E.jsx)("span",{className:"Dialog__titleContent",children:U.title})}),(0,E.jsx)("button",{className:"Dialog__close",onClick:oe,title:(0,b.t)("buttons.close"),"aria-label":(0,b.t)("buttons.close"),children:fe?Q.op:Q.Tw}),(0,E.jsx)("div",{className:"Dialog__content",children:U.children})]})})}},4932:function(We,ue,n){n.d(ue,{Z:function(){return T}});var r=n(7169),A=n(2726),k=n(45),b=n(3379),w=n.n(b),N=n(7795),M=n.n(N),f=n(569),d=n.n(f),j=n(3565),L=n.n(j),H=n(9216),x=n.n(H),S=n(4589),q=n.n(S),ve=n(6148),ke={};ke.styleTagTransform=q(),ke.setAttributes=L(),ke.insert=d().bind(null,"head"),ke.domAPI=M(),ke.insertStyleElement=x(),w()(ve.Z,ke),ve.Z&&ve.Z.locals&&ve.Z.locals;var Se=n(8531),ge=n(4512),J=["label","onClick","className","children","actionType","type","isLoading"];function Q(B,O){var R=Object.keys(B);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(B);O&&(E=E.filter(function(v){return Object.getOwnPropertyDescriptor(B,v).enumerable})),R.push.apply(R,E)}return R}function K(B){for(var O=1;O<arguments.length;O++){var R=arguments[O]!=null?arguments[O]:{};O%2?Q(Object(R),!0).forEach(function(E){(0,r.Z)(B,E,R[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors(R)):Q(Object(R)).forEach(function(E){Object.defineProperty(B,E,Object.getOwnPropertyDescriptor(R,E))})}return B}var T=function(B){var O=B.label,R=B.onClick,E=B.className,v=B.children,i=B.actionType,a=B.type,y=a===void 0?"button":a,h=B.isLoading,m=(0,A.Z)(B,J),C=i?"Dialog__action-button--".concat(i):"";return(0,ge.jsxs)("button",K(K({className:(0,k.Z)("Dialog__action-button",C,E),type:y,"aria-label":O,onClick:R},m),{},{children:[v&&(0,ge.jsx)("div",{style:h?{visibility:"hidden"}:{},children:v}),(0,ge.jsx)("div",{style:h?{visibility:"hidden"}:{},children:O}),h&&(0,ge.jsx)("div",{style:{position:"absolute",inset:0},children:(0,ge.jsx)(Se.Z,{})})]}))}},8924:function(We,ue,n){n.d(ue,{p:function(){return v},$:function(){return E}});var r=n(3607),A=n(9787),k=n(5156),b=n(9240),w=n(9937),N=n(100),M=n(334),f=n(1901),d=n(5491),j=n(4105),L=n(8242),H=n(3379),x=n.n(H),S=n(7795),q=n.n(S),ve=n(569),ke=n.n(ve),Se=n(3565),ge=n.n(Se),J=n(9216),Q=n.n(J),K=n(4589),T=n.n(K),B=n(7522),O={};O.styleTagTransform=T(),O.setAttributes=ge(),O.insert=ke().bind(null,"head"),O.domAPI=q(),O.insertStyleElement=Q(),x()(B.Z,O),B.Z&&B.Z.locals&&B.Z.locals;var R=n(4512),E=(0,r.cn)(null),v=function(i){var a=i.onCancel,y=i.onChange,h=i.onSelect,m=i.colorPickerType,C=(0,M.F)({className:"excalidraw-eye-dropper-backdrop",parentSelector:".excalidraw-eye-dropper-container"}),U=(0,N.I)(),V=(0,L.bd)(),D=(0,L.qD)(),P=(0,j.eD)(V,U),F=function(de){var fe=(0,A.useRef)(de);return Object.assign(fe.current,de),fe.current}({app:D,onCancel:a,onChange:y,onSelect:h,selectedElements:P}),X=(0,L.J0)().container;(0,A.useEffect)(function(){var de=le.current;if(de&&D.canvas&&C){var fe=!1,pe=D.canvas.getContext("2d"),ne=function(Ne){var Pe=Ne.clientX,Re=Ne.clientY,Ze=pe.getImageData((Pe-U.offsetLeft)*window.devicePixelRatio,(Re-U.offsetTop)*window.devicePixelRatio,1,1).data;return(0,b.vq)(Ze[0],Ze[1],Ze[2])},oe=function(Ne){var Pe=Ne.clientX,Re=Ne.clientY,Ze=Ne.altKey;de.style.top="".concat(Re+20,"px"),de.style.left="".concat(Pe+20,"px");var Ie=ne({clientX:Pe,clientY:Re});fe&&F.onChange(m,Ie,F.selectedElements,{altKey:Ze}),de.style.background=Ie},be=function(){F.onCancel()},Me=function(Ne){fe=!0,Ne.stopImmediatePropagation()},Ge=function(Ne){fe=!1,X==null||X.focus(),Ne.stopImmediatePropagation(),Ne.preventDefault(),function(Pe,Re){F.onSelect(Pe,Re)}(ne(Ne),Ne)},qe=function(Ne){Ne.key===d.tW.ESCAPE&&(Ne.preventDefault(),Ne.stopImmediatePropagation(),be())};return C.tabIndex=-1,C.focus(),oe({clientX:F.app.lastViewportPosition.x,clientY:F.app.lastViewportPosition.y,altKey:!1}),C.addEventListener(w.Ks.KEYDOWN,qe),C.addEventListener(w.Ks.POINTER_DOWN,Me),C.addEventListener(w.Ks.POINTER_UP,Ge),window.addEventListener("pointermove",oe,{passive:!0}),window.addEventListener(w.Ks.BLUR,be),function(){fe=!1,C.removeEventListener(w.Ks.KEYDOWN,qe),C.removeEventListener(w.Ks.POINTER_DOWN,Me),C.removeEventListener(w.Ks.POINTER_UP,Ge),window.removeEventListener("pointermove",oe),window.removeEventListener(w.Ks.BLUR,be)}}},[F,D.canvas,C,m,X,U.offsetLeft,U.offsetTop]);var le=(0,A.useRef)(null);return(0,f.O)(le,function(){a()},function(de){return!!de.target.closest(".excalidraw-eye-dropper-trigger, .excalidraw-eye-dropper-backdrop")}),C?(0,k.createPortal)((0,R.jsx)("div",{ref:le,className:"excalidraw-eye-dropper-preview"}),C):null}},1404:function(We,ue,n){n.d(ue,{W:function(){return K}});var r=n(7169),A=n(3379),k=n.n(A),b=n(7795),w=n.n(b),N=n(569),M=n.n(N),f=n(3565),d=n.n(f),j=n(9216),L=n.n(j),H=n(4589),x=n.n(H),S=n(7369),q={};q.styleTagTransform=x(),q.setAttributes=d(),q.insert=M().bind(null,"head"),q.domAPI=w(),q.insertStyleElement=L(),k()(S.Z,q),S.Z&&S.Z.locals&&S.Z.locals;var ve=n(9787),ke=n.n(ve),Se=n(45),ge=n(4512);function J(T,B){var O=Object.keys(T);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(T);B&&(R=R.filter(function(E){return Object.getOwnPropertyDescriptor(T,E).enumerable})),O.push.apply(O,R)}return O}function Q(T){for(var B=1;B<arguments.length;B++){var O=arguments[B]!=null?arguments[B]:{};B%2?J(Object(O),!0).forEach(function(R){(0,r.Z)(T,R,O[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(O)):J(Object(O)).forEach(function(R){Object.defineProperty(T,R,Object.getOwnPropertyDescriptor(O,R))})}return T}var K=ke().forwardRef(function(T,B){var O=T.children,R=T.padding,E=T.className,v=T.style;return(0,ge.jsx)("div",{className:(0,Se.Z)("Island",E),style:Q({"--padding":R},v),ref:B,children:O})})},3116:function(We,ue,n){n.d(ue,{rY:function(){return gr},uh:function(){return tr}});var r=n(6655),A=n(1930),k=n(8950),b=n(2577),w=n(2975),N=n.n(w),M=n(9787),f=n.n(M),d=n(9326),j=n(8227),L=n(4643),H=n(7169),x=n(4419),S=n(9827),q=n(2540),ve=n(9937),ke=n(8531),Se=n(5742),ge=n(4512),J=function(Pt){var St=Pt.theme,Zt=Pt.id,Tt=Pt.libraryReturnUrl||window.location.origin+window.location.pathname;return(0,ge.jsx)("a",{className:"library-menu-browse-button",href:"".concat("https://libraries.excalidraw.com","?target=").concat(window.name||"_blank","&referrer=").concat(Tt,"&useHash=true&token=").concat(Zt,"&theme=").concat(St,"&version=").concat(ve.Kr.excalidrawLibrary),target:"_excalidraw_libraries",children:(0,j.t)("labels.libraries")})},Q=n(45),K=function(Pt){var St=Pt.libraryReturnUrl,Zt=Pt.theme,Tt=Pt.id,Lt=Pt.style,Wt=Pt.children,qt=Pt.className;return(0,ge.jsxs)("div",{className:(0,Q.Z)("library-menu-control-buttons",qt),style:Lt,children:[(0,ge.jsx)(J,{id:Tt,libraryReturnUrl:St,theme:Zt}),Wt]})},T=n(9247),B=n(453),O=n(8242),R=n(8935),E=n(1512),v=n(6548),i=n(3607),a=n(6887),y=n(5284),h=n(1300),m=n(507),C=n(5796),U=n(4932),V=n(3379),D=n.n(V),P=n(7795),F=n.n(P),X=n(569),le=n.n(X),de=n(3565),fe=n.n(de),pe=n(9216),ne=n.n(pe),oe=n(4589),be=n.n(oe),Me=n(7589),Ge={};Ge.styleTagTransform=be(),Ge.setAttributes=fe(),Ge.insert=le().bind(null,"head"),Ge.domAPI=F(),Ge.insertStyleElement=ne(),D()(Me.Z,Ge),Me.Z&&Me.Z.locals&&Me.Z.locals;function qe(Pt,St){var Zt=Object.keys(Pt);if(Object.getOwnPropertySymbols){var Tt=Object.getOwnPropertySymbols(Pt);St&&(Tt=Tt.filter(function(Lt){return Object.getOwnPropertyDescriptor(Pt,Lt).enumerable})),Zt.push.apply(Zt,Tt)}return Zt}function Ne(Pt){for(var St=1;St<arguments.length;St++){var Zt=arguments[St]!=null?arguments[St]:{};St%2?qe(Object(Zt),!0).forEach(function(Tt){(0,H.Z)(Pt,Tt,Zt[Tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Pt,Object.getOwnPropertyDescriptors(Zt)):qe(Object(Zt)).forEach(function(Tt){Object.defineProperty(Pt,Tt,Object.getOwnPropertyDescriptor(Zt,Tt))})}return Pt}function Pe(Pt,St){var Zt=typeof Symbol<"u"&&Pt[Symbol.iterator]||Pt["@@iterator"];if(!Zt){if(Array.isArray(Pt)||(Zt=function(cr,Sr){if(cr){if(typeof cr=="string")return Re(cr,Sr);var Mr=Object.prototype.toString.call(cr).slice(8,-1);if(Mr==="Object"&&cr.constructor&&(Mr=cr.constructor.name),Mr==="Map"||Mr==="Set")return Array.from(cr);if(Mr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Mr))return Re(cr,Sr)}}(Pt))||St){Zt&&(Pt=Zt);var Tt=0,Lt=function(){};return{s:Lt,n:function(){return Tt>=Pt.length?{done:!0}:{done:!1,value:Pt[Tt++]}},e:function(cr){throw cr},f:Lt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Wt,qt=!0,sr=!1;return{s:function(){Zt=Zt.call(Pt)},n:function(){var cr=Zt.next();return qt=cr.done,cr},e:function(cr){sr=!0,Wt=cr},f:function(){try{qt||Zt.return==null||Zt.return()}finally{if(sr)throw Wt}}}}function Re(Pt,St){(St==null||St>Pt.length)&&(St=Pt.length);for(var Zt=0,Tt=new Array(St);Zt<St;Zt++)Tt[Zt]=Pt[Zt];return Tt}var Ze="publish-library-data",Ie=function(){var Pt=(0,k.Z)(N().mark(function St(Zt){var Tt,Lt,Wt,qt,sr,cr,Sr,Mr,zr,pr,Ft,or,rr,Or,Kr,Xr,cn;return N().wrap(function(en){for(;;)switch(en.prev=en.next){case 0:Tt=6,Lt=128,Wt=Math.round(Lt/16),qt=Math.max(Math.round(Lt/64),2),sr=(0,S.yo)(Zt,Tt),(cr=document.createElement("canvas")).width=sr[0].length*Lt+(sr[0].length+1)*(2*Wt)-2*Wt,cr.height=sr.length*Lt+(sr.length+1)*(2*Wt)-2*Wt,(Sr=cr.getContext("2d")).fillStyle=y.white,Sr.fillRect(0,0,cr.width,cr.height),Mr=Pe(Zt.entries()),en.prev=12,Mr.s();case 14:if((zr=Mr.n()).done){en.next=28;break}return pr=(0,b.Z)(zr.value,2),Ft=pr[0],or=pr[1],en.next=18,(0,m.NL)({elements:or.elements,files:null,maxWidthOrHeight:Lt});case 18:rr=en.sent,Or=rr.width,Kr=rr.height,Xr=Math.floor(Ft/Tt)*(Lt+2*Wt),cn=Ft%Tt*(Lt+2*Wt),Sr.drawImage(rr,cn+(Lt-Or)/2+Wt,Xr+(Lt-Kr)/2+Wt),Sr.lineWidth=qt,Sr.strokeStyle=y.gray[4],Sr.strokeRect(cn+Wt/2,Xr+Wt/2,Lt+Wt,Lt+Wt);case 26:en.next=14;break;case 28:en.next=33;break;case 30:en.prev=30,en.t0=en.catch(12),Mr.e(en.t0);case 33:return en.prev=33,Mr.f(),en.finish(33);case 36:return en.t1=C.Tu,en.t2=File,en.next=40,(0,C._c)(cr);case 40:return en.t3=en.sent,en.t4=[en.t3],en.t5={type:ve.LO.png},en.t6=new en.t2(en.t4,"preview",en.t5),en.t7={outputType:ve.LO.jpg,maxWidthOrHeight:5e3},en.next=47,(0,en.t1)(en.t6,en.t7);case 47:return en.abrupt("return",en.sent);case 48:case"end":return en.stop()}},St,null,[[12,30,33,36]])}));return function(St){return Pt.apply(this,arguments)}}(),Ee=function(Pt){var St=Pt.libItem,Zt=Pt.appState,Tt=Pt.index,Lt=Pt.onChange,Wt=Pt.onRemove,qt=(0,M.useRef)(null),sr=(0,M.useRef)(null);return(0,M.useEffect)(function(){var cr=qt.current;cr&&(0,k.Z)(N().mark(function Sr(){var Mr;return N().wrap(function(zr){for(;;)switch(zr.prev=zr.next){case 0:return zr.next=2,(0,m.$D)({elements:St.elements,appState:Ne(Ne({},Zt),{},{viewBackgroundColor:y.white,exportBackground:!0}),files:null});case 2:Mr=zr.sent,cr.innerHTML=Mr.outerHTML;case 4:case"end":return zr.stop()}},Sr)}))()},[St.elements,Zt]),(0,ge.jsxs)("div",{className:"single-library-item",children:[St.status==="published"&&(0,ge.jsx)("span",{className:"single-library-item-status",children:(0,j.t)("labels.statusPublished")}),(0,ge.jsx)("div",{ref:qt,className:"single-library-item__svg"}),(0,ge.jsx)(E.V,{"aria-label":(0,j.t)("buttons.remove"),type:"button",icon:R.Tw,className:"single-library-item--remove",onClick:Wt.bind(null,St.id),title:(0,j.t)("buttons.remove")}),(0,ge.jsxs)("div",{style:{display:"flex",margin:"0.8rem 0",width:"100%",fontSize:"14px",fontWeight:500,flexDirection:"column"},children:[(0,ge.jsxs)("label",{style:{display:"flex",justifyContent:"space-between",flexDirection:"column"},children:[(0,ge.jsxs)("div",{style:{padding:"0.5em 0"},children:[(0,ge.jsx)("span",{style:{fontWeight:500,color:y.gray[6]},children:(0,j.t)("publishDialog.itemName")}),(0,ge.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,ge.jsx)("input",{type:"text",ref:sr,style:{width:"80%",padding:"0.2rem"},defaultValue:St.name,placeholder:"Item name",onChange:function(cr){Lt(cr.target.value,Tt)}})]}),(0,ge.jsx)("span",{className:"error",children:St.error})]})]})},xe=function(Pt){var St=Pt.onClose,Zt=Pt.libraryItems,Tt=Pt.appState,Lt=Pt.onSuccess,Wt=Pt.onError,qt=Pt.updateItemsInStorage,sr=Pt.onRemove,cr=(0,M.useState)({authorName:"",githubHandle:"",name:"",description:"",twitterHandle:"",website:""}),Sr=(0,b.Z)(cr,2),Mr=Sr[0],zr=Sr[1],pr=(0,M.useState)(!1),Ft=(0,b.Z)(pr,2),or=Ft[0],rr=Ft[1];(0,M.useEffect)(function(){var jr=function(){try{var Cr=localStorage.getItem(Ze);if(Cr)return JSON.parse(Cr)}catch(Zr){console.error(Zr)}return null}();jr&&zr(jr)},[]);var Or=(0,M.useState)(Zt.slice()),Kr=(0,b.Z)(Or,2),Xr=Kr[0],cn=Kr[1];(0,M.useEffect)(function(){cn(Zt.slice())},[Zt]);var en,ur=function(jr){zr(Ne(Ne({},Mr),{},(0,H.Z)({},jr.target.name,jr.target.value)))},Dt=function(){var jr=(0,k.Z)(N().mark(function Cr(Zr){var Dr,Fr,ln,Gr,Rr,Wr,Ur;return N().wrap(function(rn){for(;;)switch(rn.prev=rn.next){case 0:if(Zr.preventDefault(),rr(!0),Dr=[],Fr=!1,Xr.forEach(function(an){var Qr="";an.name||(Qr=(0,j.t)("publishDialog.errors.required"),Fr=!0),Dr.push(Ne(Ne({},an),{},{error:Qr}))}),!Fr){rn.next=9;break}return cn(Dr),rr(!1),rn.abrupt("return");case 9:return rn.next=11,Ie(Xr);case 11:ln=rn.sent,Gr={type:ve.r8.excalidrawLibrary,version:ve.Kr.excalidrawLibrary,source:ve.pb,libraryItems:Xr},Rr=JSON.stringify(Gr,null,2),Wr=new Blob([Rr],{type:"application/json"}),(Ur=new FormData).append("excalidrawLib",Wr),Ur.append("previewImage",ln),Ur.append("previewImageType",ln.type),Ur.append("title",Mr.name),Ur.append("authorName",Mr.authorName),Ur.append("githubHandle",Mr.githubHandle),Ur.append("name",Mr.name),Ur.append("description",Mr.description),Ur.append("twitterHandle",Mr.twitterHandle),Ur.append("website",Mr.website),fetch("".concat("https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries","/submit"),{method:"post",body:Ur}).then(function(an){return an.ok?an.json().then(function(Qr){var In=Qr.url;localStorage.removeItem(Ze),Lt({url:In,authorName:Mr.authorName,items:Xr})}):an.json().catch(function(){throw new Error(an.statusText||"something went wrong")}).then(function(Qr){throw new Error(Qr.message||an.statusText||"something went wrong")})},function(an){console.error(an),Wt(an),rr(!1)}).catch(function(an){console.error(an),Wt(an),rr(!1)});case 27:case"end":return rn.stop()}},Cr)}));return function(Cr){return jr.apply(this,arguments)}}(),Nt=(0,M.useCallback)(function(){qt(Xr),function(jr){try{localStorage.setItem(Ze,JSON.stringify(jr))}catch(Cr){console.error(Cr)}}(Mr),St()},[Xr,St,qt,Mr]),Ut=!!Zt.length,hr=Zt.some(function(jr){return jr.status==="published"});return(0,ge.jsx)(h.V,{onCloseRequest:Nt,title:(0,j.t)("publishDialog.title"),className:"publish-library",children:Ut?(0,ge.jsxs)("form",{onSubmit:Dt,children:[(0,ge.jsx)("div",{className:"publish-library-note",children:(0,ge.jsx)(T.Z,{i18nKey:"publishDialog.noteDescription",link:function(jr){return(0,ge.jsx)("a",{href:"https://libraries.excalidraw.com",target:"_blank",rel:"noopener noreferrer",children:jr})}})}),(0,ge.jsx)("span",{className:"publish-library-note",children:(0,ge.jsx)(T.Z,{i18nKey:"publishDialog.noteGuidelines",link:function(jr){return(0,ge.jsx)("a",{href:"https://github.com/excalidraw/excalidraw-libraries#guidelines",target:"_blank",rel:"noopener noreferrer",children:jr})}})}),(0,ge.jsx)("div",{className:"publish-library-note",children:(0,j.t)("publishDialog.noteItems")}),hr&&(0,ge.jsx)("span",{className:"publish-library-note publish-library-warning",children:(0,j.t)("publishDialog.republishWarning")}),(en=[],Xr.forEach(function(jr,Cr){en.push((0,ge.jsx)("div",{className:"single-library-item-wrapper",children:(0,ge.jsx)(Ee,{libItem:jr,appState:Tt,index:Cr,onChange:function(Zr,Dr){var Fr=Xr.slice();Fr[Dr].name=Zr,cn(Fr)},onRemove:sr})},Cr))}),(0,ge.jsx)("div",{className:"selected-library-items",children:en})),(0,ge.jsxs)("div",{className:"publish-library__fields",children:[(0,ge.jsxs)("label",{children:[(0,ge.jsxs)("div",{children:[(0,ge.jsx)("span",{children:(0,j.t)("publishDialog.libraryName")}),(0,ge.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,ge.jsx)("input",{type:"text",name:"name",required:!0,value:Mr.name,onChange:ur,placeholder:(0,j.t)("publishDialog.placeholder.libraryName")})]}),(0,ge.jsxs)("label",{style:{alignItems:"flex-start"},children:[(0,ge.jsxs)("div",{children:[(0,ge.jsx)("span",{children:(0,j.t)("publishDialog.libraryDesc")}),(0,ge.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,ge.jsx)("textarea",{name:"description",rows:4,required:!0,value:Mr.description,onChange:ur,placeholder:(0,j.t)("publishDialog.placeholder.libraryDesc")})]}),(0,ge.jsxs)("label",{children:[(0,ge.jsxs)("div",{children:[(0,ge.jsx)("span",{children:(0,j.t)("publishDialog.authorName")}),(0,ge.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,ge.jsx)("input",{type:"text",name:"authorName",required:!0,value:Mr.authorName,onChange:ur,placeholder:(0,j.t)("publishDialog.placeholder.authorName")})]}),(0,ge.jsxs)("label",{children:[(0,ge.jsx)("span",{children:(0,j.t)("publishDialog.githubUsername")}),(0,ge.jsx)("input",{type:"text",name:"githubHandle",value:Mr.githubHandle,onChange:ur,placeholder:(0,j.t)("publishDialog.placeholder.githubHandle")})]}),(0,ge.jsxs)("label",{children:[(0,ge.jsx)("span",{children:(0,j.t)("publishDialog.twitterUsername")}),(0,ge.jsx)("input",{type:"text",name:"twitterHandle",value:Mr.twitterHandle,onChange:ur,placeholder:(0,j.t)("publishDialog.placeholder.twitterHandle")})]}),(0,ge.jsxs)("label",{children:[(0,ge.jsx)("span",{children:(0,j.t)("publishDialog.website")}),(0,ge.jsx)("input",{type:"text",name:"website",pattern:"https?://.+",title:(0,j.t)("publishDialog.errors.website"),value:Mr.website,onChange:ur,placeholder:(0,j.t)("publishDialog.placeholder.website")})]}),(0,ge.jsx)("span",{className:"publish-library-note",children:(0,ge.jsx)(T.Z,{i18nKey:"publishDialog.noteLicense",link:function(jr){return(0,ge.jsx)("a",{href:"https://github.com/excalidraw/excalidraw-libraries/blob/main/LICENSE",target:"_blank",rel:"noopener noreferrer",children:jr})}})})]}),(0,ge.jsxs)("div",{className:"publish-library__buttons",children:[(0,ge.jsx)(U.Z,{label:(0,j.t)("buttons.cancel"),onClick:Nt,"data-testid":"cancel-clear-canvas-button"}),(0,ge.jsx)(U.Z,{type:"submit",label:(0,j.t)("buttons.submit"),actionType:"primary",isLoading:or})]})]}):(0,ge.jsx)("p",{style:{padding:"1em",textAlign:"center",fontWeight:500},children:(0,j.t)("publishDialog.atleastOneLibItem")})})},Z=n(7104),u=n(100),g=n(5832),z=function(Pt,St){return Pt.filter(function(Zt){return St.includes(Zt.id)})},Y=function(Pt){var St,Zt,Tt=Pt.setAppState,Lt=Pt.selectedItems,Wt=Pt.library,qt=Pt.onRemoveFromLibrary,sr=Pt.resetLibrary,cr=Pt.onSelectItems,Sr=Pt.appState,Mr=Pt.className,zr=(0,i.KO)(d.rF,B.yE),pr=(0,b.Z)(zr,1)[0],Ft=(0,i.KO)(tr,B.yE),or=(0,b.Z)(Ft,2),rr=or[0],Or=or[1],Kr=(0,M.useState)(!1),Xr=(0,b.Z)(Kr,2),cn=Xr[0],en=Xr[1],ur=!!Lt.length,Dt=ur?pr.libraryItems.filter(function(Ur){return Lt.includes(Ur.id)}):pr.libraryItems,Nt=ur?(0,j.t)("buttons.remove"):(0,j.t)("buttons.resetLibrary"),Ut=(0,M.useState)(!1),hr=(0,b.Z)(Ut,2),jr=hr[0],Cr=hr[1],Zr=(0,M.useState)(null),Dr=(0,b.Z)(Zr,2),Fr=Dr[0],ln=Dr[1],Gr=(0,M.useCallback)(function(){return(0,ge.jsxs)(h.V,{onCloseRequest:function(){return ln(null)},title:(0,j.t)("publishSuccessDialog.title"),className:"publish-library-success",size:"small",children:[(0,ge.jsx)("p",{children:(0,ge.jsx)(T.Z,{i18nKey:"publishSuccessDialog.content",authorName:Fr.authorName,link:function(Ur){return(0,ge.jsx)("a",{href:Fr==null?void 0:Fr.url,target:"_blank",rel:"noopener noreferrer",children:Ur})}})}),(0,ge.jsx)(E.V,{type:"button",title:(0,j.t)("buttons.close"),"aria-label":(0,j.t)("buttons.close"),label:(0,j.t)("buttons.close"),onClick:function(){return ln(null)},"data-testid":"publish-library-success-close",className:"publish-library-success-close"})]})},[ln,Fr]),Rr=function(){var Ur=(0,k.Z)(N().mark(function rn(){return N().wrap(function(an){for(;;)switch(an.prev=an.next){case 0:return an.prev=0,an.next=3,Wt.updateLibrary({libraryItems:(0,v.I$)({description:"Excalidraw library files"}),merge:!0,openLibraryMenu:!0});case 3:an.next=11;break;case 5:if(an.prev=5,an.t0=an.catch(0),(an.t0===null||an.t0===void 0?void 0:an.t0.name)!=="AbortError"){an.next=10;break}return console.warn(an.t0),an.abrupt("return");case 10:Tt({errorMessage:(0,j.t)("errors.importLibraryError")});case 11:case"end":return an.stop()}},rn,null,[[0,5]])}));return function(){return Ur.apply(this,arguments)}}(),Wr=function(){var Ur=(0,k.Z)(N().mark(function rn(){var an;return N().wrap(function(Qr){for(;;)switch(Qr.prev=Qr.next){case 0:if(!ur){Qr.next=4;break}Qr.t0=Dt,Qr.next=7;break;case 4:return Qr.next=6,Wt.getLatestLibrary();case 6:Qr.t0=Qr.sent;case 7:an=Qr.t0,(0,x.t1)(an).catch(S.FG).catch(function(In){Tt({errorMessage:In.message})});case 9:case"end":return Qr.stop()}},rn)}));return function(){return Ur.apply(this,arguments)}}();return(0,ge.jsxs)("div",{className:(0,Q.Z)("library-menu-dropdown-container",Mr),children:[(0,ge.jsxs)(Z.Z,{open:rr,children:[(0,ge.jsx)(Z.Z.Trigger,{onToggle:function(){return Or(!rr)},children:R.YA}),(0,ge.jsxs)(Z.Z.Content,{onClickOutside:function(){return Or(!1)},onSelect:function(){return Or(!1)},className:"library-menu",children:[!ur&&(0,ge.jsx)(Z.Z.Item,{onSelect:Rr,icon:R.Tl,"data-testid":"lib-dropdown--load",children:(0,j.t)("buttons.load")}),!!Dt.length&&(0,ge.jsx)(Z.Z.Item,{onSelect:Wr,icon:R.Hy,"data-testid":"lib-dropdown--export",children:(0,j.t)("buttons.export")}),!!Dt.length&&(0,ge.jsx)(Z.Z.Item,{onSelect:function(){return en(!0)},icon:R.XH,children:Nt}),ur&&(0,ge.jsx)(Z.Z.Item,{icon:R.Nw,onSelect:function(){return Cr(!0)},"data-testid":"lib-dropdown--remove",children:(0,j.t)("buttons.publishLibrary")})]})]}),Lt.length>0&&(0,ge.jsx)("div",{className:"library-actions-counter",children:Lt.length}),cn&&(St=Lt.length?(0,j.t)("alerts.removeItemsFromsLibrary",{count:Lt.length}):(0,j.t)("alerts.resetLibrary"),Zt=Lt.length?(0,j.t)("confirmDialog.removeItemsFromLib"):(0,j.t)("confirmDialog.resetLibrary"),(0,ge.jsx)(a.Z,{onConfirm:function(){Lt.length?qt():sr(),en(!1)},onCancel:function(){en(!1)},title:Zt,children:(0,ge.jsx)("p",{children:St})})),jr&&(0,ge.jsx)(xe,{onClose:function(){return Cr(!1)},libraryItems:z(pr.libraryItems,Lt),appState:Sr,onSuccess:function(Ur){return function(rn,an){Cr(!1),ln({url:rn.url,authorName:rn.authorName});var Qr=an.slice();Qr.forEach(function(In){Lt.includes(In.id)&&(In.status="published")}),Wt.setLibrary(Qr)}(Ur,pr.libraryItems)},onError:function(Ur){return window.alert(Ur)},updateItemsInStorage:function(){return Wt.setLibrary(pr.libraryItems)},onRemove:function(Ur){return cr(Lt.filter(function(rn){return rn!==Ur}))}}),Fr&&Gr()]})},te=function(Pt){var St=Pt.selectedItems,Zt=Pt.onSelectItems,Tt=Pt.className,Lt=(0,O.qD)().library,Wt=(0,g.yT)(),qt=Wt.clearLibraryCache,sr=Wt.deleteItemsFromLibraryCache,cr=(0,u.I)(),Sr=(0,O.n9)(),Mr=(0,i.KO)(d.rF,B.yE),zr=(0,b.Z)(Mr,1)[0],pr=function(){var Ft=(0,k.Z)(N().mark(function or(rr){var Or;return N().wrap(function(Kr){for(;;)switch(Kr.prev=Kr.next){case 0:Or=rr.filter(function(Xr){return!St.includes(Xr.id)}),Lt.setLibrary(Or).catch(function(){Sr({errorMessage:(0,j.t)("alerts.errorRemovingFromLibrary")})}),sr(St),Zt([]);case 4:case"end":return Kr.stop()}},or)}));return function(or){return Ft.apply(this,arguments)}}();return(0,ge.jsx)(Y,{appState:cr,setAppState:Sr,selectedItems:St,onSelectItems:Zt,library:Lt,onRemoveFromLibrary:function(){return pr(zr.libraryItems)},resetLibrary:function(){Lt.resetLibrary(),qt()},className:Tt})},ae=n(5644),ce={};ce.styleTagTransform=be(),ce.setAttributes=fe(),ce.insert=le().bind(null,"head"),ce.domAPI=F(),ce.insertStyleElement=ne(),D()(ae.Z,ce),ae.Z&&ae.Z.locals&&ae.Z.locals;var ye=n(6238),je=(0,M.memo)(function(Pt){var St=Pt.id,Zt=Pt.elements,Tt=Pt.isPending,Lt=Pt.onClick,Wt=Pt.selected,qt=Pt.onToggle,sr=Pt.onDrag,cr=Pt.svgCache,Sr=(0,M.useRef)(null),Mr=(0,g.mF)(St,Zt,cr);(0,M.useEffect)(function(){var Kr=Sr.current;if(Kr)return Mr&&(Kr.innerHTML=Mr.outerHTML),function(){Kr.innerHTML=""}},[Mr]);var zr=(0,M.useState)(!1),pr=(0,b.Z)(zr,2),Ft=pr[0],or=pr[1],rr=(0,O.Fy)().editor.isMobile,Or=Tt&&(0,ge.jsx)("div",{className:"library-unit__adder",children:R.pO});return(0,ge.jsxs)("div",{className:(0,Q.Z)("library-unit",{"library-unit__active":Zt,"library-unit--hover":Zt&&Ft,"library-unit--selected":Wt,"library-unit--skeleton":!Mr}),onMouseEnter:function(){return or(!0)},onMouseLeave:function(){return or(!1)},children:[(0,ge.jsx)("div",{className:(0,Q.Z)("library-unit__dragger",{"library-unit__pulse":!!Tt}),ref:Sr,draggable:!!Zt,onClick:Zt||Tt?function(Kr){St&&Kr.shiftKey?qt(St,Kr):Lt(St)}:void 0,onDragStart:function(Kr){St?(or(!1),sr(St,Kr)):Kr.preventDefault()}}),Or,St&&Zt&&(Ft||rr||Wt)&&(0,ge.jsx)(ye.o,{checked:Wt,onChange:function(Kr,Xr){return qt(St,Xr)},className:"library-unit__checkbox"})]})}),Be=function(){return(0,ge.jsx)("div",{className:"library-unit library-unit--skeleton"})},Qe=f().useTransition||function(){return[!1,(0,M.useCallback)(function(Pt){return Pt()},[])]},rt=function(Pt){var St=Pt.children;return(0,ge.jsx)("div",{className:"library-menu-items-container__grid",children:St})},Ye=(0,M.memo)(function(Pt){var St=Pt.items,Zt=Pt.onItemSelectToggle,Tt=Pt.onItemDrag,Lt=Pt.isItemSelected,Wt=Pt.onClick,qt=Pt.svgCache,sr=Pt.itemsRenderedPerBatch,cr=Qe(),Sr=(0,b.Z)(cr,2)[1],Mr=(0,M.useState)(0),zr=(0,b.Z)(Mr,2),pr=zr[0],Ft=zr[1];return(0,M.useEffect)(function(){pr<St.length&&Sr(function(){Ft(pr+sr)})},[pr,St.length,Sr,sr]),(0,ge.jsx)(ge.Fragment,{children:St.map(function(or,rr){var Or;return rr<pr?(0,ge.jsx)(je,{elements:or==null?void 0:or.elements,isPending:!(or!=null&&or.id||or==null||!or.elements),onClick:Wt,svgCache:qt,id:or==null?void 0:or.id,selected:Lt(or.id),onToggle:Zt,onDrag:Tt},(Or=or==null?void 0:or.id)!==null&&Or!==void 0?Or:rr):(0,ge.jsx)(Be,{},rr)})})}),tt=n(200),ht=n.n(tt),gt=(0,i.cn)(0),Ue=n(6440),Ce={};Ce.styleTagTransform=be(),Ce.setAttributes=fe(),Ce.insert=le().bind(null,"head"),Ce.domAPI=F(),Ce.insertStyleElement=ne(),D()(Ue.Z,Ce),Ue.Z&&Ue.Z.locals&&Ue.Z.locals;function Le(Pt,St){var Zt=Object.keys(Pt);if(Object.getOwnPropertySymbols){var Tt=Object.getOwnPropertySymbols(Pt);St&&(Tt=Tt.filter(function(Lt){return Object.getOwnPropertyDescriptor(Pt,Lt).enumerable})),Zt.push.apply(Zt,Tt)}return Zt}function et(Pt){for(var St=1;St<arguments.length;St++){var Zt=arguments[St]!=null?arguments[St]:{};St%2?Le(Object(Zt),!0).forEach(function(Tt){(0,H.Z)(Pt,Tt,Zt[Tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Pt,Object.getOwnPropertyDescriptors(Zt)):Le(Object(Zt)).forEach(function(Tt){Object.defineProperty(Pt,Tt,Object.getOwnPropertyDescriptor(Zt,Tt))})}return Pt}function ft(Pt){var St=Pt.isLoading,Zt=Pt.libraryItems,Tt=Pt.onAddToLibrary,Lt=Pt.onInsertLibraryItems,Wt=Pt.pendingElements,qt=Pt.theme,sr=Pt.id,cr=Pt.libraryReturnUrl,Sr=Pt.onSelectItems,Mr=Pt.selectedItems,zr=(0,M.useRef)(null),pr=function(Dr){var Fr=(0,i.KO)(gt),ln=(0,b.Z)(Fr,2),Gr=ln[0],Rr=ln[1];return(0,M.useEffect)(function(){var Wr=Dr.current;if(Wr){var Ur=ht()(function(){var rn=Wr.scrollTop;Rr(rn)},200);return Wr.addEventListener("scroll",Ur),function(){Ur.cancel(),Wr.removeEventListener("scroll",Ur)}}},[Dr,Rr]),Gr}(zr);(0,M.useEffect)(function(){var Dr;pr>0&&((Dr=zr.current)===null||Dr===void 0||Dr.scrollTo(0,pr))},[]);var Ft=(0,g.yT)().svgCache,or=(0,M.useMemo)(function(){return Zt.filter(function(Dr){return Dr.status!=="published"})},[Zt]),rr=(0,M.useMemo)(function(){return Zt.filter(function(Dr){return Dr.status==="published"})},[Zt]),Or=!Zt.length&&!Wt.length,Kr=!Wt.length&&!or.length&&!rr.length,Xr=(0,M.useState)(null),cn=(0,b.Z)(Xr,2),en=cn[0],ur=cn[1],Dt=(0,M.useCallback)(function(Dr,Fr){var ln=!Mr.includes(Dr),Gr=[].concat((0,A.Z)(or),(0,A.Z)(rr));if(ln){if(Fr.shiftKey&&en){var Rr=Gr.findIndex(function(an){return an.id===en}),Wr=Gr.findIndex(function(an){return an.id===Dr});if(Rr===-1||Wr===-1)return void Sr([].concat((0,A.Z)(Mr),[Dr]));var Ur=(0,S.xn)(Mr),rn=Gr.reduce(function(an,Qr,In){return(In>=Rr&&In<=Wr||Ur.has(Qr.id))&&an.push(Qr.id),an},[]);Sr(rn)}else Sr([].concat((0,A.Z)(Mr),[Dr]));ur(Dr)}else ur(null),Sr(Mr.filter(function(an){return an!==Dr}))},[en,Sr,rr,Mr,or]),Nt=(0,M.useCallback)(function(Dr){return(Mr.includes(Dr)?Zt.filter(function(Fr){return Mr.includes(Fr.id)}):Zt.filter(function(Fr){return Fr.id===Dr})).map(function(Fr){return et(et({},Fr),{},{elements:(0,Se._N)(Fr.elements,{randomizeSeed:!0})})})},[Zt,Mr]),Ut=(0,M.useCallback)(function(Dr,Fr){Fr.dataTransfer.setData(ve.LO.excalidrawlib,(0,x.NI)(Nt(Dr)))},[Nt]),hr=(0,M.useCallback)(function(Dr){return!!Dr&&Mr.includes(Dr)},[Mr]),jr=(0,M.useCallback)(function(){Tt(Wt)},[Wt,Tt]),Cr=(0,M.useCallback)(function(Dr){Dr&&Lt(Nt(Dr))},[Nt,Lt]),Zr=Ft.size>=Zt.length?64:17;return(0,ge.jsxs)("div",{className:"library-menu-items-container",style:Wt.length||or.length||rr.length?{justifyContent:"flex-start"}:{borderBottom:0},children:[!Kr&&(0,ge.jsx)(te,{selectedItems:Mr,onSelectItems:Sr,className:"library-menu-dropdown-container--in-heading"}),(0,ge.jsxs)(q.Z.Col,{className:"library-menu-items-container__items",align:"start",gap:1,style:{flex:rr.length>0?1:"0 1 auto",marginBottom:0},ref:zr,children:[(0,ge.jsxs)(ge.Fragment,{children:[!Kr&&(0,ge.jsx)("div",{className:"library-menu-items-container__header",children:(0,j.t)("labels.personalLib")}),St&&(0,ge.jsx)("div",{style:{position:"absolute",top:"var(--container-padding-y)",right:"var(--container-padding-x)",transform:"translateY(50%)"},children:(0,ge.jsx)(ke.Z,{})}),Wt.length||or.length?(0,ge.jsxs)(rt,{children:[Wt.length>0&&(0,ge.jsx)(Ye,{itemsRenderedPerBatch:Zr,items:[{id:null,elements:Wt}],onItemSelectToggle:Dt,onItemDrag:Ut,onClick:jr,isItemSelected:hr,svgCache:Ft}),(0,ge.jsx)(Ye,{itemsRenderedPerBatch:Zr,items:or,onItemSelectToggle:Dt,onItemDrag:Ut,onClick:Cr,isItemSelected:hr,svgCache:Ft})]}):(0,ge.jsxs)("div",{className:"library-menu-items__no-items",children:[(0,ge.jsx)("div",{className:"library-menu-items__no-items__label",children:(0,j.t)("library.noItems")}),(0,ge.jsx)("div",{className:"library-menu-items__no-items__hint",children:rr.length>0?(0,j.t)("library.hint_emptyPrivateLibrary"):(0,j.t)("library.hint_emptyLibrary")})]})]}),(0,ge.jsxs)(ge.Fragment,{children:[(rr.length>0||Wt.length>0||or.length>0)&&(0,ge.jsx)("div",{className:"library-menu-items-container__header library-menu-items-container__header--excal",children:(0,j.t)("labels.excalidrawLib")}),rr.length>0?(0,ge.jsx)(rt,{children:(0,ge.jsx)(Ye,{itemsRenderedPerBatch:Zr,items:rr,onItemSelectToggle:Dt,onItemDrag:Ut,onClick:Cr,isItemSelected:hr,svgCache:Ft})}):or.length>0?(0,ge.jsx)("div",{style:{margin:"1rem 0",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",fontSize:".9rem"},children:(0,j.t)("library.noItems")}):null]}),Or&&(0,ge.jsx)(K,{style:{padding:"16px 0",width:"100%"},id:sr,libraryReturnUrl:cr,theme:qt,children:(0,ge.jsx)(te,{selectedItems:Mr,onSelectItems:Sr})})]})]})}var xt=n(3646),wt=n(4105),Rt=n(8923),It={};It.styleTagTransform=be(),It.setAttributes=fe(),It.insert=le().bind(null,"head"),It.domAPI=F(),It.insertStyleElement=ne(),D()(Rt.Z,It),Rt.Z&&Rt.Z.locals&&Rt.Z.locals;function At(Pt,St){var Zt=typeof Symbol<"u"&&Pt[Symbol.iterator]||Pt["@@iterator"];if(!Zt){if(Array.isArray(Pt)||(Zt=function(cr,Sr){if(cr){if(typeof cr=="string")return Xt(cr,Sr);var Mr=Object.prototype.toString.call(cr).slice(8,-1);if(Mr==="Object"&&cr.constructor&&(Mr=cr.constructor.name),Mr==="Map"||Mr==="Set")return Array.from(cr);if(Mr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Mr))return Xt(cr,Sr)}}(Pt))||St){Zt&&(Pt=Zt);var Tt=0,Lt=function(){};return{s:Lt,n:function(){return Tt>=Pt.length?{done:!0}:{done:!1,value:Pt[Tt++]}},e:function(cr){throw cr},f:Lt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Wt,qt=!0,sr=!1;return{s:function(){Zt=Zt.call(Pt)},n:function(){var cr=Zt.next();return qt=cr.done,cr},e:function(cr){sr=!0,Wt=cr},f:function(){try{qt||Zt.return==null||Zt.return()}finally{if(sr)throw Wt}}}}function Xt(Pt,St){(St==null||St>Pt.length)&&(St=Pt.length);for(var Zt=0,Tt=new Array(St);Zt<St;Zt++)Tt[Zt]=Pt[Zt];return Tt}var tr=(0,i.cn)(!1),Gt=function(Pt){var St=Pt.children;return(0,ge.jsx)("div",{className:"layer-ui__library",children:St})},Jt=function(Pt){var St=Pt.onInsertLibraryItems,Zt=Pt.pendingElements,Tt=Pt.onAddToLibrary,Lt=Pt.setAppState,Wt=Pt.libraryReturnUrl,qt=Pt.library,sr=Pt.id,cr=Pt.theme,Sr=Pt.selectedItems,Mr=Pt.onSelectItems,zr=(0,i.KO)(d.rF,B.yE),pr=(0,b.Z)(zr,1)[0],Ft=(0,M.useCallback)(function(Or){var Kr=function(){var Xr=(0,k.Z)(N().mark(function cn(en,ur){var Dt,Nt,Ut,hr,jr;return N().wrap(function(Cr){for(;;)switch(Cr.prev=Cr.next){case 0:(0,xt.L)("element","addToLibrary","ui"),Dt=At(ve.PR),Cr.prev=2,Ut=function(){var Zr=Nt.value;if(en.some(function(Dr){return Dr.type===Zr}))return{v:Lt({errorMessage:(0,j.t)("errors.libraryElementTypeError.".concat(Zr))})}},Dt.s();case 5:if((Nt=Dt.n()).done){Cr.next=11;break}if(hr=Ut(),(0,r.Z)(hr)!=="object"){Cr.next=9;break}return Cr.abrupt("return",hr.v);case 9:Cr.next=5;break;case 11:Cr.next=16;break;case 13:Cr.prev=13,Cr.t0=Cr.catch(2),Dt.e(Cr.t0);case 16:return Cr.prev=16,Dt.f(),Cr.finish(16);case 19:jr=[{status:"unpublished",elements:en,id:(0,L.kb)(),created:Date.now()}].concat((0,A.Z)(ur)),Tt(),qt.setLibrary(jr).catch(function(){Lt({errorMessage:(0,j.t)("alerts.errorAddingToLibrary")})});case 22:case"end":return Cr.stop()}},cn,null,[[2,13,16,19]])}));return function(cn,en){return Xr.apply(this,arguments)}}();Kr(Or,pr.libraryItems)},[Tt,qt,Lt,pr.libraryItems]),or=(0,M.useMemo)(function(){return pr.libraryItems},[pr]);if(pr.status==="loading"&&!pr.isInitialized)return(0,ge.jsx)(Gt,{children:(0,ge.jsx)("div",{className:"layer-ui__library-message",children:(0,ge.jsxs)("div",{children:[(0,ge.jsx)(ke.Z,{size:"2em"}),(0,ge.jsx)("span",{children:(0,j.t)("labels.libraryLoadingMessage")})]})})});var rr=pr.libraryItems.length>0||Zt.length>0;return(0,ge.jsxs)(Gt,{children:[(0,ge.jsx)(ft,{isLoading:pr.status==="loading",libraryItems:or,onAddToLibrary:Ft,onInsertLibraryItems:St,pendingElements:Zt,id:sr,libraryReturnUrl:Wt,theme:cr,onSelectItems:Mr,selectedItems:Sr}),rr&&(0,ge.jsx)(K,{className:"library-menu-control-buttons--at-bottom",style:{padding:"16px 12px 0 12px"},id:sr,libraryReturnUrl:Wt,theme:cr})]})},gr=function(){var Pt=(0,O.qD)(),St=Pt.library,Zt=Pt.id,Tt=Pt.onInsertElements,Lt=(0,O.hY)(),Wt=(0,u.I)(),qt=(0,O.n9)(),sr=(0,O.bd)(),cr=(0,M.useState)([]),Sr=(0,b.Z)(cr,2),Mr=Sr[0],zr=Sr[1],pr=(0,M.useMemo)(function(){return St},[St]),Ft=function(Or,Kr){var Xr=function(){return(0,wt.eD)(Kr,Or,{includeBoundTextElement:!0,includeElementsInFrames:!0})},cn=(0,M.useRef)(Xr()),en=(0,M.useRef)(Or),ur=(0,M.useRef)(Kr);return(0,S.w8)(Or.selectedElementIds,en.current.selectedElementIds)&&(0,S.w8)(Kr,ur.current)||(cn.current=Xr(),en.current=Or,ur.current=Kr),cn.current}(Wt,sr),or=(0,M.useCallback)(function(Or){Tt((0,d.WV)(Or))},[Tt]),rr=(0,M.useCallback)(function(){qt({selectedElementIds:{},selectedGroupIds:{},activeEmbeddable:null})},[qt]);return(0,ge.jsx)(Jt,{pendingElements:Ft,onInsertLibraryItems:or,onAddToLibrary:rr,setAppState:qt,libraryReturnUrl:Lt.libraryReturnUrl,library:pr,id:Zt,theme:Wt.theme,selectedItems:Mr,onSelectItems:zr})}},7165:function(We,ue,n){n.d(ue,{z:function(){return f}});var r=n(2577),A=n(8227),k=n(9787),b=n(8531),w=n(45),N=n(9937),M=n(4512),f=function(d){var j=d.delay,L=d.theme,H=(0,k.useState)(!!j),x=(0,r.Z)(H,2),S=x[0],q=x[1];return(0,k.useEffect)(function(){if(j){var ve=setTimeout(function(){q(!1)},j);return function(){return clearTimeout(ve)}}},[j]),S?null:(0,M.jsxs)("div",{className:(0,w.Z)("LoadingMessage",{"LoadingMessage--dark":L===N.C6.DARK}),children:[(0,M.jsx)("div",{children:(0,M.jsx)(b.Z,{})}),(0,M.jsx)("div",{className:"LoadingMessage-text",children:(0,A.t)("labels.loadingScene")})]})}},7827:function(We,ue,n){n.d(ue,{K:function(){return N},_:function(){return M}});var r=n(8950),A=n(2975),k=n.n(A),b=n(3607),w=n(453),N=(0,b.cn)({active:!1});function M(d){return f.apply(this,arguments)}function f(){return(f=(0,r.Z)(k().mark(function d(j){var L,H,x,S;return k().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return L=j.title,H=j.description,x=j.actionLabel,S=j.color,q.abrupt("return",new Promise(function(ve){w.e_.set(N,{active:!0,onConfirm:function(){return ve(!0)},onClose:function(){return ve(!1)},onReject:function(){return ve(!1)},title:L,description:H,actionLabel:x,color:S})}));case 2:case"end":return q.stop()}},d)}))).apply(this,arguments)}},3204:function(We,ue,n){n.d(ue,{J:function(){return J}});var r=n(9787),A=n(3379),k=n.n(A),b=n(7795),w=n.n(b),N=n(569),M=n.n(N),f=n(3565),d=n.n(f),j=n(9216),L=n.n(j),H=n(4589),x=n.n(H),S=n(9935),q={};q.styleTagTransform=x(),q.setAttributes=d(),q.insert=M().bind(null,"head"),q.domAPI=w(),q.insertStyleElement=L(),k()(S.Z,q),S.Z&&S.Z.locals&&S.Z.locals;var ve=n(5156),ke=n(9827),Se=n(5491),ge=n(4512),J=function(Q){var K=Q.children,T=Q.left,B=Q.top,O=Q.onCloseRequest,R=Q.fitInViewport,E=R!==void 0&&R,v=Q.offsetLeft,i=v===void 0?0:v,a=Q.offsetTop,y=a===void 0?0:a,h=Q.viewportWidth,m=h===void 0?window.innerWidth:h,C=Q.viewportHeight,U=C===void 0?window.innerHeight:C,V=(0,r.useRef)(null);(0,r.useEffect)(function(){var P=V.current;if(P){P.contains(document.activeElement)||P.focus();var F=function(X){if(X.key===Se.tW.TAB){var le=(0,ke.xp)(P),de=document.activeElement,fe=le.findIndex(function(be){return be===de});if(de===P){var pe;X.shiftKey?(pe=le[le.length-1])===null||pe===void 0||pe.focus():le[0].focus(),X.preventDefault(),X.stopImmediatePropagation()}else if(fe===0&&X.shiftKey){var ne;(ne=le[le.length-1])===null||ne===void 0||ne.focus(),X.preventDefault(),X.stopImmediatePropagation()}else if(fe===le.length-1&&!X.shiftKey){var oe;(oe=le[0])===null||oe===void 0||oe.focus(),X.preventDefault(),X.stopImmediatePropagation()}}};return P.addEventListener("keydown",F),function(){return P.removeEventListener("keydown",F)}}},[]);var D=(0,r.useRef)(null);return(0,r.useLayoutEffect)(function(){if(E&&V.current&&B!=null&&T!=null){var P,F,X=V.current,le=X.getBoundingClientRect(),de=le.width,fe=le.height;if(((P=D.current)===null||P===void 0?void 0:P.top)===B&&((F=D.current)===null||F===void 0?void 0:F.left)===T)return;D.current={top:B,left:T},de>=m?(X.style.width="".concat(m,"px"),X.style.left="0px",X.style.overflowX="scroll"):X.style.left="".concat(T+de-i>m?m-de-10:T,"px"),fe>=U?(X.style.height="".concat(U-20,"px"),X.style.top="10px",X.style.overflowY="scroll"):X.style.top="".concat(B+fe-y>U?U-fe:B,"px")}},[B,T,E,m,U,i,y]),(0,r.useEffect)(function(){if(O){var P=function(F){var X;(X=V.current)!==null&&X!==void 0&&X.contains(F.target)||(0,ve.unstable_batchedUpdates)(function(){return O(F)})};return document.addEventListener("pointerdown",P,!1),function(){return document.removeEventListener("pointerdown",P,!1)}}},[O]),(0,ge.jsx)("div",{className:"popover",ref:V,tabIndex:-1,children:K})}},5902:function(We,ue,n){n.d(ue,{YE:function(){return en},t6:function(){return Xr}});var r=n(2577),A=n(7169),k=n(2726),b=n(9787),w=n.n(b),N=n(1404),M=n(3607),f=n(453),d=w().createContext({}),j=n(45),L=n(8227),H=n(8242),x=n(8935),S=n(8925),q=n(8806),ve=n(4512),ke=function(ur){var Dt=ur.children,Nt=ur.className,Ut=(0,H.Fy)(),hr=(0,b.useContext)(d),jr=!(!Ut.editor.canFitSidebar||!hr.shouldRenderDockButton);return(0,ve.jsxs)("div",{className:(0,j.Z)("sidebar__header",Nt),"data-testid":"sidebar-header",children:[Dt,(0,ve.jsxs)("div",{className:"sidebar__header__buttons",children:[jr&&(0,ve.jsx)(S.u,{label:(0,L.t)("labels.sidebarLock"),children:(0,ve.jsx)(q.z,{onSelect:function(){var Cr;return(Cr=hr.onDock)===null||Cr===void 0?void 0:Cr.call(hr,!hr.docked)},selected:!!hr.docked,className:"sidebar__dock","data-testid":"sidebar-dock","aria-label":(0,L.t)("labels.sidebarLock"),children:x.qQ})}),(0,ve.jsx)(q.z,{"data-testid":"sidebar-close",className:"sidebar__close",onSelect:hr.onCloseRequest,"aria-label":(0,L.t)("buttons.close"),children:x.Tw})]})]})};ke.displayName="SidebarHeader";var Se=n(9827),ge=n(5491),J=n(9937),Q=n(100),K=n(3379),T=n.n(K),B=n(7795),O=n.n(B),R=n(569),E=n.n(R),v=n(3565),i=n.n(v),a=n(9216),y=n.n(a),h=n(4589),m=n.n(h),C=n(7051),U={};U.styleTagTransform=m(),U.setAttributes=i(),U.insert=E().bind(null,"head"),U.domAPI=O(),U.insertStyleElement=y(),T()(C.Z,U),C.Z&&C.Z.locals&&C.Z.locals;var V=function(ur){var Dt,Nt=ur.name,Ut=ur.tab,hr=ur.icon,jr=ur.title,Cr=ur.children,Zr=ur.onToggle,Dr=ur.className,Fr=ur.style,ln=(0,H.n9)(),Gr=(0,Q.I)();return(0,ve.jsxs)("label",{title:jr,children:[(0,ve.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",onChange:function(Rr){var Wr;(Wr=document.querySelector(".layer-ui__wrapper"))===null||Wr===void 0||Wr.classList.remove("animate");var Ur=Rr.target.checked;ln({openSidebar:Ur?{name:Nt,tab:Ut}:null}),Zr==null||Zr(Ur)},checked:((Dt=Gr.openSidebar)===null||Dt===void 0?void 0:Dt.name)===Nt,"aria-label":jr,"aria-keyshortcuts":"0"}),(0,ve.jsxs)("div",{className:(0,j.Z)("sidebar-trigger",Dr),style:Fr,children:[hr&&(0,ve.jsx)("div",{children:hr}),Cr&&(0,ve.jsx)("div",{className:"sidebar-trigger__label",children:Cr})]})]})};V.displayName="SidebarTrigger";var D=n(11),P=n(7217),F=n(1267),X=n(9335),le=n(4801),de=n(5622),fe=n(3119),pe=n(3060),ne=n(2673);const oe=(0,b.createContext)(void 0);function be(ur){const Dt=(0,b.useContext)(oe);return ur||Dt||"ltr"}const Me="rovingFocusGroup.onEntryFocus",Ge={bubbles:!1,cancelable:!0},qe="RovingFocusGroup",[Ne,Pe,Re]=function(ur){const Dt=ur+"CollectionProvider",[Nt,Ut]=(0,F.b)(Dt),[hr,jr]=Nt(Dt,{collectionRef:{current:null},itemMap:new Map}),Cr=Rr=>{const{scope:Wr,children:Ur}=Rr,rn=w().useRef(null),an=w().useRef(new Map).current;return w().createElement(hr,{scope:Wr,itemMap:an,collectionRef:rn},Ur)},Zr=ur+"CollectionSlot",Dr=w().forwardRef((Rr,Wr)=>{const{scope:Ur,children:rn}=Rr,an=jr(Zr,Ur),Qr=(0,X.e)(Wr,an.collectionRef);return w().createElement(le.g7,{ref:Qr},rn)}),Fr=ur+"CollectionItemSlot",ln="data-radix-collection-item",Gr=w().forwardRef((Rr,Wr)=>{const{scope:Ur,children:rn,...an}=Rr,Qr=w().useRef(null),In=(0,X.e)(Wr,Qr),Xn=jr(Fr,Ur);return w().useEffect(()=>(Xn.itemMap.set(Qr,{ref:Qr,...an}),()=>{Xn.itemMap.delete(Qr)})),w().createElement(le.g7,{[ln]:"",ref:In},rn)});return[{Provider:Cr,Slot:Dr,ItemSlot:Gr},function(Rr){const Wr=jr(ur+"CollectionConsumer",Rr);return w().useCallback(()=>{const Ur=Wr.collectionRef.current;if(!Ur)return[];const rn=Array.from(Ur.querySelectorAll(`[${ln}]`));return Array.from(Wr.itemMap.values()).sort((an,Qr)=>rn.indexOf(an.ref.current)-rn.indexOf(Qr.ref.current))},[Wr.collectionRef,Wr.itemMap])},Ut]}(qe),[Ze,Ie]=(0,F.b)(qe,[Re]),[Ee,xe]=Ze(qe),Z=(0,b.forwardRef)((ur,Dt)=>(0,b.createElement)(Ne.Provider,{scope:ur.__scopeRovingFocusGroup},(0,b.createElement)(Ne.Slot,{scope:ur.__scopeRovingFocusGroup},(0,b.createElement)(u,(0,D.Z)({},ur,{ref:Dt}))))),u=(0,b.forwardRef)((ur,Dt)=>{const{__scopeRovingFocusGroup:Nt,orientation:Ut,loop:hr=!1,dir:jr,currentTabStopId:Cr,defaultCurrentTabStopId:Zr,onCurrentTabStopIdChange:Dr,onEntryFocus:Fr,...ln}=ur,Gr=(0,b.useRef)(null),Rr=(0,X.e)(Dt,Gr),Wr=be(jr),[Ur=null,rn]=(0,ne.T)({prop:Cr,defaultProp:Zr,onChange:Dr}),[an,Qr]=(0,b.useState)(!1),In=(0,pe.W)(Fr),Xn=Pe(Nt),go=(0,b.useRef)(!1),[bo,_o]=(0,b.useState)(0);return(0,b.useEffect)(()=>{const wo=Gr.current;if(wo)return wo.addEventListener(Me,In),()=>wo.removeEventListener(Me,In)},[In]),(0,b.createElement)(Ee,{scope:Nt,orientation:Ut,dir:Wr,loop:hr,currentTabStopId:Ur,onItemFocus:(0,b.useCallback)(wo=>rn(wo),[rn]),onItemShiftTab:(0,b.useCallback)(()=>Qr(!0),[]),onFocusableItemAdd:(0,b.useCallback)(()=>_o(wo=>wo+1),[]),onFocusableItemRemove:(0,b.useCallback)(()=>_o(wo=>wo-1),[])},(0,b.createElement)(fe.WV.div,(0,D.Z)({tabIndex:an||bo===0?-1:0,"data-orientation":Ut},ln,{ref:Rr,style:{outline:"none",...ur.style},onMouseDown:(0,P.M)(ur.onMouseDown,()=>{go.current=!0}),onFocus:(0,P.M)(ur.onFocus,wo=>{const ao=!go.current;if(wo.target===wo.currentTarget&&ao&&!an){const co=new CustomEvent(Me,Ge);if(wo.currentTarget.dispatchEvent(co),!co.defaultPrevented){const it=Xn().filter(Oe=>Oe.focusable);te([it.find(Oe=>Oe.active),it.find(Oe=>Oe.id===Ur),...it].filter(Boolean).map(Oe=>Oe.ref.current))}}go.current=!1}),onBlur:(0,P.M)(ur.onBlur,()=>Qr(!1))})))}),g="RovingFocusGroupItem",z=(0,b.forwardRef)((ur,Dt)=>{const{__scopeRovingFocusGroup:Nt,focusable:Ut=!0,active:hr=!1,tabStopId:jr,...Cr}=ur,Zr=(0,de.M)(),Dr=jr||Zr,Fr=xe(g,Nt),ln=Fr.currentTabStopId===Dr,Gr=Pe(Nt),{onFocusableItemAdd:Rr,onFocusableItemRemove:Wr}=Fr;return(0,b.useEffect)(()=>{if(Ut)return Rr(),()=>Wr()},[Ut,Rr,Wr]),(0,b.createElement)(Ne.ItemSlot,{scope:Nt,id:Dr,focusable:Ut,active:hr},(0,b.createElement)(fe.WV.span,(0,D.Z)({tabIndex:ln?0:-1,"data-orientation":Fr.orientation},Cr,{ref:Dt,onMouseDown:(0,P.M)(ur.onMouseDown,Ur=>{Ut?Fr.onItemFocus(Dr):Ur.preventDefault()}),onFocus:(0,P.M)(ur.onFocus,()=>Fr.onItemFocus(Dr)),onKeyDown:(0,P.M)(ur.onKeyDown,Ur=>{if(Ur.key==="Tab"&&Ur.shiftKey)return void Fr.onItemShiftTab();if(Ur.target!==Ur.currentTarget)return;const rn=function(In,Xn,go){const bo=function(_o,wo){return wo!=="rtl"?_o:_o==="ArrowLeft"?"ArrowRight":_o==="ArrowRight"?"ArrowLeft":_o}(In.key,go);return Xn==="vertical"&&["ArrowLeft","ArrowRight"].includes(bo)||Xn==="horizontal"&&["ArrowUp","ArrowDown"].includes(bo)?void 0:Y[bo]}(Ur,Fr.orientation,Fr.dir);if(rn!==void 0){Ur.preventDefault();let In=Gr().filter(Xn=>Xn.focusable).map(Xn=>Xn.ref.current);if(rn==="last")In.reverse();else if(rn==="prev"||rn==="next"){rn==="prev"&&In.reverse();const Xn=In.indexOf(Ur.currentTarget);In=Fr.loop?(Qr=Xn+1,(an=In).map((go,bo)=>an[(Qr+bo)%an.length])):In.slice(Xn+1)}setTimeout(()=>te(In))}var an,Qr})})))}),Y={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function te(ur){const Dt=document.activeElement;for(const Nt of ur)if(Nt===Dt||(Nt.focus(),document.activeElement!==Dt))return}const ae=Z,ce=z;var ye=n(1483);const je="Tabs",[Be,Qe]=(0,F.b)(je,[Ie]),rt=Ie(),[Ye,tt]=Be(je),ht=(0,b.forwardRef)((ur,Dt)=>{const{__scopeTabs:Nt,value:Ut,onValueChange:hr,defaultValue:jr,orientation:Cr="horizontal",dir:Zr,activationMode:Dr="automatic",...Fr}=ur,ln=be(Zr),[Gr,Rr]=(0,ne.T)({prop:Ut,onChange:hr,defaultProp:jr});return(0,b.createElement)(Ye,{scope:Nt,baseId:(0,de.M)(),value:Gr,onValueChange:Rr,orientation:Cr,dir:ln,activationMode:Dr},(0,b.createElement)(fe.WV.div,(0,D.Z)({dir:ln,"data-orientation":Cr},Fr,{ref:Dt})))}),gt="TabsList",Ue=(0,b.forwardRef)((ur,Dt)=>{const{__scopeTabs:Nt,loop:Ut=!0,...hr}=ur,jr=tt(gt,Nt),Cr=rt(Nt);return(0,b.createElement)(ae,(0,D.Z)({asChild:!0},Cr,{orientation:jr.orientation,dir:jr.dir,loop:Ut}),(0,b.createElement)(fe.WV.div,(0,D.Z)({role:"tablist","aria-orientation":jr.orientation},hr,{ref:Dt})))}),Ce="TabsTrigger",Le=(0,b.forwardRef)((ur,Dt)=>{const{__scopeTabs:Nt,value:Ut,disabled:hr=!1,...jr}=ur,Cr=tt(Ce,Nt),Zr=rt(Nt),Dr=xt(Cr.baseId,Ut),Fr=wt(Cr.baseId,Ut),ln=Ut===Cr.value;return(0,b.createElement)(ce,(0,D.Z)({asChild:!0},Zr,{focusable:!hr,active:ln}),(0,b.createElement)(fe.WV.button,(0,D.Z)({type:"button",role:"tab","aria-selected":ln,"aria-controls":Fr,"data-state":ln?"active":"inactive","data-disabled":hr?"":void 0,disabled:hr,id:Dr},jr,{ref:Dt,onMouseDown:(0,P.M)(ur.onMouseDown,Gr=>{hr||Gr.button!==0||Gr.ctrlKey!==!1?Gr.preventDefault():Cr.onValueChange(Ut)}),onKeyDown:(0,P.M)(ur.onKeyDown,Gr=>{[" ","Enter"].includes(Gr.key)&&Cr.onValueChange(Ut)}),onFocus:(0,P.M)(ur.onFocus,()=>{const Gr=Cr.activationMode!=="manual";ln||hr||!Gr||Cr.onValueChange(Ut)})})))}),et="TabsContent",ft=(0,b.forwardRef)((ur,Dt)=>{const{__scopeTabs:Nt,value:Ut,forceMount:hr,children:jr,...Cr}=ur,Zr=tt(et,Nt),Dr=xt(Zr.baseId,Ut),Fr=wt(Zr.baseId,Ut),ln=Ut===Zr.value,Gr=(0,b.useRef)(ln);return(0,b.useEffect)(()=>{const Rr=requestAnimationFrame(()=>Gr.current=!1);return()=>cancelAnimationFrame(Rr)},[]),(0,b.createElement)(ye.z,{present:hr||ln},({present:Rr})=>(0,b.createElement)(fe.WV.div,(0,D.Z)({"data-state":ln?"active":"inactive","data-orientation":Zr.orientation,role:"tabpanel","aria-labelledby":Dr,hidden:!Rr,id:Fr,tabIndex:0},Cr,{ref:Dt,style:{...ur.style,animationDuration:Gr.current?"0s":void 0}}),Rr&&jr))});function xt(ur,Dt){return`${ur}-trigger-${Dt}`}function wt(ur,Dt){return`${ur}-content-${Dt}`}const Rt=ht,It=Ue,At=Le,Xt=ft;var tr=["children"];function Gt(ur,Dt){var Nt=Object.keys(ur);if(Object.getOwnPropertySymbols){var Ut=Object.getOwnPropertySymbols(ur);Dt&&(Ut=Ut.filter(function(hr){return Object.getOwnPropertyDescriptor(ur,hr).enumerable})),Nt.push.apply(Nt,Ut)}return Nt}function Jt(ur){for(var Dt=1;Dt<arguments.length;Dt++){var Nt=arguments[Dt]!=null?arguments[Dt]:{};Dt%2?Gt(Object(Nt),!0).forEach(function(Ut){(0,A.Z)(ur,Ut,Nt[Ut])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ur,Object.getOwnPropertyDescriptors(Nt)):Gt(Object(Nt)).forEach(function(Ut){Object.defineProperty(ur,Ut,Object.getOwnPropertyDescriptor(Nt,Ut))})}return ur}var gr=function(ur){var Dt=ur.children,Nt=(0,k.Z)(ur,tr);return(0,ve.jsx)(It,Jt(Jt({className:"sidebar-triggers"},Nt),{},{children:Dt}))};gr.displayName="SidebarTabTriggers";var Pt=["children","tab","onSelect"];function St(ur,Dt){var Nt=Object.keys(ur);if(Object.getOwnPropertySymbols){var Ut=Object.getOwnPropertySymbols(ur);Dt&&(Ut=Ut.filter(function(hr){return Object.getOwnPropertyDescriptor(ur,hr).enumerable})),Nt.push.apply(Nt,Ut)}return Nt}function Zt(ur){for(var Dt=1;Dt<arguments.length;Dt++){var Nt=arguments[Dt]!=null?arguments[Dt]:{};Dt%2?St(Object(Nt),!0).forEach(function(Ut){(0,A.Z)(ur,Ut,Nt[Ut])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ur,Object.getOwnPropertyDescriptors(Nt)):St(Object(Nt)).forEach(function(Ut){Object.defineProperty(ur,Ut,Object.getOwnPropertyDescriptor(Nt,Ut))})}return ur}var Tt=function(ur){var Dt=ur.children,Nt=ur.tab,Ut=ur.onSelect,hr=(0,k.Z)(ur,Pt);return(0,ve.jsx)(At,{value:Nt,asChild:!0,onSelect:Ut,children:(0,ve.jsx)("button",Zt(Zt({type:"button",className:"excalidraw-button sidebar-tab-trigger"},hr),{},{children:Dt}))})};Tt.displayName="SidebarTabTrigger";var Lt=["children"];function Wt(ur,Dt){var Nt=Object.keys(ur);if(Object.getOwnPropertySymbols){var Ut=Object.getOwnPropertySymbols(ur);Dt&&(Ut=Ut.filter(function(hr){return Object.getOwnPropertyDescriptor(ur,hr).enumerable})),Nt.push.apply(Nt,Ut)}return Nt}function qt(ur){for(var Dt=1;Dt<arguments.length;Dt++){var Nt=arguments[Dt]!=null?arguments[Dt]:{};Dt%2?Wt(Object(Nt),!0).forEach(function(Ut){(0,A.Z)(ur,Ut,Nt[Ut])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ur,Object.getOwnPropertyDescriptors(Nt)):Wt(Object(Nt)).forEach(function(Ut){Object.defineProperty(ur,Ut,Object.getOwnPropertyDescriptor(Nt,Ut))})}return ur}var sr=function(ur){var Dt=ur.children,Nt=(0,k.Z)(ur,Lt),Ut=(0,Q.I)(),hr=(0,H.n9)();if(!Ut.openSidebar)return null;var jr=Ut.openSidebar.name;return(0,ve.jsx)(Rt,qt(qt({className:"sidebar-tabs-root",value:Ut.openSidebar.tab,onValueChange:function(Cr){return hr(function(Zr){return qt(qt({},Zr),{},{openSidebar:qt(qt({},Zr.openSidebar),{},{name:jr,tab:Cr})})})}},Nt),{},{children:Dt}))};sr.displayName="SidebarTabs";var cr=["tab","children"];function Sr(ur,Dt){var Nt=Object.keys(ur);if(Object.getOwnPropertySymbols){var Ut=Object.getOwnPropertySymbols(ur);Dt&&(Ut=Ut.filter(function(hr){return Object.getOwnPropertyDescriptor(ur,hr).enumerable})),Nt.push.apply(Nt,Ut)}return Nt}function Mr(ur){for(var Dt=1;Dt<arguments.length;Dt++){var Nt=arguments[Dt]!=null?arguments[Dt]:{};Dt%2?Sr(Object(Nt),!0).forEach(function(Ut){(0,A.Z)(ur,Ut,Nt[Ut])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ur,Object.getOwnPropertyDescriptors(Nt)):Sr(Object(Nt)).forEach(function(Ut){Object.defineProperty(ur,Ut,Object.getOwnPropertyDescriptor(Nt,Ut))})}return ur}var zr=function(ur){var Dt=ur.tab,Nt=ur.children,Ut=(0,k.Z)(ur,cr);return(0,ve.jsx)(Xt,Mr(Mr({},Ut),{},{value:Dt,children:Nt}))};zr.displayName="SidebarTab";var pr=n(1901),Ft=n(8208),or={};or.styleTagTransform=m(),or.setAttributes=i(),or.insert=E().bind(null,"head"),or.domAPI=O(),or.insertStyleElement=y(),T()(Ft.Z,or),Ft.Z&&Ft.Z.locals&&Ft.Z.locals;var rr=["name","children","onDock","docked","className"];function Or(ur,Dt){var Nt=Object.keys(ur);if(Object.getOwnPropertySymbols){var Ut=Object.getOwnPropertySymbols(ur);Dt&&(Ut=Ut.filter(function(hr){return Object.getOwnPropertyDescriptor(ur,hr).enumerable})),Nt.push.apply(Nt,Ut)}return Nt}function Kr(ur){for(var Dt=1;Dt<arguments.length;Dt++){var Nt=arguments[Dt]!=null?arguments[Dt]:{};Dt%2?Or(Object(Nt),!0).forEach(function(Ut){(0,A.Z)(ur,Ut,Nt[Ut])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ur,Object.getOwnPropertyDescriptors(Nt)):Or(Object(Nt)).forEach(function(Ut){Object.defineProperty(ur,Ut,Object.getOwnPropertyDescriptor(Nt,Ut))})}return ur}var Xr=(0,M.cn)(!1),cn=(0,b.forwardRef)(function(ur,Dt){ur.name;var Nt=ur.children,Ut=ur.onDock,hr=ur.docked,jr=ur.className,Cr=(0,k.Z)(ur,rr),Zr=(0,H.n9)(),Dr=(0,M.b9)(Xr,f.yE);(0,b.useLayoutEffect)(function(){return Dr(!!hr),function(){Dr(!1)}},[Dr,hr]);var Fr=(0,b.useRef)({});Fr.current.onCloseRequest=function(){Zr({openSidebar:null})},Fr.current.onDock=function(Wr){return Ut==null?void 0:Ut(Wr)},Fr.current=(0,Se.v4)(Fr.current,{docked:hr,shouldRenderDockButton:!!Ut&&hr!=null});var ln=(0,b.useRef)(null);(0,b.useImperativeHandle)(Dt,function(){return ln.current});var Gr=(0,H.Fy)(),Rr=(0,b.useCallback)(function(){document.querySelector(".Dialog")||Zr({openSidebar:null})},[Zr]);return(0,pr.O)(ln,(0,b.useCallback)(function(Wr){Wr.target.closest(".sidebar-trigger")||hr&&Gr.editor.canFitSidebar||Rr()},[Rr,hr,Gr.editor.canFitSidebar])),(0,b.useEffect)(function(){var Wr=function(Ur){Ur.key!==ge.tW.ESCAPE||hr&&Gr.editor.canFitSidebar||Rr()};return document.addEventListener(J.Ks.KEYDOWN,Wr),function(){document.removeEventListener(J.Ks.KEYDOWN,Wr)}},[Rr,hr,Gr.editor.canFitSidebar]),(0,ve.jsx)(N.W,Kr(Kr({},Cr),{},{className:(0,j.Z)("sidebar",{"sidebar--docked":hr},jr),ref:ln,children:(0,ve.jsx)(d.Provider,{value:Fr.current,children:Nt})}))});cn.displayName="SidebarInner";var en=Object.assign((0,b.forwardRef)(function(ur,Dt){var Nt,Ut=(0,Q.I)(),hr=ur.onStateChange,jr=(0,b.useRef)(Ut.openSidebar);(0,b.useEffect)(function(){var ln,Gr,Rr,Wr,Ur;(!Ut.openSidebar&&(jr==null||(ln=jr.current)===null||ln===void 0?void 0:ln.name)===ur.name||((Gr=Ut.openSidebar)===null||Gr===void 0?void 0:Gr.name)===ur.name&&(jr==null||(Rr=jr.current)===null||Rr===void 0?void 0:Rr.name)!==ur.name||((Wr=jr.current)===null||Wr===void 0?void 0:Wr.name)===ur.name)&&Ut.openSidebar!==jr.current&&(hr==null||hr(((Ur=Ut.openSidebar)===null||Ur===void 0?void 0:Ur.name)!==ur.name?null:Ut.openSidebar)),jr.current=Ut.openSidebar},[Ut.openSidebar,hr,ur.name]);var Cr=(0,b.useState)(!1),Zr=(0,r.Z)(Cr,2),Dr=Zr[0],Fr=Zr[1];return(0,b.useLayoutEffect)(function(){return Fr(!0),function(){return Fr(!1)}},[]),Dr&&((Nt=Ut.openSidebar)===null||Nt===void 0?void 0:Nt.name)===ur.name?(0,b.createElement)(cn,Kr(Kr({},ur),{},{ref:Dt,key:ur.name})):null}),{Header:ke,TabTriggers:gr,TabTrigger:Tt,Tabs:sr,Tab:zr,Trigger:V});en.displayName="Sidebar"},8531:function(We,ue,n){n.d(ue,{Z:function(){return ge}});var r=n(7169),A=n(9787),k=n.n(A),b=n(3379),w=n.n(b),N=n(7795),M=n.n(N),f=n(569),d=n.n(f),j=n(3565),L=n.n(j),H=n(9216),x=n.n(H),S=n(4589),q=n.n(S),ve=n(5892),ke={};ke.styleTagTransform=q(),ke.setAttributes=L(),ke.insert=d().bind(null,"head"),ke.domAPI=M(),ke.insertStyleElement=x(),w()(ve.Z,ke),ve.Z&&ve.Z.locals&&ve.Z.locals;var Se=n(4512),ge=function(J){var Q=J.size,K=Q===void 0?"1em":Q,T=J.circleWidth,B=T===void 0?8:T,O=J.synchronized,R=O!==void 0&&O,E=-k().useRef(Date.now()).current%1600;return(0,Se.jsx)("div",{className:"Spinner",children:(0,Se.jsx)("svg",{viewBox:"0 0 100 100",style:(0,r.Z)({width:K,height:K},"--spinner-delay",R?"".concat(E,"ms"):0),children:(0,Se.jsx)("circle",{cx:"50",cy:"50",r:50-B/2,strokeWidth:B,fill:"none",strokeMiterlimit:"10"})})})}},2540:function(We,ue,n){n.d(ue,{Z:function(){return Q}});var r=n(7169),A=n(3379),k=n.n(A),b=n(7795),w=n.n(b),N=n(569),M=n.n(N),f=n(3565),d=n.n(f),j=n(9216),L=n.n(j),H=n(4589),x=n.n(H),S=n(3874),q={};q.styleTagTransform=x(),q.setAttributes=d(),q.insert=M().bind(null,"head"),q.domAPI=w(),q.insertStyleElement=L(),k()(S.Z,q),S.Z&&S.Z.locals&&S.Z.locals;var ve=n(9787),ke=n(45),Se=n(4512);function ge(K,T){var B=Object.keys(K);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(K);T&&(O=O.filter(function(R){return Object.getOwnPropertyDescriptor(K,R).enumerable})),B.push.apply(B,O)}return B}function J(K){for(var T=1;T<arguments.length;T++){var B=arguments[T]!=null?arguments[T]:{};T%2?ge(Object(B),!0).forEach(function(O){(0,r.Z)(K,O,B[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(K,Object.getOwnPropertyDescriptors(B)):ge(Object(B)).forEach(function(O){Object.defineProperty(K,O,Object.getOwnPropertyDescriptor(B,O))})}return K}var Q={Row:(0,ve.forwardRef)(function(K,T){var B=K.children,O=K.gap,R=K.align,E=K.justifyContent,v=K.className,i=K.style;return(0,Se.jsx)("div",{className:(0,ke.Z)("Stack Stack_horizontal",v),style:J({"--gap":O,alignItems:R,justifyContent:E},i),ref:T,children:B})}),Col:(0,ve.forwardRef)(function(K,T){var B=K.children,O=K.gap,R=K.align,E=K.justifyContent,v=K.className,i=K.style;return(0,Se.jsx)("div",{className:(0,ke.Z)("Stack Stack_vertical",v),style:J({"--gap":O,justifyItems:R,justifyContent:E},i),ref:T,children:B})})}},1512:function(We,ue,n){n.d(ue,{V:function(){return H}});var r=n(8950),A=n(2577),k=n(2975),b=n.n(k),w=(n(3041),n(9787)),N=n.n(w),M=n(45),f=n(8242),d=n(3506),j=n(8531),L=n(4512),H=N().forwardRef(function(x,S){var q=(0,f.J0)().id,ve=N().useRef(null);N().useImperativeHandle(S,function(){return ve.current});var ke="ToolIcon_size_".concat(x.size),Se=(0,w.useState)(!1),ge=(0,A.Z)(Se,2),J=ge[0],Q=ge[1],K=(0,w.useRef)(!0),T=function(){var R=(0,r.Z)(b().mark(function E(v){var i,a;return b().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(!(a="onClick"in x&&((i=x.onClick)===null||i===void 0?void 0:i.call(x,v)))||!("then"in a)){y.next=18;break}return y.prev=2,Q(!0),y.next=6,a;case 6:y.next=15;break;case 8:if(y.prev=8,y.t0=y.catch(2),y.t0 instanceof d._L){y.next=14;break}throw y.t0;case 14:console.warn(y.t0);case 15:return y.prev=15,K.current&&Q(!1),y.finish(15);case 18:case"end":return y.stop()}},E,null,[[2,8,15,18]])}));return function(E){return R.apply(this,arguments)}}();(0,w.useEffect)(function(){return K.current=!0,function(){K.current=!1}},[]);var B=(0,w.useRef)(null);if(x.type==="button"||x.type==="icon"||x.type==="submit"){var O=x.type==="icon"?"button":x.type;return(0,L.jsxs)("button",{className:(0,M.Z)("ToolIcon_type_button",ke,x.className,x.visible&&!x.hidden?"ToolIcon_type_button--show":"ToolIcon_type_button--hide",{ToolIcon:!x.hidden,"ToolIcon--selected":x.selected,"ToolIcon--plain":x.type==="icon"}),style:x.style,"data-testid":x["data-testid"],hidden:x.hidden,title:x.title,"aria-label":x["aria-label"],type:O,onClick:T,ref:ve,disabled:J||x.isLoading,children:[(x.icon||x.label)&&(0,L.jsxs)("div",{className:"ToolIcon__icon","aria-hidden":"true",children:[x.icon||x.label,x.keyBindingLabel&&(0,L.jsx)("span",{className:"ToolIcon__keybinding",children:x.keyBindingLabel}),x.isLoading&&(0,L.jsx)(j.Z,{})]}),x.showAriaLabel&&(0,L.jsxs)("div",{className:"ToolIcon__label",children:[x["aria-label"]," ",J&&(0,L.jsx)(j.Z,{})]}),x.children]})}return(0,L.jsxs)("label",{className:(0,M.Z)("ToolIcon",x.className),title:x.title,onPointerDown:function(R){var E;B.current=R.pointerType||null,(E=x.onPointerDown)===null||E===void 0||E.call(x,{pointerType:R.pointerType||null})},onPointerUp:function(){requestAnimationFrame(function(){B.current=null})},children:[(0,L.jsx)("input",{className:"ToolIcon_type_radio ".concat(ke),type:"radio",name:x.name,"aria-label":x["aria-label"],"aria-keyshortcuts":x["aria-keyshortcuts"],"data-testid":x["data-testid"],id:"".concat(q,"-").concat(x.id),onChange:function(){var R;(R=x.onChange)===null||R===void 0||R.call(x,{pointerType:B.current})},checked:x.checked,ref:ve}),(0,L.jsxs)("div",{className:"ToolIcon__icon",children:[x.icon,x.keyBindingLabel&&(0,L.jsx)("span",{className:"ToolIcon__keybinding",children:x.keyBindingLabel})]})]})});H.defaultProps={visible:!0,className:"",size:"medium"},H.displayName="ToolButton"},8925:function(We,ue,n){n.d(ue,{u:function(){return ge},bK:function(){return ke},Js:function(){return Se}});var r=n(3379),A=n.n(r),k=n(7795),b=n.n(k),w=n(569),N=n.n(w),M=n(3565),f=n.n(M),d=n(9216),j=n.n(d),L=n(4589),H=n.n(L),x=n(6626),S={};S.styleTagTransform=H(),S.setAttributes=f(),S.insert=N().bind(null,"head"),S.domAPI=b(),S.insertStyleElement=j(),A()(x.Z,S),x.Z&&x.Z.locals&&x.Z.locals;var q=n(9787),ve=n(4512),ke=function(){var J=document.querySelector(".excalidraw-tooltip");if(J)return J;var Q=document.createElement("div");return document.body.appendChild(Q),Q.classList.add("excalidraw-tooltip"),Q},Se=function(J,Q){var K,T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"bottom",B=J.getBoundingClientRect(),O=window.innerWidth,R=window.innerHeight,E=5,v=Q.left+Q.width/2-B.width/2;v<0?v=E:v+B.width>=O&&(v=O-B.width-E),T==="bottom"?(K=Q.top+Q.height+E)+B.height>=R&&(K=Q.top-B.height-E):(K=Q.top-B.height-E)<0&&(K=Q.top+Q.height+E),Object.assign(J.style,{top:"".concat(K,"px"),left:"".concat(v,"px")})},ge=function(J){var Q=J.children,K=J.label,T=J.long,B=T!==void 0&&T,O=J.style;return(0,q.useEffect)(function(){return function(){return ke().classList.remove("excalidraw-tooltip--visible")}},[]),(0,ve.jsx)("div",{className:"excalidraw-tooltip-wrapper",onPointerEnter:function(R){return function(E,v,i,a){v.classList.add("excalidraw-tooltip--visible"),v.style.minWidth=a?"50ch":"10ch",v.style.maxWidth=a?"50ch":"15ch",v.textContent=i;var y=E.getBoundingClientRect();Se(v,y)}(R.currentTarget,ke(),K,B)},onPointerLeave:function(){return ke().classList.remove("excalidraw-tooltip--visible")},style:O,children:Q})}},9247:function(We,ue,n){var r=n(2726),A=n(1930),k=n(9787),b=n.n(k),w=n(8227),N=["i18nKey","children"],M=/({{[\w-]+}})|(<[\w-]+>)|(<\/[\w-]+>)/g,f=/{{([\w-]+)}}/,d=/<([\w-]+)>/,j=/<\/([\w-]+)>/;ue.Z=function(L){var H=L.i18nKey,x=(L.children,(0,r.Z)(L,N)),S=(0,w.QT)().t;return b().createElement.apply(b(),[b().Fragment,{}].concat((0,A.Z)(function(q,ve){var ke=[{name:"",children:[]}];return q.split(M).filter(Boolean).forEach(function(Se){var ge=Se.match(d),J=Se.match(j),Q=Se.match(f);if(ge!==null){var K=ge[1];ve.hasOwnProperty(K)?ke.push({name:K,children:[]}):console.warn("Trans: missed to pass in prop ".concat(K," for interpolating ").concat(q))}else if(J!==null)if(J[1]===ke[ke.length-1].name){var T=ke.pop(),B=b().createElement.apply(b(),[b().Fragment,{}].concat((0,A.Z)(T.children))),O=ve[T.name];typeof O=="function"&&ke[ke.length-1].children.push(O(B))}else console.warn("Trans: unexpected end tag ".concat(Se," for interpolating ").concat(q));else if(Q!==null){var R=Q[1];ve.hasOwnProperty(R)?ke[ke.length-1].children.push(ve[R]):console.warn("Trans: key ".concat(R," not in props for interpolating ").concat(q))}else ke[ke.length-1].children.push(Se)}),ke.length!==1&&console.warn("Trans: stack not empty for interpolating ".concat(q)),ke[0].children}(S(H),x))))}},4704:function(We,ue,n){n.d(ue,{Z:function(){return K}});var r=n(2577),A=n(3379),k=n.n(A),b=n(7795),w=n.n(b),N=n(569),M=n.n(N),f=n(3565),d=n.n(f),j=n(9216),L=n.n(j),H=n(4589),x=n.n(H),S=n(6359),q={};q.styleTagTransform=x(),q.setAttributes=d(),q.insert=M().bind(null,"head"),q.domAPI=w(),q.insertStyleElement=L(),k()(S.Z,q),S.Z&&S.Z.locals&&S.Z.locals;var ve=n(9787),ke=n.n(ve),Se=n(45),ge=n(8925),J=n(8242),Q=n(4512),K=function(T){var B=T.className,O=T.mobile,R=T.collaborators,E=(0,J.eh)(),v=new Map;R.forEach(function(a,y){v.set(a.id||y,a)});var i=v.size>0&&Array.from(v).filter(function(a){var y=(0,r.Z)(a,2),h=(y[0],y[1]);return Object.keys(h).length!==0}).map(function(a){var y=(0,r.Z)(a,2),h=y[0],m=y[1],C=E.renderAction("goToCollaborator",[h,m]);return O?(0,Q.jsx)(ge.u,{label:m.username||"Unknown user",children:C},h):(0,Q.jsx)(ke().Fragment,{children:C},h)});return(0,Q.jsx)("div",{className:(0,Se.Z)("UserList",B,{UserList_mobile:O}),children:i})}},7104:function(We,ue,n){n.d(ue,{Z:function(){return pe}});var r=n(7169),A=n(2726),k=n(45),b=n(8242),w=n(4512),N=["className","children","onToggle","title"];function M(ne,oe){var be=Object.keys(ne);if(Object.getOwnPropertySymbols){var Me=Object.getOwnPropertySymbols(ne);oe&&(Me=Me.filter(function(Ge){return Object.getOwnPropertyDescriptor(ne,Ge).enumerable})),be.push.apply(be,Me)}return be}function f(ne){for(var oe=1;oe<arguments.length;oe++){var be=arguments[oe]!=null?arguments[oe]:{};oe%2?M(Object(be),!0).forEach(function(Me){(0,r.Z)(ne,Me,be[Me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ne,Object.getOwnPropertyDescriptors(be)):M(Object(be)).forEach(function(Me){Object.defineProperty(ne,Me,Object.getOwnPropertyDescriptor(be,Me))})}return ne}var d=function(ne){var oe=ne.className,be=oe===void 0?"":oe,Me=ne.children,Ge=ne.onToggle,qe=ne.title,Ne=(0,A.Z)(ne,N),Pe=(0,b.Fy)(),Re=(0,k.Z)("dropdown-menu-button ".concat(be),"zen-mode-transition",{"dropdown-menu-button--mobile":Pe.editor.isMobile}).trim();return(0,w.jsx)("button",f(f({"data-prevent-outside-click":!0,className:Re,onClick:Ge,type:"button","data-testid":"dropdown-menu-button",title:qe},Ne),{},{children:Me}))},j=d;d.displayName="DropdownMenuTrigger";var L=n(5735),H=function(){return(0,w.jsx)("div",{style:{height:"1px",backgroundColor:"var(--default-border-color)",margin:".5rem 0"}})},x=H;H.displayName="DropdownMenuSeparator";var S=function(ne){var oe=ne.children,be=ne.className,Me=be===void 0?"":be,Ge=ne.style,qe=ne.title;return(0,w.jsxs)("div",{className:"dropdown-menu-group ".concat(Me),style:Ge,children:[qe&&(0,w.jsx)("p",{className:"dropdown-menu-group-title",children:qe}),oe]})},q=S;S.displayName="DropdownMenuGroup";var ve=n(1404),ke=n(2540),Se=n(9787),ge=n.n(Se),J=n(7009),Q=n(1901),K=function(ne){var oe=ne.children,be=ne.onClickOutside,Me=ne.className,Ge=Me===void 0?"":Me,qe=ne.onSelect,Ne=ne.style,Pe=(0,b.Fy)(),Re=(0,Se.useRef)(null);(0,Q.O)(Re,function(){be==null||be()});var Ze=(0,k.Z)("dropdown-menu ".concat(Ge),{"dropdown-menu--mobile":Pe.editor.isMobile}).trim();return(0,w.jsx)(J.N7.Provider,{value:{onSelect:qe},children:(0,w.jsx)("div",{ref:Re,className:Ze,style:Ne,"data-testid":"dropdown-menu",children:Pe.editor.isMobile?(0,w.jsx)(ke.Z.Col,{className:"dropdown-menu-container",children:oe}):(0,w.jsx)(ve.W,{className:"dropdown-menu-container",padding:2,style:{zIndex:2},children:oe})})})};K.displayName="DropdownMenuContent";var T=K,B=n(3858),O=["children","className","selected"];function R(ne,oe){var be=Object.keys(ne);if(Object.getOwnPropertySymbols){var Me=Object.getOwnPropertySymbols(ne);oe&&(Me=Me.filter(function(Ge){return Object.getOwnPropertyDescriptor(ne,Ge).enumerable})),be.push.apply(be,Me)}return be}function E(ne){for(var oe=1;oe<arguments.length;oe++){var be=arguments[oe]!=null?arguments[oe]:{};oe%2?R(Object(be),!0).forEach(function(Me){(0,r.Z)(ne,Me,be[Me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ne,Object.getOwnPropertyDescriptors(be)):R(Object(be)).forEach(function(Me){Object.defineProperty(ne,Me,Object.getOwnPropertyDescriptor(be,Me))})}return ne}var v=function(ne){var oe=ne.children,be=ne.className,Me=be===void 0?"":be,Ge=ne.selected,qe=(0,A.Z)(ne,O);return(0,w.jsx)("div",E(E({},qe),{},{className:"dropdown-menu-item-base dropdown-menu-item-custom ".concat(Me," ").concat(Ge?"dropdown-menu-item--selected":"").trim(),children:oe}))},i=n(3379),a=n.n(i),y=n(7795),h=n.n(y),m=n(569),C=n.n(m),U=n(3565),V=n.n(U),D=n(9216),P=n.n(D),F=n(4589),X=n.n(F),le=n(7399),de={};de.styleTagTransform=X(),de.setAttributes=V(),de.insert=C().bind(null,"head"),de.domAPI=h(),de.insertStyleElement=P(),a()(le.Z,de),le.Z&&le.Z.locals&&le.Z.locals;var fe=function(ne){var oe=ne.children,be=ne.open,Me=function(qe){return ge().Children.toArray(qe).find(function(Ne){return ge().isValidElement(Ne)&&typeof Ne.type!="string"&&(Ne==null?void 0:Ne.type.displayName)&&Ne.type.displayName==="DropdownMenuTrigger"})||null}(oe),Ge=function(qe){return ge().Children.toArray(qe).find(function(Ne){return ge().isValidElement(Ne)&&typeof Ne.type!="string"&&(Ne==null?void 0:Ne.type.displayName)&&Ne.type.displayName==="DropdownMenuContent"})||null}(oe);return(0,w.jsxs)(w.Fragment,{children:[Me,be&&Ge]})};fe.Trigger=j,fe.Content=T,fe.Item=L.Z,fe.ItemLink=B.Z,fe.ItemCustom=v,fe.Group=q,fe.Separator=x;var pe=fe;fe.displayName="DropdownMenu"},5735:function(We,ue,n){var r=n(7169),A=n(2726),k=n(7009),b=n(6732),w=n(4512),N=["icon","onSelect","children","shortcut","className","selected"];function M(j,L){var H=Object.keys(j);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(j);L&&(x=x.filter(function(S){return Object.getOwnPropertyDescriptor(j,S).enumerable})),H.push.apply(H,x)}return H}function f(j){for(var L=1;L<arguments.length;L++){var H=arguments[L]!=null?arguments[L]:{};L%2?M(Object(H),!0).forEach(function(x){(0,r.Z)(j,x,H[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors(H)):M(Object(H)).forEach(function(x){Object.defineProperty(j,x,Object.getOwnPropertyDescriptor(H,x))})}return j}var d=function(j){var L,H=j.icon,x=j.onSelect,S=j.children,q=j.shortcut,ve=j.className,ke=j.selected,Se=(0,A.Z)(j,N),ge=(0,k.qZ)(Se.onClick,x);return(0,w.jsx)("button",f(f({},Se),{},{onClick:ge,type:"button",className:(0,k.n)(ve,ke),title:(L=Se.title)!==null&&L!==void 0?L:Se["aria-label"],children:(0,w.jsx)(b.Z,{icon:H,shortcut:q,children:S})}))};ue.Z=d,d.displayName="DropdownMenuItem"},6732:function(We,ue,n){var r=n(8242),A=n(4512);ue.Z=function(k){var b=k.icon,w=k.shortcut,N=k.children,M=(0,r.Fy)();return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("div",{className:"dropdown-menu-item__icon",children:b}),(0,A.jsx)("div",{className:"dropdown-menu-item__text",children:N}),w&&!M.editor.isMobile&&(0,A.jsx)("div",{className:"dropdown-menu-item__shortcut",children:w})]})}},3858:function(We,ue,n){var r=n(7169),A=n(2726),k=n(6732),b=n(7009),w=n(4512),N=["icon","shortcut","href","children","onSelect","className","selected"];function M(j,L){var H=Object.keys(j);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(j);L&&(x=x.filter(function(S){return Object.getOwnPropertyDescriptor(j,S).enumerable})),H.push.apply(H,x)}return H}function f(j){for(var L=1;L<arguments.length;L++){var H=arguments[L]!=null?arguments[L]:{};L%2?M(Object(H),!0).forEach(function(x){(0,r.Z)(j,x,H[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors(H)):M(Object(H)).forEach(function(x){Object.defineProperty(j,x,Object.getOwnPropertyDescriptor(H,x))})}return j}var d=function(j){var L,H=j.icon,x=j.shortcut,S=j.href,q=j.children,ve=j.onSelect,ke=j.className,Se=ke===void 0?"":ke,ge=j.selected,J=(0,A.Z)(j,N),Q=(0,b.qZ)(J.onClick,ve);return(0,w.jsx)("a",f(f({},J),{},{href:S,target:"_blank",rel:"noreferrer",className:(0,b.n)(Se,ge),title:(L=J.title)!==null&&L!==void 0?L:J["aria-label"],onClick:Q,children:(0,w.jsx)(k.Z,{icon:H,shortcut:x,children:q})}))};ue.Z=d,d.displayName="DropdownMenuItemLink"},7009:function(We,ue,n){n.d(ue,{N7:function(){return w},n:function(){return N},qZ:function(){return M}});var r=n(9787),A=n.n(r),k=n(9937),b=n(9827),w=A().createContext({}),N=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",d=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return"dropdown-menu-item dropdown-menu-item-base ".concat(f," ").concat(d?"dropdown-menu-item--selected":"").trim()},M=function(f,d){var j=(0,r.useContext)(w);return(0,b.Mj)(f,function(L){var H,x=new CustomEvent(k.Ks.MENU_ITEM_SELECT,{bubbles:!0,cancelable:!0});d==null||d(x),x.defaultPrevented||(H=j.onSelect)===null||H===void 0||H.call(j,x)})}},6922:function(We,ue,n){n.d(ue,{$:function(){return f}});var r=n(7169),A=n(2577),k=n(3607),b=n(9787),w=n(4572),N=n(4512);function M(d,j){var L=Object.keys(d);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(d);j&&(H=H.filter(function(x){return Object.getOwnPropertyDescriptor(d,x).enumerable})),L.push.apply(L,H)}return L}var f=function(d,j){var L=(0,k.cn)(0),H=function(x){var S=(0,w.R6)().jotaiScope,q=(0,k.KO)(L,S),ve=(0,A.Z)(q,2)[1],ke=(0,b.useRef)({preferHost:!1,counter:0});return(0,b.useLayoutEffect)(function(){var Se=ke.current;return ve(function(ge){var J=ge+1;return Se.counter=J,J}),function(){ve(function(ge){var J=ge-1;return Se.counter=J,J||(Se.preferHost=!1),J})}},[ve]),x.__fallback||(ke.current.preferHost=!0),!ke.current.counter&&x.__fallback&&ke.current.preferHost||ke.current.counter>1&&x.__fallback?null:(0,N.jsx)(j,function(Se){for(var ge=1;ge<arguments.length;ge++){var J=arguments[ge]!=null?arguments[ge]:{};ge%2?M(Object(J),!0).forEach(function(Q){(0,r.Z)(Se,Q,J[Q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Se,Object.getOwnPropertyDescriptors(J)):M(Object(J)).forEach(function(Q){Object.defineProperty(Se,Q,Object.getOwnPropertyDescriptor(J,Q))})}return Se}({},x))};return H.displayName=d,H}},8935:function(We,ue,n){n.d(ue,{$W:function(){return jr},$c:function(){return Z},$q:function(){return U},BF:function(){return Le},Ct:function(){return ye},D7:function(){return Me},DG:function(){return Ie},DJ:function(){return B},DS:function(){return Zt},EO:function(){return Kr},ET:function(){return be},FC:function(){return Q},FL:function(){return F},Gc:function(){return te},HL:function(){return je},Hk:function(){return ur},Hy:function(){return pe},II:function(){return Dr},IN:function(){return ae},J8:function(){return Ee},LZ:function(){return Fr},NA:function(){return X},NW:function(){return de},Nw:function(){return en},OA:function(){return zr},OW:function(){return R},P7:function(){return cn},Pm:function(){return h},RJ:function(){return et},RY:function(){return fe},Re:function(){return v},ST:function(){return tt},Sd:function(){return V},TP:function(){return xe},Tl:function(){return Ze},Tw:function(){return Ue},UE:function(){return u},UI:function(){return Nt},UT:function(){return hr},VL:function(){return m},Vl:function(){return z},Vq:function(){return ve},W2:function(){return Pt},W5:function(){return Ye},Wl:function(){return At},X7:function(){return Rt},XB:function(){return C},XH:function(){return P},YA:function(){return Se},ZA:function(){return It},Zm:function(){return Ge},_C:function(){return J},_U:function(){return T},a0:function(){return xt},a1:function(){return Pe},a5:function(){return tr},aA:function(){return Xr},aL:function(){return Dt},aT:function(){return Gt},bf:function(){return Jt},by:function(){return ne},d:function(){return ln},dg:function(){return Cr},e0:function(){return i},eQ:function(){return qe},fr:function(){return Tt},gK:function(){return ht},h0:function(){return oe},il:function(){return Lt},j8:function(){return sr},jn:function(){return gt},kL:function(){return le},kM:function(){return gr},lF:function(){return ft},m:function(){return qt},m9:function(){return Xt},mh:function(){return Qe},mv:function(){return Ut},nb:function(){return E},np:function(){return wt},nq:function(){return Sr},o3:function(){return rr},oQ:function(){return K},oT:function(){return Or},op:function(){return Ce},pO:function(){return ke},po:function(){return Re},pw:function(){return ce},q0:function(){return cr},qQ:function(){return ge},rr:function(){return or},t5:function(){return Y},tW:function(){return Mr},tb:function(){return y},tn:function(){return Wt},uD:function(){return rt},vo:function(){return pr},wr:function(){return St},xL:function(){return D},xP:function(){return Ne},xs:function(){return Be},z6:function(){return Ft},zG:function(){return g},zb:function(){return a},zl:function(){return Zr},zu:function(){return O}});var r=n(7169),A=n(2726),k=n(9787),b=n.n(k),w=n(5284),N=n(45),M=n(9937),f=n(4512),d=["width","height","mirror","style"];function j(Gr,Rr){var Wr=Object.keys(Gr);if(Object.getOwnPropertySymbols){var Ur=Object.getOwnPropertySymbols(Gr);Rr&&(Ur=Ur.filter(function(rn){return Object.getOwnPropertyDescriptor(Gr,rn).enumerable})),Wr.push.apply(Wr,Ur)}return Wr}function L(Gr){for(var Rr=1;Rr<arguments.length;Rr++){var Wr=arguments[Rr]!=null?arguments[Rr]:{};Rr%2?j(Object(Wr),!0).forEach(function(Ur){(0,r.Z)(Gr,Ur,Wr[Ur])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Gr,Object.getOwnPropertyDescriptors(Wr)):j(Object(Wr)).forEach(function(Ur){Object.defineProperty(Gr,Ur,Object.getOwnPropertyDescriptor(Wr,Ur))})}return Gr}var H=function(Gr){return Gr===M.C6.LIGHT?w.white:"#1e1e1e"},x=function(Gr){var Rr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:512,Wr=typeof Rr=="number"?{width:Rr}:Rr,Ur=Wr.width,rn=Ur===void 0?512:Ur,an=Wr.height,Qr=an===void 0?rn:an,In=Wr.mirror,Xn=Wr.style,go=(0,A.Z)(Wr,d);return(0,f.jsx)("svg",L(L({"aria-hidden":"true",focusable:"false",role:"img",viewBox:"0 0 ".concat(rn," ").concat(Qr),className:(0,N.Z)({"rtl-mirror":In}),style:Xn},go),{},{children:typeof Gr=="string"?(0,f.jsx)("path",{fill:"currentColor",d:Gr}):Gr}))},S={width:24,height:24,fill:"none",strokeWidth:2,stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},q={width:20,height:20,fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},ve=(x((0,f.jsxs)("g",{strokeWidth:"1.5",children:[(0,f.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,f.jsx)("rect",{x:3,y:8,width:18,height:4,rx:1}),(0,f.jsx)("line",{x1:12,y1:8,x2:12,y2:21}),(0,f.jsx)("path",{d:"M19 12v7a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-7"}),(0,f.jsx)("path",{d:"M7.5 8a2.5 2.5 0 0 1 0 -5a4.8 8 0 0 1 4.5 5a4.8 8 0 0 1 4.5 -5a2.5 2.5 0 0 1 0 5"})]}),S),x((0,f.jsxs)("g",{strokeWidth:"1.5",children:[(0,f.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,f.jsx)("path",{d:"M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0"}),(0,f.jsx)("path",{d:"M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0"}),(0,f.jsx)("line",{x1:"3",y1:"6",x2:"3",y2:"19"}),(0,f.jsx)("line",{x1:"12",y1:"6",x2:"12",y2:"19"}),(0,f.jsx)("line",{x1:"21",y1:"6",x2:"21",y2:"19"})]}),S)),ke=x((0,f.jsxs)("svg",{strokeWidth:"1.5",children:[(0,f.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,f.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,f.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),S),Se=x((0,f.jsxs)("g",{strokeWidth:"1.5",children:[(0,f.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,f.jsx)("circle",{cx:"12",cy:"12",r:"1"}),(0,f.jsx)("circle",{cx:"12",cy:"19",r:"1"}),(0,f.jsx)("circle",{cx:"12",cy:"5",r:"1"})]}),S),ge=x((0,f.jsxs)("svg",{strokeWidth:"1.5",children:[(0,f.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,f.jsx)("path",{d:"M9 4v6l-2 4v2h10v-2l-2 -4v-6"}),(0,f.jsx)("line",{x1:"12",y1:"16",x2:"12",y2:"21"}),(0,f.jsx)("line",{x1:"8",y1:"4",x2:"16",y2:"4"})]}),S),J=x((0,f.jsxs)("g",{children:[(0,f.jsx)("path",{d:"M13.542 8.542H6.458a2.5 2.5 0 0 0-2.5 2.5v3.75a2.5 2.5 0 0 0 2.5 2.5h7.084a2.5 2.5 0 0 0 2.5-2.5v-3.75a2.5 2.5 0 0 0-2.5-2.5Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,f.jsx)("path",{d:"M10 13.958a1.042 1.042 0 1 0 0-2.083 1.042 1.042 0 0 0 0 2.083Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,f.jsx)("mask",{id:"UnlockedIcon",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:6,y:1,width:9,height:9,children:(0,f.jsx)("path",{stroke:"none",d:"M6.399 9.561V5.175c0-.93.401-1.823 1.116-2.48a3.981 3.981 0 0 1 2.693-1.028c1.01 0 1.98.37 2.694 1.027.715.658 1.116 1.55 1.116 2.481",fill:"#fff"})}),(0,f.jsx)("g",{mask:"url(#UnlockedIcon)",children:(0,f.jsx)("path",{stroke:"none",d:"M5.149 9.561v1.25h2.5v-1.25h-2.5Zm5.06-7.894V.417v1.25Zm2.559 3.508v1.25h2.5v-1.25h-2.5ZM7.648 8.51V5.175h-2.5V8.51h2.5Zm0-3.334c0-.564.243-1.128.713-1.561L6.668 1.775c-.959.883-1.52 2.104-1.52 3.4h2.5Zm.713-1.561a2.732 2.732 0 0 1 1.847-.697v-2.5c-1.31 0-2.585.478-3.54 1.358L8.36 3.614Zm1.847-.697c.71 0 1.374.26 1.847.697l1.694-1.839a5.231 5.231 0 0 0-3.54-1.358v2.5Zm1.847.697c.47.433.713.997.713 1.561h2.5c0-1.296-.56-2.517-1.52-3.4l-1.693 1.839Z",fill:"currentColor"})})]}),q),Q=x((0,f.jsxs)("g",{strokeWidth:"1.25",children:[(0,f.jsx)("path",{d:"M13.542 8.542H6.458a2.5 2.5 0 0 0-2.5 2.5v3.75a2.5 2.5 0 0 0 2.5 2.5h7.084a2.5 2.5 0 0 0 2.5-2.5v-3.75a2.5 2.5 0 0 0-2.5-2.5Z"}),(0,f.jsx)("path",{d:"M10 13.958a1.042 1.042 0 1 0 0-2.083 1.042 1.042 0 0 0 0 2.083Z"}),(0,f.jsx)("path",{d:"M6.667 8.333V5.417C6.667 3.806 8.159 2.5 10 2.5c1.841 0 3.333 1.306 3.333 2.917v2.916"})]}),q),K=x((0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("path",{d:"M38.5 83.5c-14-2-17.833-10.473-21-22.5C14.333 48.984 12 22 12 12.5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),(0,f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m12.005 10.478 7.905 14.423L6 25.75l6.005-15.273Z",fill:"currentColor"}),(0,f.jsx)("path",{d:"M12.005 10.478c1.92 3.495 3.838 7 7.905 14.423m-7.905-14.423c3.11 5.683 6.23 11.368 7.905 14.423m0 0c-3.68.226-7.35.455-13.91.85m13.91-.85c-5.279.33-10.566.647-13.91.85m0 0c1.936-4.931 3.882-9.86 6.005-15.273M6 25.75c2.069-5.257 4.135-10.505 6.005-15.272",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})]}),{width:41,height:94,fill:"none"}),T=x((0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("path",{d:"M18.026 1.232c-5.268 13.125-5.548 33.555 3.285 42.311 8.823 8.75 33.31 12.304 42.422 13.523",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),(0,f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m72.181 59.247-13.058-10-2.948 13.62 16.006-3.62Z",fill:"currentColor"}),(0,f.jsx)("path",{d:"M72.181 59.247c-3.163-2.429-6.337-4.856-13.058-10m13.058 10c-5.145-3.936-10.292-7.882-13.058-10m0 0c-.78 3.603-1.563 7.196-2.948 13.62m2.948-13.62c-1.126 5.168-2.24 10.346-2.948 13.62m0 0c5.168-1.166 10.334-2.343 16.006-3.62m-16.006 3.62c5.51-1.248 11.01-2.495 16.006-3.62",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})]}),{width:85,height:71,fill:"none"}),B=x((0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("path",{d:"M1 77c14-2 31.833-11.973 35-24 3.167-12.016-6-35-9.5-43.5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),(0,f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m24.165 1.093-2.132 16.309 13.27-4.258-11.138-12.05Z",fill:"currentColor"}),(0,f.jsx)("path",{d:"M24.165 1.093c-.522 3.953-1.037 7.916-2.132 16.309m2.131-16.309c-.835 6.424-1.68 12.854-2.13 16.308m0 0c3.51-1.125 7.013-2.243 13.27-4.257m-13.27 4.257c5.038-1.608 10.08-3.232 13.27-4.257m0 0c-3.595-3.892-7.197-7.777-11.14-12.05m11.14 12.05c-3.837-4.148-7.667-8.287-11.14-12.05",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})]}),{width:38,height:78,fill:"none"}),O=(x((0,f.jsx)("g",{fill:"currentColor",children:(0,f.jsx)("path",{d:"M39.9 32.889a.326.326 0 0 0-.279-.056c-2.094-3.083-4.774-6-7.343-8.833l-.419-.472a.212.212 0 0 0-.056-.139.586.586 0 0 0-.167-.111l-.084-.083-.056-.056c-.084-.167-.28-.278-.475-.167-.782.39-1.507.973-2.206 1.528-.92.722-1.842 1.445-2.708 2.25a8.405 8.405 0 0 0-.977 1.028c-.14.194-.028.361.14.444-.615.611-1.23 1.223-1.843 1.861a.315.315 0 0 0-.084.223c0 .083.056.166.111.194l1.09.833v.028c1.535 1.528 4.244 3.611 7.12 5.861.418.334.865.667 1.284 1 .195.223.39.473.558.695.084.11.28.139.391.055.056.056.14.111.196.167a.398.398 0 0 0 .167.056.255.255 0 0 0 .224-.111.394.394 0 0 0 .055-.167c.029 0 .028.028.056.028a.318.318 0 0 0 .224-.084l5.082-5.528a.309.309 0 0 0 0-.444Zm-14.63-1.917a.485.485 0 0 0 .111.14c.586.5 1.2 1 1.843 1.555l-2.569-1.945-.251-.166c-.056-.028-.112-.084-.168-.111l-.195-.167.056-.056.055-.055.112-.111c.866-.861 2.346-2.306 3.1-3.028-.81.805-2.43 3.167-2.095 3.944Zm8.767 6.89-2.122-1.612a44.713 44.713 0 0 0-2.625-2.5c1.145.861 2.122 1.611 2.262 1.75 1.117.972 1.06.806 1.815 1.445l.921.666a1.06 1.06 0 0 1-.251.25Zm.558.416-.056-.028c.084-.055.168-.111.252-.194l-.196.222ZM1.089 5.75c.055.361.14.722.195 1.056.335 1.833.67 3.5 1.284 4.75l.252.944c.084.361.223.806.363.917 1.424 1.25 3.602 3.11 5.947 4.889a.295.295 0 0 0 .363 0s0 .027.028.027a.254.254 0 0 0 .196.084.318.318 0 0 0 .223-.084c2.988-3.305 5.221-6.027 6.813-8.305.112-.111.14-.278.14-.417.111-.111.195-.25.307-.333.111-.111.111-.306 0-.39l-.028-.027c0-.055-.028-.139-.084-.167-.698-.666-1.2-1.138-1.731-1.638-.922-.862-1.871-1.75-3.881-3.75l-.028-.028c-.028-.028-.056-.056-.112-.056-.558-.194-1.703-.389-3.127-.639C6.087 2.223 3.21 1.723.614.944c0 0-.168 0-.196.028l-.083.084c-.028.027-.056.055-.224.11h.056-.056c.028.167.028.278.084.473 0 .055.112.5.112.555l.782 3.556Zm15.496 3.278-.335-.334c.084.112.196.195.335.334Zm-3.546 4.666-.056.056c0-.028.028-.056.056-.056Zm-2.038-10c.168.167.866.834 1.033.973-.726-.334-2.54-1.167-3.379-1.445.838.167 1.983.334 2.346.472ZM1.424 2.306c.419.722.754 3.222 1.089 5.666-.196-.778-.335-1.555-.503-2.278-.251-1.277-.503-2.416-.838-3.416.056 0 .14 0 .252.028Zm-.168-.584c-.112 0-.223-.028-.307-.028 0-.027 0-.055-.028-.055.14 0 .223.028.335.083Zm-1.089.222c0-.027 0-.027 0 0ZM39.453 1.333c.028-.11-.558-.61-.363-.639.42-.027.42-.666 0-.666-.558.028-1.144.166-1.675.25-.977.194-1.982.389-2.96.61-2.205.473-4.383.973-6.561 1.557-.67.194-1.424.333-2.066.666-.224.111-.196.333-.084.472-.056.028-.084.028-.14.056-.195.028-.363.056-.558.083-.168.028-.252.167-.224.334 0 .027.028.083.028.11-1.173 1.556-2.485 3.195-3.909 4.945-1.396 1.611-2.876 3.306-4.356 5.056-4.719 5.5-10.052 11.75-15.943 17.25a.268.268 0 0 0 0 .389c.028.027.056.055.084.055-.084.084-.168.14-.252.222-.056.056-.084.111-.084.167a.605.605 0 0 0-.111.139c-.112.111-.112.305.028.389.111.11.307.11.39-.028.029-.028.029-.056.056-.056a.44.44 0 0 1 .615 0c.335.362.67.723.977 1.028l-.698-.583c-.112-.111-.307-.083-.39.028-.113.11-.085.305.027.389l7.427 6.194c.056.056.112.056.196.056s.14-.028.195-.084l.168-.166c.028.027.083.027.111.027.084 0 .14-.027.196-.083 10.052-10.055 18.15-17.639 27.42-24.417.083-.055.111-.166.111-.25.112 0 .196-.083.251-.194 1.704-5.194 2.039-9.806 2.15-12.083v-.028c0-.028.028-.056.028-.083.028-.056.028-.084.028-.084a1.626 1.626 0 0 0-.111-1.028ZM21.472 9.5c.446-.5.893-1.028 1.34-1.5-2.876 3.778-7.65 9.583-14.408 16.5 4.607-5.083 9.242-10.333 13.068-15ZM5.193 35.778h.084-.084Zm3.462 3.194c-.027-.028-.027-.028 0-.028v.028Zm4.16-3.583c.224-.25.448-.472.699-.722 0 0 0 .027.028.027-.252.223-.475.445-.726.695Zm1.146-1.111c.14-.14.279-.334.446-.5l.028-.028c1.648-1.694 3.351-3.389 5.082-5.111l.028-.028c.419-.333.921-.694 1.368-1.028a379.003 379.003 0 0 0-6.952 6.695ZM24.794 6.472c-.921 1.195-1.954 2.778-2.82 4.028-2.736 3.944-11.532 13.583-11.727 13.75a1976.983 1976.983 0 0 1-8.042 7.639l-.167.167c-.14-.167-.14-.417.028-.556C14.49 19.861 22.03 10.167 25.074 5.917c-.084.194-.14.36-.28.555Zm4.83 5.695c-1.116-.64-1.646-1.64-1.34-2.611l.084-.334c.028-.083.084-.194.14-.277.307-.5.754-.917 1.257-1.167.027 0 .055 0 .083-.028-.028-.056-.028-.139-.028-.222.028-.167.14-.278.335-.278.335 0 1.369.306 1.76.639.111.083.223.194.335.305.14.167.363.445.474.667.056.028.112.306.196.445.056.222.111.472.084.694-.028.028 0 .194-.028.194a2.668 2.668 0 0 1-.363 1.028c-.028.028-.028.056-.056.084l-.028.027c-.14.223-.335.417-.53.556-.643.444-1.369.583-2.095.389 0 0-.195-.084-.28-.111Zm8.154-.834a39.098 39.098 0 0 1-.893 3.167c0 .028-.028.083 0 .111-.056 0-.084.028-.14.056-2.206 1.61-4.356 3.305-6.506 5.028 1.843-1.64 3.686-3.306 5.613-4.945.558-.5.949-1.139 1.06-1.861l.28-1.667v-.055c.14-.334.67-.195.586.166Z",fill:"currentColor"})}),{width:40,height:40,fill:"none"}),x((0,f.jsxs)("g",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,f.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,f.jsx)("path",{d:"M6 6l4.153 11.793a0.365 .365 0 0 0 .331 .207a0.366 .366 0 0 0 .332 -.207l2.184 -4.793l4.787 -1.994a0.355 .355 0 0 0 .213 -.323a0.355 .355 0 0 0 -.213 -.323l-11.787 -4.36z"}),(0,f.jsx)("path",{d:"M13.5 13.5l4.5 4.5"})]}),{fill:"none",width:22,height:22,strokeWidth:1.25})),R=x((0,f.jsxs)("g",{strokeWidth:"1.5",children:[(0,f.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,f.jsx)("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2"})]}),S),E=x((0,f.jsxs)("g",{strokeWidth:"1.5",children:[(0,f.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,f.jsx)("path",{d:"M10.5 20.4l-6.9 -6.9c-.781 -.781 -.781 -2.219 0 -3l6.9 -6.9c.781 -.781 2.219 -.781 3 0l6.9 6.9c.781 .781 .781 2.219 0 3l-6.9 6.9c-.781 .781 -2.219 .781 -3 0z"})]}),S),v=x((0,f.jsxs)("g",{strokeWidth:"1.5",children:[(0,f.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,f.jsx)("circle",{cx:"12",cy:"12",r:"9"})]}),S),i=x((0,f.jsxs)("g",{strokeWidth:"1.5",children:[(0,f.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,f.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),(0,f.jsx)("line",{x1:"15",y1:"16",x2:"19",y2:"12"}),(0,f.jsx)("line",{x1:"15",y1:"8",x2:"19",y2:"12"})]}),S),a=x((0,f.jsx)("path",{d:"M4.167 10h11.666",strokeWidth:"1.5"}),q),y=x((0,f.jsxs)("g",{strokeWidth:"1.25",children:[(0,f.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,f.jsx)("path",{d:"M20 17v-12c0 -1.121 -.879 -2 -2 -2s-2 .879 -2 2v12l2 2l2 -2z"}),(0,f.jsx)("path",{d:"M16 7h4"}),(0,f.jsx)("path",{d:"M18 19h-13a2 2 0 1 1 0 -4h4a2 2 0 1 0 0 -4h-3"})]}),S),h=x((0,f.jsxs)("g",{strokeWidth:"1.25",children:[(0,f.jsx)("path",{clipRule:"evenodd",d:"m7.643 15.69 7.774-7.773a2.357 2.357 0 1 0-3.334-3.334L4.31 12.357a3.333 3.333 0 0 0-.977 2.357v1.953h1.953c.884 0 1.732-.352 2.357-.977Z"}),(0,f.jsx)("path",{d:"m11.25 5.417 3.333 3.333"})]}),q),m=x((0,f.jsxs)("g",{strokeWidth:"1.5",children:[(0,f.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,f.jsx)("line",{x1:"4",y1:"20",x2:"7",y2:"20"}),(0,f.jsx)("line",{x1:"14",y1:"20",x2:"21",y2:"20"}),(0,f.jsx)("line",{x1:"6.9",y1:"15",x2:"13.8",y2:"15"}),(0,f.jsx)("line",{x1:"10.2",y1:"6.3",x2:"16",y2:"20"}),(0,f.jsx)("polyline",{points:"5 20 11 4 13 4 20 20"})]}),S),C=x((0,f.jsxs)("g",{strokeWidth:"1.25",children:[(0,f.jsx)("path",{d:"M12.5 6.667h.01"}),(0,f.jsx)("path",{d:"M4.91 2.625h10.18a2.284 2.284 0 0 1 2.285 2.284v10.182a2.284 2.284 0 0 1-2.284 2.284H4.909a2.284 2.284 0 0 1-2.284-2.284V4.909a2.284 2.284 0 0 1 2.284-2.284Z"}),(0,f.jsx)("path",{d:"m3.333 12.5 3.334-3.333c.773-.745 1.726-.745 2.5 0l4.166 4.166"}),(0,f.jsx)("path",{d:"m11.667 11.667.833-.834c.774-.744 1.726-.744 2.5 0l1.667 1.667"})]}),q),U=x((0,f.jsxs)("g",{strokeWidth:"1.5",children:[(0,f.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,f.jsx)("path",{d:"M19 20h-10.5l-4.21 -4.3a1 1 0 0 1 0 -1.41l10 -10a1 1 0 0 1 1.41 0l5 5a1 1 0 0 1 0 1.41l-9.2 9.3"}),(0,f.jsx)("path",{d:"M18 13.3l-6.3 -6.3"})]}),S),V=x((0,f.jsx)("path",{strokeWidth:"1.25",d:"M10 4.167v11.666M4.167 10h11.666"}),q),D=x((0,f.jsx)("path",{d:"M5 10h10",strokeWidth:"1.25"}),q),P=x((0,f.jsx)("path",{strokeWidth:"1.25",d:"M3.333 5.833h13.334M8.333 9.167v5M11.667 9.167v5M4.167 5.833l.833 10c0 .92.746 1.667 1.667 1.667h6.666c.92 0 1.667-.746 1.667-1.667l.833-10M7.5 5.833v-2.5c0-.46.373-.833.833-.833h3.334c.46 0 .833.373.833.833v2.5"}),q),F=x((0,f.jsxs)("g",{strokeWidth:"1.25",children:[(0,f.jsx)("polyline",{points:"12 16 18 10 12 4"}),(0,f.jsx)("polyline",{points:"8 4 2 10 8 16"})]}),q),X=x((0,f.jsxs)("g",{strokeWidth:"1.25",children:[(0,f.jsx)("path",{d:"M14.375 6.458H8.958a2.5 2.5 0 0 0-2.5 2.5v5.417a2.5 2.5 0 0 0 2.5 2.5h5.417a2.5 2.5 0 0 0 2.5-2.5V8.958a2.5 2.5 0 0 0-2.5-2.5Z"}),(0,f.jsx)("path",{clipRule:"evenodd",d:"M11.667 3.125c.517 0 .986.21 1.325.55.34.338.55.807.55 1.325v1.458H8.333c-.485 0-.927.185-1.26.487-.343.312-.57.75-.609 1.24l-.005 5.357H5a1.87 1.87 0 0 1-1.326-.55 1.87 1.87 0 0 1-.549-1.325V5c0-.518.21-.987.55-1.326.338-.34.807-.549 1.325-.549h6.667Z"})]}),q),le=x((0,f.jsx)("path",{clipRule:"evenodd",d:"M10 2.5h.328a6.25 6.25 0 0 0 6.6 10.372A7.5 7.5 0 1 1 10 2.493V2.5Z",stroke:"currentColor"}),q),de=x((0,f.jsx)("g",{stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,f.jsx)("path",{d:"M10 12.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM10 4.167V2.5M14.167 5.833l1.166-1.166M15.833 10H17.5M14.167 14.167l1.166 1.166M10 15.833V17.5M5.833 14.167l-1.166 1.166M5 10H3.333M5.833 5.833 4.667 4.667"})}),q),fe=x((0,f.jsxs)("g",{strokeWidth:"1.5",children:[(0,f.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,f.jsx)("line",{x1:"4",y1:"6",x2:"20",y2:"6"}),(0,f.jsx)("line",{x1:"4",y1:"12",x2:"20",y2:"12"}),(0,f.jsx)("line",{x1:"4",y1:"18",x2:"20",y2:"18"})]}),S),pe=x((0,f.jsx)("path",{strokeWidth:"1.25",d:"M3.333 14.167v1.666c0 .92.747 1.667 1.667 1.667h10c.92 0 1.667-.746 1.667-1.667v-1.666M5.833 9.167 10 13.333l4.167-4.166M10 3.333v10"}),q),ne=x((0,f.jsxs)("g",{strokeWidth:"1.5",children:[(0,f.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,f.jsx)("circle",{cx:"12",cy:"12",r:"9"}),(0,f.jsx)("line",{x1:"12",y1:"17",x2:"12",y2:"17.01"}),(0,f.jsx)("path",{d:"M12 13.5a1.5 1.5 0 0 1 1 -1.5a2.6 2.6 0 1 0 -3 -4"})]}),S),oe=x((0,f.jsx)("path",{strokeWidth:"1.25",d:"M9.167 5.833H5.833c-1.254 0-2.5 1.282-2.5 2.5v5.834c0 1.283 1.252 2.5 2.5 2.5h5.834c1.251 0 2.5-1.25 2.5-2.5v-3.334M8.333 11.667l8.334-8.334M12.5 3.333h4.167V7.5"}),q),be=x((0,f.jsx)("path",{d:"M7.5 15.833c-3.583 1.167-3.583-2.083-5-2.5m10 4.167v-2.917c0-.833.083-1.166-.417-1.666 2.334-.25 4.584-1.167 4.584-5a3.833 3.833 0 0 0-1.084-2.667 3.5 3.5 0 0 0-.083-2.667s-.917-.25-2.917 1.084a10.25 10.25 0 0 0-5.166 0C5.417 2.333 4.5 2.583 4.5 2.583a3.5 3.5 0 0 0-.083 2.667 3.833 3.833 0 0 0-1.084 2.667c0 3.833 2.25 4.75 4.584 5-.5.5-.5 1-.417 1.666V17.5",strokeWidth:"1.25"}),q),Me=x((0,f.jsxs)("g",{strokeWidth:"1.25",children:[(0,f.jsx)("path",{d:"M7.5 10.833a.833.833 0 1 0 0-1.666.833.833 0 0 0 0 1.666ZM12.5 10.833a.833.833 0 1 0 0-1.666.833.833 0 0 0 0 1.666ZM6.25 6.25c2.917-.833 4.583-.833 7.5 0M5.833 13.75c2.917.833 5.417.833 8.334 0"}),(0,f.jsx)("path",{d:"M12.917 14.167c0 .833 1.25 2.5 1.666 2.5 1.25 0 2.361-1.39 2.917-2.5.556-1.39.417-4.861-1.25-9.584-1.214-.846-2.5-1.116-3.75-1.25l-.833 2.084M7.083 14.167c0 .833-1.13 2.5-1.526 2.5-1.191 0-2.249-1.39-2.778-2.5-.529-1.39-.397-4.861 1.19-9.584 1.157-.846 2.318-1.116 3.531-1.25l.833 2.084"})]}),q),Ge=x((0,f.jsxs)("g",{strokeWidth:"1.25",children:[(0,f.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,f.jsx)("path",{d:"M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c-.002 -.249 1.51 -2.772 1.818 -4.013z"})]}),S),qe=x((0,f.jsx)("polyline",{fill:"none",stroke:"currentColor",points:"20 6 9 17 4 12"}),{width:24,height:24}),Ne=x((0,f.jsxs)("g",{strokeWidth:"1.25",children:[(0,f.jsx)("path",{d:"M8.333 11.667a2.917 2.917 0 0 0 4.167 0l3.333-3.334a2.946 2.946 0 1 0-4.166-4.166l-.417.416"}),(0,f.jsx)("path",{d:"M11.667 8.333a2.917 2.917 0 0 0-4.167 0l-3.333 3.334a2.946 2.946 0 0 0 4.166 4.166l.417-.416"})]}),q),Pe=x("M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z",{width:448,height:512}),Re=x("M252 54L203 8a28 27 0 00-20-8H28C12 0 0 12 0 27v195c0 15 12 26 28 26h204c15 0 28-11 28-26V73a28 27 0 00-8-19zM130 213c-21 0-37-16-37-36 0-19 16-35 37-35 20 0 37 16 37 35 0 20-17 36-37 36zm56-169v56c0 4-4 6-7 6H44c-4 0-7-2-7-6V42c0-4 3-7 7-7h133l4 2 3 2a7 7 0 012 5z M296 201l87 95-188 205-78 9c-10 1-19-8-18-20l9-84zm141-14l-41-44a31 31 0 00-46 0l-38 41 87 95 38-42c13-14 13-36 0-50z",{width:448,height:512}),Ze=x((0,f.jsx)("path",{d:"m9.257 6.351.183.183H15.819c.34 0 .727.182 1.051.506.323.323.505.708.505 1.05v5.819c0 .316-.183.7-.52 1.035-.337.338-.723.522-1.037.522H4.182c-.352 0-.74-.181-1.058-.5-.318-.318-.499-.705-.499-1.057V5.182c0-.351.181-.736.5-1.054.32-.321.71-.503 1.057-.503H6.53l2.726 2.726Z",strokeWidth:"1.25"}),q),Ie=(x("M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z",{width:384,height:512}),x("M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z")),Ee=x((0,f.jsxs)("g",{strokeWidth:"1.25",children:[(0,f.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,f.jsx)("path",{d:"M15 8h.01"}),(0,f.jsx)("path",{d:"M12 20h-5a3 3 0 0 1 -3 -3v-10a3 3 0 0 1 3 -3h10a3 3 0 0 1 3 3v5"}),(0,f.jsx)("path",{d:"M4 15l4 -4c.928 -.893 2.072 -.893 3 0l4 4"}),(0,f.jsx)("path",{d:"M14 14l1 -1c.617 -.593 1.328 -.793 2.009 -.598"}),(0,f.jsx)("path",{d:"M19 16v6"}),(0,f.jsx)("path",{d:"M22 19l-3 3l-3 -3"})]}),S),xe=x("M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z",{width:512,height:512}),Z=(x("M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),x("M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),x("M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z")),u=(x("M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"),x((0,f.jsx)("path",{d:"M7.5 10.833 4.167 7.5 7.5 4.167M4.167 7.5h9.166a3.333 3.333 0 0 1 0 6.667H12.5",strokeWidth:"1.25"}),q)),g=x((0,f.jsx)("path",{d:"M12.5 10.833 15.833 7.5 12.5 4.167M15.833 7.5H6.667a3.333 3.333 0 1 0 0 6.667H7.5",strokeWidth:"1.25"}),q),z=x("M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z",{mirror:!0}),Y=(x((0,f.jsx)("path",{d:"M5 12.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM15 7.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM15 17.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM7.25 8.917l5.5-2.834M7.25 11.083l5.5 2.834",strokeWidth:"1.5"}),q),x("M16 5l-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4 4 4zm4 5v11c0 1.1-.9 2-2 2H6c-1.11 0-2-.9-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .89 2 2z",{width:24,height:24}),x((0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("path",{fill:"currentColor",d:"M40 5.6v6.1l-4.1.7c-8.9 1.4-16.5 6.9-20.6 15C13 32 10.9 43 12.4 43c.4 0 2.4-1.3 4.4-3 5-3.9 12.1-7 18.2-7.7l5-.6v12.8l11.2-11.3L62.5 22 51.2 10.8 40-.5v6.1zm10.2 22.6L44 34.5v-6.8l-6.9.6c-3.9.3-9.8 1.7-13.2 3.1-3.5 1.4-6.5 2.4-6.7 2.2-.9-1 3-7.5 6.4-10.8C28 18.6 34.4 16 40.1 16c3.7 0 3.9-.1 3.9-3.2V9.5l6.2 6.3 6.3 6.2-6.3 6.2z"}),(0,f.jsx)("path",{stroke:"currentColor",fill:"currentColor",d:"M0 36v20h48v-6.2c0-6 0-6.1-2-4.3-1.1 1-2 2.9-2 4.2V52H4V34c0-17.3-.1-18-2-18s-2 .7-2 20z"})]}),{width:64,height:64}),x((0,f.jsx)("path",{stroke:"currentColor",strokeWidth:"40",fill:"currentColor",d:"M148 560a318 318 0 0 0 522 110 316 316 0 0 0 0-450 316 316 0 0 0-450 0c-11 11-21 22-30 34v4h47c25 0 46 21 46 46s-21 45-46 45H90c-13 0-25-6-33-14-9-9-14-20-14-33V156c0-25 20-45 45-45s45 20 45 45v32l1 1a401 401 0 0 1 623 509l212 212a42 42 0 0 1-59 59L698 757A401 401 0 0 1 65 570a42 42 0 0 1 83-10z"}),{width:1024}),x((0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,f.jsx)("path",{d:"M13.889 4.167H8.333c-.767 0-1.389.622-1.389 1.389v5.555c0 .767.622 1.389 1.39 1.389h5.555c.767 0 1.389-.622 1.389-1.389V5.556c0-.767-.622-1.39-1.39-1.39Z",fill:"currentColor"}),(0,f.jsx)("path",{d:"M12.5 12.5v1.389a1.389 1.389 0 0 1-1.389 1.389H5.556a1.389 1.389 0 0 1-1.39-1.39V8.334a1.389 1.389 0 0 1 1.39-1.389h1.388"})]}),(0,f.jsx)("defs",{children:(0,f.jsx)("clipPath",{id:"a",children:(0,f.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),q)),te=x((0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.944 12.5H12.5v1.389a1.389 1.389 0 0 1-1.389 1.389H5.556a1.389 1.389 0 0 1-1.39-1.39V8.334a1.389 1.389 0 0 1 1.39-1.389h1.388",fill:"currentColor"}),(0,f.jsx)("path",{d:"M13.889 4.167H8.333c-.767 0-1.389.621-1.389 1.389v5.555c0 .767.622 1.389 1.39 1.389h5.555c.767 0 1.389-.622 1.389-1.389V5.556c0-.768-.622-1.39-1.39-1.39Z"})]}),(0,f.jsx)("defs",{children:(0,f.jsx)("clipPath",{id:"a",children:(0,f.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),q),ae=x((0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,f.jsx)("path",{d:"M8.775 6.458h2.45a2.316 2.316 0 0 1 2.317 2.316v2.452a2.316 2.316 0 0 1-2.316 2.316H8.774a2.316 2.316 0 0 1-2.317-2.316V8.774a2.316 2.316 0 0 1 2.317-2.316Z",fill:"currentColor"}),(0,f.jsx)("path",{d:"M5.441 9.792h2.451a2.316 2.316 0 0 1 2.316 2.316v2.45a2.316 2.316 0 0 1-2.316 2.317h-2.45a2.316 2.316 0 0 1-2.317-2.316v-2.451a2.316 2.316 0 0 1 2.316-2.316ZM12.108 3.125h2.45a2.316 2.316 0 0 1 2.317 2.316v2.451a2.316 2.316 0 0 1-2.316 2.316h-2.451a2.316 2.316 0 0 1-2.316-2.316v-2.45a2.316 2.316 0 0 1 2.316-2.317Z"})]}),(0,f.jsx)("defs",{children:(0,f.jsx)("clipPath",{id:"a",children:(0,f.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),q),ce=x((0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("g",{clipPath:"url(#a)",children:[(0,f.jsx)("path",{d:"M5.441 9.792h2.451a2.316 2.316 0 0 1 2.316 2.316v2.45a2.316 2.316 0 0 1-2.316 2.317h-2.45a2.316 2.316 0 0 1-2.317-2.316v-2.451a2.316 2.316 0 0 1 2.316-2.316Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,f.jsx)("path",{d:"M5.441 9.792h2.451a2.316 2.316 0 0 1 2.316 2.316v2.45a2.316 2.316 0 0 1-2.316 2.317h-2.45a2.316 2.316 0 0 1-2.317-2.316v-2.451a2.316 2.316 0 0 1 2.316-2.316Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,f.jsx)("mask",{id:"SendToBackIcon",fill:"#fff",children:(0,f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.167 5.833v2.06a2.941 2.941 0 0 0 2.94 2.94h2.06v.393a2.941 2.941 0 0 1-2.941 2.94h-.393v-2.058a2.941 2.941 0 0 0-2.94-2.941h-2.06v-.393a2.941 2.941 0 0 1 2.942-2.94h.392Z"})}),(0,f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.167 5.833v2.06a2.941 2.941 0 0 0 2.94 2.94h2.06v.393a2.941 2.941 0 0 1-2.941 2.94h-.393v-2.058a2.941 2.941 0 0 0-2.94-2.941h-2.06v-.393a2.941 2.941 0 0 1 2.942-2.94h.392Z",fill:"currentColor"}),(0,f.jsx)("path",{d:"M9.167 5.833h1.25v-1.25h-1.25v1.25Zm5 5h1.25v-1.25h-1.25v1.25Zm-3.334 3.334h-1.25v1.25h1.25v-1.25Zm-5-5h-1.25v1.25h1.25v-1.25Zm2.084-3.334v2.06h2.5v-2.06h-2.5Zm0 2.06a4.191 4.191 0 0 0 4.19 4.19v-2.5a1.691 1.691 0 0 1-1.69-1.69h-2.5Zm4.19 4.19h2.06v-2.5h-2.06v2.5Zm.81-1.25v.393h2.5v-.393h-2.5Zm0 .393c0 .933-.758 1.69-1.691 1.69v2.5a4.191 4.191 0 0 0 4.19-4.19h-2.5Zm-1.691 1.69h-.393v2.5h.393v-2.5Zm.857 1.25v-2.058h-2.5v2.059h2.5Zm0-2.058a4.191 4.191 0 0 0-4.19-4.191v2.5c.933 0 1.69.757 1.69 1.69h2.5Zm-4.19-4.191h-2.06v2.5h2.06v-2.5Zm-.81 1.25v-.393h-2.5v.393h2.5Zm0-.393c0-.934.758-1.69 1.692-1.69v-2.5a4.191 4.191 0 0 0-4.192 4.19h2.5Zm1.692-1.69h.392v-2.5h-.392v2.5Z",fill:"currentColor",mask:"url(#SendToBackIcon)"}),(0,f.jsx)("path",{d:"M12.108 3.125h2.45a2.316 2.316 0 0 1 2.317 2.316v2.451a2.316 2.316 0 0 1-2.316 2.316h-2.451a2.316 2.316 0 0 1-2.316-2.316v-2.45a2.316 2.316 0 0 1 2.316-2.317Z",stroke:"currentColor",strokeWidth:"1.25"})]}),(0,f.jsx)("defs",{children:(0,f.jsx)("clipPath",{id:"a",children:(0,f.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),q),ye=x((0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,f.jsx)("path",{d:"M3.333 3.333h13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,f.jsx)("path",{d:"M13.542 6.458h-.417c-.92 0-1.667.747-1.667 1.667v7.083c0 .92.746 1.667 1.667 1.667h.417c.92 0 1.666-.746 1.666-1.667V8.125c0-.92-.746-1.667-1.666-1.667ZM6.875 6.458h-.417c-.92 0-1.666.747-1.666 1.667v3.75c0 .92.746 1.667 1.666 1.667h.417c.92 0 1.667-.746 1.667-1.667v-3.75c0-.92-.747-1.667-1.667-1.667Z"})]}),(0,f.jsx)("defs",{children:(0,f.jsx)("clipPath",{id:"a",children:(0,f.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),q),je=x((0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,f.jsx)("path",{d:"M3.333 16.667h13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,f.jsx)("path",{d:"M6.875 3.125h-.417c-.92 0-1.666.746-1.666 1.667v7.083c0 .92.746 1.667 1.666 1.667h.417c.92 0 1.667-.746 1.667-1.667V4.792c0-.92-.747-1.667-1.667-1.667ZM13.542 5.817h-.417c-.92 0-1.667.747-1.667 1.667v4.391c0 .92.746 1.667 1.667 1.667h.417c.92 0 1.666-.746 1.666-1.667V7.484c0-.92-.746-1.667-1.666-1.667Z"})]}),(0,f.jsx)("defs",{children:(0,f.jsx)("clipPath",{id:"a",children:(0,f.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),q),Be=x((0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,f.jsx)("path",{d:"M3.333 3.333v13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,f.jsx)("path",{d:"M15.208 4.792H8.125c-.92 0-1.667.746-1.667 1.666v.417c0 .92.747 1.667 1.667 1.667h7.083c.92 0 1.667-.747 1.667-1.667v-.417c0-.92-.746-1.666-1.667-1.666ZM12.516 11.458H8.125c-.92 0-1.667.746-1.667 1.667v.417c0 .92.747 1.666 1.667 1.666h4.391c.92 0 1.667-.746 1.667-1.666v-.417c0-.92-.746-1.667-1.667-1.667Z"})]}),(0,f.jsx)("defs",{children:(0,f.jsx)("clipPath",{id:"a",children:(0,f.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),q),Qe=x((0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,f.jsx)("path",{d:"M16.667 3.333v13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,f.jsx)("path",{d:"M11.875 4.792H4.792c-.92 0-1.667.746-1.667 1.666v.417c0 .92.746 1.667 1.667 1.667h7.083c.92 0 1.667-.747 1.667-1.667v-.417c0-.92-.746-1.666-1.667-1.666ZM11.683 11.458H7.292c-.92 0-1.667.746-1.667 1.667v.417c0 .92.746 1.666 1.667 1.666h4.39c.921 0 1.667-.746 1.667-1.666v-.417c0-.92-.746-1.667-1.666-1.667Z"})]}),(0,f.jsx)("defs",{children:(0,f.jsx)("clipPath",{id:"a",children:(0,f.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),q),rt=x((0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,f.jsx)("path",{d:"M16.667 3.333v13.334M3.333 3.333v13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,f.jsx)("path",{d:"M14.375 10.208v-.416c0-.92-.746-1.667-1.667-1.667H7.292c-.92 0-1.667.746-1.667 1.667v.416c0 .92.746 1.667 1.667 1.667h5.416c.92 0 1.667-.746 1.667-1.667Z"})]}),(0,f.jsx)("defs",{children:(0,f.jsx)("clipPath",{id:"a",children:(0,f.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),q),Ye=x((0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,f.jsx)("path",{d:"M3.333 3.333h13.334M3.333 16.667h13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,f.jsx)("path",{d:"M10.208 5.625h-.416c-.92 0-1.667.746-1.667 1.667v5.416c0 .92.746 1.667 1.667 1.667h.416c.92 0 1.667-.746 1.667-1.667V7.292c0-.92-.746-1.667-1.667-1.667Z"})]}),(0,f.jsx)("defs",{children:(0,f.jsx)("clipPath",{id:"a",children:(0,f.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),q),tt=x((0,f.jsxs)("g",{stroke:"currentColor",strokeWidth:"1.25",children:[(0,f.jsx)("path",{d:"M1.667 10h2.916",strokeLinecap:"round",strokeLinejoin:"round"}),(0,f.jsx)("path",{d:"M8.333 10h3.334",strokeLinejoin:"round"}),(0,f.jsx)("path",{d:"M15.417 10h2.916",strokeLinecap:"round",strokeLinejoin:"round"}),(0,f.jsx)("path",{d:"M6.875 4.792h-.417c-.92 0-1.666.746-1.666 1.666v7.084c0 .92.746 1.666 1.666 1.666h.417c.92 0 1.667-.746 1.667-1.666V6.458c0-.92-.747-1.666-1.667-1.666ZM13.542 6.458h-.417c-.92 0-1.667.747-1.667 1.667v3.75c0 .92.746 1.667 1.667 1.667h.417c.92 0 1.666-.746 1.666-1.667v-3.75c0-.92-.746-1.667-1.666-1.667Z"})]}),q),ht=x((0,f.jsxs)("g",{stroke:"currentColor",strokeWidth:"1.25",children:[(0,f.jsx)("path",{d:"M10 18.333v-2.916",strokeLinecap:"round",strokeLinejoin:"round"}),(0,f.jsx)("path",{d:"M10 11.667V8.333",strokeLinejoin:"round"}),(0,f.jsx)("path",{d:"M10 4.583V1.667",strokeLinecap:"round",strokeLinejoin:"round"}),(0,f.jsx)("path",{d:"M4.792 13.125v.417c0 .92.746 1.666 1.666 1.666h7.084c.92 0 1.666-.746 1.666-1.666v-.417c0-.92-.746-1.667-1.666-1.667H6.458c-.92 0-1.666.746-1.666 1.667ZM6.458 6.458v.417c0 .92.747 1.667 1.667 1.667h3.75c.92 0 1.667-.747 1.667-1.667v-.417c0-.92-.746-1.666-1.667-1.666h-3.75c-.92 0-1.667.746-1.667 1.666Z"})]}),q),gt=x((0,f.jsxs)("g",{strokeWidth:"1.5",children:[(0,f.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,f.jsx)("circle",{cx:"9",cy:"7",r:"4"}),(0,f.jsx)("path",{d:"M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"}),(0,f.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"}),(0,f.jsx)("path",{d:"M21 21v-2a4 4 0 0 0 -3 -3.85"})]}),S),Ue=(x("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"),x("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm96 328c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16v160z"),x((0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,f.jsx)("path",{d:"M15 5 5 15M5 5l10 10"})}),(0,f.jsx)("defs",{children:(0,f.jsx)("clipPath",{id:"a",children:(0,f.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),q)),Ce=x("M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z",{width:320,height:512,style:{marginLeft:"-0.2rem"},mirror:!0}),Le=(x("M464 0c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48H176c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h288M176 416c-44.112 0-80-35.888-80-80V128H48c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48v-48H176z",{mirror:!0}),x("M11.553 22.894a.998.998 0 00.894 0s3.037-1.516 5.465-4.097C19.616 16.987 21 14.663 21 12V5a1 1 0 00-.649-.936l-8-3a.998.998 0 00-.702 0l-8 3A1 1 0 003 5v7c0 2.663 1.384 4.987 3.088 6.797 2.428 2.581 5.465 4.097 5.465 4.097zm-1.303-8.481l6.644-6.644a.856.856 0 111.212 1.212l-7.25 7.25a.856.856 0 01-1.212 0l-3.75-3.75a.856.856 0 111.212-1.212l3.144 3.144z",{width:24}),x("M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm32-48h224V288l-23.5-23.5c-4.7-4.7-12.3-4.7-17 0L176 352l-39.5-39.5c-4.7-4.7-12.3-4.7-17 0L80 352v64zm48-240c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z",{width:384,height:512}),b().memo(function(Gr){var Rr=Gr.theme;return x((0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("path",{d:"M25 26H111V111H25",fill:"var(--icon-fill-color)"}),(0,f.jsx)("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,f.jsx)("path",{d:"M100 100H160V160H100",fill:"var(--icon-fill-color)"}),(0,f.jsx)("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,f.jsxs)("g",{fill:H(Rr),stroke:"var(--icon-fill-color)",strokeWidth:"6",children:[(0,f.jsx)("rect",{x:"2.5",y:"2.5",width:"30",height:"30"}),(0,f.jsx)("rect",{x:"2.5",y:"149.5",width:"30",height:"30"}),(0,f.jsx)("rect",{x:"147.5",y:"149.5",width:"30",height:"30"}),(0,f.jsx)("rect",{x:"147.5",y:"2.5",width:"30",height:"30"})]})]}),{width:182,height:182,mirror:!0})})),et=b().memo(function(Gr){var Rr=Gr.theme;return x((0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("path",{d:"M25 26H111V111H25",fill:"var(--icon-fill-color)"}),(0,f.jsx)("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,f.jsx)("path",{d:"M100 100H160V160H100",fill:"var(--icon-fill-color)"}),(0,f.jsx)("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,f.jsxs)("g",{fill:H(Rr),stroke:"var(--icon-fill-color)",strokeWidth:"6",children:[(0,f.jsx)("rect",{x:"2.5",y:"2.5",width:"30",height:"30"}),(0,f.jsx)("rect",{x:"78.5",y:"149.5",width:"30",height:"30"}),(0,f.jsx)("rect",{x:"147.5",y:"149.5",width:"30",height:"30"}),(0,f.jsx)("rect",{x:"147.5",y:"78.5",width:"30",height:"30"}),(0,f.jsx)("rect",{x:"105.5",y:"2.5",width:"30",height:"30"}),(0,f.jsx)("rect",{x:"2.5",y:"102.5",width:"30",height:"30"})]})]}),{width:182,height:182,mirror:!0})}),ft=x((0,f.jsx)("g",{strokeWidth:1.25,children:(0,f.jsx)("path",{d:"M5.879 2.625h8.242a3.27 3.27 0 0 1 3.254 3.254v8.242a3.27 3.27 0 0 1-3.254 3.254H5.88a3.27 3.27 0 0 1-3.254-3.254V5.88A3.27 3.27 0 0 1 5.88 2.626l-.001-.001ZM4.518 16.118l7.608-12.83m.198 13.934 5.051-9.897M2.778 9.675l9.348-6.387m-7.608 12.83 12.857-8.793"})}),q),xt=x((0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("path",{d:"M5.879 2.625h8.242a3.254 3.254 0 0 1 3.254 3.254v8.242a3.254 3.254 0 0 1-3.254 3.254H5.88a3.254 3.254 0 0 1-3.254-3.254V5.88a3.254 3.254 0 0 1 3.254-3.254Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,f.jsx)("mask",{id:"FillHachureIcon",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:2,y:2,width:16,height:16,children:(0,f.jsx)("path",{d:"M5.879 2.625h8.242a3.254 3.254 0 0 1 3.254 3.254v8.242a3.254 3.254 0 0 1-3.254 3.254H5.88a3.254 3.254 0 0 1-3.254-3.254V5.88a3.254 3.254 0 0 1 3.254-3.254Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"1.25"})}),(0,f.jsx)("g",{mask:"url(#FillHachureIcon)",children:(0,f.jsx)("path",{d:"M2.258 15.156 15.156 2.258M7.324 20.222 20.222 7.325m-20.444 5.35L12.675-.222m-8.157 18.34L17.416 5.22",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})})]}),q),wt=x((0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("g",{clipPath:"url(#a)",children:[(0,f.jsx)("path",{d:"M5.879 2.625h8.242a3.254 3.254 0 0 1 3.254 3.254v8.242a3.254 3.254 0 0 1-3.254 3.254H5.88a3.254 3.254 0 0 1-3.254-3.254V5.88a3.254 3.254 0 0 1 3.254-3.254Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,f.jsx)("mask",{id:"FillCrossHatchIcon",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:-1,y:-1,width:22,height:22,children:(0,f.jsx)("path",{d:"M2.426 15.044 15.044 2.426M7.383 20 20 7.383M0 12.617 12.617 0m-7.98 17.941L17.256 5.324m-2.211 12.25L2.426 4.956M20 12.617 7.383 0m5.234 20L0 7.383m17.941 7.98L5.324 2.745",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,f.jsx)("g",{mask:"url(#FillCrossHatchIcon)",children:(0,f.jsx)("path",{d:"M14.121 2H5.88A3.879 3.879 0 0 0 2 5.879v8.242A3.879 3.879 0 0 0 5.879 18h8.242A3.879 3.879 0 0 0 18 14.121V5.88A3.879 3.879 0 0 0 14.121 2Z",fill:"currentColor"})})]}),(0,f.jsx)("defs",{children:(0,f.jsx)("clipPath",{id:"a",children:(0,f.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),q),Rt=x((0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("g",{clipPath:"url(#a)",children:(0,f.jsx)("path",{d:"M4.91 2.625h10.18a2.284 2.284 0 0 1 2.285 2.284v10.182a2.284 2.284 0 0 1-2.284 2.284H4.909a2.284 2.284 0 0 1-2.284-2.284V4.909a2.284 2.284 0 0 1 2.284-2.284Z",stroke:"currentColor",strokeWidth:"1.25"})}),(0,f.jsx)("defs",{children:(0,f.jsx)("clipPath",{id:"a",children:(0,f.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),L(L({},q),{},{fill:"currentColor"})),It=x((0,f.jsx)(f.Fragment,{children:(0,f.jsx)("path",{d:"M4.167 10h11.666",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),q),At=x((0,f.jsx)("path",{d:"M5 10h10",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),q),Xt=x((0,f.jsx)("path",{d:"M5 10h10",stroke:"currentColor",strokeWidth:"3.75",strokeLinecap:"round",strokeLinejoin:"round"}),q),tr=x((0,f.jsxs)("g",{strokeWidth:"2",children:[(0,f.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,f.jsx)("path",{d:"M5 12h2"}),(0,f.jsx)("path",{d:"M17 12h2"}),(0,f.jsx)("path",{d:"M11 12h2"})]}),S),Gt=x((0,f.jsxs)("g",{strokeWidth:"2",children:[(0,f.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,f.jsx)("path",{d:"M4 12v.01"}),(0,f.jsx)("path",{d:"M8 12v.01"}),(0,f.jsx)("path",{d:"M12 12v.01"}),(0,f.jsx)("path",{d:"M16 12v.01"}),(0,f.jsx)("path",{d:"M20 12v.01"})]}),S),Jt=x((0,f.jsx)("path",{d:"M2.5 12.038c1.655-.885 5.9-3.292 8.568-4.354 2.668-1.063.101 2.821 1.32 3.104 1.218.283 5.112-1.814 5.112-1.814",strokeWidth:"1.25"}),q),gr=x((0,f.jsx)("path",{d:"M2.5 12.563c1.655-.886 5.9-3.293 8.568-4.355 2.668-1.062.101 2.822 1.32 3.105 1.218.283 5.112-1.814 5.112-1.814m-13.469 2.23c2.963-1.586 6.13-5.62 7.468-4.998 1.338.623-1.153 4.11-.132 5.595 1.02 1.487 6.133-1.43 6.133-1.43",strokeWidth:"1.25"}),q),Pt=x((0,f.jsx)("path",{d:"M2.5 11.936c1.737-.879 8.627-5.346 10.42-5.268 1.795.078-.418 5.138.345 5.736.763.598 3.53-1.789 4.235-2.147M2.929 9.788c1.164-.519 5.47-3.28 6.987-3.114 1.519.165 1 3.827 2.121 4.109 1.122.281 3.839-2.016 4.606-2.42",strokeWidth:"1.25"}),q),St=x((0,f.jsxs)("svg",{strokeWidth:"1.5",children:[(0,f.jsx)("path",{d:"M3.33334 9.99998V6.66665C3.33334 6.04326 3.33403 4.9332 3.33539 3.33646C4.95233 3.33436 6.06276 3.33331 6.66668 3.33331H10"}),(0,f.jsx)("path",{d:"M13.3333 3.33331V3.34331"}),(0,f.jsx)("path",{d:"M16.6667 3.33331V3.34331"}),(0,f.jsx)("path",{d:"M16.6667 6.66669V6.67669"}),(0,f.jsx)("path",{d:"M16.6667 10V10.01"}),(0,f.jsx)("path",{d:"M3.33334 13.3333V13.3433"}),(0,f.jsx)("path",{d:"M16.6667 13.3333V13.3433"}),(0,f.jsx)("path",{d:"M3.33334 16.6667V16.6767"}),(0,f.jsx)("path",{d:"M6.66666 16.6667V16.6767"}),(0,f.jsx)("path",{d:"M10 16.6667V16.6767"}),(0,f.jsx)("path",{d:"M13.3333 16.6667V16.6767"}),(0,f.jsx)("path",{d:"M16.6667 16.6667V16.6767"})]}),q),Zt=x((0,f.jsxs)("g",{strokeWidth:"1.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,f.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,f.jsx)("path",{d:"M4 12v-4a4 4 0 0 1 4 -4h4"}),(0,f.jsx)("line",{x1:"16",y1:"4",x2:"16",y2:"4.01"}),(0,f.jsx)("line",{x1:"20",y1:"4",x2:"20",y2:"4.01"}),(0,f.jsx)("line",{x1:"20",y1:"8",x2:"20",y2:"8.01"}),(0,f.jsx)("line",{x1:"20",y1:"12",x2:"20",y2:"12.01"}),(0,f.jsx)("line",{x1:"4",y1:"16",x2:"4",y2:"16.01"}),(0,f.jsx)("line",{x1:"20",y1:"16",x2:"20",y2:"16.01"}),(0,f.jsx)("line",{x1:"4",y1:"20",x2:"4",y2:"20.01"}),(0,f.jsx)("line",{x1:"8",y1:"20",x2:"8",y2:"20.01"}),(0,f.jsx)("line",{x1:"12",y1:"20",x2:"12",y2:"20.01"}),(0,f.jsx)("line",{x1:"16",y1:"20",x2:"16",y2:"20.01"}),(0,f.jsx)("line",{x1:"20",y1:"20",x2:"20",y2:"20.01"})]}),S),Tt=x((0,f.jsx)("path",{d:"M6 10H34",stroke:"currentColor",strokeWidth:2,fill:"none"}),{width:40,height:20}),Lt=b().memo(function(Gr){var Rr=Gr.flip,Wr=Rr!==void 0&&Rr;return x((0,f.jsxs)("g",{transform:Wr?"translate(40, 0) scale(-1, 1)":"",stroke:"currentColor",strokeWidth:2,fill:"none",children:[(0,f.jsx)("path",{d:"M34 10H6M34 10L27 5M34 10L27 15"}),(0,f.jsx)("path",{d:"M27.5 5L34.5 10L27.5 15"})]}),{width:40,height:20})}),Wt=b().memo(function(Gr){var Rr=Gr.flip,Wr=Rr!==void 0&&Rr;return x((0,f.jsxs)("g",{stroke:"currentColor",fill:"currentColor",transform:Wr?"translate(40, 0) scale(-1, 1)":"",children:[(0,f.jsx)("path",{d:"M32 10L6 10",strokeWidth:2}),(0,f.jsx)("circle",{r:"4",transform:"matrix(-1 0 0 1 30 10)"})]}),{width:40,height:20})}),qt=b().memo(function(Gr){var Rr=Gr.flip,Wr=Rr!==void 0&&Rr;return x((0,f.jsx)("g",{transform:Wr?"translate(40, 0) scale(-1, 1)":"",children:(0,f.jsx)("path",{d:"M34 10H5.99996M34 10L34 5M34 10L34 15",stroke:"currentColor",strokeWidth:2,fill:"none"})}),{width:40,height:20})}),sr=b().memo(function(Gr){var Rr=Gr.flip,Wr=Rr!==void 0&&Rr;return x((0,f.jsxs)("g",{stroke:"currentColor",fill:"currentColor",transform:Wr?"translate(40, 0) scale(-1, 1)":"",children:[(0,f.jsx)("path",{d:"M32 10L6 10",strokeWidth:2}),(0,f.jsx)("path",{d:"M27.5 5.5L34.5 10L27.5 14.5L27.5 5.5"})]}),{width:40,height:20})}),cr=x((0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("g",{clipPath:"url(#a)",children:(0,f.jsx)("path",{d:"M14.167 6.667a3.333 3.333 0 0 0-3.334-3.334H9.167a3.333 3.333 0 0 0 0 6.667h1.666a3.333 3.333 0 0 1 0 6.667H9.167a3.333 3.333 0 0 1-3.334-3.334",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,f.jsx)("defs",{children:(0,f.jsx)("clipPath",{id:"a",children:(0,f.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),q),Sr=x((0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("g",{clipPath:"url(#a)",children:(0,f.jsx)("path",{d:"M5 16.667V3.333L10 15l5-11.667v13.334",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,f.jsx)("defs",{children:(0,f.jsx)("clipPath",{id:"a",children:(0,f.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),q),Mr=x((0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("g",{clipPath:"url(#a)",children:(0,f.jsx)("path",{d:"M5.833 3.333v13.334h8.334",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,f.jsx)("defs",{children:(0,f.jsx)("clipPath",{id:"a",children:(0,f.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),q),zr=x((0,f.jsx)(f.Fragment,{children:(0,f.jsx)("path",{d:"m1.667 3.333 6.666 13.334M8.333 3.333 1.667 16.667M11.667 3.333v13.334h6.666",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),q),pr=x((0,f.jsx)(f.Fragment,{children:(0,f.jsx)("g",{stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,f.jsx)("path",{d:"M5.833 16.667v-10a3.333 3.333 0 0 1 3.334-3.334h1.666a3.333 3.333 0 0 1 3.334 3.334v10M5.833 10.833h8.334"})})}),q),Ft=x((0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,f.jsx)("path",{d:"M5.833 6.667 2.5 10l3.333 3.333M14.167 6.667 17.5 10l-3.333 3.333M11.667 3.333 8.333 16.667"})}),(0,f.jsx)("defs",{children:(0,f.jsx)("clipPath",{id:"a",children:(0,f.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),q),or=x((0,f.jsxs)("g",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[(0,f.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,f.jsx)("line",{x1:"4",y1:"8",x2:"20",y2:"8"}),(0,f.jsx)("line",{x1:"4",y1:"12",x2:"12",y2:"12"}),(0,f.jsx)("line",{x1:"4",y1:"16",x2:"16",y2:"16"})]}),S),rr=x((0,f.jsxs)("g",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,f.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,f.jsx)("line",{x1:"4",y1:"8",x2:"20",y2:"8"}),(0,f.jsx)("line",{x1:"8",y1:"12",x2:"16",y2:"12"}),(0,f.jsx)("line",{x1:"6",y1:"16",x2:"18",y2:"16"})]}),S),Or=x((0,f.jsxs)("g",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,f.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,f.jsx)("line",{x1:"4",y1:"8",x2:"20",y2:"8"}),(0,f.jsx)("line",{x1:"10",y1:"12",x2:"20",y2:"12"}),(0,f.jsx)("line",{x1:"8",y1:"16",x2:"20",y2:"16"})]}),S),Kr=b().memo(function(Gr){return Gr.theme,x((0,f.jsxs)("g",{strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,f.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,f.jsx)("line",{x1:"4",y1:"4",x2:"20",y2:"4"}),(0,f.jsx)("rect",{x:"9",y:"8",width:"6",height:"12",rx:"2"})]}),S)}),Xr=b().memo(function(Gr){return Gr.theme,x((0,f.jsxs)("g",{strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,f.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,f.jsx)("line",{x1:"4",y1:"20",x2:"20",y2:"20"}),(0,f.jsx)("rect",{x:"9",y:"4",width:"6",height:"12",rx:"2"})]}),S)}),cn=b().memo(function(Gr){return Gr.theme,x((0,f.jsxs)("g",{strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,f.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,f.jsx)("line",{x1:"4",y1:"12",x2:"9",y2:"12"}),(0,f.jsx)("line",{x1:"15",y1:"12",x2:"20",y2:"12"}),(0,f.jsx)("rect",{x:"9",y:"6",width:"6",height:"12",rx:"2"})]}),S)}),en=x((0,f.jsx)("path",{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z",fill:"currentColor"}),{width:640,height:512}),ur=(x((0,f.jsx)("path",{d:"M480 416C497.7 416 512 430.3 512 448C512 465.7 497.7 480 480 480H150.6C133.7 480 117.4 473.3 105.4 461.3L25.37 381.3C.3786 356.3 .3786 315.7 25.37 290.7L258.7 57.37C283.7 32.38 324.3 32.38 349.3 57.37L486.6 194.7C511.6 219.7 511.6 260.3 486.6 285.3L355.9 416H480zM265.4 416L332.7 348.7L195.3 211.3L70.63 336L150.6 416L265.4 416z"})),x((0,f.jsxs)("g",{strokeWidth:1.25,children:[(0,f.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,f.jsx)("path",{d:"M8 13v-7.5a1.5 1.5 0 0 1 3 0v6.5"}),(0,f.jsx)("path",{d:"M11 5.5v-2a1.5 1.5 0 1 1 3 0v8.5"}),(0,f.jsx)("path",{d:"M14 5.5a1.5 1.5 0 0 1 3 0v6.5"}),(0,f.jsx)("path",{d:"M17 7.5a1.5 1.5 0 0 1 3 0v8.5a6 6 0 0 1 -6 6h-2h.208a6 6 0 0 1 -5.012 -2.7a69.74 69.74 0 0 1 -.196 -.3c-.312 -.479 -1.407 -2.388 -3.286 -5.728a1.5 1.5 0 0 1 .536 -2.022a1.867 1.867 0 0 1 2.28 .28l1.47 1.47"})]}),S)),Dt=x((0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,f.jsx)("path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"}),(0,f.jsx)("path",{d:"M7 11l5 5l5 -5"}),(0,f.jsx)("path",{d:"M12 4l0 12"})]}),S),Nt=x((0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,f.jsx)("path",{d:"M8 8m0 2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2z"}),(0,f.jsx)("path",{d:"M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"})]}),S),Ut=x((0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,f.jsx)("path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"}),(0,f.jsx)("path",{d:"M12 17l0 .01"}),(0,f.jsx)("path",{d:"M12 13.5a1.5 1.5 0 0 1 1 -1.5a2.6 2.6 0 1 0 -3 -4"})]}),S),hr=(x((0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,f.jsx)("path",{d:"M7 4v16l13 -8z"})]}),S),x((0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,f.jsx)("path",{d:"M17 4h-10a3 3 0 0 0 -3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3 -3v-10a3 3 0 0 0 -3 -3z",strokeWidth:"0",fill:"currentColor"})]}),S),x((0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,f.jsx)("path",{d:"M5 12l5 5l10 -10"})]}),S),x((0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,f.jsx)("path",{d:"M10.24 3.957l-8.422 14.06a1.989 1.989 0 0 0 1.7 2.983h16.845a1.989 1.989 0 0 0 1.7 -2.983l-8.423 -14.06a1.989 1.989 0 0 0 -3.4 0z"}),(0,f.jsx)("path",{d:"M12 9v4"}),(0,f.jsx)("path",{d:"M12 17h.01"})]}),S)),jr=x((0,f.jsxs)("g",{strokeWidth:1.25,children:[(0,f.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,f.jsx)("path",{d:"M11 7l6 6"}),(0,f.jsx)("path",{d:"M4 16l11.7 -11.7a1 1 0 0 1 1.4 0l2.6 2.6a1 1 0 0 1 0 1.4l-11.7 11.7h-4v-4z"})]}),S),Cr=x((0,f.jsxs)("g",{strokeWidth:1.5,children:[(0,f.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,f.jsx)("path",{d:"M12 3l-4 7h8z"}),(0,f.jsx)("path",{d:"M17 17m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"}),(0,f.jsx)("path",{d:"M4 14m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z"})]}),S),Zr=x((0,f.jsxs)("g",{strokeWidth:1.5,children:[(0,f.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,f.jsx)("path",{d:"M4 7l16 0"}),(0,f.jsx)("path",{d:"M4 17l16 0"}),(0,f.jsx)("path",{d:"M7 4l0 16"}),(0,f.jsx)("path",{d:"M17 4l0 16"})]}),S),Dr=x((0,f.jsx)("path",{fill:"currentColor",d:"M407.48,111.18C335.587,108.103 269.573,152.338 245.08,220C220.587,152.338 154.573,108.103 82.68,111.18C80.285,168.229 107.577,222.632 154.74,254.82C178.908,271.419 193.35,298.951 193.27,328.27L193.27,379.13L296.9,379.13L296.9,328.27C296.816,298.953 311.255,271.42 335.42,254.82C382.596,222.644 409.892,168.233 407.48,111.18Z"})),Fr=x((0,f.jsxs)("g",{strokeWidth:"1.25",children:[(0,f.jsx)("path",{d:"M4.16602 10H15.8327"}),(0,f.jsx)("path",{d:"M12.5 13.3333L15.8333 10"}),(0,f.jsx)("path",{d:"M12.5 6.66666L15.8333 9.99999"})]}),q),ln=x((0,f.jsxs)("g",{fill:"none",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",transform:"rotate(90 10 10)",children:[(0,f.jsx)("path",{clipRule:"evenodd",d:"m9.644 13.69 7.774-7.773a2.357 2.357 0 0 0-3.334-3.334l-7.773 7.774L8 12l1.643 1.69Z"}),(0,f.jsx)("path",{d:"m13.25 3.417 3.333 3.333M10 10l2-2M5 15l3-3M2.156 17.894l1-1M5.453 19.029l-.144-1.407M2.377 11.887l.866 1.118M8.354 17.273l-1.194-.758M.953 14.652l1.408.13"})]}),20)},7021:function(We,ue,n){n.d(ue,{Z:function(){return Ge}});var r={};n.r(r),n.d(r,{ChangeCanvasBackground:function(){return le},ClearCanvas:function(){return F},Export:function(){return de},Help:function(){return P},LiveCollaborationTrigger:function(){return pe},LoadScene:function(){return U},SaveAsImage:function(){return D},SaveToActiveFile:function(){return V},Socials:function(){return fe},ToggleTheme:function(){return X}});var A=n(8242),k=n(7104),b=n(8950),w=n(2975),N=n.n(w),M=n(2529),f=n(8227),d=n(8935),j=n(5735),L=n(3858),H=n(5463),x=n(3379),S=n.n(x),q=n(7795),ve=n.n(q),ke=n(569),Se=n.n(ke),ge=n(3565),J=n.n(ge),Q=n(9216),K=n.n(Q),T=n(4589),B=n.n(T),O=n(4343),R={};R.styleTagTransform=B(),R.setAttributes=J(),R.insert=Se().bind(null,"head"),R.domAPI=ve(),R.insertStyleElement=K(),S()(O.Z,R),O.Z&&O.Z.locals&&O.Z.locals;var E=n(45),v=n(3607),i=n(8973),a=n(453),y=n(100),h=n(7827),m=n(9247),C=n(4512),U=function(){var qe=(0,f.QT)().t,Ne=(0,A.eh)(),Pe=(0,A.bd)();if(!Ne.isActionEnabled(H._d))return null;var Re=function(){var Ze=(0,b.Z)(N().mark(function Ie(){return N().wrap(function(Ee){for(;;)switch(Ee.prev=Ee.next){case 0:if(Ee.t0=!Pe.length,Ee.t0){Ee.next=5;break}return Ee.next=4,(0,h._)({title:qe("overwriteConfirm.modal.loadFromFile.title"),actionLabel:qe("overwriteConfirm.modal.loadFromFile.button"),color:"warning",description:(0,C.jsx)(m.Z,{i18nKey:"overwriteConfirm.modal.loadFromFile.description",bold:function(xe){return(0,C.jsx)("strong",{children:xe})},br:function(){return(0,C.jsx)("br",{})}})});case 4:Ee.t0=Ee.sent;case 5:if(!Ee.t0){Ee.next=7;break}Ne.executeAction(H._d);case 7:case"end":return Ee.stop()}},Ie)}));return function(){return Ze.apply(this,arguments)}}();return(0,C.jsx)(j.Z,{icon:d.Tl,onSelect:Re,"data-testid":"load-button",shortcut:(0,M.C)("loadScene"),"aria-label":qe("buttons.load"),children:qe("buttons.load")})};U.displayName="LoadScene";var V=function(){var qe=(0,f.QT)().t,Ne=(0,A.eh)();return Ne.isActionEnabled(H.ns)?(0,C.jsx)(j.Z,{shortcut:(0,M.C)("saveScene"),"data-testid":"save-button",onSelect:function(){return Ne.executeAction(H.ns)},icon:d.a1,"aria-label":"".concat(qe("buttons.save")),children:"".concat(qe("buttons.save"))}):null};V.displayName="SaveToActiveFile";var D=function(){var qe=(0,A.n9)(),Ne=(0,f.QT)().t;return(0,C.jsx)(j.Z,{icon:d.J8,"data-testid":"image-export-button",onSelect:function(){return qe({openDialog:"imageExport"})},shortcut:(0,M.C)("imageExport"),"aria-label":Ne("buttons.exportImage"),children:Ne("buttons.exportImage")})};D.displayName="SaveAsImage";var P=function(){var qe=(0,f.QT)().t,Ne=(0,A.eh)();return(0,C.jsx)(j.Z,{"data-testid":"help-menu-item",icon:d.by,onSelect:function(){return Ne.executeAction(H.jY)},shortcut:"?","aria-label":qe("helpDialog.title"),children:qe("helpDialog.title")})};P.displayName="Help";var F=function(){var qe=(0,f.QT)().t,Ne=(0,v.b9)(i.w,a.yE);return(0,A.eh)().isActionEnabled(H.mo)?(0,C.jsx)(j.Z,{icon:d.XH,onSelect:function(){return Ne("clearCanvas")},"data-testid":"clear-canvas-button","aria-label":qe("buttons.clearReset"),children:qe("buttons.clearReset")}):null};F.displayName="ClearCanvas";var X=function(){var qe=(0,f.QT)().t,Ne=(0,y.I)(),Pe=(0,A.eh)();return Pe.isActionEnabled(H.Zp)?(0,C.jsx)(j.Z,{onSelect:function(Re){return Re.preventDefault(),Pe.executeAction(H.Zp)},icon:Ne.theme==="dark"?d.NW:d.kL,"data-testid":"toggle-dark-mode",shortcut:(0,M.C)("toggleTheme"),"aria-label":Ne.theme==="dark"?qe("buttons.lightMode"):qe("buttons.darkMode"),children:Ne.theme==="dark"?qe("buttons.lightMode"):qe("buttons.darkMode")}):null};X.displayName="ToggleTheme";var le=function(){var qe=(0,f.QT)().t,Ne=(0,y.I)(),Pe=(0,A.eh)(),Re=(0,A.hY)();return Ne.viewModeEnabled||!Re.UIOptions.canvasActions.changeViewBackgroundColor?null:(0,C.jsxs)("div",{style:{marginTop:"0.5rem"},children:[(0,C.jsx)("div",{"data-testid":"canvas-background-label",style:{fontSize:".75rem",marginBottom:".5rem"},children:qe("labels.canvasBackground")}),(0,C.jsx)("div",{style:{padding:"0 0.625rem"},children:Pe.renderAction("changeViewBackgroundColor")})]})};le.displayName="ChangeCanvasBackground";var de=function(){var qe=(0,f.QT)().t,Ne=(0,A.n9)();return(0,C.jsx)(j.Z,{icon:d.Hy,onSelect:function(){Ne({openDialog:"jsonExport"})},"data-testid":"json-export-button","aria-label":qe("buttons.export"),children:qe("buttons.export")})};de.displayName="Export";var fe=function(){return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(L.Z,{icon:d.ET,href:"https://github.com/excalidraw/excalidraw","aria-label":"GitHub",children:"GitHub"}),(0,C.jsx)(L.Z,{icon:d.D7,href:"https://discord.gg/UexuTaE","aria-label":"Discord",children:"Discord"}),(0,C.jsx)(L.Z,{icon:d.Zm,href:"https://twitter.com/excalidraw","aria-label":"Twitter",children:"Twitter"})]})};fe.displayName="Socials";var pe=function(qe){var Ne=qe.onSelect,Pe=qe.isCollaborating,Re=(0,f.QT)().t;return(0,C.jsx)(j.Z,{"data-testid":"collab-button",icon:d.jn,className:(0,E.Z)({"active-collab":Pe}),onSelect:Ne,children:Re("labels.liveCollaboration")})};pe.displayName="LiveCollaborationTrigger";var ne=n(4704),oe=n(6922),be=n(9827),Me=n(4572),Ge=Object.assign((0,oe.$)("MainMenu",function(qe){var Ne=qe.children,Pe=qe.onSelect,Re=(0,Me.R6)().MainMenuTunnel,Ze=(0,A.Fy)(),Ie=(0,y.I)(),Ee=(0,A.n9)(),xe=Ze.editor.isMobile?void 0:function(){return Ee({openMenu:null})};return(0,C.jsx)(Re.In,{children:(0,C.jsxs)(k.Z,{open:Ie.openMenu==="canvas",children:[(0,C.jsx)(k.Z.Trigger,{onToggle:function(){Ee({openMenu:Ie.openMenu==="canvas"?null:"canvas"})},"data-testid":"main-menu-trigger",className:"main-menu-trigger",children:d.RY}),(0,C.jsxs)(k.Z.Content,{onClickOutside:xe,onSelect:(0,be.Mj)(Pe,function(){Ee({openMenu:null})}),children:[Ne,Ze.editor.isMobile&&Ie.collaborators.size>0&&(0,C.jsxs)("fieldset",{className:"UserList-Wrapper",children:[(0,C.jsx)("legend",{children:(0,f.t)("labels.collaborators")}),(0,C.jsx)(ne.Z,{mobile:!0,collaborators:Ie.collaborators})]})]})]})})}),{Trigger:k.Z.Trigger,Item:k.Z.Item,ItemLink:k.Z.ItemLink,ItemCustom:k.Z.ItemCustom,Group:k.Z.Group,Separator:k.Z.Separator,DefaultItems:r})},9937:function(We,ue,n){n.d(ue,{wL:function(){return qe},iC:function(){return R},vL:function(){return xt},bY:function(){return ft},gK:function(){return et},$C:function(){return P},oc:function(){return m},_9:function(){return Xt},HN:function(){return Pt},qy:function(){return ht},rk:function(){return ne},n5:function(){return pe},h6:function(){return gt},Rx:function(){return At},Cc:function(){return Zt},Hg:function(){return oe},cW:function(){return ce},hs:function(){return be},f:function(){return E},xY:function(){return It},Iw:function(){return i},$e:function(){return a},Vi:function(){return D},Ks:function(){return ge},r8:function(){return Re},I_:function(){return Pe},ZB:function(){return tt},pb:function(){return Ze},ut:function(){return F},iG:function(){return le},k:function(){return Me},sA:function(){return z},KL:function(){return Ge},LL:function(){return Ie},PR:function(){return Tt},tf:function(){return St},EE:function(){return rt},qx:function(){return v},$n:function(){return Ue},zK:function(){return Ye},LO:function(){return Ne},CP:function(){return fe},Zj:function(){return g},Yx:function(){return Be},sS:function(){return je},kV:function(){return ye},sk:function(){return Qe},Oh:function(){return C},XI:function(){return U},WR:function(){return Gt},$h:function(){return Jt},a6:function(){return tr},HM:function(){return Z},ay:function(){return h},dg:function(){return gr},hR:function(){return Ce},Gj:function(){return Ee},I8:function(){return Rt},wZ:function(){return y},C6:function(){return X},ZF:function(){return Y},nM:function(){return xe},ah:function(){return ae},UO:function(){return te},Kr:function(){return Le},oX:function(){return wt},_D:function(){return de},vf:function(){return V},V4:function(){return u},Dt:function(){return K},jP:function(){return O},Um:function(){return J},vU:function(){return T},G6:function(){return B},ED:function(){return Q}});var r=n(7169),A=n(3379),k=n.n(A),b=n(7795),w=n.n(b),N=n(569),M=n.n(N),f=n(3565),d=n.n(f),j=n(9216),L=n.n(j),H=n(4589),x=n.n(H),S=n(6464),q={};q.styleTagTransform=x(),q.setAttributes=d(),q.insert=M().bind(null,"head"),q.domAPI=w(),q.insertStyleElement=L(),k()(S.Z,q);var ve=S.Z&&S.Z.locals?S.Z.locals:void 0,ke=n(9240);function Se(Lt,Wt){var qt=Object.keys(Lt);if(Object.getOwnPropertySymbols){var sr=Object.getOwnPropertySymbols(Lt);Wt&&(sr=sr.filter(function(cr){return Object.getOwnPropertyDescriptor(Lt,cr).enumerable})),qt.push.apply(qt,sr)}return qt}var ge,J=/Mac|iPod|iPhone|iPad/.test(navigator.platform),Q=/^Win/.test(navigator.platform),K=/\b(android)\b/i.test(navigator.userAgent),T="netscape"in window&&navigator.userAgent.indexOf("rv:")>1&&navigator.userAgent.indexOf("Gecko")>1,B=navigator.userAgent.indexOf("Chrome")===-1&&navigator.userAgent.indexOf("Safari")!==-1,O=function(){var Lt,Wt;return((Lt=navigator.brave)===null||Lt===void 0||(Wt=Lt.isBrave)===null||Wt===void 0?void 0:Wt.name)==="isBrave"},R="Excalidraw",E=10,v=8,i=5,a=1,y=30,h=Math.PI/12,m={TEXT:"text",CROSSHAIR:"crosshair",GRABBING:"grabbing",GRAB:"grab",POINTER:"pointer",MOVE:"move",AUTO:""},C={MAIN:0,WHEEL:1,SECONDARY:2,TOUCH:-1},U={enabled:"all",disabled:"none",inheritFromUI:"var(--ui-pointerEvents)"};(function(Lt){Lt.COPY="copy",Lt.PASTE="paste",Lt.CUT="cut",Lt.KEYDOWN="keydown",Lt.KEYUP="keyup",Lt.MOUSE_MOVE="mousemove",Lt.RESIZE="resize",Lt.UNLOAD="unload",Lt.FOCUS="focus",Lt.BLUR="blur",Lt.DRAG_OVER="dragover",Lt.DROP="drop",Lt.GESTURE_END="gestureend",Lt.BEFORE_UNLOAD="beforeunload",Lt.GESTURE_START="gesturestart",Lt.GESTURE_CHANGE="gesturechange",Lt.POINTER_MOVE="pointermove",Lt.POINTER_DOWN="pointerdown",Lt.POINTER_UP="pointerup",Lt.STATE_CHANGE="statechange",Lt.WHEEL="wheel",Lt.TOUCH_START="touchstart",Lt.TOUCH_END="touchend",Lt.HASHCHANGE="hashchange",Lt.VISIBILITY_CHANGE="visibilitychange",Lt.SCROLL="scroll",Lt.EXCALIDRAW_LINK="excalidraw-link",Lt.MENU_ITEM_SELECT="menu.itemSelect",Lt.MESSAGE="message"})(ge||(ge={}));var V={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5},D={TEST:"test",DEVELOPMENT:"development"},P={SHAPE_ACTIONS_MENU:"App-menu__left"},F={Virgil:1,Helvetica:2,Cascadia:3,Assistant:4},X={LIGHT:"light",DARK:"dark"},le={strokeColor:"#bbb",strokeWidth:2,strokeStyle:"solid",fillStyle:"solid",roughness:0,roundness:null,backgroundColor:"transparent",radius:8,nameOffsetY:3,nameColorLightTheme:"#999999",nameColorDarkTheme:"#7a7a7a",nameFontSize:14,nameLineHeight:1.25},de="Segoe UI Emoji",fe=1,pe=20,ne=F.Virgil,oe="left",be="top",Me=20,Ge={svg:"image/svg+xml",png:"image/png",jpg:"image/jpeg",gif:"image/gif",webp:"image/webp",bmp:"image/bmp",ico:"image/x-icon",avif:"image/avif",jfif:"image/jfif"},qe=["text/plain","text/html"],Ne=function(Lt){for(var Wt=1;Wt<arguments.length;Wt++){var qt=arguments[Wt]!=null?arguments[Wt]:{};Wt%2?Se(Object(qt),!0).forEach(function(sr){(0,r.Z)(Lt,sr,qt[sr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Lt,Object.getOwnPropertyDescriptors(qt)):Se(Object(qt)).forEach(function(sr){Object.defineProperty(Lt,sr,Object.getOwnPropertyDescriptor(qt,sr))})}return Lt}({json:"application/json",excalidraw:"application/vnd.excalidraw+json",excalidrawlib:"application/vnd.excalidrawlib+json","excalidraw.svg":"image/svg+xml","excalidraw.png":"image/png",binary:"application/octet-stream"},Ge),Pe={png:"png",svg:"svg",clipboard:"clipboard"},Re={excalidraw:"excalidraw",excalidrawClipboard:"excalidraw/clipboard",excalidrawLibrary:"excalidrawlib",excalidrawClipboardWithAPI:"excalidraw-api/clipboard"},Ze=window.EXCALIDRAW_EXPORT_SOURCE||window.location.origin,Ie=500,Ee=300,xe=500,Z=100,u=.1,g=.1,z=300,Y=ve.themeFilter,te={addLibrary:"addLibrary"},ae={addLibrary:"addLibrary"},ce={canvasActions:{changeViewBackgroundColor:!0,clearCanvas:!0,export:{saveFileToDisk:!0},loadScene:!0,saveToActiveFile:!0,toggleTheme:null,saveAsImage:!0},tools:{image:!0}},ye=730,je=1e3,Be=500,Qe=1229,rt=parseInt(ve.rightSidebarWidth),Ye=2,tt=[1,2,3],ht=10,gt=1440,Ue=2097152,Ce="http://www.w3.org/2000/svg",Le={excalidraw:2,excalidrawLibrary:2},et=5,ft=.7,xt=11,wt={TOP:"top",MIDDLE:"middle",BOTTOM:"bottom"},Rt={LEFT:"left",CENTER:"center",RIGHT:"right"},It=20,At=.25,Xt=32,tr={LEGACY:1,PROPORTIONAL_RADIUS:2,ADAPTIVE_RADIUS:3},Gt="__precedingElement__",Jt={architect:0,artist:1,cartoonist:2},gr={thin:1,bold:2,extraBold:4},Pt={strokeColor:ke.HO.black,backgroundColor:ke.HO.transparent,fillStyle:"solid",strokeWidth:2,strokeStyle:"solid",roughness:Jt.artist,opacity:100,locked:!1},St="library",Zt={name:"default",defaultTab:St},Tt=new Set(["embeddable","image"])},4572:function(We,ue,n){n.d(ue,{A3:function(){return x},ZC:function(){return q},R6:function(){return S}});var r=n(9787),A=n.n(r);const k=ve=>{let ke;const Se=new Set,ge=(K,T)=>{const B=typeof K=="function"?K(ke):K;if(!Object.is(B,ke)){const O=ke;ke=T??typeof B!="object"?B:Object.assign({},ke,B),Se.forEach(R=>R(ke,O))}},J=()=>ke,Q={setState:ge,getState:J,subscribe:K=>(Se.add(K),()=>Se.delete(K)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),Se.clear()}};return ke=ve(ge,J,Q),Q},b=ve=>ve?k(ve):k;var w=n(5668);const{useSyncExternalStoreWithSelector:N}=w,M=ve=>{typeof ve!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const ke=typeof ve=="function"?b(ve):ve,Se=(ge,J)=>function(Q,K=Q.getState,T){const B=N(Q.subscribe,Q.getState,Q.getServerState||Q.getState,K,T);return(0,r.useDebugValue)(B),B}(ke,ge,J);return Object.assign(Se,ke),Se},f=ve=>ve?M(ve):M;var d,j;const L=typeof window<"u"&&((d=window.document)!=null&&d.createElement||((j=window.navigator)==null?void 0:j.product)==="ReactNative")?A().useLayoutEffect:A().useEffect;function H(){const ve=f(ke=>({current:new Array,version:0,set:ke}));return{In:({children:ke})=>{const Se=ve(J=>J.set),ge=ve(J=>J.version);return L(()=>{Se(J=>({version:J.version+1}))},[]),L(()=>(Se(({current:J})=>({current:[...J,ke]})),()=>Se(({current:J})=>({current:J.filter(Q=>Q!==ke)}))),[ke,ge]),null},Out:()=>{const ke=ve(Se=>Se.current);return A().createElement(A().Fragment,null,ke)}}}var x=A().createContext(null),S=function(){return A().useContext(x)},q=function(){return A().useMemo(function(){return{MainMenuTunnel:H(),WelcomeScreenMenuHintTunnel:H(),WelcomeScreenToolbarHintTunnel:H(),WelcomeScreenHelpHintTunnel:H(),WelcomeScreenCenterTunnel:H(),FooterCenterTunnel:H(),DefaultSidebarTriggerTunnel:H(),DefaultSidebarTabTriggersTunnel:H(),OverwriteConfirmDialogTunnel:H(),jotaiScope:Symbol()}},[])}},100:function(We,ue,n){n.d(ue,{I:function(){return b},k:function(){return k}});var r=n(9787),A=n.n(r),k=A().createContext(null),b=function(){return A().useContext(k)}},7652:function(We,ue,n){n.d(ue,{KJ:function(){return L},OF:function(){return H},Uk:function(){return x},z8:function(){return j}});var r,A,k=n(9937),b=n(5284),w=n(6853),N='<svg viewBox="0 0 24 24" stroke-width="1" width="28" height="28" xmlns="http://www.w3.org/2000/svg">',M='<path stroke="#1b1b1f" fill="#fff" d="m7.868 11.113 7.773 7.774a2.359 2.359 0 0 0 1.667.691 2.368 2.368 0 0 0 2.357-2.358c0-.625-.248-1.225-.69-1.667L11.201 7.78 9.558 9.469l-1.69 1.643v.001Zm10.273 3.606-3.333 3.333m-3.25-6.583 2 2m-7-7 3 3M3.664 3.625l1 1M2.529 6.922l1.407-.144m5.735-2.932-1.118.866M4.285 9.823l.758-1.194m1.863-6.207-.13 1.408"/>',f="data:".concat(k.LO.svg,",").concat(encodeURIComponent("".concat(N).concat(M,"</svg>"))),d="data:".concat(k.LO.svg,",").concat(encodeURIComponent("".concat(N).concat('<path d="M6.164 11.755a5.314 5.314 0 0 1-4.932-5.298 5.314 5.314 0 0 1 5.311-5.311 5.314 5.314 0 0 1 5.307 5.113l8.773 8.773a3.322 3.322 0 0 1 0 4.696l-.895.895a3.322 3.322 0 0 1-4.696 0l-8.868-8.868Z" style="fill:#fff"/>').concat(M,"</svg>"))),j=function(S){S&&(S.style.cursor="")},L=function(S,q){S&&(S.style.cursor=q)},H=function(S,q){r&&r.theme===q||function(){var ve=q===k.C6.DARK;(r=document.createElement("canvas")).theme=q,r.height=20,r.width=20;var ke=r.getContext("2d");ke.lineWidth=1,ke.beginPath(),ke.arc(r.width/2,r.height/2,5,0,2*Math.PI),ke.fillStyle=ve?b.black:b.white,ke.fill(),ke.strokeStyle=ve?b.white:b.black,ke.stroke(),A=r.toDataURL(k.LO.svg)}(),L(S,"url(".concat(A,") ").concat(10," ").concat(10,", auto"))},x=function(S,q){if(S)if(q.activeTool.type==="selection")j(S);else if((0,w.l$)(q))S.style.cursor=k.oc.GRAB;else if((0,w.EN)(q))H(S,q.theme);else if(q.activeTool.type==="laser"){var ve=q.theme===k.C6.LIGHT?f:d;S.style.cursor="url(".concat(ve,"), auto")}else["image","custom"].includes(q.activeTool.type)?q.activeTool.type!=="image"&&(S.style.cursor=k.oc.AUTO):S.style.cursor=k.oc.CROSSHAIR}},5796:function(We,ue,n){n.d(ue,{DQ:function(){return K},KG:function(){return h},Pn:function(){return C},Qk:function(){return Q},Sf:function(){return y},Tu:function(){return m},Wr:function(){return B},ZY:function(){return O},_c:function(){return i},_p:function(){return U},bv:function(){return V},cT:function(){return R},g8:function(){return T},gY:function(){return X},lV:function(){return v},tW:function(){return a},vZ:function(){return le},wf:function(){return E}});var r=n(1930),A=n(2577),k=n(7169),b=n(8950),w=n(2975),N=n.n(w),M=n(5605),f=n(6853),d=n(9937),j=n(7651),L=n(3506),H=n(8227),x=n(4105),S=n(9827),q=n(6548),ve=n(4419),ke=n(7994);function Se(de,fe){var pe=Object.keys(de);if(Object.getOwnPropertySymbols){var ne=Object.getOwnPropertySymbols(de);fe&&(ne=ne.filter(function(oe){return Object.getOwnPropertyDescriptor(de,oe).enumerable})),pe.push.apply(pe,ne)}return pe}function ge(de){for(var fe=1;fe<arguments.length;fe++){var pe=arguments[fe]!=null?arguments[fe]:{};fe%2?Se(Object(pe),!0).forEach(function(ne){(0,k.Z)(de,ne,pe[ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(de,Object.getOwnPropertyDescriptors(pe)):Se(Object(pe)).forEach(function(ne){Object.defineProperty(de,ne,Object.getOwnPropertyDescriptor(pe,ne))})}return de}var J=function(){var de=(0,b.Z)(N().mark(function fe(pe){var ne;return N().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:if(pe.type!==d.LO.png){oe.next=18;break}return oe.prev=1,oe.next=4,Promise.resolve().then(n.bind(n,250));case 4:return oe.next=6,oe.sent.decodePngMetadata(pe);case 6:return oe.abrupt("return",oe.sent);case 9:if(oe.prev=9,oe.t0=oe.catch(1),oe.t0.message!=="INVALID"){oe.next=15;break}throw new L.jk((0,H.t)("alerts.imageDoesNotContainScene"),"IMAGE_NOT_CONTAINS_SCENE_DATA");case 15:throw new L.jk((0,H.t)("alerts.cannotRestoreFromImage"));case 16:oe.next=43;break;case 18:if(!("text"in Blob)){oe.next=24;break}return oe.next=21,pe.text();case 21:ne=oe.sent,oe.next=27;break;case 24:return oe.next=26,new Promise(function(be){var Me=new FileReader;Me.readAsText(pe,"utf8"),Me.onloadend=function(){Me.readyState===FileReader.DONE&&be(Me.result)}});case 26:ne=oe.sent;case 27:if(pe.type!==d.LO.svg){oe.next=43;break}return oe.prev=28,oe.next=31,Promise.resolve().then(n.bind(n,250));case 31:return oe.next=33,oe.sent.decodeSvgMetadata({svg:ne});case 33:return oe.abrupt("return",oe.sent);case 36:if(oe.prev=36,oe.t1=oe.catch(28),oe.t1.message!=="INVALID"){oe.next=42;break}throw new L.jk((0,H.t)("alerts.imageDoesNotContainScene"),"IMAGE_NOT_CONTAINS_SCENE_DATA");case 42:throw new L.jk((0,H.t)("alerts.cannotRestoreFromImage"));case 43:return oe.abrupt("return",ne);case 44:case"end":return oe.stop()}},fe,null,[[1,9],[28,36]])}));return function(fe){return de.apply(this,arguments)}}(),Q=function(de){var fe;return de&&((fe=de.name.match(/\.(json|excalidraw|png|svg)$/))===null||fe===void 0?void 0:fe[1])||null},K=function(de){return de==="png"||de==="svg"},T=function(de){var fe=Q(de);return fe==="png"||fe==="svg"},B=function(de){var fe=(de||{}).type;return!!fe&&Object.values(d.KL).includes(fe)},O=function(){var de=(0,b.Z)(N().mark(function fe(pe,ne,oe,be){var Me,Ge;return N().wrap(function(qe){for(;;)switch(qe.prev=qe.next){case 0:return qe.next=2,J(pe);case 2:Me=qe.sent,qe.prev=3,qe.prev=4,Ge=JSON.parse(Me),qe.next=13;break;case 8:if(qe.prev=8,qe.t0=qe.catch(4),!B(pe)){qe.next=12;break}throw new L.jk((0,H.t)("alerts.imageDoesNotContainScene"),"IMAGE_NOT_CONTAINS_SCENE_DATA");case 12:throw qe.t0;case 13:if(!(0,ve.dS)(Ge)){qe.next=17;break}return qe.abrupt("return",{type:d.LO.excalidraw,data:(0,ke.nu)({elements:(0,j._M)(Ge.elements||[]),appState:ge(ge({theme:ne==null?void 0:ne.theme,fileHandle:be||pe.handle||null},(0,f.s)(Ge.appState||{})),ne?(0,x.W)(Ge.elements||[],ne):{}),files:Ge.files},ne,oe,{repairBindings:!0,refreshDimensions:!1})});case 17:if(!(0,ve.HT)(Ge)){qe.next=19;break}return qe.abrupt("return",{type:d.LO.excalidrawlib,data:Ge});case 19:case 26:throw new Error((0,H.t)("alerts.couldNotLoadInvalidFile"));case 22:if(qe.prev=22,qe.t1=qe.catch(3),!(qe.t1 instanceof L.jk)){qe.next=26;break}throw qe.t1;case 27:case"end":return qe.stop()}},fe,null,[[3,22],[4,8]])}));return function(fe,pe,ne,oe){return de.apply(this,arguments)}}(),R=function(){var de=(0,b.Z)(N().mark(function fe(pe,ne,oe,be){var Me;return N().wrap(function(Ge){for(;;)switch(Ge.prev=Ge.next){case 0:return Ge.next=2,O(pe,ne,oe,be);case 2:if((Me=Ge.sent).type===d.LO.excalidraw){Ge.next=5;break}throw new Error((0,H.t)("alerts.couldNotLoadInvalidFile"));case 5:return Ge.abrupt("return",Me.data);case 6:case"end":return Ge.stop()}},fe)}));return function(fe,pe,ne,oe){return de.apply(this,arguments)}}(),E=function(de){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"unpublished",pe=JSON.parse(de);if(!(0,ve.HT)(pe))throw new Error("Invalid library");var ne=pe.libraryItems||pe.library;return(0,ke.wJ)(ne,fe)},v=function(){var de=(0,b.Z)(N().mark(function fe(pe){var ne,oe=arguments;return N().wrap(function(be){for(;;)switch(be.prev=be.next){case 0:return ne=oe.length>1&&oe[1]!==void 0?oe[1]:"unpublished",be.t0=E,be.next=4,J(pe);case 4:return be.t1=be.sent,be.t2=ne,be.abrupt("return",(0,be.t0)(be.t1,be.t2));case 7:case"end":return be.stop()}},fe)}));return function(fe){return de.apply(this,arguments)}}(),i=function(){var de=(0,b.Z)(N().mark(function fe(pe){return N().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return ne.abrupt("return",new Promise(function(){var oe=(0,b.Z)(N().mark(function be(Me,Ge){return N().wrap(function(qe){for(;;)switch(qe.prev=qe.next){case 0:if(qe.prev=0,!(0,S.y8)(pe)){qe.next=5;break}return qe.next=4,pe;case 4:pe=qe.sent;case 5:pe.toBlob(function(Ne){if(!Ne)return Ge(new L.lp((0,H.t)("canvasError.canvasTooBig"),"CANVAS_POSSIBLY_TOO_BIG"));Me(Ne)}),qe.next=11;break;case 8:qe.prev=8,qe.t0=qe.catch(0),Ge(qe.t0);case 11:case"end":return qe.stop()}},be,null,[[0,8]])}));return function(be,Me){return oe.apply(this,arguments)}}()));case 1:case"end":return ne.stop()}},fe)}));return function(fe){return de.apply(this,arguments)}}(),a=function(){var de=(0,b.Z)(N().mark(function fe(pe){var ne;return N().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:return oe.prev=0,oe.t0=window.crypto.subtle,oe.next=4,le(pe);case 4:return oe.t1=oe.sent,oe.next=7,oe.t0.digest.call(oe.t0,"SHA-1",oe.t1);case 7:return ne=oe.sent,oe.abrupt("return",(0,S.G3)(new Uint8Array(ne)));case 11:return oe.prev=11,oe.t2=oe.catch(0),console.error(oe.t2),oe.abrupt("return",(0,M.x0)(40));case 15:case"end":return oe.stop()}},fe,null,[[0,11]])}));return function(fe){return de.apply(this,arguments)}}(),y=function(){var de=(0,b.Z)(N().mark(function fe(pe){return N().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return ne.abrupt("return",new Promise(function(oe,be){var Me=new FileReader;Me.onload=function(){var Ge=Me.result;oe(Ge)},Me.onerror=function(Ge){return be(Ge)},Me.readAsDataURL(pe)}));case 1:case"end":return ne.stop()}},fe)}));return function(fe){return de.apply(this,arguments)}}(),h=function(de){for(var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",pe=de.indexOf(","),ne=atob(de.slice(pe+1)),oe=de.slice(0,pe).split(":")[1].split(";")[0],be=new ArrayBuffer(ne.length),Me=new Uint8Array(be),Ge=0;Ge<ne.length;Ge++)Me[Ge]=ne.charCodeAt(Ge);return new File([be],fe,{type:oe})},m=function(){var de=(0,b.Z)(N().mark(function fe(pe,ne){var oe,be,Me,Ge,qe,Ne;return N().wrap(function(Pe){for(;;)switch(Pe.prev=Pe.next){case 0:if(pe.type!==d.LO.svg){Pe.next=2;break}return Pe.abrupt("return",pe);case 2:return Pe.next=4,Promise.all([n.e(4736).then(n.t.bind(n,4881,23)).then(function(Re){return Re.default}),n.e(4736).then(n.bind(n,5446)).then(function(Re){return Re.default})]);case 4:if(oe=Pe.sent,be=(0,A.Z)(oe,2),Me=be[0],Ge=be[1],qe=Ge({pica:Me({features:["js","wasm"]})}),ne.outputType&&(Ne=ne.outputType,qe._create_blob=function(Re){return this.pica.toBlob(Re.out_canvas,Ne,.8).then(function(Ze){return Re.out_blob=Ze,Re})}),B(pe)){Pe.next=12;break}throw new Error((0,H.t)("errors.unsupportedFileType"));case 12:return Pe.t0=File,Pe.next=15,qe.toBlob(pe,{max:ne.maxWidthOrHeight});case 15:return Pe.t1=Pe.sent,Pe.t2=[Pe.t1],Pe.t3=pe.name,Pe.t4={type:ne.outputType||pe.type},Pe.abrupt("return",new Pe.t0(Pe.t2,Pe.t3,Pe.t4));case 20:case"end":return Pe.stop()}},fe)}));return function(fe,pe){return de.apply(this,arguments)}}(),C=function(de){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return new File([new TextEncoder().encode(de)],fe,{type:d.LO.svg})},U=function(){var de=(0,b.Z)(N().mark(function fe(pe){var ne,oe,be,Me,Ge=arguments;return N().wrap(function(qe){for(;;)switch(qe.prev=qe.next){case 0:return ne=Ge.length>1&&Ge[1]!==void 0?Ge[1]:"",qe.prev=1,qe.next=4,fetch(pe);case 4:oe=qe.sent,qe.next=10;break;case 7:throw qe.prev=7,qe.t0=qe.catch(1),new Error((0,H.t)("errors.failedToFetchImage"));case 10:if(oe.ok){qe.next=12;break}throw new Error((0,H.t)("errors.failedToFetchImage"));case 12:return qe.next=14,oe.blob();case 14:if(!(be=qe.sent).type||!B(be)){qe.next=18;break}return Me=ne||be.name||"",qe.abrupt("return",new File([be],Me,{type:be.type}));case 18:throw new Error((0,H.t)("errors.unsupportedFileType"));case 19:case"end":return qe.stop()}},fe,null,[[1,7]])}));return function(fe){return de.apply(this,arguments)}}(),V=function(){var de=(0,b.Z)(N().mark(function fe(pe){var ne,oe;return N().wrap(function(be){for(;;)switch(be.prev=be.next){case 0:return ne=pe.dataTransfer.files.item(0),be.next=3,D(pe);case 3:if(oe=be.sent,!ne){be.next=10;break}return be.next=7,X(ne);case 7:be.t0=be.sent,be.next=11;break;case 10:be.t0=null;case 11:return be.t1=be.t0,be.t2=oe,be.abrupt("return",{file:be.t1,fileHandle:be.t2});case 14:case"end":return be.stop()}},fe)}));return function(fe){return de.apply(this,arguments)}}(),D=function(){var de=(0,b.Z)(N().mark(function fe(pe){var ne,oe;return N().wrap(function(be){for(;;)switch(be.prev=be.next){case 0:if(!q.kr){be.next=16;break}return be.prev=1,ne=pe.dataTransfer.items[0],be.next=5,ne.getAsFileSystemHandle();case 5:if(be.t0=be.sent,be.t0){be.next=8;break}be.t0=null;case 8:return oe=be.t0,be.abrupt("return",oe);case 12:return be.prev=12,be.t1=be.catch(1),console.warn(be.t1.name,be.t1.message),be.abrupt("return",null);case 16:return be.abrupt("return",null);case 17:case"end":return be.stop()}},fe,null,[[1,12]])}));return function(fe){return de.apply(this,arguments)}}(),P=function(de){var fe=null,pe="".concat((0,r.Z)(new Uint8Array(de).slice(0,8)).join(" ")," "),ne="255 216 255 ",oe="71 73 70 56 57 97 ";return pe==="137 80 78 71 13 10 26 10 "?fe=d.LO.png:pe.startsWith(ne)?fe=d.LO.jpg:pe.startsWith(oe)&&(fe=d.LO.gif),fe},F=function(de,fe,pe){return new File([de],pe||"",{type:fe})},X=function(){var de=(0,b.Z)(N().mark(function fe(pe){var ne,oe,be,Me,Ge,qe,Ne,Pe;return N().wrap(function(Re){for(;;)switch(Re.prev=Re.next){case 0:if(pe.type){Re.next=28;break}if((ne=pe)===null||ne===void 0||(oe=ne.name)===null||oe===void 0||!oe.endsWith(".excalidrawlib")){Re.next=11;break}return Re.t0=F,Re.next=5,le(pe);case 5:Re.t1=Re.sent,Re.t2=d.LO.excalidrawlib,Re.t3=pe.name,pe=(0,Re.t0)(Re.t1,Re.t2,Re.t3),Re.next=26;break;case 11:if((be=pe)===null||be===void 0||(Me=be.name)===null||Me===void 0||!Me.endsWith(".excalidraw")){Re.next=21;break}return Re.t4=F,Re.next=15,le(pe);case 15:Re.t5=Re.sent,Re.t6=d.LO.excalidraw,Re.t7=pe.name,pe=(0,Re.t4)(Re.t5,Re.t6,Re.t7),Re.next=26;break;case 21:return Re.next=23,le(pe);case 23:Ge=Re.sent,(qe=P(Ge))&&(pe=F(Ge,qe,pe.name));case 26:Re.next=34;break;case 28:if(!B(pe)){Re.next=34;break}return Re.next=31,le(pe);case 31:Ne=Re.sent,(Pe=P(Ne))&&Pe!==pe.type&&(pe=F(Ne,Pe,pe.name));case 34:return Re.abrupt("return",pe);case 35:case"end":return Re.stop()}},fe)}));return function(fe){return de.apply(this,arguments)}}(),le=function(de){return"arrayBuffer"in de?de.arrayBuffer():new Promise(function(fe,pe){var ne=new FileReader;ne.onload=function(oe){var be;if((be=oe.target)===null||be===void 0||!be.result)return pe(new Error("Couldn't convert blob to ArrayBuffer"));fe(oe.target.result)},ne.readAsArrayBuffer(de)})}},6548:function(We,ue,n){n.d(ue,{I$:function(){return H},NL:function(){return x},kr:function(){return b}});var r=n(1930),A=n(8950),k=n(2975),b=function(){if(typeof self>"u")return!1;if(!("top"in self&&self!==top)){if("showOpenFilePicker"in self)return"showOpenFilePicker"}return!1}(),w=b?n.e(4736).then(n.bind(n,7464)):n.e(4736).then(n.bind(n,3948));function N(){return N=(0,A.Z)(k.mark(function S(){var q,ve=arguments;return k.wrap(function(ke){for(;;)switch(ke.prev=ke.next){case 0:return ke.next=2,w;case 2:return ke.abrupt("return",(q=ke.sent).default.apply(q,ve));case 3:case"end":return ke.stop()}},S)})),N.apply(this,arguments)}b?n.e(4736).then(n.bind(n,4036)):n.e(4736).then(n.bind(n,7693));var M=b?n.e(4736).then(n.bind(n,357)):n.e(4736).then(n.bind(n,341));function f(){return f=(0,A.Z)(k.mark(function S(){var q,ve=arguments;return k.wrap(function(ke){for(;;)switch(ke.prev=ke.next){case 0:return ke.next=2,M;case 2:return ke.abrupt("return",(q=ke.sent).default.apply(q,ve));case 3:case"end":return ke.stop()}},S)})),f.apply(this,arguments)}var d=n(9937),j=n(3506),L=n(9827),H=function(S){var q,ve,ke,Se=(q=S.extensions)===null||q===void 0?void 0:q.reduce(function(J,Q){return J.push(d.LO[Q]),J},[]),ge=(ve=S.extensions)===null||ve===void 0?void 0:ve.reduce(function(J,Q){return Q==="jpg"?J.concat(".jpg",".jpeg"):J.concat(".".concat(Q))},[]);return function(){return N.apply(this,arguments)}({description:S.description,extensions:ge,mimeTypes:Se,multiple:(ke=S.multiple)!==null&&ke!==void 0&&ke,legacySetup:function(J,Q,K){var T=(0,L.Ds)(Q,500),B=function(){O(),document.addEventListener(d.Ks.KEYUP,T),document.addEventListener(d.Ks.POINTER_UP,T),T()},O=function(){var E;if((E=K.files)!==null&&E!==void 0&&E.length){var v=S.multiple?(0,r.Z)(K.files):K.files[0];J(v)}};requestAnimationFrame(function(){window.addEventListener(d.Ks.FOCUS,B)});var R=window.setInterval(function(){O()},500);return function(E){clearInterval(R),T.cancel(),window.removeEventListener(d.Ks.FOCUS,B),document.removeEventListener(d.Ks.KEYUP,T),document.removeEventListener(d.Ks.POINTER_UP,T),E&&(console.warn("Opening the file was canceled (legacy-fs)."),E(new j._L))}}})},x=function(S,q){return function(){return f.apply(this,arguments)}(S,{fileName:"".concat(q.name,".").concat(q.extension),description:q.description,extensions:[".".concat(q.extension)]},q.fileHandle)}},250:function(We,ue,n){n.r(ue),n.d(ue,{decodePngMetadata:function(){return Q},decodeSvgMetadata:function(){return T},encodePngMetadata:function(){return J},encodeSvgMetadata:function(){return K},getTEXtChunk:function(){return ge}});var r=n(8950),A=n(2975),k=n.n(A),b=n(2983),w=n.n(b),N=n(1194),M=n(3434),f=n.n(M),d=n(2744),j=n(9937),L=n(5796),H=function(B){return new Promise(function(O,R){var E=typeof B=="string"?new Blob([new TextEncoder().encode(B)]):new Blob([B instanceof Uint8Array?B:new Uint8Array(B)]),v=new FileReader;v.onload=function(i){if(!i.target||typeof i.target.result!="string")return R(new Error("couldn't convert to byte string"));O(i.target.result)},v.readAsBinaryString(E)})},x=function(B){for(var O=new ArrayBuffer(B.length),R=new Uint8Array(O),E=0,v=B.length;E<v;E++)R[E]=B.charCodeAt(E);return O},S=function(B){return new TextDecoder("utf-8").decode(x(B))},q=function(){var B=(0,r.Z)(k().mark(function O(R){var E=arguments;return k().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(!(E.length>1&&E[1]!==void 0&&E[1])){v.next=5;break}v.t0=window.btoa(R),v.next=10;break;case 5:return v.t1=window,v.next=8,H(R);case 8:v.t2=v.sent,v.t0=v.t1.btoa.call(v.t1,v.t2);case 10:return v.abrupt("return",v.t0);case 11:case"end":return v.stop()}},O)}));return function(O){return B.apply(this,arguments)}}(),ve=function(){var B=(0,r.Z)(k().mark(function O(R){var E,v=arguments;return k().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return E=v.length>1&&v[1]!==void 0&&v[1],i.abrupt("return",E?window.atob(R):S(window.atob(R)));case 2:case"end":return i.stop()}},O)}));return function(O){return B.apply(this,arguments)}}(),ke=function(){var B=(0,r.Z)(k().mark(function O(R){var E,v;return k().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(E=R.text,R.compress===!1){i.next=11;break}return i.prev=2,i.next=5,H((0,d.deflate)(E));case 5:v=i.sent,i.next=11;break;case 8:i.prev=8,i.t0=i.catch(2),console.error("encode: cannot deflate",i.t0);case 11:if(i.t1=!!v,i.t2=v,i.t2){i.next=17;break}return i.next=16,H(E);case 16:i.t2=i.sent;case 17:return i.t3=i.t2,i.abrupt("return",{version:"1",encoding:"bstring",compressed:i.t1,encoded:i.t3});case 19:case"end":return i.stop()}},O,null,[[2,8]])}));return function(O){return B.apply(this,arguments)}}(),Se=function(){var B=(0,r.Z)(k().mark(function O(R){var E;return k().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:v.t0=R.encoding,v.next=v.t0==="bstring"?3:12;break;case 3:if(!R.compressed){v.next=7;break}v.t1=R.encoded,v.next=10;break;case 7:return v.next=9,S(R.encoded);case 9:v.t1=v.sent;case 10:return E=v.t1,v.abrupt("break",13);case 12:throw new Error('decode: unknown encoding "'.concat(R.encoding,'"'));case 13:if(!R.compressed){v.next=15;break}return v.abrupt("return",(0,d.inflate)(new Uint8Array(x(E)),{to:"string"}));case 15:return v.abrupt("return",E);case 16:case"end":return v.stop()}},O)}));return function(O){return B.apply(this,arguments)}}(),ge=function(){var B=(0,r.Z)(k().mark(function O(R){var E,v;return k().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=w(),i.t1=Uint8Array,i.next=4,(0,L.vZ)(R);case 4:if(i.t2=i.sent,i.t3=new i.t1(i.t2),E=(0,i.t0)(i.t3),!(v=E.find(function(a){return a.name==="tEXt"}))){i.next=10;break}return i.abrupt("return",N.decode(v.data));case 10:return i.abrupt("return",null);case 11:case"end":return i.stop()}},O)}));return function(O){return B.apply(this,arguments)}}(),J=function(){var B=(0,r.Z)(k().mark(function O(R){var E,v,i,a;return k().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return E=R.blob,v=R.metadata,y.t0=w(),y.t1=Uint8Array,y.next=5,(0,L.vZ)(E);case 5:return y.t2=y.sent,y.t3=new y.t1(y.t2),i=(0,y.t0)(y.t3),y.t4=N,y.t5=j.LO.excalidraw,y.t6=JSON,y.next=13,ke({text:v,compress:!0});case 13:return y.t7=y.sent,y.t8=y.t6.stringify.call(y.t6,y.t7),a=y.t4.encode.call(y.t4,y.t5,y.t8),i.splice(-1,0,a),y.abrupt("return",new Blob([f()(i)],{type:j.LO.png}));case 18:case"end":return y.stop()}},O)}));return function(O){return B.apply(this,arguments)}}(),Q=function(){var B=(0,r.Z)(k().mark(function O(R){var E,v;return k().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,ge(R);case 2:if(((E=i.sent)==null?void 0:E.keyword)!==j.LO.excalidraw){i.next=19;break}if(i.prev=4,"encoded"in(v=JSON.parse(E.text))){i.next=10;break}if(!("type"in v)||v.type!==j.r8.excalidraw){i.next=9;break}return i.abrupt("return",E.text);case 9:throw new Error("FAILED");case 10:return i.next=12,Se(v);case 12:return i.abrupt("return",i.sent);case 15:throw i.prev=15,i.t0=i.catch(4),console.error(i.t0),new Error("FAILED");case 19:throw new Error("INVALID");case 20:case"end":return i.stop()}},O,null,[[4,15]])}));return function(O){return B.apply(this,arguments)}}(),K=function(){var B=(0,r.Z)(k().mark(function O(R){var E,v,i;return k().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return E=R.text,a.t0=q,a.t1=JSON,a.next=5,ke({text:E});case 5:return a.t2=a.sent,a.t3=a.t1.stringify.call(a.t1,a.t2),a.next=9,(0,a.t0)(a.t3,!0);case 9:return v=a.sent,i="",i+="<!-- payload-type:".concat(j.LO.excalidraw," -->"),i+="<!-- payload-version:2 -->",i+="<!-- payload-start -->",i+=v,i+="<!-- payload-end -->",a.abrupt("return",i);case 17:case"end":return a.stop()}},O)}));return function(O){return B.apply(this,arguments)}}(),T=function(){var B=(0,r.Z)(k().mark(function O(R){var E,v,i,a,y,h,m;return k().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(!(E=R.svg).includes("payload-type:".concat(j.LO.excalidraw))){C.next=26;break}if(v=E.match(/<!-- payload-start -->\s*(.+?)\s*<!-- payload-end -->/)){C.next=5;break}throw new Error("INVALID");case 5:return i=E.match(/<!-- payload-version:(\d+) -->/),a=(i==null?void 0:i[1])||"1",y=a!=="1",C.prev=8,C.next=11,ve(v[1],y);case 11:if(h=C.sent,"encoded"in(m=JSON.parse(h))){C.next=17;break}if(!("type"in m)||m.type!==j.r8.excalidraw){C.next=16;break}return C.abrupt("return",h);case 16:throw new Error("FAILED");case 17:return C.next=19,Se(m);case 19:return C.abrupt("return",C.sent);case 22:throw C.prev=22,C.t0=C.catch(8),console.error(C.t0),new Error("FAILED");case 26:throw new Error("INVALID");case 27:case"end":return C.stop()}},O,null,[[8,22]])}));return function(O){return B.apply(this,arguments)}}()},2435:function(We,ue,n){n.d(ue,{HD:function(){return q},Um:function(){return S.Um},cT:function(){return H.cT},n8:function(){return S.n8},p1:function(){return ve}});var r=n(8950),A=n(2975),k=n.n(A),b=n(4694),w=n(9937),N=n(7651),M=n(8227),f=n(6013),d=n(4105),j=n(3668),L=n(9827),H=n(5796),x=n(6548),S=n(4419),q=function(ke,Se,ge){var J=Se.selectedElementIds;ke=(0,N.Lm)(ke);var Q=ge&&(0,d.N)(ke,{selectedElementIds:J}),K=null,T=Q?(0,d.eD)(ke,{selectedElementIds:J},{includeBoundTextElement:!0}):ke;return Q&&(T.length===1&&(0,N.He)(T[0])?(K=T[0],T=(0,f.Xs)({elements:ke,bounds:K,type:"overlap"})):T.length>1&&(T=(0,d.eD)(ke,{selectedElementIds:J},{includeBoundTextElement:!0,includeElementsInFrames:!0}))),{exportingFrame:K,exportedElements:(0,L.xU)(T)}},ve=function(){var ke=(0,r.Z)(k().mark(function Se(ge,J,Q,K,T){var B,O,R,E,v,i,a,y,h,m,C,U,V;return k().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(B=T.exportBackground,O=T.exportPadding,R=O===void 0?w.qy:O,E=T.viewBackgroundColor,v=T.name,i=T.fileHandle,a=i===void 0?null:i,y=T.exportingFrame,h=y===void 0?null:y,J.length!==0){D.next=3;break}throw new Error((0,M.t)("alerts.cannotExportEmptyCanvas"));case 3:if(ge!=="svg"&&ge!=="clipboard-svg"){D.next=17;break}return D.next=6,(0,j.$D)(J,{exportBackground:B,exportWithDarkMode:Q.exportWithDarkMode,viewBackgroundColor:E,exportPadding:R,exportScale:Q.exportScale,exportEmbedScene:Q.exportEmbedScene&&ge==="svg"},K,{exportingFrame:h});case 6:if(m=D.sent,ge!=="svg"){D.next=13;break}return D.next=10,(0,x.NL)(new Blob([m.outerHTML],{type:w.LO.svg}),{description:"Export to SVG",name:v,extension:Q.exportEmbedScene?"excalidraw.svg":"svg",fileHandle:a});case 10:return D.abrupt("return",D.sent);case 13:if(ge!=="clipboard-svg"){D.next=17;break}return D.next=16,(0,b.dd)(m.outerHTML);case 16:return D.abrupt("return");case 17:if(C=(0,j.NL)(J,Q,K,{exportBackground:B,viewBackgroundColor:E,exportPadding:R,exportingFrame:h}),ge!=="png"){D.next=33;break}return D.next=21,(0,H._c)(C);case 21:if(U=D.sent,!Q.exportEmbedScene){D.next=28;break}return D.next=25,Promise.resolve().then(n.bind(n,250));case 25:return D.next=27,D.sent.encodePngMetadata({blob:U,metadata:(0,S.I_)(J,Q,K,"local")});case 27:U=D.sent;case 28:return D.next=30,(0,x.NL)(U,{description:"Export to PNG",name:v,extension:"png",fileHandle:a});case 30:return D.abrupt("return",D.sent);case 33:if(ge!=="clipboard"){D.next=52;break}return D.prev=34,V=(0,H._c)(C),D.next=38,(0,b.uR)(V);case 38:D.next=50;break;case 40:if(D.prev=40,D.t0=D.catch(34),console.warn(D.t0),D.t0.name!=="CANVAS_POSSIBLY_TOO_BIG"){D.next=45;break}throw D.t0;case 45:if(!w.vU||D.t0.name!=="TypeError"){D.next=49;break}throw new Error("".concat((0,M.t)("alerts.couldNotCopyToClipboard"),`

`).concat((0,M.t)("hints.firefox_clipboard_write")));case 49:throw new Error((0,M.t)("alerts.couldNotCopyToClipboard"));case 50:D.next=53;break;case 52:throw new Error("Unsupported export type");case 53:case"end":return D.stop()}},Se,null,[[34,40]])}));return function(Se,ge,J,Q,K){return ke.apply(this,arguments)}}()},4419:function(We,ue,n){n.d(ue,{HT:function(){return ke},I_:function(){return x},NI:function(){return Se},Um:function(){return S},dS:function(){return ve},n8:function(){return q},t1:function(){return ge}});var r=n(6655),A=n(8950),k=n(2975),b=n.n(k),w=n(6548),N=n(6853),M=n(9937),f=n(7651),d=n(5796);function j(J,Q){var K=typeof Symbol<"u"&&J[Symbol.iterator]||J["@@iterator"];if(!K){if(Array.isArray(J)||(K=function(v,i){if(v){if(typeof v=="string")return L(v,i);var a=Object.prototype.toString.call(v).slice(8,-1);if(a==="Object"&&v.constructor&&(a=v.constructor.name),a==="Map"||a==="Set")return Array.from(v);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return L(v,i)}}(J))||Q){K&&(J=K);var T=0,B=function(){};return{s:B,n:function(){return T>=J.length?{done:!0}:{done:!1,value:J[T++]}},e:function(v){throw v},f:B}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var O,R=!0,E=!1;return{s:function(){K=K.call(J)},n:function(){var v=K.next();return R=v.done,v},e:function(v){E=!0,O=v},f:function(){try{R||K.return==null||K.return()}finally{if(E)throw O}}}}function L(J,Q){(Q==null||Q>J.length)&&(Q=J.length);for(var K=0,T=new Array(Q);K<Q;K++)T[K]=J[K];return T}var H=function(J,Q){var K,T={},B=j(J);try{for(B.s();!(K=B.n()).done;){var O=K.value;!O.isDeleted&&"fileId"in O&&O.fileId&&Q[O.fileId]&&(T[O.fileId]=Q[O.fileId])}}catch(R){B.e(R)}finally{B.f()}return T},x=function(J,Q,K,T){var B={type:M.r8.excalidraw,version:M.Kr.excalidraw,source:M.pb,elements:T==="local"?(0,f._M)(J):(0,f.BQ)(J),appState:T==="local"?(0,N.s)(Q):(0,N.eS)(Q),files:T==="local"?H(J,K):void 0};return JSON.stringify(B,null,2)},S=function(){var J=(0,A.Z)(b().mark(function Q(K,T,B){var O,R,E;return b().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return O=x(K,T,B,"local"),R=new Blob([O],{type:M.LO.excalidraw}),v.next=4,(0,w.NL)(R,{name:T.name,extension:"excalidraw",description:"Excalidraw file",fileHandle:(0,d.g8)(T.fileHandle)?null:T.fileHandle});case 4:return E=v.sent,v.abrupt("return",{fileHandle:E});case 6:case"end":return v.stop()}},Q)}));return function(Q,K,T){return J.apply(this,arguments)}}(),q=function(){var J=(0,A.Z)(b().mark(function Q(K,T){var B;return b().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,(0,w.I$)({description:"Excalidraw files"});case 2:return B=O.sent,O.t0=d.cT,O.next=6,(0,d.gY)(B);case 6:return O.t1=O.sent,O.t2=K,O.t3=T,O.t4=B.handle,O.abrupt("return",(0,O.t0)(O.t1,O.t2,O.t3,O.t4));case 11:case"end":return O.stop()}},Q)}));return function(Q,K){return J.apply(this,arguments)}}(),ve=function(J){return(J==null?void 0:J.type)===M.r8.excalidraw&&(!J.elements||Array.isArray(J.elements)&&(!J.appState||(0,r.Z)(J.appState)==="object"))},ke=function(J){return(0,r.Z)(J)==="object"&&J&&J.type===M.r8.excalidrawLibrary&&(J.version===1||J.version===2)},Se=function(J){var Q={type:M.r8.excalidrawLibrary,version:M.Kr.excalidrawLibrary,source:M.pb,libraryItems:J};return JSON.stringify(Q,null,2)},ge=function(){var J=(0,A.Z)(b().mark(function Q(K){var T;return b().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return T=Se(K),B.next=3,(0,w.NL)(new Blob([T],{type:M.LO.excalidrawlib}),{name:"library",extension:"excalidrawlib",description:"Excalidraw library file"});case 3:case"end":return B.stop()}},Q)}));return function(Q){return J.apply(this,arguments)}}()},9326:function(We,ue,n){n.d(ue,{Di:function(){return i},WV:function(){return v},rF:function(){return T},xS:function(){return a},zh:function(){return R}});var r=n(7169),A=n(8950),k=n(5169),b=n(8821),w=n(1930),N=n(2975),M=n.n(N),f=n(5796),d=n(7994),j=n(3607),L=n(453),H=n(4949),x=n(3506),S=n(8227),q=n(9787),ve=n(9937),ke=n(5832),Se=n(9827);function ge(y,h){var m=Object.keys(y);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(y);h&&(C=C.filter(function(U){return Object.getOwnPropertyDescriptor(y,U).enumerable})),m.push.apply(m,C)}return m}function J(y){for(var h=1;h<arguments.length;h++){var m=arguments[h]!=null?arguments[h]:{};h%2?ge(Object(m),!0).forEach(function(C){(0,r.Z)(y,C,m[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(m)):ge(Object(m)).forEach(function(C){Object.defineProperty(y,C,Object.getOwnPropertyDescriptor(m,C))})}return y}function Q(y,h){var m=typeof Symbol<"u"&&y[Symbol.iterator]||y["@@iterator"];if(!m){if(Array.isArray(y)||(m=function(F,X){if(F){if(typeof F=="string")return K(F,X);var le=Object.prototype.toString.call(F).slice(8,-1);if(le==="Object"&&F.constructor&&(le=F.constructor.name),le==="Map"||le==="Set")return Array.from(F);if(le==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(le))return K(F,X)}}(y))||h){m&&(y=m);var C=0,U=function(){};return{s:U,n:function(){return C>=y.length?{done:!0}:{done:!1,value:y[C++]}},e:function(F){throw F},f:U}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var V,D=!0,P=!1;return{s:function(){m=m.call(y)},n:function(){var F=m.next();return D=F.done,F},e:function(F){P=!0,V=F},f:function(){try{D||m.return==null||m.return()}finally{if(P)throw V}}}}function K(y,h){(h==null||h>y.length)&&(h=y.length);for(var m=0,C=new Array(h);m<h;m++)C[m]=y[m];return C}var T=(0,j.cn)({status:"loaded",isInitialized:!0,libraryItems:[]}),B=function(y){return(0,Se.xU)(y)},O=function(y,h){return!y.find(function(m){return m.elements.length===h.elements.length&&m.elements.every(function(C,U){return C.id===h.elements[U].id&&C.versionNonce===h.elements[U].versionNonce})})},R=function(y,h){var m,C=[],U=Q(h);try{for(U.s();!(m=U.n()).done;){var V=m.value;O(y,V)&&C.push(V)}}catch(D){U.e(D)}finally{U.f()}return[].concat(C,(0,w.Z)(y))},E=(0,k.Z)(function y(h){var m=this;(0,b.Z)(this,y),this.lastLibraryItems=[],this.isInitialized=!1,this.updateQueue=[],this.getLastUpdateTask=function(){return m.updateQueue[m.updateQueue.length-1]},this.notifyListeners=function(){if(m.updateQueue.length>0)L.e_.set(T,{status:"loading",libraryItems:m.lastLibraryItems,isInitialized:m.isInitialized});else{m.isInitialized=!0,L.e_.set(T,{status:"loaded",libraryItems:m.lastLibraryItems,isInitialized:m.isInitialized});try{var C,U;(C=(U=m.app.props).onLibraryChange)===null||C===void 0||C.call(U,B(m.lastLibraryItems))}catch(V){console.error(V)}}},this.destroy=function(){m.isInitialized=!1,m.updateQueue=[],m.lastLibraryItems=[],L.e_.set(ke.YX,new Map)},this.resetLibrary=function(){return m.setLibrary([])},this.getLatestLibrary=function(){return new Promise(function(){var C=(0,A.Z)(M().mark(function U(V){var D;return M().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.prev=0,P.next=3,m.getLastUpdateTask()||m.lastLibraryItems;case 3:D=P.sent,m.updateQueue.length>0?V(m.getLatestLibrary()):V(B(D)),P.next=10;break;case 7:return P.prev=7,P.t0=P.catch(0),P.abrupt("return",V(m.lastLibraryItems));case 10:case"end":return P.stop()}},U,null,[[0,7]])}));return function(U){return C.apply(this,arguments)}}())},this.updateLibrary=function(){var C=(0,A.Z)(M().mark(function U(V){var D,P,F,X,le,de,fe,pe,ne;return M().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:return D=V.libraryItems,P=V.prompt,F=P!==void 0&&P,X=V.merge,le=X!==void 0&&X,de=V.openLibraryMenu,fe=de!==void 0&&de,pe=V.defaultStatus,ne=pe===void 0?"unpublished":pe,fe&&m.app.setState({openSidebar:{name:ve.Cc.name,tab:ve.tf}}),oe.abrupt("return",m.setLibrary(function(){return new Promise(function(){var be=(0,A.Z)(M().mark(function Me(Ge,qe){var Ne,Pe;return M().wrap(function(Re){for(;;)switch(Re.prev=Re.next){case 0:return Re.prev=0,Re.next=3,typeof D!="function"||D instanceof Blob?D:D(m.lastLibraryItems);case 3:if(!((Ne=Re.sent)instanceof Blob)){Re.next=10;break}return Re.next=7,(0,f.lV)(Ne,ne);case 7:Pe=Re.sent,Re.next=11;break;case 10:Pe=(0,d.wJ)(Ne,ne);case 11:!F||window.confirm((0,S.t)("alerts.confirmAddLibrary",{numShapes:Pe.length}))?(F&&m.app.focusContainer(),Ge(le?R(m.lastLibraryItems,Pe):Pe)):qe(new x._L),Re.next=17;break;case 14:Re.prev=14,Re.t0=Re.catch(0),qe(Re.t0);case 17:case"end":return Re.stop()}},Me,null,[[0,14]])}));return function(Me,Ge){return be.apply(this,arguments)}}())}));case 3:case"end":return oe.stop()}},U)}));return function(U){return C.apply(this,arguments)}}(),this.setLibrary=function(C){var U=new Promise(function(){var V=(0,A.Z)(M().mark(function D(P,F){return M().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return X.prev=0,X.next=3,m.getLastUpdateTask();case 3:return typeof C=="function"&&(C=C(m.lastLibraryItems)),X.t0=B,X.next=7,C;case 7:X.t1=X.sent,m.lastLibraryItems=(0,X.t0)(X.t1),P(m.lastLibraryItems),X.next=15;break;case 12:X.prev=12,X.t2=X.catch(0),F(X.t2);case 15:case"end":return X.stop()}},D,null,[[0,12]])}));return function(D,P){return V.apply(this,arguments)}}()).catch(function(V){if(V.name==="AbortError")return console.warn("Library update aborted by user"),m.lastLibraryItems;throw V}).finally(function(){m.updateQueue=m.updateQueue.filter(function(V){return V!==U}),m.notifyListeners()});return m.updateQueue.push(U),m.notifyListeners(),U},this.app=h});ue.ZP=E;var v=function(y){var h,m=Math.ceil(Math.sqrt(y.length)),C=[],U=0,V=0,D=0,P=0,F=0,X=0,le=0,de=Q(y);try{var fe=function(){var pe=h.value;F&&F%m==0&&(V+=D+50,U=0,X=0,le++),X===0&&(D=function(Pe){return y.slice(Pe*m,Pe*m+m).reduce(function(Re,Ze){var Ie=(0,H.v2)(Ze.elements).height;return Math.max(Re,Ie)},0)}(le)),P=function(Pe){var Re,Ze=0,Ie=0,Ee=0,xe=Q(y);try{for(xe.s();!(Re=xe.n()).done;){var Z=Re.value;if(Ze%m==0&&(Ie=0),Ie===Pe){var u=(0,H.v2)(Z.elements).width;Ee=Math.max(Ee,u)}Ze++,Ie++}}catch(g){xe.e(g)}finally{xe.f()}return Ee}(X);var ne=(0,H.v2)(pe.elements),oe=ne.minX,be=ne.minY,Me=ne.width,Ge=ne.height,qe=(P-Me)/2,Ne=(D-Ge)/2;C.push.apply(C,(0,w.Z)(pe.elements.map(function(Pe){return J(J({},Pe),{},{x:Pe.x+U+qe-oe,y:Pe.y+V+Ne-be})}))),U+=P+50,F++,X++};for(de.s();!(h=de.n()).done;)fe()}catch(pe){de.e(pe)}finally{de.f()}return C},i=function(){var y=new URLSearchParams(window.location.hash.slice(1)).get(ve.ah.addLibrary)||new URLSearchParams(window.location.search).get(ve.UO.addLibrary),h=y?new URLSearchParams(window.location.hash.slice(1)).get("token"):null;return y?{libraryUrl:y,idToken:h}:null},a=function(y){var h=y.excalidrawAPI,m=y.getInitialLibraryItems,C=(0,q.useRef)(m);(0,q.useEffect)(function(){if(h){var U=function(){var P=(0,A.Z)(M().mark(function F(X){var le,de,fe,pe,ne,oe;return M().wrap(function(be){for(;;)switch(be.prev=be.next){case 0:return le=X.libraryUrl,de=X.idToken,fe=new Promise(function(){var Me=(0,A.Z)(M().mark(function Ge(qe,Ne){var Pe,Re;return M().wrap(function(Ze){for(;;)switch(Ze.prev=Ze.next){case 0:return Ze.prev=0,Ze.next=3,fetch(decodeURIComponent(le));case 3:return Pe=Ze.sent,Ze.next=6,Pe.blob();case 6:Re=Ze.sent,qe(Re),Ze.next=13;break;case 10:Ze.prev=10,Ze.t0=Ze.catch(0),Ne(Ze.t0);case 13:case"end":return Ze.stop()}},Ge,null,[[0,10]])}));return function(Ge,qe){return Me.apply(this,arguments)}}()),pe=de!==h.id,be.next=5,pe&&document.hidden?new Promise(function(Me){window.addEventListener("focus",function(){return Me()},{once:!0})}):null;case 5:return be.prev=5,be.next=8,h.updateLibrary({libraryItems:fe,prompt:pe,merge:!0,defaultStatus:"published",openLibraryMenu:!0});case 8:be.next=13;break;case 10:throw be.prev=10,be.t0=be.catch(5),be.t0;case 13:return be.prev=13,window.location.hash.includes(ve.ah.addLibrary)?((ne=new URLSearchParams(window.location.hash.slice(1))).delete(ve.ah.addLibrary),window.history.replaceState({},ve.iC,"#".concat(ne.toString()))):window.location.search.includes(ve.UO.addLibrary)&&((oe=new URLSearchParams(window.location.search)).delete(ve.UO.addLibrary),window.history.replaceState({},ve.iC,"?".concat(oe.toString()))),be.finish(13);case 16:case"end":return be.stop()}},F,null,[[5,10,13,16]])}));return function(F){return P.apply(this,arguments)}}(),V=function(P){P.preventDefault();var F=i();F&&(P.stopImmediatePropagation(),window.history.replaceState({},"",P.oldURL),U(F))};C.current&&h.updateLibrary({libraryItems:C.current()});var D=i();return D&&U(D),window.addEventListener(ve.Ks.HASHCHANGE,V),function(){window.removeEventListener(ve.Ks.HASHCHANGE,V)}}},[h])}},7994:function(We,ue,n){n.d(ue,{ET:function(){return B},lY:function(){return E},nu:function(){return v},wJ:function(){return a}});var r=n(2577),A=n(7169),k=n(7651),b=n(4183),w=n(4643),N=n(9937),M=n(6853),f=n(7422),d=n(583),j=n(9827),L=n(4761),H=n(8020);function x(y,h){var m=typeof Symbol<"u"&&y[Symbol.iterator]||y["@@iterator"];if(!m){if(Array.isArray(y)||(m=function(F,X){if(F){if(typeof F=="string")return S(F,X);var le=Object.prototype.toString.call(F).slice(8,-1);if(le==="Object"&&F.constructor&&(le=F.constructor.name),le==="Map"||le==="Set")return Array.from(F);if(le==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(le))return S(F,X)}}(y))||h){m&&(y=m);var C=0,U=function(){};return{s:U,n:function(){return C>=y.length?{done:!0}:{done:!1,value:y[C++]}},e:function(F){throw F},f:U}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var V,D=!0,P=!1;return{s:function(){m=m.call(y)},n:function(){var F=m.next();return D=F.done,F},e:function(F){P=!0,V=F},f:function(){try{D||m.return==null||m.return()}finally{if(P)throw V}}}}function S(y,h){(h==null||h>y.length)&&(h=y.length);for(var m=0,C=new Array(h);m<h;m++)C[m]=y[m];return C}function q(y,h){var m=Object.keys(y);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(y);h&&(C=C.filter(function(U){return Object.getOwnPropertyDescriptor(y,U).enumerable})),m.push.apply(m,C)}return m}function ve(y){for(var h=1;h<arguments.length;h++){var m=arguments[h]!=null?arguments[h]:{};h%2?q(Object(m),!0).forEach(function(C){(0,A.Z)(y,C,m[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(m)):q(Object(m)).forEach(function(C){Object.defineProperty(y,C,Object.getOwnPropertyDescriptor(m,C))})}return y}var ke={selection:!0,text:!0,rectangle:!0,diamond:!0,ellipse:!0,line:!0,image:!0,arrow:!0,freedraw:!0,eraser:!1,custom:!0,frame:!0,embeddable:!0,hand:!0,laser:!1},Se=function(y){return Object.keys(N.ut).includes(y)?N.ut[y]:N.rk},ge=function(y){return y?ve(ve({},y),{},{focus:y.focus||0}):null},J=function(y,h){var m,C,U,V,D,P,F,X,le,de,fe,pe,ne,oe,be={type:h.type||y.type,version:y.version||1,versionNonce:(m=y.versionNonce)!==null&&m!==void 0?m:0,isDeleted:(C=y.isDeleted)!==null&&C!==void 0&&C,id:y.id||(0,w.kb)(),fillStyle:y.fillStyle||N.HN.fillStyle,strokeWidth:y.strokeWidth||N.HN.strokeWidth,strokeStyle:(U=y.strokeStyle)!==null&&U!==void 0?U:N.HN.strokeStyle,roughness:(V=y.roughness)!==null&&V!==void 0?V:N.HN.roughness,opacity:y.opacity==null?N.HN.opacity:y.opacity,angle:y.angle||0,x:(D=(P=h.x)!==null&&P!==void 0?P:y.x)!==null&&D!==void 0?D:0,y:(F=(X=h.y)!==null&&X!==void 0?X:y.y)!==null&&F!==void 0?F:0,strokeColor:y.strokeColor||N.HN.strokeColor,backgroundColor:y.backgroundColor||N.HN.backgroundColor,width:y.width||0,height:y.height||0,seed:(le=y.seed)!==null&&le!==void 0?le:1,groupIds:(de=y.groupIds)!==null&&de!==void 0?de:[],frameId:(fe=y.frameId)!==null&&fe!==void 0?fe:null,roundness:y.roundness?y.roundness:y.strokeSharpness==="round"?{type:(0,b.QI)(y.type)?N.a6.LEGACY:N.a6.PROPORTIONAL_RADIUS}:null,boundElements:y.boundElementIds?y.boundElementIds.map(function(Me){return{type:"arrow",id:Me}}):(pe=y.boundElements)!==null&&pe!==void 0?pe:[],updated:(ne=y.updated)!==null&&ne!==void 0?ne:(0,j.C3)(),link:y.link?(0,H.$u)(y.link):null,locked:(oe=y.locked)!==null&&oe!==void 0&&oe};return"customData"in y&&(be.customData=y.customData),N.WR in y&&(be[N.WR]=y[N.WR]),ve(ve(ve({},be),(0,k.Qp)(be)),h)},Q=function(y,h){if(y.boundElements){var m=y.boundElements.slice(),C=new Set;y.boundElements=m.reduce(function(U,V){var D=h.get(V.id);if(D&&!C.has(V.id)){if(C.add(V.id),D.isDeleted)return U;U.push(V),(0,b.iB)(D)&&!D.containerId&&(D.containerId=y.id)}return U},[])}},K=function(y,h){var m=y.containerId?h.get(y.containerId):null;if(m){if(!y.isDeleted&&m.boundElements&&!m.boundElements.find(function(U){return U.id===y.id})){var C=(m.boundElements||(m.boundElements=[])).slice();C.push({type:"text",id:y.id}),m.boundElements=C}}else y.containerId=null},T=function(y,h){y.frameId&&(h.get(y.frameId)||(y.frameId=null))},B=function(y,h,m){var C=new Set,U=h?(0,j.xn)(h):null,V=(y||[]).reduce(function(le,de){if(de.type!=="selection"&&!(0,k.QD)(de)){var fe=function(ne){var oe,be,Me=arguments.length>1&&arguments[1]!==void 0&&arguments[1];switch(ne.type){case"text":var Ge=ne.fontSize,qe=ne.fontFamily;if("font"in ne){var Ne=ne.font.split(" "),Pe=(0,r.Z)(Ne,2),Re=Pe[0],Ze=Pe[1];Ge=parseFloat(Re),qe=Se(Ze)}var Ie=typeof ne.text=="string"&&ne.text||"",Ee=ne.lineHeight||(ne.height?(0,L.$2)(ne):(0,L.PT)(ne.fontFamily)),xe=(0,L.R8)(ne.text,(0,j.mO)(ne),Ee);return ne=J(ne,{fontSize:Ge,fontFamily:qe,text:Ie,textAlign:ne.textAlign||N.Hg,verticalAlign:ne.verticalAlign||N.hs,containerId:(oe=ne.containerId)!==null&&oe!==void 0?oe:null,originalText:ne.originalText||Ie,lineHeight:Ee,baseline:xe}),Ie||ne.isDeleted||(ne=ve(ve({},ne),{},{originalText:Ie,isDeleted:!0}),ne=(0,d.ZP)(ne)),Me&&(ne=ve(ve({},ne),(0,k.JZ)(ne))),ne;case"freedraw":return J(ne,{points:ne.points,lastCommittedPoint:null,simulatePressure:ne.simulatePressure,pressures:ne.pressures});case"image":return J(ne,{status:ne.status||"pending",fileId:ne.fileId,scale:ne.scale||[1,1]});case"line":case"draw":case"arrow":var Z=ne,u=Z.startArrowhead,g=u===void 0?null:u,z=Z.endArrowhead,Y=z===void 0?ne.type==="arrow"?"arrow":null:z,te=ne.x,ae=ne.y,ce=!Array.isArray(ne.points)||ne.points.length<2?[[0,0],[ne.width,ne.height]]:ne.points;if(ce[0][0]!==0||ce[0][1]!==0){var ye=f._.getNormalizedPoints(ne);ce=ye.points,te=ye.x,ae=ye.y}return J(ne,{type:ne.type==="draw"?"line":ne.type,startBinding:ge(ne.startBinding),endBinding:ge(ne.endBinding),lastCommittedPoint:null,startArrowhead:g,endArrowhead:Y,points:ce,x:te,y:ae});case"ellipse":case"rectangle":case"diamond":return J(ne,{});case"embeddable":return J(ne,{validated:null});case"frame":return J(ne,{name:(be=ne.name)!==null&&be!==void 0?be:null})}return null}(de,m==null?void 0:m.refreshDimensions);if(fe){var pe=U==null?void 0:U.get(de.id);pe&&pe.version>fe.version&&(fe=(0,d.ZP)(fe,pe.version)),C.has(fe.id)&&(fe=ve(ve({},fe),{},{id:(0,w.kb)()})),C.add(fe.id),le.push(fe)}}return le},[]);if(m==null||!m.repairBindings)return V;var D,P=(0,j.xn)(V),F=x(V);try{for(F.s();!(D=F.n()).done;){var X=D.value;X.frameId&&T(X,P),(0,b.iB)(X)&&X.containerId?K(X,P):X.boundElements&&Q(X,P)}}catch(le){F.e(le)}finally{F.f()}return V},O=function(y,h,m){var C=h[y];return C!==void 0?C:m[y]},R={isSidebarDocked:function(y,h){var m;return["defaultSidebarDockedPreference",(m=y.isSidebarDocked)!==null&&m!==void 0?m:O("defaultSidebarDockedPreference",y,h)]}},E=function(y,h){var m,C,U,V;y=y||{};for(var D=(0,M.im)(),P={},F=0,X=Object.keys(R);F<X.length;F++){var le=X[F];if(le in y){var de=R[le](y,D),fe=(0,r.Z)(de,2),pe=fe[0],ne=fe[1];P[pe]=ne}}for(var oe=0,be=Object.entries(D);oe<be.length;oe++){var Me=(0,r.Z)(be[oe],2),Ge=Me[0],qe=Me[1],Ne=y[Ge],Pe=h?h[Ge]:void 0;P[Ge]=Ne!==void 0?Ne:Pe!==void 0?Pe:qe}return ve(ve({},P),{},{cursorButton:(h==null?void 0:h.cursorButton)||"up",penDetected:(m=h==null?void 0:h.penDetected)!==null&&m!==void 0?m:!!y.penMode&&(C=y.penDetected)!==null&&C!==void 0&&C,activeTool:ve(ve({},(0,j.Om)(D,P.activeTool.type&&ke[P.activeTool.type]?P.activeTool:{type:"selection"})),{},{lastActiveTool:null,locked:(U=P.activeTool.locked)!==null&&U!==void 0&&U}),zoom:typeof y.zoom=="number"?{value:y.zoom}:(V=y.zoom)!==null&&V!==void 0&&V.value?y.zoom:D.zoom,openSidebar:typeof y.openSidebar=="string"?{name:N.Cc.name}:P.openSidebar})},v=function(y,h,m,C){return{elements:B(y==null?void 0:y.elements,m,C),appState:E(y==null?void 0:y.appState,h||null),files:(y==null?void 0:y.files)||{}}},i=function(y){var h=B((0,k.Lm)(y.elements),null);return h.length?ve(ve({},y),{},{elements:h}):null},a=function(){var y,h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],m=arguments.length>1?arguments[1]:void 0,C=[],U=x(h);try{for(U.s();!(y=U.n()).done;){var V=y.value;if(Array.isArray(V)){var D=i({status:m,elements:V,id:(0,w.kb)(),created:Date.now()});D&&C.push(D)}else{var P=V,F=i(ve(ve({},P),{},{id:P.id||(0,w.kb)(),status:P.status||m,created:P.created||Date.now()}));F&&C.push(F)}}}catch(X){U.e(X)}finally{U.f()}return C}},6199:function(We,ue,n){n.d(ue,{w:function(){return T}});var r=n(2577),A=n(5169),k=n(8821),b=n(7169),w=n(9937),N=n(7651),M=n(9645),f=n(5742),d=n(4761),j=n(9827),L=n(5999),H=n(4643);function x(B,O){var R=typeof Symbol<"u"&&B[Symbol.iterator]||B["@@iterator"];if(!R){if(Array.isArray(B)||(R=function(h,m){if(h){if(typeof h=="string")return S(h,m);var C=Object.prototype.toString.call(h).slice(8,-1);if(C==="Object"&&h.constructor&&(C=h.constructor.name),C==="Map"||C==="Set")return Array.from(h);if(C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C))return S(h,m)}}(B))||O){R&&(B=R);var E=0,v=function(){};return{s:v,n:function(){return E>=B.length?{done:!0}:{done:!1,value:B[E++]}},e:function(h){throw h},f:v}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,a=!0,y=!1;return{s:function(){R=R.call(B)},n:function(){var h=R.next();return a=h.done,h},e:function(h){y=!0,i=h},f:function(){try{a||R.return==null||R.return()}finally{if(y)throw i}}}}function S(B,O){(O==null||O>B.length)&&(O=B.length);for(var R=0,E=new Array(O);R<O;R++)E[R]=B[R];return E}function q(B,O){var R=Object.keys(B);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(B);O&&(E=E.filter(function(v){return Object.getOwnPropertyDescriptor(B,v).enumerable})),R.push.apply(R,E)}return R}function ve(B){for(var O=1;O<arguments.length;O++){var R=arguments[O]!=null?arguments[O]:{};O%2?q(Object(R),!0).forEach(function(E){(0,b.Z)(B,E,R[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors(R)):q(Object(R)).forEach(function(E){Object.defineProperty(B,E,Object.getOwnPropertyDescriptor(R,E))})}return B}var ke=100,Se=0,ge=100,J=function(B,O){var R=(0,f.VL)(ve(ve({x:0,y:0,textAlign:w.I8.CENTER,verticalAlign:w.oX.MIDDLE},O),{},{containerId:B.id,strokeColor:O.strokeColor||B.strokeColor}));return Object.assign(B,{boundElements:(B.boundElements||[]).concat({type:"text",id:R.id})}),(0,N.oN)(R,B),[B,R]},Q=function(B,O,R,E){var v,i;if(Object.assign(B,{startBinding:(B==null?void 0:B.startBinding)||null,endBinding:B.endBinding||null}),O){var a,y,h,m=(a=O==null?void 0:O.width)!==null&&a!==void 0?a:ge,C=(y=O==null?void 0:O.height)!==null&&y!==void 0?y:ge;O.id&&((h=E.getElement(O.id))||console.error("No element for start binding with id ".concat(O.id," found")));var U=O.x||B.x-m,V=O.y||B.y-C/2,D=h?h.type:O.type;if(D){if(D==="text"){var P="";h&&h.type==="text"?P=h.text:O.type==="text"&&(P=O.text),P||console.error("No text found for start binding text element for ".concat(B.id)),v=(0,f.VL)(ve(ve(ve({x:U,y:V,type:"text"},h),O),{},{text:P})),Object.assign(v,{x:O.x||B.x-v.width,y:O.y||B.y-v.height/2})}else switch(D){case"rectangle":case"ellipse":case"diamond":v=(0,N.Up)(ve(ve(ve({x:U,y:V,width:m,height:C},h),O),{},{type:D}));break;default:(0,j.vE)(B,'Unhandled element start type "'.concat(O.type,'"'),!0)}(0,M.UZ)(B,v,"start")}}if(R){var F,X,le,de=(F=R==null?void 0:R.height)!==null&&F!==void 0?F:ge,fe=(X=R==null?void 0:R.width)!==null&&X!==void 0?X:ge;R.id&&((le=E.getElement(R.id))||console.error("No element for end binding with id ".concat(R.id," found")));var pe=R.x||B.x+B.width,ne=R.y||B.y-de/2,oe=le?le.type:R.type;if(oe){if(oe==="text"){var be="";le&&le.type==="text"?be=le.text:R.type==="text"&&(be=R.text),be||console.error("No text found for end binding text element for ".concat(B.id)),i=(0,f.VL)(ve(ve(ve({x:pe,y:ne,type:"text"},le),R),{},{text:be})),Object.assign(i,{y:R.y||B.y-i.height/2})}else switch(oe){case"rectangle":case"ellipse":case"diamond":i=(0,N.Up)(ve(ve(ve({x:pe,y:ne,width:fe,height:de},le),R),{},{type:oe}));break;default:(0,j.vE)(B,'Unhandled element end type "'.concat(oe,'"'),!0)}(0,M.UZ)(B,i,"end")}}var Me=B.points.length-1,Ge=.5,qe=(0,j.xU)(B.points);return B.points[Me][0]>B.points[Me-1][0]&&(qe[0][0]=Ge,qe[Me][0]-=Ge),B.points[Me][0]<B.points[Me-1][0]&&(qe[0][0]=-.5,qe[Me][0]+=Ge),B.points[Me][1]>B.points[Me-1][1]&&(qe[0][1]=Ge,qe[Me][1]-=Ge),B.points[Me][1]<B.points[Me-1][1]&&(qe[0][1]=-.5,qe[Me][1]+=Ge),Object.assign(B,{points:qe}),{linearElement:B,startBoundElement:v,endBoundElement:i}},K=(0,A.Z)(function B(){var O=this;(0,k.Z)(this,B),this.excalidrawElements=new Map,this.add=function(R){R&&O.excalidrawElements.set(R.id,R)},this.getElements=function(){return Array.from(O.excalidrawElements.values())},this.getElement=function(R){return O.excalidrawElements.get(R)}}),T=function(B,O){if(!B)return[];var R,E=(0,j.xU)(B),v=new K,i=new Map,a=new Map,y=x(E);try{for(y.s();!(R=y.n()).done;){var h=R.value,m=void 0,C=h.id;switch((O==null?void 0:O.regenerateIds)!==!1&&Object.assign(h,{id:(0,H.kb)()}),h.type){case"rectangle":case"ellipse":case"diamond":var U,V,D=h!=null&&(U=h.label)!==null&&U!==void 0&&U.text&&h.width===void 0?0:(h==null?void 0:h.width)||ge,P=h!=null&&(V=h.label)!==null&&V!==void 0&&V.text&&h.height===void 0?0:(h==null?void 0:h.height)||ge;m=(0,N.Up)(ve(ve({},h),{},{width:D,height:P}));break;case"line":var F=h.width||ke,X=h.height||Se;m=(0,N.y8)(ve({width:F,height:X,points:[[0,0],[F,X]]},h));break;case"arrow":var le=h.width||ke,de=h.height||Se;m=(0,N.y8)(ve({width:le,height:de,endArrowhead:"arrow",points:[[0,0],[le,de]]},h)),Object.assign(m,(0,L.k)(m.points));break;case"text":var fe,pe=(h==null?void 0:h.fontFamily)||w.rk,ne=(h==null?void 0:h.fontSize)||w.n5,oe=(h==null?void 0:h.lineHeight)||(0,d.PT)(pe),be=(fe=h.text)!==null&&fe!==void 0?fe:"",Me=(0,d.bG)(be),Ge=(0,d.X1)(Me,(0,j.mO)({fontFamily:pe,fontSize:ne}),oe);m=(0,f.VL)(ve({width:Ge.width,height:Ge.height,fontFamily:pe,fontSize:ne},h));break;case"image":m=(0,f.vw)(ve({width:(h==null?void 0:h.width)||ge,height:(h==null?void 0:h.height)||ge},h));break;case"frame":m=(0,f.M3)(ve({x:0,y:0},h));break;case"freedraw":case"embeddable":m=h;break;default:m=h,(0,j.vE)(h,'Unhandled element type "'.concat(h.type,'"'),!0)}v.getElement(m.id)?console.error("Duplicate id found for ".concat(m.id)):(v.add(m),i.set(m.id,h),C&&a.set(C,m.id))}}catch(xt){y.e(xt)}finally{y.f()}var qe,Ne=x(i);try{for(Ne.s();!(qe=Ne.n()).done;){var Pe=(0,r.Z)(qe.value,2),Re=Pe[0],Ze=Pe[1],Ie=v.getElement(Re);switch(Ze.type){case"rectangle":case"ellipse":case"diamond":case"arrow":var Ee;if((Ee=Ze.label)!==null&&Ee!==void 0&&Ee.text){var xe=J(Ie,Ze==null?void 0:Ze.label),Z=(0,r.Z)(xe,2),u=Z[0],g=Z[1];if(v.add(u),v.add(g),u.type==="arrow"){var z=Ze.type==="arrow"?Ze==null?void 0:Ze.start:void 0,Y=Ze.type==="arrow"?Ze==null?void 0:Ze.end:void 0;if(z&&z.id){var te=a.get(z.id);te&&Object.assign(z,{id:te})}if(Y&&Y.id){var ae=a.get(Y.id);ae&&Object.assign(Y,{id:ae})}var ce=Q(u,z,Y,v),ye=ce.linearElement,je=ce.startBoundElement,Be=ce.endBoundElement;u=ye,v.add(ye),v.add(je),v.add(Be)}}else if(Ze.type==="arrow"){var Qe=Ze.start,rt=Ze.end;if(Qe&&Qe.id){var Ye=a.get(Qe.id);Object.assign(Qe,{id:Ye})}if(rt&&rt.id){var tt=a.get(rt.id);Object.assign(rt,{id:tt})}var ht=Q(Ie,Qe,rt,v),gt=ht.linearElement,Ue=ht.startBoundElement,Ce=ht.endBoundElement;v.add(gt),v.add(Ue),v.add(Ce)}}}}catch(xt){Ne.e(xt)}finally{Ne.f()}var Le,et=x(i);try{var ft=function(){var xt=(0,r.Z)(Le.value,2),wt=xt[0],Rt=xt[1];if(Rt.type!=="frame")return"continue";var It=v.getElement(wt);if(!It)throw new Error("Excalidraw element with id ".concat(wt," doesn't exist"));var At=[];Rt.children.forEach(function(Tt){var Lt,Wt=a.get(Tt);if(!Wt)throw new Error("Element with ".concat(Tt," wasn't mapped correctly"));var qt=v.getElement(Wt);if(!qt)throw new Error("Frame element with id ".concat(Wt," doesn't exist"));Object.assign(qt,{frameId:It.id}),qt==null||(Lt=qt.boundElements)===null||Lt===void 0||Lt.forEach(function(sr){var cr=v.getElement(sr.id);if(!cr)throw new Error("Bound element with id ".concat(sr.id," doesn't exist"));Object.assign(cr,{frameId:It.id}),At.push(cr)}),At.push(qt)});var Xt=(0,N.KP)(At),tr=(0,r.Z)(Xt,4),Gt=tr[0],Jt=tr[1],gr=tr[2],Pt=tr[3];Gt-=10,Jt-=10,gr+=10,Pt+=10;var St=Math.max(It==null?void 0:It.width,gr-Gt),Zt=Math.max(It==null?void 0:It.height,Pt-Jt);Object.assign(It,{x:Gt,y:Jt,width:St,height:Zt})};for(et.s();!(Le=et.n()).done;)ft()}catch(xt){et.e(xt)}finally{et.f()}return v.getElements()}},8020:function(We,ue,n){n.d(ue,{$u:function(){return k},q$:function(){return b},tO:function(){return A},ye:function(){return w}});var r=n(5779),A=function(N){return N.replace(/"/g,"&quot;")},k=function(N){return(N=N.trim())?(0,r.N)(A(N)):N},b=function(N){return!!(N!=null&&N.includes(location.origin)||N!=null&&N.startsWith("/"))},w=function(N){if((N=k(N)).startsWith("/"))return"".concat(location.origin).concat(N);try{new URL(N)}catch{return"about:blank"}return N}},5992:function(We,ue,n){n.d(ue,{rj:function(){return de},nW:function(){return ne},nz:function(){return be},sw:function(){return Ge},lV:function(){return Ie},Ni:function(){return Ne},wq:function(){return qe},Pp:function(){return Re}});var r=n(7169),A=n(2577),k=n(9827),b=n(761),w=n(583),N=n(2767),M=n(1512),f=n(8935),d=n(8227),j=n(9787),L=n(45),H=n(5491),x=n(9660),S=n(2361),q=n(9937),ve=n(8925),ke=n(4105),Se=n(3528),ge=n(7651),J=n(8020),Q=n(3379),K=n.n(Q),T=n(7795),B=n.n(T),O=n(569),R=n.n(O),E=n(3565),v=n.n(E),i=n(9216),a=n.n(i),y=n(4589),h=n.n(y),m=n(5260),C={};C.styleTagTransform=h(),C.setAttributes=v(),C.insert=R().bind(null,"head"),C.domAPI=B(),C.insertStyleElement=a(),K()(m.Z,C),m.Z&&m.Z.locals&&m.Z.locals;var U=n(3646),V=n(8242),D=n(4183),P=n(2921),F=n(4512);function X(xe,Z){var u=Object.keys(xe);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(xe);Z&&(g=g.filter(function(z){return Object.getOwnPropertyDescriptor(xe,z).enumerable})),u.push.apply(u,g)}return u}function le(xe){for(var Z=1;Z<arguments.length;Z++){var u=arguments[Z]!=null?arguments[Z]:{};Z%2?X(Object(u),!0).forEach(function(g){(0,r.Z)(xe,g,u[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(xe,Object.getOwnPropertyDescriptors(u)):X(Object(u)).forEach(function(g){Object.defineProperty(xe,g,Object.getOwnPropertyDescriptor(u,g))})}return xe}var de=document.createElement("img");de.src="data:".concat(q.LO.svg,", ").concat(encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#1971c2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>'));var fe=!1,pe=new Map,ne=function(xe){var Z=xe.element,u=xe.setAppState,g=xe.onLinkOpen,z=xe.setToast,Y=(0,V.gF)(),te=(0,V.hY)(),ae=Z.link||"",ce=(0,j.useState)(ae),ye=(0,A.Z)(ce,2),je=ye[0],Be=ye[1],Qe=(0,j.useRef)(null),rt=Y.showHyperlinkPopup==="editor",Ye=(0,j.useCallback)(function(){if(Qe.current){var Ce=(0,J.$u)(Qe.current.value)||null;if(!Z.link&&Ce&&(0,U.L)("hyperlink","create"),(0,D.gs)(Z)){var Le;if(((Le=Y.activeEmbeddable)===null||Le===void 0?void 0:Le.element)===Z&&u({activeEmbeddable:null}),!Ce)return void(0,w.DR)(Z,{validated:!1,link:null});if((0,b.xm)(Ce,te.validateEmbeddable)){var et=Z.width,ft=Z.height,xt=(0,b.LM)(Ce);xt!=null&&xt.warning&&z({message:xt.warning,closable:!0});var wt=xt?xt.aspectRatio.w/xt.aspectRatio.h:1,Rt=pe.get(Z.id)!==Z.link;(0,w.DR)(Z,le(le({},Rt?{width:(xt==null?void 0:xt.type)==="video"?et>ft?et:ft*wt:et,height:(xt==null?void 0:xt.type)==="video"&&et>ft?et/wt:ft}:{}),{},{validated:!0,link:Ce})),P.R.delete(Z),pe.has(Z.id)&&pe.delete(Z.id)}else Ce&&z({message:(0,d.t)("toast.unableToEmbed"),closable:!0}),Z.link&&pe.set(Z.id,Z.link),(0,w.DR)(Z,{validated:!1,link:Ce}),P.R.delete(Z)}else(0,w.DR)(Z,{link:Ce})}},[Z,z,te.validateEmbeddable,Y.activeEmbeddable,u]);(0,j.useLayoutEffect)(function(){return function(){Ye()}},[Ye]),(0,j.useEffect)(function(){var Ce=null,Le=function(et){rt||(Ce&&clearTimeout(Ce),Ee(Z,Y,[et.clientX,et.clientY])&&(Ce=window.setTimeout(function(){u({showHyperlinkPopup:!1})},500)))};return window.addEventListener(q.Ks.POINTER_MOVE,Le,!1),function(){window.removeEventListener(q.Ks.POINTER_MOVE,Le,!1),Ce&&clearTimeout(Ce)}},[Y,Z,rt,u]);var tt=(0,j.useCallback)(function(){(0,U.L)("hyperlink","delete"),(0,w.DR)(Z,{link:null}),rt&&(Qe.current.value=""),u({showHyperlinkPopup:!1})},[u,Z,rt]),ht=oe(Z,Y),gt=ht.x,Ue=ht.y;return Y.draggingElement||Y.resizingElement||Y.isRotating||Y.openMenu||Y.viewModeEnabled?null:(0,F.jsxs)("div",{className:"excalidraw-hyperlinkContainer",style:{top:"".concat(Ue,"px"),left:"".concat(gt,"px"),width:320,padding:5},onClick:function(){Z.link||rt||u({showHyperlinkPopup:"editor"})},children:[rt?(0,F.jsx)("input",{className:(0,L.Z)("excalidraw-hyperlinkContainer-input"),placeholder:"Type or paste your link here",ref:Qe,value:je,onChange:function(Ce){return Be(Ce.target.value)},autoFocus:!0,onKeyDown:function(Ce){Ce.stopPropagation(),Ce[H.tW.CTRL_OR_CMD]&&Ce.key===H.tW.K&&Ce.preventDefault(),Ce.key!==H.tW.ENTER&&Ce.key!==H.tW.ESCAPE||(Ye(),u({showHyperlinkPopup:"info"}))}}):Z.link?(0,F.jsx)("a",{href:(0,J.$u)(Z.link||""),className:"excalidraw-hyperlinkContainer-link",target:(0,J.q$)(Z.link)?"_self":"_blank",onClick:function(Ce){if(Z.link&&g){var Le=(0,k.ag)(q.Ks.EXCALIDRAW_LINK,Ce.nativeEvent);g(le(le({},Z),{},{link:(0,J.$u)(Z.link)}),Le),Le.defaultPrevented&&Ce.preventDefault()}},rel:"noopener noreferrer",children:Z.link}):(0,F.jsx)("div",{className:"excalidraw-hyperlinkContainer-link",children:(0,d.t)("labels.link.empty")}),(0,F.jsxs)("div",{className:"excalidraw-hyperlinkContainer__buttons",children:[!rt&&(0,F.jsx)(M.V,{type:"button",title:(0,d.t)("buttons.edit"),"aria-label":(0,d.t)("buttons.edit"),label:(0,d.t)("buttons.edit"),onClick:function(){(0,U.L)("hyperlink","edit","popup-ui"),u({showHyperlinkPopup:"editor"})},className:"excalidraw-hyperlinkContainer--edit",icon:f.Pm}),ae&&!(0,D.gs)(Z)&&(0,F.jsx)(M.V,{type:"button",title:(0,d.t)("buttons.remove"),"aria-label":(0,d.t)("buttons.remove"),label:(0,d.t)("buttons.remove"),onClick:tt,className:"excalidraw-hyperlinkContainer--remove",icon:f.XH})]})]})},oe=function(xe,Z){var u=(0,ge.qf)(xe),g=(0,A.Z)(u,2),z=g[0],Y=g[1],te=(0,k._i)({sceneX:z+xe.width/2,sceneY:Y},Z),ae=te.x,ce=te.y;return{x:ae-Z.offsetLeft-160,y:ce-Z.offsetTop-85}},be=(0,N.z)({name:"hyperlink",perform:function(xe,Z){return Z.showHyperlinkPopup!=="editor"&&{elements:xe,appState:le(le({},Z),{},{showHyperlinkPopup:"editor",openMenu:null}),commitToHistory:!0}},trackEvent:{category:"hyperlink",action:"click"},keyTest:function(xe){return xe[H.tW.CTRL_OR_CMD]&&xe.key===H.tW.K},contextItemLabel:function(xe,Z){return Me(xe,Z)},predicate:function(xe,Z){return(0,ke.eD)(xe,Z).length===1},PanelComponent:function(xe){var Z=xe.elements,u=xe.appState,g=xe.updateData,z=(0,ke.eD)(Z,u);return(0,F.jsx)(M.V,{type:"button",icon:f.xP,"aria-label":(0,d.t)(Me(Z,u)),title:"".concat((0,D.gs)(Z[0])?(0,d.t)("labels.link.labelEmbed"):(0,d.t)("labels.link.label")," - ").concat((0,k.uY)("CtrlOrCmd+K")),onClick:function(){return g(null)},selected:z.length===1&&!!z[0].link})}}),Me=function(xe,Z){var u=(0,ke.eD)(xe,Z);return u[0].link?(0,D.gs)(u[0])?"labels.link.editEmbed":"labels.link.edit":(0,D.gs)(u[0])?"labels.link.createEmbed":"labels.link.create"},Ge=function(xe,Z,u){var g=(0,A.Z)(xe,4),z=g[0],Y=g[1],te=g[2],ae=g[3],ce=x.Dn,ye=ce/u.zoom.value,je=ce/u.zoom.value,Be=ce/u.zoom.value,Qe=(z+te)/2,rt=(Y+ae)/2,Ye=(ce-8)/(2*u.zoom.value),tt=4/u.zoom.value,ht=te+tt-Ye,gt=Y-tt-Be+Ye,Ue=(0,S.U1)(ht+ye/2,gt+je/2,Qe,rt,Z),Ce=(0,A.Z)(Ue,2);return[Ce[0]-ye/2,Ce[1]-je/2,ye,je]},qe=function(xe,Z,u){var g=(0,A.Z)(u,2),z=g[0],Y=g[1],te=4/Z.zoom.value,ae=(0,ge.qf)(xe),ce=(0,A.Z)(ae,4),ye=ce[0],je=ce[1],Be=ce[2],Qe=ce[3],rt=Ge([ye,je,Be,Qe],xe.angle,Z),Ye=(0,A.Z)(rt,4),tt=Ye[0],ht=Ye[1],gt=Ye[2],Ue=Ye[3];return z>tt-te&&z<tt+te+gt&&Y>ht-te&&Y<ht+Ue+te},Ne=function(xe,Z,u,g){var z=(0,A.Z)(u,2),Y=z[0],te=z[1];if(!xe.link||Z.selectedElementIds[xe.id])return!1;var ae=4/Z.zoom.value;return!(g||!Z.viewModeEnabled||!(0,Se.pX)(xe,[Y,te],ae,null))||qe(xe,Z,[Y,te])},Pe=null,Re=function(xe,Z){Pe&&clearTimeout(Pe),Pe=window.setTimeout(function(){return Ze(xe,Z)},q.sA)},Ze=function(xe,Z){if(xe.link){var u=(0,ve.bK)();u.classList.add("excalidraw-tooltip--visible"),u.style.maxWidth="20rem",u.textContent=xe.link;var g=(0,ge.qf)(xe),z=(0,A.Z)(g,4),Y=z[0],te=z[1],ae=z[2],ce=z[3],ye=Ge([Y,te,ae,ce],xe.angle,Z),je=(0,A.Z)(ye,4),Be=je[0],Qe=je[1],rt=je[2],Ye=je[3],tt=(0,k._i)({sceneX:Be,sceneY:Qe},Z);(0,ve.Js)(u,{left:tt.x,top:tt.y,width:rt,height:Ye},"top"),(0,U.L)("hyperlink","tooltip","link-icon"),fe=!0}},Ie=function(){Pe&&clearTimeout(Pe),fe&&(fe=!1,(0,ve.bK)().classList.remove("excalidraw-tooltip--visible"))},Ee=function(xe,Z,u){var g=(0,A.Z)(u,2),z=g[0],Y=g[1],te=(0,k.dE)({clientX:z,clientY:Y},Z),ae=te.x,ce=te.y,ye=15/Z.zoom.value;if((0,Se.pX)(xe,[ae,ce],ye,null))return!1;var je=(0,ge.qf)(xe),Be=(0,A.Z)(je,3),Qe=Be[0],rt=Be[1],Ye=Be[2];if(ae>=Qe&&ae<=Ye&&ce>=rt-85&&ce<=rt)return!1;var tt=oe(xe,Z),ht=tt.x,gt=tt.y;return!(z>=ht-ye&&z<=ht+320+10+ye&&Y>=gt-ye&&Y<=gt+ye+10+42)}},9645:function(We,ue,n){n.d(ue,{$q:function(){return le},DK:function(){return T},H:function(){return B},HG:function(){return ve},N1:function(){return S},R:function(){return J},UZ:function(){return Q},Ww:function(){return v},Y9:function(){return R},ZB:function(){return m},cz:function(){return x},ek:function(){return F},el:function(){return Se}});var r=n(7169),A=n(2577),k=n(4105),b=n(4183),w=n(3528),N=n(583),M=n(457),f=n(7422),d=n(9827),j=n(5491),L=n(4761);function H(pe,ne){var oe=Object.keys(pe);if(Object.getOwnPropertySymbols){var be=Object.getOwnPropertySymbols(pe);ne&&(be=be.filter(function(Me){return Object.getOwnPropertyDescriptor(pe,Me).enumerable})),oe.push.apply(oe,be)}return oe}var x=function(pe){return!pe[j.tW.CTRL_OR_CMD]},S=function(pe){return pe.isBindingEnabled},q=function(pe,ne){var oe=[];return ne.forEach(function(be){var Me=pe.getNonDeletedElement(be);Me!=null&&oe.push(Me)}),oe},ve=function(pe,ne,oe){var be=new Set,Me=new Set;ke(pe,ne,oe,"start",be,Me),ke(pe,oe,ne,"end",be,Me);var Ge=Array.from(Me).filter(function(qe){return!be.has(qe)});q(M.Z.getScene(pe),Ge).forEach(function(qe){var Ne;(0,N.DR)(qe,{boundElements:(Ne=qe.boundElements)===null||Ne===void 0?void 0:Ne.filter(function(Pe){return Pe.type!=="arrow"||Pe.id!==pe.id})})})},ke=function(pe,ne,oe,be,Me,Ge){if(ne!=="keep")if(ne!=null)oe!=null&&(oe==="keep"?K(pe,ne,be):be!=="start"&&oe.id===ne.id)||(Q(pe,ne,be),Me.add(ne.id));else{var qe=O(pe,be);qe!=null&&Ge.add(qe)}},Se=function(pe){pe.forEach(function(ne){(0,b.Mn)(ne)?ve(ne,U(ne,"start"),U(ne,"end")):(0,b.f0)(ne)&&ge(ne)})},ge=function(pe){D(pe).forEach(function(ne){var oe=(0,A.Z)(ne,2),be=oe[0],Me=oe[1];return ve(be,Me==="end"?"keep":pe,Me==="start"?"keep":pe)})},J=function(pe,ne,oe,be){ne.startBoundElement!=null&&Q(pe,ne.startBoundElement,"start");var Me=R(be,oe);Me==null||K(pe,Me,"end")||Q(pe,Me,"end")},Q=function(pe,ne,oe){(0,N.DR)(pe,(0,r.Z)({},oe==="start"?"startBinding":"endBinding",function(be){for(var Me=1;Me<arguments.length;Me++){var Ge=arguments[Me]!=null?arguments[Me]:{};Me%2?H(Object(Ge),!0).forEach(function(qe){(0,r.Z)(be,qe,Ge[qe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(be,Object.getOwnPropertyDescriptors(Ge)):H(Object(Ge)).forEach(function(qe){Object.defineProperty(be,qe,Object.getOwnPropertyDescriptor(Ge,qe))})}return be}({elementId:ne.id},E(pe,ne,oe)))),(0,d.xn)(ne.boundElements||[]).has(pe.id)||(0,N.DR)(ne,{boundElements:(ne.boundElements||[]).concat({id:pe.id,type:"arrow"})})},K=function(pe,ne,oe){var be=pe[oe==="start"?"endBinding":"startBinding"];return T(pe,be==null?void 0:be.elementId,ne)},T=function(pe,ne,oe){return ne===oe.id&&pe.points.length<3},B=function(pe){pe.forEach(function(ne){(0,b.Mn)(ne)&&ve(ne,null,null)})},O=function(pe,ne){var oe=ne==="start"?"startBinding":"endBinding",be=pe[oe];return be==null?null:((0,N.DR)(pe,(0,r.Z)({},oe,null)),be.elementId)},R=function(pe,ne){return(0,k.QG)(ne.getNonDeletedElements(),function(oe){return(0,b.f0)(oe,!1)&&(0,w.uu)(oe,pe)})},E=function(pe,ne,oe){var be=oe==="start"?-1:1,Me=be===-1?0:pe.points.length-1,Ge=Me-be,qe=f._.getPointAtIndexGlobalCoordinates(pe,Me),Ne=f._.getPointAtIndexGlobalCoordinates(pe,Ge);return{focus:(0,w.T_)(ne,Ne,qe),gap:Math.max(1,(0,w.oT)(ne,qe))}},v=function(pe,ne){var oe,be=((oe=pe.boundElements)!==null&&oe!==void 0?oe:[]).filter(function(Pe){return Pe.type==="arrow"});if(be.length!==0){var Me=ne??{},Ge=Me.newSize,qe=Me.simultaneouslyUpdated,Ne=a(qe);q(M.Z.getScene(pe),be.map(function(Pe){return Pe.id})).forEach(function(Pe){if((0,b.bt)(Pe)){var Re=pe;if(i(Pe,Re)){var Ze=h(Re,Pe.startBinding,Ge),Ie=h(Re,Pe.endBinding,Ge);Ne.has(Pe.id)?(0,N.DR)(Pe,{startBinding:Ze,endBinding:Ie}):(y(Pe,"start",Ze,pe),y(Pe,"end",Ie,pe),(0,L.WJ)(Pe)&&(0,L.RB)(Pe,!1))}}})}},i=function(pe,ne){var oe,be;return((oe=pe.startBinding)===null||oe===void 0?void 0:oe.elementId)===ne.id||((be=pe.endBinding)===null||be===void 0?void 0:be.elementId)===ne.id},a=function(pe){return new Set((pe||[]).map(function(ne){return ne.id}))},y=function(pe,ne,oe,be){if(!(oe==null||oe.elementId!==be.id&&pe.points.length>2)){var Me=M.Z.getScene(pe).getElement(oe.elementId);if(Me!=null){var Ge,qe=ne==="start"?-1:1,Ne=qe===-1?0:pe.points.length-1,Pe=Ne-qe,Re=f._.getPointAtIndexGlobalCoordinates(pe,Pe),Ze=(0,w.j_)(Me,oe.focus,Re);if(oe.gap===0)Ge=Ze;else{var Ie=(0,w.MZ)(Me,Re,Ze,oe.gap);Ge=Ie.length===0?Ze:Ie[0]}f._.movePoints(pe,[{index:Ne,point:f._.pointFromAbsoluteCoords(pe,Ge)}],(0,r.Z)({},ne==="start"?"startBinding":"endBinding",oe))}}},h=function(pe,ne,oe){if(ne==null||oe==null)return ne;var be=ne.gap,Me=ne.focus,Ge=ne.elementId,qe=oe.width,Ne=oe.height,Pe=pe.width,Re=pe.height;return{elementId:Ge,gap:Math.max(1,Math.min((0,w.fb)(pe,qe,Ne),be*(qe<Ne?qe/Pe:Ne/Re))),focus:Me}},m=function(pe){var ne=new Set(pe.map(function(oe){return oe.id}));return pe.flatMap(function(oe){return(0,b.Mn)(oe,!1)?C(oe).filter(function(be){return!ne.has(be.id)}):(0,b.f0)(oe,!1)?D(oe).filter(function(be){return!ne.has(be[0].id)}):[]})},C=function(pe){return[U(pe,"start"),U(pe,"end")].filter(function(ne){return ne!=null})},U=function(pe,ne){return R(V(pe,ne),M.Z.getScene(pe))},V=function(pe,ne){var oe=ne==="start"?0:-1;return(0,d.AK)(f._.getPointAtIndexGlobalCoordinates(pe,oe))},D=function(pe){return M.Z.getScene(pe).getNonDeletedElements().map(function(ne){if(!(0,b.Mn)(ne,!1))return null;var oe=P(ne,"start",pe),be=P(ne,"end",pe);return oe||be?[ne,oe&&be?"both":oe?"start":"end",pe]:null}).filter(function(ne){return ne!=null})},P=function(pe,ne,oe){return pe[ne==="start"?"startBinding":"endBinding"]==null&&!K(pe,oe,ne)&&(0,w.uu)(oe,V(pe,ne))},F=function(pe,ne,oe,be){var Me=new Set,Ge=new Set,qe=be==="duplicatesServeAsOld";ne.forEach(function(Ne){var Pe=Ne.boundElements;if(Pe!=null&&Pe.length>0&&(Pe.forEach(function(Ie){qe&&!oe.has(Ie.id)&&Me.add(Ie.id)}),Ge.add(oe.get(Ne.id))),(0,b.Mn)(Ne)){if(Ne.startBinding!=null){var Re=Ne.startBinding.elementId;qe&&!oe.has(Re)&&Ge.add(Re)}if(Ne.endBinding!=null){var Ze=Ne.endBinding.elementId;qe&&!oe.has(Ze)&&Ge.add(Ze)}Ne.startBinding==null&&Ne.endBinding==null||Me.add(oe.get(Ne.id))}}),pe.filter(function(Ne){var Pe=Ne.id;return Me.has(Pe)}).forEach(function(Ne){var Pe=Ne.startBinding,Re=Ne.endBinding;(0,N.DR)(Ne,{startBinding:X(Pe,oe),endBinding:X(Re,oe)})}),pe.filter(function(Ne){var Pe=Ne.id;return Ge.has(Pe)}).forEach(function(Ne){var Pe=Ne.boundElements;Pe!=null&&Pe.length>0&&(0,N.DR)(Ne,{boundElements:Pe.map(function(Re){return oe.has(Re.id)?{id:oe.get(Re.id),type:Re.type}:Re})})})},X=function(pe,ne){var oe;if(pe==null)return null;var be=pe.elementId;return{focus:pe.focus,gap:pe.gap,elementId:(oe=ne.get(be))!==null&&oe!==void 0?oe:be}},le=function(pe,ne){var oe=new Set(ne.map(function(Me){return Me.id})),be=new Set;ne.forEach(function(Me){var Ge;(0,b.f0)(Me)?(Ge=Me.boundElements)===null||Ge===void 0||Ge.forEach(function(qe){oe.has(qe.id)||be.add(qe.id)}):(0,b.Mn)(Me)&&(Me.startBinding&&be.add(Me.startBinding.elementId),Me.endBinding&&be.add(Me.endBinding.elementId))}),pe.filter(function(Me){var Ge=Me.id;return be.has(Ge)}).forEach(function(Me){(0,b.f0)(Me)?(0,N.DR)(Me,{boundElements:fe(Me.boundElements,oe)}):(0,b.Mn)(Me)&&(0,N.DR)(Me,{startBinding:de(Me.startBinding,oe),endBinding:de(Me.endBinding,oe)})})},de=function(pe,ne){return pe==null||ne.has(pe.elementId)?null:pe},fe=function(pe,ne){return pe?pe.filter(function(oe){return!ne.has(oe.id)}):null}},4949:function(We,ue,n){n.d(ue,{CM:function(){return Q},GJ:function(){return Se},IX:function(){return B},KP:function(){return a},M$:function(){return ge},Pi:function(){return i},UC:function(){return J},Ut:function(){return m},Y5:function(){return E},hC:function(){return y},os:function(){return C},qf:function(){return ke},v2:function(){return U},wC:function(){return h}});var r=n(1930),A=n(2577),k=n(8821),b=n(5169),w=n(2361),N=n(9845),M=n(6049),f=n(4183),d=n(5999),j=n(4761),L=n(7422),H=n(2921),x=n(457);function S(V,D){var P=typeof Symbol<"u"&&V[Symbol.iterator]||V["@@iterator"];if(!P){if(Array.isArray(V)||(P=function(pe,ne){if(pe){if(typeof pe=="string")return q(pe,ne);var oe=Object.prototype.toString.call(pe).slice(8,-1);if(oe==="Object"&&pe.constructor&&(oe=pe.constructor.name),oe==="Map"||oe==="Set")return Array.from(pe);if(oe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(oe))return q(pe,ne)}}(V))||D){P&&(V=P);var F=0,X=function(){};return{s:X,n:function(){return F>=V.length?{done:!0}:{done:!1,value:V[F++]}},e:function(pe){throw pe},f:X}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var le,de=!0,fe=!1;return{s:function(){P=P.call(V)},n:function(){var pe=P.next();return de=pe.done,pe},e:function(pe){fe=!0,le=pe},f:function(){try{de||P.return==null||P.return()}finally{if(fe)throw le}}}}function q(V,D){(D==null||D>V.length)&&(D=V.length);for(var P=0,F=new Array(D);P<D;P++)F[P]=V[P];return F}var ve=function(){function V(){(0,k.Z)(this,V)}return(0,b.Z)(V,null,[{key:"getBounds",value:function(D){var P=V.boundsCache.get(D);if(P!=null&&P.version&&P.version===D.version&&!(0,f.Xh)(D))return P.bounds;var F=V.calculateBounds(D);return x.Z.getScene(D)&&V.boundsCache.set(D,{version:D.version,bounds:F}),F}},{key:"calculateBounds",value:function(D){var P,F=ke(D),X=(0,A.Z)(F,6),le=X[0],de=X[1],fe=X[2],pe=X[3],ne=X[4],oe=X[5];if((0,f.F9)(D)){var be=O(D.points.map(function(St){var Zt=(0,A.Z)(St,2),Tt=Zt[0],Lt=Zt[1];return(0,w.U1)(Tt,Lt,ne-D.x,oe-D.y,D.angle)})),Me=(0,A.Z)(be,4),Ge=Me[0],qe=Me[1],Ne=Me[2],Pe=Me[3];return[Ge+D.x,qe+D.y,Ne+D.x,Pe+D.y]}if((0,f.bt)(D))P=v(D,ne,oe);else if(D.type==="diamond"){var Re=(0,w.U1)(ne,de,ne,oe,D.angle),Ze=(0,A.Z)(Re,2),Ie=Ze[0],Ee=Ze[1],xe=(0,w.U1)(ne,pe,ne,oe,D.angle),Z=(0,A.Z)(xe,2),u=Z[0],g=Z[1],z=(0,w.U1)(le,oe,ne,oe,D.angle),Y=(0,A.Z)(z,2),te=Y[0],ae=Y[1],ce=(0,w.U1)(fe,oe,ne,oe,D.angle),ye=(0,A.Z)(ce,2),je=ye[0],Be=ye[1];P=[Math.min(Ie,u,te,je),Math.min(Ee,g,ae,Be),Math.max(Ie,u,te,je),Math.max(Ee,g,ae,Be)]}else if(D.type==="ellipse"){var Qe=(fe-le)/2,rt=(pe-de)/2,Ye=Math.cos(D.angle),tt=Math.sin(D.angle),ht=Math.hypot(Qe*Ye,rt*tt),gt=Math.hypot(rt*Ye,Qe*tt);P=[ne-ht,oe-gt,ne+ht,oe+gt]}else{var Ue=(0,w.U1)(le,de,ne,oe,D.angle),Ce=(0,A.Z)(Ue,2),Le=Ce[0],et=Ce[1],ft=(0,w.U1)(le,pe,ne,oe,D.angle),xt=(0,A.Z)(ft,2),wt=xt[0],Rt=xt[1],It=(0,w.U1)(fe,pe,ne,oe,D.angle),At=(0,A.Z)(It,2),Xt=At[0],tr=At[1],Gt=(0,w.U1)(fe,de,ne,oe,D.angle),Jt=(0,A.Z)(Gt,2),gr=Jt[0],Pt=Jt[1];P=[Math.min(Le,wt,Xt,gr),Math.min(et,Rt,tr,Pt),Math.max(Le,wt,Xt,gr),Math.max(et,Rt,tr,Pt)]}return P}}]),V}();ve.boundsCache=new WeakMap;var ke=function(V){var D=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if((0,f.F9)(V))return R(V);if((0,f.bt)(V))return L._.getElementAbsoluteCoords(V,D);if((0,f.iB)(V)){var P=(0,j.tl)(V);if((0,f.Yv)(P)){var F=L._.getBoundTextElementPosition(P,V);return[F.x,F.y,F.x+V.width,F.y+V.height,F.x+V.width/2,F.y+V.height/2]}}return[V.x,V.y,V.x+V.width,V.y+V.height,V.x+V.width/2,V.y+V.height/2]},Se=function(V){var D=ke(V),P=(0,A.Z)(D,6),F=P[0],X=P[1],le=P[2],de=P[3],fe=P[4],pe=P[5],ne=[fe,pe];if((0,f.bt)(V)||(0,f.F9)(V)){for(var oe=[],be=0;be<V.points.length-1;)oe.push([(0,w.xj)([V.points[be][0]+V.x,V.points[be][1]+V.y],ne,V.angle),(0,w.xj)([V.points[be+1][0]+V.x,V.points[be+1][1]+V.y],ne,V.angle)]),be++;return oe}var Me=[[F,X],[le,X],[F,de],[le,de],[fe,X],[fe,de],[F,pe],[le,pe]].map(function(Z){return(0,w.xj)(Z,ne,V.angle)}),Ge=(0,A.Z)(Me,8),qe=Ge[0],Ne=Ge[1],Pe=Ge[2],Re=Ge[3],Ze=Ge[4],Ie=Ge[5],Ee=Ge[6],xe=Ge[7];return V.type==="diamond"?[[Ze,Ee],[Ze,xe],[Ie,Ee],[Ie,xe]]:V.type==="ellipse"?[[Ze,Ee],[Ze,xe],[Ie,Ee],[Ie,xe],[Ze,Ee],[Ze,xe],[Ie,Ee],[Ie,xe]]:[[qe,Ne],[Pe,Re],[qe,Pe],[Ne,Re],[qe,xe],[Pe,xe],[Ne,Ee],[Re,Ee]]},ge=function(V){return[V.x,V.y,V.x+V.width,V.y+V.height,V.x+V.width/2,V.y+V.height/2]},J=function(V){var D=Math.floor(V.width/2)+1,P=V.width,F=Math.floor(V.height/2)+1;return[D,0,P,F,D,V.height,0,F]},Q=function(V){var D,P=S(V.sets);try{for(P.s();!(D=P.n()).done;){var F=D.value;if(F.type==="path")return F.ops}}catch(X){P.e(X)}finally{P.f()}return V.sets[0].ops},K=function(V,D,P,F,X){var le=1-V;return Math.pow(le,3)*D+3*Math.pow(le,2)*V*P+3*le*Math.pow(V,2)*F+Math.pow(V,3)*X},T=function(V,D,P,F){var X=D-V,le=P-D,de=3*X-6*le+3*(F-P),fe=6*le-6*X,pe=3*X,ne=fe*fe-4*de*pe;if(!(ne>=0))return!1;var oe=null,be=null,Me=1/0,Ge=1/0;return de===0?Me=Ge=-pe/fe:(Me=(-fe+Math.sqrt(ne))/(2*de),Ge=(-fe-Math.sqrt(ne))/(2*de)),Me>=0&&Me<=1&&(oe=K(Me,V,D,P,F)),Ge>=0&&Ge<=1&&(be=K(Ge,V,D,P,F)),[oe,be]},B=function(V,D){var P=[0,0],F=V.reduce(function(X,le){var de=le.op,fe=le.data;if(de==="move")P=fe;else if(de==="bcurveTo"){var pe=[fe[0],fe[1]],ne=[fe[2],fe[3]],oe=[fe[4],fe[5]],be=D?D.apply(void 0,pe):pe,Me=D?D.apply(void 0,ne):ne,Ge=D?D.apply(void 0,oe):oe,qe=D?D.apply(void 0,(0,r.Z)(P)):P;P=oe;var Ne=function(xe,Z,u,g){var z=T(xe[0],Z[0],u[0],g[0]),Y=T(xe[1],Z[1],u[1],g[1]),te=Math.min(xe[0],g[0]),ae=Math.max(xe[0],g[0]);if(z){var ce=z.filter(function(Qe){return Qe!==null});te=Math.min.apply(Math,[te].concat((0,r.Z)(ce))),ae=Math.max.apply(Math,[ae].concat((0,r.Z)(ce)))}var ye=Math.min(xe[1],g[1]),je=Math.max(xe[1],g[1]);if(Y){var Be=Y.filter(function(Qe){return Qe!==null});ye=Math.min.apply(Math,[ye].concat((0,r.Z)(Be))),je=Math.max.apply(Math,[je].concat((0,r.Z)(Be)))}return[te,ye,ae,je]}(qe,be,Me,Ge),Pe=(0,A.Z)(Ne,4),Re=Pe[0],Ze=Pe[1],Ie=Pe[2],Ee=Pe[3];X.minX=Math.min(X.minX,Re),X.minY=Math.min(X.minY,Ze),X.maxX=Math.max(X.maxX,Ie),X.maxY=Math.max(X.maxY,Ee)}return X},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[F.minX,F.minY,F.maxX,F.maxY]},O=function(V){var D,P=1/0,F=1/0,X=-1/0,le=-1/0,de=S(V);try{for(de.s();!(D=de.n()).done;){var fe=(0,A.Z)(D.value,2),pe=fe[0],ne=fe[1];P=Math.min(P,pe),F=Math.min(F,ne),X=Math.max(X,pe),le=Math.max(le,ne)}}catch(oe){de.e(oe)}finally{de.f()}return[P,F,X,le]},R=function(V){var D=O(V.points),P=(0,A.Z)(D,4),F=P[0],X=P[1],le=P[2],de=P[3],fe=F+V.x,pe=X+V.y,ne=le+V.x,oe=de+V.y;return[fe,pe,ne,oe,(fe+ne)/2,(pe+oe)/2]},E=function(V,D,P,F){var X=Q(D[0]);if(X.length<1)return null;var le=P==="start"?1:X.length-1,de=X[le].data,fe=[de[4],de[5]],pe=[de[2],de[3]],ne=[de[0],de[1]],oe=X[le-1],be=[0,0];oe.op==="move"?be=oe.data:oe.op==="bcurveTo"&&(be=[oe.data[4],oe.data[5]]);var Me=function(tr,Gt){return Math.pow(1-tr,3)*fe[Gt]+3*tr*Math.pow(1-tr,2)*pe[Gt]+3*Math.pow(tr,2)*(1-tr)*ne[Gt]+be[Gt]*Math.pow(tr,3)},Ge=P==="start"?be:fe,qe=(0,A.Z)(Ge,2),Ne=qe[0],Pe=qe[1],Re=[Me(.3,0),Me(.3,1)],Ze=Re[0],Ie=Re[1],Ee=Math.hypot(Ne-Ze,Pe-Ie),xe=(Ne-Ze)/Ee,Z=(Pe-Ie)/Ee,u={arrow:30,bar:15,dot:15,triangle:15}[F],g=0;if(F==="arrow"){var z=(0,A.Z)(V.points[V.points.length-1],2),Y=z[0],te=z[1],ae=V.points.length>1?V.points[V.points.length-2]:[0,0],ce=(0,A.Z)(ae,2),ye=ce[0],je=ce[1];g=Math.hypot(Y-ye,te-je)}else for(var Be=0;Be<V.points.length;Be++){var Qe=V.points[Be-1]||[0,0],rt=(0,A.Z)(Qe,2),Ye=rt[0],tt=rt[1],ht=(0,A.Z)(V.points[Be],2),gt=ht[0],Ue=ht[1];g+=Math.hypot(gt-Ye,Ue-tt)}var Ce=Math.min(u,g/2),Le=Ne-xe*Ce,et=Pe-Z*Ce;if(F==="dot")return[Ne,Pe,Math.hypot(et-Pe,Le-Ne)+V.strokeWidth];var ft={arrow:20,bar:90,triangle:25}[F],xt=(0,w.U1)(Le,et,Ne,Pe,-ft*Math.PI/180),wt=(0,A.Z)(xt,2),Rt=wt[0],It=wt[1],At=(0,w.U1)(Le,et,Ne,Pe,ft*Math.PI/180),Xt=(0,A.Z)(At,2);return[Ne,Pe,Rt,It,Xt[0],Xt[1]]},v=function(V,D,P){var F;if(V.points.length<2){var X=(0,A.Z)(V.points[0],2),le=X[0],de=X[1],fe=(0,w.U1)(V.x+le,V.y+de,D,P,V.angle),pe=(0,A.Z)(fe,2),ne=pe[0],oe=pe[1],be=[ne,oe,ne,oe],Me=(0,j.WJ)(V);if(Me){var Ge=L._.getMinMaxXYWithBoundText(V,[ne,oe,ne,oe],Me);be=[Ge[0],Ge[1],Ge[2],Ge[3]]}return be}var qe=(F=H.R.get(V))===null||F===void 0?void 0:F[0],Ne=qe??function(xe){var Z=N.Z.generator(),u=(0,M.Z)(xe);return Z[xe.roundness?"curve":u.fill?"polygon":"linearPath"](xe.points,u)}(V),Pe=Q(Ne),Re=B(Pe,function(xe,Z){return(0,w.U1)(V.x+xe,V.y+Z,D,P,V.angle)}),Ze=[Re[0],Re[1],Re[2],Re[3]],Ie=(0,j.WJ)(V);if(Ie){var Ee=L._.getMinMaxXYWithBoundText(V,Ze,Ie);Ze=[Ee[0],Ee[1],Ee[2],Ee[3]]}return Ze},i=function(V){return ve.getBounds(V)},a=function(V){if(!V.length)return[0,0,0,0];var D=1/0,P=-1/0,F=1/0,X=-1/0;return V.forEach(function(le){var de=i(le),fe=(0,A.Z)(de,4),pe=fe[0],ne=fe[1],oe=fe[2],be=fe[3];D=Math.min(D,pe),F=Math.min(F,ne),P=Math.max(P,oe),X=Math.max(X,be)}),[D,F,P,X]},y=function(V,D){var P=a(V),F=(0,A.Z)(P,4),X=F[0],le=F[1],de=F[2],fe=F[3];return[X+D.x,le+D.y,de+D.x,fe+D.y]},h=function(V,D,P,F){if(!(0,f.bt)(V)&&!(0,f.F9)(V))return[V.x,V.y,V.x+D,V.y+P];var X,le=(0,d.z)(0,D,(0,d.z)(1,P,V.points,F),F);if((0,f.F9)(V))X=O(le);else{var de=N.Z.generator(),fe=V.roundness?de.curve(le,(0,M.Z)(V)):de.linearPath(le,(0,M.Z)(V)),pe=Q(fe);X=B(pe)}var ne=X,oe=(0,A.Z)(ne,4),be=oe[0],Me=oe[1],Ge=oe[2],qe=oe[3];return[be+V.x,Me+V.y,Ge+V.x,qe+V.y]},m=function(V,D){var P=N.Z.generator(),F=V.roundness==null?P.linearPath(D,(0,M.Z)(V)):P.curve(D,(0,M.Z)(V)),X=Q(F),le=B(X),de=(0,A.Z)(le,4),fe=de[0],pe=de[1],ne=de[2],oe=de[3];return[fe+V.x,pe+V.y,ne+V.x,oe+V.y]},C=function(V,D){if(!V.length)return[0,0,0,0];var P=1/0,F=V[0];return V.forEach(function(X){var le=i(X),de=(0,A.Z)(le,4),fe=de[0],pe=de[1],ne=de[2],oe=de[3],be=(0,w.LW)((fe+ne)/2,(pe+oe)/2,D.x,D.y);be<P&&(P=be,F=X)}),i(F)},U=function(V){var D=a(V),P=(0,A.Z)(D,4),F=P[0],X=P[1],le=P[2],de=P[3];return{minX:F,minY:X,maxX:le,maxY:de,width:le-F,height:de-X,midX:(F+le)/2,midY:(X+de)/2}}},3528:function(We,ue,n){n.d(ue,{uu:function(){return fe},T_:function(){return Y},j_:function(){return te},oT:function(){return oe},wX:function(){return P},MZ:function(){return ae},wB:function(){return F},Qu:function(){return X},pX:function(){return de},fb:function(){return pe}});var r=n(2577),A=function(Ue,Ce){return[0,0,0,0,Ce,Ue,1,0]},k=function(Ue,Ce){return[0,0,0,0,Ce,Ue,0,0]},b=function(){var Ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Le=[0,0,0,0,0,0,0,0];if(Ce<0||Ce>7)throw new Error("Expected `index` between 0 and 7, got `".concat(Ce,"`"));return Ue!==0&&(Le[Ce]=Ue),Le},w=function(Ue){return[Ue[0],Ue[1],Ue[2],Ue[3],-Ue[4],-Ue[5],-Ue[6],-Ue[7]]},N=function(Ue,Ce){return S(Ce)?[Ue[0]-Ce,Ue[1],Ue[2],Ue[3],Ue[4],Ue[5],Ue[6],Ue[7]]:[Ue[0]-Ce[0],Ue[1]-Ce[1],Ue[2]-Ce[2],Ue[3]-Ce[3],Ue[4]-Ce[4],Ue[5]-Ce[5],Ue[6]-Ce[6],Ue[7]-Ce[7]]},M=function(Ue,Ce){return S(Ce)?[Ue[0]*Ce,Ue[1]*Ce,Ue[2]*Ce,Ue[3]*Ce,Ue[4]*Ce,Ue[5]*Ce,Ue[6]*Ce,Ue[7]*Ce]:[f(Ue,Ce),Ce[1]*Ue[0]+Ce[0]*Ue[1]-Ce[4]*Ue[2]+Ce[5]*Ue[3]+Ce[2]*Ue[4]-Ce[3]*Ue[5]-Ce[7]*Ue[6]-Ce[6]*Ue[7],Ce[2]*Ue[0]+Ce[0]*Ue[2]-Ce[6]*Ue[3]+Ce[3]*Ue[6],Ce[3]*Ue[0]+Ce[6]*Ue[2]+Ce[0]*Ue[3]-Ce[2]*Ue[6],Ce[4]*Ue[0]+Ce[2]*Ue[1]-Ce[1]*Ue[2]+Ce[7]*Ue[3]+Ce[0]*Ue[4]+Ce[6]*Ue[5]-Ce[5]*Ue[6]+Ce[3]*Ue[7],Ce[5]*Ue[0]-Ce[3]*Ue[1]+Ce[7]*Ue[2]+Ce[1]*Ue[3]-Ce[6]*Ue[4]+Ce[0]*Ue[5]+Ce[4]*Ue[6]+Ce[2]*Ue[7],Ce[6]*Ue[0]+Ce[3]*Ue[2]-Ce[2]*Ue[3]+Ce[0]*Ue[6],Ce[7]*Ue[0]+Ce[6]*Ue[1]+Ce[5]*Ue[2]+Ce[4]*Ue[3]+Ce[3]*Ue[4]+Ce[2]*Ue[5]+Ce[1]*Ue[6]+Ce[0]*Ue[7]]},f=function(Ue,Ce){return Ce[0]*Ue[0]+Ce[2]*Ue[2]+Ce[3]*Ue[3]-Ce[6]*Ue[6]},d=function(Ue,Ce){return[j(Ue,Ce),Ue[1]*Ce[7]+Ue[4]*Ce[5]-Ue[5]*Ce[4]+Ue[7]*Ce[1],Ue[2]*Ce[7]-Ue[4]*Ce[6]+Ue[6]*Ce[4]+Ue[7]*Ce[2],Ue[3]*Ce[7]+Ue[5]*Ce[6]-Ue[6]*Ce[5]+Ue[7]*Ce[3],Ue[4]*Ce[7]+Ue[7]*Ce[4],Ue[5]*Ce[7]+Ue[7]*Ce[5],Ue[6]*Ce[7]+Ue[7]*Ce[6],Ue[7]*Ce[7]]},j=function(Ue,Ce){return Ue[0]*Ce[7]+Ue[1]*Ce[6]+Ue[2]*Ce[5]+Ue[3]*Ce[4]+Ue[4]*Ce[3]+Ue[5]*Ce[2]+Ue[6]*Ce[1]+Ue[7]*Ce[0]},L=function(Ue){return Math.sqrt(Math.abs(Ue[0]*Ue[0]-Ue[2]*Ue[2]-Ue[3]*Ue[3]+Ue[6]*Ue[6]))},H=function(Ue){var Ce=L(Ue);if(Ce===0||Ce===1)return Ue;var Le=Ue[6]<0?-1:1;return M(Ue,Le/Ce)},x=function(Ue){var Ce=function(Le){return Math.sqrt(Math.abs(Le[7]*Le[7]-Le[5]*Le[5]-Le[4]*Le[4]+Le[1]*Le[1]))}(Ue);return Ce===0||Ce===1?Ue:M(Ue,1/Ce)},S=function(Ue){return typeof Ue=="number"},q=(b(1,1),b(1,2),b(1,3),b(1,4),b(1,5),b(1,6),b(1,7),function(Ue,Ce,Le){return H([0,Le,Ue,Ce,0,0,0,0])}),ve=function(Ue,Ce){return H(d(Ce,Ue))},ke=function(Ue,Ce){return Le=Ue,[(et=Ce)[0]*Le[0]+et[2]*Le[2]+et[3]*Le[3]-et[6]*Le[6],et[1]*Le[0]+et[0]*Le[1]-et[4]*Le[2]+et[5]*Le[3]+et[2]*Le[4]-et[3]*Le[5]-et[7]*Le[6]-et[6]*Le[7],et[2]*Le[0]+et[0]*Le[2]-et[6]*Le[3]+et[3]*Le[6],et[3]*Le[0]+et[6]*Le[2]+et[0]*Le[3]-et[2]*Le[6],et[4]*Le[0]+et[7]*Le[3]+et[0]*Le[4]+et[3]*Le[7],et[5]*Le[0]+et[7]*Le[2]+et[0]*Le[5]+et[2]*Le[7],et[6]*Le[0]+et[0]*Le[6],et[7]*Le[0]+et[0]*Le[7]];var Le,et},Se=function(Ue){var Ce=(0,r.Z)(Ue,2),Le=Ce[0];return[0,0,0,0,Ce[1],Le,1,0]},ge=function(Ue){return[Ue[5],Ue[4]]},J=function(Ue){return[0,0,0,0,Math.abs(Ue[4]),Math.abs(Ue[5]),1,0]},Q=function(Ue,Ce){return H((Le=Ue,[(et=Ce)[0]*Le[0],et[1]*Le[0]+et[0]*Le[1],et[2]*Le[0]+et[0]*Le[2],et[3]*Le[0]+et[0]*Le[3],et[4]*Le[0]+et[2]*Le[1]-et[1]*Le[2]+et[0]*Le[4],et[5]*Le[0]-et[3]*Le[1]+et[1]*Le[3]+et[0]*Le[5],et[6]*Le[0]+et[3]*Le[2]-et[2]*Le[3]+et[0]*Le[6],et[7]*Le[0]+et[6]*Le[1]+et[5]*Le[2]+et[4]*Le[3]+et[3]*Le[4]+et[2]*Le[5]+et[1]*Le[6]]));var Le,et},K=function(Ue,Ce){return L(d(Ue,Ce))},T=function(Ue,Ce){return j(Ue,Ce)},B=function(Ue){return[0,0,0,0,Ue[4],Ue[5],0,0]},O=function(Ue,Ce){return Le=M(Ue,Math.sin(Ce/2)),et=Math.cos(Ce/2),S(et)?[Le[0]+et,Le[1],Le[2],Le[3],Le[4],Le[5],Le[6],Le[7]]:[Le[0]+et[0],Le[1]+et[1],Le[2]+et[2],Le[3]+et[3],Le[4]+et[4],Le[5]+et[5],Le[6]+et[6],Le[7]+et[7]];var Le,et},R=function(Ue,Ce){return H(M(M(Ue,Ce),w(Ue)))},E=n(2361),v=n(1493),i=n(4949),a=n(4183),y=n(7651),h=n(9827),m=n(4048),C=n(4761),U=n(2921);function V(Ue,Ce){var Le=typeof Symbol<"u"&&Ue[Symbol.iterator]||Ue["@@iterator"];if(!Le){if(Array.isArray(Ue)||(Le=function(It,At){if(It){if(typeof It=="string")return D(It,At);var Xt=Object.prototype.toString.call(It).slice(8,-1);if(Xt==="Object"&&It.constructor&&(Xt=It.constructor.name),Xt==="Map"||Xt==="Set")return Array.from(It);if(Xt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Xt))return D(It,At)}}(Ue))||Ce){Le&&(Ue=Le);var et=0,ft=function(){};return{s:ft,n:function(){return et>=Ue.length?{done:!0}:{done:!1,value:Ue[et++]}},e:function(It){throw It},f:ft}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var xt,wt=!0,Rt=!1;return{s:function(){Le=Le.call(Ue)},n:function(){var It=Le.next();return wt=It.done,It},e:function(It){Rt=!0,xt=It},f:function(){try{wt||Le.return==null||Le.return()}finally{if(Rt)throw xt}}}}function D(Ue,Ce){(Ce==null||Ce>Ue.length)&&(Ce=Ue.length);for(var Le=0,et=new Array(Ce);Le<Ce;Le++)et[Le]=Ue[Le];return et}var P=function Ue(Ce,Le,et,ft,xt){var wt=10/Le.zoom.value,Rt=[ft,xt];if(le(Le,Ce)&&(0,m.oY)([Ce],Le))return de(Ce,Rt,wt,et);var It=(0,C.WJ)(Ce);return It&&Ue(It,Le,et,ft,xt)?!0:X(Ce,Le,et,Rt)},F=function(Ue,Ce,Le,et,ft){var xt=10/Ce.zoom.value,wt=(0,C.WJ)(Ue);return(!wt||!P(wt,Ce,Le,et,ft))&&!X(Ue,Ce,Le,[et,ft])&&de(Ue,[et,ft],xt,Le)},X=function(Ue,Ce,Le,et){var ft=10/Ce.zoom.value,xt=(0,y.iB)(Ue)?be:function(wt){if(wt.type==="arrow")return!1;if(wt.type==="freedraw")return!0;var Rt=!(0,h.Qm)(wt.backgroundColor)||(0,a.Xo)(wt)||(0,a.gs)(wt);return wt.type==="line"?Rt&&(0,E.g6)(wt.points):Rt||(0,a.pC)(wt)}(Ue)?Me:Ge;return ne({element:Ue,point:et,threshold:ft,check:xt,frameNameBoundsCache:Le})},le=function(Ue,Ce){return Ue.selectedElementIds[Ce.id]},de=function(Ue,Ce,Le,et){var ft=(0,r.Z)(Ce,2),xt=ft[0],wt=ft[1];if(Ue.type==="frame")return ne({element:Ue,point:[xt,wt],threshold:Le,check:Me,frameNameBoundsCache:et});var Rt=(0,i.qf)(Ue),It=(0,r.Z)(Rt,4),At=It[0],Xt=It[1],tr=It[2],Gt=It[3],Jt=(At+tr)/2,gr=(Xt+Gt)/2,Pt=(0,E.U1)(xt,wt,Jt,gr,-Ue.angle),St=(0,r.Z)(Pt,2),Zt=St[0],Tt=St[1];return Zt>At-Le&&Zt<tr+Le&&Tt>Xt-Le&&Tt<Gt+Le},fe=function(Ue,Ce){var Le=Ce.x,et=Ce.y,ft=pe(Ue,Ue.width,Ue.height);return ne({element:Ue,point:[Le,et],threshold:ft,check:qe,frameNameBoundsCache:null})},pe=function(Ue,Ce,Le){var et=(Ue.type==="diamond"?1/Math.sqrt(2):1)*Math.min(Ce,Le);return Math.max(16,Math.min(.25*et,32))},ne=function(Ue){switch(Ue.element.type){case"rectangle":case"embeddable":case"image":case"text":case"diamond":case"ellipse":var Ce=oe(Ue.element,Ue.point);return Ue.check(Ce,Ue.threshold);case"freedraw":return!!Ue.check(Ne(Ue.element,Ue.point),Ue.threshold)&&Ee(Ue.element,Ue.point,Ue.threshold);case"arrow":case"line":return xe(Ue);case"selection":return console.warn("This should not happen, we need to investigate why it does."),!1;case"frame":var Le;if(Ue.check(oe(Ue.element,Ue.point),Ue.threshold))return!0;var et=(Le=Ue.frameNameBoundsCache)===null||Le===void 0?void 0:Le.get(Ue.element);return!!et&&Ue.check(Pe(et,Ue.point),Ue.threshold)}},oe=function(Ue,Ce){switch(Ue.type){case"rectangle":case"image":case"text":case"embeddable":case"frame":return Ne(Ue,Ce);case"diamond":return Re(Ue,Ce);case"ellipse":return Ze(Ue,Ce)}},be=function(Ue,Ce){return Ue<0},Me=function(Ue,Ce){return Ue<Ce},Ge=function(Ue,Ce){return Math.abs(Ue)<Ce},qe=function(Ue,Ce){return 0<=Ue&&Ue<Ce},Ne=function(Ue,Ce){var Le=Z(Ue,Ce),et=(0,r.Z)(Le,4),ft=et[1],xt=et[2],wt=et[3];return Math.max(T(ft,q(0,1,-wt)),T(ft,q(1,0,-xt)))},Pe=function(Ue,Ce){var Le=u(Ce,Ue),et=(0,r.Z)(Le,4),ft=et[1],xt=et[2],wt=et[3];return Math.max(T(ft,q(0,1,-wt)),T(ft,q(1,0,-xt)))},Re=function(Ue,Ce){var Le=Z(Ue,Ce),et=(0,r.Z)(Le,4),ft=et[1],xt=et[2],wt=et[3],Rt=q(wt,xt,-wt*xt);return T(ft,Rt)},Ze=function(Ue,Ce){var Le,et=Ie(Ue,Ce),ft=(0,r.Z)(et,2),xt=ft[0],wt=ft[1];return Le=wt,-Math.sign(Le[1])*T(xt,wt)},Ie=function(Ue,Ce){var Le=Z(Ue,Ce),et=(0,r.Z)(Le,4),ft=et[1],xt=et[2],wt=et[3],Rt=ge(ft),It=(0,r.Z)(Rt,2),At=It[0],Xt=It[1],tr=.707,Gt=.707,Jt=xt,gr=wt;[0,1,2,3].forEach(function(Zt){var Tt=Jt*tr,Lt=gr*Gt,Wt=(Jt*Jt-gr*gr)*Math.pow(tr,3)/Jt,qt=(gr*gr-Jt*Jt)*Math.pow(Gt,3)/gr,sr=Tt-Wt,cr=Lt-qt,Sr=At-Wt,Mr=Xt-qt,zr=Math.hypot(cr,sr),pr=Math.hypot(Mr,Sr);tr=Math.min(1,Math.max(0,(Sr*zr/pr+Wt)/Jt)),Gt=Math.min(1,Math.max(0,(Mr*zr/pr+qt)/gr));var Ft=Math.hypot(Gt,tr);tr/=Ft,Gt/=Ft});var Pt,St=A(Jt*tr,gr*Gt);return[ft,ke(ve(ft,Pt=St),Pt)]},Ee=function(Ue,Ce,Le){var et,ft;if(Ue.angle===0)et=Ce[0]-Ue.x,ft=Ce[1]-Ue.y;else{var xt=(0,i.qf)(Ue),wt=(0,r.Z)(xt,4),Rt=wt[0],It=wt[1],At=wt[2],Xt=wt[3],tr=(0,E.xj)(Ce,[Rt+(At-Rt)/2,It+(Xt-It)/2],-Ue.angle);et=tr[0]-Ue.x,ft=tr[1]-Ue.y}var Gt,Jt=(0,r.Z)(Ue.points,2),gr=Jt[0],Pt=Jt[1];if((0,E.LW)(gr[0],gr[1],et,ft)<Le||(0,E.LW)(Pt[0],Pt[1],et,ft)<Le)return!0;for(var St=0;St<Ue.points.length;St++){var Zt=[Pt[0]-gr[0],Pt[1]-gr[1]],Tt=Math.hypot(Zt[1],Zt[0]),Lt=[Zt[0]/Tt,Zt[1]/Tt],Wt=[et-gr[0],ft-gr[1]],qt=(Wt[0]*Lt[0]+Wt[1]*Lt[1])/Math.hypot(Lt[1],Lt[0]);Gt=[gr[0]+Lt[0]*qt,gr[1]+Lt[1]*qt];var sr=(0,E.LW)(Gt[0],Gt[1],gr[0],gr[1]),cr=(0,E.LW)(Gt[0],Gt[1],Pt[0],Pt[1]);if(Gt=cr<sr&&sr>Tt?Pt:sr<cr&&cr>Tt?gr:Gt,Math.hypot(ft-Gt[1],et-Gt[0])<Le)return!0;gr=Pt,Pt=Ue.points[St+1]}var Sr=U.R.get(Ue);return!(!Sr||!Sr.sets.length)&&(Ue.fillStyle==="solid"?ht(Sr,et,ft,"round"):gt(Sr,et,ft,Le))},xe=function(Ue){var Ce=Ue.element,Le=Ue.threshold;if(!U.R.get(Ce))return!1;var et=Z(Ue.element,Ue.point),ft=(0,r.Z)(et,4),xt=ft[0],wt=ft[1],Rt=ft[2],It=ft[3],At=q(0,1,-It),Xt=q(1,0,-Rt);if(!Me(T(wt,At),Le)||!Me(T(wt,Xt),Le))return!1;var tr=ge(xt),Gt=(0,r.Z)(tr,2),Jt=Gt[0],gr=Gt[1],Pt=U.R.get(Ce);return Pt?Ue.check===Me&&Pt.some(function(St){return ht(St,Jt,gr,Ce.roundness?"round":"sharp")})?!0:Pt.some(function(St){return gt(St,Jt,gr,Le)}):!1},Z=function(Ue,Ce){var Le=Se(Ce),et=(0,i.qf)(Ue),ft=(0,r.Z)(et,4),xt=ft[0],wt=ft[1],Rt=ft[2],It=ft[3],At=z(xt,wt,Rt,It),Xt=O(At,Ue.angle),tr=R(Xt,Le),Gt=N(tr,B(At)),Jt=J(Gt),gr=k(Ue.x,Ue.y);return[N(tr,gr),Jt,(Rt-xt)/2,(It-wt)/2]},u=function(Ue,Ce){var Le=Se(Ue),et=(0,i.M$)(Ce),ft=(0,r.Z)(et,4),xt=ft[0],wt=ft[1],Rt=ft[2],It=ft[3],At=z(xt,wt,Rt,It),Xt=O(At,Ce.angle),tr=R(Xt,Le),Gt=N(tr,B(At)),Jt=J(Gt),gr=k(Ce.x,Ce.y);return[N(tr,gr),Jt,(Rt-xt)/2,(It-wt)/2]},g=function(Ue){var Ce=(0,i.qf)(Ue),Le=(0,r.Z)(Ce,4),et=Le[0],ft=Le[1],xt=Le[2],wt=Le[3],Rt=z(et,ft,xt,wt),It=O(Rt,Ue.angle),At=w(function(Xt){return[1,0,0,0,-.5*Xt[5],.5*Xt[4],0,0]}(B(Rt)));return M(At,It)},z=function(Ue,Ce,Le,et){return A((Ue+Le)/2,(Ce+et)/2)},Y=function(Ue,Ce,Le){var et,ft=g(Ue),xt=R(ft,Se(Ce)),wt=R(ft,Se(Le)),Rt=ve(xt,wt),It=Ue.height/Ue.width,At=Ue.width/2,Xt=Ue.height/2,tr=Rt[2],Gt=Rt[3],Jt=Rt[1],gr=Math.abs(Gt),Pt=Math.abs(tr);switch(Ue.type){case"rectangle":case"image":case"text":case"embeddable":case"frame":et=Jt/(At*(Pt+It*gr));break;case"diamond":et=gr<Pt?Jt/(Pt*At):Jt/(gr*Xt);break;case"ellipse":et=Jt/(At*Math.sqrt(Math.pow(tr,2)+Math.pow(It,2)*Math.pow(Gt,2)))}return et||0},te=function(Ue,Ce,Le){if(Ce===0){var et=(0,i.qf)(Ue),ft=(0,r.Z)(et,4),xt=ft[0],wt=ft[1],Rt=ft[2],It=ft[3],At=z(xt,wt,Rt,It);return ge(At)}var Xt,tr=g(Ue),Gt=R(tr,Se(Le)),Jt=w(tr);switch(Ue.type){case"rectangle":case"image":case"text":case"diamond":case"embeddable":case"frame":Xt=tt(Ue,Ce,Gt);break;case"ellipse":Xt=Ye(Ue,Ce,Gt)}return ge(R(Jt,Xt))},ae=function(Ue,Ce,Le){var et=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,ft=g(Ue),xt=R(ft,Se(Ce)),wt=R(ft,Se(Le)),Rt=ve(xt,wt),It=w(ft),At=ce(Ue,Rt,xt,et);return At.map(function(Xt){return ge(R(It,Xt))})},ce=function(Ue,Ce,Le){var et,ft=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;switch(Ue.type){case"rectangle":case"image":case"text":case"diamond":case"embeddable":case"frame":var xt=ye(Ue);et=xt.flatMap(function(Rt,It){var At=[Rt,xt[(It+1)%4]];return je(Ce,Be(At,ft))}).concat(xt.flatMap(function(Rt){return rt(Rt,ft,Ce)}));break;case"ellipse":et=Qe(Ue,ft,Ce)}if(et.length<2)return[];var wt=et.sort(function(Rt,It){return K(Rt,Le)-K(It,Le)});return[wt[0],wt[wt.length-1]]},ye=function(Ue){var Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,Le=Ce*Ue.width/2,et=Ce*Ue.height/2;switch(Ue.type){case"rectangle":case"image":case"text":case"embeddable":case"frame":return[A(Le,et),A(Le,-et),A(-Le,-et),A(-Le,et)];case"diamond":return[A(0,et),A(Le,0),A(0,-et),A(-Le,0)]}},je=function(Ue,Ce){var Le=(0,r.Z)(Ce,2),et=Le[0],ft=Le[1];return T(et,Ue)*T(ft,Ue)>=0?[]:[Q(Ue,ve(et,ft))]},Be=function(Ue,Ce){var Le=(0,r.Z)(Ue,2),et=Le[0],ft=Le[1],xt=function(wt,Rt){var It=.5*Rt;return[1,0,0,0,It*wt[4],It*wt[5],0,0]}(function(wt,Rt){return x([0,0,0,0,Rt[4]-wt[4],Rt[5]-wt[5],0,0])}(et,ft),Ce);return[R(xt,et),R(xt,ft)]},Qe=function(Ue,Ce,Le){var et=Ue.width/2+Ce,ft=Ue.height/2+Ce,xt=Le[2],wt=Le[3],Rt=Le[1],It=et*et*xt*xt+ft*ft*wt*wt,At=It-Rt*Rt;if(It===0||At<=0)return[];var Xt=Math.sqrt(At),tr=-et*et*xt*Rt,Gt=-ft*ft*wt*Rt;return[A((tr+et*ft*wt*Xt)/It,(Gt-et*ft*xt*Xt)/It),A((tr-et*ft*wt*Xt)/It,(Gt+et*ft*xt*Xt)/It)]},rt=function(Ue,Ce,Le){if(Ce===0)return T(Le,Ue)===0?[Ue]:[];var et=Le[2],ft=Le[3],xt=Le[1],wt=ge(Ue),Rt=(0,r.Z)(wt,2),It=Rt[0],At=Rt[1],Xt=et*et+ft*ft,tr=Ce*Ce*Xt-Math.pow(et*It+ft*At+xt,2);if(Xt===0||tr<=0)return[];var Gt=Math.sqrt(tr),Jt=It*ft*ft-At*et*ft-et*xt,gr=At*et*et-It*et*ft-ft*xt;return[A((Jt+ft*Gt)/Xt,(gr-et*Gt)/Xt),A((Jt-ft*Gt)/Xt,(gr+et*Gt)/Xt)]},Ye=function(Ue,Ce,Le){var et=Math.abs(Ce),ft=Ue.width*et/2,xt=Ue.height*et/2,wt=Math.sign(Ce),Rt=ge(Le),It=(0,r.Z)(Rt,2),At=It[0],Xt=It[1],tr=Xt===0?1e-4:Xt,Gt=Math.pow(At,2)*Math.pow(xt,2)+Math.pow(tr,2)*Math.pow(ft,2),Jt=(-At*Math.pow(xt,2)+wt*tr*Math.sqrt(Math.max(0,Gt-Math.pow(ft,2)*Math.pow(xt,2))))/Gt,gr=(-Jt*At-1)/tr;gr===0&&(gr=.01*(Object.is(gr,-0)?-1:1));var Pt=-Math.pow(ft,2)*Jt/(Math.pow(gr,2)*Math.pow(xt,2)+Math.pow(Jt,2)*Math.pow(ft,2));return A(Pt,(-Jt*Pt-1)/gr)},tt=function(Ue,Ce,Le){var et=Math.abs(Ce),ft=Math.sign(Ce),xt=ye(Ue,et),wt=0,Rt=null;return xt.forEach(function(It){var At=ft*ve(Le,It)[1];At>wt&&(wt=At,Rt=It)}),Rt},ht=function(Ue,Ce,Le,et){var ft,xt=[],wt=!1,Rt=V((0,i.CM)(Ue));try{for(Rt.s();!(ft=Rt.n()).done;){var It=ft.value;It.op==="move"?(wt=!wt)&&xt.push([It.data[0],It.data[1]]):It.op==="bcurveTo"?wt&&(xt.push([It.data[0],It.data[1]]),xt.push([It.data[2],It.data[3]]),xt.push([It.data[4],It.data[5]])):It.op==="lineTo"&&wt&&xt.push([It.data[0],It.data[1]])}}catch(Xt){Rt.e(Xt)}finally{Rt.f()}if(xt.length>=4){if(et==="sharp")return(0,E.c9)(xt,Ce,Le);var At=(0,v.sU)(xt,10,5);return(0,E.c9)(At,Ce,Le)}return!1},gt=function(Ue,Ce,Le,et){var ft=(0,i.CM)(Ue),xt=[0,0];return ft.some(function(wt,Rt){var It=wt.op,At=wt.data;if(It==="move")xt=At;else{if(It==="bcurveTo"){var Xt=[At[0],At[1]],tr=[At[2],At[3]],Gt=[At[4],At[5]],Jt=xt;xt=Gt;var gr=function(Pt,St,Zt,Tt,Lt,Wt){for(var qt=(0,r.Z)(Lt,2),sr=qt[0],cr=qt[1],Sr=function(Ft,or){return Math.pow(1-Ft,3)*Tt[or]+3*Ft*Math.pow(1-Ft,2)*Zt[or]+3*Math.pow(Ft,2)*(1-Ft)*St[or]+Pt[or]*Math.pow(Ft,3)},Mr=0;Mr<=1;){var zr=Sr(Mr,0),pr=Sr(Mr,1);if(Math.sqrt(Math.pow(zr-sr,2)+Math.pow(pr-cr,2))<Wt)return!0;Mr+=.01}return!1}(Jt,Xt,tr,Gt,[Ce,Le],et);return gr}if(It==="lineTo")return ht(Ue,Ce,Le,"sharp");It==="qcurveTo"&&console.warn("qcurveTo is not implemented yet")}return!1})}},761:function(We,ue,n){n.d(ue,{LM:function(){return a},eX:function(){return C},g0:function(){return h},uU:function(){return y},xm:function(){return U}});var r=n(7169),A=n(2577),k=n(2767),b=n(9937),w=n(8227),N=n(9827),M=n(7652),f=n(5742),d=n(4761),j=n(4183),L=n(8020);function H(V,D){var P=typeof Symbol<"u"&&V[Symbol.iterator]||V["@@iterator"];if(!P){if(Array.isArray(V)||(P=function(pe,ne){if(pe){if(typeof pe=="string")return x(pe,ne);var oe=Object.prototype.toString.call(pe).slice(8,-1);if(oe==="Object"&&pe.constructor&&(oe=pe.constructor.name),oe==="Map"||oe==="Set")return Array.from(pe);if(oe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(oe))return x(pe,ne)}}(V))||D){P&&(V=P);var F=0,X=function(){};return{s:X,n:function(){return F>=V.length?{done:!0}:{done:!1,value:V[F++]}},e:function(pe){throw pe},f:X}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var le,de=!0,fe=!1;return{s:function(){P=P.call(V)},n:function(){var pe=P.next();return de=pe.done,pe},e:function(pe){fe=!0,le=pe},f:function(){try{de||P.return==null||P.return()}finally{if(fe)throw le}}}}function x(V,D){(D==null||D>V.length)&&(D=V.length);for(var P=0,F=new Array(D);P<D;P++)F[P]=V[P];return F}function S(V,D){var P=Object.keys(V);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(V);D&&(F=F.filter(function(X){return Object.getOwnPropertyDescriptor(V,X).enumerable})),P.push.apply(P,F)}return P}function q(V){for(var D=1;D<arguments.length;D++){var P=arguments[D]!=null?arguments[D]:{};D%2?S(Object(P),!0).forEach(function(F){(0,r.Z)(V,F,P[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(P)):S(Object(P)).forEach(function(F){Object.defineProperty(V,F,Object.getOwnPropertyDescriptor(P,F))})}return V}var ve=new Map,ke=/^(?:http(?:s)?:\/\/)?(?:www\.)?youtu(?:be\.com|\.be)\/(embed\/|watch\?v=|shorts\/|playlist\?list=|embed\/videoseries\?list=)?([a-zA-Z0-9_-]+)(?:\?t=|&t=|\?start=|&start=)?([a-zA-Z0-9_-]+)?[^\s]*$/,Se=/^(?:http(?:s)?:\/\/)?(?:(?:w){3}\.)?(?:player\.)?vimeo\.com\/(?:video\/)?([^?\s]+)(?:\?.*)?$/,ge=/^https:\/\/(?:www\.)?figma\.com/,J=/^https:\/\/gist\.github\.com\/([\w_-]+)\/([\w_-]+)/,Q=/^<script[\s\S]*?\ssrc=["'](https:\/\/gist\.github\.com\/.*?)\.js["']/i,K=/(?:https?:\/\/)?(?:(?:w){3}\.)?(?:twitter|x)\.com\/[^/]+\/status\/(\d+)/,T=/^<blockquote[\s\S]*?\shref=["'](https?:\/\/(?:twitter|x)\.com\/[^"']*)/i,B=/^https:\/\/(?:www\.)?val\.town\/(v|embed)\/[a-zA-Z_$][0-9a-zA-Z_$]+\.[a-zA-Z_$][0-9a-zA-Z_$]+/,O=/^<(?:iframe|blockquote)[\s\S]*?\s(?:src|href)=["']([^"']*)["'][\s\S]*?>$/i,R=/giphy.com\/(?:clips|embed|gifs)\/[a-zA-Z0-9]*?-?([a-zA-Z0-9]+)(?:[^a-zA-Z0-9]|$)/,E=new Set(["youtube.com","youtu.be","vimeo.com","player.vimeo.com","figma.com","link.excalidraw.com","gist.github.com","twitter.com","*.simplepdf.eu","stackblitz.com","val.town","giphy.com"]),v=new Set(["youtube.com","youtu.be","vimeo.com","player.vimeo.com","figma.com","twitter.com","x.com","*.simplepdf.eu","stackblitz.com"]),i=function(V){return"<html><body>".concat(V,"</body></html>")},a=function(V){if(!V)return null;if(ve.has(V))return ve.get(V);var D=V,P=v.has(m(V,v)||""),F="generic",X={w:560,h:840},le=V.match(ke);if(le!=null&&le[2]){var de=le[3]?"&start=".concat(le[3]):"",fe=V.includes("shorts");switch(F="video",le[1]){case"embed/":case"watch?v=":case"shorts/":default:V="https://www.youtube.com/embed/".concat(le[2],"?enablejsapi=1").concat(de);break;case"playlist?list=":case"embed/videoseries?list=":V="https://www.youtube.com/embed/videoseries?list=".concat(le[2],"&enablejsapi=1").concat(de)}return X=fe?{w:315,h:560}:{w:560,h:315},ve.set(D,{link:V,aspectRatio:X,type:F,sandbox:{allowSameOrigin:P}}),{link:V,aspectRatio:X,type:F,sandbox:{allowSameOrigin:P}}}var pe=V.match(Se);if(pe!=null&&pe[1]){var ne=pe==null?void 0:pe[1],oe=/^\d+$/.test(ne)?void 0:(0,w.t)("toast.unrecognizedLinkFormat");return F="video",V="https://player.vimeo.com/video/".concat(ne,"?api=1"),X={w:560,h:315},ve.set(D,{link:V,aspectRatio:X,type:F,sandbox:{allowSameOrigin:P}}),{link:V,aspectRatio:X,type:F,warning:oe,sandbox:{allowSameOrigin:P}}}if(V.match(ge))return F="generic",V="https://www.figma.com/embed?embed_host=share&url=".concat(encodeURIComponent(V)),X={w:550,h:550},ve.set(D,{link:V,aspectRatio:X,type:F,sandbox:{allowSameOrigin:P}}),{link:V,aspectRatio:X,type:F,sandbox:{allowSameOrigin:P}};var be=V.match(B);if(be)return V=be[1]==="embed"?be[0]:be[0].replace("/v","/embed"),ve.set(D,{link:V,aspectRatio:X,type:F,sandbox:{allowSameOrigin:P}}),{link:V,aspectRatio:X,type:F,sandbox:{allowSameOrigin:P}};if(K.test(V)){var Me=V.match(K)[1],Ge=(0,L.tO)("https://twitter.com/x/status/".concat(Me)),qe={type:"document",srcdoc:function(xe){return i('<blockquote class="twitter-tweet" data-dnt="true" data-theme="'.concat(xe,'"><a href="').concat(Ge,'"></a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"><\/script>'))},aspectRatio:{w:480,h:480},sandbox:{allowSameOrigin:P}};return ve.set(D,qe),qe}if(J.test(V)){var Ne=V.match(J),Pe=(0,A.Z)(Ne,3),Re=Pe[1],Ze=Pe[2],Ie=(0,L.tO)("https://gist.github.com/".concat(Re,"/").concat(Ze)),Ee={type:"document",srcdoc:function(){return i(`
          <script src="`.concat(Ie,`.js"><\/script>
          <style type="text/css">
            * { margin: 0px; }
            table, .gist { height: 100%; }
            .gist .gist-file { height: calc(100vh - 2px); padding: 0px; display: grid; grid-template-rows: 1fr auto; }
          </style>
        `))},aspectRatio:{w:550,h:720},sandbox:{allowSameOrigin:P}};return ve.set(V,Ee),Ee}return ve.set(V,{link:V,aspectRatio:X,type:F,sandbox:{allowSameOrigin:P}}),{link:V,aspectRatio:X,type:F,sandbox:{allowSameOrigin:P}}},y=function(V){if((0,j.gs)(V))return!0;if(V.type==="text"){var D=(0,d.tl)(V);if(D&&(0,j.gs)(D))return!0}return!1},h=function(V){var D,P=V.link&&(V==null?void 0:V.link)!==""?V.link:"Empty Web-Embed",F=Math.max(Math.min(V.width/2,V.width/P.length),V.width/30),X=b.ut.Helvetica,le=(0,N.mO)({fontSize:F,fontFamily:X});return(0,f.VL)({x:V.x+V.width/2,y:V.y+V.height/2,strokeColor:V.strokeColor!=="transparent"?V.strokeColor:"black",backgroundColor:"transparent",fontFamily:X,fontSize:F,text:(0,d.lD)(P,le,V.width-20),textAlign:"center",verticalAlign:b.oX.MIDDLE,angle:(D=V.angle)!==null&&D!==void 0?D:0})},m=((0,k.z)({name:"setEmbeddableAsActiveTool",trackEvent:{category:"toolbar"},perform:function(V,D,P,F){var X=(0,N.Om)(D,{type:"embeddable"});return(0,M.Uk)(F.canvas,q(q({},D),{},{activeTool:X})),{elements:V,appState:q(q({},D),{},{activeTool:(0,N.Om)(D,{type:"embeddable"})}),commitToHistory:!1}}}),function(V,D){try{var P=new URL(V).hostname.replace(/^www\./,"");if(D instanceof Set){if(E.has(P))return P;var F=P.replace(/^([^.]+)/,"*");return E.has(F)?F:null}var X=D.replace(/^www\./,"");if(P===X)return X}catch{}return null}),C=function(V){var D=V.match(T);if(D&&D.length===2)return D[1];var P=V.match(Q);if(P&&P.length===2)return P[1];if(R.test(V))return"https://giphy.com/embed/".concat(R.exec(V)[1]);var F=V.match(O);return F&&F.length===2?F[1]:V},U=function(V,D){if(!V)return!1;if(D!=null)if(typeof D=="function"){var P=D(V);if(typeof P=="boolean")return P}else{if(typeof D=="boolean")return D;if(D instanceof RegExp)return D.test(V);if(Array.isArray(D)){var F,X=H(D);try{for(X.s();!(F=X.n()).done;){var le=F.value;if(le instanceof RegExp){if(V.match(le))return!0}else if(m(V,le))return!0}}catch(de){X.e(de)}finally{X.f()}return!1}}return!!m(V,E)}},4178:function(We,ue,n){n.d(ue,{PK:function(){return L},Xx:function(){return H},bp:function(){return S},oA:function(){return x}});var r=n(2577),A=n(7169),k=n(8950),b=n(2975),w=n.n(b),N=n(9937),M=n(8227),f=n(4183);function d(q,ve){var ke=Object.keys(q);if(Object.getOwnPropertySymbols){var Se=Object.getOwnPropertySymbols(q);ve&&(Se=Se.filter(function(ge){return Object.getOwnPropertyDescriptor(q,ge).enumerable})),ke.push.apply(ke,Se)}return ke}function j(q){for(var ve=1;ve<arguments.length;ve++){var ke=arguments[ve]!=null?arguments[ve]:{};ve%2?d(Object(ke),!0).forEach(function(Se){(0,A.Z)(q,Se,ke[Se])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(ke)):d(Object(ke)).forEach(function(Se){Object.defineProperty(q,Se,Object.getOwnPropertyDescriptor(ke,Se))})}return q}var L=function(q){return new Promise(function(ve,ke){var Se=new Image;Se.onload=function(){ve(Se)},Se.onerror=function(ge){ke(ge)},Se.src=q})},H=function(){var q=(0,k.Z)(w().mark(function ve(ke){var Se,ge,J,Q,K;return w().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return Se=ke.fileIds,ge=ke.files,J=ke.imageCache,Q=new Map,K=new Map,T.next=5,Promise.all(Se.reduce(function(B,O){var R=ge[O];return R&&!Q.has(O)?(Q.set(O,!0),B.concat((0,k.Z)(w().mark(function E(){var v,i,a;return w().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(y.prev=0,R.mimeType!==N.LO.binary){y.next=3;break}throw new Error("Only images can be added to ImageCache");case 3:return v=L(R.dataURL),i={image:v,mimeType:R.mimeType},J.set(O,i),y.next=8,v;case 8:a=y.sent,J.set(O,j(j({},i),{},{image:a})),y.next=15;break;case 12:y.prev=12,y.t0=y.catch(0),K.set(O,!0);case 15:case"end":return y.stop()}},E,null,[[0,12]])}))())):B},[]));case 5:return T.abrupt("return",{imageCache:J,updatedFiles:Q,erroredFiles:K});case 6:case"end":return T.stop()}},ve)}));return function(ve){return q.apply(this,arguments)}}(),x=function(q){return q.filter(function(ve){return(0,f.wi)(ve)})},S=function(){var q=(0,k.Z)(w().mark(function ve(ke){var Se,ge,J,Q,K,T,B;return w().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(Se=new DOMParser().parseFromString(ke,N.LO.svg),ge=Se.querySelector("svg"),!Se.querySelector("parsererror")&&((R=ge)==null?void 0:R.nodeName.toLowerCase())==="svg"){O.next=7;break}throw new Error((0,M.t)("errors.invalidSVGString"));case 7:return ge.hasAttribute("xmlns")||ge.setAttribute("xmlns",N.hR),ge.hasAttribute("width")&&ge.hasAttribute("height")||(J=ge.getAttribute("viewBox"),Q=ge.getAttribute("width")||"50",K=ge.getAttribute("height")||"50",J&&(T=J.match(/\d+ +\d+ +(\d+) +(\d+)/))&&(B=(0,r.Z)(T,3),Q=B[1],K=B[2]),ge.setAttribute("width",Q),ge.setAttribute("height",K)),O.abrupt("return",ge.outerHTML);case 10:case"end":return O.stop()}var R},ve)}));return function(ve){return q.apply(this,arguments)}}()},7651:function(We,ue,n){n.d(ue,{ox:function(){return N.ox},BQ:function(){return P},_M:function(){return F},EJ:function(){return R},o8:function(){return K},Sy:function(){return b.Sy},Y5:function(){return w.Y5},os:function(){return w.os},KP:function(){return w.KP},Un:function(){return q},UC:function(){return w.UC},$V:function(){return O},qf:function(){return w.qf},Pi:function(){return w.Pi},jt:function(){return H},o4:function(){return A.o4},Lm:function(){return C},Xf:function(){return U},Qp:function(){return A.Qp},T:function(){return ve.T},xx:function(){return ve.xx},Uo:function(){return h},n2:function(){return x},PC:function(){return N.PC},kK:function(){return N.kK},n_:function(){return m},wX:function(){return M.wX},r2:function(){return k.r2},He:function(){return k.He},wB:function(){return M.wB},QD:function(){return A.QD},qP:function(){return V},iB:function(){return k.iB},Up:function(){return b.Up},vw:function(){return b.vw},y8:function(){return b.y8},VL:function(){return b.VL},oN:function(){return ge.oN},JZ:function(){return b.JZ},RT:function(){return i},b_:function(){return E.b_},vY:function(){return ve.vY},N_:function(){return b.N_}});var r=n(7169),A=n(7935),k=n(4183),b=n(5742),w=n(4949),N=n(4048),M=n(3528),f=n(2577),d=n(2726),j=["rotation"],L=function(X,le,de){return le>=X[0]&&le<=X[0]+X[2]&&de>=X[1]&&de<=X[1]+X[3]},H=function(X,le,de,fe,pe,ne){return X.reduce(function(oe,be){if(oe)return oe;var Me=function(Ge,qe,Ne,Pe,Re,Ze){if(!qe.selectedElementIds[Ge.id])return!1;var Ie=(0,N.PC)(Ge,Re,Ze),Ee=Ie.rotation,xe=(0,d.Z)(Ie,j);if(Ee&&L(Ee,Ne,Pe))return"rotation";var Z=Object.keys(xe).filter(function(u){var g=xe[u];return!!g&&L(g,Ne,Pe)});return Z.length>0&&Z[0]}(be,le,de,fe,pe,ne);return Me?{element:be,transformHandleType:Me}:null},null)},x=function(X,le,de,fe,pe){var ne=(0,f.Z)(X,4),oe=ne[0],be=ne[1],Me=ne[2],Ge=ne[3],qe=(0,N.kK)([oe,be,Me,Ge,(oe+Me)/2,(be+Ge)/2],0,fe,pe,N.ox);return Object.keys(qe).find(function(Ne){var Pe=qe[Ne];return Pe&&L(Pe,le,de)})||!1},S=["ns","nesw","ew","nwse"],q=function(X){var le=X.element,de=X.transformHandleType,fe=le&&Math.sign(le.height)*Math.sign(le.width)==-1,pe=null;switch(de){case"n":case"s":pe="ns";break;case"w":case"e":pe="ew";break;case"nw":case"se":pe=fe?"nesw":"nwse";break;case"ne":case"sw":pe=fe?"nwse":"nesw";break;case"rotation":return"grab"}return pe&&le&&(pe=function(ne,oe){var be=S.indexOf(ne);if(be>=0){var Me=Math.round(oe/(Math.PI/4));ne=S[(be+Me)%S.length]}return ne}(pe,le.angle)),pe?"".concat(pe,"-resize"):""},ve=n(4381),ke=n(9645),Se=n(583),ge=n(4761),J=n(9215),Q=n(2361),K=function(X,le,de,fe,pe,ne,oe){var be=new Set(le),Me=le.filter(function(Ne){return(0,k.He)(Ne)}).map(function(Ne){return Ne.id});Me.length>0&&pe.getNonDeletedElements().filter(function(Ne){return!(0,k.Xh)(Ne)}).filter(function(Ne){return Ne.frameId!==null}).filter(function(Ne){return Me.includes(Ne.frameId)}).forEach(function(Ne){return be.add(Ne)});var Ge=(0,w.KP)(Array.from(be).map(function(Ne){var Pe;return(Pe=X.originalElements.get(Ne.id))!==null&&Pe!==void 0?Pe:Ne})),qe=T(Ge,de,ne,oe);be.forEach(function(Ne){if(B(X,Ne,qe),!(0,k.Yv)(Ne)&&(!Ne.groupIds.length||fe.editingGroupId&&!(0,J.zq)(fe,Ne))){var Pe=(0,ge.WJ)(Ne);Pe&&B(X,Pe,qe)}(0,ke.Ww)(Ne,{simultaneouslyUpdated:Array.from(be)})})},T=function(X,le,de,fe){var pe=(0,f.Z)(X,2),ne=pe[0],oe=pe[1],be=ne+le.x+de.x,Me=oe+le.y+de.y;if(de.x===0||de.y===0){var Ge=(0,Q.wC)(ne+le.x,oe+le.y,fe),qe=(0,f.Z)(Ge,2),Ne=qe[0],Pe=qe[1];de.x===0&&(be=Ne),de.y===0&&(Me=Pe)}return{x:be-ne,y:Me-oe}},B=function(X,le,de){var fe,pe=(fe=X.originalElements.get(le.id))!==null&&fe!==void 0?fe:le,ne=pe.x+de.x,oe=pe.y+de.y;(0,Se.DR)(le,{x:ne,y:oe})},O=function(X,le,de){var fe=(0,w.KP)(X),pe=(0,f.Z)(fe,2);return[le-pe[0],de-pe[1]]},R=function(X,le,de,fe,pe,ne,oe,be,Me,Ge,qe){var Ne=arguments.length>11&&arguments[11]!==void 0?arguments[11]:null;if(Me&&X.type!=="selection")if(qe)be=oe/qe;else{if(Math.abs(ne-fe)>Math.abs(pe-de)){var Pe=(0,A.uK)(le,be,pe<de?-oe:oe);oe=Pe.width,be=Pe.height}else{var Re=(0,A.uK)(le,oe,ne<fe?-be:be);oe=Re.width,be=Re.height}be<0&&(be=-be)}var Ze,Ie,Ee=pe<de?de-oe:de,xe=ne<fe?fe-be:fe;Ge&&(Ee=de-(oe+=oe)/2,xe=fe-(be+=be)/2),oe!==0&&be!==0&&(0,Se.DR)(X,{x:Ee+((Ze=Ne==null?void 0:Ne.x)!==null&&Ze!==void 0?Ze:0),y:xe+((Ie=Ne==null?void 0:Ne.y)!==null&&Ie!==void 0?Ie:0),width:oe,height:be})},E=n(3474),v=n(4105),i=function(X,le){return!!(!X.viewModeEnabled&&(X.activeTool.type!=="custom"&&(X.editingElement||X.activeTool.type!=="selection"&&X.activeTool.type!=="eraser"&&X.activeTool.type!=="hand"&&X.activeTool.type!=="laser")||(0,v.eD)(le,X).length))};function a(X,le){var de=Object.keys(X);if(Object.getOwnPropertySymbols){var fe=Object.getOwnPropertySymbols(X);le&&(fe=fe.filter(function(pe){return Object.getOwnPropertyDescriptor(X,pe).enumerable})),de.push.apply(de,fe)}return de}function y(X){for(var le=1;le<arguments.length;le++){var de=arguments[le]!=null?arguments[le]:{};le%2?a(Object(de),!0).forEach(function(fe){(0,r.Z)(X,fe,de[fe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(X,Object.getOwnPropertyDescriptors(de)):a(Object(de)).forEach(function(fe){Object.defineProperty(X,fe,Object.getOwnPropertyDescriptor(de,fe))})}return X}var h=function(X){return X.reduce(function(le,de){return le+de.version},0)},m=function(X){return X.filter(function(le){return!le.isDeleted&&!(0,A.QD)(le)})},C=function(X){return X.filter(function(le){return!le.isDeleted})},U=function(X){return X.filter(function(le){return!le.isDeleted})},V=function(X){return!X.isDeleted},D=function(X){return C(X).map(function(le){return(0,k.dt)(le.type)?y(y({},le),{},{lastCommittedPoint:null}):le})},P=function(X){return D(X)},F=function(X){return D(X)}},7422:function(We,ue,n){n.d(ue,{_:function(){return T}});var r=n(1930),A=n(7169),k=n(2577),b=n(8821),w=n(5169),N=n(2361),M=n(7651),f=n(4949),d=n(583),j=n(457),L=n(9645),H=n(9827),x=n(4183),S=n(5491),q=n(4761),ve=n(9937),ke=n(2921);function Se(O,R){var E=typeof Symbol<"u"&&O[Symbol.iterator]||O["@@iterator"];if(!E){if(Array.isArray(O)||(E=function(m,C){if(m){if(typeof m=="string")return ge(m,C);var U=Object.prototype.toString.call(m).slice(8,-1);if(U==="Object"&&m.constructor&&(U=m.constructor.name),U==="Map"||U==="Set")return Array.from(m);if(U==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U))return ge(m,C)}}(O))||R){E&&(O=E);var v=0,i=function(){};return{s:i,n:function(){return v>=O.length?{done:!0}:{done:!1,value:O[v++]}},e:function(m){throw m},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,y=!0,h=!1;return{s:function(){E=E.call(O)},n:function(){var m=E.next();return y=m.done,m},e:function(m){h=!0,a=m},f:function(){try{y||E.return==null||E.return()}finally{if(h)throw a}}}}function ge(O,R){(R==null||R>O.length)&&(R=O.length);for(var E=0,v=new Array(R);E<R;E++)v[E]=O[E];return v}function J(O,R){var E=Object.keys(O);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(O);R&&(v=v.filter(function(i){return Object.getOwnPropertyDescriptor(O,i).enumerable})),E.push.apply(E,v)}return E}function Q(O){for(var R=1;R<arguments.length;R++){var E=arguments[R]!=null?arguments[R]:{};R%2?J(Object(E),!0).forEach(function(v){(0,A.Z)(O,v,E[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(E)):J(Object(E)).forEach(function(v){Object.defineProperty(O,v,Object.getOwnPropertyDescriptor(E,v))})}return O}var K={version:null,points:[],zoom:null},T=function(){function O(R,E){(0,b.Z)(this,O),this.elementId=R.id,j.Z.mapElementToScene(this.elementId,E),O.normalizePoints(R),this.selectedPointsIndices=null,this.lastUncommittedPoint=null,this.isDragging=!1,this.pointerOffset={x:0,y:0},this.startBindingElement="keep",this.endBindingElement="keep",this.pointerDownState={prevSelectedPointsIndices:null,lastClickedPoint:-1,origin:null,segmentMidpoint:{value:null,index:null,added:!1}},this.hoverPointIndex=-1,this.segmentMidPointHoveredCoords=null}return(0,w.Z)(O,null,[{key:"getElement",value:function(R){var E,v=(E=j.Z.getScene(R))===null||E===void 0?void 0:E.getNonDeletedElement(R);return v||null}},{key:"handleBoxSelection",value:function(R,E,v){var i;if(!E.editingLinearElement||((i=E.draggingElement)===null||i===void 0?void 0:i.type)!=="selection")return!1;var a=E.editingLinearElement,y=a.selectedPointsIndices,h=a.elementId,m=O.getElement(h);if(!m)return!1;var C=(0,M.qf)(E.draggingElement),U=(0,k.Z)(C,4),V=U[0],D=U[1],P=U[2],F=U[3],X=O.getPointsGlobalCoordinates(m).reduce(function(le,de,fe){return(de[0]>=V&&de[0]<=P&&de[1]>=D&&de[1]<=F||R.shiftKey&&y!=null&&y.includes(fe))&&le.push(fe),le},[]);v({editingLinearElement:Q(Q({},a),{},{selectedPointsIndices:X.length?X:null})})}},{key:"handlePointDragging",value:function(R,E,v,i,a,y){if(!y)return!1;var h=y.selectedPointsIndices,m=y.elementId,C=O.getElement(m);if(!C)return!1;var U=C.points[y.pointerDownState.lastClickedPoint];if(h&&U){if((0,S.Ge)(R)&&h.length===1&&C.points.length>1){var V=h[0],D=C.points[V===0?1:V-1],P=O._getShiftLockedDelta(C,D,[v,i],R[S.tW.CTRL_OR_CMD]?null:E.gridSize),F=(0,k.Z)(P,2),X=F[0],le=F[1];O.movePoints(C,[{index:V,point:[X+D[0],le+D[1]],isDragging:V===y.pointerDownState.lastClickedPoint}])}else{var de=O.createPointAt(C,v-y.pointerOffset.x,i-y.pointerOffset.y,R[S.tW.CTRL_OR_CMD]?null:E.gridSize),fe=de[0]-U[0],pe=de[1]-U[1];O.movePoints(C,h.map(function(be){return{index:be,point:be===y.pointerDownState.lastClickedPoint?O.createPointAt(C,v-y.pointerOffset.x,i-y.pointerOffset.y,R[S.tW.CTRL_OR_CMD]?null:E.gridSize):[C.points[be][0]+fe,C.points[be][1]+pe],isDragging:be===y.pointerDownState.lastClickedPoint}}))}if((0,q.WJ)(C)&&(0,q.RB)(C,!1),(0,x.Mn)(C,!1)){var ne=[];h[0]===0&&ne.push((0,H.AK)(O.getPointGlobalCoordinates(C,C.points[0])));var oe=h[h.length-1];oe===C.points.length-1&&ne.push((0,H.AK)(O.getPointGlobalCoordinates(C,C.points[oe]))),ne.length&&a(C,ne)}return!0}return!1}},{key:"handlePointerUp",value:function(R,E,v){var i,a=E.elementId,y=E.selectedPointsIndices,h=E.isDragging,m=E.pointerDownState,C=O.getElement(a);if(!C)return E;var U={};if(h&&y){var V,D=Se(y);try{for(D.s();!(V=D.n()).done;){var P=V.value;if(P===0||P===C.points.length-1){(0,N.g6)(C.points,v.zoom.value)&&O.movePoints(C,[{index:P,point:P===0?C.points[C.points.length-1]:C.points[0]}]);var F=(0,L.N1)(v)?(0,L.Y9)((0,H.AK)(O.getPointAtIndexGlobalCoordinates(C,P)),j.Z.getScene(C)):null;U[P===0?"startBindingElement":"endBindingElement"]=F}}}catch(X){D.e(X)}finally{D.f()}}return Q(Q(Q({},E),U),{},{selectedPointsIndices:h||R.shiftKey?!h&&R.shiftKey&&(i=m.prevSelectedPointsIndices)!==null&&i!==void 0&&i.includes(m.lastClickedPoint)?y&&y.filter(function(X){return X!==m.lastClickedPoint}):y:y!=null&&y.includes(m.lastClickedPoint)?[m.lastClickedPoint]:y,isDragging:!1,pointerOffset:{x:0,y:0}})}},{key:"isSegmentTooShort",value:function(R,E,v,i){var a=(0,N.LW)(E[0],E[1],v[0],v[1]);return R.points.length>2&&R.roundness&&(a=(0,N.eH)(R,v)),a*i.value<4*O.POINT_HANDLE_SIZE}},{key:"getSegmentMidPoint",value:function(R,E,v,i){var a=(0,N.H5)(E,v);if(R.points.length>2&&R.roundness){var y=(0,N.yB)(R,R.points[i]);if(y){var h=(0,N.lk)(R,R.points[i],.5),m=(0,N.N_)(y[0],y[1],y[2],y[3],h),C=(0,k.Z)(m,2),U=C[0],V=C[1];a=O.getPointGlobalCoordinates(R,[U,V])}}return a}},{key:"getSegmentMidPointIndex",value:function(R,E,v){var i=O.getElement(R.elementId);if(!i)return-1;for(var a=O.getEditorMidPoints(i,E),y=0;y<a.length;){if(O.arePointsEqual(v,a[y]))return y+1;y++}return-1}},{key:"handlePointerDown",value:function(R,E,v,i,a){var y,h={didAddPoint:!1,hitElement:null,linearElementEditor:null};if(!a)return h;var m=a.elementId,C=O.getElement(m);if(!C)return h;var U=O.getSegmentMidpointHitCoords(a,i,E),V=null;if(U&&(V=O.getSegmentMidPointIndex(a,E,U)),R.altKey&&E.editingLinearElement)return a.lastUncommittedPoint==null&&((0,d.DR)(C,{points:[].concat((0,r.Z)(C.points),[O.createPointAt(C,i.x,i.y,R[S.tW.CTRL_OR_CMD]?null:E.gridSize)])}),h.didAddPoint=!0),v.resumeRecording(),h.linearElementEditor=Q(Q({},a),{},{pointerDownState:{prevSelectedPointsIndices:a.selectedPointsIndices,lastClickedPoint:-1,origin:{x:i.x,y:i.y},segmentMidpoint:{value:U,index:V,added:!1}},selectedPointsIndices:[C.points.length-1],lastUncommittedPoint:null,endBindingElement:(0,L.Y9)(i,j.Z.getScene(C))}),h.didAddPoint=!0,h;var D=O.getPointIndexUnderCursor(C,E.zoom,i.x,i.y);if(D>=0||U)h.hitElement=C;else{var P=a.startBindingElement,F=a.endBindingElement;(0,L.N1)(E)&&(0,x.Mn)(C)&&(0,L.HG)(C,P,F)}var X=(0,M.qf)(C),le=(0,k.Z)(X,4),de=le[0],fe=le[1],pe=(de+le[2])/2,ne=(fe+le[3])/2,oe=D>-1&&(0,N.U1)(C.x+C.points[D][0],C.y+C.points[D][1],pe,ne,C.angle),be=D>-1||R.shiftKey?R.shiftKey||(y=a.selectedPointsIndices)!==null&&y!==void 0&&y.includes(D)?B([].concat((0,r.Z)(a.selectedPointsIndices||[]),[D])):[D]:null;return h.linearElementEditor=Q(Q({},a),{},{pointerDownState:{prevSelectedPointsIndices:a.selectedPointsIndices,lastClickedPoint:D,origin:{x:i.x,y:i.y},segmentMidpoint:{value:U,index:V,added:!1}},selectedPointsIndices:be,pointerOffset:oe?{x:i.x-oe[0],y:i.y-oe[1]}:{x:0,y:0}}),h}},{key:"arePointsEqual",value:function(R,E){return!R&&!E||!(!R||!E)&&(0,N.Jj)(R,E)}},{key:"handlePointerMove",value:function(R,E,v,i){if(!i.editingLinearElement)return null;var a=i.editingLinearElement,y=a.elementId,h=a.lastUncommittedPoint,m=O.getElement(y);if(!m)return i.editingLinearElement;var C,U=m.points,V=U[U.length-1];if(!R.altKey)return V===h&&O.deletePoints(m,[U.length-1]),Q(Q({},i.editingLinearElement),{},{lastUncommittedPoint:null});if((0,S.Ge)(R)&&U.length>=2){var D=U[U.length-2],P=O._getShiftLockedDelta(m,D,[E,v],R[S.tW.CTRL_OR_CMD]?null:i.gridSize),F=(0,k.Z)(P,2),X=F[0],le=F[1];C=[X+D[0],le+D[1]]}else C=O.createPointAt(m,E-i.editingLinearElement.pointerOffset.x,v-i.editingLinearElement.pointerOffset.y,R[S.tW.CTRL_OR_CMD]?null:i.gridSize);return V===h?O.movePoints(m,[{index:m.points.length-1,point:C}]):O.addPoints(m,i,[{point:C}]),Q(Q({},i.editingLinearElement),{},{lastUncommittedPoint:m.points[m.points.length-1]})}},{key:"getPointGlobalCoordinates",value:function(R,E){var v=(0,M.qf)(R),i=(0,k.Z)(v,4),a=i[0],y=i[1],h=(a+i[2])/2,m=(y+i[3])/2,C=R.x,U=R.y,V=(0,N.U1)(C+E[0],U+E[1],h,m,R.angle),D=(0,k.Z)(V,2);return[C=D[0],U=D[1]]}},{key:"getPointsGlobalCoordinates",value:function(R){var E=(0,M.qf)(R),v=(0,k.Z)(E,4),i=v[0],a=v[1],y=v[2],h=v[3],m=(i+y)/2,C=(a+h)/2;return R.points.map(function(U){var V=R.x,D=R.y,P=(0,N.U1)(V+U[0],D+U[1],m,C,R.angle),F=(0,k.Z)(P,2);return[V=F[0],D=F[1]]})}},{key:"getPointAtIndexGlobalCoordinates",value:function(R,E){var v=E<0?R.points.length+E:E,i=(0,M.qf)(R),a=(0,k.Z)(i,4),y=a[0],h=a[1],m=(y+a[2])/2,C=(h+a[3])/2,U=R.points[v],V=R.x,D=R.y;return U?(0,N.U1)(V+U[0],D+U[1],m,C,R.angle):(0,N.U1)(V,D,m,C,R.angle)}},{key:"pointFromAbsoluteCoords",value:function(R,E){var v=(0,M.qf)(R),i=(0,k.Z)(v,4),a=i[0],y=i[1],h=(a+i[2])/2,m=(y+i[3])/2,C=(0,N.U1)(E[0],E[1],h,m,-R.angle),U=(0,k.Z)(C,2),V=U[0],D=U[1];return[V-R.x,D-R.y]}},{key:"getPointIndexUnderCursor",value:function(R,E,v,i){for(var a=O.getPointsGlobalCoordinates(R),y=a.length;--y>-1;){var h=a[y];if((0,N.LW)(v,i,h[0],h[1])*E.value<O.POINT_HANDLE_SIZE+1)return y}return-1}},{key:"createPointAt",value:function(R,E,v,i){var a=(0,N.wC)(E,v,i),y=(0,M.qf)(R),h=(0,k.Z)(y,4),m=h[0],C=h[1],U=(m+h[2])/2,V=(C+h[3])/2,D=(0,N.U1)(a[0],a[1],U,V,-R.angle),P=(0,k.Z)(D,2),F=P[0],X=P[1];return[F-R.x,X-R.y]}},{key:"getNormalizedPoints",value:function(R){var E=R.points,v=E[0][0],i=E[0][1];return{points:E.map(function(a,y){return[a[0]-v,a[1]-i]}),x:R.x+v,y:R.y+i}}},{key:"normalizePoints",value:function(R){(0,d.DR)(R,O.getNormalizedPoints(R))}},{key:"duplicateSelectedPoints",value:function(R){if(!R.editingLinearElement)return!1;var E=R.editingLinearElement,v=E.selectedPointsIndices,i=E.elementId,a=O.getElement(i);if(!a||v===null)return!1;var y=a.points,h=[],m=!1,C=-1,U=y.reduce(function(D,P,F){if(++C,D.push(P),v.includes(F)){var X=y[F+1];X||(m=!0),D.push(X?[(P[0]+X[0])/2,(P[1]+X[1])/2]:[P[0],P[1]]),h.push(C+1),++C}return D},[]);if((0,d.DR)(a,{points:U}),m){var V=a.points[a.points.length-1];O.movePoints(a,[{index:a.points.length-1,point:[V[0]+30,V[1]+30]}])}return{appState:Q(Q({},R),{},{editingLinearElement:Q(Q({},R.editingLinearElement),{},{selectedPointsIndices:h})})}}},{key:"deletePoints",value:function(R,E){var v=0,i=0;if(E.includes(0)){var a=R.points.find(function(h,m){return!E.includes(m)});a&&(v=a[0],i=a[1])}var y=R.points.reduce(function(h,m,C){return E.includes(C)||h.push(h.length?[m[0]-v,m[1]-i]:[0,0]),h},[]);O._updatePoints(R,y,v,i)}},{key:"addPoints",value:function(R,E,v){var i=[].concat((0,r.Z)(R.points),(0,r.Z)(v.map(function(a){return a.point})));O._updatePoints(R,i,0,0)}},{key:"movePoints",value:function(R,E,v){var i=R.points,a=0,y=0,h=E.find(function(C){return C.index===0});h&&(a=h.point[0]+i[h.index][0],y=h.point[1]+i[h.index][1]);var m=i.map(function(C,U){var V=E.find(function(F){return F.index===U});if(V){if(h)return C;var D=V.point[0]-i[V.index][0],P=V.point[1]-i[V.index][1];return[C[0]+D,C[1]+P]}return a||y?[C[0]-a,C[1]-y]:C});O._updatePoints(R,m,a,y,v)}},{key:"shouldAddMidpoint",value:function(R,E,v){if(!O.getElement(R.elementId))return!1;var i=R.pointerDownState.segmentMidpoint;if(i.added||i.value===null||i.index===null||R.pointerDownState.origin===null)return!1;var a=R.pointerDownState.origin,y=(0,N.LW)(a.x,a.y,E.x,E.y);return!(!v.editingLinearElement&&y<ve.f/v.zoom.value)}},{key:"addMidpoint",value:function(R,E,v,i){var a=O.getElement(R.elementId);if(a){var y=R.pointerDownState.segmentMidpoint,h={pointerDownState:R.pointerDownState,selectedPointsIndices:R.selectedPointsIndices},m=O.createPointAt(a,E.x,E.y,i?v.gridSize:null),C=[].concat((0,r.Z)(a.points.slice(0,y.index)),[m],(0,r.Z)(a.points.slice(y.index)));return(0,d.DR)(a,{points:C}),h.pointerDownState=Q(Q({},R.pointerDownState),{},{segmentMidpoint:Q(Q({},R.pointerDownState.segmentMidpoint),{},{added:!0}),lastClickedPoint:y.index}),h.selectedPointsIndices=[y.index],h}}},{key:"_updatePoints",value:function(R,E,v,i,a){var y=(0,f.Ut)(R,E),h=(0,f.Ut)(R,R.points),m=(y[0]+y[2])/2,C=(y[1]+y[3])/2,U=(h[0]+h[2])/2-m,V=(h[1]+h[3])/2-C,D=(0,N.U1)(v,i,U,V,R.angle);(0,d.DR)(R,Q(Q({},a),{},{points:E,x:R.x+D[0],y:R.y+D[1]}))}},{key:"_getShiftLockedDelta",value:function(R,E,v,i){var a=O.getPointGlobalCoordinates(R,E),y=(0,N.wC)(v[0],v[1],i),h=(0,k.Z)(y,2),m=h[0],C=h[1],U=(0,M.o4)(a[0],a[1],m,C),V=U.width,D=U.height;return(0,N.xj)([V,D],[0,0],-R.angle)}}]),O}();T.POINT_HANDLE_SIZE=10,T.getEditorMidPoints=function(O,R){var E=(0,q.WJ)(O);return!R.editingLinearElement&&O.points.length>2&&!E?[]:(K.version===O.version&&K.zoom===R.zoom.value||T.updateEditorMidPointsCache(O,R),K.points)},T.updateEditorMidPointsCache=function(O,R){for(var E=T.getPointsGlobalCoordinates(O),v=0,i=[];v<E.length-1;)if(T.isSegmentTooShort(O,O.points[v],O.points[v+1],R.zoom))i.push(null),v++;else{var a=T.getSegmentMidPoint(O,E[v],E[v+1],v+1);i.push(a),v++}K.points=i,K.version=O.version,K.zoom=R.zoom.value},T.getSegmentMidpointHitCoords=function(O,R,E){var v=O.elementId,i=T.getElement(v);if(!i||T.getPointIndexUnderCursor(i,E.zoom,R.x,R.y)>=0||T.getPointsGlobalCoordinates(i).length>=3&&!E.editingLinearElement)return null;var a=T.POINT_HANDLE_SIZE/E.zoom.value,y=O.segmentMidPointHoveredCoords;if(y&&(0,N.LW)(y[0],y[1],R.x,R.y)<=a)return y;for(var h=0,m=T.getEditorMidPoints(i,E);h<m.length;){if(m[h]!==null&&(0,N.LW)(m[h][0],m[h][1],R.x,R.y)<=a)return m[h];h++}return null},T.getBoundTextElementPosition=function(O,R){var E=T.getPointsGlobalCoordinates(O);E.length<2&&(0,d.DR)(R,{isDeleted:!0});var v=0,i=0;if(O.points.length%2==1){var a=Math.floor(O.points.length/2),y=T.getPointGlobalCoordinates(O,O.points[a]);v=y[0]-R.width/2,i=y[1]-R.height/2}else{var h=O.points.length/2-1,m=K.points[h];O.points.length===2&&(m=(0,N.H5)(E[0],E[1])),m&&K.version===O.version||(m=T.getSegmentMidPoint(O,E[h],E[h+1],h+1)),v=m[0]-R.width/2,i=m[1]-R.height/2}return{x:v,y:i}},T.getMinMaxXYWithBoundText=function(O,R,E){var v=(0,k.Z)(R,4),i=v[0],a=v[1],y=v[2],h=v[3],m=(i+y)/2,C=(a+h)/2,U=T.getBoundTextElementPosition(O,E),V=U.x,D=U.y,P=V+E.width,F=D+E.height,X=(0,N.xj)([i,a],[m,C],O.angle),le=(0,N.xj)([y,a],[m,C],O.angle),de=(0,N.xj)([V,D],[m,C],-O.angle),fe=(0,N.xj)([P,D],[m,C],-O.angle),pe=(0,N.xj)([V,F],[m,C],-O.angle),ne=(0,N.xj)([P,F],[m,C],-O.angle);return X[0]<le[0]&&X[1]>=le[1]?(i=Math.min(i,pe[0]),y=Math.max(y,Math.max(fe[0],ne[0])),a=Math.min(a,de[1]),h=Math.max(h,ne[1])):X[0]>=le[0]&&X[1]>le[1]?(i=Math.min(i,ne[0]),y=Math.max(y,Math.max(de[0],fe[0])),a=Math.min(a,pe[1]),h=Math.max(h,fe[1])):X[0]>=le[0]?(i=Math.min(i,fe[0]),y=Math.max(y,pe[0]),a=Math.min(a,ne[1]),h=Math.max(h,de[1])):X[1]<=le[1]&&(i=Math.min(i,Math.min(fe[0],de[0])),y=Math.max(y,ne[0]),a=Math.min(a,fe[1]),h=Math.max(h,pe[1])),[i,a,y,h,m,C]},T.getElementAbsoluteCoords=function(O){var R,E,v,i,a,y=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(O.points.length<2||!ke.R.get(O)){var h=O.points.reduce(function(Me,Ge){var qe=(0,k.Z)(Ge,2),Ne=qe[0],Pe=qe[1];return Me.minY=Math.min(Me.minY,Pe),Me.minX=Math.min(Me.minX,Ne),Me.maxX=Math.max(Me.maxX,Ne),Me.maxY=Math.max(Me.maxY,Pe),Me},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}),m=h.minX,C=h.minY,U=h.maxX,V=h.maxY;E=m+O.x,v=C+O.y,i=U+O.x,a=V+O.y}else{var D=ke.R.generateElementShape(O),P=(0,f.CM)(D[0]),F=(0,f.IX)(P),X=(0,k.Z)(F,4),le=X[0],de=X[1],fe=X[2],pe=X[3];E=le+O.x,v=de+O.y,i=fe+O.x,a=pe+O.y}var ne=(E+i)/2,oe=(v+a)/2;if(R=[E,v,i,a,ne,oe],!y)return R;var be=(0,q.WJ)(O);return be&&(R=T.getMinMaxXYWithBoundText(O,[E,v,i,a],be)),R};var B=function(O){var R=(0,r.Z)(new Set(O.filter(function(E){return E!==null&&E!==-1})));return(R=R.sort(function(E,v){return E-v})).length?R:null}},583:function(We,ue,n){n.d(ue,{BE:function(){return L},DR:function(){return j},ZP:function(){return H}});var r=n(6655),A=n(7169),k=n(457),b=n(5999),w=n(4643),N=n(9827),M=n(2921);function f(x,S){var q=Object.keys(x);if(Object.getOwnPropertySymbols){var ve=Object.getOwnPropertySymbols(x);S&&(ve=ve.filter(function(ke){return Object.getOwnPropertyDescriptor(x,ke).enumerable})),q.push.apply(q,ve)}return q}function d(x){for(var S=1;S<arguments.length;S++){var q=arguments[S]!=null?arguments[S]:{};S%2?f(Object(q),!0).forEach(function(ve){(0,A.Z)(x,ve,q[ve])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(q)):f(Object(q)).forEach(function(ve){Object.defineProperty(x,ve,Object.getOwnPropertyDescriptor(q,ve))})}return x}var j=function(x,S){var q,ve=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],ke=!1,Se=S,ge=Se.points,J=Se.fileId;for(var Q in ge!==void 0&&(S=d(d({},(0,b.k)(ge)),S)),S){var K=S[Q];if(K!==void 0){if(x[Q]===K&&((0,r.Z)(K)!=="object"||K===null||Q==="groupIds"||Q==="scale"))continue;if(Q==="scale"){var T=x[Q],B=K;if(T[0]===B[0]&&T[1]===B[1])continue}else if(Q==="points"){var O=x[Q],R=K;if(O.length===R.length){for(var E=!1,v=O.length;--v;){var i=O[v],a=R[v];if(i[0]!==a[0]||i[1]!==a[1]){E=!0;break}}if(!E)continue}}x[Q]=K,ke=!0}}return ke&&(S.height===void 0&&S.width===void 0&&J===void 0&&ge===void 0||M.R.delete(x),x.version++,x.versionNonce=(0,w.LU)(),x.updated=(0,N.C3)(),ve&&((q=k.Z.getScene(x))===null||q===void 0||q.informMutation())),x},L=function(x,S){var q=!1;for(var ve in S){var ke=S[ve];if(ke!==void 0){if(x[ve]===ke&&((0,r.Z)(ke)!=="object"||ke===null))continue;q=!0}}return q?d(d(d({},x),S),{},{updated:(0,N.C3)(),version:x.version+1,versionNonce:(0,w.LU)()}):x},H=function(x,S){return x.version=(S??x.version)+1,x.versionNonce=(0,w.LU)(),x.updated=(0,N.C3)(),x}},5742:function(We,ue,n){n.d(ue,{JZ:function(){return R},KE:function(){return v},M:function(){return Q},M3:function(){return K},N_:function(){return E},OL:function(){return h},Sy:function(){return C},Up:function(){return J},VL:function(){return B},_N:function(){return U},vw:function(){return a},y8:function(){return i}});var r=n(6655),A=n(2577),k=n(7169),b=n(2726),w=n(9827),N=n(4643),M=n(583),f=n(9215),d=n(7651),j=n(2361),L=n(4949),H=n(4761),x=n(9937),S=["x","y","strokeColor","backgroundColor","fillStyle","strokeWidth","strokeStyle","roughness","opacity","width","height","angle","groupIds","frameId","roundness","boundElements","link","locked"];function q(V,D){var P=typeof Symbol<"u"&&V[Symbol.iterator]||V["@@iterator"];if(!P){if(Array.isArray(V)||(P=function(pe,ne){if(pe){if(typeof pe=="string")return ve(pe,ne);var oe=Object.prototype.toString.call(pe).slice(8,-1);if(oe==="Object"&&pe.constructor&&(oe=pe.constructor.name),oe==="Map"||oe==="Set")return Array.from(pe);if(oe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(oe))return ve(pe,ne)}}(V))||D){P&&(V=P);var F=0,X=function(){};return{s:X,n:function(){return F>=V.length?{done:!0}:{done:!1,value:V[F++]}},e:function(pe){throw pe},f:X}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var le,de=!0,fe=!1;return{s:function(){P=P.call(V)},n:function(){var pe=P.next();return de=pe.done,pe},e:function(pe){fe=!0,le=pe},f:function(){try{de||P.return==null||P.return()}finally{if(fe)throw le}}}}function ve(V,D){(D==null||D>V.length)&&(D=V.length);for(var P=0,F=new Array(D);P<D;P++)F[P]=V[P];return F}function ke(V,D){var P=Object.keys(V);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(V);D&&(F=F.filter(function(X){return Object.getOwnPropertyDescriptor(V,X).enumerable})),P.push.apply(P,F)}return P}function Se(V){for(var D=1;D<arguments.length;D++){var P=arguments[D]!=null?arguments[D]:{};D%2?ke(Object(P),!0).forEach(function(F){(0,k.Z)(V,F,P[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(P)):ke(Object(P)).forEach(function(F){Object.defineProperty(V,F,Object.getOwnPropertyDescriptor(P,F))})}return V}var ge=function(V,D){var P,F,X=D.x,le=D.y,de=D.strokeColor,fe=de===void 0?x.HN.strokeColor:de,pe=D.backgroundColor,ne=pe===void 0?x.HN.backgroundColor:pe,oe=D.fillStyle,be=oe===void 0?x.HN.fillStyle:oe,Me=D.strokeWidth,Ge=Me===void 0?x.HN.strokeWidth:Me,qe=D.strokeStyle,Ne=qe===void 0?x.HN.strokeStyle:qe,Pe=D.roughness,Re=Pe===void 0?x.HN.roughness:Pe,Ze=D.opacity,Ie=Ze===void 0?x.HN.opacity:Ze,Ee=D.width,xe=Ee===void 0?0:Ee,Z=D.height,u=Z===void 0?0:Z,g=D.angle,z=g===void 0?0:g,Y=D.groupIds,te=Y===void 0?[]:Y,ae=D.frameId,ce=ae===void 0?null:ae,ye=D.roundness,je=ye===void 0?null:ye,Be=D.boundElements,Qe=Be===void 0?null:Be,rt=D.link,Ye=rt===void 0?null:rt,tt=D.locked,ht=tt===void 0?x.HN.locked:tt,gt=(0,b.Z)(D,S);return{id:gt.id||(0,N.kb)(),type:V,x:X,y:le,width:xe,height:u,angle:z,strokeColor:fe,backgroundColor:ne,fillStyle:be,strokeWidth:Ge,strokeStyle:Ne,roughness:Re,opacity:Ie,groupIds:te,frameId:ce,roundness:je,seed:(P=gt.seed)!==null&&P!==void 0?P:(0,N.LU)(),version:gt.version||1,versionNonce:(F=gt.versionNonce)!==null&&F!==void 0?F:0,isDeleted:!1,boundElements:Qe,updated:(0,w.C3)(),link:Ye,locked:ht,customData:gt.customData}},J=function(V){return ge(V.type,V)},Q=function(V){return Se(Se({},ge("embeddable",V)),{},{validated:V.validated})},K=function(V){return(0,M.BE)(Se(Se({},ge("frame",V)),{},{type:"frame",name:(V==null?void 0:V.name)||null}),{})},T=function(V,D){return{x:V.textAlign==="center"?D.width/2:V.textAlign==="right"?D.width:0,y:V.verticalAlign==="middle"?D.height/2:0}},B=function(V){var D=V.fontFamily||x.rk,P=V.fontSize||x.n5,F=V.lineHeight||(0,H.PT)(D),X=(0,H.bG)(V.text),le=(0,H.X1)(X,(0,w.mO)({fontFamily:D,fontSize:P}),F),de=V.textAlign||x.Hg,fe=V.verticalAlign||x.hs,pe=T({textAlign:de,verticalAlign:fe},le);return(0,M.BE)(Se(Se({},ge("text",V)),{},{text:X,fontSize:P,fontFamily:D,textAlign:de,verticalAlign:fe,x:V.x-pe.x,y:V.y-pe.y,width:le.width,height:le.height,baseline:le.baseline,containerId:V.containerId||null,originalText:X,lineHeight:F}),{})},O=function(V,D){var P,F,X=(0,H.X1)(D,(0,w.mO)(V),V.lineHeight),le=X.width,de=X.height,fe=X.baseline,pe=V.textAlign,ne=V.verticalAlign;if(pe!=="center"||ne!==x.oX.MIDDLE||V.containerId){var oe=(0,d.qf)(V),be=(0,A.Z)(oe,4),Me=be[0],Ge=be[1],qe=be[2],Ne=be[3],Pe=(0,L.wC)(V,le,de,!1),Re=(0,A.Z)(Pe,4),Ze=(Me-Re[0])/2,Ie=(Ge-Re[1])/2,Ee=(qe-Re[2])/2,xe=(Ne-Re[3])/2,Z=(0,j.yq)({s:!0,e:pe==="center"||pe==="left",w:pe==="center"||pe==="right"},V.x,V.y,V.angle,Ze,Ie,Ee,xe),u=(0,A.Z)(Z,2);P=u[0],F=u[1]}else{var g=(0,H.X1)(V.text,(0,w.mO)(V),V.lineHeight),z=T(V,{width:le-g.width,height:de-g.height});P=V.x-z.x,F=V.y-z.y}return{width:le,height:de,baseline:fe,x:Number.isFinite(P)?P:V.x,y:Number.isFinite(F)?F:V.y}},R=function(V){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:V.text;if(!V.isDeleted){var P=(0,H.tl)(V);P&&(D=(0,H.lD)(D,(0,w.mO)(V),(0,H.iZ)(P)));var F=O(V,D);return Se({text:D},F)}},E=function(V,D){D.text;var P=D.isDeleted,F=D.originalText;return(0,M.BE)(V,Se({originalText:F,isDeleted:P??V.isDeleted},R(V,F)))},v=function(V){return Se(Se({},ge(V.type,V)),{},{points:V.points||[],pressures:[],simulatePressure:V.simulatePressure,lastCommittedPoint:null})},i=function(V){return Se(Se({},ge(V.type,V)),{},{points:V.points||[],lastCommittedPoint:null,startBinding:null,endBinding:null,startArrowhead:V.startArrowhead||null,endArrowhead:V.endArrowhead||null})},a=function(V){var D,P,F;return Se(Se({},ge("image",V)),{},{strokeColor:"transparent",status:(D=V.status)!==null&&D!==void 0?D:"pending",fileId:(P=V.fileId)!==null&&P!==void 0?P:null,scale:(F=V.scale)!==null&&F!==void 0?F:[1,1]})},y=function V(D){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(D==null||(0,r.Z)(D)!=="object")return D;var F=Object.prototype.toString.call(D);if(F==="[object Object]"){var X=typeof D.constructor=="function"?Object.create(Object.getPrototypeOf(D)):{};for(var le in D)if(D.hasOwnProperty(le)){if(P===0&&(le==="shape"||le==="canvas"))continue;X[le]=V(D[le],P+1)}return X}if(Array.isArray(D)){for(var de=D.length,fe=new Array(de);de--;)fe[de]=V(D[de],P+1);return fe}return D},h=function(V){return y(V)},m=function(V){if((0,w.h2)()&&V){var D,P,F="".concat(V,"_copy");return(D=window.h)!==null&&D!==void 0&&(P=D.app)!==null&&P!==void 0&&P.getSceneElementsIncludingDeleted().find(function(X){return X.id===F})&&(F+="_copy"),F}return(0,N.kb)()},C=function(V,D,P,F){var X=h(P);return X.id=m(X.id),X.boundElements=null,X.updated=(0,w.C3)(),X.seed=(0,N.LU)(),X.groupIds=(0,f.Qy)(X.groupIds,V,function(le){return D.has(le)||D.set(le,m(le)),D.get(le)}),F&&(X=Object.assign(X,F)),X},U=function(V,D){var P,F=[],X=(0,w.xn)(V),le=new Map,de=function(qe){if(le.has(qe))return le.get(qe);if(X.has(qe)){var Ne=m(qe);return le.set(qe,Ne),Ne}return null},fe=new Map,pe=q(V);try{for(pe.s();!(P=pe.n()).done;){var ne=P.value,oe=y(ne);if(oe.id=de(ne.id),D!=null&&D.randomizeSeed&&(oe.seed=(0,N.LU)(),(0,M.ZP)(oe)),oe.groupIds&&(oe.groupIds=oe.groupIds.map(function(qe){return fe.has(qe)||fe.set(qe,m(qe)),fe.get(qe)})),"containerId"in oe&&oe.containerId){var be=de(oe.containerId);oe.containerId=be}if("boundElements"in oe&&oe.boundElements&&(oe.boundElements=oe.boundElements.reduce(function(qe,Ne){var Pe=de(Ne.id);return Pe&&qe.push(Se(Se({},Ne),{},{id:Pe})),qe},[])),"endBinding"in oe&&oe.endBinding){var Me=de(oe.endBinding.elementId);oe.endBinding=Me?Se(Se({},oe.endBinding),{},{elementId:Me}):null}if("startBinding"in oe&&oe.startBinding){var Ge=de(oe.startBinding.elementId);oe.startBinding=Ge?Se(Se({},oe.startBinding),{},{elementId:Ge}):null}oe.frameId&&(oe.frameId=de(oe.frameId)),F.push(oe)}}catch(qe){pe.e(qe)}finally{pe.f()}return F}},4381:function(We,ue,n){n.d(ue,{LM:function(){return v},T:function(){return y},vY:function(){return K},xx:function(){return a}});var r=n(2726),A=n(1930),k=n(7169),b=n(2577),w=n(9937),N=n(5999),M=n(2361),f=n(4949),d=n(4183),j=n(583),L=n(9827),H=n(9645),x=n(457),S=n(4761),q=n(7422),ve=["boundTextFontSize"];function ke(h,m){var C=typeof Symbol<"u"&&h[Symbol.iterator]||h["@@iterator"];if(!C){if(Array.isArray(h)||(C=function(X,le){if(X){if(typeof X=="string")return Se(X,le);var de=Object.prototype.toString.call(X).slice(8,-1);if(de==="Object"&&X.constructor&&(de=X.constructor.name),de==="Map"||de==="Set")return Array.from(X);if(de==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(de))return Se(X,le)}}(h))||m){C&&(h=C);var U=0,V=function(){};return{s:V,n:function(){return U>=h.length?{done:!0}:{done:!1,value:h[U++]}},e:function(X){throw X},f:V}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var D,P=!0,F=!1;return{s:function(){C=C.call(h)},n:function(){var X=C.next();return P=X.done,X},e:function(X){F=!0,D=X},f:function(){try{P||C.return==null||C.return()}finally{if(F)throw D}}}}function Se(h,m){(m==null||m>h.length)&&(m=h.length);for(var C=0,U=new Array(m);C<m;C++)U[C]=h[C];return U}function ge(h,m){var C=Object.keys(h);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(h);m&&(U=U.filter(function(V){return Object.getOwnPropertyDescriptor(h,V).enumerable})),C.push.apply(C,U)}return C}function J(h){for(var m=1;m<arguments.length;m++){var C=arguments[m]!=null?arguments[m]:{};m%2?ge(Object(C),!0).forEach(function(U){(0,k.Z)(h,U,C[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(C)):ge(Object(C)).forEach(function(U){Object.defineProperty(h,U,Object.getOwnPropertyDescriptor(C,U))})}return h}var Q=function(h){return h<0?h+2*Math.PI:h>=2*Math.PI?h-2*Math.PI:h},K=function(h,m,C,U,V,D,P,F,X,le,de,fe){if(C.length===1){var pe=(0,b.Z)(C,1)[0];return m==="rotation"?(T(pe,F,X,V,h.originalElements),(0,H.Ww)(pe)):!(0,d.iB)(pe)||m!=="nw"&&m!=="ne"&&m!=="sw"&&m!=="se"?m&&E(h.originalElements,P,pe,m,D,F,X):(R(pe,m,D,F,X),(0,H.Ww)(pe)),!0}if(C.length>1){if(m==="rotation")return i(h,C,F,X,V,le,de),!0;if(m==="nw"||m==="ne"||m==="sw"||m==="se")return v(h,C,m,D,F,X),!0}return!1},T=function(h,m,C,U,V){var D,P=(0,f.qf)(h),F=(0,b.Z)(P,4),X=F[0],le=F[1],de=(X+F[2])/2,fe=(le+F[3])/2;(0,d.He)(h)?D=0:(D=5*Math.PI/2+Math.atan2(C-fe,m-de),U&&(D+=w.ay/2,D-=D%w.ay),D=Q(D));var pe=(0,S.xB)(h);if((0,j.DR)(h,{angle:D}),pe){var ne,oe=(ne=x.Z.getScene(h))===null||ne===void 0?void 0:ne.getElement(pe);oe&&!(0,d.Yv)(h)&&(0,j.DR)(oe,{angle:D})}},B=function(h,m,C,U){return(0,d.bt)(h)||(0,d.F9)(h)?{points:(0,N.z)(0,m,(0,N.z)(1,C,h.points,U),U)}:{}},O=function(h,m,C){var U=h.width;if((0,d.Xh)(h)){var V=(0,S.tl)(h);V&&(U=(0,S.iZ)(V))}var D=h.fontSize*(m/U);if(D<w.CP)return null;var P=(0,S.X1)(h.text,(0,L.mO)({fontSize:D,fontFamily:h.fontFamily}),h.lineHeight);return{size:D,baseline:P.baseline+(C-P.height)}},R=function(h,m,C,U,V){var D,P=(0,f.qf)(h),F=(0,b.Z)(P,4),X=F[0],le=F[1],de=F[2],fe=F[3],pe=(X+de)/2,ne=(le+fe)/2,oe=(0,M.U1)(U,V,pe,ne,-h.angle),be=(0,b.Z)(oe,2),Me=be[0],Ge=be[1];switch(m){case"se":D=Math.max((Me-X)/(de-X),(Ge-le)/(fe-le));break;case"nw":D=Math.max((de-Me)/(de-X),(fe-Ge)/(fe-le));break;case"ne":D=Math.max((Me-X)/(de-X),(fe-Ge)/(fe-le));break;case"sw":D=Math.max((de-Me)/(de-X),(Ge-le)/(fe-le))}if(D>0){var qe=h.width*D,Ne=h.height*D,Pe=O(h,qe,Ne);if(Pe===null)return;var Re=(0,f.wC)(h,qe,Ne,!1),Ze=(0,b.Z)(Re,4),Ie=(X-Ze[0])/2,Ee=(le-Ze[1])/2,xe=(de-Ze[2])/2,Z=(fe-Ze[3])/2,u=(0,M.yq)(function(te,ae){return{n:/^(n|ne|nw)$/.test(te)||ae&&/^(s|se|sw)$/.test(te),s:/^(s|se|sw)$/.test(te)||ae&&/^(n|ne|nw)$/.test(te),w:/^(w|nw|sw)$/.test(te)||ae&&/^(e|ne|se)$/.test(te),e:/^(e|ne|se)$/.test(te)||ae&&/^(w|nw|sw)$/.test(te)}}(m,C),h.x,h.y,h.angle,Ie,Ee,xe,Z),g=(0,b.Z)(u,2),z=g[0],Y=g[1];(0,j.DR)(h,{fontSize:Pe.size,width:qe,height:Ne,baseline:Pe.baseline,x:z,y:Y})}},E=function(h,m,C,U,V,D,P){var F=h.get(C.id),X=(0,f.wC)(F,F.width,F.height,!0),le=(0,b.Z)(X,4),de=[le[0],le[1]],fe=[le[2],le[3]],pe=(0,M.H5)(de,fe),ne=(0,M.xj)([D,P],pe,-F.angle),oe=(0,f.wC)(C,C.width,C.height,!0),be=(0,b.Z)(oe,4),Me=be[0],Ge=be[1],qe=be[2]-Me,Ne=be[3]-Ge,Pe=(fe[0]-de[0])/qe,Re=(fe[1]-de[1])/Ne,Ze={},Ie=(0,S.WJ)(C);U.includes("e")&&(Pe=(ne[0]-de[0])/qe),U.includes("s")&&(Re=(ne[1]-de[1])/Ne),U.includes("w")&&(Pe=(fe[0]-ne[0])/qe),U.includes("n")&&(Re=(fe[1]-ne[1])/Ne);var Ee=F.width,xe=F.height,Z=C.width*Pe,u=C.height*Re;if(V&&(Z=2*Z-Ee,u=2*u-xe),m){var g=Math.abs(Z)/Ee,z=Math.abs(u)/xe;if(U.length===1&&(u*=g,Z*=z),U.length===2){var Y=Math.max(g,z);Z=Ee*Y*Math.sign(Z),u=xe*Y*Math.sign(u)}}if(Ie){var te=h.get(Ie.id);if(te&&(Ze={fontSize:te.fontSize,baseline:te.baseline}),m){var ae=J(J({},C),{},{width:Z,height:u}),ce=O(Ie,(0,S.iZ)(ae),(0,S.D9)(ae,Ie));if(ce===null)return;Ze={fontSize:ce.size,baseline:ce.baseline}}else{var ye=(0,S.AT)((0,L.mO)(Ie),Ie.lineHeight),je=(0,S.w_)(Ie.fontSize,Ie.lineHeight);Z=Math.max(Z,ye),u=Math.max(u,je)}}var Be=(0,f.wC)(F,Z,u,!0),Qe=(0,b.Z)(Be,4),rt=Qe[0],Ye=Qe[1],tt=Qe[2],ht=Qe[3],gt=tt-rt,Ue=ht-Ye,Ce=[].concat(de);if(["n","w","nw"].includes(U)&&(Ce=[fe[0]-Math.abs(gt),fe[1]-Math.abs(Ue)]),U==="ne"){var Le=[de[0],fe[1]];Ce=[Le[0],Le[1]-Math.abs(Ue)]}if(U==="sw"){var et=[fe[0],de[1]];Ce=[et[0]-Math.abs(gt),et[1]]}m&&(["s","n"].includes(U)&&(Ce[0]=pe[0]-gt/2),["e","w"].includes(U)&&(Ce[1]=pe[1]-Ue/2));var ft=u<0;Z<0&&(U.includes("e")&&(Ce[0]-=Math.abs(gt)),U.includes("w")&&(Ce[0]+=Math.abs(gt))),ft&&(U.includes("s")&&(Ce[1]-=Math.abs(Ue)),U.includes("n")&&(Ce[1]+=Math.abs(Ue))),V&&(Ce[0]=pe[0]-Math.abs(gt)/2,Ce[1]=pe[1]-Math.abs(Ue)/2);var xt=F.angle,wt=(0,M.xj)(Ce,pe,xt),Rt=[Ce[0]+Math.abs(gt)/2,Ce[1]+Math.abs(Ue)/2],It=(0,M.xj)(Rt,pe,xt);Ce=(0,M.xj)(wt,It,-xt);var At=(0,A.Z)(Ce),Xt=F.x-rt,tr=F.y-Ye;At[0]+=Xt,At[1]+=tr;var Gt,Jt,gr=At[0],Pt=At[1];((0,d.bt)(C)||(0,d.F9)(C))&&(Gt=(0,N.z)(1,u,F.points,!0),Jt=(0,N.z)(0,Z,Gt,!0));var St={width:Math.abs(Z),height:Math.abs(u),x:gr,y:Pt,points:Jt};if("scale"in C&&"scale"in F&&(0,j.DR)(C,{scale:[(Math.sign(tt-F.x)||F.scale[0])*F.scale[0],(Math.sign(ht-F.y)||F.scale[1])*F.scale[1]]}),(0,d.Yv)(C)&&Ie&&m){var Zt=St.width/C.width*Ie.fontSize;if(Zt<w.CP)return;Ze.fontSize=Zt}St.width!==0&&St.height!==0&&Number.isFinite(St.x)&&Number.isFinite(St.y)&&((0,j.DR)(C,St),(0,H.Ww)(C,{newSize:{width:St.width,height:St.height}}),Ie&&Ze!=null&&(0,j.DR)(Ie,{fontSize:Ze.fontSize,baseline:Ze.baseline}),(0,S.RB)(C,U,m))},v=function(h,m,C,U,V,D){var P,F=m.reduce(function(Zt,Tt){var Lt=h.originalElements.get(Tt.id);return Lt&&Zt.push({orig:Lt,latest:Tt}),Zt},[]),X=F.reduce(function(Zt,Tt){var Lt,Wt=Tt.orig;if(!(0,d.bt)(Wt))return Zt;var qt=(0,S.xB)(Wt);if(!qt)return Zt;var sr=(Lt=h.originalElements.get(qt))!==null&&Lt!==void 0?Lt:null;if(!(0,d.Xh)(sr))return Zt;var cr=q._.getBoundTextElementPosition(Wt,sr);return[].concat((0,A.Z)(Zt),[J(J({},sr),cr)])},[]),le=(0,f.v2)(F.map(function(Zt){return Zt.orig}).concat(X)),de=le.minX,fe=le.minY,pe=le.maxX,ne=le.maxY,oe=le.midX,be=le.midY,Me=C,Ge=U?[oe,be]:{ne:[de,ne],se:[de,fe],sw:[pe,fe],nw:[pe,ne]}[Me],qe=(0,b.Z)(Ge,2),Ne=qe[0],Pe=qe[1],Re=Math.max(Math.abs(V-Ne)/(pe-de)||0,Math.abs(D-Pe)/(ne-fe)||0)*(U?2:1);if(Re!==0){var Ze,Ie={ne:[V>=Ne,D<=Pe],se:[V>=Ne,D>=Pe],sw:[V<=Ne,D>=Pe],nw:[V<=Ne,D<=Pe]}[Me].map(function(Zt){return Zt?1:-1}),Ee=(0,b.Z)(Ie,2),xe=Ee[0],Z=Ee[1],u=xe<0,g=Z<0,z=[],Y=ke(F);try{for(Y.s();!(Ze=Y.n()).done;){var te,ae=Ze.value,ce=ae.orig,ye=ae.latest;if(!(0,d.iB)(ce)||!(0,d.Xh)(ce)){var je=ce.width*Re,Be=ce.height*Re,Qe=Q(ce.angle*xe*Z),rt=(0,d.bt)(ce)||(0,d.F9)(ce),Ye=ce.x-Ne,tt=ce.y-Pe,ht=Ne+xe*(Ye*Re+(u&&!rt?je:0)),gt=Pe+Z*(tt*Re+(g&&!rt?Be:0)),Ue=B(ce,je*xe,Be*Z,!1),Ce=J({x:ht,y:gt,width:je,height:Be,angle:Qe},Ue);if((0,d.pC)(ce)&&F.length===1&&(Ce.scale=[ce.scale[0]*xe,ce.scale[1]*Z]),(0,d.bt)(ce)&&(u||g)&&function(){var Zt=(0,f.Ut)(ce,ce.points),Tt=(0,f.Ut)(J(J({},ce),{},{x:ht,y:gt}),Ue.points),Lt=[ce.x,ce.y],Wt=[ht,gt],qt=function(sr){var cr=sr==="x"?0:1;return(Tt[cr+2]-Wt[cr]-(Lt[cr]-Zt[cr])*Re+(Zt[cr+2]-Lt[cr])*Re-(Wt[cr]-Tt[cr]))/2};u&&(Ce.x-=qt("x")),g&&(Ce.y-=qt("y"))}(),(0,d.iB)(ce)){var Le=O(ce,je,Be);if(!Le)return;Ce.fontSize=Le.size,Ce.baseline=Le.baseline}var et=h.originalElements.get((te=(0,S.xB)(ce))!==null&&te!==void 0?te:"");if(et){var ft=et.fontSize*Re;if(ft<w.CP)return;Ce.boundTextFontSize=ft}z.push({element:ye,update:Ce})}}}catch(Zt){Y.e(Zt)}finally{Y.f()}for(var xt=z.map(function(Zt){return Zt.element}),wt=0,Rt=z;wt<Rt.length;wt++){var It=Rt[wt],At=It.element,Xt=It.update,tr=Xt.boundTextFontSize,Gt=(0,r.Z)(Xt,ve),Jt=Gt.width,gr=Gt.height,Pt=Gt.angle;(0,j.DR)(At,Gt,!1),(0,H.Ww)(At,{simultaneouslyUpdated:xt,newSize:{width:Jt,height:gr}});var St=(0,S.WJ)(At);St&&tr&&((0,j.DR)(St,{fontSize:tr,angle:(0,d.bt)(At)?void 0:Pt},!1),(0,S.RB)(At,C,!0))}(P=x.Z.getScene(z[0].element))===null||P===void 0||P.informMutation()}},i=function(h,m,C,U,V,D,P){var F,X=5*Math.PI/2+Math.atan2(U-P,C-D);V&&(X+=w.ay/2,X-=X%w.ay),m.filter(function(le){return le.type!=="frame"}).forEach(function(le){var de,fe,pe=(0,f.qf)(le),ne=(0,b.Z)(pe,4),oe=ne[0],be=ne[1],Me=(oe+ne[2])/2,Ge=(be+ne[3])/2,qe=(de=(fe=h.originalElements.get(le.id))===null||fe===void 0?void 0:fe.angle)!==null&&de!==void 0?de:le.angle,Ne=(0,M.U1)(Me,Ge,D,P,X+qe-le.angle),Pe=(0,b.Z)(Ne,2),Re=Pe[0],Ze=Pe[1];(0,j.DR)(le,{x:le.x+(Re-Me),y:le.y+(Ze-Ge),angle:Q(X+qe)},!1),(0,H.Ww)(le,{simultaneouslyUpdated:m});var Ie=(0,S.WJ)(le);Ie&&!(0,d.Yv)(le)&&(0,j.DR)(Ie,{x:Ie.x+(Re-Me),y:Ie.y+(Ze-Ge),angle:Q(X+qe)},!1)}),(F=x.Z.getScene(m[0]))===null||F===void 0||F.informMutation()},a=function(h,m,C,U){var V=m.length===1?(0,f.qf)(m[0]):(0,f.KP)(m),D=(0,b.Z)(V,4),P=D[0],F=D[1],X=D[2],le=D[3],de=(P+X)/2,fe=(F+le)/2,pe=m.length===1?m[0].angle:0,ne=(0,M.U1)(C,U,de,fe,-pe),oe=(0,b.Z)(ne,2);switch(C=oe[0],U=oe[1],h){case"n":return(0,M.U1)(C-(P+X)/2,U-F,0,0,pe);case"s":return(0,M.U1)(C-(P+X)/2,U-le,0,0,pe);case"w":return(0,M.U1)(C-P,U-(F+le)/2,0,0,pe);case"e":return(0,M.U1)(C-X,U-(F+le)/2,0,0,pe);case"nw":return(0,M.U1)(C-P,U-F,0,0,pe);case"ne":return(0,M.U1)(C-X,U-F,0,0,pe);case"sw":return(0,M.U1)(C-P,U-le,0,0,pe);case"se":return(0,M.U1)(C-X,U-le,0,0,pe);default:return[0,0]}},y=function(h,m){var C=(0,b.Z)(m.points,2),U=(0,b.Z)(C[1],2),V=U[0],D=U[1];return h==="nw"&&(V<0||D<0)||h==="ne"&&V>=0||h==="sw"&&V<=0||h==="se"&&(V>0||D>0)?"end":"origin"}},7935:function(We,ue,n){n.d(ue,{PZ:function(){return M},QD:function(){return N},Qp:function(){return j},o4:function(){return d},uK:function(){return f}});var r=n(2577),A=(n(583),n(4183)),k=n(9937),b=n(4949),w=n(9827),N=function(L){return(0,A.bt)(L)||(0,A.F9)(L)?L.points.length<2:L.width===0&&L.height===0},M=function(L,H,x,S){var q=(0,b.Pi)(L),ve=(0,r.Z)(q,4),ke=ve[0],Se=ve[1],ge=ve[2],J=ve[3],Q=(0,w.dE)({clientX:S.offsetLeft,clientY:S.offsetTop},S),K=(0,w.dE)({clientX:S.offsetLeft+H,clientY:S.offsetTop+x},S);return Q.x<=ge&&Q.y<=J&&K.x>=ke&&K.y>=Se},f=function(L,H,x){var S=Math.abs(H),q=Math.abs(x);if(L==="line"||L==="arrow"||L==="freedraw"){var ve=Math.round(Math.atan(q/S)/k.ay)*k.ay;ve===0?x=0:ve===Math.PI/2?H=0:x=S*Math.tan(ve)*Math.sign(x)||x}else L!=="selection"&&(x=S*Math.sign(x));return{width:H,height:x}},d=function(L,H,x,S){var q=x-L,ve=S-H,ke=Math.round(Math.atan(ve/q)/k.ay)*k.ay;if(ke===0)ve=0;else if(ke===Math.PI/2)q=0;else{var Se=Math.tan(ke),ge=H-Se*L,J=-1/Se,Q=S-J*x;q=(-1*Q- -1*ge)/(-1*Se- -1*J)-L,ve=(ge*J-Q*Se)/(-1*Se- -1*J)-H}return{width:q,height:ve}},j=function(L){var H={width:L.width,height:L.height,x:L.x,y:L.y};if(L.width<0){var x=Math.abs(L.width);H.width=x,H.x=L.x-x}if(L.height<0){var S=Math.abs(L.height);H.height=S,H.y=L.y-S}return H}},4761:function(We,ue,n){n.d(ue,{$2:function(){return E},AT:function(){return V},D9:function(){return Ne},FE:function(){return B},H_:function(){return fe},NS:function(){return Ge},OW:function(){return oe},P7:function(){return K},PT:function(){return Ze},R8:function(){return R},RB:function(){return T},Rg:function(){return v},TP:function(){return le},WJ:function(){return F},X1:function(){return O},Zr:function(){return Me},aV:function(){return ne},bG:function(){return ge},cn:function(){return pe},cw:function(){return de},eB:function(){return Pe},iZ:function(){return qe},lD:function(){return m},mY:function(){return y},oN:function(){return Q},tl:function(){return X},w_:function(){return i},xB:function(){return P}});var r,A=n(2577),k=n(1930),b=n(7169),w=n(9827),N=n(583),M=n(9937),f=n(457),d=n(7651),j=n(4183),L=n(7422),H=n(4105),x=n(3528),S=n(3474);function q(Ie,Ee){var xe=Object.keys(Ie);if(Object.getOwnPropertySymbols){var Z=Object.getOwnPropertySymbols(Ie);Ee&&(Z=Z.filter(function(u){return Object.getOwnPropertyDescriptor(Ie,u).enumerable})),xe.push.apply(xe,Z)}return xe}function ve(Ie){for(var Ee=1;Ee<arguments.length;Ee++){var xe=arguments[Ee]!=null?arguments[Ee]:{};Ee%2?q(Object(xe),!0).forEach(function(Z){(0,b.Z)(Ie,Z,xe[Z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ie,Object.getOwnPropertyDescriptors(xe)):q(Object(xe)).forEach(function(Z){Object.defineProperty(Ie,Z,Object.getOwnPropertyDescriptor(xe,Z))})}return Ie}var ke,Se,ge=function(Ie){return Ie.replace(/\t/g,"        ").replace(/\r?\n|\r/g,`
`)},J=function(Ie){return ge(Ie).split(`
`)},Q=function(Ie,Ee){var xe=void 0,Z={x:Ie.x,y:Ie.y,text:Ie.text,width:Ie.width,height:Ie.height,baseline:Ie.baseline};Z.text=Ie.text,Ee&&(xe=qe(Ee,Ie),Z.text=m(Ie.originalText,(0,w.mO)(Ie),xe));var u=O(Z.text,(0,w.mO)(Ie),Ie.lineHeight);if(Z.width=u.width,Z.height=u.height,Z.baseline=u.baseline,Ee){var g=Ne(Ee,Ie),z=qe(Ee);if(!(0,j.Yv)(Ee)&&u.height>g){var Y=Ge(u.height,Ee.type);(0,N.DR)(Ee,{height:Y}),(0,S.h_)(Ee.id,Y)}if(u.width>z){var te=Ge(u.width,Ee.type);(0,N.DR)(Ee,{width:te})}var ae=ve(ve({},Ie),Z),ce=B(Ee,ae),ye=ce.x,je=ce.y;Z.x=ye,Z.y=je}(0,N.DR)(Ie,Z)},K=function(Ie,Ee,xe){var Z=(0,w.xn)(Ie);Ee.forEach(function(u){var g=xe.get(u.id),z=P(u);if(z){var Y=xe.get(z);if(Y){var te=Z.get(g);te&&(0,N.DR)(te,{boundElements:(u.boundElements||[]).filter(function(ce){return ce.id!==Y&&ce.id!==z}).concat({type:"text",id:Y})});var ae=Z.get(Y);ae&&(0,d.iB)(ae)&&(0,N.DR)(ae,{containerId:te?g:null})}}})},T=function(Ie,Ee){var xe=arguments.length>2&&arguments[2]!==void 0&&arguments[2],Z=P(Ie);if(Z){(0,S.kT)(Ie.id);var u=f.Z.getScene(Ie).getElement(Z);if(u&&u.text){if(!Ie)return;var g=(u=f.Z.getScene(Ie).getElement(Z)).text,z=u.height,Y=u.width,te=qe(Ie),ae=Ne(Ie,u),ce=Ie.height,ye=u.baseline;if(xe||Ee!=="n"&&Ee!=="s"){g&&(g=m(u.originalText,(0,w.mO)(u),te));var je=O(g,(0,w.mO)(u),u.lineHeight);z=je.height,Y=je.width,ye=je.baseline}if(z>ae){var Be=(ce=Ge(z,Ie.type))-Ie.height,Qe=(0,j.Yv)(Ie)||Ee!=="ne"&&Ee!=="nw"&&Ee!=="n"?Ie.y:Ie.y-Be;(0,N.DR)(Ie,{height:ce,y:Qe})}(0,N.DR)(u,{text:g,width:Y,height:z,baseline:ye}),(0,j.Yv)(Ie)||(0,N.DR)(u,B(Ie,u))}}},B=function(Ie,Ee){if((0,j.Yv)(Ie))return L._.getBoundTextElementPosition(Ie,Ee);var xe,Z=de(Ie),u=Ne(Ie,Ee),g=qe(Ie);return xe=Ee.verticalAlign===M.oX.TOP?Z.y:Ee.verticalAlign===M.oX.BOTTOM?Z.y+(u-Ee.height):Z.y+(u/2-Ee.height/2),{x:Ee.textAlign===M.I8.LEFT?Z.x:Ee.textAlign===M.I8.RIGHT?Z.x+(g-Ee.width):Z.x+(g/2-Ee.width/2),y:xe}},O=function(Ie,Ee,xe){Ie=Ie.split(`
`).map(function(g){return g||" "}).join(`
`);var Z=parseFloat(Ee),u=h(Ie,Z,xe);return{width:y(Ie,Ee),height:u,baseline:R(Ie,Ee,xe)}},R=function(Ie,Ee,xe,Z){var u=document.createElement("div");u.style.position="absolute",u.style.whiteSpace="pre",u.style.font=Ee,u.style.minHeight="1em",Z&&(u.style.overflow="hidden",u.style.wordBreak="break-word",u.style.whiteSpace="pre-wrap"),u.style.lineHeight=String(xe),u.innerText=Ie,document.body.appendChild(u);var g=document.createElement("span");g.style.display="inline-block",g.style.overflow="hidden",g.style.width="1px",g.style.height="1px",u.appendChild(g);var z=g.offsetTop+g.offsetHeight,Y=u.offsetHeight;if(M.G6){var te=h(Ie,parseFloat(Ee),xe),ae=parseFloat(Ee),ce=h(Ie,Math.round(ae),xe);te>Y&&(z+=te-ce),Y>te&&(z-=ce-te)}return document.body.removeChild(u),z},E=function(Ie){var Ee=J(Ie.text).length;return Ie.height/Ee/Ie.fontSize},v=function(Ie,Ee){return Ie*Ee},i=function(Ie,Ee){return v(Ie,Ee)+2*M.gK},a=function(Ie,Ee){ke||(ke=document.createElement("canvas"));var xe=ke.getContext("2d");xe.font=Ee;var Z=xe.measureText(Ie).width;return(0,w.h2)()?10*Z:Z},y=function(Ie,Ee){var xe=J(Ie),Z=0;return xe.forEach(function(u){Z=Math.max(Z,a(u,Ee))}),Z},h=function(Ie,Ee,xe){var Z=J(Ie).length;return v(Ee,xe)*Z},m=function(Ie,Ee,xe){if(!Number.isFinite(xe)||xe<0)return Ie;var Z=[],u=Ie.split(`
`),g=a(" ",Ee),z="",Y=0,te=function(ce){ce.trim()&&Z.push(ce)},ae=function(){z="",Y=0};return u.forEach(function(ce){if(y(ce,Ee)<=xe)Z.push(ce);else{var ye=function(ht){var gt=ht.split("-");return gt.length>1&&gt.forEach(function(Ue,Ce){Ce!==gt.length-1&&(gt[Ce]=Ue+="-")}),gt.join(" ").split(" ")}(ce);ae();for(var je=0;je<ye.length;){var Be=a(ye[je],Ee);if(Be===xe)te(ye[je]),je++;else if(Be>xe){for(te(z),ae();ye[je].length>0;){var Qe=String.fromCodePoint(ye[je].codePointAt(0)),rt=C.calculate(Qe,Ee);Y+=rt,ye[je]=ye[je].slice(Qe.length),Y>=xe?(te(z),z=Qe,Y=rt):z+=Qe}Y+g>=xe?(te(z),ae()):z.endsWith("-")||(z+=" ",Y+=g),je++}else for(;Y<xe&&je<ye.length;){var Ye=ye[je];if((Y=a(z+Ye,Ee))>xe){te(z),ae();break}je++;var tt=!Ye.endsWith("-");if(z+=Ye,tt&&(z+=" "),Y+g>=xe){tt?Z.push(z.slice(0,-1)):Z.push(z),ae();break}}}z.slice(-1)===" "&&(z=z.slice(0,-1),te(z))}}),Z.join(`
`)},C=(Se={},{calculate:function(Ie,Ee){var xe=Ie.charCodeAt(0);if(Se[Ee]||(Se[Ee]=[]),!Se[Ee][xe]){var Z=a(Ie,Ee);Se[Ee][xe]=Z}return Se[Ee][xe]},getCache:function(Ie){return Se[Ie]}}),U="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".toLocaleUpperCase(),V=function(Ie,Ee){var xe=D(Ie);return xe===0?O(U.split("").join(`
`),Ie,Ee).width+2*M.gK:xe+2*M.gK},D=function(Ie){var Ee=C.getCache(Ie);if(!Ee)return 0;var xe=Ee.filter(function(Z){return Z!==void 0});return Math.max.apply(Math,(0,k.Z)(xe))},P=function(Ie){var Ee,xe,Z;return Ie!=null&&(Ee=Ie.boundElements)!==null&&Ee!==void 0&&Ee.length&&(Ie==null||(xe=Ie.boundElements)===null||xe===void 0||(Z=xe.filter(function(u){return u.type==="text"})[0])===null||Z===void 0?void 0:Z.id)||null},F=function(Ie){if(!Ie)return null;var Ee,xe=P(Ie);return xe&&((Ee=f.Z.getScene(Ie))===null||Ee===void 0?void 0:Ee.getElement(xe))||null},X=function(Ie){return Ie&&Ie.containerId&&((Ee=f.Z.getScene(Ie))===null||Ee===void 0?void 0:Ee.getElement(Ie.containerId))||null;var Ee},le=function(Ie,Ee){if(!(0,j.Yv)(Ie))return{x:Ie.x+Ie.width/2,y:Ie.y+Ie.height/2};var xe=L._.getPointsGlobalCoordinates(Ie);if(xe.length%2==1){var Z=Math.floor(Ie.points.length/2),u=L._.getPointGlobalCoordinates(Ie,Ie.points[Z]);return{x:u[0],y:u[1]}}var g=Ie.points.length/2-1,z=L._.getEditorMidPoints(Ie,Ee)[g];return z||(z=L._.getSegmentMidPoint(Ie,xe[g],xe[g+1],g+1)),{x:z[0],y:z[1]}},de=function(Ie){var Ee=M.gK,xe=M.gK;return Ie.type==="ellipse"&&(Ee+=Ie.width/2*(1-Math.sqrt(2)/2),xe+=Ie.height/2*(1-Math.sqrt(2)/2)),Ie.type==="diamond"&&(Ee+=Ie.width/4,xe+=Ie.height/4),{x:Ie.x+Ee,y:Ie.y+xe}},fe=function(Ie){var Ee=X(Ie);return!Ee||(0,j.Yv)(Ee)?Ie.angle:Ee.angle},pe=function(Ie){return Ie.some(function(Ee){if((0,j.Xh)(Ee)){var xe=X(Ee);return!(0,d.iB)(Ee)||!(0,j.Yv)(xe)}return!1})},ne=function(Ie){return Ie.some(function(Ee){if((0,j.Xh)(Ee)){var xe=X(Ee);return!(0,d.iB)(Ee)||!(0,j.Yv)(xe)}return(0,d.iB)(Ee)})},oe=function(Ie,Ee,xe,Z){var u=(0,H.eD)(Ie,Ee);if(u.length===1)return(0,j.mG)(u[0],!1)?u[0]:null;for(var g=null,z=Ie.length-1;z>=0;--z)if(!Ie[z].isDeleted){var Y=(0,d.qf)(Ie[z]),te=(0,A.Z)(Y,4),ae=te[0],ce=te[1],ye=te[2],je=te[3];if((0,j.Yv)(Ie[z])&&(0,x.Qu)(Ie[z],Ee,null,[xe,Z])){g=Ie[z];break}if(ae<xe&&xe<ye&&ce<Z&&Z<je){g=Ie[z];break}}return(0,j.mG)(g,!1)?g:null},be=new Set(["rectangle","ellipse","diamond","arrow"]),Me=function(Ie){return be.has(Ie.type)},Ge=function(Ie,Ee){Ie=Math.ceil(Ie);var xe=2*M.gK;return Ee==="ellipse"?Math.round((Ie+xe)/Math.sqrt(2)*2):Ee==="arrow"?Ie+8*xe:Ee==="diamond"?2*(Ie+xe):Ie+xe},qe=function(Ie){var Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:F(Ie),xe=Ie.width;if((0,j.Yv)(Ie)){var Z,u=((Z=Ee==null?void 0:Ee.fontSize)!==null&&Z!==void 0?Z:M.n5)*M.vL;return Math.max(M.bY*xe,u)}return Ie.type==="ellipse"?Math.round(xe/2*Math.sqrt(2))-2*M.gK:Ie.type==="diamond"?Math.round(xe/2)-2*M.gK:xe-2*M.gK},Ne=function(Ie,Ee){var xe=Ie.height;return(0,j.Yv)(Ie)?xe-8*M.gK*2<=0?Ee.height:xe:Ie.type==="ellipse"?Math.round(xe/2*Math.sqrt(2))-2*M.gK:Ie.type==="diamond"?Math.round(xe/2)-2*M.gK:xe-2*M.gK},Pe=function(){return y(U,(0,w.mO)({fontSize:M.n5,fontFamily:M.rk}))>0},Re=(r={},(0,b.Z)(r,M.ut.Virgil,1.25),(0,b.Z)(r,M.ut.Helvetica,1.15),(0,b.Z)(r,M.ut.Cascadia,1.2),r),Ze=function(Ie){return Ie in Re?Re[Ie]:Re[M.rk]}},3474:function(We,ue,n){n.d(ue,{b_:function(){return B},eR:function(){return T},h_:function(){return Q},kT:function(){return K}});var r=n(8950),A=n(7169),k=n(2577),b=n(2975),w=n.n(b),N=n(5491),M=n(9827),f=n(457),d=n(4183),j=n(9937),L=n(583),H=n(4761),x=n(3361),S=n(6006),q=n(7422),ve=n(4694);function ke(O,R){var E=Object.keys(O);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(O);R&&(v=v.filter(function(i){return Object.getOwnPropertyDescriptor(O,i).enumerable})),E.push.apply(E,v)}return E}function Se(O){for(var R=1;R<arguments.length;R++){var E=arguments[R]!=null?arguments[R]:{};R%2?ke(Object(E),!0).forEach(function(v){(0,A.Z)(O,v,E[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(E)):ke(Object(E)).forEach(function(v){Object.defineProperty(O,v,Object.getOwnPropertyDescriptor(E,v))})}return O}var ge=function(O,R,E,v,i,a){var y=v.zoom,h=180*E/Math.PI,m=O*(y.value-1)/2,C=R*(y.value-1)/2;return O>i&&y.value!==1&&(m=i*(y.value-1)/2),R>a&&y.value!==1&&(C=a*(y.value-1)/2),"translate(".concat(m,"px, ").concat(C,"px) scale(").concat(y.value,") rotate(").concat(h,"deg)")},J={},Q=function(O,R){var E=J[O]||(J[O]={height:R});return E.height=R,E},K=function(O){J[O]&&delete J[O]},T=function(O){var R,E;return(R=(E=J[O])===null||E===void 0?void 0:E.height)!==null&&R!==void 0?R:null},B=function(O){var R=O.id,E=O.onChange,v=O.onSubmit,i=O.getViewportCoords,a=O.element,y=O.canvas,h=O.excalidrawContainer,m=O.app,C=function(){var Pe,Re=m.state,Ze=(Pe=f.Z.getScene(a))===null||Pe===void 0?void 0:Pe.getElement(R);if(Ze){var Ie=Ze.textAlign,Ee=Ze.verticalAlign;if(Ze&&(0,d.iB)(Ze)){var xe=Ze.x,Z=Ze.y,u=(0,H.tl)(Ze),g=Ze.width,z=Ze.height,Y=Ze.width,te=Ze.height;if(u&&Ze.containerId){if((0,d.Yv)(u)){var ae=q._.getBoundTextElementPosition(u,Ze);xe=ae.x,Z=ae.y}var ce,ye=function(ft,xt){if(!xt.style.fontFamily||!xt.style.fontSize)return!1;var wt=xt.style.fontFamily.replace(/"/g,"");return(0,M.$g)({fontFamily:ft.fontFamily})!==wt||"".concat(ft.fontSize,"px")!==xt.style.fontSize}(Ze,U);if(ye?ce=Q(u.id,u.height):(ce=J[u.id])||(ce=Q(u.id,u.height)),g=(0,H.iZ)(u),z=(0,H.D9)(u,Ze),!(0,d.Yv)(u)&&te>z){var je=(0,H.NS)(te,u.type);return void(0,L.DR)(u,{height:je})}if(!(0,d.Yv)(u)&&u.height>ce.height&&te<z){var Be=(0,H.NS)(te,u.type);(0,L.DR)(u,{height:Be})}else Z=(0,H.FE)(u,Ze).y}var Qe=i(xe,Z),rt=(0,k.Z)(Qe,2),Ye=rt[0],tt=rt[1],ht=U.selectionStart,gt=U.selectionEnd,Ue=U.value.length;if(ht===gt&&gt!==Ue){var Ce=Ue-gt;U.selectionStart=U.value.length-Ce,U.selectionEnd=U.value.length-Ce}u?Y+=.5:(g=(Re.width-8-Ye)/Re.zoom.value,Y=Math.min(Y,g));var Le=Ze.lineHeight;j.G6&&(Le=(0,H.$2)(Se(Se({},Ze),{},{fontSize:Math.round(Ze.fontSize)})));var et=(Re.height-tt)/Re.zoom.value;Object.assign(U.style,{font:(0,M.mO)(Ze),lineHeight:Le,width:"".concat(Y,"px"),height:"".concat(te,"px"),left:"".concat(Ye,"px"),top:"".concat(tt,"px"),transform:ge(Y,te,(0,H.H_)(Ze),Re,g,et),textAlign:Ie,verticalAlign:Ee,color:Ze.strokeColor,opacity:Ze.opacity/100,filter:"var(--theme-filter)",maxHeight:"".concat(et,"px")}),U.scrollTop=0,(0,M.h2)()&&(U.style.fontFamily=(0,M.$g)(Ze)),(0,L.DR)(Ze,{x:xe,y:Z})}}},U=document.createElement("textarea");U.dir="auto",U.tabIndex=0,U.dataset.type="wysiwyg",U.wrap="off",U.classList.add("excalidraw-wysiwyg");var V="pre",D="normal";(0,d.Xh)(a)&&(V="pre-wrap",D="break-word"),Object.assign(U.style,{position:"absolute",display:"inline-block",minHeight:"1em",backfaceVisibility:"hidden",margin:0,padding:0,border:0,outline:0,resize:"none",background:"transparent",overflow:"hidden",zIndex:"var(--zIndex-wysiwyg)",wordBreak:D,whiteSpace:V,overflowWrap:"break-word",boxSizing:"content-box"}),U.value=a.originalText,C(),E&&(U.onpaste=function(){var Pe=(0,r.Z)(w().mark(function Re(Ze){var Ie,Ee,xe,Z,u,g;return w().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.next=2,(0,ve.mQ)(Ze,!0);case 2:if((Ie=z.sent).text){z.next=5;break}return z.abrupt("return");case 5:if(Ee=(0,H.bG)(Ie.text)){z.next=8;break}return z.abrupt("return");case 8:xe=(0,H.tl)(a),Z=(0,M.mO)({fontSize:m.state.currentItemFontSize,fontFamily:m.state.currentItemFontFamily}),xe&&(u=(0,H.lD)("".concat(U.value).concat(Ee),Z,(0,H.iZ)(xe)),g=(0,H.mY)(u,Z),U.style.width="".concat(g,"px"));case 11:case"end":return z.stop()}},Re)}));return function(Re){return Pe.apply(this,arguments)}}(),U.oninput=function(){E((0,H.bG)(U.value))}),U.onkeydown=function(Pe){if(!Pe.shiftKey&&S.Lo.keyTest(Pe))Pe.preventDefault(),m.actionManager.executeAction(S.Lo),C();else if(!Pe.shiftKey&&S.CZ.keyTest(Pe))Pe.preventDefault(),m.actionManager.executeAction(S.CZ),C();else if(x.Tu.keyTest(Pe))m.actionManager.executeAction(x.Tu);else if(x.Zq.keyTest(Pe))m.actionManager.executeAction(x.Zq);else if(Pe.key===N.tW.ESCAPE)Pe.preventDefault(),pe=!0,ne();else if(Pe.key===N.tW.ENTER&&Pe[N.tW.CTRL_OR_CMD]){if(Pe.preventDefault(),Pe.isComposing||Pe.keyCode===229)return;pe=!0,ne()}else if(Pe.key===N.tW.TAB||Pe[N.tW.CTRL_OR_CMD]&&(Pe.code===N.aU.BRACKET_LEFT||Pe.code===N.aU.BRACKET_RIGHT)){if(Pe.preventDefault(),Pe.isComposing)return;Pe.shiftKey||Pe.code===N.aU.BRACKET_LEFT?le():X(),U.dispatchEvent(new Event("input"))}};var P=" ".repeat(4),F=new RegExp("^ {1,".concat(4,"}")),X=function(){var Pe=U.selectionStart,Re=U.selectionEnd,Ze=de(),Ie=U.value;Ze.forEach(function(Ee){var xe=Ie.slice(0,Ee),Z=Ie.slice(Ee);Ie="".concat(xe).concat(P).concat(Z)}),U.value=Ie,U.selectionStart=Pe+4,U.selectionEnd=Re+4*Ze.length},le=function(){var Pe=U.selectionStart,Re=U.selectionEnd,Ze=de(),Ie=[],Ee=U.value;Ze.forEach(function(xe){var Z=Ee.slice(xe,xe+4).match(F);if(Z){var u=Ee.slice(0,xe),g=Ee.slice(xe+Z[0].length);Ee="".concat(u).concat(g),Ie.push(xe)}}),U.value=Ee,Ie.length&&(Pe>Ie[Ie.length-1]?U.selectionStart=Math.max(Pe-4,Ie[Ie.length-1]):U.selectionStart=Pe,U.selectionEnd=Math.max(U.selectionStart,Re-4*Ie.length))},de=function(){var Pe=U.selectionStart,Re=U.selectionEnd,Ze=U.value,Ie=Ze.slice(0,Pe).match(/[^\n]*$/)[0].length;return Pe-=Ie,Ze.slice(Pe,Re).split(`
`).reduce(function(Ee,xe,Z,u){return Ee.concat(Z?Ee[Z-1]+u[Z-1].length+1:Pe)},[]).reverse()},fe=function(Pe){Pe.preventDefault(),Pe.stopPropagation()},pe=!1,ne=function(){var Pe;oe();var Re=(Pe=f.Z.getScene(a))===null||Pe===void 0?void 0:Pe.getElement(a.id);if(Re){var Ze=U.value,Ie=(0,H.tl)(Re);if(Ie){if(Ze=Re.text,U.value.trim()){var Ee=(0,H.xB)(Ie);Ee&&Ee===a.id?(0,d.Yv)(Ie)&&(0,L.ZP)(Ie):(0,L.DR)(Ie,{boundElements:(Ie.boundElements||[]).concat({type:"text",id:a.id})})}else{var xe;(0,L.DR)(Ie,{boundElements:(xe=Ie.boundElements)===null||xe===void 0?void 0:xe.filter(function(Z){return!(0,d.iB)(Z)})})}(0,H.oN)(Re,Ie)}v({text:Ze,viaKeyboard:pe,originalText:U.value})}},oe=function(){qe||(qe=!0,U.onblur=null,U.oninput=null,U.onkeydown=null,Ne&&Ne.disconnect(),window.removeEventListener("resize",C),window.removeEventListener("wheel",fe,!0),window.removeEventListener("pointerdown",Me),window.removeEventListener("pointerup",be),window.removeEventListener("blur",ne),window.removeEventListener("beforeunload",ne),Ge(),U.remove())},be=function Pe(Re){window.removeEventListener("pointerup",Pe);var Ze=Re==null?void 0:Re.target,Ie=Ze instanceof HTMLElement&&Ze.classList.contains("active-color");setTimeout(function(){if(U.onblur=ne,Ie){var Ee=new MutationObserver(function(xe,Z){xe.find(function(u){var g;return u.removedNodes.length>0&&((g=u.removedNodes[0].dataset)===null||g===void 0?void 0:g.radixPopperContentWrapper)!==void 0})&&(setTimeout(function(){U.focus()}),Z.disconnect())});Ee.observe(document.querySelector(".excalidraw-container"),{childList:!0})}Ie||U.focus()})},Me=function(Pe){var Re=Pe.target instanceof HTMLElement&&Pe.target.classList.contains("active-color");((Pe.target instanceof HTMLElement||Pe.target instanceof SVGElement)&&Pe.target.closest(".".concat(j.$C.SHAPE_ACTIONS_MENU))&&!(0,M.s)(Pe.target)||Re)&&(U.onblur=null,window.addEventListener("pointerup",be),window.addEventListener("blur",ne))},Ge=f.Z.getScene(a).addCallback(function(){var Pe;C(),!((Pe=document.activeElement)===null||Pe===void 0||!Pe.closest(".color-picker-content"))||U.focus()}),qe=!1;U.select(),be();var Ne=null;y&&"ResizeObserver"in window?(Ne=new window.ResizeObserver(function(){C()})).observe(y):window.addEventListener("resize",C),window.addEventListener("pointerdown",Me),window.addEventListener("wheel",fe,{passive:!1,capture:!0}),window.addEventListener("beforeunload",ne),h==null||h.querySelector(".excalidraw-textEditorContainer").appendChild(U)}},4048:function(We,ue,n){n.d(ue,{Fn:function(){return d},PC:function(){return q},kK:function(){return S},oY:function(){return ve},ox:function(){return f}});var r=n(2577),A=n(4949),k=n(2361),b=n(7651),w=n(4183),N=n(7766),M={mouse:8,pen:16,touch:28},f={e:!0,s:!0,n:!0,w:!0},d={e:!0,s:!0,n:!0,w:!0,rotation:!0},j={e:!0,s:!0,n:!0,w:!0},L={e:!0,s:!0,n:!0,w:!0,nw:!0,se:!0},H={e:!0,s:!0,n:!0,w:!0},x=function(ke,Se,ge,J,Q,K,T){var B=(0,k.U1)(ke+ge/2,Se+J/2,Q,K,T),O=(0,r.Z)(B,2);return[O[0]-ge/2,O[1]-J/2,ge,J]},S=function(ke,Se,ge,J){var Q=(0,r.Z)(ke,6),K=Q[0],T=Q[1],B=Q[2],O=Q[3],R=Q[4],E=Q[5],v=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:4,a=M[J],y=a/ge.value,h=a/ge.value,m=a/ge.value,C=a/ge.value,U=B-K,V=O-T,D=i/ge.value,P=(a-2*N.Lu)/(2*ge.value),F={nw:v.nw?void 0:x(K-D-m+P,T-D-C+P,y,h,R,E,Se),ne:v.ne?void 0:x(B+D-P,T-D-C+P,y,h,R,E,Se),sw:v.sw?void 0:x(K-D-m+P,O+D-P,y,h,R,E,Se),se:v.se?void 0:x(B+D-P,O+D-P,y,h,R,E,Se),rotation:v.rotation?void 0:x(K+U/2-y/2,T-D-C+P-16/ge.value,y,h,R,E,Se)},X=5*M.mouse/ge.value;return Math.abs(U)>X&&(v.n||(F.n=x(K+U/2-y/2,T-D-C+P,y,h,R,E,Se)),v.s||(F.s=x(K+U/2-y/2,O+D-P,y,h,R,E,Se))),Math.abs(V)>X&&(v.w||(F.w=x(K-D-m+P,T+V/2-h/2,y,h,R,E,Se)),v.e||(F.e=x(B+D-P,T+V/2-h/2,y,h,R,E,Se))),F},q=function(ke,Se){var ge=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"mouse";if(ke.locked)return{};var J={};if(ke.type==="freedraw"||(0,w.bt)(ke)){if(ke.points.length===2){var Q=(0,r.Z)(ke.points,2),K=Q[1];K[0]===0||K[1]===0?J=H:K[0]>0&&K[1]<0?J=L:K[0]>0&&K[1]>0?J=H:K[0]<0&&K[1]>0?J=L:K[0]<0&&K[1]<0&&(J=H)}}else(0,b.iB)(ke)?J=j:(0,w.He)(ke)&&(J={rotation:!0});var T=(0,w.bt)(ke)?N.Lu+8:N.Lu;return S((0,A.qf)(ke,!0),ke.angle,Se,ge,J,T)},ve=function(ke,Se){if(Se.editingLinearElement)return!1;if(ke.length>1)return!0;var ge=ke[0];return!(0,w.bt)(ge)||ge.points.length>2}},4183:function(We,ue,n){n.d(ue,{F9:function(){return f},He:function(){return M},Lx:function(){return S},Mn:function(){return x},QI:function(){return J},UQ:function(){return T},Xh:function(){return ge},Xo:function(){return Se},Yv:function(){return L},bt:function(){return j},dt:function(){return H},eK:function(){return K},f0:function(){return q},gs:function(){return w},iB:function(){return N},mG:function(){return ve},pC:function(){return b},r2:function(){return ke},wi:function(){return k}});var r=n(9937),A=n(9827),k=function(B){return!!B&&B.type==="image"&&!!B.fileId},b=function(B){return!!B&&B.type==="image"},w=function(B){return!!B&&B.type==="embeddable"},N=function(B){return B!=null&&B.type==="text"},M=function(B){return B!=null&&B.type==="frame"},f=function(B){return B!=null&&d(B.type)},d=function(B){return B==="freedraw"},j=function(B){return B!=null&&H(B.type)},L=function(B){return B!=null&&B.type==="arrow"},H=function(B){return B==="arrow"||B==="line"},x=function(B){var O=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return B!=null&&(!B.locked||O===!0)&&S(B.type)},S=function(B){return B==="arrow"},q=function(B){var O=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return!(B==null||B.locked&&O!==!0||B.type!=="rectangle"&&B.type!=="diamond"&&B.type!=="ellipse"&&B.type!=="image"&&B.type!=="embeddable"&&B.type!=="frame"&&(B.type!=="text"||B.containerId))},ve=function(B){var O=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return B!=null&&(!B.locked||O===!0)&&(B.type==="rectangle"||B.type==="diamond"||B.type==="ellipse"||L(B))},ke=function(B){var O=B==null?void 0:B.type;if(!O)return!1;switch(O){case"text":case"diamond":case"rectangle":case"embeddable":case"ellipse":case"arrow":case"freedraw":case"line":case"frame":case"image":case"selection":return!0;default:return(0,A.vE)(O,null),!1}},Se=function(B){var O;return ve(B)&&!((O=B.boundElements)===null||O===void 0||!O.some(function(R){return R.type==="text"}))},ge=function(B){return B!==null&&"containerId"in B&&B.containerId!==null&&N(B)},J=function(B){return B==="rectangle"||B==="embeddable"},Q=function(B){return B==="line"||B==="arrow"||B==="diamond"},K=function(B,O){return!(B!==r.a6.ADAPTIVE_RADIUS&&B!==r.a6.LEGACY||!J(O.type))||!(B!==r.a6.PROPORTIONAL_RADIUS||!Q(O.type))},T=function(B){return Q(B.type)?{type:r.a6.PROPORTIONAL_RADIUS}:J(B.type)?{type:r.a6.ADAPTIVE_RADIUS}:null}},3506:function(We,ue,n){n.d(ue,{_L:function(){return H},lp:function(){return L},jk:function(){return x}});var r=n(5169),A=n(8821),k=n(2248),b=n(7245),w=n(2312),N=n(5901);function M(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function f(S,q,ve){return f=M()?Reflect.construct.bind():function(ke,Se,ge){var J=[null];J.push.apply(J,Se);var Q=new(Function.bind.apply(ke,J));return ge&&(0,N.Z)(Q,ge.prototype),Q},f.apply(null,arguments)}function d(S){var q=typeof Map=="function"?new Map:void 0;return d=function(ve){if(ve===null||(ke=ve,Function.toString.call(ke).indexOf("[native code]")===-1))return ve;var ke;if(typeof ve!="function")throw new TypeError("Super expression must either be null or a function");if(q!==void 0){if(q.has(ve))return q.get(ve);q.set(ve,Se)}function Se(){return f(ve,arguments,(0,w.Z)(this).constructor)}return Se.prototype=Object.create(ve.prototype,{constructor:{value:Se,enumerable:!1,writable:!0,configurable:!0}}),(0,N.Z)(Se,ve)},d(S)}function j(S){var q=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ve,ke=(0,w.Z)(S);if(q){var Se=(0,w.Z)(this).constructor;ve=Reflect.construct(ke,arguments,Se)}else ve=ke.apply(this,arguments);return(0,b.Z)(this,ve)}}var L=function(S){(0,k.Z)(ve,S);var q=j(ve);function ve(){var ke,Se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Couldn't export canvas.",ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"CANVAS_ERROR";return(0,A.Z)(this,ve),(ke=q.call(this)).name=ge,ke.message=Se,ke}return(0,r.Z)(ve)}(d(Error)),H=function(S){(0,k.Z)(ve,S);var q=j(ve);function ve(){var ke=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Request Aborted";return(0,A.Z)(this,ve),q.call(this,ke,"AbortError")}return(0,r.Z)(ve)}(d(DOMException)),x=function(S){(0,k.Z)(ve,S);var q=j(ve);function ve(){var ke,Se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Image Scene Data Error",ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"IMAGE_SCENE_DATA_ERROR";return(0,A.Z)(this,ve),(ke=q.call(this,Se)).name="EncodingError",ke.code=ge,ke}return(0,r.Z)(ve)}(d(Error))},4682:function(We,ue,n){n.d(ue,{$Z:function(){return v},A_:function(){return i},Dn:function(){return Q},Qs:function(){return V},SH:function(){return K},Tq:function(){return m},_h:function(){return O},cH:function(){return U},cO:function(){return J},fj:function(){return E},lz:function(){return a},ni:function(){return R},pr:function(){return h},wO:function(){return B},xr:function(){return q},yZ:function(){return y},zD:function(){return T}});var r=n(1930),A=n(2577),k=n(7651),b=n(2361),w=n(4761),N=n(9827),M=n(583),f=n(4105),d=n(9215),j=n(457),L=n(4949),H=n(507);function x(D,P){var F=typeof Symbol<"u"&&D[Symbol.iterator]||D["@@iterator"];if(!F){if(Array.isArray(D)||(F=function(ne,oe){if(ne){if(typeof ne=="string")return S(ne,oe);var be=Object.prototype.toString.call(ne).slice(8,-1);if(be==="Object"&&ne.constructor&&(be=ne.constructor.name),be==="Map"||be==="Set")return Array.from(ne);if(be==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(be))return S(ne,oe)}}(D))||P){F&&(D=F);var X=0,le=function(){};return{s:le,n:function(){return X>=D.length?{done:!0}:{done:!1,value:D[X++]}},e:function(ne){throw ne},f:le}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var de,fe=!0,pe=!1;return{s:function(){F=F.call(D)},n:function(){var ne=F.next();return fe=ne.done,ne},e:function(ne){pe=!0,de=ne},f:function(){try{fe||F.return==null||F.return()}finally{if(pe)throw de}}}}function S(D,P){(P==null||P>D.length)&&(P=D.length);for(var F=0,X=new Array(P);F<P;F++)X[F]=D[F];return X}var q=function(D,P,F){var X,le=(0,N.xn)(D),de=x(P);try{for(de.s();!(X=de.n()).done;){var fe=X.value;if(fe.frameId){var pe=F.get(fe.id),ne=F.get(fe.frameId);if(pe){var oe=le.get(pe);oe&&(0,M.DR)(oe,{frameId:ne??fe.frameId},!1)}}}}catch(be){de.e(be)}finally{de.f()}};function ve(D,P){var F=(0,L.GJ)(P),X=(0,L.GJ)(D);return F.some(function(le){return X.some(function(de){return(0,H.y8)(le,de)})})}var ke=function(D,P){return C((0,f.Yp)(D,P,!1)).filter(function(F){return F.type!=="frame"&&!F.frameId||F.frameId===P.id})},Se=function(D,P,F){return(0,f.Yp)(D,P).some(function(X){return X.id===F.id})},ge=function(D,P){var F=(0,k.qf)(P),X=(0,A.Z)(F,4),le=X[0],de=X[1],fe=X[2],pe=X[3],ne=(0,k.KP)(D),oe=(0,A.Z)(ne,4),be=oe[0],Me=oe[1],Ge=oe[2],qe=oe[3];return le<=be&&de<=Me&&fe>=Ge&&pe>=qe},J=function(D,P){return ge([D],P)||ve(D,P)||Se([P],D,P)},Q=function(D,P){var F=(0,k.qf)(P),X=(0,A.Z)(F,4),le=X[0],de=X[1],fe=X[2],pe=X[3];return(0,b.Ni)([le,de],[D.x,D.y],[fe,pe])},K=function(D){var P,F=new Map,X=x(D);try{for(X.s();!(P=X.n()).done;){var le=P.value,de=(0,k.He)(le)?le.id:le.frameId;de&&!F.has(de)&&F.set(de,T(D,de))}}catch(fe){X.e(fe)}finally{X.f()}return F},T=function(D,P){return D.filter(function(F){return F.frameId===P})},B=function(D){return D.filter(function(P){return(0,k.He)(P)})},O=function(D){var P=(0,N.xn)(B(D));return D.filter(function(F){return P.has(F.id)||!F.frameId||!P.has(F.frameId)})},R=function(D,P,F){var X,le=T(D,P.id),de=new Set(le),fe=new Set([].concat((0,r.Z)(ke(D,P)),(0,r.Z)(le.filter(function(tt){return Se(D,tt,P)})))),pe=le.filter(function(tt){return!fe.has(tt)}),ne=new Set(Array.from(fe).flatMap(function(tt){return tt.groupIds})),oe=x(pe);try{for(oe.s();!(X=oe.n()).done;){var be=X.value;if(ve(be,P)){if(be.groupIds.length>0){var Me,Ge=x(be.groupIds);try{for(Ge.s();!(Me=Ge.n()).done;){var qe=Me.value;ne.add(qe)}}catch(tt){Ge.e(tt)}finally{Ge.f()}}}else be.groupIds.length===0&&de.delete(be)}}catch(tt){oe.e(tt)}finally{oe.f()}var Ne,Pe=x(pe);try{for(Pe.s();!(Ne=Pe.n()).done;){var Re=Ne.value;if(Re.groupIds.length>0){var Ze,Ie=!0,Ee=x(Re.groupIds);try{for(Ee.s();!(Ze=Ee.n()).done;){var xe=Ze.value;ne.has(xe)&&(Ie=!1)}}catch(tt){Ee.e(tt)}finally{Ee.f()}Ie&&de.delete(Re)}}}catch(tt){Pe.e(tt)}finally{Pe.f()}var Z,u=Array.from(fe).filter(function(tt){return tt.groupIds.length===0}),g=x(u);try{for(g.s();!(Z=g.n()).done;){var z=Z.value;de.add(z)}}catch(tt){g.e(tt)}finally{g.f()}for(var Y=Array.from(fe).filter(function(tt){return tt.groupIds.length>0}),te=(0,d.yR)(Y,F),ae=0,ce=Object.entries(te);ae<ce.length;ae++){var ye=(0,A.Z)(ce[ae],2),je=ye[0];if(ye[1]){var Be=(0,d.Fb)(D,je);if(ge(Be,P)){var Qe,rt=x(Be);try{for(rt.s();!(Qe=rt.n()).done;){var Ye=Qe.value;de.add(Ye)}}catch(tt){rt.e(tt)}finally{rt.f()}}}}return(0,r.Z)(de).filter(function(tt){return!((0,k.iB)(tt)&&tt.containerId)})},E=function(D,P){return C(D,ke(D,P))},v=function(D,P){var F;return D.frameId?P?P.get(D.frameId)||null:((F=j.Z.getScene(D))===null||F===void 0?void 0:F.getElement(D.frameId))||null:null},i=function(D,P,F){var X,le=D.reduce(function(Ne,Pe,Re){return Pe.frameId===F.id&&Ne.currTargetFrameChildrenMap.set(Pe.id,!0),Ne},{currTargetFrameChildrenMap:new Map}),de=le.currTargetFrameChildrenMap,fe=new Set(P.map(function(Ne){return Ne.id})),pe=[],ne=x(C(D,P));try{for(ne.s();!(X=ne.n()).done;){var oe=X.value;de.has(oe.id)||pe.push(oe);var be=(0,w.WJ)(oe);!be||fe.has(be.id)||de.has(be.id)||pe.push(be)}}catch(Ne){ne.e(Ne)}finally{ne.f()}for(var Me=0,Ge=pe;Me<Ge.length;Me++){var qe=Ge[Me];(0,M.DR)(qe,{frameId:F.id},!1)}return D.slice()},a=function(D,P,F){var X,le=new Map,de=new Map,fe=x(P);try{for(fe.s();!(X=fe.n()).done;){var pe=X.value;if(pe.frameId){le.set(pe.id,pe);var ne=de.get(pe.frameId)||[];ne.push(pe);var oe=(0,w.WJ)(pe);oe&&(le.set(oe.id,oe),ne.push(oe)),de.set(pe.frameId,ne)}}}catch(qe){fe.e(qe)}finally{fe.f()}var be,Me=x(le);try{for(Me.s();!(be=Me.n()).done;){var Ge=(0,A.Z)(be.value,2)[1];(0,M.DR)(Ge,{frameId:null},!1)}}catch(qe){Me.e(qe)}finally{Me.f()}return D.slice()},y=function(D,P,F){var X=T(D,P.id);return a(D,X)},h=function(D,P,F,X){return i(y(D,F),P,F)},m=function(D,P,F){var X=F.scene.getSelectedElements({selectedElementIds:P.selectedElementIds,elements:D}),le=new Set(X);if(P.editingGroupId){var de,fe=x(X);try{for(fe.s();!(de=fe.n()).done;){var pe=de.value;pe.groupIds.length===0?le.add(pe):pe.groupIds.flatMap(function(oe){return(0,d.Fb)(D,oe)}).forEach(function(oe){return le.add(oe)})}}catch(oe){fe.e(oe)}finally{fe.f()}}var ne=new Set;return le.forEach(function(oe){!oe.frameId||(0,k.He)(oe)||V(oe,D,P)||ne.add(oe)}),ne.size>0?a(D,(0,r.Z)(ne)):D},C=function(D,P){var F,X=new Set,le=x(P||D);try{for(le.s();!(F=le.n()).done;){var de=F.value,fe=de.groupIds[de.groupIds.length-1];fe&&X.add(fe)}}catch(Me){le.e(Me)}finally{le.f()}var pe,ne=new Set,oe=x(X);try{for(oe.s();!(pe=oe.n()).done;){var be=pe.value;(0,d.Fb)(D,be).some(function(Me){return(0,k.He)(Me)})&&ne.add(be)}}catch(Me){oe.e(Me)}finally{oe.f()}return(P||D).filter(function(Me){return!ne.has(Me.groupIds[Me.groupIds.length-1])})},U=function(D,P){var F=(0,k.iB)(D)&&(0,w.tl)(D)||D;return P.selectedElementIds[F.id]&&P.selectedElementsAreBeingDragged?P.frameToHighlight:v(F)},V=function(D,P,F){var X=U(D,F),le=(0,k.iB)(D)&&(0,w.tl)(D)||D;if(X){if(!F.selectedElementIds[D.id]||!F.selectedElementsAreBeingDragged)return!0;if(le.groupIds.length===0)return J(le,X);var de=new Set(le.groupIds.flatMap(function(qe){return(0,d.Fb)(P,qe)}));if(F.editingGroupId&&F.selectedElementsAreBeingDragged){var fe=new Set((0,f.eD)(P,F));if(F.frameToHighlight!==null)return!0;fe.forEach(function(qe){de.delete(qe)})}var pe,ne=x(de);try{for(ne.s();!(pe=ne.n()).done;){var oe=pe.value;if((0,k.He)(oe))return!1}}catch(qe){ne.e(qe)}finally{ne.f()}var be,Me=x(de);try{for(Me.s();!(be=Me.n()).done;){var Ge=be.value;if(J(Ge,X))return!0}}catch(qe){Me.e(qe)}finally{Me.f()}}return!1}},9215:function(We,ue,n){n.d(ue,{AI:function(){return B},F$:function(){return L},Fb:function(){return ge},Nd:function(){return Se},Qy:function(){return Q},S_:function(){return K},YS:function(){return J},bO:function(){return H},h6:function(){return T},iE:function(){return ke},iJ:function(){return q},yO:function(){return S},yR:function(){return ve},zq:function(){return x}});var r=n(1930),A=n(2577),k=n(7169),b=n(4105),w=n(4761),N=n(6264);function M(O,R){var E=typeof Symbol<"u"&&O[Symbol.iterator]||O["@@iterator"];if(!E){if(Array.isArray(O)||(E=function(m,C){if(m){if(typeof m=="string")return f(m,C);var U=Object.prototype.toString.call(m).slice(8,-1);if(U==="Object"&&m.constructor&&(U=m.constructor.name),U==="Map"||U==="Set")return Array.from(m);if(U==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U))return f(m,C)}}(O))||R){E&&(O=E);var v=0,i=function(){};return{s:i,n:function(){return v>=O.length?{done:!0}:{done:!1,value:O[v++]}},e:function(m){throw m},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,y=!0,h=!1;return{s:function(){E=E.call(O)},n:function(){var m=E.next();return y=m.done,m},e:function(m){h=!0,a=m},f:function(){try{y||E.return==null||E.return()}finally{if(h)throw a}}}}function f(O,R){(R==null||R>O.length)&&(R=O.length);for(var E=0,v=new Array(R);E<R;E++)v[E]=O[E];return v}function d(O,R){var E=Object.keys(O);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(O);R&&(v=v.filter(function(i){return Object.getOwnPropertyDescriptor(O,i).enumerable})),E.push.apply(E,v)}return E}function j(O){for(var R=1;R<arguments.length;R++){var E=arguments[R]!=null?arguments[R]:{};R%2?d(Object(E),!0).forEach(function(v){(0,k.Z)(O,v,E[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(E)):d(Object(E)).forEach(function(v){Object.defineProperty(O,v,Object.getOwnPropertyDescriptor(E,v))})}return O}var L=function(O,R,E){var v=E.reduce(function(i,a){return a.groupIds.includes(O)&&(i[a.id]=!0),i},{});return Object.keys(v).length<2?R.selectedGroupIds[O]||R.editingGroupId===O?{selectedElementIds:R.selectedElementIds,selectedGroupIds:j(j({},R.selectedGroupIds),{},(0,k.Z)({},O,!1)),editingGroupId:null}:R:{editingGroupId:R.editingGroupId,selectedGroupIds:j(j({},R.selectedGroupIds),{},(0,k.Z)({},O,!0)),selectedElementIds:j(j({},R.selectedElementIds),v)}},H=function(){var O=null,R=null,E=null,v=function(i,a,y,h){var m=h?h.scene.getSelectedElements({selectedElementIds:i.selectedElementIds,elements:a}):(0,b.eD)(a,i);return m.length?function(C,U,V,D){var P;if(E!==void 0&&U===R&&C===O&&V.editingGroupId===((P=E)===null||P===void 0?void 0:P.editingGroupId))return E;var F,X={},le=M(C);try{for(le.s();!(F=le.n()).done;){var de=F.value.groupIds;if(V.editingGroupId){var fe=de.indexOf(V.editingGroupId);fe>-1&&(de=de.slice(0,fe))}if(de.length>0){var pe=de[de.length-1];X[pe]=!0}}}catch(qe){le.e(qe)}finally{le.f()}for(var ne={},oe=U.reduce(function(qe,Ne){var Pe=Ne.groupIds.find(function(Re){return X[Re]});return Pe&&(qe[Ne.id]=!0,Array.isArray(ne[Pe])?ne[Pe].push(Ne.id):ne[Pe]=[Ne.id]),qe},{}),be=0,Me=Object.keys(ne);be<Me.length;be++){var Ge=Me[be];ne[Ge].length<2&&X[Ge]&&(X[Ge]=!1)}return R=U,O=C,E={editingGroupId:V.editingGroupId,selectedGroupIds:X,selectedElementIds:(0,N.Oh)(j(j({},V.selectedElementIds),oe),D)}}(m,a,i,y):{selectedGroupIds:{},editingGroupId:null,selectedElementIds:(0,N.Oh)(i.selectedElementIds,y)}};return v.clearCache=function(){R=null,O=null,E=null},v}(),x=function(O,R){return S(O,R)!=null},S=function(O,R){return R.groupIds.filter(function(E){return E!==O.editingGroupId}).find(function(E){return O.selectedGroupIds[E]})},q=function(O){return Object.entries(O.selectedGroupIds).filter(function(R){var E=(0,A.Z)(R,2);return E[0],E[1]}).map(function(R){var E=(0,A.Z)(R,2),v=E[0];return E[1],v})},ve=function(O,R){var E,v=j(j({},R),{},{selectedGroupIds:{}}),i=M(O);try{for(i.s();!(E=i.n()).done;){var a=E.value.groupIds;if(R.editingGroupId){var y=a.indexOf(R.editingGroupId);y>-1&&(a=a.slice(0,y))}if(a.length>0){var h=a[a.length-1];v=j(j({},v),L(h,v,O))}}}catch(m){i.e(m)}finally{i.f()}return v.selectedGroupIds},ke=function(O,R){return j(j({},O),{},{editingGroupId:R.groupIds.length?R.groupIds[0]:null,selectedGroupIds:{},selectedElementIds:(0,k.Z)({},R.id,!0)})},Se=function(O,R){return O.groupIds.includes(R)},ge=function(O,R){return O.filter(function(E){return Se(E,R)})},J=function(O,R){return O.groupIds.find(function(E){return R[E]})},Q=function(O,R,E){for(var v=(0,r.Z)(O),i=R?O.indexOf(R):-1,a=i>-1?i:O.length,y=0;y<a;y++)v[y]=E(v[y]);return v},K=function(O,R,E){var v=(0,r.Z)(O),i=E?v.indexOf(E):-1,a=i>-1?i:v.length;return v.splice(a,0,R),v},T=function(O,R){return O.filter(function(E){return!R[E]})},B=function(O){var R=new Map;return O.forEach(function(E){var v=E.groupIds.length===0?E.id:E.groupIds[E.groupIds.length-1],i=R.get(v)||[],a=(0,w.WJ)(E);a&&i.push(a),R.set(v,[].concat((0,r.Z)(i),[E]))}),Array.from(R.values())}},334:function(We,ue,n){n.d(ue,{F:function(){return N}});var r=n(1930),A=n(2577),k=n(9787),b=n(8242),w=n(100),N=function(M){var f=(0,k.useState)(null),d=(0,A.Z)(f,2),j=d[0],L=d[1],H=(0,b.Fy)(),x=(0,w.I)().theme,S=(0,b.J0)().container;return(0,k.useLayoutEffect)(function(){var q,ve;j&&(j.className="",(q=j.classList).add.apply(q,["excalidraw"].concat((0,r.Z)((M==null||(ve=M.className)===null||ve===void 0?void 0:ve.split(/\s+/))||[]))),j.classList.toggle("excalidraw--mobile",H.editor.isMobile),j.classList.toggle("theme--dark",x==="dark"))},[j,x,H.editor.isMobile,M==null?void 0:M.className]),(0,k.useLayoutEffect)(function(){var q=M!=null&&M.parentSelector?S==null?void 0:S.querySelector(M.parentSelector):document.body;if(q){var ve=document.createElement("div");return q.appendChild(ve),L(ve),function(){q.removeChild(ve)}}},[S,M==null?void 0:M.parentSelector]),j}},5832:function(We,ue,n){n.d(ue,{YX:function(){return j},mF:function(){return H},yT:function(){return x}});var r=n(2577),A=n(8950),k=n(2975),b=n.n(k),w=n(3607),N=n(9787),M=n(9240),f=n(453),d=n(507),j=(0,w.cn)(new Map),L=function(){var S=(0,A.Z)(b().mark(function q(ve){return b().wrap(function(ke){for(;;)switch(ke.prev=ke.next){case 0:return ke.next=2,(0,d.$D)({elements:ve,appState:{exportBackground:!1,viewBackgroundColor:M.HO.white},files:null,renderEmbeddables:!1});case 2:return ke.abrupt("return",ke.sent);case 3:case"end":return ke.stop()}},q)}));return function(q){return S.apply(this,arguments)}}(),H=function(S,q,ve){var ke=(0,N.useState)(),Se=(0,r.Z)(ke,2),ge=Se[0],J=Se[1];return(0,N.useEffect)(function(){if(q)if(S){var Q=ve.get(S);Q?J(Q):(0,A.Z)(b().mark(function K(){var T,B;return b().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,L(q);case 2:B=O.sent,(T=B.querySelector(".style-fonts"))===null||T===void 0||T.remove(),B&&(ve.set(S,B),J(B));case 5:case"end":return O.stop()}},K)}))()}else(0,A.Z)(b().mark(function K(){var T;return b().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.next=2,L(q);case 2:T=B.sent,J(T);case 4:case"end":return B.stop()}},K)}))()},[S,q,ve,J]),ge},x=function(){var S=(0,w.KO)(j,f.yE),q=(0,r.Z)(S,1)[0];return{clearLibraryCache:function(){return q.clear()},deleteItemsFromLibraryCache:function(ve){ve.forEach(function(ke){return q.delete(ke)})},svgCache:q}}},1901:function(We,ue,n){n.d(ue,{O:function(){return k}});var r=n(9787),A=n(9937);function k(b,w,N){(0,r.useEffect)(function(){function M(f){var d=f;if(b.current){var j=N==null?void 0:N(d,b.current);if(j!==!0){if(j===!1)return w(d);!b.current.contains(d.target)&&document.documentElement.contains(d.target)&&(d.target.closest("[data-radix-portal]")||d.target===document.documentElement&&document.body.style.pointerEvents==="none"||d.target.closest("[data-prevent-outside-click]")||w(d))}}}return document.addEventListener(A.Ks.POINTER_DOWN,M),document.addEventListener(A.Ks.TOUCH_START,M),function(){document.removeEventListener(A.Ks.POINTER_DOWN,M),document.removeEventListener(A.Ks.TOUCH_START,M)}},[b,w,N])}},8227:function(We,ue,n){n.d(ue,{Fp:function(){return d},G3:function(){return q},Mj:function(){return j},QT:function(){return ge},m0:function(){return S},t:function(){return ke}});var r=n(8950),A=n(1930),k=n(2975),b=n.n(k),w=n(1463),N=n(4451),M=n(453),f=n(3607),d={code:"en",label:"English"},j=[d].concat((0,A.Z)([{code:"ar-SA",label:"العربية",rtl:!0},{code:"bg-BG",label:"Български"},{code:"ca-ES",label:"Català"},{code:"cs-CZ",label:"Česky"},{code:"de-DE",label:"Deutsch"},{code:"el-GR",label:"Ελληνικά"},{code:"es-ES",label:"Español"},{code:"eu-ES",label:"Euskara"},{code:"fa-IR",label:"فارسی",rtl:!0},{code:"fi-FI",label:"Suomi"},{code:"fr-FR",label:"Français"},{code:"gl-ES",label:"Galego"},{code:"he-IL",label:"עברית",rtl:!0},{code:"hi-IN",label:"हिन्दी"},{code:"hu-HU",label:"Magyar"},{code:"id-ID",label:"Bahasa Indonesia"},{code:"it-IT",label:"Italiano"},{code:"ja-JP",label:"日本語"},{code:"kab-KAB",label:"Taqbaylit"},{code:"kk-KZ",label:"Қазақ тілі"},{code:"ko-KR",label:"한국어"},{code:"ku-TR",label:"Kurdî"},{code:"lt-LT",label:"Lietuvių"},{code:"lv-LV",label:"Latviešu"},{code:"my-MM",label:"Burmese"},{code:"nb-NO",label:"Norsk bokmål"},{code:"nl-NL",label:"Nederlands"},{code:"nn-NO",label:"Norsk nynorsk"},{code:"oc-FR",label:"Occitan"},{code:"pa-IN",label:"ਪੰਜਾਬੀ"},{code:"pl-PL",label:"Polski"},{code:"pt-BR",label:"Português Brasileiro"},{code:"pt-PT",label:"Português"},{code:"ro-RO",label:"Română"},{code:"ru-RU",label:"Русский"},{code:"sk-SK",label:"Slovenčina"},{code:"sv-SE",label:"Svenska"},{code:"sl-SI",label:"Slovenščina"},{code:"tr-TR",label:"Türkçe"},{code:"uk-UA",label:"Українська"},{code:"zh-CN",label:"简体中文"},{code:"zh-TW",label:"繁體中文"},{code:"vi-VN",label:"Tiếng Việt"},{code:"mr-IN",label:"मराठी"}].filter(function(J){return N[J.code]>=85}).sort(function(J,Q){return J.label>Q.label?1:-1}))),L="__test__",H=d,x={},S=function(){var J=(0,r.Z)(b().mark(function Q(K){return b().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(H=K,document.documentElement.dir=H.rtl?"rtl":"ltr",document.documentElement.lang=H.code,!K.code.startsWith(L)){T.next=7;break}x={},T.next=17;break;case 7:return T.prev=7,T.next=10,n(940)("./".concat(H.code,".json"));case 10:x=T.sent,T.next=17;break;case 13:T.prev=13,T.t0=T.catch(7),console.error("Failed to load language ".concat(K.code,":"),T.t0.message),x=w;case 17:M.e_.set(Se,K.code);case 18:case"end":return T.stop()}},Q,null,[[7,13]])}));return function(Q){return J.apply(this,arguments)}}(),q=function(){return H},ve=function(J,Q){for(var K=0;K<Q.length;++K){var T=Q[K];if(J[T]===void 0)return;J=J[T]}if(typeof J=="string")return J},ke=function(J,Q,K){if(H.code.startsWith(L)){var T=Q?"".concat(J,"(").concat(JSON.stringify(Q).slice(1,-1),")"):J;return"‪[[".concat(T,"]]‬")}var B=J.split("."),O=ve(x,B)||ve(w,B)||K;if(O===void 0){var R="Can't find translation for ".concat(J);return console.warn(R),""}if(Q)for(var E in Q)O=O.replace("{{".concat(E,"}}"),String(Q[E]));return O},Se=(0,f.cn)(d.code),ge=function(){var J=(0,f.Dv)(Se,M.yE);return{t:ke,langCode:J}}},453:function(We,ue,n){n.d(ue,{e_:function(){return k},yE:function(){return A}});var r=n(3607),A=(n(9787),Symbol()),k=(0,r.Vv)()},5491:function(We,ue,n){n.d(ue,{E0:function(){return N},Ge:function(){return M},OA:function(){return w},Wl:function(){return b},aU:function(){return A},tW:function(){return k}});var r=n(9937),A={EQUAL:"Equal",MINUS:"Minus",NUM_ADD:"NumpadAdd",NUM_SUBTRACT:"NumpadSubtract",NUM_ZERO:"Numpad0",BRACKET_RIGHT:"BracketRight",BRACKET_LEFT:"BracketLeft",ONE:"Digit1",TWO:"Digit2",THREE:"Digit3",NINE:"Digit9",QUOTE:"Quote",ZERO:"Digit0",SLASH:"Slash",C:"KeyC",D:"KeyD",H:"KeyH",V:"KeyV",Z:"KeyZ",R:"KeyR",S:"KeyS"},k={ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",BACKSPACE:"Backspace",ALT:"Alt",CTRL_OR_CMD:r.Um?"metaKey":"ctrlKey",DELETE:"Delete",ENTER:"Enter",ESCAPE:"Escape",QUESTION_MARK:"?",SPACE:" ",TAB:"Tab",CHEVRON_LEFT:"<",CHEVRON_RIGHT:">",PERIOD:".",COMMA:",",SUBTRACT:"-",A:"a",C:"c",D:"d",E:"e",F:"f",G:"g",H:"h",I:"i",L:"l",O:"o",P:"p",Q:"q",R:"r",S:"s",T:"t",V:"v",X:"x",Y:"y",Z:"z",K:"k",W:"w",0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9"},b=function(f){return f===k.ARROW_LEFT||f===k.ARROW_RIGHT||f===k.ARROW_DOWN||f===k.ARROW_UP},w=function(f){return f.altKey},N=function(f){return f.shiftKey},M=function(f){return f.shiftKey}},2361:function(We,ue,n){n.d(ue,{EK:function(){return T},H5:function(){return d},Jj:function(){return K},LW:function(){return f},N_:function(){return Se},Ni:function(){return H},U1:function(){return w},Xt:function(){return R},c9:function(){return L},eH:function(){return J},ep:function(){return B},g6:function(){return j},lk:function(){return Q},mW:function(){return O},wC:function(){return q},xj:function(){return N},yB:function(){return ke},yW:function(){return ve},yq:function(){return M}});var r=n(2577),A=n(9937),k=n(4949),b=n(2921),w=function(E,v,i,a,y){return[(E-i)*Math.cos(y)-(v-a)*Math.sin(y)+i,(E-i)*Math.sin(y)+(v-a)*Math.cos(y)+a]},N=function(E,v,i){return w(E[0],E[1],v[0],v[1],i)},M=function(E,v,i,a,y,h,m,C){var U=Math.cos(a),V=Math.sin(a);return E.e&&E.w?v+=y+m:E.e?(v+=y*(1+U),i+=y*V,v+=m*(1-U),i+=m*-V):E.w&&(v+=y*(1-U),i+=y*-V,v+=m*(1+U),i+=m*V),E.n&&E.s?i+=h+C:E.n?(v+=h*V,i+=h*(1-U),v+=C*-V,i+=C*(1+U)):E.s&&(v+=h*-V,i+=h*(1+U),v+=C*V,i+=C*(1-U)),[v,i]},f=function(E,v,i,a){var y=i-E,h=a-v;return Math.hypot(y,h)},d=function(E,v){return[(E[0]+v[0])/2,(E[1]+v[1])/2]},j=function(E){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(E.length>=3){var i=[E[0],E[E.length-1]],a=i[0],y=i[1],h=f(a[0],a[1],y[0],y[1]);return h<=A.qx/v}return!1},L=function(E,v,i){var a=E.length;if(a<3)return!1;for(var y=[Number.MAX_SAFE_INTEGER,i],h=[v,i],m=0,C=0;C<a;C++){var U=E[C],V=E[(C+1)%a];if(S(U,V,h,y)){if(x(U,h,V)===0)return H(U,h,V);m++}}return m%2==1},H=function(E,v,i){return v[0]<=Math.max(E[0],i[0])&&v[0]>=Math.min(E[0],i[0])&&v[1]<=Math.max(E[1],i[1])&&v[1]>=Math.min(E[1],i[1])},x=function(E,v,i){var a=(v[1]-E[1])*(i[0]-v[0])-(v[0]-E[0])*(i[1]-v[1]);return a===0?0:a>0?1:2},S=function(E,v,i,a){var y=x(E,v,i),h=x(E,v,a),m=x(i,a,E),C=x(i,a,v);return y!==h&&m!==C||!(y!==0||!H(E,i,v))||!(h!==0||!H(E,a,v))||!(m!==0||!H(i,E,a))||!(C!==0||!H(i,v,a))},q=function(E,v,i){return i?[Math.round(E/i)*i,Math.round(v/i)*i]:[E,v]},ve=function(E,v){var i,a,y;if(((i=v.roundness)===null||i===void 0?void 0:i.type)===A.a6.PROPORTIONAL_RADIUS||((a=v.roundness)===null||a===void 0?void 0:a.type)===A.a6.LEGACY)return E*A.Rx;if(((y=v.roundness)===null||y===void 0?void 0:y.type)===A.a6.ADAPTIVE_RADIUS){var h,m,C=(h=(m=v.roundness)===null||m===void 0?void 0:m.value)!==null&&h!==void 0?h:A._9;return E<=C/A.Rx?E*A.Rx:C}return 0},ke=function(E,v){var i=b.R.generateElementShape(E);if(!i)return null;for(var a=(0,k.CM)(i[0]),y=[0,0],h=0,m=1/0,C=null;h<a.length;){var U=a[h],V=U.op,D=U.data;if(V==="move"&&(y=D),V==="bcurveTo"){var P=y,F=[D[0],D[1]],X=[D[2],D[3]],le=[D[4],D[5]],de=f(le[0],le[1],v[0],v[1]);de<m&&(m=de,C=[P,F,X,le]),y=le}h++}return C},Se=function(E,v,i,a,y){var h=function(m,C){return Math.pow(1-m,3)*a[C]+3*m*Math.pow(1-m,2)*i[C]+3*Math.pow(m,2)*(1-m)*v[C]+E[C]*Math.pow(m,3)};return[h(y,0),h(y,1)]},ge=function(E,v){var i=[];i[0]=0;for(var a=function(m,C){var U=ke(m,C);if(!U)return[];for(var V=[],D=1;D>0;){var P=Se(U[0],U[1],U[2],U[3],D);V.push([P[0],P[1]]),D-=.05}return V.length&&K(V.at(-1),C)&&V.push([C[0],C[1]]),V}(E,v),y=0,h=0;y<a.length-1;)h+=f(a[y][0],a[y][1],a[y+1][0],a[y+1][1]),i.push(h),y++;return i},J=function(E,v){return ge(E,v).at(-1)},Q=function(E,v,i){for(var a=ge(E,v),y=a.length-1,h=i*a.at(-1),m=0,C=y,U=0;m<C;)a[U=Math.floor(m+(C-m)/2)]<h?m=U+1:C=U;return a[U]>h&&U--,a[U]===h?U/y:1-(U+(h-a[U])/(a[U+1]-a[U]))/y},K=function(E,v){return E[0]===v[0]&&E[1]===v[1]},T=function(E){return Math.round(E/Math.PI*1e4)%5e3==0},B=function(E,v){var i=(0,r.Z)(E,2),a=i[0],y=i[1],h=(0,r.Z)(v,2),m=h[0],C=h[1];return a<=m?y>=m:a>=m&&C>=a},O=function(E,v){var i=Math.max(E[0],v[0]),a=Math.min(E[1],v[1]);return i<=a?[i,a]:null},R=function(E,v,i){return E>=v&&E<=i}},4864:function(We,ue,n){n.d(ue,{zx:function(){return Ue.z},Or:function(){return Pt.O},Eb:function(){return zr},ut:function(){return m.ut},$_:function(){return de},vO:function(){return Rt},LO:function(){return m.LO},lb:function(){return fe.Z},YE:function(){return gr.YE},C6:function(){return m.C6},B4:function(){return gt},ZP:function(){return Gt.ZP},wc:function(){return Zt.w},Fp:function(){return H.Fp},sQ:function(){return Lt.sQ},Xs:function(){return Lt.Xs},Fl:function(){return Xt.Fl},NL:function(){return Xt.NL},i1:function(){return Xt.i1},$D:function(){return Xt.$D},KP:function(){return Tt.KP},N7:function(){return Xt.N7},Lm:function(){return It.Lm},Uo:function(){return It.Uo},Ne:function(){return Lt.Ne},QD:function(){return It.QD},bt:function(){return tr.bt},Mj:function(){return H.Mj},cT:function(){return Xt.cT},lV:function(){return Xt.lV},ZY:function(){return Xt.ZY},zh:function(){return Xt.zh},DR:function(){return Gt.DR},BE:function(){return Gt.BE},$u:function(){return St.$u},Di:function(){return Jt.Di},nu:function(){return At.nu},lY:function(){return At.lY},ET:function(){return At.ET},wJ:function(){return At.wJ},_i:function(){return ve._i},I_:function(){return Xt.I_},NI:function(){return Xt.NI},Fy:function(){return q.Fy},xS:function(){return Jt.xS},QT:function(){return H.QT},dE:function(){return ve.dE}});var r=n(6479),A=n.n(r),k=n(9713),b=n.n(k),w=n(9787),N=n.n(w),M=n(8950),f=n(2577),d=n(2975),j=n.n(d),L=n(7165),H=n(8227),x=n(4512),S=function(pr){var Ft=(0,w.useState)(!0),or=(0,f.Z)(Ft,2),rr=or[0],Or=or[1];return(0,w.useEffect)(function(){var Kr=function(){var cn=(0,M.Z)(j().mark(function en(){return j().wrap(function(ur){for(;;)switch(ur.prev=ur.next){case 0:return ur.next=2,(0,H.m0)(Xr);case 2:Or(!1);case 3:case"end":return ur.stop()}},en)}));return function(){return cn.apply(this,arguments)}}(),Xr=H.Mj.find(function(cn){return cn.code===pr.langCode})||H.Fp;Kr()},[pr.langCode]),rr?(0,x.jsx)(L.z,{theme:pr.theme}):pr.children},q=n(8242),ve=n(9827),ke=n(3379),Se=n.n(ke),ge=n(7795),J=n.n(ge),Q=n(569),K=n.n(Q),T=n(3565),B=n.n(T),O=n(9216),R=n.n(O),E=n(4589),v=n.n(E),i=n(9915),a={};a.styleTagTransform=v(),a.setAttributes=B(),a.insert=K().bind(null,"head"),a.domAPI=J(),a.insertStyleElement=R(),Se()(i.Z,a),i.Z&&i.Z.locals&&i.Z.locals;var y=n(9310),h={};h.styleTagTransform=v(),h.setAttributes=B(),h.insert=K().bind(null,"head"),h.domAPI=J(),h.insertStyleElement=R(),Se()(y.Z,h),y.Z&&y.Z.locals&&y.Z.locals;var m=n(9937),C=n(3607),U=n(453),V=n(45),D=n(4572),P=n(8793),F={};F.styleTagTransform=v(),F.setAttributes=B(),F.insert=K().bind(null,"head"),F.domAPI=J(),F.insertStyleElement=R(),Se()(P.Z,F),P.Z&&P.Z.locals&&P.Z.locals;var X=n(100),le=function(pr){var Ft=pr.children,or=(0,D.R6)().FooterCenterTunnel,rr=(0,X.I)();return(0,x.jsx)(or.In,{children:(0,x.jsx)("div",{className:(0,V.Z)("footer-center zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-bottom":rr.zenModeEnabled}),children:Ft})})},de=le;le.displayName="FooterCenter";var fe=n(7021),pe=n(7169),ne=n(2726),oe=n(5463),be=n(2529),Me=n(8935),Ge=n(5744),qe={};qe.styleTagTransform=v(),qe.setAttributes=B(),qe.insert=K().bind(null,"head"),qe.domAPI=J(),qe.insertStyleElement=R(),Se()(Ge.Z,qe),Ge.Z&&Ge.Z.locals&&Ge.Z.locals;var Ne=function(){return(0,x.jsx)("svg",{viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"ExcalidrawLogo-icon",children:(0,x.jsx)("path",{d:"M39.9 32.889a.326.326 0 0 0-.279-.056c-2.094-3.083-4.774-6-7.343-8.833l-.419-.472a.212.212 0 0 0-.056-.139.586.586 0 0 0-.167-.111l-.084-.083-.056-.056c-.084-.167-.28-.278-.475-.167-.782.39-1.507.973-2.206 1.528-.92.722-1.842 1.445-2.708 2.25a8.405 8.405 0 0 0-.977 1.028c-.14.194-.028.361.14.444-.615.611-1.23 1.223-1.843 1.861a.315.315 0 0 0-.084.223c0 .083.056.166.111.194l1.09.833v.028c1.535 1.528 4.244 3.611 7.12 5.861.418.334.865.667 1.284 1 .195.223.39.473.558.695.084.11.28.139.391.055.056.056.14.111.196.167a.398.398 0 0 0 .167.056.255.255 0 0 0 .224-.111.394.394 0 0 0 .055-.167c.029 0 .028.028.056.028a.318.318 0 0 0 .224-.084l5.082-5.528a.309.309 0 0 0 0-.444Zm-14.63-1.917a.485.485 0 0 0 .111.14c.586.5 1.2 1 1.843 1.555l-2.569-1.945-.251-.166c-.056-.028-.112-.084-.168-.111l-.195-.167.056-.056.055-.055.112-.111c.866-.861 2.346-2.306 3.1-3.028-.81.805-2.43 3.167-2.095 3.944Zm8.767 6.89-2.122-1.612a44.713 44.713 0 0 0-2.625-2.5c1.145.861 2.122 1.611 2.262 1.75 1.117.972 1.06.806 1.815 1.445l.921.666a1.06 1.06 0 0 1-.251.25Zm.558.416-.056-.028c.084-.055.168-.111.252-.194l-.196.222ZM1.089 5.75c.055.361.14.722.195 1.056.335 1.833.67 3.5 1.284 4.75l.252.944c.084.361.223.806.363.917 1.424 1.25 3.602 3.11 5.947 4.889a.295.295 0 0 0 .363 0s0 .027.028.027a.254.254 0 0 0 .196.084.318.318 0 0 0 .223-.084c2.988-3.305 5.221-6.027 6.813-8.305.112-.111.14-.278.14-.417.111-.111.195-.25.307-.333.111-.111.111-.306 0-.39l-.028-.027c0-.055-.028-.139-.084-.167-.698-.666-1.2-1.138-1.731-1.638-.922-.862-1.871-1.75-3.881-3.75l-.028-.028c-.028-.028-.056-.056-.112-.056-.558-.194-1.703-.389-3.127-.639C6.087 2.223 3.21 1.723.614.944c0 0-.168 0-.196.028l-.083.084c-.028.027-.056.055-.224.11h.056-.056c.028.167.028.278.084.473 0 .055.112.5.112.555l.782 3.556Zm15.496 3.278-.335-.334c.084.112.196.195.335.334Zm-3.546 4.666-.056.056c0-.028.028-.056.056-.056Zm-2.038-10c.168.167.866.834 1.033.973-.726-.334-2.54-1.167-3.379-1.445.838.167 1.983.334 2.346.472ZM1.424 2.306c.419.722.754 3.222 1.089 5.666-.196-.778-.335-1.555-.503-2.278-.251-1.277-.503-2.416-.838-3.416.056 0 .14 0 .252.028Zm-.168-.584c-.112 0-.223-.028-.307-.028 0-.027 0-.055-.028-.055.14 0 .223.028.335.083Zm-1.089.222c0-.027 0-.027 0 0ZM39.453 1.333c.028-.11-.558-.61-.363-.639.42-.027.42-.666 0-.666-.558.028-1.144.166-1.675.25-.977.194-1.982.389-2.96.61-2.205.473-4.383.973-6.561 1.557-.67.194-1.424.333-2.066.666-.224.111-.196.333-.084.472-.056.028-.084.028-.14.056-.195.028-.363.056-.558.083-.168.028-.252.167-.224.334 0 .027.028.083.028.11-1.173 1.556-2.485 3.195-3.909 4.945-1.396 1.611-2.876 3.306-4.356 5.056-4.719 5.5-10.052 11.75-15.943 17.25a.268.268 0 0 0 0 .389c.028.027.056.055.084.055-.084.084-.168.14-.252.222-.056.056-.084.111-.084.167a.605.605 0 0 0-.111.139c-.112.111-.112.305.028.389.111.11.307.11.39-.028.029-.028.029-.056.056-.056a.44.44 0 0 1 .615 0c.335.362.67.723.977 1.028l-.698-.583c-.112-.111-.307-.083-.39.028-.113.11-.085.305.027.389l7.427 6.194c.056.056.112.056.196.056s.14-.028.195-.084l.168-.166c.028.027.083.027.111.027.084 0 .14-.027.196-.083 10.052-10.055 18.15-17.639 27.42-24.417.083-.055.111-.166.111-.25.112 0 .196-.083.251-.194 1.704-5.194 2.039-9.806 2.15-12.083v-.028c0-.028.028-.056.028-.083.028-.056.028-.084.028-.084a1.626 1.626 0 0 0-.111-1.028ZM21.472 9.5c.446-.5.893-1.028 1.34-1.5-2.876 3.778-7.65 9.583-14.408 16.5 4.607-5.083 9.242-10.333 13.068-15ZM5.193 35.778h.084-.084Zm3.462 3.194c-.027-.028-.027-.028 0-.028v.028Zm4.16-3.583c.224-.25.448-.472.699-.722 0 0 0 .027.028.027-.252.223-.475.445-.726.695Zm1.146-1.111c.14-.14.279-.334.446-.5l.028-.028c1.648-1.694 3.351-3.389 5.082-5.111l.028-.028c.419-.333.921-.694 1.368-1.028a379.003 379.003 0 0 0-6.952 6.695ZM24.794 6.472c-.921 1.195-1.954 2.778-2.82 4.028-2.736 3.944-11.532 13.583-11.727 13.75a1976.983 1976.983 0 0 1-8.042 7.639l-.167.167c-.14-.167-.14-.417.028-.556C14.49 19.861 22.03 10.167 25.074 5.917c-.084.194-.14.36-.28.555Zm4.83 5.695c-1.116-.64-1.646-1.64-1.34-2.611l.084-.334c.028-.083.084-.194.14-.277.307-.5.754-.917 1.257-1.167.027 0 .055 0 .083-.028-.028-.056-.028-.139-.028-.222.028-.167.14-.278.335-.278.335 0 1.369.306 1.76.639.111.083.223.194.335.305.14.167.363.445.474.667.056.028.112.306.196.445.056.222.111.472.084.694-.028.028 0 .194-.028.194a2.668 2.668 0 0 1-.363 1.028c-.028.028-.028.056-.056.084l-.028.027c-.14.223-.335.417-.53.556-.643.444-1.369.583-2.095.389 0 0-.195-.084-.28-.111Zm8.154-.834a39.098 39.098 0 0 1-.893 3.167c0 .028-.028.083 0 .111-.056 0-.084.028-.14.056-2.206 1.61-4.356 3.305-6.506 5.028 1.843-1.64 3.686-3.306 5.613-4.945.558-.5.949-1.139 1.06-1.861l.28-1.667v-.055c.14-.334.67-.195.586.166Z",fill:"currentColor"})})},Pe=function(){return(0,x.jsxs)("svg",{viewBox:"0 0 450 55",xmlns:"http://www.w3.org/2000/svg",fill:"none",className:"ExcalidrawLogo-text",children:[(0,x.jsx)("path",{d:"M429.27 96.74c2.47-1.39 4.78-3.02 6.83-4.95 1.43-1.35 2.73-2.86 3.81-4.51-.66.9-1.4 1.77-2.23 2.59-2.91 2.84-5.72 5.09-8.42 6.87h.01ZM343.6 69.36c.33 3.13.58 6.27.79 9.4.09 1.37.18 2.75.25 4.12-.12-4.46-.27-8.93-.5-13.39-.11-2.08-.24-4.16-.4-6.24-.06 1.79-.11 3.85-.13 6.11h-.01ZM378.47 98.34c.01-.37.07-1.13.01-6.51-.11 1.9-.22 3.81-.31 5.71-.07 1.42-.22 2.91-.16 4.35.39.03.78.07 1.17.1-.92-.85-.76-2.01-.72-3.66l.01.01ZM344.09 86.12c-.09-2.41-.22-4.83-.39-7.24v12.21c.15-.05.32-.09.47-.14.05-1.61-.03-3.23-.09-4.83h.01ZM440.69 66.79c-.22-.34-.45-.67-.69-.99-3.71-4.87-9.91-7.14-15.65-8.55-1.05-.26-2.12-.49-3.18-.71 2.29.59 4.48 1.26 6.64 2.02 7.19 2.54 10.57 5.41 12.88 8.23ZM305.09 72.46l1.2 3.6c.84 2.53 1.67 5.06 2.46 7.61.24.78.5 1.57.73 2.36.22-.04.44-.08.67-.12a776.9 776.9 0 0 1-5.01-13.57c-.02.04-.03.09-.05.13v-.01ZM345.49 90.25v.31c1.48-.42 3.05-.83 4.66-1.2-1.56.25-3.12.52-4.66.89ZM371.02 90.22c0-.57-.04-1.14-.11-1.71-.06-.02-.12-.04-.19-.05-.21-.05-.43-.08-.65-.11.42.16.74.88.95 1.87ZM398.93 54.23c-.13 0-.27-.01-.4-.02l.03.4c.11-.15.23-.27.37-.38ZM401.57 62.28v-.15c-1.22-.24-2.86-.61-3.23-1.25-.09-.15-.18-.51-.27-.98-.09.37-.2.73-.33 1.09 1.24.56 2.52.98 3.83 1.29ZM421.73 88.68c-2.97 1.65-6.28 3.12-9.69 3.68v.18c4.72-.14 11.63-3.85 16.33-8.38-2.04 1.75-4.33 3.24-6.63 4.53l-.01-.01ZM411.28 80.92c-.05-1.2-.09-2.4-.15-3.6-.21 5.66-.46 11.38-.47 14.51.24-.02.48-.04.71-.07.15-3.61.05-7.23-.09-10.83v-.01Z",transform:"translate(-144.023 -51.76)"}),(0,x.jsx)("path",{d:"M425.38 67.41c-3.5-1.45-7.19-2.57-14.06-3.62.09 1.97.06 4.88-.03 8.12.03.04.06.09.06.15.19 1.36.28 2.73.37 4.1.25 3.77.39 7.55.41 11.33 0 1.38-.01 2.76-.07 4.13 1.4-.25 2.78-.65 4.12-1.15 4.07-1.5 7.94-3.78 11.28-6.54 2.33-1.92 5.13-4.49 5.88-7.58.63-3.53-2.45-6.68-7.97-8.96l.01.02ZM411.35 92.53v-.06l-.34.03c.11.01.22.03.34.03ZM314.26 64.06c-.23-.59-.47-1.17-.7-1.75.57 1.62 1.11 3.25 1.6 4.9l.15.54 2.35 6.05c.32.82.66 1.64.98 2.46-1.38-4.1-2.83-8.17-4.39-12.2h.01ZM156.82 103.07c-.18.13-.38.23-.58.33 1.32-.03 2.66-.2 3.93-.34.86-.09 1.72-.22 2.58-.33-2.12.1-4.12.17-5.94.34h.01ZM210.14 68.88s.03.04.05.07c.18-.31.39-.64.58-.96-.21.3-.42.6-.64.89h.01ZM201.65 82.8c-.5.77-1.02 1.56-1.49 2.37 1.11-1.55 2.21-3.1 3.2-4.59-.23.23-.49.51-.75.79-.32.47-.65.95-.96 1.43ZM194.03 98.66c-.33-.4-.65-.84-1.05-1.17-.24-.2-.07-.49.17-.56-.23-.26-.42-.5-.63-.75 1.51-2.55 3.93-5.87 6.4-9.28-.17-.08-.29-.28-.2-.49.04-.09.09-.17.13-.26-1.21 1.78-2.42 3.55-3.61 5.33-.87 1.31-1.74 2.64-2.54 4-.29.5-.63 1.04-.87 1.61.81.65 1.63 1.27 2.47 1.88-.09-.11-.18-.21-.27-.32v.01ZM307.79 82.93c-1-3.17-2.05-6.32-3.1-9.48-1.62 4.08-3.69 9.17-6.16 15.19 3.32-1.04 6.77-1.87 10.27-2.5-.32-1.08-.67-2.15-1.01-3.21ZM149.5 80.7c.05-1.71.04-3.43 0-5.14-.1 2.26-.16 4.51-.22 6.77-.02.73-.03 1.46-.04 2.19.14-1.27.2-2.55.24-3.82h.02ZM228.98 98.3c.39 1.25.91 3.03.94 3.91.06-.03.12-.07.17-.1.08-1.29-.55-2.65-1.11-3.81ZM307.72 53.36c.81.5 1.53 1.04 2.07 1.49-.38-.8-.78-1.58-1.21-2.35-.17.03-.34.06-.51.11-.43.12-.86.26-1.29.41.35-.01.53.1.94.34ZM283.69 96.14c3.91-7.25 6.89-13.35 8.88-18.15l1.1-2.66c-1.27 2.64-2.56 5.27-3.83 7.9-1.53 3.15-3.06 6.31-4.58 9.47-.87 1.81-1.76 3.62-2.54 5.47.04.02.07.04.11.07.05.05.1.09.15.14.05-.73.27-1.48.71-2.24ZM289.92 103.23s-.04.01-.05.03c0-.02.04-.03.05-.04.05-.05.11-.1.16-.15l.21-.21c-.55 0-1.5-.27-2.55-.72.4.26.8.51 1.22.74.24.13.48.26.73.37.05.02.1.03.14.05a.27.27 0 0 1 .08-.07h.01ZM269.23 68.49c-.39-.19-.82-.48-1.33-.87-3.06-1.56-6.31-2.78-9.36-2.35-3.5.49-5.7 1.11-7.74 2.44 5.71-2.6 12.82-2.07 18.44.79l-.01-.01ZM177.87 53.69l1.06.03c-.96-.22-2-.25-2.89-.3-4.95-.26-9.99.33-14.86 1.19-2.44.43-4.88.95-7.28 1.59 9.09-1.76 15.69-2.77 23.97-2.51ZM219.85 55.51c-.18.12-.36.27-.56.45-.45.53-.86 1.11-1.26 1.66-1.91 2.61-3.71 5.31-5.57 7.95l-.12.18 8.05-10.11c-.18-.05-.36-.1-.55-.13h.01ZM510.71 54.1c.12-.15.29-.3.53-.45.69-.4 3.72-.63 5.87-.74-.36-.02-.73-.04-1.09-.05-1.84-.03-3.67.09-5.49.35.05.3.12.59.18.88v.01ZM510.76 86.02c1.37-3.07 2.49-6.27 3.57-9.46.55-1.64 1.12-3.3 1.6-4.97-1.59 4.01-3.67 9.14-6.2 15.3.24-.08.5-.14.74-.22.1-.22.19-.44.29-.65ZM566.95 75.76c.11-.02.23.03.31.11-.05-.13-.09-.26-.14-.39-.05.09-.11.18-.17.28ZM511.33 86.41c3.08-.89 6.24-1.62 9.46-2.14-1.51-3.98-2.98-7.96-4.39-11.87-.05.15-.09.31-.14.46-1.02 3.32-2.15 6.61-3.39 9.85-.48 1.25-.98 2.49-1.53 3.7h-.01ZM578.24 74.45c.11-.44.23-.87.35-1.31-.31.7-.64 1.39-.97 2.08.09.21.19.4.28.61.12-.46.23-.92.35-1.38h-.01ZM520.62 53.11c-.09 0-.18-.01-.28-.02.38.34.29 1.08.93 2.53l6.65 17.15c2.2 5.68 4.69 11.36 7.41 16.87l1.06 2.17c-2.95-7.05-5.92-14.08-8.87-21.13-1.58-3.79-3.16-7.59-4.7-11.4-.78-1.92-1.73-3.89-2.25-5.91-.03-.1 0-.19.04-.26h.01ZM578.78 77.87c1.45-5.77 3.07-10.43 3.58-13.36.05-.34.16-.88.31-1.55-.67 1.79-1.37 3.56-2.08 5.33-.12.43-.23.86-.35 1.29-.65 2.43-1.29 4.86-1.9 7.3.14.33.29.65.43 1l.01-.01ZM545.3 94.66c.02-.44.03-.83.05-1.12.02-1.01.05-2.02.11-3.02.03-6.66-.46-14.33-1.46-22.8-.13-.42-.27-1.24-.56-2.89 0-.02 0-.04-.01-.06.62 6.61.95 13.25 1.32 19.87.17 3.08.33 6.16.52 9.23.02.25.03.52.04.78l-.01.01ZM580.77 102.81c.13.2.27.38.37.49.27-.11.53-.22.8-.32-.43.09-.82.05-1.17-.16v-.01ZM530.48 104.07h.33c-.36-.13-.71-.32-1.04-.56.14.24.3.47.45.7.06-.08.14-.13.26-.13v-.01ZM542.63 58.82c.06.23.11.47.15.71.14-.33.36-.62.7-.86-.28.05-.57.11-.85.15ZM583.81 57.87c.15-.7.29-1.41.42-2.11-.14.45-.28.9-.42 1.34-.46 1.44-.89 2.89-1.31 4.34.44-1.19.88-2.37 1.31-3.57ZM523.62 91.48c-4.66 1.17-9.05 2.89-14.02 5.27 4.65-1.84 9.48-3.29 14.28-4.63-.09-.22-.17-.41-.26-.64ZM460.64 78.3c-.04-2.9-.11-5.81-.28-8.71-.1-1.68-.17-3.43-.5-5.09-.07.02-.14.03-.2.05.3 6.54.45 12.17.51 17.12.17-.07.34-.14.51-.2 0-1.06-.01-2.11-.03-3.17h-.01ZM470.63 63.24c-3.38-.26-6.81.32-10.1 1.1.41 2.01.47 4.14.57 6.18.18 3.55.25 7.11.27 10.67 3.31-1.38 6.5-3.12 9.3-5.35 1.96-1.56 3.86-3.41 5.02-5.66.73-1.41 1.19-3.22.26-4.65-1.09-1.7-3.46-2.14-5.32-2.29ZM460.29 63.68c1-.24 2.01-.46 3.04-.65-1.15.16-2.37.38-3.71.69v.13c.07-.02.15-.04.22-.05.11-.13.3-.18.45-.11v-.01ZM457.24 100.96c.43-.03.86-.07 1.29-.11.14-.49.27-.99.38-1.49-.44.7-1 1.23-1.67 1.6ZM482.88 104.98c-.18.23-.36.38-.55.47.14.09.27.19.4.28a70.76 70.76 0 0 0 4.37-4.63c.76-.89 1.52-1.81 2.19-2.77-.3-.27-.61-.53-.92-.79-.07 1.94-4.62 6.32-5.49 7.45v-.01Z",transform:"translate(-144.023 -51.76)"}),(0,x.jsx)("path",{d:"M474.36 63.31c-.4-.16-.84-.27-1.29-.37 1.56.42 3.08 1.22 3.76 2.74.62 1.4.32 2.95-.28 4.32.7-1.22.94-2.34.74-3.47-.24-1.33-1.19-2.54-2.93-3.21v-.01ZM477.34 89.18c-1.2-.81-2.4-1.62-3.6-2.42-.14.1-.26.19-.4.29 1.4.67 2.73 1.39 4 2.13ZM465.88 93.85c.37.25.74.5 1.1.75.46.32.92.65 1.38.97-1.57-1.2-2.01-1.61-2.49-1.72h.01ZM574.92 90.06c-2.28-5.21-4.93-11.13-5.67-12.26-.1-.15-1.57-3.01-1.63-3.08 0 0-.01.02-.02.02.4 1.37 1.09 2.69 1.65 3.99 2.14 4.95 4.36 9.86 6.67 14.73.6 1.26 1.21 2.52 1.83 3.78-.75-2.01-1.64-4.45-2.83-7.18ZM448.73 65.29c.1.2.22.38.34.57.22-.02.43-.06.65-.08v-.08c-.14-.05-.25 0-.99-.41ZM460.16 94.81c-.02.31-.06.59-.1.89-.03 1.71-.33 3.43-.79 5.07.15-.02.3-.03.45-.05.01-.04.02-.08.03-.11.09-.34.15-.69.2-1.03.17-1.07.25-2.16.33-3.24.05-.69.08-1.39.12-2.08-.27.1-.27.26-.24.57v-.02Z",transform:"translate(-144.023 -51.76)"}),(0,x.jsx)("path",{d:"m328.67 98.12-3.22-6.58c-1.29-2.63-2.53-5.29-3.72-7.97-.25-.85-.52-1.69-.79-2.53-.81-2.57-1.67-5.12-2.55-7.67-1.92-5.53-3.9-11.08-6.32-16.41-.72-1.58-1.46-3.44-2.63-4.79-.03-.17-.16-.29-.34-.36a.282.282 0 0 0-.23-.04c-.06-.01-.12 0-.18.01-.74.06-1.5.38-2.19.61-2.22.77-4.4 1.64-6.63 2.38-.03-.08-.06-.16-.09-.25-.15-.42-.82-.24-.67.19.03.09.07.19.1.28l-.18.06c-.36.11-.28.6 0 .68.18 1.18.63 2.36.98 3.49.03.09.06.17.08.26-.08.23-.17.46-.24.64-.37.98-.79 1.94-1.21 2.9-1.27 2.89-2.62 5.75-3.98 8.6-3.18 6.67-6.44 13.31-9.64 19.97-1.08 2.25-2.2 4.5-3.15 6.81-.13.32.24.5.5.37 1.34 1.33 2.84 2.5 4.4 3.57.65.44 1.31.87 2.01 1.24.4.22.86.48 1.33.5.24.01.35-.19.33-.37.11-.1.21-.21.28-.28.41-.41.81-.84 1.2-1.26.85-.92 1.69-1.87 2.5-2.84 6.31-2.34 12.6-4.31 18.71-5.84 2.14 5.3 3.43 8.43 3.97 9.58.55 1.05 1.15 1.88 1.82 2.52 1.32.56 6.96-.03 9.23-1.96.87-1.28 1.19-2.67.93-4.15-.09-.5-.22-.95-.4-1.33l-.01-.03Zm-20.09-45.61c.43.77.83 1.56 1.21 2.35-.54-.45-1.27-.99-2.07-1.49-.42-.24-.6-.35-.94-.34.43-.15.85-.29 1.29-.41.17-.05.34-.08.51-.11Zm-25.86 45.66c.78-1.85 1.67-3.66 2.54-5.47 1.51-3.16 3.05-6.31 4.58-9.47 1.28-2.63 2.56-5.26 3.83-7.9l-1.1 2.66c-1.99 4.79-4.97 10.9-8.88 18.15-.43.76-.66 1.51-.71 2.24-.05-.05-.1-.09-.15-.14a.259.259 0 0 0-.11-.07Zm6.24 4.71c-.42-.23-.82-.48-1.22-.74 1.05.45 2 .72 2.55.72l-.21.21c-.05.05-.11.1-.16.15-.01.01-.04.03-.05.04 0-.02.03-.02.05-.03a.27.27 0 0 0-.08.07c-.05-.02-.1-.03-.14-.05-.25-.1-.49-.24-.73-.37h-.01Zm15.73-29.43c1.05 3.15 2.1 6.31 3.1 9.48.34 1.06.69 2.13 1.01 3.21-3.5.63-6.95 1.46-10.27 2.5 2.48-6.03 4.54-11.11 6.16-15.19Zm4.79 12.57c-.23-.79-.49-1.58-.73-2.36-.79-2.54-1.63-5.08-2.46-7.61l-1.2-3.6c.02-.04.04-.09.05-.13 1.6 4.45 3.28 9 5.01 13.57l-.67.12v.01Zm5.83-18.27-.15-.54c-.49-1.64-1.03-3.28-1.6-4.9.23.58.47 1.17.7 1.75 1.56 4.03 3.01 8.1 4.39 12.2-.33-.82-.67-1.64-.98-2.46l-2.35-6.05h-.01ZM390.43 79.37c-.13-10.43-.22-17.5-.24-19.97-.24-1.6.21-2.88-.65-3.65-.14-.13-.32-.23-.52-.32h.03c.45 0 .45-.69 0-.7-1.75-.03-3.5-.04-5.25-.14-1.38-.08-2.76-.21-4.15-.31-.07 0-.12.01-.17.04-.21-.07-.47.03-.45.31l.03.45c-.11.14-.19.3-.22.5-.21 1.26-.32 13.67-.36 23.59-.32 5.79-.67 11.57-.97 17.36-.09 1.73-.29 3.54-.21 5.3-.39.02-.38.64.04.69v.12c.05.44.74.45.7 0v-.06c1.1.09 2.2.21 3.3.3 1.14.19 2.44.2 3.29.17 1.73-.05 2.92-.05 3.8-.37.45-.05.9-.11 1.35-.17.44-.06.25-.73-.19-.67h-.01c.24-.32.45-.72.62-1.25.66-1.84.41-6.36.34-11.33l-.13-9.9.02.01Zm-12.26 18.17c.09-1.91.2-3.81.31-5.71.06 5.38 0 6.14-.01 6.51-.05 1.65-.21 2.81.72 3.66-.39-.04-.78-.07-1.17-.1-.06-1.44.09-2.93.16-4.35l-.01-.01ZM588.97 53.85c-2.06-.25-3.17-.51-3.76-.6a.3.3 0 0 1 .04-.08c.22-.39-.39-.75-.6-.35-.56 1.02-.9 2.19-1.26 3.29-.61 1.88-1.17 3.78-1.72 5.68-.63 2.19-1.24 4.39-1.83 6.59-.81 2.03-1.67 4.05-2.61 6.03-1.7-3.64-3.11-6.04-4.03-7.57-2.26-3.74-2.85-5.48-3.57-6.08l.31-.09c.43-.12.25-.8-.19-.67-1.06.3-2.12.6-3.17.95-.93.32-1.85.69-2.76 1.07-.13.05-.19.16-.22.27-.04.02-.08.05-.11.07-.04-.06-.07-.12-.11-.18a.354.354 0 0 0-.48-.12c-.16.09-.22.32-.13.48l.33.54c0 .09.02.18.06.28.51 1.16.78 1.38.72 1.47-2.42 3.44-5.41 7.86-6.2 9.1-1.27 1.97-2.01 3.14-2.45 3.84l-.91-6.56-.43-4.1c-.19-1.85-.37-3.23-.53-4.13-.19-1.1-.3-2.15-.45-3.16-.2-1.36-.29-2.06-.47-2.42h.04c.45.02.45-.68 0-.7-3.43-.16-6.81.94-10.17 1.48-.24-.22-.73-.04-.58.32.24.59.33 1.25.43 1.87.17 1.06.29 2.13.4 3.2.32 3.09.53 6.2.74 9.3.44 6.75.77 13.51 1.17 20.26.11 1.95.13 3.96.46 5.89.05.3.37.31.55.14.74 1.71 2.87 1.27 6.13 1.27 1.34 0 2.39.04 2.99-.11.02.32.48.53.63.18 3.61-8.26 7.41-16.46 12.05-24.2.03-.05.04-.1.05-.15.3.73.64 1.45.94 2.16.97 2.26 1.97 4.52 2.98 6.76 2.26 5.03 4.54 10.07 7.09 14.96.47.9.94 1.79 1.47 2.65.2.32.4.67.66.96-.18.25 0 .68.34.54.91-.38 1.82-.75 2.76-1.07 1.04-.35 2.11-.65 3.17-.95.39-.11.28-.66-.07-.68.62-.4.95-.96.87-1.91-.3-3.34.72-7.47.86-8.52l2.14-11.43c1.75-10.74 3.13-17.51 3.23-20.86.02-.49.08-2.84.13-3.24.17-1.25.48-1-4.96-1.65l.03-.02Zm-46.19 5.67c-.04-.24-.09-.48-.15-.71l.85-.15c-.34.24-.56.53-.7.86Zm1.95 25.12c-.36-6.63-.7-13.26-1.32-19.87 0 .02 0 .04.01.06.29 1.65.44 2.47.56 2.89 1 8.46 1.5 16.14 1.46 22.8-.06.99-.1 2-.11 3.02-.01.29-.03.68-.05 1.12-.01-.26-.03-.53-.04-.78-.19-3.08-.35-6.16-.52-9.23l.01-.01Zm36.4 18.66c-.11-.11-.24-.29-.37-.49.35.21.74.26 1.17.16-.27.11-.53.22-.8.32v.01Zm-.89-33.72c.12-.43.23-.86.35-1.29.71-1.77 1.41-3.55 2.08-5.33-.15.68-.26 1.22-.31 1.55-.5 2.94-2.13 7.59-3.58 13.36-.15-.35-.29-.66-.43-1 .61-2.44 1.25-4.87 1.9-7.3l-.01.01Zm3.56-12.48c.14-.44.28-.89.42-1.34-.13.7-.27 1.41-.42 2.11-.43 1.19-.86 2.38-1.31 3.57.42-1.45.85-2.9 1.31-4.34Zm-5.22 16.05c-.11.44-.23.87-.35 1.31-.12.46-.23.92-.35 1.38-.1-.22-.19-.4-.28-.61.34-.69.66-1.38.97-2.08h.01Zm-11.64 2.62c.06-.1.12-.19.17-.28.05.13.09.26.14.39a.398.398 0 0 0-.31-.11Zm2.3 2.98c-.56-1.3-1.25-2.63-1.65-3.99 0 0 .01-.02.02-.02.06.08 1.52 2.93 1.63 3.08.73 1.13 3.38 7.04 5.67 12.26 1.2 2.73 2.08 5.17 2.83 7.18-.62-1.25-1.23-2.51-1.83-3.78-2.31-4.87-4.53-9.78-6.67-14.73ZM275.92 87.03c-1.06-2.18-1.13-3.45-2.44-2.93-1.52.57-2.94 1.3-4.5 2.1-1.4.72-2.68 1.44-3.92 2.12.01-.25-.24-.5-.51-.34-4.8 2.93-12.41 4.7-17.28 1.31-1.98-1.77-3.32-4.15-3.97-5.78-.29-.95-.49-1.94-.63-2.93-.14-3.34 1.58-6.53 3.9-9.12.8-.79 1.68-1.51 2.66-2.12 3.7-2.3 8.22-3.07 12.51-2.51 2.71.35 5.32 1.24 7.71 2.55.39.22.75-.39.35-.6-.18-.1-.37-.18-.55-.27.56.27 1.03.33 1.51.19l-.48.39c-.15.11-.23.3-.13.48.09.15.33.24.48.13 1.3-.97 2.46-2.09 3.45-3.37.37-.29.64-.6.65-.97v-.02c.08-.33-.03-.7-.21-1.08-.31-.87-.98-2.01-2.19-3.26-2.43-2.52-3.79-3.45-5.68-4.26-1.14-.49-3.12-1.06-4.42-1.23-3.28-.42-10.64-1.21-18.18 4.11-7.74 5.46-11.94 12.3-12.23 20.61-.08 2.06.04 3.98.34 5.71.74 4.18 2.57 8 5.44 11.34 4.26 4.99 9.76 7.52 16.34 7.52 4.85 0 9.69-1.77 14.89-4.62.23-.12.45-.23.68-.35 2.19-1.1 4.37-2.23 6.46-3.5.49-.3 1.03-.61 1.5-.98 1.47-.87 1.11-1.12.49-2.95-.39-1.14-.76-2.7-2.06-5.36l.02-.01Zm-17.38-21.76c3.05-.42 6.31.79 9.36 2.35.51.39.94.68 1.33.87-5.61-2.86-12.72-3.39-18.44-.79 2.05-1.33 4.24-1.95 7.74-2.44l.01.01ZM443.67 72.67c-.4-2.2-1.15-4.33-2.37-6.22-1.49-2.32-3.58-4.19-5.91-5.64-6.17-3.81-13.75-5.11-20.83-6.01-3.23-.41-6.47-.69-9.72-.92l-1.39-.12c-.85-.07-1.52-.1-2.05-.1-1.08-.06-2.17-.12-3.25-.17-.08 0-.14.02-.19.05-.1.05-.18.14-.16.3.27 2.55-.01 5.12-.92 7.52-.15.38.4.56.62.28 1.32.59 2.68 1.05 4.08 1.37 0 2.78-.14 7.58-.33 12.91 0 0 0 .02-.01.03-.61 3.66-.79 7.42-1 11.12-.23 4.01-.43 8.03-.44 12.05 0 .64 0 1.28.03 1.93.02.31 0 .68.15.96.06.11.14.16.24.17-.2.17-.21.54.11.59 3.83.67 7.78.71 11.68.25 2.3-.19 4.87-.65 7.65-1.56 1.85-.54 3.67-1.18 5.43-1.91 7.2-3.02 14.31-8.07 17.35-15.53.76-1.86 1.17-3.8 1.31-5.75.3-1.93.28-3.82-.09-5.58l.01-.02Zm-19.32-15.42c5.74 1.41 11.94 3.68 15.65 8.55.25.32.47.65.69.99-2.3-2.82-5.68-5.69-12.88-8.23-2.16-.76-4.35-1.43-6.64-2.02 1.06.21 2.13.45 3.18.71Zm-25.82-3.04c.13 0 .27.01.4.02-.14.1-.26.23-.37.38 0-.13-.02-.26-.03-.4Zm34.82 22.17c-.75 3.09-3.55 5.66-5.88 7.58-3.35 2.76-7.21 5.03-11.28 6.54-1.33.49-2.71.9-4.12 1.15.06-1.38.08-2.76.07-4.13-.02-3.78-.16-7.56-.41-11.33-.09-1.37-.18-2.74-.37-4.1 0-.06-.03-.11-.06-.15.09-3.25.12-6.16.03-8.12 6.86 1.05 10.56 2.17 14.06 3.62 5.52 2.28 8.59 5.44 7.97 8.96l-.01-.02Zm-22 16.15c-.12 0-.23-.02-.34-.03l.34-.03v.06Zm-.69-.7c0-3.13.26-8.84.47-14.51.06 1.2.11 2.41.15 3.6.15 3.6.25 7.23.09 10.83-.24.03-.48.05-.71.07v.01Zm-12.33-30.94c.37.63 2.01 1.01 3.23 1.25v.15c-1.31-.31-2.59-.73-3.83-1.29.12-.36.23-.72.33-1.09.08.48.18.84.27.98Zm13.7 31.65v-.18c3.41-.56 6.71-2.02 9.69-3.68 2.31-1.28 4.59-2.78 6.63-4.53-4.69 4.53-11.61 8.24-16.33 8.38l.01.01Zm24.07-.75c-2.05 1.93-4.37 3.56-6.83 4.95 2.7-1.78 5.52-4.03 8.42-6.87.82-.82 1.56-1.69 2.23-2.59-1.08 1.65-2.38 3.16-3.81 4.51h-.01ZM187.16 92.14c-.79-2.47-2.1-7.12-3.1-6.87-.19-.01-2.09.77-4.08 1.54-3.06 1.18-5.91 2.13-10.09 2.82-2.74.42-5.87 1.01-10.61 1.06.04-3.34.05-6.01.05-7.99 7.97-.65 12.33-2.11 16.37-3.55 1.11-.39 2.69-1.01 2.63-1.8-.08-.35-.55-1.39-1.17-2.61-.47-1.16-.98-2.31-1.61-3.38-.42-.71-1.04-1.69-1.86-2.06-.11-.08-.22-.13-.29-.12-.02 0-.04 0-.07.01-.19-.04-.39-.05-.6-.01-.17.03-.24.15-.25.28-.04.02-.09.04-.14.05-4.33 1.48-8.85 2.33-13.24 3.61a499.1 499.1 0 0 0-.31-8.19c4.51-.99 8.88-1.38 13.11-1.82 3.68-.38 6.28.12 7.47.34.59.11.9.16 1.16.18h.1c-.1.37.44.66.62.28.02-.04.03-.08.05-.13.15.2.53.22.62-.1.17-.58.19-1.21.21-1.81v-.36c.03-.15.05-.3.07-.45.52-2.47.33-5.09-.64-7.44-.11-.27-.44-.28-.6-.14-.08-.21-.15-.42-.24-.62-.19-.41-.79-.05-.6.35.03.07.05.15.09.22-.98-.42-2.15-.54-3.17-.63-2.17-.19-4.37-.14-6.54 0-5.7.35-11.4 1.3-16.91 2.79-2.08.56-4.13 1.22-6.14 2-4.54 1.05-3.79 1.51-2.17 6.07.18.51.46 1.68.54 1.94.82 2.47 1.08 2.13 3.1 2.13s0 .05 0 .08h.52c-.48 2.66-.51 5.45-.62 8.13-.15 3.48-.22 6.96-.28 10.45 0 .41-.01.82-.02 1.23-.16.29-.33.57-.51.85-.05.38-.09.77-.14 1.18-.42 3.52-.59 6.48-.52 8.8v.34c.02.47.05.76.06.87.16 1.57-.26 3.47 1.35 3.79 1.61.32 3.5.55 4.85.55.11 0 .22-.02.33-.02 1.79.24 3.67.05 5.45-.12 2.85-.28 5.69-.7 8.51-1.19 3.03-.53 6.05-1.14 9.04-1.86 2.4-.58 4.82-1.19 7.13-2.06.51-.19 1.73-.57 2.46-1.14 1.81-.68 2.18-1 1.57-2.67-.23-.62-.48-1.49-.91-2.78l-.03-.02Zm-11.12-38.71c.89.05 1.93.08 2.89.3-.33 0-.68-.02-1.06-.03-8.28-.26-14.88.75-23.97 2.51 2.41-.64 4.85-1.16 7.28-1.59 4.87-.86 9.91-1.45 14.86-1.19Zm-26.53 22.13c.03 1.71.04 3.43 0 5.14-.04 1.27-.11 2.55-.24 3.82 0-.73.02-1.46.04-2.19.05-2.26.12-4.51.22-6.77h-.02Zm6.73 27.85c.2-.1.4-.21.58-.33 1.82-.17 3.82-.24 5.94-.34-.86.11-1.72.24-2.58.33-1.27.14-2.61.31-3.93.34h-.01ZM534.48 85.44c-3.52-8.38-7.07-16.75-10.5-25.17-.63-1.54-1.25-3.09-1.86-4.65-.31-.8-.65-1.6-.87-2.43-.04-.17-.17-.24-.31-.25.1-.2 0-.51-.29-.53-1.59-.08-3.18-.22-4.78-.25-1.96-.03-3.91.13-5.84.42-.31.05-.31.38-.13.56-.03.06-.05.14-.04.22.23 1.54.63 3.06 1.16 4.53.13.35.27.7.41 1.06l-2.68 6.18c-.11.03-.2.09-.25.22-.67 1.9-1.52 3.73-2.34 5.56a536.85 536.85 0 0 1-3.9 8.45c-2.64 5.64-5.34 11.25-7.91 16.93-.44.97-.88 1.94-1.29 2.93-.2.48-.47 1-.55 1.52v.05c-.02.12.02.26.16.34 1.19.73 2.41 1.41 3.66 2.05 1.2.62 2.45 1.25 3.76 1.61.43.12.62-.55.19-.67-1.13-.31-2.2-.83-3.24-1.36 1.09.36 2.1.69 2.75.93 2.82 1.01 2.38 1.1 4.3-3.75 2.1-1.09 4.34-1.96 6.53-2.79 4.35-1.64 8.8-3.03 13.27-4.29.82 2.01 1.77 3.97 2.72 5.92.35.83.62 1.45.79 1.82.22.42.45.8.69 1.15.17.33.33.67.5 1 .42.8.84 1.63 1.4 2.35.23.29.6 0 .55-.31 1.53-.02 3.06-.07 4.58-.27.92-.12 1.82-.32 2.71-.54 1.39-.27 3.85-1.11 3.74-1.42-.67-1.96-1.55-3.87-2.34-5.78-1.57-3.78-3.16-7.56-4.75-11.33v-.01Zm-11.65-26.16c1.54 3.81 3.12 7.6 4.7 11.4 2.94 7.05 5.91 14.09 8.87 21.13l-1.06-2.17c-2.71-5.51-5.2-11.19-7.41-16.87l-6.65-17.15c-.65-1.45-.55-2.19-.93-2.53.09 0 .18.01.28.02a.29.29 0 0 0-.04.26c.52 2.02 1.47 3.98 2.25 5.91h-.01Zm-6.58 13.58c.05-.15.09-.31.14-.46 1.41 3.92 2.88 7.9 4.39 11.87-3.22.52-6.38 1.25-9.46 2.14.55-1.22 1.05-2.46 1.53-3.7 1.24-3.24 2.37-6.53 3.39-9.85h.01Zm-.23-20c.36 0 .73.03 1.09.05-2.15.1-5.18.33-5.87.74-.24.15-.41.3-.53.45-.06-.29-.13-.58-.18-.88 1.82-.26 3.65-.39 5.49-.35v-.01Zm-.09 18.72c-.49 1.67-1.05 3.33-1.6 4.97-1.07 3.19-2.19 6.38-3.57 9.46-.09.21-.19.43-.29.65-.25.07-.5.14-.74.22 2.53-6.16 4.61-11.29 6.2-15.3Zm-6.34 25.16c4.97-2.38 9.37-4.1 14.02-5.27l.26.64c-4.8 1.35-9.63 2.8-14.28 4.63Zm20.17 6.76c.33.23.68.42 1.04.56h-.33c-.12 0-.21.06-.26.13-.15-.23-.31-.45-.45-.7v.01ZM226.57 91.75c-3.55-4.74-6.68-9.11-9.31-12.99 9.2-15.25 10.05-17.81 10.35-18.38.17-.34 1.09-2.27.64-2.53-1.13-.65-1.03-.65-2.97-1.71-1.19-.65-3.04-1.61-4.53-2.12-1.71-.59-1.24-.36-3 2.77-.06.1-.11.2-.17.3-.75 1.02-1.48 2.05-2.2 3.09-1.88 2.71-3.73 5.45-5.69 8.1-3.68-4.91-6.88-8.76-9.51-11.43-.15-.15-.3-.29-.46-.42-1.27-1.28-7.24 3.53-7.93 5.58-.09.09-.19.16-.28.25-.27.26.03.64.33.58.19.65.5 1.29.94 1.91 3.85 5.06 7.19 9.76 9.94 14-1.23 2.61-3.06 5-4.67 7.38l-2.28 3.33c-.5.66-.93 1.23-1.29 1.69-.67.93-2.09 2.61-2.3 3.87-.51.85-1.16 1.84-1.29 2.83-.06.44.61.63.67.19.01-.08.04-.15.06-.22 1.36 1.08 2.76 2.11 4.19 3.11 1.3.91 2.62 1.85 4.04 2.56.21.1.4 0 .48-.17.24.07.48.14.72.2.44.1.62-.57.19-.67-2.02-.48-3.77-1.57-5.23-3.02-.47-.46-.9-.96-1.32-1.46 1.74 1.35 4.2 2.89 5.89 4.14 1.39 1.03 2.85-2.27 4.22-4.2 1.86-2.64 3.96-5.86 5.52-8.29l10.39 14.51c.67.81 1.14 1.21 1.57 1.36-.05.24.12.51.41.4 1.53-.58 3.05-1.19 4.54-1.87 1.52-.69 3.06-1.45 4.36-2.5a.28.28 0 0 0 .12-.23c1.66-1.1.81-1.74-1.41-4.91-1.13-1.58-1.71-2.36-3.7-5.01l-.03-.02Zm2.41 6.54c.56 1.15 1.19 2.52 1.11 3.81-.06.04-.12.07-.17.1-.03-.88-.55-2.66-.94-3.91Zm-16.51-32.73c1.86-2.65 3.65-5.35 5.57-7.95.4-.55.81-1.13 1.26-1.66.19-.18.38-.33.56-.45.18.03.36.08.55.13l-8.05 10.11.12-.18h-.01ZM192.7 95.48c.79-1.37 1.66-2.69 2.54-4 1.19-1.79 2.4-3.56 3.61-5.33-.04.09-.09.17-.13.26-.1.22.03.41.2.49-2.47 3.42-4.89 6.73-6.4 9.28.21.24.4.48.63.75-.24.07-.4.36-.17.56.4.33.72.77 1.05 1.17.09.11.18.21.27.32-.84-.61-1.66-1.24-2.47-1.88.24-.57.58-1.11.87-1.61v-.01Zm7.46-10.32c.47-.81.98-1.59 1.49-2.37.31-.48.64-.95.96-1.43.26-.29.52-.56.75-.79-.99 1.48-2.09 3.03-3.2 4.59Zm10.03-16.22s-.03-.05-.05-.07c.22-.29.43-.59.64-.89-.2.32-.4.65-.58.96h-.01ZM371.54 87.96c-.01-.08-.01-.16-.03-.23-.06-.38-.58-.29-.66.03-.3-.05-.6-.08-.81-.11-1.14-.15-2.29-.19-3.44-.2 1.04-.09 2.09-.18 3.14-.23.45-.02.45-.72 0-.7-6.57.35-13.14 1.23-19.65 2.11-1.53.21-3.05.42-4.57.68-.01 0-.02.01-.04.01-.04-3.33-.13-6.66-.24-9.99-.19-5.7-.4-11.41-.88-17.1-.13-1.51-.23-3.07-.49-4.58 0-.25 0-.48-.02-.68-.06-1.19-.04-2.61-.68-2.78-.16-.07-.72-.16-1.5-.24.22-.17.16-.62-.2-.63-1.19-.04-2.39.09-3.57.23-1.2.14-2.41.32-3.59.6-.16-.1-.41-.06-.5.12-.06.02-.13.03-.19.05-.35.1-.29.55-.03.66-.26.6-.19 2.27-.21 3-.02.66-.66 33.73-.9 40.3-.03.65.06 1.12.04 1.45-.16 3.05.87 4.96 6.34 3.93 1.09-.08 2.75-.77 5.36-1.43 4.13-1.04 5.78-1.52 6.2-1.65 6.43-1.69 6.78-1.97 11.72-2.43.55-.05 4.8-.38 6.03-.3.64.04 1.19.07 1.65.1.09 0 .16-.03.24-.05.1.27.56.33.66-.02.39-1.32.61-2.71.78-4.08.2-1.61.29-3.24.15-4.86.24.03.52-.23.38-.53-.09-.2-.27-.33-.49-.43v-.02Zm-.63.56c.07.57.11 1.14.11 1.71-.21-.99-.53-1.71-.95-1.87.22.03.44.06.65.11.06.01.12.04.19.05Zm-25.41 1.73c1.54-.36 3.1-.64 4.66-.89-1.61.37-3.18.77-4.66 1.2v-.31Zm-.86-7.37c-.07-1.37-.16-2.75-.25-4.12-.21-3.13-.45-6.27-.79-9.4.02-2.25.08-4.31.13-6.11.16 2.08.29 4.16.4 6.24.23 4.46.38 8.93.5 13.39h.01Zm-.94-4c.16 2.41.29 4.83.39 7.24.06 1.6.14 3.22.09 4.83-.15.05-.32.09-.47.14V78.88h-.01ZM483.72 92.83c-3.05-2.28-6.22-4.4-9.38-6.51 8.86-6.49 13.49-12.95 13.73-19.23.04-.76 0-1.5-.13-2.2-.67-3.82-3.5-6.68-8.39-8.48.13.04.27.08.4.13 3.92 1.39 7.74 4.23 8.5 8.56.34 1.95-.05 3.96-.98 5.69-.21.4.39.75.6.35 1.86-3.46 1.46-7.55-.97-10.63-3.53-4.47-9.76-5.88-15.16-6.16-2.32-.12-4.64-.04-6.95.19-6 .32-12.71 1.68-17.63 3.21-.37.11-.67.23-.92.35-.2-.17-.62.02-.57.37v.03c-.64.68-.18 1.64.48 3.21.38.91.67 1.89 1.15 2.58.32.76.68 1.51 1.13 2.19.14.21.38.19.53.07.19-.02.38-.05.57-.08v1.57c-.06.06-.1.13-.11.23-.27 4.18-.34 8.38-.48 12.57l-.3 9.03c-.24 3.91-.44 6.77-.46 7.26-.05.88-.11 1.95.07 2.81-.01.22-.02.43-.04.65 0 .11-.02.23-.03.35 0 .05-.03.27-.01.16-.05.4.5.59.64.28.05.04.12.08.2.08 1.75.13 3.5.28 5.25.3 1.69.02 3.38-.12 5.06-.32.08.23.36.39.55.15.06-.08.11-.17.16-.26.18-.09.24-.32.18-.48.05-.2.1-.4.13-.6.16-.86.25-1.74.33-2.62.11-1.17.17-2.34.23-3.51.15-.01.32-.03.52-.04.36-.03 1.73-.15 2.06-.15.39 0 .7-.02.95-.04 1.76 1.11 3.45 2.35 5.14 3.55 2.83 2.01 5.64 4.04 8.47 6.04 1.42 1 2.85 2 4.29 2.97.1.06.19.07.27.04.08 0 .17-.02.25-.1 1.61-1.56 3.15-3.18 4.6-4.88.75-.88 1.49-1.78 2.15-2.73.01.01.03.02.04.03.34.3.83-.2.49-.49-2.16-1.9-4.34-3.76-6.64-5.48l.03-.01Zm-6.38-3.65a55.72 55.72 0 0 0-4-2.13c.14-.1.26-.19.4-.29 1.2.81 2.4 1.61 3.6 2.42Zm-20.1 11.78c.67-.37 1.23-.91 1.67-1.6-.11.5-.24 1-.38 1.49-.43.04-.86.08-1.29.11Zm2.38-37.24c1.34-.31 2.56-.52 3.71-.69-1.03.19-2.04.41-3.04.65-.14-.07-.34-.02-.45.11-.07.02-.15.04-.22.05v-.13.01Zm.04.84c.07-.02.14-.03.2-.05.34 1.66.41 3.41.5 5.09.17 2.9.24 5.81.28 8.71l.03 3.17c-.17.07-.34.14-.51.2-.06-4.96-.21-10.58-.51-17.12h.01Zm16.04 5.62c-1.16 2.25-3.06 4.1-5.02 5.66-2.8 2.23-5.99 3.97-9.3 5.35-.01-3.56-.09-7.12-.27-10.67-.1-2.04-.16-4.16-.57-6.18 3.3-.78 6.72-1.36 10.1-1.1 1.85.14 4.23.59 5.32 2.29.92 1.43.46 3.24-.26 4.65Zm.85-.18c.6-1.37.9-2.92.28-4.32-.67-1.52-2.2-2.32-3.76-2.74.46.1.89.21 1.29.37 1.74.67 2.69 1.88 2.93 3.21.2 1.13-.05 2.25-.74 3.47V70Zm-27.47-4.14c-.12-.19-.23-.38-.34-.57.74.42.85.36.99.41v.08c-.22.03-.43.06-.65.08Zm11.21 30.46c-.08 1.08-.16 2.17-.33 3.24-.05.35-.11.69-.2 1.03 0 .04-.02.07-.03.11-.15.02-.3.04-.45.05.45-1.64.76-3.36.79-5.07.03-.29.08-.57.1-.89-.03-.31-.03-.47.24-.57-.04.69-.07 1.39-.12 2.08v.02Zm5.6-2.47c.48.11.92.52 2.49 1.72-.46-.32-.92-.65-1.38-.97-.37-.25-.73-.5-1.1-.75h-.01Zm21.23 7.24a70.76 70.76 0 0 1-4.37 4.63c-.14-.09-.27-.19-.4-.28.19-.09.37-.24.55-.47.87-1.14 5.43-5.51 5.49-7.45.31.26.62.53.92.79-.67.97-1.42 1.88-2.19 2.77v.01Z",fill:"currentColor",transform:"translate(-144.023 -51.76)"})]})},Re=function(pr){var Ft=pr.style,or=pr.size,rr=or===void 0?"small":or,Or=pr.withText;return(0,x.jsxs)("div",{className:"ExcalidrawLogo is-".concat(rr),style:Ft,children:[(0,x.jsx)(Ne,{}),Or&&(0,x.jsx)(Pe,{})]})},Ze=["onSelect","children","icon","shortcut","className"],Ie=["children","href","icon","shortcut","className"];function Ee(pr,Ft){var or=Object.keys(pr);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(pr);Ft&&(rr=rr.filter(function(Or){return Object.getOwnPropertyDescriptor(pr,Or).enumerable})),or.push.apply(or,rr)}return or}function xe(pr){for(var Ft=1;Ft<arguments.length;Ft++){var or=arguments[Ft]!=null?arguments[Ft]:{};Ft%2?Ee(Object(or),!0).forEach(function(rr){(0,pe.Z)(pr,rr,or[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(pr,Object.getOwnPropertyDescriptors(or)):Ee(Object(or)).forEach(function(rr){Object.defineProperty(pr,rr,Object.getOwnPropertyDescriptor(or,rr))})}return pr}var Z=function(pr){var Ft=pr.icon,or=pr.shortcut,rr=pr.children,Or=(0,q.Fy)();return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"welcome-screen-menu-item__icon",children:Ft}),(0,x.jsx)("div",{className:"welcome-screen-menu-item__text",children:rr}),or&&!Or.editor.isMobile&&(0,x.jsx)("div",{className:"welcome-screen-menu-item__shortcut",children:or})]})};Z.displayName="WelcomeScreenMenuItemContent";var u=function(pr){var Ft=pr.onSelect,or=pr.children,rr=pr.icon,Or=pr.shortcut,Kr=pr.className,Xr=Kr===void 0?"":Kr,cn=(0,ne.Z)(pr,Ze);return(0,x.jsx)("button",xe(xe({},cn),{},{type:"button",className:"welcome-screen-menu-item ".concat(Xr),onClick:Ft,children:(0,x.jsx)(Z,{icon:rr,shortcut:Or,children:or})}))};u.displayName="WelcomeScreenMenuItem";var g=function(pr){var Ft=pr.children,or=pr.href,rr=pr.icon,Or=pr.shortcut,Kr=pr.className,Xr=Kr===void 0?"":Kr,cn=(0,ne.Z)(pr,Ie);return(0,x.jsx)("a",xe(xe({},cn),{},{className:"welcome-screen-menu-item ".concat(Xr),href:or,target:"_blank",rel:"noreferrer",children:(0,x.jsx)(Z,{icon:rr,shortcut:Or,children:Ft})}))};g.displayName="WelcomeScreenMenuItemLink";var z=function(pr){var Ft=pr.children,or=(0,D.R6)().WelcomeScreenCenterTunnel;return(0,x.jsx)(or.In,{children:(0,x.jsx)("div",{className:"welcome-screen-center",children:Ft||(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(Y,{}),(0,x.jsx)(te,{children:(0,H.t)("welcomeScreen.defaults.center_heading")}),(0,x.jsxs)(ae,{children:[(0,x.jsx)(ye,{}),(0,x.jsx)(ce,{})]})]})})})};z.displayName="Center";var Y=function(pr){var Ft=pr.children;return(0,x.jsx)("div",{className:"welcome-screen-center__logo virgil welcome-screen-decor",children:Ft||(0,x.jsx)(Re,{withText:!0})})};Y.displayName="Logo";var te=function(pr){var Ft=pr.children;return(0,x.jsx)("div",{className:"welcome-screen-center__heading welcome-screen-decor virgil",children:Ft})};te.displayName="Heading";var ae=function(pr){var Ft=pr.children;return(0,x.jsx)("div",{className:"welcome-screen-menu",children:Ft})};ae.displayName="Menu";var ce=function(){var pr=(0,q.eh)();return(0,x.jsx)(u,{onSelect:function(){return pr.executeAction(oe.jY)},shortcut:"?",icon:Me.by,children:(0,H.t)("helpDialog.title")})};ce.displayName="MenuItemHelp";var ye=function(){var pr=(0,X.I)(),Ft=(0,q.eh)();return pr.viewModeEnabled?null:(0,x.jsx)(u,{onSelect:function(){return Ft.executeAction(oe._d)},shortcut:(0,be.C)("loadScene"),icon:Me.Tl,children:(0,H.t)("buttons.load")})};ye.displayName="MenuItemLoadScene";var je=function(pr){var Ft=pr.onSelect,or=(0,H.QT)().t;return(0,x.jsx)(u,{shortcut:null,onSelect:Ft,icon:Me.jn,children:or("labels.liveCollaboration")})};je.displayName="MenuItemLiveCollaborationTrigger",z.Logo=Y,z.Heading=te,z.Menu=ae,z.MenuItem=u,z.MenuItemLink=g,z.MenuItemHelp=ce,z.MenuItemLoadScene=ye,z.MenuItemLiveCollaborationTrigger=je;var Be=function(pr){var Ft=pr.children,or=(0,D.R6)().WelcomeScreenMenuHintTunnel;return(0,x.jsx)(or.In,{children:(0,x.jsxs)("div",{className:"virgil welcome-screen-decor welcome-screen-decor-hint welcome-screen-decor-hint--menu",children:[Me.oQ,(0,x.jsx)("div",{className:"welcome-screen-decor-hint__label",children:Ft||(0,H.t)("welcomeScreen.defaults.menuHint")})]})})};Be.displayName="MenuHint";var Qe=function(pr){var Ft=pr.children,or=(0,D.R6)().WelcomeScreenToolbarHintTunnel;return(0,x.jsx)(or.In,{children:(0,x.jsxs)("div",{className:"virgil welcome-screen-decor welcome-screen-decor-hint welcome-screen-decor-hint--toolbar",children:[(0,x.jsx)("div",{className:"welcome-screen-decor-hint__label",children:Ft||(0,H.t)("welcomeScreen.defaults.toolbarHint")}),Me.DJ]})})};Qe.displayName="ToolbarHint";var rt=function(pr){var Ft=pr.children,or=(0,D.R6)().WelcomeScreenHelpHintTunnel;return(0,x.jsx)(or.In,{children:(0,x.jsxs)("div",{className:"virgil welcome-screen-decor welcome-screen-decor-hint welcome-screen-decor-hint--help",children:[(0,x.jsx)("div",{children:Ft||(0,H.t)("welcomeScreen.defaults.helpHint")}),Me._U]})})};rt.displayName="HelpHint";var Ye=n(1569),tt={};tt.styleTagTransform=v(),tt.setAttributes=B(),tt.insert=K().bind(null,"head"),tt.domAPI=J(),tt.insertStyleElement=R(),Se()(Ye.Z,tt),Ye.Z&&Ye.Z.locals&&Ye.Z.locals;var ht=function(pr){return(0,x.jsx)(x.Fragment,{children:pr.children||(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(z,{}),(0,x.jsx)(Be,{}),(0,x.jsx)(Qe,{}),(0,x.jsx)(rt,{})]})})};ht.displayName="WelcomeScreen",ht.Center=z,ht.Hints={MenuHint:Be,ToolbarHint:Qe,HelpHint:rt};var gt=ht,Ue=n(8806),Ce=n(3397),Le={};Le.styleTagTransform=v(),Le.setAttributes=B(),Le.insert=K().bind(null,"head"),Le.domAPI=J(),Le.insertStyleElement=R(),Se()(Ce.Z,Le),Ce.Z&&Ce.Z.locals&&Ce.Z.locals;var et=["isCollaborating","onSelect"];function ft(pr,Ft){var or=Object.keys(pr);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(pr);Ft&&(rr=rr.filter(function(Or){return Object.getOwnPropertyDescriptor(pr,Or).enumerable})),or.push.apply(or,rr)}return or}function xt(pr){for(var Ft=1;Ft<arguments.length;Ft++){var or=arguments[Ft]!=null?arguments[Ft]:{};Ft%2?ft(Object(or),!0).forEach(function(rr){(0,pe.Z)(pr,rr,or[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(pr,Object.getOwnPropertyDescriptors(or)):ft(Object(or)).forEach(function(rr){Object.defineProperty(pr,rr,Object.getOwnPropertyDescriptor(or,rr))})}return pr}var wt=function(pr){var Ft=pr.isCollaborating,or=pr.onSelect,rr=(0,ne.Z)(pr,et),Or=(0,X.I)();return(0,x.jsxs)(Ue.z,xt(xt({},rr),{},{className:(0,V.Z)("collab-button",{active:Ft}),type:"button",onSelect:or,style:{position:"relative"},title:(0,H.t)("labels.liveCollaboration"),children:[Me.jn,Or.collaborators.size>0&&(0,x.jsx)("div",{className:"CollabButton-collaborators",children:Or.collaborators.size})]}))},Rt=wt;wt.displayName="LiveCollaborationTrigger";var It=n(7651),At=n(7994),Xt=n(507),tr=n(4183),Gt=n(583),Jt=n(9326),gr=n(5902),Pt=n(1925),St=n(8020),Zt=n(6199),Tt=n(4949),Lt=n(6013),Wt=["initialData","UIOptions"],qt=["initialData","UIOptions"];function sr(pr,Ft){var or=Object.keys(pr);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(pr);Ft&&(rr=rr.filter(function(Or){return Object.getOwnPropertyDescriptor(pr,Or).enumerable})),or.push.apply(or,rr)}return or}function cr(pr){for(var Ft=1;Ft<arguments.length;Ft++){var or=arguments[Ft]!=null?arguments[Ft]:{};Ft%2?sr(Object(or),!0).forEach(function(rr){b()(pr,rr,or[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(pr,Object.getOwnPropertyDescriptors(or)):sr(Object(or)).forEach(function(rr){Object.defineProperty(pr,rr,Object.getOwnPropertyDescriptor(or,rr))})}return pr}var Sr=function(pr){var Ft,or,rr,Or,Kr,Xr,cn=pr.onChange,en=pr.initialData,ur=pr.excalidrawAPI,Dt=pr.isCollaborating,Nt=Dt!==void 0&&Dt,Ut=pr.onPointerUpdate,hr=pr.renderTopRightUI,jr=pr.langCode,Cr=jr===void 0?H.Fp.code:jr,Zr=pr.viewModeEnabled,Dr=pr.zenModeEnabled,Fr=pr.gridModeEnabled,ln=pr.libraryReturnUrl,Gr=pr.theme,Rr=pr.name,Wr=pr.renderCustomStats,Ur=pr.onPaste,rn=pr.detectScroll,an=rn===void 0||rn,Qr=pr.handleKeyboardGlobally,In=Qr!==void 0&&Qr,Xn=pr.onLibraryChange,go=pr.autoFocus,bo=go!==void 0&&go,_o=pr.generateIdForFile,wo=pr.onLinkOpen,ao=pr.onPointerDown,co=pr.onScrollChange,it=pr.children,Oe=pr.validateEmbeddable,ze=pr.renderEmbeddable,$e=(Ft=pr.UIOptions)===null||Ft===void 0?void 0:Ft.canvasActions,pt=cr(cr({},pr.UIOptions),{},{canvasActions:cr(cr({},m.cW.canvasActions),$e),tools:{image:(or=(rr=pr.UIOptions)===null||rr===void 0||(Or=rr.tools)===null||Or===void 0?void 0:Or.image)===null||or===void 0||or}});return $e!=null&&$e.export&&(pt.canvasActions.export.saveFileToDisk=(Kr=(Xr=$e.export)===null||Xr===void 0?void 0:Xr.saveFileToDisk)!==null&&Kr!==void 0?Kr:m.cW.canvasActions.export.saveFileToDisk),pt.canvasActions.toggleTheme===null&&Gr===void 0&&(pt.canvasActions.toggleTheme=!0),(0,w.useEffect)(function(){var Kt=function(fr){typeof fr.scale=="number"&&fr.scale!==1&&fr.preventDefault()};return document.addEventListener("touchmove",Kt,{passive:!1}),function(){document.removeEventListener("touchmove",Kt)}},[]),(0,x.jsx)(C.zt,{unstable_createStore:function(){return U.e_},scope:U.yE,children:(0,x.jsx)(S,{langCode:Cr,theme:Gr,children:(0,x.jsx)(q.ZP,{onChange:cn,initialData:en,excalidrawAPI:ur,isCollaborating:Nt,onPointerUpdate:Ut,renderTopRightUI:hr,langCode:Cr,viewModeEnabled:Zr,zenModeEnabled:Dr,gridModeEnabled:Fr,libraryReturnUrl:ln,theme:Gr,name:Rr,renderCustomStats:Wr,UIOptions:pt,onPaste:Ur,detectScroll:an,handleKeyboardGlobally:In,onLibraryChange:Xn,autoFocus:bo,generateIdForFile:_o,onLinkOpen:wo,onPointerDown:ao,onScrollChange:co,validateEmbeddable:Oe,renderEmbeddable:ze,children:it})})})},Mr=function(pr,Ft){if(pr.children!==Ft.children)return!1;pr.initialData;var or=pr.UIOptions,rr=or===void 0?{}:or,Or=A()(pr,Wt),Kr=(Ft.initialData,Ft.UIOptions),Xr=Kr===void 0?{}:Kr,cn=A()(Ft,qt),en=Object.keys(rr),ur=Object.keys(Xr);return en.length===ur.length&&en.every(function(Dt){return Dt==="canvasActions"?Object.keys(rr.canvasActions).every(function(Nt){var Ut,hr,jr,Cr;return Nt==="export"&&rr!=null&&(Ut=rr.canvasActions)!==null&&Ut!==void 0&&Ut.export&&Xr!=null&&(hr=Xr.canvasActions)!==null&&hr!==void 0&&hr.export?rr.canvasActions.export.saveFileToDisk===Xr.canvasActions.export.saveFileToDisk:(rr==null||(jr=rr.canvasActions)===null||jr===void 0?void 0:jr[Nt])===(Xr==null||(Cr=Xr.canvasActions)===null||Cr===void 0?void 0:Cr[Nt])}):rr[Dt]===Xr[Dt]})&&(0,ve.w8)(Or,cn)},zr=N().memo(Sr,Mr);zr.displayName="Excalidraw"},507:function(We,ue,n){n.d(ue,{y8:function(){return Se},Fl:function(){return O},NL:function(){return B},i1:function(){return E},$D:function(){return R},N7:function(){return J.N7},cT:function(){return ge.cT},lV:function(){return ge.lV},ZY:function(){return ge.ZY},zh:function(){return Q.zh},I_:function(){return j.I_},NI:function(){return j.NI}});var r=n(8950),A=n(7169),k=n(2975),b=n.n(k),w=n(3668),N=n(6853),M=n(7994),f=n(9937),d=n(250),j=n(4419),L=n(4694);function H(v){return[Math.min(v[0][0],v[1][0]),Math.min(v[0][1],v[1][1]),Math.max(v[0][0],v[1][0]),Math.max(v[0][1],v[1][1])]}function x(v,i){return v[0]*i[1]-i[0]*v[1]}function S(v,i){return[v[0]-i[0],v[1]-i[1]]}function q(v,i){var a=x(S(v[1],v[0]),S(i,v[0]));return Math.abs(a)<1e-6}function ve(v,i){return x(S(v[1],v[0]),S(i,v[0]))<0}function ke(v,i){return q(v,i[0])||q(v,i[1])||(ve(v,i[0])?!ve(v,i[1]):ve(v,i[1]))}function Se(v,i){return function(a,y){return a[0]<=y[2]&&a[2]>=y[0]&&a[1]<=y[3]&&a[3]>=y[1]}(H(v),H(i))&&ke(v,i)&&ke(i,v)}n(6013);var ge=n(5796),J=n(9660),Q=n(9326);function K(v,i){var a=Object.keys(v);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(v);i&&(y=y.filter(function(h){return Object.getOwnPropertyDescriptor(v,h).enumerable})),a.push.apply(a,y)}return a}function T(v){for(var i=1;i<arguments.length;i++){var a=arguments[i]!=null?arguments[i]:{};i%2?K(Object(a),!0).forEach(function(y){(0,A.Z)(v,y,a[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(a)):K(Object(a)).forEach(function(y){Object.defineProperty(v,y,Object.getOwnPropertyDescriptor(a,y))})}return v}var B=function(v){var i=v.elements,a=v.appState,y=v.files,h=v.maxWidthOrHeight,m=v.getDimensions,C=v.exportPadding,U=v.exportingFrame,V=(0,M.nu)({elements:i,appState:a},null,null),D=V.elements,P=V.appState,F=P.exportBackground,X=P.viewBackgroundColor;return(0,w.NL)(D,T(T({},P),{},{offsetTop:0,offsetLeft:0,width:0,height:0}),y||{},{exportBackground:F,exportPadding:C,viewBackgroundColor:X,exportingFrame:U},function(le,de){var fe,pe=document.createElement("canvas");if(h){var ne;typeof m=="function"&&console.warn("`getDimensions()` is ignored when `maxWidthOrHeight` is supplied.");var oe=Math.max(le,de),be=h<oe?h/oe:(ne=a==null?void 0:a.exportScale)!==null&&ne!==void 0?ne:1;return pe.width=le*be,pe.height=de*be,{canvas:pe,scale:be}}var Me=(m==null?void 0:m(le,de))||{width:le,height:de};return pe.width=Me.width,pe.height=Me.height,{canvas:pe,scale:(fe=Me.scale)!==null&&fe!==void 0?fe:1}})},O=function(){var v=(0,r.Z)(b().mark(function i(a){var y,h,m,C,U,V;return b().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return m=(h=a).mimeType,C=m===void 0?f.LO.png:m,U=h.quality,C===f.LO.png&&typeof U=="number"&&console.warn('"quality" will be ignored for "'.concat(f.LO.png,'" mimeType')),C==="image/jpg"&&(C=f.LO.jpg),C!==f.LO.jpg||(y=a.appState)!==null&&y!==void 0&&y.exportBackground||(console.warn('Defaulting "exportBackground" to "true" for "'.concat(f.LO.jpg,'" mimeType')),a=T(T({},a),{},{appState:T(T({},a.appState),{},{exportBackground:!0})})),D.next=6,B(a);case 6:return V=D.sent,U=U||(/image\/jpe?g/.test(C)?.92:.8),D.abrupt("return",new Promise(function(P,F){V.toBlob(function(){var X=(0,r.Z)(b().mark(function le(de){var fe;return b().wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:if(de){pe.next=2;break}return pe.abrupt("return",F(new Error("couldn't export to blob")));case 2:if(!de||C!==f.LO.png||(fe=a.appState)===null||fe===void 0||!fe.exportEmbedScene){pe.next=6;break}return pe.next=5,(0,d.encodePngMetadata)({blob:de,metadata:(0,j.I_)(a.elements,a.appState,a.files||{},"local")});case 5:de=pe.sent;case 6:P(de);case 7:case"end":return pe.stop()}},le)}));return function(le){return X.apply(this,arguments)}}(),C,U)}));case 9:case"end":return D.stop()}},i)}));return function(i){return v.apply(this,arguments)}}(),R=function(){var v=(0,r.Z)(b().mark(function i(a){var y,h,m,C,U,V,D,P,F,X,le,de;return b().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:return y=a.elements,h=a.appState,m=h===void 0?(0,N.im)():h,C=a.files,U=C===void 0?{}:C,V=a.exportPadding,D=a.renderEmbeddables,P=a.exportingFrame,F=(0,M.nu)({elements:y,appState:m},null,null),X=F.elements,le=F.appState,de=T(T({},le),{},{exportPadding:V}),fe.abrupt("return",(0,w.$D)(X,de,U,{exportingFrame:P,renderEmbeddables:D}));case 4:case"end":return fe.stop()}},i)}));return function(i){return v.apply(this,arguments)}}(),E=function(){var v=(0,r.Z)(b().mark(function i(a){var y;return b().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(a.type!=="svg"){h.next=8;break}return h.next=3,R(a);case 3:return y=h.sent,h.next=6,(0,L.dd)(y.outerHTML);case 6:case 11:case 16:h.next=19;break;case 8:if(a.type!=="png"){h.next=13;break}return h.next=11,(0,L.uR)(O(a));case 13:if(a.type!=="json"){h.next=18;break}return h.next=16,(0,L.vQ)(a.elements,a.files);case 18:throw new Error("Invalid export type");case 19:case"end":return h.stop()}},i)}));return function(i){return v.apply(this,arguments)}}()},6013:function(We,ue,n){n.d(ue,{Ne:function(){return d},Xs:function(){return L},sQ:function(){return j}});var r=n(2577),A=n(4183),k=n(2361),b=n(4949);function w(H,x){var S=typeof Symbol<"u"&&H[Symbol.iterator]||H["@@iterator"];if(!S){if(Array.isArray(H)||(S=function(J,Q){if(J){if(typeof J=="string")return N(J,Q);var K=Object.prototype.toString.call(J).slice(8,-1);if(K==="Object"&&J.constructor&&(K=J.constructor.name),K==="Map"||K==="Set")return Array.from(J);if(K==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(K))return N(J,Q)}}(H))||x){S&&(H=S);var q=0,ve=function(){};return{s:ve,n:function(){return q>=H.length?{done:!0}:{done:!1,value:H[q++]}},e:function(J){throw J},f:ve}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ke,Se=!0,ge=!1;return{s:function(){S=S.call(H)},n:function(){var J=S.next();return Se=J.done,J},e:function(J){ge=!0,ke=J},f:function(){try{Se||S.return==null||S.return()}finally{if(ge)throw ke}}}}function N(H,x){(x==null||x>H.length)&&(x=H.length);for(var S=0,q=new Array(x);S<x;S++)q[S]=H[S];return q}var M=function(H){var x=H.reduce(function(S,q){var ve=(0,r.Z)(q,2),ke=ve[0],Se=ve[1];return S.minY=Math.min(S.minY,Se),S.minX=Math.min(S.minX,ke),S.maxX=Math.max(S.maxX,ke),S.maxY=Math.max(S.maxY,Se),S},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0,cx:0,cy:0});return x.cx=(x.maxX+x.minX)/2,x.cy=(x.maxY+x.minY)/2,x},f=function(H){var x=function(K){return(0,A.bt)(K)||(0,A.F9)(K)?K.points:function(T){return T.type==="diamond"?[[T.width/2,0],[T.width,T.height/2],[T.width/2,T.height],[0,T.height/2]]:[[0,0],[0+T.width,0],[0+T.width,T.height],[0,T.height]]}(K)}(H),S=M(x),q=[S.cx,S.cy],ve=x.map(function(K){return(0,k.xj)([K[0],K[1]],q,H.angle)}),ke=M(ve),Se=ke.minX,ge=ke.minY,J=ke.maxX,Q=ke.maxY;return[Se+H.x,ge+H.y,J+H.x,Q+H.y]},d=function(H,x){var S=arguments.length>2&&arguments[2]!==void 0&&arguments[2],q=f(H),ve=x[0]<=q[0]&&x[2]>=q[2]&&x[1]<=q[1]&&x[3]>=q[3];return S?!!ve||q[0]<=x[0]&&q[2]>=x[2]&&q[1]<=x[1]&&q[3]>=x[3]:ve},j=function(H,x){var S=f(H);return((0,k.Xt)(S[0],x[0],x[2])||(0,k.Xt)(x[0],S[0],S[2]))&&((0,k.Xt)(S[1],x[1],x[3])||(0,k.Xt)(x[1],S[1],S[3]))},L=function(H){var x=H.elements,S=H.bounds,q=H.type,ve=H.errorMargin,ke=ve===void 0?0:ve;(0,A.r2)(S)&&(S=(0,b.Pi)(S));var Se,ge=[S[0]-ke,S[1]-ke,S[2]+ke,S[3]+ke],J=new Set,Q=w(x);try{for(Q.s();!(Se=Q.n()).done;){var K=Se.value;if(!J.has(K.id)&&(q==="overlap"?j(K,ge):q==="inside"?d(K,ge):d(K,ge,!0))){if(J.add(K.id),K.boundElements){var T,B=w(K.boundElements);try{for(B.s();!(T=B.n()).done;){var O=T.value;J.add(O.id)}}catch(E){B.e(E)}finally{B.f()}}var R;(0,A.iB)(K)&&K.containerId&&J.add(K.containerId),(0,A.Yv)(K)&&(K.startBinding&&J.add(K.startBinding.elementId),K.endBinding&&J.add((R=K.endBinding)===null||R===void 0?void 0:R.elementId))}}}catch(E){Q.e(E)}finally{Q.f()}return x.filter(function(E){return J.has(E.id)})}},5999:function(We,ue,n){n.d(ue,{k:function(){return A},z:function(){return k}});var r=n(1930),A=function(b){var w=b.map(function(M){return M[0]}),N=b.map(function(M){return M[1]});return{width:Math.max.apply(Math,(0,r.Z)(w))-Math.min.apply(Math,(0,r.Z)(w)),height:Math.max.apply(Math,(0,r.Z)(N))-Math.min.apply(Math,(0,r.Z)(N))}},k=function(b,w,N,M){var f=N.map(function(ve){return ve[b]}),d=Math.max.apply(Math,(0,r.Z)(f)),j=Math.min.apply(Math,(0,r.Z)(f)),L=d-j,H=L===0?1:w/L,x=1/0,S=N.map(function(ve){var ke=ve[b]*H,Se=(0,r.Z)(ve);return Se[b]=ke,ke<x&&(x=ke),Se});if(!M||S.length===2)return S;var q=j-x;return S.map(function(ve){return ve.map(function(ke,Se){return Se===b?ke+q:ke})})}},4643:function(We,ue,n){n.d(ue,{LU:function(){return N},kb:function(){return M}});var r=n(8152),A=n(5605),k=n(9827),b=new r.k(Date.now()),w=0,N=function(){return Math.floor(b.next()*Math.pow(2,31))},M=function(){return(0,k.h2)()?"id".concat(w++):(0,A.x0)()}},9660:function(We,ue,n){n.d(ue,{Dn:function(){return le},Xx:function(){return ne},Lc:function(){return Ze},N7:function(){return Ie},lw:function(){return Ge},Rg:function(){return Pe},uI:function(){return Me}});var r=n(7169),A=n(2577),k=n(4183),b=n(4949),w=n(9827),N=n(2361),M=n(9845),f=n(6853),d=n(9937);function j(Z,u,g,z=Y=>Y){return Z*z(.5-u*(.5-g))}function L(Z,u){return[Z[0]+u[0],Z[1]+u[1]]}function H(Z,u){return[Z[0]-u[0],Z[1]-u[1]]}function x(Z,u){return[Z[0]*u,Z[1]*u]}function S(Z){return[Z[1],-Z[0]]}function q(Z,u){return Z[0]*u[0]+Z[1]*u[1]}function ve(Z,u){return Z[0]===u[0]&&Z[1]===u[1]}function ke(Z,u){return function(g){return g[0]*g[0]+g[1]*g[1]}(H(Z,u))}function Se(Z){return function(u,g){return[u[0]/g,u[1]/g]}(Z,function(u){return Math.hypot(u[0],u[1])}(Z))}function ge(Z,u){return Math.hypot(Z[1]-u[1],Z[0]-u[0])}function J(Z,u,g){let z=Math.sin(g),Y=Math.cos(g),te=Z[0]-u[0],ae=Z[1]-u[1],ce=te*z+ae*Y;return[te*Y-ae*z+u[0],ce+u[1]]}function Q(Z,u,g){return L(Z,x(H(u,Z),g))}function K(Z,u,g){return L(Z,x(u,g))}var{min:T,PI:B}=Math,O=B+1e-4;function R(Z,u={}){return function(g,z={}){let{size:Y=16,smoothing:te=.5,thinning:ae=.5,simulatePressure:ce=!0,easing:ye=Tt=>Tt,start:je={},end:Be={},last:Qe=!1}=z,{cap:rt=!0,easing:Ye=Tt=>Tt*(2-Tt)}=je,{cap:tt=!0,easing:ht=Tt=>--Tt*Tt*Tt+1}=Be;if(g.length===0||Y<=0)return[];let gt,Ue=g[g.length-1].runningLength,Ce=je.taper===!1?0:je.taper===!0?Math.max(Y,Ue):je.taper,Le=Be.taper===!1?0:Be.taper===!0?Math.max(Y,Ue):Be.taper,et=Math.pow(Y*te,2),ft=[],xt=[],wt=g.slice(0,10).reduce((Tt,Lt)=>{let Wt=Lt.pressure;if(ce){let qt=T(1,Lt.distance/Y),sr=T(1,1-qt);Wt=T(1,Tt+.275*qt*(sr-Tt))}return(Tt+Wt)/2},g[0].pressure),Rt=j(Y,ae,g[g.length-1].pressure,ye),It=g[0].vector,At=g[0].point,Xt=At,tr=At,Gt=Xt,Jt=!1;for(let Tt=0;Tt<g.length;Tt++){let{pressure:Lt}=g[Tt],{point:Wt,vector:qt,distance:sr,runningLength:cr}=g[Tt];if(Tt<g.length-1&&Ue-cr<3)continue;if(ae){if(ce){let rr=T(1,sr/Y),Or=T(1,1-rr);Lt=T(1,wt+.275*rr*(Or-wt))}Rt=j(Y,ae,Lt,ye)}else Rt=Y/2;gt===void 0&&(gt=Rt);let Sr=cr<Ce?Ye(cr/Ce):1,Mr=Ue-cr<Le?ht((Ue-cr)/Le):1;Rt=Math.max(.01,Rt*Math.min(Sr,Mr));let zr=(Tt<g.length-1?g[Tt+1]:g[Tt]).vector,pr=Tt<g.length-1?q(qt,zr):1,Ft=pr!==null&&pr<0;if(q(qt,It)<0&&!Jt||Ft){let rr=x(S(It),Rt);for(let Or=.07692307692307693,Kr=0;Kr<=1;Kr+=Or)tr=J(H(Wt,rr),Wt,O*Kr),ft.push(tr),Gt=J(L(Wt,rr),Wt,O*-Kr),xt.push(Gt);At=tr,Xt=Gt,Ft&&(Jt=!0);continue}if(Jt=!1,Tt===g.length-1){let rr=x(S(qt),Rt);ft.push(H(Wt,rr)),xt.push(L(Wt,rr));continue}let or=x(S(Q(zr,qt,pr)),Rt);tr=H(Wt,or),(Tt<=1||ke(At,tr)>et)&&(ft.push(tr),At=tr),Gt=L(Wt,or),(Tt<=1||ke(Xt,Gt)>et)&&(xt.push(Gt),Xt=Gt),wt=Lt,It=qt}let gr=g[0].point.slice(0,2),Pt=g.length>1?g[g.length-1].point.slice(0,2):L(g[0].point,[1,1]),St=[],Zt=[];if(g.length===1){if(!Ce&&!Le||Qe){let Tt=K(gr,Se(S(H(gr,Pt))),-(gt||Rt)),Lt=[];for(let Wt=.07692307692307693,qt=Wt;qt<=1;qt+=Wt)Lt.push(J(Tt,gr,2*O*qt));return Lt}}else{if(!(Ce||Le&&g.length===1))if(rt)for(let Lt=.07692307692307693,Wt=Lt;Wt<=1;Wt+=Lt){let qt=J(xt[0],gr,O*Wt);St.push(qt)}else{let Lt=H(ft[0],xt[0]),Wt=x(Lt,.5),qt=x(Lt,.51);St.push(H(gr,Wt),H(gr,qt),L(gr,qt),L(gr,Wt))}let Tt=S(function(Lt){return[-Lt[0],-Lt[1]]}(g[g.length-1].vector));if(Le||Ce&&g.length===1)Zt.push(Pt);else if(tt){let Lt=K(Pt,Tt,Rt);for(let Wt=.034482758620689655,qt=Wt;qt<1;qt+=Wt)Zt.push(J(Lt,Pt,3*O*qt))}else Zt.push(L(Pt,x(Tt,Rt)),L(Pt,x(Tt,.99*Rt)),H(Pt,x(Tt,.99*Rt)),H(Pt,x(Tt,Rt)))}return ft.concat(Zt,xt.reverse(),St)}(function(g,z={}){var Y;let{streamline:te=.5,size:ae=16,last:ce=!1}=z;if(g.length===0)return[];let ye=.15+.85*(1-te),je=Array.isArray(g[0])?g:g.map(({x:ht,y:gt,pressure:Ue=.5})=>[ht,gt,Ue]);if(je.length===2){let ht=je[1];je=je.slice(0,-1);for(let gt=1;gt<5;gt++)je.push(Q(je[0],ht,gt/4))}je.length===1&&(je=[...je,[...L(je[0],[1,1]),...je[0].slice(2)]]);let Be=[{point:[je[0][0],je[0][1]],pressure:je[0][2]>=0?je[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],Qe=!1,rt=0,Ye=Be[0],tt=je.length-1;for(let ht=1;ht<je.length;ht++){let gt=ce&&ht===tt?je[ht].slice(0,2):Q(Ye.point,je[ht],ye);if(ve(Ye.point,gt))continue;let Ue=ge(gt,Ye.point);if(rt+=Ue,ht<tt&&!Qe){if(rt<ae)continue;Qe=!0}Ye={point:gt,pressure:je[ht][2]>=0?je[ht][2]:.5,vector:Se(H(Ye.point,gt)),distance:Ue,runningLength:rt},Be.push(Ye)}return Be[0].vector=((Y=Be[1])==null?void 0:Y.vector)||[0,0],Be}(Z,u),u)}var E=n(4761),v=n(7422),i=n(761),a=n(4682),y=n(8020),h=n(2921);function m(Z,u){var g=Object.keys(Z);if(Object.getOwnPropertySymbols){var z=Object.getOwnPropertySymbols(Z);u&&(z=z.filter(function(Y){return Object.getOwnPropertyDescriptor(Z,Y).enumerable})),g.push.apply(g,z)}return g}function C(Z){for(var u=1;u<arguments.length;u++){var g=arguments[u]!=null?arguments[u]:{};u%2?m(Object(g),!0).forEach(function(z){(0,r.Z)(Z,z,g[z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Z,Object.getOwnPropertyDescriptors(g)):m(Object(g)).forEach(function(z){Object.defineProperty(Z,z,Object.getOwnPropertyDescriptor(g,z))})}return Z}var U="invert(100%) hue-rotate(180deg) saturate(1.25)",V=(0,f.im)(),D=function(Z,u){return(0,k.wi)(Z)&&!u.imageCache.has(Z.fileId)},P=function(Z,u,g){var z;return g.theme==="dark"&&(0,k.wi)(Z)&&!D(Z,u)&&((z=u.imageCache.get(Z.fileId))===null||z===void 0?void 0:z.mimeType)!==d.LO.svg},F=function(Z){return Z.type==="freedraw"?12*Z.strokeWidth:20},X=function(Z,u,g,z){var Y,te,ae=document.createElement("canvas"),ce=ae.getContext("2d"),ye=F(Z),je=function(et,ft){var xt=16777216,wt=32767,Rt=F(et),It=(0,b.qf)(et),At=(0,A.Z)(It,4),Xt=At[0],tr=At[1],Gt=At[2],Jt=At[3],gr=(0,k.bt)(et)||(0,k.F9)(et)?(0,w.TE)(Xt,Gt):et.width,Pt=(0,k.bt)(et)||(0,k.F9)(et)?(0,w.TE)(tr,Jt):et.height,St=gr*window.devicePixelRatio+2*Rt,Zt=Pt*window.devicePixelRatio+2*Rt,Tt=ft.value;return(St*Tt>wt||Zt*Tt>wt)&&(Tt=Math.min(wt/St,wt/Zt)),St*Zt*Tt*Tt>xt&&(Tt=Math.sqrt(xt/(St*Zt))),{width:St=Math.floor(St*Tt),height:Zt=Math.floor(Zt*Tt),scale:Tt}}(Z,u),Be=je.width,Qe=je.height,rt=je.scale;ae.width=Be,ae.height=Qe;var Ye=0,tt=0;if((0,k.bt)(Z)||(0,k.F9)(Z)){var ht=(0,b.qf)(Z),gt=(0,A.Z)(ht,2),Ue=gt[0],Ce=gt[1];Ye=Z.x>Ue?(0,w.TE)(Z.x,Ue)*window.devicePixelRatio*rt:0,tt=Z.y>Ce?(0,w.TE)(Z.y,Ce)*window.devicePixelRatio*rt:0,ce.translate(Ye,tt)}ce.save(),ce.translate(ye*rt,ye*rt),ce.scale(window.devicePixelRatio*rt,window.devicePixelRatio*rt);var Le=M.Z.canvas(ae);return P(Z,g,z)&&(ce.filter=U),pe(Z,Le,ce,g,z),ce.restore(),{element:Z,canvas:ae,theme:z.theme,scale:rt,zoomValue:u.value,canvasOffsetX:Ye,canvasOffsetY:tt,boundTextElementVersion:((Y=(0,E.WJ)(Z))===null||Y===void 0?void 0:Y.version)||null,containingFrameOpacity:((te=(0,a.$Z)(Z))===null||te===void 0?void 0:te.opacity)||100}},le=14,de=document.createElement("img");de.src="data:".concat(d.LO.svg,",").concat(encodeURIComponent('<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="image" class="svg-inline--fa fa-image fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="#888" d="M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"></path></svg>'));var fe=document.createElement("img");fe.src="data:".concat(d.LO.svg,",").concat(encodeURIComponent('<svg viewBox="0 0 668 668" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2"><path d="M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48ZM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56ZM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48Z" style="fill:#888;fill-rule:nonzero" transform="matrix(.81709 0 0 .81709 124.825 145.825)"/><path d="M256 8C119.034 8 8 119.033 8 256c0 136.967 111.034 248 248 248s248-111.034 248-248S392.967 8 256 8Zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676ZM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676Z" style="fill:#888;fill-rule:nonzero" transform="matrix(.30366 0 0 .30366 506.822 60.065)"/></svg>'));var pe=function(Z,u,g,z,Y){var te,ae;switch(g.globalAlpha=((te=(ae=(0,a.$Z)(Z))===null||ae===void 0?void 0:ae.opacity)!==null&&te!==void 0?te:100)*Z.opacity/1e4,Z.type){case"rectangle":case"embeddable":case"diamond":case"ellipse":g.lineJoin="round",g.lineCap="round",u.draw(h.R.get(Z));break;case"arrow":case"line":g.lineJoin="round",g.lineCap="round",h.R.get(Z).forEach(function(Ce){u.draw(Ce)});break;case"freedraw":g.save(),g.fillStyle=Z.strokeColor;var ce=function(Ce){return Re.get(Ce)}(Z),ye=h.R.get(Z);ye&&u.draw(ye),g.fillStyle=Z.strokeColor,g.fill(ce),g.restore();break;case"image":var je,Be=(0,k.wi)(Z)?(je=z.imageCache.get(Z.fileId))===null||je===void 0?void 0:je.image:void 0;Be==null||Be instanceof Promise?function(Ce,Le,et){Le.fillStyle="#E7E7E7",Le.fillRect(0,0,Ce.width,Ce.height);var ft=Math.min(Ce.width,Ce.height),xt=Math.min(ft,Math.min(.4*ft,100));Le.drawImage(Ce.status==="error"?fe:de,Ce.width/2-xt/2,Ce.height/2-xt/2,xt,xt)}(Z,g,Y.zoom.value):g.drawImage(Be,0,0,Z.width,Z.height);break;default:if(!(0,k.iB)(Z))throw new Error("Unimplemented type ".concat(Z.type));var Qe=(0,w.dZ)(Z.text),rt=Qe&&!g.canvas.isConnected;rt&&document.body.appendChild(g.canvas),g.canvas.setAttribute("dir",Qe?"rtl":"ltr"),g.save(),g.font=(0,w.mO)(Z),g.fillStyle=Z.strokeColor,g.textAlign=Z.textAlign;for(var Ye=Z.text.replace(/\r\n?/g,`
`).split(`
`),tt=Z.textAlign==="center"?Z.width/2:Z.textAlign==="right"?Z.width:0,ht=(0,E.Rg)(Z.fontSize,Z.lineHeight),gt=Z.height-Z.baseline,Ue=0;Ue<Ye.length;Ue++)g.fillText(Ye[Ue],tt,(Ue+1)*ht-gt);g.restore(),rt&&g.canvas.remove()}g.globalAlpha=1},ne=new WeakMap,oe=function(Z,u,g){var z,Y,te=u?g.zoom:V.zoom,ae=ne.get(Z),ce=ae&&ae.zoomValue!==te.value&&!(g!=null&&g.shouldCacheIgnoreZoom),ye=((z=(0,E.WJ)(Z))===null||z===void 0?void 0:z.version)||null,je=((Y=(0,a.$Z)(Z))===null||Y===void 0?void 0:Y.opacity)||100;if(!ae||ce||ae.theme!==g.theme||ae.boundTextElementVersion!==ye||ae.containingFrameOpacity!==je){var Be=X(Z,te,u,g);return ne.set(Z,Be),Be}return ae},be=function(Z,u,g,z){var Y=Z.element,te=F(Y),ae=Z.scale,ce=(0,b.qf)(Y),ye=(0,A.Z)(ce,4),je=ye[0],Be=ye[1],Qe=ye[2],rt=ye[3];(0,k.F9)(Y)&&(je=Math.floor(je),Qe=Math.ceil(Qe),Be=Math.floor(Be),rt=Math.ceil(rt));var Ye=((je+Qe)/2+z.scrollX)*window.devicePixelRatio,tt=((Be+rt)/2+z.scrollY)*window.devicePixelRatio;u.save(),u.scale(1/window.devicePixelRatio,1/window.devicePixelRatio);var ht=(0,E.WJ)(Y);if((0,k.Yv)(Y)&&ht){var gt=document.createElement("canvas"),Ue=gt.getContext("2d"),Ce=Math.max((0,w.TE)(je,Qe),(0,w.TE)(Be,rt));gt.width=Ce*window.devicePixelRatio*ae+te*Z.scale*10,gt.height=Ce*window.devicePixelRatio*ae+te*Z.scale*10;var Le=(gt.width-Z.canvas.width)/2,et=(gt.height-Z.canvas.height)/2;Ue.translate(gt.width/2,gt.height/2),Ue.rotate(Y.angle),Ue.drawImage(Z.canvas,-Z.canvas.width/2,-Z.canvas.height/2,Z.canvas.width,Z.canvas.height);var ft=(0,b.qf)(ht),xt=(0,A.Z)(ft,6),wt=xt[4],Rt=xt[5];Ue.rotate(-Y.angle);var It=gt.width/2-(wt-je)*window.devicePixelRatio*ae-Le-te*ae,At=gt.height/2-(Rt-Be)*window.devicePixelRatio*ae-et-te*ae;Ue.translate(-It,-At),Ue.clearRect(-(ht.width/2+d.gK)*window.devicePixelRatio*ae,-(ht.height/2+d.gK)*window.devicePixelRatio*ae,(ht.width+2*d.gK)*window.devicePixelRatio*ae,(ht.height+2*d.gK)*window.devicePixelRatio*ae),u.translate(Ye,tt),u.drawImage(gt,-(Qe-je)/2*window.devicePixelRatio-Le/ae-te,-(rt-Be)/2*window.devicePixelRatio-et/ae-te,gt.width/ae,gt.height/ae)}else if(u.translate(Ye,tt),u.rotate(Y.angle),"scale"in Z.element&&!D(Y,g)&&u.scale(Z.element.scale[0],Z.element.scale[1]),u.translate(-Ye,-tt),u.drawImage(Z.canvas,(je+z.scrollX)*window.devicePixelRatio-te*Z.scale/Z.scale,(Be+z.scrollY)*window.devicePixelRatio-te*Z.scale/Z.scale,Z.canvas.width/Z.scale,Z.canvas.height/Z.scale),{}.VITE_APP_DEBUG_ENABLE_TEXT_CONTAINER_BOUNDING_BOX==="true"&&(0,k.Xo)(Y)){var Xt=(0,E.WJ)(Y),tr=(0,E.cw)(Y);u.strokeStyle="#c92a2a",u.lineWidth=3,u.strokeRect((tr.x+z.scrollX)*window.devicePixelRatio,(tr.y+z.scrollY)*window.devicePixelRatio,(0,E.iZ)(Y)*window.devicePixelRatio,(0,E.D9)(Y,Xt)*window.devicePixelRatio)}u.restore()},Me=function(Z,u,g){u.save(),u.translate(Z.x+g.scrollX,Z.y+g.scrollY),u.fillStyle="rgba(0, 0, 200, 0.04)";var z=.5/g.zoom.value;u.fillRect(z,z,Z.width,Z.height),u.lineWidth=1/g.zoom.value,u.strokeStyle=" rgb(105, 101, 219)",u.strokeRect(z,z,Z.width,Z.height),u.restore()},Ge=function(Z,u,g,z,Y){switch(Z.type){case"frame":Y.frameRendering.enabled&&Y.frameRendering.outline&&(g.save(),g.translate(Z.x+Y.scrollX,Z.y+Y.scrollY),g.fillStyle="rgba(0, 0, 200, 0.04)",g.lineWidth=d.iG.strokeWidth/Y.zoom.value,g.strokeStyle=d.iG.strokeColor,d.iG.radius&&g.roundRect?(g.beginPath(),g.roundRect(0,0,Z.width,Z.height,d.iG.radius/Y.zoom.value),g.stroke(),g.closePath()):g.strokeRect(0,0,Z.width,Z.height),g.restore());break;case"freedraw":if(h.R.generateElementShape(Z),z.isExporting){var te=(0,b.qf)(Z),ae=(0,A.Z)(te,4),ce=ae[0],ye=ae[1],je=ae[2],Be=ae[3],Qe=(ce+je)/2+Y.scrollX,rt=(ye+Be)/2+Y.scrollY,Ye=(je-ce)/2-(Z.x-ce),tt=(Be-ye)/2-(Z.y-ye);g.save(),g.translate(Qe,rt),g.rotate(Z.angle),g.translate(-Ye,-tt),pe(Z,u,g,z,Y),g.restore()}else{var ht=oe(Z,z,Y);be(ht,g,z,Y)}break;case"rectangle":case"diamond":case"ellipse":case"line":case"arrow":case"image":case"text":case"embeddable":if(h.R.generateElementShape(Z,z.isExporting),z.isExporting){var gt=(0,b.qf)(Z),Ue=(0,A.Z)(gt,4),Ce=Ue[0],Le=Ue[1],et=Ue[2],ft=Ue[3],xt=(Ce+et)/2+Y.scrollX,wt=(Le+ft)/2+Y.scrollY,Rt=(et-Ce)/2-(Z.x-Ce),It=(ft-Le)/2-(Z.y-Le);if((0,k.iB)(Z)){var At=(0,E.tl)(Z);if((0,k.Yv)(At)){var Xt=v._.getBoundTextElementPosition(At,Z);Rt=(et-Ce)/2-(Xt.x-Ce),It=(ft-Le)/2-(Xt.y-Le)}}g.save(),g.translate(xt,wt),P(Z,z,Y)&&(g.filter="none");var tr=(0,E.WJ)(Z);if((0,k.Yv)(Z)&&tr){var Gt=document.createElement("canvas"),Jt=Gt.getContext("2d"),gr=Math.max((0,w.TE)(Ce,et),(0,w.TE)(Le,ft)),Pt=F(Z);Gt.width=gr*Y.exportScale+10*Pt*Y.exportScale,Gt.height=gr*Y.exportScale+10*Pt*Y.exportScale,Jt.translate(Gt.width/2,Gt.height/2),Jt.scale(Y.exportScale,Y.exportScale),Rt=Z.width/2-(Z.x-Ce),It=Z.height/2-(Z.y-Le),Jt.rotate(Z.angle);var St=M.Z.canvas(Gt);Jt.translate(-Rt,-It),pe(Z,St,Jt,z,Y),Jt.translate(Rt,It),Jt.rotate(-Z.angle);var Zt=(0,b.qf)(tr),Tt=(0,A.Z)(Zt,6),Lt=(Ce+et)/2-Tt[4],Wt=(Le+ft)/2-Tt[5];Jt.translate(-Lt,-Wt),Jt.clearRect(-tr.width/2,-tr.height/2,tr.width,tr.height),g.scale(1/Y.exportScale,1/Y.exportScale),g.drawImage(Gt,-Gt.width/2,-Gt.height/2,Gt.width,Gt.height)}else g.rotate(Z.angle),Z.type==="image"&&g.scale(Z.scale[0],Z.scale[1]),g.translate(-Rt,-It),pe(Z,u,g,z,Y);g.restore()}else{var qt=oe(Z,z,Y),sr=g.imageSmoothingEnabled;Y!=null&&Y.shouldCacheIgnoreZoom||Z.angle&&!(0,N.EK)(Z.angle)||(g.imageSmoothingEnabled=!1),be(qt,g,z,Y),g.imageSmoothingEnabled=sr}break;default:throw new Error("Unimplemented type ".concat(Z.type))}},qe=function(Z,u,g){if(g===void 0)return Z.draw(u);var z={sets:u.sets,shape:u.shape,options:C(C({},u.options),{},{fixedDecimalPlaceDigits:g})};return Z.draw(z)},Ne=function(Z,u,g,z){if(!z.enabled||!z.clip)return null;var Y=(0,a.$Z)(Z);if(Y){var te=u.ownerDocument.createElementNS(d.hR,"g");return te.setAttributeNS(d.hR,"clip-path","url(#".concat(Y.id,")")),g.forEach(function(ae){return te.appendChild(ae)}),te}return null},Pe=function Z(u,g,z,Y,te,ae,ce){var ye,je,Be=te,Qe=ae,rt=(0,b.qf)(u),Ye=(0,A.Z)(rt,4),tt=Ye[0],ht=Ye[1],gt=Ye[2],Ue=Ye[3],Ce=(gt-tt)/2-(u.x-tt),Le=(Ue-ht)/2-(u.y-ht);if((0,k.iB)(u)){var et=(0,E.tl)(u);if((0,k.Yv)(et)){var ft=(0,b.qf)(et),xt=(0,A.Z)(ft,4),wt=xt[0],Rt=xt[1],It=xt[2],At=xt[3],Xt=v._.getBoundTextElementPosition(et,u);Ce=(It-wt)/2-(Xt.x-wt),Le=(At-Rt)/2-(Xt.y-Rt),te=te+Xt.x-u.x,ae=ae+Xt.y-u.y}}var tr=180*u.angle/Math.PI,Gt=z;if(u.link){var Jt=z.ownerDocument.createElementNS(d.hR,"a");Jt.setAttribute("href",(0,y.$u)(u.link)),Gt.appendChild(Jt),Gt=Jt}var gr=function(co,it){(0,w.h2)()&&co.setAttribute("data-id",it.id),Gt.appendChild(co)},Pt=((ye=(je=(0,a.$Z)(u))===null||je===void 0?void 0:je.opacity)!==null&&ye!==void 0?ye:100)*u.opacity/1e4;switch(u.type){case"selection":throw new Error("Selection rendering is not supported for SVG");case"rectangle":case"diamond":case"ellipse":var St=h.R.generateElementShape(u),Zt=qe(g,St,d.zK);Pt!==1&&(Zt.setAttribute("stroke-opacity","".concat(Pt)),Zt.setAttribute("fill-opacity","".concat(Pt))),Zt.setAttribute("stroke-linecap","round"),Zt.setAttribute("transform","translate(".concat(te||0," ").concat(ae||0,") rotate(").concat(tr," ").concat(Ce," ").concat(Le,")")),gr(Ne(u,Gt,[Zt],ce.frameRendering)||Zt,u);break;case"embeddable":var Tt=h.R.generateElementShape(u,!0),Lt=qe(g,Tt,d.zK),Wt=u.opacity/100;Wt!==1&&(Lt.setAttribute("stroke-opacity","".concat(Wt)),Lt.setAttribute("fill-opacity","".concat(Wt))),Lt.setAttribute("stroke-linecap","round"),Lt.setAttribute("transform","translate(".concat(te||0," ").concat(ae||0,") rotate(").concat(tr," ").concat(Ce," ").concat(Le,")")),gr(Lt,u);var qt=(0,i.g0)(u);Z(qt,g,Gt,Y,qt.x+Be-u.x,qt.y+Qe-u.y,ce);var sr=qe(g,Tt,d.zK);for(sr.setAttribute("stroke-linecap","round"),sr.setAttribute("transform","translate(".concat(te||0," ").concat(ae||0,") rotate(").concat(tr," ").concat(Ce," ").concat(Le,")"));sr.firstChild;)sr.removeChild(sr.firstChild);var cr=(0,N.yW)(Math.min(u.width,u.height),u),Sr=(0,i.LM)((0,y.ye)(u.link||""));if(ce.renderEmbeddables===!1||(Sr==null?void 0:Sr.type)==="document"){var Mr=z.ownerDocument.createElementNS(d.hR,"a");Mr.setAttribute("href",(0,y.$u)(u.link||"")),Mr.setAttribute("target","_blank"),Mr.setAttribute("rel","noopener noreferrer"),Mr.style.borderRadius="".concat(cr,"px"),sr.appendChild(Mr)}else{var zr,pr=z.ownerDocument.createElementNS(d.hR,"foreignObject");pr.style.width="".concat(u.width,"px"),pr.style.height="".concat(u.height,"px"),pr.style.border="none";var Ft=pr.ownerDocument.createElementNS(d.hR,"div");Ft.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),Ft.style.width="100%",Ft.style.height="100%";var or=Ft.ownerDocument.createElement("iframe");or.src=(zr=Sr==null?void 0:Sr.link)!==null&&zr!==void 0?zr:"",or.style.width="100%",or.style.height="100%",or.style.border="none",or.style.borderRadius="".concat(cr,"px"),or.style.top="0",or.style.left="0",or.allowFullscreen=!0,Ft.appendChild(or),pr.appendChild(Ft),sr.appendChild(pr)}gr(sr,u);break;case"line":case"arrow":var rr=(0,E.WJ)(u),Or=z.ownerDocument.createElementNS(d.hR,"mask");if(rr){Or.setAttribute("id","mask-".concat(u.id));var Kr=z.ownerDocument.createElementNS(d.hR,"rect");te=te||0,ae=ae||0,Kr.setAttribute("x","0"),Kr.setAttribute("y","0"),Kr.setAttribute("fill","#fff"),Kr.setAttribute("width","".concat(u.width+100+te)),Kr.setAttribute("height","".concat(u.height+100+ae)),Or.appendChild(Kr);var Xr=z.ownerDocument.createElementNS(d.hR,"rect"),cn=v._.getBoundTextElementPosition(u,rr),en=te+cn.x-u.x,ur=ae+cn.y-u.y;Xr.setAttribute("x",en.toString()),Xr.setAttribute("y",ur.toString()),Xr.setAttribute("fill","#000"),Xr.setAttribute("width","".concat(rr.width)),Xr.setAttribute("height","".concat(rr.height)),Xr.setAttribute("opacity","1"),Or.appendChild(Xr)}var Dt=z.ownerDocument.createElementNS(d.hR,"g");rr&&Dt.setAttribute("mask","url(#mask-".concat(u.id,")")),Dt.setAttribute("stroke-linecap","round"),h.R.generateElementShape(u).forEach(function(co){var it=qe(g,co,d.zK);Pt!==1&&(it.setAttribute("stroke-opacity","".concat(Pt)),it.setAttribute("fill-opacity","".concat(Pt))),it.setAttribute("transform","translate(".concat(te||0," ").concat(ae||0,") rotate(").concat(tr," ").concat(Ce," ").concat(Le,")")),u.type==="line"&&(0,N.g6)(u.points)&&u.backgroundColor!=="transparent"&&it.setAttribute("fill-rule","evenodd"),Dt.appendChild(it)});var Nt=Ne(u,Gt,[Dt,Or],ce.frameRendering);Nt?(gr(Nt,u),Gt.appendChild(Nt)):(gr(Dt,u),Gt.append(Or));break;case"freedraw":var Ut=h.R.generateElementShape(u),hr=Ut?qe(g,Ut,d.zK):z.ownerDocument.createElementNS(d.hR,"g");Pt!==1&&(hr.setAttribute("stroke-opacity","".concat(Pt)),hr.setAttribute("fill-opacity","".concat(Pt))),hr.setAttribute("transform","translate(".concat(te||0," ").concat(ae||0,") rotate(").concat(tr," ").concat(Ce," ").concat(Le,")")),hr.setAttribute("stroke","none");var jr=z.ownerDocument.createElementNS(d.hR,"path");jr.setAttribute("fill",u.strokeColor),jr.setAttribute("d",Ie(u)),hr.appendChild(jr),gr(Ne(u,Gt,[hr],ce.frameRendering)||hr,u);break;case"image":var Cr=Math.round(u.width),Zr=Math.round(u.height),Dr=(0,k.wi)(u)&&Y[u.fileId];if(Dr){var Fr="image-".concat(Dr.id),ln=z.querySelector("#".concat(Fr));if(!ln){(ln=z.ownerDocument.createElementNS(d.hR,"symbol")).id=Fr;var Gr=z.ownerDocument.createElementNS(d.hR,"image");Gr.setAttribute("width","100%"),Gr.setAttribute("height","100%"),Gr.setAttribute("href",Dr.dataURL),ln.appendChild(Gr),Gt.prepend(ln)}var Rr=z.ownerDocument.createElementNS(d.hR,"use");if(Rr.setAttribute("href","#".concat(Fr)),ce.exportWithDarkMode&&Dr.mimeType!==d.LO.svg&&Rr.setAttribute("filter",U),Rr.setAttribute("width","".concat(Cr)),Rr.setAttribute("height","".concat(Zr)),Rr.setAttribute("opacity","".concat(Pt)),u.scale[0]!==1||u.scale[1]!==1){var Wr=u.scale[0]!==1?-Cr:0,Ur=u.scale[1]!==1?-Zr:0;Rr.setAttribute("transform","scale(".concat(u.scale[0],", ").concat(u.scale[1],") translate(").concat(Wr," ").concat(Ur,")"))}var rn=z.ownerDocument.createElementNS(d.hR,"g");rn.appendChild(Rr),rn.setAttribute("transform","translate(".concat(te||0," ").concat(ae||0,") rotate(").concat(tr," ").concat(Ce," ").concat(Le,")")),gr(Ne(u,Gt,[rn],ce.frameRendering)||rn,u)}break;case"frame":if(ce.frameRendering.enabled&&ce.frameRendering.outline){var an=document.createElementNS(d.hR,"rect");an.setAttribute("transform","translate(".concat(te||0," ").concat(ae||0,") rotate(").concat(tr," ").concat(Ce," ").concat(Le,")")),an.setAttribute("width","".concat(u.width,"px")),an.setAttribute("height","".concat(u.height,"px")),an.setAttribute("rx",d.iG.radius.toString()),an.setAttribute("ry",d.iG.radius.toString()),an.setAttribute("fill","none"),an.setAttribute("stroke",d.iG.strokeColor),an.setAttribute("stroke-width",d.iG.strokeWidth.toString()),gr(an,u)}break;default:if(!(0,k.iB)(u))throw new Error("Unimplemented type ".concat(u.type));var Qr=z.ownerDocument.createElementNS(d.hR,"g");Pt!==1&&(Qr.setAttribute("stroke-opacity","".concat(Pt)),Qr.setAttribute("fill-opacity","".concat(Pt))),Qr.setAttribute("transform","translate(".concat(te||0," ").concat(ae||0,") rotate(").concat(tr," ").concat(Ce," ").concat(Le,")"));for(var In=u.text.replace(/\r\n?/g,`
`).split(`
`),Xn=(0,E.Rg)(u.fontSize,u.lineHeight),go=u.textAlign==="center"?u.width/2:u.textAlign==="right"?u.width:0,bo=(0,w.dZ)(u.text)?"rtl":"ltr",_o=u.textAlign==="center"?"middle":u.textAlign==="right"||bo==="rtl"?"end":"start",wo=0;wo<In.length;wo++){var ao=z.ownerDocument.createElementNS(d.hR,"text");ao.textContent=In[wo],ao.setAttribute("x","".concat(go)),ao.setAttribute("y","".concat(wo*Xn)),ao.setAttribute("font-family",(0,w.$g)(u)),ao.setAttribute("font-size","".concat(u.fontSize,"px")),ao.setAttribute("fill",u.strokeColor),ao.setAttribute("text-anchor",_o),ao.setAttribute("style","white-space: pre;"),ao.setAttribute("direction",bo),ao.setAttribute("dominant-baseline","text-before-edge"),Qr.appendChild(ao)}gr(Ne(u,Gt,[Qr],ce.frameRendering)||Qr,u)}},Re=new WeakMap([]);function Ze(Z){var u=Ie(Z),g=new Path2D(u);return Re.set(Z,g),g}function Ie(Z){return function(u){if(!u.length)return"";var g=u.length-1;return u.reduce(function(z,Y,te,ae){return te===g?z.push(Y,Ee(Y,ae[0]),"L",ae[0],"Z"):z.push(Y,Ee(Y,ae[te+1])),z},["M",u[0],"Q"]).join(" ").replace(xe,"$1")}(R(Z.simulatePressure?Z.points:Z.points.length?Z.points.map(function(u,g){var z=(0,A.Z)(u,2);return[z[0],z[1],Z.pressures[g]]}):[[0,0,.5]],{simulatePressure:Z.simulatePressure,size:4.25*Z.strokeWidth,thinning:.6,smoothing:.5,streamline:.5,easing:function(u){return Math.sin(u*Math.PI/2)},last:!!Z.lastCommittedPoint}))}function Ee(Z,u){return[(Z[0]+u[0])/2,(Z[1]+u[1])/2]}var xe=/(\s?[A-Z]?,?-?[0-9]*\.[0-9]{0,2})(([0-9]|e|-)*)/g},7766:function(We,ue,n){n.d(ue,{Lu:function(){return m},n_:function(){return Me},tp:function(){return ne},M_:function(){return xe},AW:function(){return be}});var r,A=n(1930),k=n(2577),b=n(5284),w=n(7651),N=function(Z,u,g,z,Y,te,ae){Z.beginPath(),Z.moveTo(u+te,g),Z.lineTo(u+z-te,g),Z.quadraticCurveTo(u+z,g,u+z,g+te),Z.lineTo(u+z,g+Y-te),Z.quadraticCurveTo(u+z,g+Y,u+z-te,g+Y),Z.lineTo(u+te,g+Y),Z.quadraticCurveTo(u,g+Y,u,g+Y-te),Z.lineTo(u,g+te),Z.quadraticCurveTo(u,g,u+te,g),Z.closePath(),Z.fill(),ae&&(Z.strokeStyle=ae),Z.stroke()},M=n(4726),f=n(9660),d=n(957),j=n(7422),L=n(9215),H=n(3528),x=n(4048),S=n(9827);(function(Z){Z.ACTIVE="active",Z.AWAY="away",Z.IDLE="idle"})(r||(r={}));var q=n(9937),ve=n(5992);function ke(Z,u){var g=typeof Symbol<"u"&&Z[Symbol.iterator]||Z["@@iterator"];if(!g){if(Array.isArray(Z)||(g=function(ye,je){if(ye){if(typeof ye=="string")return Se(ye,je);var Be=Object.prototype.toString.call(ye).slice(8,-1);if(Be==="Object"&&ye.constructor&&(Be=ye.constructor.name),Be==="Map"||Be==="Set")return Array.from(ye);if(Be==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Be))return Se(ye,je)}}(Z))||u){g&&(Z=g);var z=0,Y=function(){};return{s:Y,n:function(){return z>=Z.length?{done:!0}:{done:!1,value:Z[z++]}},e:function(ye){throw ye},f:Y}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var te,ae=!0,ce=!1;return{s:function(){g=g.call(Z)},n:function(){var ye=g.next();return ae=ye.done,ye},e:function(ye){ce=!0,te=ye},f:function(){try{ae||g.return==null||g.return()}finally{if(ce)throw te}}}}function Se(Z,u){(u==null||u>Z.length)&&(u=Z.length);for(var g=0,z=new Array(u);g<u;g++)z[g]=Z[g];return z}var ge=function(Z,u,g){if(!g.zenModeEnabled){var z=Z.points[0],Y=Z.points[Z.points.length-1];K(z,Y,u)}var te,ae=ke(Z.points);try{for(ae.s();!(te=ae.n()).done;){var ce=te.value;Q(ce,g,u)}}catch(ye){ae.e(ye)}finally{ae.f()}},J=function(Z,u,g){Q(Z.points[0],g,u),g.zenModeEnabled||K(Z.points[0],Z.points[1],u)},Q=function(Z,u,g){var z=(0,k.Z)(Z,2),Y=z[0],te=z[1];g.save();var ae=(u.zenModeEnabled?3:2)/u.zoom.value;g.beginPath(),g.moveTo(Y-ae,te-ae),g.lineTo(Y+ae,te+ae),g.moveTo(Y+ae,te-ae),g.lineTo(Y-ae,te+ae),g.stroke(),g.restore()},K=function(Z,u,g){g.beginPath(),g.lineTo.apply(g,(0,A.Z)(Z)),g.lineTo.apply(g,(0,A.Z)(u)),g.stroke()},T=function(Z,u,g,z,Y){var te=8/z.zoom.value,ae=te/2,ce=te/4;if(g==="horizontal"){var ye=[(Z[0]+u[0])/2,Z[1]];z.zenModeEnabled||K([Z[0],Z[1]-te],[Z[0],Z[1]+te],Y),K([ye[0]-ce,ye[1]-ae],[ye[0]-ce,ye[1]+ae],Y),K([ye[0]+ce,ye[1]-ae],[ye[0]+ce,ye[1]+ae],Y),z.zenModeEnabled||(K([u[0],u[1]-te],[u[0],u[1]+te],Y),K(Z,u,Y))}else{var je=[Z[0],(Z[1]+u[1])/2];z.zenModeEnabled||K([Z[0]-te,Z[1]],[Z[0]+te,Z[1]],Y),K([je[0]-ae,je[1]-ce],[je[0]+ae,je[1]-ce],Y),K([je[0]-ae,je[1]+ce],[je[0]+ae,je[1]+ce],Y),z.zenModeEnabled||(K([u[0]-te,u[1]],[u[0]+te,u[1]],Y),K(Z,u,Y))}},B=n(4183),O=n(761),R=n(4682),E=n(6655);function v(Z,u){var g=typeof Symbol<"u"&&Z[Symbol.iterator]||Z["@@iterator"];if(!g){if(Array.isArray(Z)||(g=function(ye,je){if(ye){if(typeof ye=="string")return i(ye,je);var Be=Object.prototype.toString.call(ye).slice(8,-1);if(Be==="Object"&&ye.constructor&&(Be=ye.constructor.name),Be==="Map"||Be==="Set")return Array.from(ye);if(Be==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Be))return i(ye,je)}}(Z))||u){g&&(Z=g);var z=0,Y=function(){};return{s:Y,n:function(){return z>=Z.length?{done:!0}:{done:!1,value:Z[z++]}},e:function(ye){throw ye},f:Y}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var te,ae=!0,ce=!1;return{s:function(){g=g.call(Z)},n:function(){var ye=g.next();return ae=ye.done,ye},e:function(ye){ce=!0,te=ye},f:function(){try{ae||g.return==null||g.return()}finally{if(ce)throw te}}}}function i(Z,u){(u==null||u>Z.length)&&(u=Z.length);for(var g=0,z=new Array(u);g<u;g++)z[g]=Z[g];return z}function a(Z,u){var g=typeof Symbol<"u"&&Z[Symbol.iterator]||Z["@@iterator"];if(!g){if(Array.isArray(Z)||(g=function(ye,je){if(ye){if(typeof ye=="string")return y(ye,je);var Be=Object.prototype.toString.call(ye).slice(8,-1);if(Be==="Object"&&ye.constructor&&(Be=ye.constructor.name),Be==="Map"||Be==="Set")return Array.from(ye);if(Be==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Be))return y(ye,je)}}(Z))||u){g&&(Z=g);var z=0,Y=function(){};return{s:Y,n:function(){return z>=Z.length?{done:!0}:{done:!1,value:Z[z++]}},e:function(ye){throw ye},f:Y}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var te,ae=!0,ce=!1;return{s:function(){g=g.call(Z)},n:function(){var ye=g.next();return ae=ye.done,ye},e:function(ye){ce=!0,te=ye},f:function(){try{ae||g.return==null||g.return()}finally{if(ce)throw te}}}}function y(Z,u){(u==null||u>Z.length)&&(u=Z.length);for(var g=0,z=new Array(u);g<u;g++)z[g]=Z[g];return z}(function(){var Z,u,g,z,Y,te;(u=(Z=Path2D.prototype).roundRect)!==null&&u!==void 0||(Z.roundRect=ae),globalThis.CanvasRenderingContext2D&&((z=(g=globalThis.CanvasRenderingContext2D.prototype).roundRect)!==null&&z!==void 0||(g.roundRect=ae)),globalThis.OffscreenCanvasRenderingContext2D&&((te=(Y=globalThis.OffscreenCanvasRenderingContext2D.prototype).roundRect)!==null&&te!==void 0||(Y.roundRect=ae));function ae(ye,je,Be,Qe,rt){if([ye,je,Be,Qe].every(function(xt){return Number.isFinite(xt)})){var Ye,tt,ht,gt;if((rt=function(xt){var wt=(0,E.Z)(xt);return wt==="undefined"||xt===null?[0]:wt==="function"?[NaN]:wt==="object"?typeof xt[Symbol.iterator]=="function"?(0,A.Z)(xt).map(function(Rt){var It=(0,E.Z)(Rt);return It==="undefined"||Rt===null?0:It==="function"?NaN:It==="object"?Le(Rt):et(Rt)}):[Le(xt)]:[et(xt)]}(rt)).length===4)Ye=ft(rt[0]),tt=ft(rt[1]),ht=ft(rt[2]),gt=ft(rt[3]);else if(rt.length===3)Ye=ft(rt[0]),tt=ft(rt[1]),gt=ft(rt[1]),ht=ft(rt[2]);else if(rt.length===2)Ye=ft(rt[0]),ht=ft(rt[0]),tt=ft(rt[1]),gt=ft(rt[1]);else{if(rt.length!==1)throw new RangeError("".concat(ce(this)," ").concat(rt.length," is not a valid size for radii sequence."));Ye=ft(rt[0]),tt=ft(rt[0]),ht=ft(rt[0]),gt=ft(rt[0])}var Ue=[Ye,tt,ht,gt],Ce=Ue.find(function(xt){var wt=xt.x,Rt=xt.y;return wt<0||Rt<0});if((Ce==null?void 0:Ce.x)<0?Ce.x:Ce==null||Ce.y,!Ue.some(function(xt){var wt=xt.x,Rt=xt.y;return!Number.isFinite(wt)||!Number.isFinite(Rt)})){if(Ce)throw new RangeError("".concat(ce(this)," Radius value ").concat(Ce," is negative."));(function(xt){var wt=(0,k.Z)(xt,4),Rt=wt[0],It=wt[1],At=wt[2],Xt=wt[3],tr=[Math.abs(Be)/(Rt.x+It.x),Math.abs(Qe)/(It.y+At.y),Math.abs(Be)/(At.x+Xt.x),Math.abs(Qe)/(Rt.y+Xt.y)],Gt=Math.min.apply(Math,tr);if(Gt<=1){var Jt,gr=v(xt);try{for(gr.s();!(Jt=gr.n()).done;){var Pt=Jt.value;Pt.x*=Gt,Pt.y*=Gt}}catch(St){gr.e(St)}finally{gr.f()}}})(Ue),Be<0&&Qe<0?(this.moveTo(ye-Ye.x,je),this.ellipse(ye+Be+tt.x,je-tt.y,tt.x,tt.y,0,1.5*-Math.PI,-Math.PI),this.ellipse(ye+Be+ht.x,je+Qe+ht.y,ht.x,ht.y,0,-Math.PI,-Math.PI/2),this.ellipse(ye-gt.x,je+Qe+gt.y,gt.x,gt.y,0,-Math.PI/2,0),this.ellipse(ye-Ye.x,je-Ye.y,Ye.x,Ye.y,0,0,-Math.PI/2)):Be<0?(this.moveTo(ye-Ye.x,je),this.ellipse(ye+Be+tt.x,je+tt.y,tt.x,tt.y,0,-Math.PI/2,-Math.PI,1),this.ellipse(ye+Be+ht.x,je+Qe-ht.y,ht.x,ht.y,0,-Math.PI,1.5*-Math.PI,1),this.ellipse(ye-gt.x,je+Qe-gt.y,gt.x,gt.y,0,Math.PI/2,0,1),this.ellipse(ye-Ye.x,je+Ye.y,Ye.x,Ye.y,0,0,-Math.PI/2,1)):Qe<0?(this.moveTo(ye+Ye.x,je),this.ellipse(ye+Be-tt.x,je-tt.y,tt.x,tt.y,0,Math.PI/2,0,1),this.ellipse(ye+Be-ht.x,je+Qe+ht.y,ht.x,ht.y,0,0,-Math.PI/2,1),this.ellipse(ye+gt.x,je+Qe+gt.y,gt.x,gt.y,0,-Math.PI/2,-Math.PI,1),this.ellipse(ye+Ye.x,je-Ye.y,Ye.x,Ye.y,0,-Math.PI,1.5*-Math.PI,1)):(this.moveTo(ye+Ye.x,je),this.ellipse(ye+Be-tt.x,je+tt.y,tt.x,tt.y,0,-Math.PI/2,0),this.ellipse(ye+Be-ht.x,je+Qe-ht.y,ht.x,ht.y,0,0,Math.PI/2),this.ellipse(ye+gt.x,je+Qe-gt.y,gt.x,gt.y,0,Math.PI/2,Math.PI),this.ellipse(ye+Ye.x,je+Ye.y,Ye.x,Ye.y,0,Math.PI,1.5*Math.PI)),this.closePath(),this.moveTo(ye,je)}}function Le(xt){return{x:xt.x,y:xt.y,z:xt.z,w:xt.w}}function et(xt){return+xt}function ft(xt){var wt,Rt,It=et(xt);return Number.isFinite(It)?{x:It,y:It}:Object(xt)===xt?{x:et((wt=xt.x)!==null&&wt!==void 0?wt:0),y:et((Rt=xt.y)!==null&&Rt!==void 0?Rt:0)}:{x:NaN,y:NaN}}}function ce(ye){return"Failed to execute 'roundRect' on '".concat(function(je){return Object(je)===je&&je instanceof Path2D?"Path2D":je instanceof(globalThis==null?void 0:globalThis.CanvasRenderingContext2D)?"CanvasRenderingContext2D":je instanceof(globalThis==null?void 0:globalThis.OffscreenCanvasRenderingContext2D)?"OffscreenCanvasRenderingContext2D":(je==null?void 0:je.constructor.name)||je}(ye),"':")}})();var h,m=2,C=function(Z,u,g,z,Y,te,ae,ce){var ye=arguments.length>8&&arguments[8]!==void 0&&arguments[8],je=arguments.length>9&&arguments[9]!==void 0?arguments[9]:0;Z.save(),Z.translate(te,ae),Z.rotate(ce),ye&&Z.fillRect(u-te,g-ae,z,Y),je&&Z.roundRect?(Z.beginPath(),Z.roundRect(u-te,g-ae,z,Y,je),Z.stroke(),Z.closePath()):Z.strokeRect(u-te,g-ae,z,Y),Z.restore()},U=function(Z,u,g,z){var Y=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];Z.beginPath(),Z.arc(u,g,z,0,2*Math.PI),Z.fill(),Y&&Z.stroke()},V=function(Z,u,g,z,Y){var te=arguments.length>5&&arguments[5]!==void 0&&arguments[5];Z.strokeStyle="#5e5ad8",Z.setLineDash([]),Z.fillStyle="rgba(255, 255, 255, 0.9)",Y?Z.fillStyle="rgba(134, 131, 226, 0.9)":te&&(Z.fillStyle="rgba(177, 151, 252, 0.7)"),U(Z,g[0],g[1],z/u.zoom.value,!te)},D=function(Z,u,g){if(u.selectedLinearElement){Z.save(),Z.translate(u.scrollX,u.scrollY),Z.lineWidth=1/u.zoom.value;var z=j._.getPointsGlobalCoordinates(g),Y=j._.POINT_HANDLE_SIZE,te=u.editingLinearElement?Y:Y/2;z.forEach(function(ae,ce){var ye,je,Be=!((ye=u.editingLinearElement)===null||ye===void 0||(je=ye.selectedPointsIndices)===null||je===void 0||!je.includes(ce));V(Z,u,ae,te,Be)}),j._.getEditorMidPoints(g,u).filter(function(ae){return ae!==null}).forEach(function(ae){var ce;u!=null&&(ce=u.selectedLinearElement)!==null&&ce!==void 0&&ce.segmentMidPointHoveredCoords&&j._.arePointsEqual(ae,u.selectedLinearElement.segmentMidPointHoveredCoords)?u.editingLinearElement?(V(Z,u,ae,te,!1),P(ae,Z,u)):(P(ae,Z,u),V(Z,u,ae,te,!1)):(u.editingLinearElement||z.length===2)&&V(Z,u,ae,Y/2,!1,!0)}),Z.restore()}},P=function(Z,u,g){u.fillStyle="rgba(105, 101, 219, 0.4)",U(u,Z[0],Z[1],j._.POINT_HANDLE_SIZE/g.zoom.value,!1)},F=function(Z,u,g,z){u.translate(Z.x+z.scrollX,Z.y+z.scrollY),u.beginPath(),u.roundRect?u.roundRect(0,0,Z.width,Z.height,q.iG.radius/z.zoom.value):u.rect(0,0,Z.width,Z.height),u.clip(),u.translate(-(Z.x+z.scrollX),-(Z.y+z.scrollY))},X=function(Z,u){return[Z.width/u,Z.height/u]},le=function(Z){var u=Z.canvas,g=Z.scale,z=Z.normalizedWidth,Y=Z.normalizedHeight,te=Z.theme,ae=Z.isExporting,ce=Z.viewBackgroundColor,ye=u.getContext("2d");return ye.setTransform(1,0,0,1,0,0),ye.scale(g,g),ae&&te==="dark"&&(ye.filter=q.ZF),typeof ce=="string"?((ce==="transparent"||ce.length===5||ce.length===9||/(hsla|rgba)\(/.test(ce))&&ye.clearRect(0,0,z,Y),ye.save(),ye.fillStyle=ce,ye.fillRect(0,0,z,Y),ye.restore()):ye.clearRect(0,0,z,Y),ye},de=function(Z){var u,g=Z.canvas,z=Z.elements,Y=Z.visibleElements,te=Z.selectedElements,ae=Z.scale,ce=Z.appState,ye=Z.renderConfig;if(g===null)return{atLeastOneVisibleElement:!1,elements:z};var je=X(g,ae),Be=(0,k.Z)(je,2),Qe=Be[0],rt=Be[1],Ye=le({canvas:g,scale:ae,normalizedWidth:Qe,normalizedHeight:rt});Ye.save(),Ye.scale(ce.zoom.value,ce.zoom.value);var tt=void 0;if(Y.forEach(function(Dt){var Nt;((Nt=ce.editingLinearElement)===null||Nt===void 0?void 0:Nt.elementId)===Dt.id&&Dt&&(tt=Dt)}),tt&&D(Ye,ce,tt),ce.selectionElement)try{(0,f.uI)(ce.selectionElement,Ye,ce)}catch(Dt){console.error(Dt)}ce.isBindingEnabled&&ce.suggestedBindings.filter(function(Dt){return Dt!=null}).forEach(function(Dt){Ne(Ye,ce,Dt)}),ce.frameToHighlight&&Re(Ye,ce,ce.frameToHighlight),ce.elementsToHighlight&&Ze(Ye,ce,ce.elementsToHighlight);var ht,gt=te.some(function(Dt){return(0,B.He)(Dt)});if(te.length===1&&((u=ce.editingLinearElement)===null||u===void 0?void 0:u.elementId)===te[0].id&&D(Ye,ce,te[0]),ce.selectedLinearElement&&ce.selectedLinearElement.hoverPointIndex>=0&&function(Dt,Nt){var Ut,hr,jr=Nt.selectedLinearElement,Cr=jr.elementId,Zr=jr.hoverPointIndex;if((Ut=Nt.editingLinearElement)===null||Ut===void 0||(hr=Ut.selectedPointsIndices)===null||hr===void 0||!hr.includes(Zr)){var Dr=j._.getElement(Cr);if(Dr){var Fr=j._.getPointAtIndexGlobalCoordinates(Dr,Zr);Dt.save(),Dt.translate(Nt.scrollX,Nt.scrollY),P(Fr,Dt,Nt),Dt.restore()}}}(Ye,ce),!ce.multiElement&&!ce.editingLinearElement){var Ue,Ce=(0,x.oY)(te,ce);te.length===1&&(0,B.bt)(te[0])&&((Ue=ce.selectedLinearElement)===null||Ue===void 0?void 0:Ue.elementId)===te[0].id&&!te[0].locked&&D(Ye,ce,te[0]);var Le=ye.selectionColor||b.black;if(Ce){var et,ft=te.reduce(function(Dt,Nt){return Dt[Nt.id]=!0,Dt},{}),xt=z.reduce(function(Dt,Nt){var Ut=[];if(ft[Nt.id]&&!(0,L.zq)(ce,Nt)&&Ut.push(Le),ye.remoteSelectedElementIds[Nt.id]&&Ut.push.apply(Ut,(0,A.Z)(ye.remoteSelectedElementIds[Nt.id].map(function(Wr){return(0,d.G)(Wr)}))),Ut.length){var hr,jr=(0,w.qf)(Nt,!0),Cr=(0,k.Z)(jr,6),Zr=Cr[0],Dr=Cr[1],Fr=Cr[2],ln=Cr[3],Gr=Cr[4],Rr=Cr[5];Dt.push({angle:Nt.angle,elementX1:Zr,elementY1:Dr,elementX2:Fr,elementY2:ln,selectionColors:Ut,dashed:!!ye.remoteSelectedElementIds[Nt.id],cx:Gr,cy:Rr,activeEmbeddable:((hr=ce.activeEmbeddable)===null||hr===void 0?void 0:hr.element)===Nt&&ce.activeEmbeddable.state==="active"})}return Dt},[]),wt=function(Dt){var Nt=(0,L.Fb)(z,Dt),Ut=(0,w.KP)(Nt),hr=(0,k.Z)(Ut,4),jr=hr[0],Cr=hr[1],Zr=hr[2],Dr=hr[3];xt.push({angle:0,elementX1:jr,elementX2:Zr,elementY1:Cr,elementY2:Dr,selectionColors:[b.black],dashed:!0,cx:jr+(Zr-jr)/2,cy:Cr+(Dr-Cr)/2,activeEmbeddable:!1})},Rt=a((0,L.iJ)(ce));try{for(Rt.s();!(et=Rt.n()).done;)wt(et.value)}catch(Dt){Rt.e(Dt)}finally{Rt.f()}ce.editingGroupId&&wt(ce.editingGroupId),xt.forEach(function(Dt){return qe(Ye,ce,Dt)})}if(Ye.save(),Ye.translate(ce.scrollX,ce.scrollY),te.length===1){Ye.fillStyle=b.white;var It=(0,w.PC)(te[0],ce.zoom,"mouse");!ce.viewModeEnabled&&Ce&&Ge(Ye,ye,ce,It,te[0].angle)}else if(te.length>1&&!ce.isRotating){var At=2*m/ce.zoom.value;Ye.fillStyle=b.white;var Xt=(0,w.KP)(te),tr=(0,k.Z)(Xt,4),Gt=tr[0],Jt=tr[1],gr=tr[2],Pt=tr[3],St=Ye.getLineDash();Ye.setLineDash([2/ce.zoom.value]);var Zt=Ye.lineWidth;Ye.lineWidth=1/ce.zoom.value,Ye.strokeStyle=Le,C(Ye,Gt-At,Jt-At,gr-Gt+2*At,Pt-Jt+2*At,(Gt+gr)/2,(Jt+Pt)/2,0),Ye.lineWidth=Zt,Ye.setLineDash(St);var Tt=(0,w.kK)([Gt,Jt,gr,Pt,(Gt+gr)/2,(Jt+Pt)/2],0,ce.zoom,"mouse",gt?x.Fn:w.ox);te.some(function(Dt){return!Dt.locked})&&Ge(Ye,ye,ce,Tt,0)}Ye.restore()}for(var Lt in function(Dt,Nt){if(Nt.snapLines.length){var Ut=Nt.theme==="light"||Nt.zenModeEnabled?"#ff6b6b":"#ff0000",hr=(Nt.zenModeEnabled?1.5:1)/Nt.zoom.value;Dt.save(),Dt.translate(Nt.scrollX,Nt.scrollY);var jr,Cr=ke(Nt.snapLines);try{for(Cr.s();!(jr=Cr.n()).done;){var Zr=jr.value;Zr.type==="pointer"?(Dt.lineWidth=hr,Dt.strokeStyle=Ut,J(Zr,Dt,Nt)):Zr.type==="gap"?(Dt.lineWidth=hr,Dt.strokeStyle=Ut,T(Zr.points[0],Zr.points[1],Zr.direction,Nt,Dt)):Zr.type==="points"&&(Dt.lineWidth=hr,Dt.strokeStyle=Ut,ge(Zr,Dt,Nt))}}catch(Dr){Cr.e(Dr)}finally{Cr.f()}Dt.restore()}}(Ye,ce),Ye.restore(),ye.remotePointerViewportCoords){var Wt=ye.remotePointerViewportCoords[Lt],qt=Wt.x,sr=Wt.y;qt-=ce.offsetLeft,sr-=ce.offsetTop;var cr=qt<0||qt>Qe-11||sr<0||sr>rt-14;qt=Math.max(qt,0),qt=Math.min(qt,Qe-11),sr=Math.max(sr,0),sr=Math.min(sr,rt-14);var Sr=(0,d.G)(Lt);Ye.save(),Ye.strokeStyle=Sr,Ye.fillStyle=Sr;var Mr=ye.remotePointerUserStates[Lt],zr=cr||Mr===r.IDLE||Mr===r.AWAY;zr&&(Ye.globalAlpha=.3),ye.remotePointerButton&&ye.remotePointerButton[Lt]==="down"&&(Ye.beginPath(),Ye.arc(qt,sr,15,0,2*Math.PI,!1),Ye.lineWidth=3,Ye.strokeStyle="#ffffff88",Ye.stroke(),Ye.closePath(),Ye.beginPath(),Ye.arc(qt,sr,15,0,2*Math.PI,!1),Ye.lineWidth=1,Ye.strokeStyle=Sr,Ye.stroke(),Ye.closePath()),Ye.fillStyle=b.white,Ye.strokeStyle=b.white,Ye.lineWidth=6,Ye.lineJoin="round",Ye.beginPath(),Ye.moveTo(qt,sr),Ye.lineTo(qt+0,sr+14),Ye.lineTo(qt+4,sr+9),Ye.lineTo(qt+11,sr+8),Ye.closePath(),Ye.stroke(),Ye.fill(),Ye.fillStyle=Sr,Ye.strokeStyle=Sr,Ye.lineWidth=2,Ye.lineJoin="round",Ye.beginPath(),zr?(Ye.moveTo(qt-1,sr-1),Ye.lineTo(qt-1,sr+15),Ye.lineTo(qt+5,sr+10),Ye.lineTo(qt+12,sr+9),Ye.closePath(),Ye.fill()):(Ye.moveTo(qt,sr),Ye.lineTo(qt+0,sr+14),Ye.lineTo(qt+4,sr+9),Ye.lineTo(qt+11,sr+8),Ye.closePath(),Ye.fill(),Ye.stroke());var pr=ye.remotePointerUsernames[Lt]||"";if(!cr&&pr){Ye.font="600 12px sans-serif";var Ft=qt+5.5,or=sr+14+2,rr=Ye.measureText(pr),Or=rr.actualBoundingBoxDescent+rr.actualBoundingBoxAscent,Kr=Math.max(Or,12),Xr=Ft-1,cn=or-1,en=rr.width+2+10+2,ur=Kr+2+6+2;Ye.roundRect?(Ye.beginPath(),Ye.roundRect(Xr,cn,en,ur,8),Ye.fillStyle=Sr,Ye.fill(),Ye.strokeStyle=b.white,Ye.stroke()):N(Ye,Xr,cn,en,ur,8,b.white),Ye.fillStyle=b.black,Ye.fillText(pr,Ft+5+1,or+3+rr.actualBoundingBoxAscent+Math.floor((Kr-Or)/2)+2)}Ye.restore(),Ye.closePath()}return ye.renderScrollbars&&(ht=(0,M.tJ)(z,Qe,rt,ce),Ye.save(),Ye.fillStyle=M.w1,Ye.strokeStyle="rgba(255,255,255,0.8)",[ht.horizontal,ht.vertical].forEach(function(Dt){Dt&&N(Ye,Dt.x,Dt.y,Dt.width,Dt.height,M.nn/2)}),Ye.restore()),{scrollBars:ht,atLeastOneVisibleElement:Y.length>0,elements:z}},fe=function(Z){var u=Z.canvas,g=Z.rc,z=Z.elements,Y=Z.visibleElements,te=Z.scale,ae=Z.appState,ce=Z.renderConfig;if(u!==null){var ye=ce.renderGrid,je=ye===void 0||ye,Be=ce.isExporting,Qe=X(u,te),rt=(0,k.Z)(Qe,2),Ye=rt[0],tt=rt[1],ht=le({canvas:u,scale:te,normalizedWidth:Ye,normalizedHeight:tt,theme:ae.theme,isExporting:Be,viewBackgroundColor:ae.viewBackgroundColor});ht.scale(ae.zoom.value,ae.zoom.value),je&&ae.gridSize&&function(Ue,Ce,Le,et,ft,xt,wt){var Rt;(function(Zt){Zt.Bold="#cccccc",Zt.Regular="#e5e5e5"})(Rt||(Rt={}));var It=-Math.round(ft.value/Ce)*Ce+Le%Ce,At=-Math.round(ft.value/Ce)*Ce+et%Ce,Xt=Math.min(1/ft.value,1),tr=1/ft.value,Gt=[3*Xt,tr+(Xt+tr)];Ue.save(),Ue.lineWidth=Xt;for(var Jt=It;Jt<It+xt+2*Ce;Jt+=Ce){var gr=Math.round(Jt-Le)%(5*Ce)==0;Ue.beginPath(),Ue.setLineDash(gr?[]:Gt),Ue.strokeStyle=gr?Rt.Bold:Rt.Regular,Ue.moveTo(Jt,At-Ce),Ue.lineTo(Jt,At+wt+2*Ce),Ue.stroke()}for(var Pt=At;Pt<At+wt+2*Ce;Pt+=Ce){var St=Math.round(Pt-et)%(5*Ce)==0;Ue.beginPath(),Ue.setLineDash(St?[]:Gt),Ue.strokeStyle=St?Rt.Bold:Rt.Regular,Ue.moveTo(It-Ce,Pt),Ue.lineTo(It+xt+2*Ce,Pt),Ue.stroke()}Ue.restore()}(ht,ae.gridSize,ae.scrollX,ae.scrollY,ae.zoom,Ye/ae.zoom.value,tt/ae.zoom.value);var gt=new Set;Y.forEach(function(Ue){Ue.groupIds.length>0&&ae.frameToHighlight&&ae.selectedElementIds[Ue.id]&&((0,R.cO)(Ue,ae.frameToHighlight)||Ue.groupIds.find(function(Ce){return gt.has(Ce)}))&&Ue.groupIds.forEach(function(Ce){return gt.add(Ce)})}),Y.filter(function(Ue){return!(0,O.uU)(Ue)}).forEach(function(Ue){try{var Ce;if((Ue.frameId||!((Ce=ae.frameToHighlight)===null||Ce===void 0)&&Ce.id)&&ae.frameRendering.enabled&&ae.frameRendering.clip){ht.save();var Le=(0,R.cH)(Ue,ae);Le&&(0,R.Qs)(Ue,z,ae)&&F(Le,ht,0,ae),(0,f.lw)(Ue,g,ht,ce,ae),ht.restore()}else(0,f.lw)(Ue,g,ht,ce,ae);Be||Ee(Ue,ht,ae)}catch(et){console.error(et)}}),Y.filter(function(Ue){return(0,O.uU)(Ue)}).forEach(function(Ue){try{var Ce,Le=function(){if((0,f.lw)(Ue,g,ht,ce,ae),(0,B.gs)(Ue)&&(Be||!Ue.validated)&&Ue.width&&Ue.height){var ft=(0,O.g0)(Ue);(0,f.lw)(ft,g,ht,ce,ae)}Be||Ee(Ue,ht,ae)};if((Ue.frameId||!((Ce=ae.frameToHighlight)===null||Ce===void 0)&&Ce.id)&&ae.frameRendering.enabled&&ae.frameRendering.clip){ht.save();var et=(0,R.cH)(Ue,ae);et&&(0,R.Qs)(Ue,z,ae)&&F(et,ht,0,ae),Le(),ht.restore()}else Le()}catch(ft){console.error(ft)}})}},pe=(0,S.hR)(function(Z){var u,g=de(Z);(u=Z.callback)===null||u===void 0||u.call(Z,g)},{trailing:!0}),ne=function(Z,u){if(!u){var g=de(Z);return Z.callback(g),g}pe(Z)},oe=(0,S.hR)(function(Z){fe(Z)},{trailing:!0}),be=function(Z,u){u?oe(Z):fe(Z)},Me=function(){pe.cancel(),oe.cancel()},Ge=function(Z,u,g,z,Y){Object.keys(z).forEach(function(te){var ae=z[te];if(ae!==void 0){var ce=(0,k.Z)(ae,4),ye=ce[0],je=ce[1],Be=ce[2],Qe=ce[3];Z.save(),Z.lineWidth=1/g.zoom.value,u.selectionColor&&(Z.strokeStyle=u.selectionColor),te==="rotation"?U(Z,ye+Be/2,je+Qe/2,Be/2):Z.roundRect?(Z.beginPath(),Z.roundRect(ye,je,Be,Qe,2/g.zoom.value),Z.fill(),Z.stroke()):C(Z,ye,je,Be,Qe,ye+Be/2,je+Qe/2,Y,!0),Z.restore()}})},qe=function(Z,u,g){var z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:2*m,Y=g.angle,te=g.elementX1,ae=g.elementY1,ce=g.elementX2,ye=g.elementY2,je=g.selectionColors,Be=g.cx,Qe=g.cy,rt=g.dashed,Ye=g.activeEmbeddable,tt=ce-te,ht=ye-ae,gt=z/u.zoom.value,Ue=8/u.zoom.value,Ce=4/u.zoom.value;Z.save(),Z.translate(u.scrollX,u.scrollY),Z.lineWidth=(Ye?4:1)/u.zoom.value;for(var Le=je.length,et=0;et<Le;++et)Z.strokeStyle=je[et],rt&&Z.setLineDash([Ue,Ce+(Ue+Ce)*(Le-1)]),Z.lineDashOffset=(Ue+Ce)*et,C(Z,te-gt,ae-gt,tt+2*gt,ht+2*gt,Be,Qe,Y);Z.restore()},Ne=function(Z,u,g){var z=Array.isArray(g)?Ie:Pe;Z.save(),Z.translate(u.scrollX,u.scrollY),z(Z,g),Z.restore()},Pe=function(Z,u){var g=(0,w.qf)(u),z=(0,k.Z)(g,4),Y=z[0],te=z[1],ae=z[2]-Y,ce=z[3]-te,ye=(0,H.fb)(u,ae,ce);Z.strokeStyle="rgba(0,0,0,.05)",Z.lineWidth=ye-4;var je=2+ye/2;switch(u.type){case"rectangle":case"text":case"image":case"embeddable":case"frame":C(Z,Y-je,te-je,ae+2*je,ce+2*je,Y+ae/2,te+ce/2,u.angle);break;case"diamond":var Be=Math.hypot(ae,ce);(function(Qe,rt,Ye,tt,ht,gt){Qe.save(),Qe.translate(tt,ht),Qe.rotate(gt),Qe.beginPath(),Qe.moveTo(0,Ye/2),Qe.lineTo(rt/2,0),Qe.lineTo(0,-Ye/2),Qe.lineTo(-rt/2,0),Qe.closePath(),Qe.stroke(),Qe.restore()})(Z,ae+2*(je*Be/ce),ce+2*(je*Be/ae),Y+ae/2,te+ce/2,u.angle);break;case"ellipse":(function(Qe,rt,Ye,tt,ht,gt){Qe.beginPath(),Qe.ellipse(tt,ht,rt/2,Ye/2,gt,0,2*Math.PI),Qe.stroke()})(Z,ae+2*je,ce+2*je,Y+ae/2,te+ce/2,u.angle)}},Re=function(Z,u,g){var z=(0,w.qf)(g),Y=(0,k.Z)(z,4),te=Y[0],ae=Y[1],ce=Y[2]-te,ye=Y[3]-ae;Z.strokeStyle="rgb(0,118,255)",Z.lineWidth=q.iG.strokeWidth/u.zoom.value,Z.save(),Z.translate(u.scrollX,u.scrollY),C(Z,te,ae,ce,ye,te+ce/2,ae+ye/2,g.angle,!1,q.iG.radius/u.zoom.value),Z.restore()},Ze=function(Z,u,g){var z=g.filter(function(ae){return ae.groupIds.length===0}),Y=g.filter(function(ae){return ae.groupIds.length>0}),te=function(ae){var ce=(0,w.KP)(ae),ye=(0,k.Z)(ce,4),je=ye[0],Be=ye[1],Qe=ye[2],rt=ye[3];return{angle:0,elementX1:je,elementX2:Qe,elementY1:Be,elementY2:rt,selectionColors:["rgb(0,118,255)"],dashed:!1,cx:je+(Qe-je)/2,cy:Be+(rt-Be)/2,activeEmbeddable:!1}};Object.entries((0,L.yR)(Y,u)).filter(function(ae){var ce=(0,k.Z)(ae,2);return ce[0],ce[1]}).map(function(ae){var ce=(0,k.Z)(ae,2),ye=ce[0];return ce[1],ye}).map(function(ae){return function(ce){var ye=(0,L.Fb)(g,ce);return te(ye)}(ae)}).concat(z.map(function(ae){return te([ae])})).forEach(function(ae){return qe(Z,u,ae)})},Ie=function(Z,u){var g=(0,k.Z)(u,3),z=g[0],Y=g[1],te=g[2],ae=(0,H.fb)(te,te.width,te.height);Z.strokeStyle="rgba(0,0,0,0)",Z.fillStyle="rgba(0,0,0,.05)",(Y==="both"?[0,-1]:Y==="start"?[0]:[-1]).forEach(function(ce){var ye=j._.getPointAtIndexGlobalCoordinates(z,ce),je=(0,k.Z)(ye,2),Be=je[0],Qe=je[1];U(Z,Be,Qe,ae)})},Ee=function(Z,u,g){if(Z.link&&!g.selectedElementIds[Z.id]){var z=(0,w.qf)(Z),Y=(0,k.Z)(z,4),te=Y[0],ae=Y[1],ce=Y[2],ye=Y[3],je=(0,ve.sw)([te,ae,ce,ye],Z.angle,g),Be=(0,k.Z)(je,4),Qe=Be[0],rt=Be[1],Ye=Be[2],tt=Be[3],ht=Qe+Ye/2,gt=rt+tt/2;if(u.save(),u.translate(g.scrollX+ht,g.scrollY+gt),u.rotate(Z.angle),h&&h.zoom===g.zoom.value)u.drawImage(h,Qe-ht,rt-gt,Ye,tt);else{(h=document.createElement("canvas")).zoom=g.zoom.value,h.width=Ye*window.devicePixelRatio*g.zoom.value,h.height=tt*window.devicePixelRatio*g.zoom.value;var Ue=h.getContext("2d");Ue.scale(window.devicePixelRatio*g.zoom.value,window.devicePixelRatio*g.zoom.value),Ue.fillStyle="#fff",Ue.fillRect(0,0,Ye,tt),Ue.drawImage(ve.rj,0,0,Ye,tt),Ue.restore(),u.drawImage(h,Qe-ht,rt-gt,Ye,tt)}u.restore()}},xe=function(Z,u,g,z,Y){var te=Y.offsetX,ae=te===void 0?0:te,ce=Y.offsetY,ye=ce===void 0?0:ce,je=Y.exportWithDarkMode,Be=Y.renderEmbeddables,Qe=Y.frameRendering;if(g){var rt={exportWithDarkMode:je,renderEmbeddables:Be,frameRendering:Qe};Z.filter(function(Ye){return!(0,O.uU)(Ye)}).forEach(function(Ye){if(!Ye.isDeleted)try{(0,f.Rg)(Ye,u,g,z,Ye.x+ae,Ye.y+ye,rt)}catch(tt){console.error(tt)}}),Z.filter(function(Ye){return(0,B.gs)(Ye)}).forEach(function(Ye){if(!Ye.isDeleted)try{(0,f.Rg)(Ye,u,g,z,Ye.x+ae,Ye.y+ye,rt)}catch(tt){console.error(tt)}})}}},457:function(We,ue,n){var r=n(1930),A=n(8821),k=n(5169),b=n(7651),w=n(4183),N=n(6264),M=n(4643),f=function(j){return typeof j=="string"},d=function(){function j(){var L=this;(0,A.Z)(this,j),this.callbacks=new Set,this.nonDeletedElements=[],this.elements=[],this.nonDeletedFrames=[],this.frames=[],this.elementsMap=new Map,this.selectedElementsCache={selectedElementIds:null,elements:null,cache:new Map},this.addNewElement=function(H){H.frameId?L.insertElementAtIndex(H,L.getElementIndex(H.frameId)):L.replaceAllElements([].concat((0,r.Z)(L.elements),[H]))}}return(0,k.Z)(j,[{key:"getElementsIncludingDeleted",value:function(){return this.elements}},{key:"getNonDeletedElements",value:function(){return this.nonDeletedElements}},{key:"getFramesIncludingDeleted",value:function(){return this.frames}},{key:"getSelectedElements",value:function(L){var H=function(ve){for(var ke="",Se=0,ge=["includeBoundTextElement","includeElementsInFrames"];Se<ge.length;Se++){var J=ge[Se];ke+="".concat(J,":").concat(ve[J]?"1":"0")}return ke}(L),x=(L==null?void 0:L.elements)||this.nonDeletedElements;if(this.selectedElementsCache.elements===x&&this.selectedElementsCache.selectedElementIds===L.selectedElementIds){var S=this.selectedElementsCache.cache.get(H);if(S)return S}else(L==null?void 0:L.elements)==null&&this.selectedElementsCache.cache.clear();var q=(0,N.eD)(x,{selectedElementIds:L.selectedElementIds},L);return(L==null?void 0:L.elements)==null&&(this.selectedElementsCache.selectedElementIds=L.selectedElementIds,this.selectedElementsCache.elements=this.nonDeletedElements,this.selectedElementsCache.cache.set(H,q)),q}},{key:"getNonDeletedFrames",value:function(){return this.nonDeletedFrames}},{key:"getElement",value:function(L){return this.elementsMap.get(L)||null}},{key:"getVersionNonce",value:function(){return this.versionNonce}},{key:"getNonDeletedElement",value:function(L){var H=this.getElement(L);return H&&(0,b.qP)(H)?H:null}},{key:"mapElements",value:function(L){var H=!1,x=this.elements.map(function(S){var q=L(S);return q!==S&&(H=!0),q});return H&&this.replaceAllElements(x),H}},{key:"replaceAllElements",value:function(L){var H=this;this.elements=L;var x=[];this.elementsMap.clear(),L.forEach(function(S){(0,w.He)(S)&&x.push(S),H.elementsMap.set(S.id,S),j.mapElementToScene(S,H)}),this.nonDeletedElements=(0,b.Lm)(this.elements),this.frames=x,this.nonDeletedFrames=(0,b.Xf)(this.frames),this.informMutation()}},{key:"informMutation",value:function(){this.versionNonce=(0,M.LU)();for(var L=0,H=Array.from(this.callbacks);L<H.length;L++)(0,H[L])()}},{key:"addCallback",value:function(L){var H=this;if(this.callbacks.has(L))throw new Error;return this.callbacks.add(L),function(){if(!H.callbacks.has(L))throw new Error;H.callbacks.delete(L)}}},{key:"destroy",value:function(){var L=this;this.nonDeletedElements=[],this.elements=[],this.nonDeletedFrames=[],this.frames=[],this.elementsMap.clear(),this.selectedElementsCache.selectedElementIds=null,this.selectedElementsCache.elements=null,this.selectedElementsCache.cache.clear(),j.sceneMapById.forEach(function(H,x){H===L&&j.sceneMapById.delete(x)}),this.callbacks.clear()}},{key:"insertElementAtIndex",value:function(L,H){if(!Number.isFinite(H)||H<0)throw new Error("insertElementAtIndex can only be called with index >= 0");var x=[].concat((0,r.Z)(this.elements.slice(0,H)),[L],(0,r.Z)(this.elements.slice(H)));this.replaceAllElements(x)}},{key:"insertElementsAtIndex",value:function(L,H){if(!Number.isFinite(H)||H<0)throw new Error("insertElementAtIndex can only be called with index >= 0");var x=[].concat((0,r.Z)(this.elements.slice(0,H)),(0,r.Z)(L),(0,r.Z)(this.elements.slice(H)));this.replaceAllElements(x)}},{key:"getElementIndex",value:function(L){return this.elements.findIndex(function(H){return H.id===L})}}],[{key:"mapElementToScene",value:function(L,H){var x=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(f(L)){if(!x)return;this.sceneMapById.set(L,H)}else this.sceneMapByElement.set(L,H),x||this.sceneMapById.set(L.id,H)}},{key:"getScene",value:function(L){return f(L)?this.sceneMapById.get(L)||null:this.sceneMapByElement.get(L)||null}}]),j}();d.sceneMapByElement=new WeakMap,d.sceneMapById=new Map,ue.Z=d},6049:function(We,ue,n){n.d(ue,{Z:function(){return ke},i:function(){return ge}});var r=n(1930),A=n(2577),k=n(7169),b=n(7651),w=n(2361),N=n(9660),M=n(9827),f=n(1493),d=n(9937),j=n(4183),L=n(1648);function H(J,Q){var K=Object.keys(J);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(J);Q&&(T=T.filter(function(B){return Object.getOwnPropertyDescriptor(J,B).enumerable})),K.push.apply(K,T)}return K}function x(J){for(var Q=1;Q<arguments.length;Q++){var K=arguments[Q]!=null?arguments[Q]:{};Q%2?H(Object(K),!0).forEach(function(T){(0,k.Z)(J,T,K[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(J,Object.getOwnPropertyDescriptors(K)):H(Object(K)).forEach(function(T){Object.defineProperty(J,T,Object.getOwnPropertyDescriptor(K,T))})}return J}var S=function(J){return[8,8+J]},q=function(J){return[1.5,6+J]};function ve(J){var Q=J.roughness,K=Math.max(J.width,J.height),T=Math.min(J.width,J.height);return T>=20&&K>=50||T>=15&&J.roundness&&(0,L.sh)(J.type)||(0,j.bt)(J)&&K>=50?Q:Math.min(Q/(K<10?3:2),2.5)}var ke=function(J){var Q=arguments.length>1&&arguments[1]!==void 0&&arguments[1],K={seed:J.seed,strokeLineDash:J.strokeStyle==="dashed"?S(J.strokeWidth):J.strokeStyle==="dotted"?q(J.strokeWidth):void 0,disableMultiStroke:J.strokeStyle!=="solid",strokeWidth:J.strokeStyle!=="solid"?J.strokeWidth+.5:J.strokeWidth,fillWeight:J.strokeWidth/2,hachureGap:4*J.strokeWidth,roughness:ve(J),stroke:J.strokeColor,preserveVertices:Q||J.roughness<d.$h.cartoonist};switch(J.type){case"rectangle":case"embeddable":case"diamond":case"ellipse":return K.fillStyle=J.fillStyle,K.fill=(0,M.Qm)(J.backgroundColor)?void 0:J.backgroundColor,J.type==="ellipse"&&(K.curveFitting=1),K;case"line":case"freedraw":return(0,w.g6)(J.points)&&(K.fillStyle=J.fillStyle,K.fill=J.backgroundColor==="transparent"?void 0:J.backgroundColor),K;case"arrow":return K;default:throw new Error("Unimplemented type ".concat(J.type))}},Se=function(J,Q){return J.type==="embeddable"&&(Q||!J.validated)&&(0,M.Qm)(J.backgroundColor)&&(0,M.Qm)(J.strokeColor)?x(x({},J),{},{roughness:0,backgroundColor:"#d3d3d3",fillStyle:"solid"}):J},ge=function(J,Q){var K=arguments.length>2&&arguments[2]!==void 0&&arguments[2];switch(J.type){case"rectangle":case"embeddable":var T;if(J.roundness){var B=J.width,O=J.height,R=(0,w.yW)(Math.min(B,O),J);T=Q.path("M ".concat(R," 0 L ").concat(B-R," 0 Q ").concat(B," 0, ").concat(B," ").concat(R," L ").concat(B," ").concat(O-R," Q ").concat(B," ").concat(O,", ").concat(B-R," ").concat(O," L ").concat(R," ").concat(O," Q 0 ").concat(O,", 0 ").concat(O-R," L 0 ").concat(R," Q 0 0, ").concat(R," 0"),ke(Se(J,K),!0))}else T=Q.rectangle(0,0,J.width,J.height,ke(Se(J,K),!1));return T;case"diamond":var E,v=(0,b.UC)(J),i=(0,A.Z)(v,8),a=i[0],y=i[1],h=i[2],m=i[3],C=i[4],U=i[5],V=i[6],D=i[7];if(J.roundness){var P=(0,w.yW)(Math.abs(a-V),J),F=(0,w.yW)(Math.abs(m-y),J);E=Q.path("M ".concat(a+P," ").concat(y+F," L ").concat(h-P," ").concat(m-F,`
            C `).concat(h," ").concat(m,", ").concat(h," ").concat(m,", ").concat(h-P," ").concat(m+F,`
            L `).concat(C+P," ").concat(U-F,`
            C `).concat(C," ").concat(U,", ").concat(C," ").concat(U,", ").concat(C-P," ").concat(U-F,`
            L `).concat(V+P," ").concat(D+F,`
            C `).concat(V," ").concat(D,", ").concat(V," ").concat(D,", ").concat(V+P," ").concat(D-F,`
            L `).concat(a-P," ").concat(y+F,`
            C `).concat(a," ").concat(y,", ").concat(a," ").concat(y,", ").concat(a+P," ").concat(y+F),ke(J,!0))}else E=Q.polygon([[a,y],[h,m],[C,U],[V,D]],ke(J));return E;case"ellipse":var X=Q.ellipse(J.width/2,J.height/2,J.width,J.height,ke(J));return X;case"line":case"arrow":var le,de=ke(J),fe=J.points.length?J.points:[[0,0]];if(le=J.roundness?[Q.curve(fe,de)]:de.fill?[Q.polygon(fe,de)]:[Q.linearPath(fe,de)],J.type==="arrow"){var pe=J.startArrowhead,ne=pe===void 0?null:pe,oe=J.endArrowhead,be=oe===void 0?"arrow":oe,Me=function(Ee,xe,Z,u){var g=(0,b.Y5)(Ee,xe,Z,u);if(g===null)return[];if(u==="dot"){var z=(0,A.Z)(g,3),Y=z[0],te=z[1],ae=z[2];return[Q.circle(Y,te,ae,x(x({},de),{},{fill:Ee.strokeColor,fillStyle:"solid",stroke:"none"}))]}if(u==="triangle"){var ce=(0,A.Z)(g,6),ye=ce[0],je=ce[1],Be=ce[2],Qe=ce[3],rt=ce[4],Ye=ce[5];return delete de.strokeLineDash,[Q.polygon([[ye,je],[Be,Qe],[rt,Ye],[ye,je]],x(x({},de),{},{fill:Ee.strokeColor,fillStyle:"solid"}))]}var tt=(0,A.Z)(g,6),ht=tt[0],gt=tt[1],Ue=tt[2],Ce=tt[3],Le=tt[4],et=tt[5];if(Ee.strokeStyle==="dotted"){var ft=q(Ee.strokeWidth-1);de.strokeLineDash=[ft[0],ft[1]-1]}else delete de.strokeLineDash;return[Q.line(Ue,Ce,ht,gt,de),Q.line(Le,et,ht,gt,de)]};if(ne!==null){var Ge,qe=Me(J,le,"start",ne);(Ge=le).push.apply(Ge,(0,r.Z)(qe))}if(be!==null){var Ne,Pe=Me(J,le,"end",be);(Ne=le).push.apply(Ne,(0,r.Z)(Pe))}}return le;case"freedraw":var Re;if((0,N.Lc)(J),(0,w.g6)(J.points)){var Ze=(0,f.og)(J.points,.75);Re=Q.curve(Ze,x(x({},ke(J)),{},{stroke:"none"}))}else Re=null;return Re;case"frame":case"text":case"image":var Ie=null;return Ie;default:return(0,M.vE)(J,"generateElementShape(): Unimplemented type ".concat(J==null?void 0:J.type)),null}}},2921:function(We,ue,n){n.d(ue,{R:function(){return N}});var r=n(5169),A=n(8821),k=n(8128),b=n(9660),w=n(6049),N=(0,r.Z)(function M(){(0,A.Z)(this,M)});N.rg=new k.V,N.cache=new WeakMap,N.get=function(M){return N.cache.get(M)},N.set=function(M,f){return N.cache.set(M,f)},N.delete=function(M){return N.cache.delete(M)},N.destroy=function(){N.cache=new WeakMap},N.generateElementShape=function(M){var f=arguments.length>1&&arguments[1]!==void 0&&arguments[1],d=f?void 0:N.get(M);if(d!==void 0)return d;b.Xx.delete(M);var j=(0,w.i)(M,N.rg,f);return N.cache.set(M,j),j}},1648:function(We,ue,n){n.d(ue,{$b:function(){return A},CJ:function(){return d},M9:function(){return w},PD:function(){return k},QG:function(){return f},Un:function(){return M},Zd:function(){return b},sh:function(){return N}});var r=n(4183),A=function(j){return j==="rectangle"||j==="embeddable"||j==="ellipse"||j==="diamond"||j==="line"||j==="freedraw"},k=function(j){return j!=="image"&&j!=="frame"},b=function(j){return j==="rectangle"||j==="embeddable"||j==="ellipse"||j==="diamond"||j==="freedraw"||j==="arrow"||j==="line"},w=function(j){return j==="rectangle"||j==="embeddable"||j==="ellipse"||j==="diamond"||j==="arrow"||j==="line"},N=function(j){return j==="rectangle"||j==="embeddable"||j==="arrow"||j==="line"||j==="diamond"},M=function(j){return j==="arrow"},f=function(j,L){for(var H=null,x=j.length-1;x>=0;--x){var S=j[x];if(!S.isDeleted&&L(S)){H=S;break}}return H},d=function(j,L){var H=[];return j.filter(function(x){return!(x.isDeleted||!L(x))&&(!(0,r.gs)(x)||(H.push(x),!1))}).concat(H)}},3668:function(We,ue,n){n.d(ue,{$D:function(){return v},Cg:function(){return a},NL:function(){return E}});var r=n(7169),A=n(2577),k=n(8950),b=n(2975),w=n.n(b),N=n(9845),M=n(4949),f=n(7766),d=n(9827),j=n(9937),L=n(6853),H=n(4419),x=n(4178),S=n(6013),q=n(4682),ve=n(7651),ke=n(583),Se=n(457);function ge(y,h){var m=Object.keys(y);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(y);h&&(C=C.filter(function(U){return Object.getOwnPropertyDescriptor(y,U).enumerable})),m.push.apply(m,C)}return m}function J(y){for(var h=1;h<arguments.length;h++){var m=arguments[h]!=null?arguments[h]:{};h%2?ge(Object(m),!0).forEach(function(C){(0,r.Z)(y,C,m[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(m)):ge(Object(m)).forEach(function(C){Object.defineProperty(y,C,Object.getOwnPropertyDescriptor(m,C))})}return y}function Q(y,h){var m=typeof Symbol<"u"&&y[Symbol.iterator]||y["@@iterator"];if(!m){if(Array.isArray(y)||(m=function(F,X){if(F){if(typeof F=="string")return K(F,X);var le=Object.prototype.toString.call(F).slice(8,-1);if(le==="Object"&&F.constructor&&(le=F.constructor.name),le==="Map"||le==="Set")return Array.from(F);if(le==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(le))return K(F,X)}}(y))||h){m&&(y=m);var C=0,U=function(){};return{s:U,n:function(){return C>=y.length?{done:!0}:{done:!1,value:y[C++]}},e:function(F){throw F},f:U}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var V,D=!0,P=!1;return{s:function(){m=m.call(y)},n:function(){var F=m.next();return D=F.done,F},e:function(F){P=!0,V=F},f:function(){try{D||m.return==null||m.return()}finally{if(P)throw V}}}}function K(y,h){(h==null||h>y.length)&&(h=y.length);for(var m=0,C=new Array(h);m<h;m++)C[m]=y[m];return C}var T=function(y){var h=new Se.Z;return h.replaceAllElements((0,d.xU)(y),!1),h},B=function(y,h){if(y.width<=h)return y;var m=document.createElement("canvas").getContext("2d");m.font=(0,d.mO)({fontFamily:y.fontFamily,fontSize:y.fontSize});var C=y.text;if(m.measureText(C).width>h)for(var U=C.length;U>0;U--){var V="".concat(C.slice(0,U),"...");if(m.measureText(V).width<=h){C=V;break}}return(0,ke.BE)(y,{text:C,width:h})},O=function(y,h){return h=h||(0,L.im)().frameRendering,{enabled:!!y||h.enabled,outline:!y&&h.outline,name:!y&&h.name,clip:!!y||h.clip}},R=function(y){var h=y.elements,m=y.exportingFrame,C=y.frameRendering,U=y.exportWithDarkMode;return m?(0,S.Xs)({elements:h,bounds:m,type:"overlap"}):C.enabled&&C.name?function(V,D){var P,F=[],X=0,le=Q(V);try{for(le.s();!(P=le.n()).done;){var de=P.value;if((0,ve.He)(de)){X++;var fe=(0,ve.VL)({x:de.x,y:de.y-j.iG.nameOffsetY,fontFamily:j.ut.Assistant,fontSize:j.iG.nameFontSize,lineHeight:j.iG.nameLineHeight,strokeColor:D.exportWithDarkMode?j.iG.nameColorDarkTheme:j.iG.nameColorLightTheme,text:de.name||"Frame ".concat(X)});fe.y-=fe.height,fe=B(fe,de.width),F.push(fe)}F.push(de)}}catch(pe){le.e(pe)}finally{le.f()}return F}(h,{exportWithDarkMode:U}):h},E=function(){var y=(0,k.Z)(w().mark(function h(m,C,U,V){var D,P,F,X,le,de,fe,pe,ne,oe,be,Me,Ge,qe,Ne,Pe,Re,Ze,Ie,Ee,xe,Z,u,g=arguments;return w().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return P=V.exportBackground,F=V.exportPadding,X=F===void 0?j.qy:F,le=V.viewBackgroundColor,de=V.exportingFrame,fe=g.length>4&&g[4]!==void 0?g[4]:function(Y,te){var ae=document.createElement("canvas");return ae.width=Y*C.exportScale,ae.height=te*C.exportScale,{canvas:ae,scale:C.exportScale}},pe=T(m),m=pe.getNonDeletedElements(),ne=O(de??null,(D=C.frameRendering)!==null&&D!==void 0?D:null),oe=R({elements:m,exportingFrame:de,exportWithDarkMode:C.exportWithDarkMode,frameRendering:ne}),de&&(X=0),be=i(de?[de]:(0,q._h)(oe),X),Me=(0,A.Z)(be,4),Ge=Me[0],qe=Me[1],Ne=Me[2],Pe=Me[3],Re=fe(Ne,Pe),Ze=Re.canvas,Ie=Re.scale,Ee=Ie===void 0?1:Ie,xe=(0,L.im)(),z.next=12,(0,x.Xx)({imageCache:new Map,fileIds:(0,x.oA)(oe).map(function(Y){return Y.fileId}),files:U});case 12:return Z=z.sent,u=Z.imageCache,(0,f.AW)({canvas:Ze,rc:N.Z.canvas(Ze),elements:oe,visibleElements:oe,scale:Ee,appState:J(J({},C),{},{frameRendering:ne,viewBackgroundColor:P?le:null,scrollX:-Ge+X,scrollY:-qe+X,zoom:xe.zoom,shouldCacheIgnoreZoom:!1,theme:C.exportWithDarkMode?"dark":"light"}),renderConfig:{imageCache:u,renderGrid:!1,isExporting:!0}}),pe.destroy(),z.abrupt("return",Ze);case 17:case"end":return z.stop()}},h)}));return function(h,m,C,U){return y.apply(this,arguments)}}(),v=function(){var y=(0,k.Z)(w().mark(function h(m,C,U,V){var D,P,F,X,le,de,fe,pe,ne,oe,be,Me,Ge,qe,Ne,Pe,Re,Ze,Ie,Ee,xe,Z,u,g,z,Y,te,ae,ce,ye,je,Be,Qe,rt,Ye,tt,ht,gt,Ue,Ce,Le,et,ft;return w().wrap(function(xt){for(;;)switch(xt.prev=xt.next){case 0:if(X=T(m),m=X.getNonDeletedElements(),le=O((D=V==null?void 0:V.exportingFrame)!==null&&D!==void 0?D:null,(P=C.frameRendering)!==null&&P!==void 0?P:null),de=C.exportPadding,fe=de===void 0?j.qy:de,pe=C.exportWithDarkMode,ne=pe!==void 0&&pe,oe=C.viewBackgroundColor,be=C.exportScale,Me=be===void 0?1:be,Ge=C.exportEmbedScene,qe=(V||{}).exportingFrame,Pe=R({elements:m,exportingFrame:Ne=qe===void 0?null:qe,exportWithDarkMode:ne,frameRendering:le}),Ne&&(fe=0),Re="",!Ge){xt.next=20;break}return xt.prev=9,xt.next=12,Promise.resolve().then(n.bind(n,250));case 12:return xt.next=14,xt.sent.encodeSvgMetadata({text:(0,H.I_)(m,C,U||{},"local")});case 14:Re=xt.sent,xt.next=20;break;case 17:xt.prev=17,xt.t0=xt.catch(9),console.error(xt.t0);case 20:Ze=i(Ne?[Ne]:(0,q._h)(Pe),fe),Ie=(0,A.Z)(Ze,4),Ee=Ie[0],xe=Ie[1],Z=Ie[2],u=Ie[3],(g=document.createElementNS(j.hR,"svg")).setAttribute("version","1.1"),g.setAttribute("xmlns",j.hR),g.setAttribute("viewBox","0 0 ".concat(Z," ").concat(u)),g.setAttribute("width","".concat(Z*Me)),g.setAttribute("height","".concat(u*Me)),ne&&g.setAttribute("filter",j.ZF),z="https://excalidraw.com/",z=window.EXCALIDRAW_ASSET_PATH||"https://unpkg.com/".concat("@excalidraw/excalidraw","@").concat({}.PKG_VERSION),(Y=z)!==null&&Y!==void 0&&Y.startsWith("/")&&(z=z.replace("/","".concat(window.location.origin,"/"))),z="".concat(z,"/dist/excalidraw-assets/"),te=-Ee+fe,ae=-xe+fe,ce=(0,q.wO)(m),ye="",je=Q(ce);try{for(je.s();!(Be=je.n()).done;)Qe=Be.value,rt=(0,M.qf)(Qe),Ye=(0,A.Z)(rt,4),tt=Ye[0],ht=Ye[1],gt=Ye[2],Ue=Ye[3],Ce=(gt-tt)/2-(Qe.x-tt),Le=(Ue-ht)/2-(Qe.y-ht),ye+="<clipPath id=".concat(Qe.id,`>
            <rect transform="translate(`).concat(Qe.x+te," ").concat(Qe.y+ae,") rotate(").concat(Qe.angle," ").concat(Ce," ").concat(Le,`)"
          width="`).concat(Qe.width,`"
          height="`).concat(Qe.height,`"
          >
          </rect>
        </clipPath>`)}catch(wt){je.e(wt)}finally{je.f()}return g.innerHTML=`
  `.concat("<!-- svg-source:excalidraw -->",`
  `).concat(Re,`
  <defs>
    <style class="style-fonts">
      @font-face {
        font-family: "Virgil";
        src: url("`).concat(z,`Virgil.woff2");
      }
      @font-face {
        font-family: "Cascadia";
        src: url("`).concat(z,`Cascadia.woff2");
      }
      @font-face {
        font-family: "Assistant";
        src: url("`).concat(z,`Assistant-Regular.woff2");
      }
    </style>
    `).concat(ye,`
  </defs>
  `),C.exportBackground&&oe&&((et=g.ownerDocument.createElementNS(j.hR,"rect")).setAttribute("x","0"),et.setAttribute("y","0"),et.setAttribute("width","".concat(Z)),et.setAttribute("height","".concat(u)),et.setAttribute("fill",oe),g.appendChild(et)),ft=N.Z.svg(g),(0,f.M_)(Pe,ft,g,U||{},{offsetX:te,offsetY:ae,exportWithDarkMode:ne,renderEmbeddables:(F=V==null?void 0:V.renderEmbeddables)!==null&&F!==void 0&&F,frameRendering:le}),X.destroy(),xt.abrupt("return",g);case 42:case"end":return xt.stop()}},h,null,[[9,17]])}));return function(h,m,C,U){return y.apply(this,arguments)}}(),i=function(y,h){var m=(0,M.KP)(y),C=(0,A.Z)(m,4),U=C[0],V=C[1],D=C[2],P=C[3];return[U,V,(0,d.TE)(U,D)+2*h,(0,d.TE)(V,P)+2*h]},a=function(y,h,m){var C=i(y,h).map(function(V){return Math.trunc(V*m)}),U=(0,A.Z)(C,4);return[U[2],U[3]]}},4105:function(We,ue,n){n.d(ue,{$b:function(){return b.$b},CJ:function(){return b.CJ},M9:function(){return b.M9},N:function(){return A.N},PR:function(){return A.PR},QG:function(){return b.QG},Un:function(){return b.Un},W:function(){return k.W},Yp:function(){return A.Yp},Zd:function(){return b.Zd},Zs:function(){return A.Zs},_4:function(){return r._4},eD:function(){return A.eD},j:function(){return w.j},sh:function(){return b.sh}});var r=n(4726),A=n(6264),k=n(2382),b=n(1648),w=n(4116)},2382:function(We,ue,n){n.d(ue,{W:function(){return w},s:function(){return b}});var r=n(2577),A=n(7651),k=n(9827),b=function(N){var M=N.scenePoint,f=N.viewportDimensions,d=N.zoom;return{scrollX:f.width/2/d.value-M.x,scrollY:f.height/2/d.value-M.y}},w=function(N,M){if(!(N=(0,A.n_)(N)).length)return{scrollX:0,scrollY:0};var f=(0,A.KP)(N),d=(0,r.Z)(f,4),j=d[0],L=d[1],H=d[2],x=d[3];if(function(ve,ke){var Se=(0,r.Z)(ke,4),ge=Se[0],J=Se[1],Q=Se[2],K=Se[3],T=(0,k._i)({sceneX:ge,sceneY:J},ve),B=T.x,O=T.y,R=(0,k._i)({sceneX:Q,sceneY:K},ve),E=R.x,v=R.y;return E-B>ve.width||v-O>ve.height}(M,[j,L,H,x])){var S=(0,A.os)(N,(0,k.dE)({clientX:M.scrollX,clientY:M.scrollY},M)),q=(0,r.Z)(S,4);j=q[0],L=q[1],H=q[2],x=q[3]}return b({scenePoint:{x:(j+H)/2,y:(L+x)/2},viewportDimensions:{width:M.width,height:M.height},zoom:M.zoom})}},4726:function(We,ue,n){n.d(ue,{WM:function(){return w},_4:function(){return d},nn:function(){return N},tJ:function(){return f},w1:function(){return M}});var r=n(2577),A=n(7651),k=n(9827),b=n(8227),w=4,N=6,M="rgba(0,0,0,0.3)",f=function(j,L,H,x){if(j.length===0)return{horizontal:null,vertical:null};var S=(0,A.KP)(j),q=(0,r.Z)(S,4),ve=q[0],ke=q[1],Se=q[2],ge=q[3],J=L/x.zoom.value,Q=H/x.zoom.value,K=L-J,T=H-Q,B={top:parseInt((0,k.IH)("sat"))||0,bottom:parseInt((0,k.IH)("sab"))||0,left:parseInt((0,k.IH)("sal"))||0,right:parseInt((0,k.IH)("sar"))||0},O=(0,b.G3)().rtl,R=-x.scrollX+K/2+B.left,E=-x.scrollY+T/2+B.top,v=R+J-B.right,i=E+Q-B.bottom,a=Math.min(ve,R),y=Math.min(ke,E),h=Math.max(Se,v),m=Math.max(ge,i);return{horizontal:R===a&&v===h?null:{x:Math.max(B.left,w)+(R-a)/(h-a)*L,y:H-N-Math.max(w,B.bottom),width:(v-R)/(h-a)*L-Math.max(2*w,B.left+B.right),height:N},vertical:E===y&&i===m?null:{x:O?Math.max(B.left,w):L-N-Math.max(B.right,w),y:(E-y)/(m-y)*H+Math.max(B.top,w),width:N,height:(i-E)/(m-y)*H-Math.max(2*w,B.top+B.bottom)}}},d=function(j,L,H){var x=[j.horizontal,j.vertical].map(function(ke){return ke!=null&&ke.x<=L&&L<=ke.x+ke.width&&ke.y<=H&&H<=ke.y+ke.height}),S=(0,r.Z)(x,2),q=S[0],ve=S[1];return{isOverEither:q||ve,isOverHorizontal:q,isOverVertical:ve}}},6264:function(We,ue,n){n.d(ue,{CF:function(){return x},N:function(){return S},Oh:function(){return Se},PR:function(){return q},Yp:function(){return H},Zs:function(){return ke},aI:function(){return L},eD:function(){return ve}});var r,A,k,b,w=n(2577),N=n(7651),M=n(4183),f=n(4682),d=n(9827),j=n(7935),L=function(ge){var J=new Set;return ge.forEach(function(Q){Q.type==="frame"&&J.add(Q.id)}),ge.filter(function(Q){return!Q.frameId||!J.has(Q.frameId)})},H=function(ge,J){var Q=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],K=(0,N.qf)(J),T=(0,w.Z)(K,4),B=T[0],O=T[1],R=T[2],E=T[3],v=ge.filter(function(i){var a=(0,N.Pi)(i),y=(0,w.Z)(a,4),h=y[0],m=y[1],C=y[2],U=y[3],V=(0,f.$Z)(i);if(V){var D=(0,N.Pi)(V),P=(0,w.Z)(D,4),F=P[0],X=P[1],le=P[2],de=P[3];h=Math.max(F,h),m=Math.max(X,m),C=Math.min(le,C),U=Math.min(de,U)}return i.locked===!1&&i.type!=="selection"&&!(0,M.Xh)(i)&&B<=h&&O<=m&&R>=C&&E>=U});return v=(v=Q?L(v):v).filter(function(i){var a=(0,f.$Z)(i);return!a||(0,f.cO)(i,a)})},x=function(ge,J,Q){var K=new Set(J.map(function(T){return T.id}));return ge.filter(function(T){var B=(0,j.PZ)(T,Q.width,Q.height,Q);return!K.has(T.id)&&B})},S=(r=null,A=null,k=null,(b=function(ge,J){return k!=null&&ge===r&&J.selectedElementIds===A||(k=ge.some(function(Q){return J.selectedElementIds[Q.id]}),r=ge,A=J.selectedElementIds),k}).clearCache=function(){r=null,A=null,k=null},b),q=function(ge,J,Q){var K=Array.from(new Set(ve(ge,J).map(function(T){return Q(T)})));return K.length===1?K[0]:null},ve=function(ge,J,Q){var K=ge.filter(function(B){return J.selectedElementIds[B.id]||Q!=null&&Q.includeBoundTextElement&&(0,M.Xh)(B)&&J.selectedElementIds[B==null?void 0:B.containerId]?B:null});if(Q!=null&&Q.includeElementsInFrames){var T=[];return K.forEach(function(B){B.type==="frame"&&(0,f.zD)(ge,B.id).forEach(function(O){return T.push(O)}),T.push(B)}),T}return K},ke=function(ge,J){return J.editingElement?[J.editingElement]:ve(ge,J,{includeBoundTextElement:!0})},Se=function(ge,J){return(0,d.w8)(J.selectedElementIds,ge)?J.selectedElementIds:ge}},4116:function(We,ue,n){n.d(ue,{E:function(){return k},j:function(){return A}});var r=n(9937),A=function(b){return Math.max(r.Zj,Math.min(b,30))},k=function(b,w){var N=b.viewportX,M=b.viewportY,f=b.nextZoom,d=N-w.offsetLeft,j=M-w.offsetTop,L=w.zoom.value;return{scrollX:w.scrollX+(d-d/L)+-(d-d/f),scrollY:w.scrollY+(j-j/L)+-(j-j/f),zoom:{value:f}}}},9827:function(We,ue,n){n.d(ue,{$9:function(){return de},$g:function(){return J},$h:function(){return Pe},AK:function(){return V},B4:function(){return R},C3:function(){return oe},Ds:function(){return K},FG:function(){return D},Fc:function(){return S},G3:function(){return ne},G9:function(){return u},HP:function(){return Z},I4:function(){return Me},IH:function(){return m},Ip:function(){return fe},Mj:function(){return Ee},Om:function(){return i},Oo:function(){return q},Qm:function(){return X},TE:function(){return v},Vv:function(){return B},XF:function(){return g},_Z:function(){return ke},_i:function(){return h},ag:function(){return qe},cx:function(){return P},dE:function(){return y},dZ:function(){return U},h2:function(){return Ge},hR:function(){return T},mO:function(){return Q},qr:function(){return F},qz:function(){return pe},s:function(){return ge},tH:function(){return le},uY:function(){return a},v4:function(){return Ne},vE:function(){return xe},w8:function(){return Ie},wO:function(){return ve},xU:function(){return z},xn:function(){return be},xp:function(){return Ze},y1:function(){return Se},y8:function(){return Re},yo:function(){return E}});var r=n(6655),A=n(7169),k=n(1930),b=n(2577),w=n(9240),N=n(9937),M=n(5156),f=n(9787),d=n.n(f);function j(Y,te){var ae=typeof Symbol<"u"&&Y[Symbol.iterator]||Y["@@iterator"];if(!ae){if(Array.isArray(Y)||(ae=function(rt,Ye){if(rt){if(typeof rt=="string")return L(rt,Ye);var tt=Object.prototype.toString.call(rt).slice(8,-1);if(tt==="Object"&&rt.constructor&&(tt=rt.constructor.name),tt==="Map"||tt==="Set")return Array.from(rt);if(tt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(tt))return L(rt,Ye)}}(Y))||te){ae&&(Y=ae);var ce=0,ye=function(){};return{s:ye,n:function(){return ce>=Y.length?{done:!0}:{done:!1,value:Y[ce++]}},e:function(rt){throw rt},f:ye}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var je,Be=!0,Qe=!1;return{s:function(){ae=ae.call(Y)},n:function(){var rt=ae.next();return Be=rt.done,rt},e:function(rt){Qe=!0,je=rt},f:function(){try{Be||ae.return==null||ae.return()}finally{if(Qe)throw je}}}}function L(Y,te){(te==null||te>Y.length)&&(te=Y.length);for(var ae=0,ce=new Array(te);ae<te;ae++)ce[ae]=Y[ae];return ce}function H(Y,te){var ae=Object.keys(Y);if(Object.getOwnPropertySymbols){var ce=Object.getOwnPropertySymbols(Y);te&&(ce=ce.filter(function(ye){return Object.getOwnPropertyDescriptor(Y,ye).enumerable})),ae.push.apply(ae,ce)}return ae}function x(Y){for(var te=1;te<arguments.length;te++){var ae=arguments[te]!=null?arguments[te]:{};te%2?H(Object(ae),!0).forEach(function(ce){(0,A.Z)(Y,ce,ae[ce])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Y,Object.getOwnPropertyDescriptors(ae)):H(Object(ae)).forEach(function(ce){Object.defineProperty(Y,ce,Object.getOwnPropertyDescriptor(ae,ce))})}return Y}var S=function(){var Y=new Date,te=Y.getFullYear(),ae="".concat(Y.getMonth()+1).padStart(2,"0"),ce="".concat(Y.getDate()).padStart(2,"0"),ye="".concat(Y.getHours()).padStart(2,"0"),je="".concat(Y.getMinutes()).padStart(2,"0");return"".concat(te,"-").concat(ae,"-").concat(ce,"-").concat(ye).concat(je)},q=function(Y){return Y.charAt(0).toUpperCase()+Y.slice(1)},ve=function(Y){return Y instanceof HTMLElement&&Y.className.includes("ToolIcon")},ke=function(Y){return Y instanceof HTMLElement&&Y.dataset.type==="wysiwyg"||Y instanceof HTMLBRElement||Y instanceof HTMLInputElement||Y instanceof HTMLTextAreaElement||Y instanceof HTMLSelectElement},Se=function(Y){return ke(Y)||Y instanceof Element&&!!Y.closest("label, button")},ge=function(Y){return Y instanceof HTMLElement&&Y.dataset.type==="wysiwyg"||Y instanceof HTMLBRElement||Y instanceof HTMLTextAreaElement||Y instanceof HTMLInputElement&&(Y.type==="text"||Y.type==="number")},J=function(Y){for(var te=Y.fontFamily,ae=0,ce=Object.entries(N.ut);ae<ce.length;ae++){var ye=(0,b.Z)(ce[ae],2),je=ye[0];if(ye[1]===te)return"".concat(je,", ").concat(N._D)}return N._D},Q=function(Y){var te=Y.fontSize,ae=Y.fontFamily;return"".concat(te,"px ").concat(J({fontFamily:ae}))},K=function(Y,te){var ae=0,ce=null,ye=function(){for(var je=arguments.length,Be=new Array(je),Qe=0;Qe<je;Qe++)Be[Qe]=arguments[Qe];ce=Be,clearTimeout(ae),ae=window.setTimeout(function(){ce=null,Y.apply(void 0,Be)},te)};return ye.flush=function(){if(clearTimeout(ae),ce){var je=ce;ce=null,Y.apply(void 0,(0,k.Z)(je))}},ye.cancel=function(){ce=null,clearTimeout(ae)},ye},T=function(Y,te){var ae=null,ce=null,ye=null,je=function Qe(rt){ae=window.requestAnimationFrame(function(){ae=null,Y.apply(void 0,(0,k.Z)(rt)),ce=null,ye&&(ce=ye,ye=null,Qe(ce))})},Be=function(){for(var Qe=arguments.length,rt=new Array(Qe),Ye=0;Ye<Qe;Ye++)rt[Ye]=arguments[Ye];ce=rt,ae===null?je(ce):te!=null&&te.trailing&&(ye=rt)};return Be.flush=function(){ae!==null&&(cancelAnimationFrame(ae),ae=null),ce&&(Y.apply(void 0,(0,k.Z)(ye||ce)),ce=ye=null)},Be.cancel=function(){ce=ye=null,ae!==null&&(cancelAnimationFrame(ae),ae=null)},Be},B=function(Y){return 1-Math.pow(1-Y,4)},O=function(Y,te,ae){return(te-Y)*B(ae)+Y},R=function(Y){var te,ae=Y.fromValues,ce=Y.toValues,ye=Y.onStep,je=Y.duration,Be=je===void 0?250:je,Qe=Y.interpolateValue,rt=Y.onStart,Ye=Y.onEnd,tt=Y.onCancel,ht=!1,gt=0;return gt=window.requestAnimationFrame(function Ue(Ce){if(!ht){te===void 0&&(te=Ce,rt==null||rt());var Le=Math.min(Ce-te,Be),et=B(Le/Be),ft={};if(Object.keys(ae).forEach(function(Rt){var It=Rt,At=(ce[It]-ae[It])*et+ae[It];ft[It]=At}),ye(ft),Le<Be){var xt=Le/Be,wt={};Object.keys(ae).forEach(function(Rt){var It,At=Rt,Xt=ae[At],tr=ce[At];(It=Qe?Qe(Xt,tr,xt,At):O(Xt,tr,xt))==null&&(It=O(Xt,tr,xt)),wt[At]=It}),ye(wt),gt=window.requestAnimationFrame(Ue)}else ye(ce),Ye==null||Ye()}}),function(){tt==null||tt(),ht=!0,window.cancelAnimationFrame(gt)}},E=function(Y,te){if(!Y.length||te<1)return[];for(var ae=0,ce=0,ye=Array(Math.ceil(Y.length/te));ae<Y.length;)ye[ce++]=Y.slice(ae,ae+=te);return ye},v=function(Y,te){return Math.abs(Y-te)},i=function(Y,te){var ae,ce;return te.type==="custom"?x(x({},Y.activeTool),{},{type:"custom",customType:te.customType,locked:(ce=te.locked)!==null&&ce!==void 0?ce:Y.activeTool.locked}):x(x({},Y.activeTool),{},{lastActiveTool:te.lastActiveToolBeforeEraser===void 0?Y.activeTool.lastActiveTool:te.lastActiveToolBeforeEraser,type:te.type,customType:null,locked:(ae=te.locked)!==null&&ae!==void 0?ae:Y.activeTool.locked})},a=function(Y){return Y=Y.replace(/\bAlt\b/i,"Alt").replace(/\bShift\b/i,"Shift").replace(/\b(Enter|Return)\b/i,"Enter"),N.Um?Y.replace(/\bCtrlOrCmd\b/gi,"Cmd").replace(/\bAlt\b/i,"Option"):Y.replace(/\bCtrlOrCmd\b/gi,"Ctrl")},y=function(Y,te){var ae=Y.clientX,ce=Y.clientY,ye=te.zoom,je=te.offsetLeft,Be=te.offsetTop,Qe=te.scrollX,rt=te.scrollY;return{x:(ae-je)/ye.value-Qe,y:(ce-Be)/ye.value-rt}},h=function(Y,te){var ae=Y.sceneX,ce=Y.sceneY,ye=te.zoom,je=te.offsetLeft,Be=te.offsetTop,Qe=te.scrollX,rt=te.scrollY;return{x:(ae+Qe)*ye.value+je,y:(ce+rt)*ye.value+Be}},m=function(Y){return getComputedStyle(document.documentElement).getPropertyValue("--".concat(Y))},C=new RegExp("^[^".concat("A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿Ⰰ-﬜﷾-﹯﻽-￿","]*[").concat("֑-߿יִ-﷽ﹰ-ﻼ","]")),U=function(Y){return C.test(Y)},V=function(Y){var te=(0,b.Z)(Y,2);return{x:te[0],y:te[1]}},D=function(Y){if((Y==null?void 0:Y.name)!=="AbortError")throw Y;console.warn(Y)},P=function(Y,te){var ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;ae<0&&(ae=Y.length+ae);for(var ce=(ae=Math.min(Y.length,Math.max(ae,0)))-1;++ce<Y.length;)if(te(Y[ce],ce,Y))return ce;return-1},F=function(Y,te){var ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Y.length-1;ae<0&&(ae=Y.length+ae);for(var ce=(ae=Math.min(Y.length-1,Math.max(ae,0)))+1;--ce>-1;)if(te(Y[ce],ce,Y))return ce;return-1},X=function(Y){var te=Y.length===5&&Y.substr(4,1)==="0",ae=Y.length===9&&Y.substr(7,2)==="00";return te||ae||Y===w.HO.transparent},le=function(Y){return function(te){(0,M.unstable_batchedUpdates)(Y,te)}},de=function(Y){return T(function(te){(0,M.unstable_batchedUpdates)(Y,te)})},fe=function(Y){for(var te=Y.parentElement;te;){if(te===document.body)return document;var ae=window.getComputedStyle(te).overflowY;if(te.scrollHeight>te.clientHeight&&(ae==="auto"||ae==="scroll"||ae==="overlay"))return te;te=te.parentElement}return document},pe=function(Y){for(var te=Y.parentElement;te;){if(te.tabIndex>-1)return void te.focus();te=te.parentElement}},ne=function(Y){return Array.from(Y).map(function(te){return"0".concat(te.toString(16)).slice(-2)}).join("")},oe=function(){return Ge()?1:Date.now()},be=function(Y){return Y.reduce(function(te,ae){return te.set(typeof ae=="string"?ae:ae.id,ae),te},new Map)},Me=function(Y){return Y.reduce(function(te,ae,ce){return te.set(ae.id,[ae,ce]),te},new Map)},Ge=function(){return!1},qe=function(Y,te){return new CustomEvent(Y,{detail:{nativeEvent:te},cancelable:!0})},Ne=function(Y,te){var ae=!1;for(var ce in te){var ye=te[ce];if(ye!==void 0){if(Y[ce]===ye&&((0,r.Z)(ye)!=="object"||ye===null))continue;ae=!0}}return ae?x(x({},Y),te):Y},Pe=function(){try{return window.self===window.top?"top":"iframe"}catch{return"iframe"}},Re=function(Y){return!!Y&&(0,r.Z)(Y)==="object"&&"then"in Y&&"catch"in Y&&"finally"in Y},Ze=function(Y){var te=Y==null?void 0:Y.querySelectorAll("button, a, input, select, textarea, div[tabindex], label[tabindex]");return te?Array.from(te).filter(function(ae){return ae.tabIndex>-1&&!ae.disabled}):[]},Ie=function(Y,te,ae){var ce=arguments.length>3&&arguments[3]!==void 0&&arguments[3],ye=Object.keys(Y),je=Object.keys(te);return ye.length===je.length&&ye.every(function(Be){var Qe=ae==null?void 0:ae[Be],rt=Qe?Qe(Y[Be],te[Be]):Y[Be]===te[Be];return!rt&&ce&&console.info("%cisShallowEqual: ".concat(Be," not equal ->"),"color: #8B4000",Y[Be],te[Be]),rt})},Ee=function(Y,te){var ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ce=ae.checkForDefaultPrevented,ye=ce===void 0||ce;return function(je){if(Y==null||Y(je),!ye||!je.defaultPrevented)return te==null?void 0:te(je)}},xe=function(Y,te,ae){if(!te)return Y;if(ae)return console.error(te),Y;throw new Error(te)},Z=function(Y){var te,ae,ce=function(ye){var je=Object.entries(ye);if(te){var Be,Qe=!0,rt=j(je);try{for(rt.s();!(Be=rt.n()).done;){var Ye=(0,b.Z)(Be.value,2),tt=Ye[0],ht=Ye[1];if(te.get(tt)!==ht){Qe=!1;break}}}catch(Ue){rt.e(Ue)}finally{rt.f()}if(Qe)return ae}var gt=Y(ye);return te=new Map(je),ae=gt,gt};return ce.clear=function(){te=void 0,ae=void 0},ce},u=function(){var Y;try{var te=d().version.split(".");Y=Number(te[0])>17}catch{Y=!1}var ae=!1;return function(){return window.EXCALIDRAW_THROTTLE_RENDER===!0&&(!!Y||(ae||(ae=!0,console.warn("Excalidraw: render throttling is disabled on React versions < 18.")),!1))}}(),g=function(Y,te){return Y instanceof Set||Y instanceof Map?Y.has(te):"includes"in Y?Y.includes(te):Y.hasOwnProperty(te)},z=function(Y){return JSON.parse(JSON.stringify(Y))}},3041:function(We,ue,n){var r=n(3379),A=n.n(r),k=n(7795),b=n.n(k),w=n(569),N=n.n(w),M=n(3565),f=n.n(M),d=n(9216),j=n.n(d),L=n(4589),H=n.n(L),x=n(2044),S={};S.styleTagTransform=H(),S.setAttributes=f(),S.insert=N().bind(null,"head"),S.domAPI=b(),S.insertStyleElement=j(),A()(x.Z,S),x.Z&&x.Z.locals&&x.Z.locals},3379:function(We){var ue=[];function n(k){for(var b=-1,w=0;w<ue.length;w++)if(ue[w].identifier===k){b=w;break}return b}function r(k,b){for(var w={},N=[],M=0;M<k.length;M++){var f=k[M],d=b.base?f[0]+b.base:f[0],j=w[d]||0,L="".concat(d," ").concat(j);w[d]=j+1;var H=n(L),x={css:f[1],media:f[2],sourceMap:f[3],supports:f[4],layer:f[5]};if(H!==-1)ue[H].references++,ue[H].updater(x);else{var S=A(x,b);b.byIndex=M,ue.splice(M,0,{identifier:L,updater:S,references:1})}N.push(L)}return N}function A(k,b){var w=b.domAPI(b);return w.update(k),function(N){if(N){if(N.css===k.css&&N.media===k.media&&N.sourceMap===k.sourceMap&&N.supports===k.supports&&N.layer===k.layer)return;w.update(k=N)}else w.remove()}}We.exports=function(k,b){var w=r(k=k||[],b=b||{});return function(N){N=N||[];for(var M=0;M<w.length;M++){var f=n(w[M]);ue[f].references--}for(var d=r(N,b),j=0;j<w.length;j++){var L=n(w[j]);ue[L].references===0&&(ue[L].updater(),ue.splice(L,1))}w=d}}},569:function(We){var ue={};We.exports=function(n,r){var A=function(k){if(ue[k]===void 0){var b=document.querySelector(k);if(window.HTMLIFrameElement&&b instanceof window.HTMLIFrameElement)try{b=b.contentDocument.head}catch{b=null}ue[k]=b}return ue[k]}(n);if(!A)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");A.appendChild(r)}},9216:function(We){We.exports=function(ue){var n=document.createElement("style");return ue.setAttributes(n,ue.attributes),ue.insert(n,ue.options),n}},3565:function(We,ue,n){We.exports=function(r){var A=n.nc;A&&r.setAttribute("nonce",A)}},7795:function(We){We.exports=function(ue){if(typeof document>"u")return{update:function(){},remove:function(){}};var n=ue.insertStyleElement(ue);return{update:function(r){(function(A,k,b){var w="";b.supports&&(w+="@supports (".concat(b.supports,") {")),b.media&&(w+="@media ".concat(b.media," {"));var N=b.layer!==void 0;N&&(w+="@layer".concat(b.layer.length>0?" ".concat(b.layer):""," {")),w+=b.css,N&&(w+="}"),b.media&&(w+="}"),b.supports&&(w+="}");var M=b.sourceMap;M&&typeof btoa<"u"&&(w+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(M))))," */")),k.styleTagTransform(w,A,k.options)})(n,ue,r)},remove:function(){(function(r){if(r.parentNode===null)return!1;r.parentNode.removeChild(r)})(n)}}}},4589:function(We){We.exports=function(ue,n){if(n.styleSheet)n.styleSheet.cssText=ue;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(ue))}}},9669:function(We){We.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg=="},7984:function(We){We.exports='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="292.4" height="292.4" viewBox="0 0 292 292"><path d="M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/></svg>'},1639:function(We){We.exports='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="292.4" height="292.4" viewBox="0 0 292 292"><path fill="%23ced4da" d="M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/></svg>'},9729:function(We,ue,n){We.exports=n.p+"excalidraw-assets/Assistant-Bold.woff2"},1273:function(We,ue,n){We.exports=n.p+"excalidraw-assets/Assistant-Medium.woff2"},8303:function(We,ue,n){We.exports=n.p+"excalidraw-assets/Assistant-Regular.woff2"},9577:function(We,ue,n){We.exports=n.p+"excalidraw-assets/Assistant-SemiBold.woff2"},3147:function(We,ue,n){We.exports=n.p+"excalidraw-assets/Cascadia.woff2"},3940:function(We,ue,n){We.exports=n.p+"excalidraw-assets/Virgil.woff2"},9787:function(We){We.exports=t},5156:function(We){We.exports=c},9649:function(We,ue,n){var r=n(8114).default;function A(){We.exports=A=function(){return k},We.exports.__esModule=!0,We.exports.default=We.exports;var k={},b=Object.prototype,w=b.hasOwnProperty,N=Object.defineProperty||function(y,h,m){y[h]=m.value},M=typeof Symbol=="function"?Symbol:{},f=M.iterator||"@@iterator",d=M.asyncIterator||"@@asyncIterator",j=M.toStringTag||"@@toStringTag";function L(y,h,m){return Object.defineProperty(y,h,{value:m,enumerable:!0,configurable:!0,writable:!0}),y[h]}try{L({},"")}catch{L=function(h,m,C){return h[m]=C}}function H(y,h,m,C){var U=h&&h.prototype instanceof q?h:q,V=Object.create(U.prototype),D=new v(C||[]);return N(V,"_invoke",{value:B(y,m,D)}),V}function x(y,h,m){try{return{type:"normal",arg:y.call(h,m)}}catch(C){return{type:"throw",arg:C}}}k.wrap=H;var S={};function q(){}function ve(){}function ke(){}var Se={};L(Se,f,function(){return this});var ge=Object.getPrototypeOf,J=ge&&ge(ge(i([])));J&&J!==b&&w.call(J,f)&&(Se=J);var Q=ke.prototype=q.prototype=Object.create(Se);function K(y){["next","throw","return"].forEach(function(h){L(y,h,function(m){return this._invoke(h,m)})})}function T(y,h){function m(U,V,D,P){var F=x(y[U],y,V);if(F.type!=="throw"){var X=F.arg,le=X.value;return le&&r(le)=="object"&&w.call(le,"__await")?h.resolve(le.__await).then(function(de){m("next",de,D,P)},function(de){m("throw",de,D,P)}):h.resolve(le).then(function(de){X.value=de,D(X)},function(de){return m("throw",de,D,P)})}P(F.arg)}var C;N(this,"_invoke",{value:function(U,V){function D(){return new h(function(P,F){m(U,V,P,F)})}return C=C?C.then(D,D):D()}})}function B(y,h,m){var C="suspendedStart";return function(U,V){if(C==="executing")throw new Error("Generator is already running");if(C==="completed"){if(U==="throw")throw V;return a()}for(m.method=U,m.arg=V;;){var D=m.delegate;if(D){var P=O(D,m);if(P){if(P===S)continue;return P}}if(m.method==="next")m.sent=m._sent=m.arg;else if(m.method==="throw"){if(C==="suspendedStart")throw C="completed",m.arg;m.dispatchException(m.arg)}else m.method==="return"&&m.abrupt("return",m.arg);C="executing";var F=x(y,h,m);if(F.type==="normal"){if(C=m.done?"completed":"suspendedYield",F.arg===S)continue;return{value:F.arg,done:m.done}}F.type==="throw"&&(C="completed",m.method="throw",m.arg=F.arg)}}}function O(y,h){var m=h.method,C=y.iterator[m];if(C===void 0)return h.delegate=null,m==="throw"&&y.iterator.return&&(h.method="return",h.arg=void 0,O(y,h),h.method==="throw")||m!=="return"&&(h.method="throw",h.arg=new TypeError("The iterator does not provide a '"+m+"' method")),S;var U=x(C,y.iterator,h.arg);if(U.type==="throw")return h.method="throw",h.arg=U.arg,h.delegate=null,S;var V=U.arg;return V?V.done?(h[y.resultName]=V.value,h.next=y.nextLoc,h.method!=="return"&&(h.method="next",h.arg=void 0),h.delegate=null,S):V:(h.method="throw",h.arg=new TypeError("iterator result is not an object"),h.delegate=null,S)}function R(y){var h={tryLoc:y[0]};1 in y&&(h.catchLoc=y[1]),2 in y&&(h.finallyLoc=y[2],h.afterLoc=y[3]),this.tryEntries.push(h)}function E(y){var h=y.completion||{};h.type="normal",delete h.arg,y.completion=h}function v(y){this.tryEntries=[{tryLoc:"root"}],y.forEach(R,this),this.reset(!0)}function i(y){if(y){var h=y[f];if(h)return h.call(y);if(typeof y.next=="function")return y;if(!isNaN(y.length)){var m=-1,C=function U(){for(;++m<y.length;)if(w.call(y,m))return U.value=y[m],U.done=!1,U;return U.value=void 0,U.done=!0,U};return C.next=C}}return{next:a}}function a(){return{value:void 0,done:!0}}return ve.prototype=ke,N(Q,"constructor",{value:ke,configurable:!0}),N(ke,"constructor",{value:ve,configurable:!0}),ve.displayName=L(ke,j,"GeneratorFunction"),k.isGeneratorFunction=function(y){var h=typeof y=="function"&&y.constructor;return!!h&&(h===ve||(h.displayName||h.name)==="GeneratorFunction")},k.mark=function(y){return Object.setPrototypeOf?Object.setPrototypeOf(y,ke):(y.__proto__=ke,L(y,j,"GeneratorFunction")),y.prototype=Object.create(Q),y},k.awrap=function(y){return{__await:y}},K(T.prototype),L(T.prototype,d,function(){return this}),k.AsyncIterator=T,k.async=function(y,h,m,C,U){U===void 0&&(U=Promise);var V=new T(H(y,h,m,C),U);return k.isGeneratorFunction(h)?V:V.next().then(function(D){return D.done?D.value:V.next()})},K(Q),L(Q,j,"Generator"),L(Q,f,function(){return this}),L(Q,"toString",function(){return"[object Generator]"}),k.keys=function(y){var h=Object(y),m=[];for(var C in h)m.push(C);return m.reverse(),function U(){for(;m.length;){var V=m.pop();if(V in h)return U.value=V,U.done=!1,U}return U.done=!0,U}},k.values=i,v.prototype={constructor:v,reset:function(y){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!y)for(var h in this)h.charAt(0)==="t"&&w.call(this,h)&&!isNaN(+h.slice(1))&&(this[h]=void 0)},stop:function(){this.done=!0;var y=this.tryEntries[0].completion;if(y.type==="throw")throw y.arg;return this.rval},dispatchException:function(y){if(this.done)throw y;var h=this;function m(F,X){return V.type="throw",V.arg=y,h.next=F,X&&(h.method="next",h.arg=void 0),!!X}for(var C=this.tryEntries.length-1;C>=0;--C){var U=this.tryEntries[C],V=U.completion;if(U.tryLoc==="root")return m("end");if(U.tryLoc<=this.prev){var D=w.call(U,"catchLoc"),P=w.call(U,"finallyLoc");if(D&&P){if(this.prev<U.catchLoc)return m(U.catchLoc,!0);if(this.prev<U.finallyLoc)return m(U.finallyLoc)}else if(D){if(this.prev<U.catchLoc)return m(U.catchLoc,!0)}else{if(!P)throw new Error("try statement without catch or finally");if(this.prev<U.finallyLoc)return m(U.finallyLoc)}}}},abrupt:function(y,h){for(var m=this.tryEntries.length-1;m>=0;--m){var C=this.tryEntries[m];if(C.tryLoc<=this.prev&&w.call(C,"finallyLoc")&&this.prev<C.finallyLoc){var U=C;break}}U&&(y==="break"||y==="continue")&&U.tryLoc<=h&&h<=U.finallyLoc&&(U=null);var V=U?U.completion:{};return V.type=y,V.arg=h,U?(this.method="next",this.next=U.finallyLoc,S):this.complete(V)},complete:function(y,h){if(y.type==="throw")throw y.arg;return y.type==="break"||y.type==="continue"?this.next=y.arg:y.type==="return"?(this.rval=this.arg=y.arg,this.method="return",this.next="end"):y.type==="normal"&&h&&(this.next=h),S},finish:function(y){for(var h=this.tryEntries.length-1;h>=0;--h){var m=this.tryEntries[h];if(m.finallyLoc===y)return this.complete(m.completion,m.afterLoc),E(m),S}},catch:function(y){for(var h=this.tryEntries.length-1;h>=0;--h){var m=this.tryEntries[h];if(m.tryLoc===y){var C=m.completion;if(C.type==="throw"){var U=C.arg;E(m)}return U}}throw new Error("illegal catch attempt")},delegateYield:function(y,h,m){return this.delegate={iterator:i(y),resultName:h,nextLoc:m},this.method==="next"&&(this.arg=void 0),S}},k}We.exports=A,We.exports.__esModule=!0,We.exports.default=We.exports},8114:function(We){function ue(n){return We.exports=ue=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},We.exports.__esModule=!0,We.exports.default=We.exports,ue(n)}We.exports=ue,We.exports.__esModule=!0,We.exports.default=We.exports},2975:function(We,ue,n){var r=n(9649)();We.exports=r;try{regeneratorRuntime=r}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},7017:function(We,ue,n){function r(A,k){(k==null||k>A.length)&&(k=A.length);for(var b=0,w=new Array(k);b<k;b++)w[b]=A[b];return w}n.d(ue,{Z:function(){return r}})},3173:function(We,ue,n){function r(A){if(A===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A}n.d(ue,{Z:function(){return r}})},8950:function(We,ue,n){function r(k,b,w,N,M,f,d){try{var j=k[f](d),L=j.value}catch(H){return void w(H)}j.done?b(L):Promise.resolve(L).then(N,M)}function A(k){return function(){var b=this,w=arguments;return new Promise(function(N,M){var f=k.apply(b,w);function d(L){r(f,N,M,d,j,"next",L)}function j(L){r(f,N,M,d,j,"throw",L)}d(void 0)})}}n.d(ue,{Z:function(){return A}})},8821:function(We,ue,n){function r(A,k){if(!(A instanceof k))throw new TypeError("Cannot call a class as a function")}n.d(ue,{Z:function(){return r}})},5169:function(We,ue,n){n.d(ue,{Z:function(){return k}});var r=n(3525);function A(b,w){for(var N=0;N<w.length;N++){var M=w[N];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(b,(0,r.Z)(M.key),M)}}function k(b,w,N){return w&&A(b.prototype,w),N&&A(b,N),Object.defineProperty(b,"prototype",{writable:!1}),b}},7169:function(We,ue,n){n.d(ue,{Z:function(){return A}});var r=n(3525);function A(k,b,w){return(b=(0,r.Z)(b))in k?Object.defineProperty(k,b,{value:w,enumerable:!0,configurable:!0,writable:!0}):k[b]=w,k}},11:function(We,ue,n){function r(){return r=Object.assign?Object.assign.bind():function(A){for(var k=1;k<arguments.length;k++){var b=arguments[k];for(var w in b)Object.prototype.hasOwnProperty.call(b,w)&&(A[w]=b[w])}return A},r.apply(this,arguments)}n.d(ue,{Z:function(){return r}})},2312:function(We,ue,n){function r(A){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(k){return k.__proto__||Object.getPrototypeOf(k)},r(A)}n.d(ue,{Z:function(){return r}})},2248:function(We,ue,n){n.d(ue,{Z:function(){return A}});var r=n(5901);function A(k,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(b&&b.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Object.defineProperty(k,"prototype",{writable:!1}),b&&(0,r.Z)(k,b)}},2726:function(We,ue,n){function r(A,k){if(A==null)return{};var b,w,N=function(f,d){if(f==null)return{};var j,L,H={},x=Object.keys(f);for(L=0;L<x.length;L++)j=x[L],d.indexOf(j)>=0||(H[j]=f[j]);return H}(A,k);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(A);for(w=0;w<M.length;w++)b=M[w],k.indexOf(b)>=0||Object.prototype.propertyIsEnumerable.call(A,b)&&(N[b]=A[b])}return N}n.d(ue,{Z:function(){return r}})},7245:function(We,ue,n){n.d(ue,{Z:function(){return k}});var r=n(6655),A=n(3173);function k(b,w){if(w&&((0,r.Z)(w)==="object"||typeof w=="function"))return w;if(w!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(0,A.Z)(b)}},5901:function(We,ue,n){function r(A,k){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(b,w){return b.__proto__=w,b},r(A,k)}n.d(ue,{Z:function(){return r}})},2577:function(We,ue,n){n.d(ue,{Z:function(){return A}});var r=n(9139);function A(k,b){return function(w){if(Array.isArray(w))return w}(k)||function(w,N){var M=w==null?null:typeof Symbol<"u"&&w[Symbol.iterator]||w["@@iterator"];if(M!=null){var f,d,j,L,H=[],x=!0,S=!1;try{if(j=(M=M.call(w)).next,N===0){if(Object(M)!==M)return;x=!1}else for(;!(x=(f=j.call(M)).done)&&(H.push(f.value),H.length!==N);x=!0);}catch(q){S=!0,d=q}finally{try{if(!x&&M.return!=null&&(L=M.return(),Object(L)!==L))return}finally{if(S)throw d}}return H}}(k,b)||(0,r.Z)(k,b)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}},1930:function(We,ue,n){n.d(ue,{Z:function(){return k}});var r=n(7017),A=n(9139);function k(b){return function(w){if(Array.isArray(w))return(0,r.Z)(w)}(b)||function(w){if(typeof Symbol<"u"&&w[Symbol.iterator]!=null||w["@@iterator"]!=null)return Array.from(w)}(b)||(0,A.Z)(b)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}},3525:function(We,ue,n){n.d(ue,{Z:function(){return A}});var r=n(6655);function A(k){var b=function(w,N){if((0,r.Z)(w)!=="object"||w===null)return w;var M=w[Symbol.toPrimitive];if(M!==void 0){var f=M.call(w,N);if((0,r.Z)(f)!=="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return(N==="string"?String:Number)(w)}(k,"string");return(0,r.Z)(b)==="symbol"?b:String(b)}},6655:function(We,ue,n){function r(A){return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},r(A)}n.d(ue,{Z:function(){return r}})},9139:function(We,ue,n){n.d(ue,{Z:function(){return A}});var r=n(7017);function A(k,b){if(k){if(typeof k=="string")return(0,r.Z)(k,b);var w=Object.prototype.toString.call(k).slice(8,-1);return w==="Object"&&k.constructor&&(w=k.constructor.name),w==="Map"||w==="Set"?Array.from(k):w==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(w)?(0,r.Z)(k,b):void 0}}},3607:function(We,ue,n){n.d(ue,{zt:function(){return J},cn:function(){return Q},Vv:function(){return ve},KO:function(){return B},Dv:function(){return K},b9:function(){return T}});var r=n(9787);let A=0;const k=Symbol(),b=O=>!!O[k],w=O=>!O[k].c,N=O=>{var R;const{b:E,c:v}=O[k];v&&(v(),(R=d.get(E))==null||R())},M=(O,R)=>{const E=O[k].o,v=R[k].o;return E===v||O===v||b(E)&&M(E,R)},f=(O,R)=>{const E={b:O,o:R,c:null},v=new Promise(i=>{E.c=()=>{E.c=null,i()},R.finally(E.c)});return v[k]=E,v},d=new WeakMap,j=O=>"init"in O,L="r",H="w",x="c",S="s",q=O=>{const R=new WeakMap,E=new WeakMap,v=new Map;let i,a;if(i=new Set,a=new Set,O)for(const[Ze,Ie]of O){const Ee={v:Ie,r:0,y:!0,d:new Map};Object.freeze(Ee),j(Ze)||console.warn("Found initial value for derived atom which can cause unexpected behavior",Ze),R.set(Ze,Ee)}const y=new WeakMap,h=new WeakMap,m=Ze=>{let Ie=h.get(Ze);return Ie||(Ie=new Map,h.set(Ze,Ie)),Ie},C=(Ze,Ie)=>{if(Ze){const Ee=m(Ze);let xe=Ee.get(Ie);return xe||(xe=C(Ze.p,Ie),xe&&"p"in xe&&w(xe.p)&&(xe=void 0),xe&&Ee.set(Ie,xe)),xe}return R.get(Ie)},U=(Ze,Ie,Ee)=>{if(Object.freeze(Ee),Ze)m(Ze).set(Ie,Ee);else{const xe=R.get(Ie);R.set(Ie,Ee),v.has(Ie)||v.set(Ie,xe)}},V=(Ze,Ie=new Map,Ee)=>{if(!Ee)return Ie;const xe=new Map;let Z=!1;return Ee.forEach(u=>{var g;const z=((g=C(Ze,u))==null?void 0:g.r)||0;xe.set(u,z),Ie.get(u)!==z&&(Z=!0)}),Ie.size!==xe.size||Z?xe:Ie},D=(Ze,Ie,Ee,xe,Z)=>{const u=C(Ze,Ie);if(u){if(Z&&(!("p"in u)||!M(u.p,Z)))return u;"p"in u&&N(u.p)}const g={v:Ee,r:(u==null?void 0:u.r)||0,y:!0,d:V(Ze,u==null?void 0:u.d,xe)};let z=!(u!=null&&u.y);return u&&"v"in u&&Object.is(u.v,Ee)?g.d===u.d||g.d.size===u.d.size&&Array.from(g.d.keys()).every(Y=>u.d.has(Y))||(z=!0,Promise.resolve().then(()=>{qe(Ze)})):(z=!0,++g.r,g.d.has(Ie)&&(g.d=new Map(g.d).set(Ie,g.r))),u&&!z?u:(U(Ze,Ie,g),g)},P=(Ze,Ie,Ee,xe,Z)=>{const u=C(Ze,Ie);if(u){if(Z&&(!("p"in u)||!M(u.p,Z)))return u;"p"in u&&N(u.p)}const g={e:Ee,r:((u==null?void 0:u.r)||0)+1,y:!0,d:V(Ze,u==null?void 0:u.d,xe)};return U(Ze,Ie,g),g},F=(Ze,Ie,Ee,xe)=>{const Z=C(Ze,Ie);if(Z&&"p"in Z){if(M(Z.p,Ee)&&!w(Z.p))return Z.y?Z:{...Z,y:!0};N(Z.p)}((g,z,Y)=>{let te=y.get(z);te||(te=new Map,y.set(z,te)),Y.then(()=>{te.get(g)===Y&&(te.delete(g),te.size||y.delete(z))}),te.set(g,Y)})(Ze,Ie,Ee);const u={p:Ee,r:((Z==null?void 0:Z.r)||0)+1,y:!0,d:V(Ze,Z==null?void 0:Z.d,xe)};return U(Ze,Ie,u),u},X=(Ze,Ie,Ee,xe)=>{if(Ee instanceof Promise){const Z=f(Ee,Ee.then(u=>{D(Ze,Ie,u,xe,Z)}).catch(u=>{if(u instanceof Promise)return b(u)?u.then(()=>{le(Ze,Ie,!0)}):u;P(Ze,Ie,u,xe,Z)}));return F(Ze,Ie,Z,xe)}return D(Ze,Ie,Ee,xe)},le=(Ze,Ie,Ee)=>{if(!Ee){const Z=C(Ze,Ie);if(Z){if(Z.y&&"p"in Z&&!w(Z.p))return Z;if(Z.d.forEach((u,g)=>{if(g!==Ie)if(E.has(g)){const z=C(Ze,g);z&&!z.y&&le(Ze,g)}else le(Ze,g)}),Array.from(Z.d).every(([u,g])=>{const z=C(Ze,u);return z&&!("p"in z)&&z.r===g}))return Z.y?Z:{...Z,y:!0}}}const xe=new Set;try{const Z=Ie.read(u=>{xe.add(u);const g=u===Ie?C(Ze,u):le(Ze,u);if(g){if("e"in g)throw g.e;if("p"in g)throw g.p;return g.v}if(j(u))return u.init;throw new Error("no atom init")});return X(Ze,Ie,Z,xe)}catch(Z){if(Z instanceof Promise){const u=b(Z)&&w(Z)?(g=>f(g[k].b,g[k].o))(Z):f(Z,Z);return F(Ze,Ie,u,xe)}return P(Ze,Ie,Z,xe)}},de=(Ze,Ie)=>le(Ie,Ze),fe=(Ze,Ie)=>!Ie.l.size&&(!Ie.t.size||Ie.t.size===1&&Ie.t.has(Ze)),pe=(Ze,Ie)=>{const Ee=E.get(Ie);Ee==null||Ee.t.forEach(xe=>{xe!==Ie&&(((Z,u)=>{const g=C(Z,u);if(g){const z={...g,y:!1};U(Z,u,z)}else console.warn("[Bug] could not invalidate non existing atom",u)})(Ze,xe),pe(Ze,xe))})},ne=(Ze,Ie,Ee)=>{let xe=!0;const Z=(g,z)=>{const Y=le(Ze,g);if("e"in Y)throw Y.e;if("p"in Y){if(z!=null&&z.unstable_promise)return Y.p.then(()=>{const te=C(Ze,g);return te&&"p"in te&&te.p===Y.p?new Promise(ae=>setTimeout(ae)).then(()=>Z(g,z)):Z(g,z)});throw console.info("Reading pending atom state in write operation. We throw a promise for now.",g),Y.p}if("v"in Y)return Y.v;throw console.warn("[Bug] no value found while reading atom in write operation. This is probably a bug.",g),new Error("no value found")},u=Ie.write(Z,(g,z)=>{let Y;if(g===Ie){if(!j(g))throw new Error("atom not writable");(ae=>{const ce=new Set,ye=y.get(ae);return ye&&(y.delete(ae),ye.forEach((je,Be)=>{N(je),ce.add(Be)})),ce})(g).forEach(ae=>{ae!==Ze&&X(ae,g,z)}),C(Ze,g)!==X(Ze,g,z)&&pe(Ze,g)}else Y=ne(Ze,g,z);return xe||qe(Ze),Y},Ee);return xe=!1,u},oe=(Ze,Ie,Ee)=>{const xe=ne(Ee,Ze,Ie);return qe(Ee),xe},be=(Ze,Ie,Ee)=>{const xe={t:new Set(Ee&&[Ee]),l:new Set};if(E.set(Ie,xe),a.add(Ie),le(void 0,Ie).d.forEach((Z,u)=>{const g=E.get(u);g?g.t.add(Ie):u!==Ie&&be(Ze,u,Ie)}),(Z=>!!Z.write)(Ie)&&Ie.onMount){const Z=g=>oe(Ie,g,Ze),u=Ie.onMount(Z);Ze=void 0,u&&(xe.u=u)}return xe},Me=(Ze,Ie)=>{var Ee;const xe=(Ee=E.get(Ie))==null?void 0:Ee.u;xe&&xe(),E.delete(Ie),a.delete(Ie);const Z=C(Ze,Ie);Z?("p"in Z&&N(Z.p),Z.d.forEach((u,g)=>{if(g!==Ie){const z=E.get(g);z&&(z.t.delete(Ie),fe(g,z)&&Me(Ze,g))}})):console.warn("[Bug] could not find atom state to unmount",Ie)},Ge=(Ze,Ie,Ee,xe)=>{const Z=new Set(Ee.d.keys());xe==null||xe.forEach((u,g)=>{if(Z.has(g))return void Z.delete(g);const z=E.get(g);z&&(z.t.delete(Ie),fe(g,z)&&Me(Ze,g))}),Z.forEach(u=>{const g=E.get(u);g?g.t.add(Ie):E.has(Ie)&&be(Ze,u,Ie)})},qe=Ze=>{if(Ze)m(Ze).forEach((Ie,Ee)=>{if(Ie!==R.get(Ee)){const xe=E.get(Ee);xe==null||xe.l.forEach(Z=>Z(Ze))}});else{for(;v.size;){const Ie=Array.from(v);v.clear(),Ie.forEach(([Ee,xe])=>{const Z=C(void 0,Ee);if(Z&&Z.d!==(xe==null?void 0:xe.d)&&Ge(void 0,Ee,Z,xe==null?void 0:xe.d),xe&&!xe.y&&(Z==null?void 0:Z.y))return;const u=E.get(Ee);u==null||u.l.forEach(g=>g())})}i.forEach(Ie=>Ie())}},Ne=(Ze,Ie)=>{Ie&&(Ee=>{m(Ee).forEach((xe,Z)=>{const u=R.get(Z);(!u||xe.r>u.r||xe.y!==u.y||xe.r===u.r&&xe.d!==u.d)&&(R.set(Z,xe),xe.d!==(u==null?void 0:u.d)&&Ge(Ee,Z,xe,u==null?void 0:u.d))})})(Ie),qe(void 0)},Pe=(Ze,Ie,Ee)=>{const xe=((u,g)=>{let z=E.get(g);return z||(z=be(u,g)),z})(Ee,Ze),Z=xe.l;return Z.add(Ie),()=>{Z.delete(Ie),((u,g)=>{const z=E.get(g);z&&fe(g,z)&&Me(u,g)})(Ee,Ze)}},Re=(Ze,Ie)=>{for(const[Ee,xe]of Ze)j(Ee)&&(X(Ie,Ee,xe),pe(Ie,Ee));qe(Ie)};return{[L]:de,[H]:oe,[x]:Ne,[S]:Pe,h:Re,n:Ze=>(i.add(Ze),()=>{i.delete(Ze)}),l:()=>a.values(),a:Ze=>R.get(Ze),m:Ze=>E.get(Ze)}},ve=O=>{const R=q(O),E=v=>new Promise((i,a)=>{const y=R.r(v);"e"in y?a(y.e):i("p"in y?y.p.then(()=>E(v)):y.v)});return{get:v=>{const i=R.r(v);if("e"in i)throw i.e;if(!("p"in i))return i.v},asyncGet:E,set:(v,i)=>R.w(v,i),sub:(v,i)=>R.s(v,i),SECRET_INTERNAL_store:R}},ke=(O,R)=>({s:R?R(O).SECRET_INTERNAL_store:q(O)}),Se=new Map,ge=O=>(Se.has(O)||Se.set(O,(0,r.createContext)(ke())),Se.get(O)),J=({children:O,initialValues:R,scope:E,unstable_createStore:v,unstable_enableVersionedWrite:i})=>{const[a,y]=(0,r.useState)({});(0,r.useEffect)(()=>{const C=h.current;C.w&&(C.s.c(null,a),delete a.p,C.v=a)},[a]);const h=(0,r.useRef)();if(!h.current){const C=ke(R,v);if(i){let U=0;C.w=V=>{y(D=>{const P=U?D:{p:D};return V(P),P})},C.v=a,C.r=V=>{++U,V(),--U}}h.current=C}const m=ge(E);return(0,r.createElement)(m.Provider,{value:h.current},O)};function Q(O,R){return function(E,v){const i="atom"+ ++A,a={toString:()=>i};return typeof E=="function"?a.read=E:(a.init=E,a.read=y=>y(a),a.write=(y,h,m)=>h(a,typeof m=="function"?m(y(a)):m)),v&&(a.write=v),a}(O,R)}function K(O,R){const E=ge(R),v=(0,r.useContext)(E),{s:i,v:a}=v,y=D=>{const P=i.r(O,D);if(!P.y)throw new Error("should not be invalidated");if("e"in P)throw P.e;if("p"in P)throw P.p;if("v"in P)return P.v;throw new Error("no atom value")},[[h,m,C],U]=(0,r.useReducer)((D,P)=>{const F=y(P);return Object.is(D[1],F)&&D[2]===O?D:[P,F,O]},a,D=>[D,y(D),O]);let V=m;return C!==O&&(U(h),V=y(h)),(0,r.useEffect)(()=>{const{v:D}=v;D&&i.c(O,D);const P=i.s(O,U,D);return U(D),P},[i,O,v]),(0,r.useEffect)(()=>{i.c(O,h)}),(0,r.useDebugValue)(V),V}function T(O,R){const E=ge(R),{s:v,w:i}=(0,r.useContext)(E);return(0,r.useCallback)(a=>{if(!("write"in O))throw new Error("not writable atom");const y=h=>v.w(O,a,h);return i?i(y):y()},[v,i,O])}function B(O,R){return"scope"in O&&(console.warn("atom.scope is deprecated. Please do useAtom(atom, scope) instead."),R=O.scope),[K(O,R),T(O,R)]}},5605:function(We,ue,n){n.d(ue,{x0:function(){return r}});let r=(A=21)=>crypto.getRandomValues(new Uint8Array(A)).reduce((k,b)=>k+=(b&=63)<36?b.toString(36):b<62?(b-26).toString(36).toUpperCase():b>62?"-":"_","")},5284:function(We){We.exports=JSON.parse('{"white":"#ffffff","black":"#000000","gray":["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],"red":["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],"pink":["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],"grape":["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],"violet":["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],"indigo":["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],"blue":["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],"cyan":["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],"teal":["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],"green":["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],"lime":["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],"yellow":["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],"orange":["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]}')},1463:function(We){We.exports=JSON.parse(`{"labels":{"paste":"Paste","pasteAsPlaintext":"Paste as plaintext","pasteCharts":"Paste charts","selectAll":"Select all","multiSelect":"Add element to selection","moveCanvas":"Move canvas","cut":"Cut","copy":"Copy","copyAsPng":"Copy to clipboard as PNG","copyAsSvg":"Copy to clipboard as SVG","copyText":"Copy to clipboard as text","bringForward":"Bring forward","sendToBack":"Send to back","bringToFront":"Bring to front","sendBackward":"Send backward","delete":"Delete","copyStyles":"Copy styles","pasteStyles":"Paste styles","stroke":"Stroke","background":"Background","fill":"Fill","strokeWidth":"Stroke width","strokeStyle":"Stroke style","strokeStyle_solid":"Solid","strokeStyle_dashed":"Dashed","strokeStyle_dotted":"Dotted","sloppiness":"Sloppiness","opacity":"Opacity","textAlign":"Text align","edges":"Edges","sharp":"Sharp","round":"Round","arrowheads":"Arrowheads","arrowhead_none":"None","arrowhead_arrow":"Arrow","arrowhead_bar":"Bar","arrowhead_dot":"Dot","arrowhead_triangle":"Triangle","fontSize":"Font size","fontFamily":"Font family","addWatermark":"Add \\"Made with Excalidraw\\"","handDrawn":"Hand-drawn","normal":"Normal","code":"Code","small":"Small","medium":"Medium","large":"Large","veryLarge":"Very large","solid":"Solid","hachure":"Hachure","zigzag":"Zigzag","crossHatch":"Cross-hatch","thin":"Thin","bold":"Bold","left":"Left","center":"Center","right":"Right","extraBold":"Extra bold","architect":"Architect","artist":"Artist","cartoonist":"Cartoonist","fileTitle":"File name","colorPicker":"Color picker","canvasColors":"Used on canvas","canvasBackground":"Canvas background","drawingCanvas":"Drawing canvas","layers":"Layers","actions":"Actions","language":"Language","liveCollaboration":"Live collaboration...","duplicateSelection":"Duplicate","untitled":"Untitled","name":"Name","yourName":"Your name","madeWithExcalidraw":"Made with Excalidraw","group":"Group selection","ungroup":"Ungroup selection","collaborators":"Collaborators","showGrid":"Show grid","addToLibrary":"Add to library","removeFromLibrary":"Remove from library","libraryLoadingMessage":"Loading library…","libraries":"Browse libraries","loadingScene":"Loading scene…","align":"Align","alignTop":"Align top","alignBottom":"Align bottom","alignLeft":"Align left","alignRight":"Align right","centerVertically":"Center vertically","centerHorizontally":"Center horizontally","distributeHorizontally":"Distribute horizontally","distributeVertically":"Distribute vertically","flipHorizontal":"Flip horizontal","flipVertical":"Flip vertical","viewMode":"View mode","share":"Share","showStroke":"Show stroke color picker","showBackground":"Show background color picker","toggleTheme":"Toggle theme","personalLib":"Personal Library","excalidrawLib":"Excalidraw Library","decreaseFontSize":"Decrease font size","increaseFontSize":"Increase font size","unbindText":"Unbind text","bindText":"Bind text to the container","createContainerFromText":"Wrap text in a container","link":{"edit":"Edit link","editEmbed":"Edit link & embed","create":"Create link","createEmbed":"Create link & embed","label":"Link","labelEmbed":"Link & embed","empty":"No link is set"},"lineEditor":{"edit":"Edit line","exit":"Exit line editor"},"elementLock":{"lock":"Lock","unlock":"Unlock","lockAll":"Lock all","unlockAll":"Unlock all"},"statusPublished":"Published","sidebarLock":"Keep sidebar open","selectAllElementsInFrame":"Select all elements in frame","removeAllElementsFromFrame":"Remove all elements from frame","eyeDropper":"Pick color from canvas"},"library":{"noItems":"No items added yet...","hint_emptyLibrary":"Select an item on canvas to add it here, or install a library from the public repository, below.","hint_emptyPrivateLibrary":"Select an item on canvas to add it here."},"buttons":{"clearReset":"Reset the canvas","exportJSON":"Export to file","exportImage":"Export image...","export":"Save to...","copyToClipboard":"Copy to clipboard","save":"Save to current file","saveAs":"Save as","load":"Open","getShareableLink":"Get shareable link","close":"Close","selectLanguage":"Select language","scrollBackToContent":"Scroll back to content","zoomIn":"Zoom in","zoomOut":"Zoom out","resetZoom":"Reset zoom","menu":"Menu","done":"Done","edit":"Edit","undo":"Undo","redo":"Redo","resetLibrary":"Reset library","createNewRoom":"Create new room","fullScreen":"Full screen","darkMode":"Dark mode","lightMode":"Light mode","zenMode":"Zen mode","objectsSnapMode":"Snap to objects","exitZenMode":"Exit zen mode","cancel":"Cancel","clear":"Clear","remove":"Remove","embed":"Toggle embedding","publishLibrary":"Publish","submit":"Submit","confirm":"Confirm","embeddableInteractionButton":"Click to interact"},"alerts":{"clearReset":"This will clear the whole canvas. Are you sure?","couldNotCreateShareableLink":"Couldn't create shareable link.","couldNotCreateShareableLinkTooBig":"Couldn't create shareable link: the scene is too big","couldNotLoadInvalidFile":"Couldn't load invalid file","importBackendFailed":"Importing from backend failed.","cannotExportEmptyCanvas":"Cannot export empty canvas.","couldNotCopyToClipboard":"Couldn't copy to clipboard.","decryptFailed":"Couldn't decrypt data.","uploadedSecurly":"The upload has been secured with end-to-end encryption, which means that Excalidraw server and third parties can't read the content.","loadSceneOverridePrompt":"Loading external drawing will replace your existing content. Do you wish to continue?","collabStopOverridePrompt":"Stopping the session will overwrite your previous, locally stored drawing. Are you sure?\\n\\n(If you want to keep your local drawing, simply close the browser tab instead.)","errorAddingToLibrary":"Couldn't add item to the library","errorRemovingFromLibrary":"Couldn't remove item from the library","confirmAddLibrary":"This will add {{numShapes}} shape(s) to your library. Are you sure?","imageDoesNotContainScene":"This image does not seem to contain any scene data. Have you enabled scene embedding during export?","cannotRestoreFromImage":"Scene couldn't be restored from this image file","invalidSceneUrl":"Couldn't import scene from the supplied URL. It's either malformed, or doesn't contain valid Excalidraw JSON data.","resetLibrary":"This will clear your library. Are you sure?","removeItemsFromsLibrary":"Delete {{count}} item(s) from library?","invalidEncryptionKey":"Encryption key must be of 22 characters. Live collaboration is disabled.","collabOfflineWarning":"No internet connection available.\\nYour changes will not be saved!"},"errors":{"unsupportedFileType":"Unsupported file type.","imageInsertError":"Couldn't insert image. Try again later...","fileTooBig":"File is too big. Maximum allowed size is {{maxSize}}.","svgImageInsertError":"Couldn't insert SVG image. The SVG markup looks invalid.","failedToFetchImage":"Failed to fetch image.","invalidSVGString":"Invalid SVG.","cannotResolveCollabServer":"Couldn't connect to the collab server. Please reload the page and try again.","importLibraryError":"Couldn't load library","collabSaveFailed":"Couldn't save to the backend database. If problems persist, you should save your file locally to ensure you don't lose your work.","collabSaveFailed_sizeExceeded":"Couldn't save to the backend database, the canvas seems to be too big. You should save the file locally to ensure you don't lose your work.","imageToolNotSupported":"Images are disabled.","brave_measure_text_error":{"line1":"Looks like you are using Brave browser with the <bold>Aggressively Block Fingerprinting</bold> setting enabled.","line2":"This could result in breaking the <bold>Text Elements</bold> in your drawings.","line3":"We strongly recommend disabling this setting. You can follow <link>these steps</link> on how to do so.","line4":"If disabling this setting doesn't fix the display of text elements, please open an <issueLink>issue</issueLink> on our GitHub, or write us on <discordLink>Discord</discordLink>"},"libraryElementTypeError":{"embeddable":"Embeddable elements cannot be added to the library.","image":"Support for adding images to the library coming soon!"},"asyncPasteFailedOnRead":"Couldn't paste (couldn't read from system clipboard).","asyncPasteFailedOnParse":"Couldn't paste.","copyToSystemClipboardFailed":"Couldn't copy to clipboard."},"toolBar":{"selection":"Selection","image":"Insert image","rectangle":"Rectangle","diamond":"Diamond","ellipse":"Ellipse","arrow":"Arrow","line":"Line","freedraw":"Draw","text":"Text","library":"Library","lock":"Keep selected tool active after drawing","penMode":"Pen mode - prevent touch","link":"Add/ Update link for a selected shape","eraser":"Eraser","frame":"Frame tool","embeddable":"Web Embed","laser":"Laser pointer","hand":"Hand (panning tool)","extraTools":"More tools","mermaidToExcalidraw":"Mermaid to Excalidraw"},"headings":{"canvasActions":"Canvas actions","selectedShapeActions":"Selected shape actions","shapes":"Shapes"},"hints":{"canvasPanning":"To move canvas, hold mouse wheel or spacebar while dragging, or use the hand tool","linearElement":"Click to start multiple points, drag for single line","freeDraw":"Click and drag, release when you're finished","text":"Tip: you can also add text by double-clicking anywhere with the selection tool","embeddable":"Click-drag to create a website embed","text_selected":"Double-click or press ENTER to edit text","text_editing":"Press Escape or CtrlOrCmd+ENTER to finish editing","linearElementMulti":"Click on last point or press Escape or Enter to finish","lockAngle":"You can constrain angle by holding SHIFT","resize":"You can constrain proportions by holding SHIFT while resizing,\\nhold ALT to resize from the center","resizeImage":"You can resize freely by holding SHIFT,\\nhold ALT to resize from the center","rotate":"You can constrain angles by holding SHIFT while rotating","lineEditor_info":"Hold CtrlOrCmd and Double-click or press CtrlOrCmd + Enter to edit points","lineEditor_pointSelected":"Press Delete to remove point(s),\\nCtrlOrCmd+D to duplicate, or drag to move","lineEditor_nothingSelected":"Select a point to edit (hold SHIFT to select multiple),\\nor hold Alt and click to add new points","placeImage":"Click to place the image, or click and drag to set its size manually","publishLibrary":"Publish your own library","bindTextToElement":"Press enter to add text","deepBoxSelect":"Hold CtrlOrCmd to deep select, and to prevent dragging","eraserRevert":"Hold Alt to revert the elements marked for deletion","firefox_clipboard_write":"This feature can likely be enabled by setting the \\"dom.events.asyncClipboard.clipboardItem\\" flag to \\"true\\". To change the browser flags in Firefox, visit the \\"about:config\\" page.","disableSnapping":"Hold CtrlOrCmd to disable snapping"},"canvasError":{"cannotShowPreview":"Cannot show preview","canvasTooBig":"The canvas may be too big.","canvasTooBigTip":"Tip: try moving the farthest elements a bit closer together."},"errorSplash":{"headingMain":"Encountered an error. Try <button>reloading the page</button>.","clearCanvasMessage":"If reloading doesn't work, try <button>clearing the canvas</button>.","clearCanvasCaveat":" This will result in loss of work ","trackedToSentry":"The error with identifier {{eventId}} was tracked on our system.","openIssueMessage":"We were very cautious not to include your scene information on the error. If your scene is not private, please consider following up on our <button>bug tracker</button>. Please include information below by copying and pasting into the GitHub issue.","sceneContent":"Scene content:"},"roomDialog":{"desc_intro":"You can invite people to your current scene to collaborate with you.","desc_privacy":"Don't worry, the session uses end-to-end encryption, so whatever you draw will stay private. Not even our server will be able to see what you come up with.","button_startSession":"Start session","button_stopSession":"Stop session","desc_inProgressIntro":"Live-collaboration session is now in progress.","desc_shareLink":"Share this link with anyone you want to collaborate with:","desc_exitSession":"Stopping the session will disconnect you from the room, but you'll be able to continue working with the scene, locally. Note that this won't affect other people, and they'll still be able to collaborate on their version.","shareTitle":"Join a live collaboration session on Excalidraw"},"errorDialog":{"title":"Error"},"exportDialog":{"disk_title":"Save to disk","disk_details":"Export the scene data to a file from which you can import later.","disk_button":"Save to file","link_title":"Shareable link","link_details":"Export as a read-only link.","link_button":"Export to Link","excalidrawplus_description":"Save the scene to your Excalidraw+ workspace.","excalidrawplus_button":"Export","excalidrawplus_exportError":"Couldn't export to Excalidraw+ at this moment..."},"helpDialog":{"blog":"Read our blog","click":"click","deepSelect":"Deep select","deepBoxSelect":"Deep select within box, and prevent dragging","curvedArrow":"Curved arrow","curvedLine":"Curved line","documentation":"Documentation","doubleClick":"double-click","drag":"drag","editor":"Editor","editLineArrowPoints":"Edit line/arrow points","editText":"Edit text / add label","github":"Found an issue? Submit","howto":"Follow our guides","or":"or","preventBinding":"Prevent arrow binding","tools":"Tools","shortcuts":"Keyboard shortcuts","textFinish":"Finish editing (text editor)","textNewLine":"Add new line (text editor)","title":"Help","view":"View","zoomToFit":"Zoom to fit all elements","zoomToSelection":"Zoom to selection","toggleElementLock":"Lock/unlock selection","movePageUpDown":"Move page up/down","movePageLeftRight":"Move page left/right"},"clearCanvasDialog":{"title":"Clear canvas"},"publishDialog":{"title":"Publish library","itemName":"Item name","authorName":"Author name","githubUsername":"GitHub username","twitterUsername":"Twitter username","libraryName":"Library name","libraryDesc":"Library description","website":"Website","placeholder":{"authorName":"Your name or username","libraryName":"Name of your library","libraryDesc":"Description of your library to help people understand its usage","githubHandle":"GitHub handle (optional), so you can edit the library once submitted for review","twitterHandle":"Twitter username (optional), so we know who to credit when promoting over Twitter","website":"Link to your personal website or elsewhere (optional)"},"errors":{"required":"Required","website":"Enter a valid URL"},"noteDescription":"Submit your library to be included in the <link>public library repository</link> for other people to use in their drawings.","noteGuidelines":"The library needs to be manually approved first. Please read the <link>guidelines</link> before submitting. You will need a GitHub account to communicate and make changes if requested, but it is not strictly required.","noteLicense":"By submitting, you agree the library will be published under the <link>MIT License</link>, which in short means anyone can use them without restrictions.","noteItems":"Each library item must have its own name so it's filterable. The following library items will be included:","atleastOneLibItem":"Please select at least one library item to get started","republishWarning":"Note: some of the selected items are marked as already published/submitted. You should only resubmit items when updating an existing library or submission."},"publishSuccessDialog":{"title":"Library submitted","content":"Thank you {{authorName}}. Your library has been submitted for review. You can track the status <link>here</link>"},"confirmDialog":{"resetLibrary":"Reset library","removeItemsFromLib":"Remove selected items from library"},"imageExportDialog":{"header":"Export image","label":{"withBackground":"Background","onlySelected":"Only selected","darkMode":"Dark mode","embedScene":"Embed scene","scale":"Scale","padding":"Padding"},"tooltip":{"embedScene":"Scene data will be saved into the exported PNG/SVG file so that the scene can be restored from it.\\nWill increase exported file size."},"title":{"exportToPng":"Export to PNG","exportToSvg":"Export to SVG","copyPngToClipboard":"Copy PNG to clipboard"},"button":{"exportToPng":"PNG","exportToSvg":"SVG","copyPngToClipboard":"Copy to clipboard"}},"encrypted":{"tooltip":"Your drawings are end-to-end encrypted so Excalidraw's servers will never see them.","link":"Blog post on end-to-end encryption in Excalidraw"},"stats":{"angle":"Angle","element":"Element","elements":"Elements","height":"Height","scene":"Scene","selected":"Selected","storage":"Storage","title":"Stats for nerds","total":"Total","version":"Version","versionCopy":"Click to copy","versionNotAvailable":"Version not available","width":"Width"},"toast":{"addedToLibrary":"Added to library","copyStyles":"Copied styles.","copyToClipboard":"Copied to clipboard.","copyToClipboardAsPng":"Copied {{exportSelection}} to clipboard as PNG\\n({{exportColorScheme}})","fileSaved":"File saved.","fileSavedToFilename":"Saved to {filename}","canvas":"canvas","selection":"selection","pasteAsSingleElement":"Use {{shortcut}} to paste as a single element,\\nor paste into an existing text editor","unableToEmbed":"Embedding this url is currently not allowed. Raise an issue on GitHub to request the url whitelisted","unrecognizedLinkFormat":"The link you embedded does not match the expected format. Please try to paste the 'embed' string provided by the source site"},"colors":{"transparent":"Transparent","black":"Black","white":"White","red":"Red","pink":"Pink","grape":"Grape","violet":"Violet","gray":"Gray","blue":"Blue","cyan":"Cyan","teal":"Teal","green":"Green","yellow":"Yellow","orange":"Orange","bronze":"Bronze"},"welcomeScreen":{"app":{"center_heading":"All your data is saved locally in your browser.","center_heading_plus":"Did you want to go to the Excalidraw+ instead?","menuHint":"Export, preferences, languages, ..."},"defaults":{"menuHint":"Export, preferences, and more...","center_heading":"Diagrams. Made. Simple.","toolbarHint":"Pick a tool & Start drawing!","helpHint":"Shortcuts & help"}},"colorPicker":{"mostUsedCustomColors":"Most used custom colors","colors":"Colors","shades":"Shades","hexCode":"Hex code","noShades":"No shades available for this color"},"overwriteConfirm":{"action":{"exportToImage":{"title":"Export as image","button":"Export as image","description":"Export the scene data as an image from which you can import later."},"saveToDisk":{"title":"Save to disk","button":"Save to disk","description":"Export the scene data to a file from which you can import later."},"excalidrawPlus":{"title":"Excalidraw+","button":"Export to Excalidraw+","description":"Save the scene to your Excalidraw+ workspace."}},"modal":{"loadFromFile":{"title":"Load from file","button":"Load from file","description":"Loading from a file will <bold>replace your existing content</bold>.<br></br>You can back up your drawing first using one of the options below."},"shareableLink":{"title":"Load from link","button":"Replace my content","description":"Loading external drawing will <bold>replace your existing content</bold>.<br></br>You can back up your drawing first by using one of the options below."}}},"mermaid":{"title":"Mermaid to Excalidraw","button":"Insert","description":"Currently only <flowchartLink>Flowcharts</flowchartLink> and <sequenceLink>Sequence Diagrams</sequenceLink> are supported. The other types will be rendered as image in Excalidraw.","syntax":"Mermaid Syntax","preview":"Preview"}}`)},4451:function(We){We.exports=JSON.parse('{"ar-SA":99,"az-AZ":18,"bg-BG":75,"bn-BD":55,"ca-ES":81,"cs-CZ":91,"da-DK":31,"de-DE":100,"el-GR":85,"en":100,"es-ES":96,"eu-ES":99,"fa-IR":87,"fi-FI":81,"fr-FR":98,"gl-ES":90,"he-IL":81,"hi-IN":75,"hu-HU":70,"id-ID":96,"it-IT":99,"ja-JP":95,"kaa":34,"kab-KAB":80,"kk-KZ":20,"km-KH":87,"ko-KR":100,"ku-TR":92,"lt-LT":51,"lv-LV":82,"mr-IN":92,"my-MM":37,"nb-NO":99,"nl-NL":79,"nn-NO":71,"oc-FR":79,"pa-IN":82,"pl-PL":100,"pt-BR":96,"pt-PT":88,"ro-RO":98,"ru-RU":94,"si-LK":8,"sk-SK":99,"sl-SI":100,"sv-SE":100,"ta-IN":85,"th-TH":46,"tr-TR":91,"uk-UA":99,"vi-VN":51,"zh-CN":99,"zh-HK":24,"zh-TW":100}')}},st={};function yt(We){var ue=st[We];if(ue!==void 0)return ue.exports;var n=st[We]={id:We,exports:{}};return nt[We].call(n.exports,n,n.exports,yt),n.exports}yt.m=nt,yt.n=function(We){var ue=We&&We.__esModule?function(){return We.default}:function(){return We};return yt.d(ue,{a:ue}),ue},ee=Object.getPrototypeOf?function(We){return Object.getPrototypeOf(We)}:function(We){return We.__proto__},yt.t=function(We,ue){if(1&ue&&(We=this(We)),8&ue||typeof We=="object"&&We&&(4&ue&&We.__esModule||16&ue&&typeof We.then=="function"))return We;var n=Object.create(null);yt.r(n);var r={};_=_||[null,ee({}),ee([]),ee(ee)];for(var A=2&ue&&We;typeof A=="object"&&!~_.indexOf(A);A=ee(A))Object.getOwnPropertyNames(A).forEach(function(k){r[k]=function(){return We[k]}});return r.default=function(){return We},yt.d(n,r),n},yt.d=function(We,ue){for(var n in ue)yt.o(ue,n)&&!yt.o(We,n)&&Object.defineProperty(We,n,{enumerable:!0,get:ue[n]})},yt.f={},yt.e=function(We){return Promise.all(Object.keys(yt.f).reduce(function(ue,n){return yt.f[n](We,ue),ue},[]))},yt.u=function(We){return"excalidraw-assets/"+{22:"locales/kk-KZ-json",537:"locales/th-TH-json",663:"locales/kaa-json",1204:"locales/ja-JP-json",1302:"locales/si-LK-json",1477:"locales/my-MM-json",1513:"locales/el-GR-json",1628:"locales/bg-BG-json",1690:"locales/oc-FR-json",1790:"locales/da-DK-json",2091:"locales/ar-SA-json",2312:"locales/he-IL-json",2359:"locales/nb-NO-json",2404:"locales/ta-IN-json",2943:"locales/gl-ES-json",3024:"locales/nl-NL-json",3031:"locales/ku-TR-json",3082:"locales/de-DE-json",3162:"locales/pa-IN-json",3397:"locales/mr-IN-json",3421:"locales/zh-TW-json",3512:"locales/fi-FI-json",3674:"locales/pl-PL-json",3682:"locales/fr-FR-json",3721:"locales/pt-BR-json",3808:"locales/id-ID-json",3885:"locales/nn-NO-json",4e3:"locales/vi-VN-json",4568:"locales/az-AZ-json",4680:"locales/zh-CN-json",4736:"vendor",4977:"locales/tr-TR-json",5089:"locales/ro-RO-json",5130:"locales/ca-ES-json",5330:"locales/fa-IR-json",5395:"locales/pt-PT-json",6071:"locales/sl-SI-json",6239:"locales/it-IT-json",6265:"locales/cs-CZ-json",6566:"locales/km-KH-json",6768:"locales/lv-LV-json",6844:"locales/ko-KR-json",7368:"locales/hu-HU-json",7429:"locales/bn-BD-json",7759:"locales/uk-UA-json",7920:"locales/zh-HK-json",8081:"locales/eu-ES-json",8124:"locales/ru-RU-json",8340:"locales/lt-LT-json",8534:"locales/sv-SE-json",8750:"locales/sk-SK-json",8759:"locales/es-ES-json",9551:"locales/kab-KAB-json",9828:"locales/hi-IN-json"}[We]+"-"+{22:"2224f237cc93465f126f",537:"9a390d3cc7a7a6226b63",663:"4d0a4868835d0334a549",1204:"2cb067da0fb518e73564",1302:"4921d4298abfa256fe6f",1477:"3ba296b6fcf2a2197a7c",1513:"4cbc2dbda5a5df636ee1",1628:"42fb0378311f3ade2627",1690:"644a5eaa1311f70cb697",1790:"a94944ac6fa9756d2fac",2091:"db7c644ccbeb85d54a47",2312:"a7bc2a673875b2e655e1",2359:"798d785698d467e76fcf",2404:"2fa1854af68381c61913",2943:"d11c7966c3c2f95756e0",3024:"2cf913fe2f491c5d7075",3031:"bafa8865ed7002bb249e",3082:"d82053ab52357510811b",3162:"165c5c2760688033b2cc",3397:"ad1359c30c334d05eee0",3421:"5a3fa7cacfa83c411d89",3512:"64c8902f10425e1b2e81",3674:"35c1f168f53af24b657a",3682:"d16a471290ba26a6c66a",3721:"370215dc506c58ee3217",3808:"6542dd92ab54a2c1c48e",3885:"aa607835ad9408789c5f",4e3:"9c1c2a9fa9d6b5a58223",4568:"08a6de50238dbb21926c",4680:"069c304b5011429be615",4736:"677e88ca78c86bddf13d",4977:"fc9b16e9dc2be2660439",5089:"3c32b962880e225d3416",5130:"a6b2c18f7e85cfd11599",5330:"76b039039b043cc4280c",5395:"6f3d80656622a222b4e2",6071:"efb839ef0456f5c72e6e",6239:"ab410570df07304cb0ca",6265:"ea03835d73f9b921f7c4",6566:"cbe8e2e8d26d30a3175c",6768:"f7f9363e42ee2e3a7c67",6844:"c2387972637d47f15765",7368:"0419027d32efac73d518",7429:"9ad9e5ae95c4c66297b1",7759:"82753e98dced302ac187",7920:"d9bf1e4e2d1f8650c680",8081:"671a4afcfce7b0a7660b",8124:"e1f4ed9d2d074f778304",8340:"9b7e91a51b90ee551cad",8534:"cfab3adbd37dd273c61e",8750:"27b59d7e026675f929c4",8759:"7afb66536ee40d852fa2",9551:"0d400ba2836cc0752cd6",9828:"4947c9dace32cc3c6eef"}[We]+".js"},yt.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),yt.o=function(We,ue){return Object.prototype.hasOwnProperty.call(We,ue)},we={},Fe="ExcalidrawLib:",yt.l=function(We,ue,n,r){if(we[We])we[We].push(ue);else{var A,k;if(n!==void 0)for(var b=document.getElementsByTagName("script"),w=0;w<b.length;w++){var N=b[w];if(N.getAttribute("src")==We||N.getAttribute("data-webpack")==Fe+n){A=N;break}}A||(k=!0,(A=document.createElement("script")).charset="utf-8",A.timeout=120,yt.nc&&A.setAttribute("nonce",yt.nc),A.setAttribute("data-webpack",Fe+n),A.src=We),we[We]=[ue];var M=function(d,j){A.onerror=A.onload=null,clearTimeout(f);var L=we[We];if(delete we[We],A.parentNode&&A.parentNode.removeChild(A),L&&L.forEach(function(H){return H(j)}),d)return d(j)},f=setTimeout(M.bind(null,void 0,{type:"timeout",target:A}),12e4);A.onerror=M.bind(null,A.onerror),A.onload=M.bind(null,A.onload),k&&document.head.appendChild(A)}},yt.r=function(We){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(We,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(We,"__esModule",{value:!0})},yt.p="",function(){yt.b=document.baseURI||self.location.href;var We={1388:0};yt.f.j=function(r,A){var k=yt.o(We,r)?We[r]:void 0;if(k!==0)if(k)A.push(k[2]);else{var b=new Promise(function(M,f){k=We[r]=[M,f]});A.push(k[2]=b);var w=yt.p+yt.u(r),N=new Error;yt.l(w,function(M){if(yt.o(We,r)&&((k=We[r])!==0&&(We[r]=void 0),k)){var f=M&&(M.type==="load"?"missing":M.type),d=M&&M.target&&M.target.src;N.message="Loading chunk "+r+` failed.
(`+f+": "+d+")",N.name="ChunkLoadError",N.type=f,N.request=d,k[1](N)}},"chunk-"+r,r)}};var ue=function(r,A){var k,b,w=A[0],N=A[1],M=A[2],f=0;if(w.some(function(d){return We[d]!==0})){for(k in N)yt.o(N,k)&&(yt.m[k]=N[k]);M&&M(yt)}for(r&&r(A);f<w.length;f++)b=w[f],yt.o(We,b)&&We[b]&&We[b][0](),We[b]=0},n=self.webpackChunkExcalidrawLib=self.webpackChunkExcalidrawLib||[];n.forEach(ue.bind(null,0)),n.push=ue.bind(null,n.push.bind(n))}(),yt.nc=void 0;var kt={};return function(){yt.r(kt),yt.d(kt,{Button:function(){return x.zx},DefaultSidebar:function(){return x.Or},Excalidraw:function(){return x.Eb},FONT_FAMILY:function(){return x.ut},Footer:function(){return x.$_},LiveCollaborationTrigger:function(){return x.vO},MIME_TYPES:function(){return x.LO},MainMenu:function(){return x.lb},Sidebar:function(){return x.YE},THEME:function(){return x.C6},WelcomeScreen:function(){return x.B4},bumpVersion:function(){return x.ZP},convertToExcalidrawElements:function(){return x.wc},defaultLang:function(){return x.Fp},elementPartiallyOverlapsWithOrContainsBBox:function(){return x.sQ},elementsOverlappingBBox:function(){return x.Xs},exportToBlob:function(){return x.Fl},exportToCanvas:function(){return x.NL},exportToClipboard:function(){return x.i1},exportToSvg:function(){return x.$D},getCommonBounds:function(){return x.KP},getFreeDrawSvgPath:function(){return x.N7},getNonDeletedElements:function(){return x.Lm},getSceneVersion:function(){return x.Uo},isElementInsideBBox:function(){return x.Ne},isInvisiblySmallElement:function(){return x.QD},isLinearElement:function(){return x.bt},languages:function(){return x.Mj},loadFromBlob:function(){return x.cT},loadLibraryFromBlob:function(){return x.lV},loadSceneOrLibraryFromBlob:function(){return x.ZY},mergeLibraryItems:function(){return x.zh},mutateElement:function(){return x.DR},newElementWith:function(){return x.BE},normalizeLink:function(){return x.$u},parseLibraryTokensFromUrl:function(){return x.Di},restore:function(){return x.nu},restoreAppState:function(){return x.lY},restoreElements:function(){return x.ET},restoreLibraryItems:function(){return x.wJ},sceneCoordsToViewportCoords:function(){return x._i},serializeAsJSON:function(){return x.I_},serializeLibraryAsJSON:function(){return x.NI},useDevice:function(){return x.Fy},useHandleLibrary:function(){return x.xS},useI18n:function(){return x.QT},viewportCoordsToSceneCoords:function(){return x.dE}}),yt(9937).Vi.TEST!=="production"&&(yt.p=window.EXCALIDRAW_ASSET_PATH||"https://unpkg.com/".concat("@excalidraw/excalidraw","@").concat("0.17.6","/dist/"));var We=function(){Array.prototype.at||Object.defineProperty(Array.prototype,"at",{value:function(S){if((S=Math.trunc(S)||0)<0&&(S+=this.length),!(S<0||S>=this.length))return this[S]},writable:!0,enumerable:!1,configurable:!0}),Element.prototype.replaceChildren||(Element.prototype.replaceChildren=function(){this.innerHTML="",this.append.apply(this,arguments)})},ue=yt(3379),n=yt.n(ue),r=yt(7795),A=yt.n(r),k=yt(569),b=yt.n(k),w=yt(3565),N=yt.n(w),M=yt(9216),f=yt.n(M),d=yt(4589),j=yt.n(d),L=yt(4295),H={};H.styleTagTransform=j(),H.setAttributes=N(),H.insert=b().bind(null,"head"),H.domAPI=A(),H.insertStyleElement=f(),n()(L.Z,H),L.Z&&L.Z.locals&&L.Z.locals;var x=yt(4864);We()}(),kt}()})}(V0)),V0.exports}var $v;function m7(){if($v)return Bf.exports;$v=1;var o={};return o.IS_PREACT==="true"?Bf.exports=h7():Bf.exports=p7(),Bf.exports}var g7=m7();function v7({note:o,collaborators:e,onChange:t,onMouseMove:c}){const[_,ee]=wn.useState(null);wn.useEffect(()=>{o&&_&&_.updateScene({elements:o})},[_,o]),wn.useEffect(()=>{e&&_&&_.updateScene({collaborators:new Map(Object.entries(e))})},[e,_]);const we=wn.useCallback(({pointer:Fe,button:nt})=>{if(!_||(c({pointer:Fe,button:nt}),nt!=="down"))return;const st=_.getSceneElementsIncludingDeleted();t(st)},[_,t,c]);return ss.jsx("div",{style:{width:"960px",height:"640px",position:"absolute",top:0,left:0},children:ss.jsx(g7.Excalidraw,{excalidrawAPI:Fe=>ee(Fe),initialData:{appState:{viewBackgroundColor:"transparent"}},onPointerUpdate:we})})}const b7=()=>{const[o,e]=wn.useState(null),[t,c]=wn.useState(0),[_,ee]=wn.useState([]),[we,Fe]=wn.useState(!0),[nt,st]=wn.useState(null),[yt,kt]=wn.useState({}),{id:We}=Ew();wn.useEffect(()=>{(async()=>{const b=ZE(f7,"slides",We),w=await XE(b);if(!w.exists()){console.error("❌ 找不到投影片資料");return}const N=w.data();e(N),N.pages&&N.pages.length>0?c(0):console.warn("投影片沒有內容"),Fe(!1),st(Math.random().toString(36).substring(7))})()},[We]),wn.useEffect(()=>{if(!We)return;const k=ru(nu,`slides/${We}/collaborators`),b=W0(k,w=>{if(!w.exists())return;const N=w.val(),M=Object.fromEntries(Object.entries(N).filter(([f])=>f!==nt));kt(M)});return()=>b()},[We,nt]);const ue=({pointer:k,button:b})=>{const w=ru(nu,`slides/${We}/collaborators/${nt}`);zf(w,{pointer:{...k},button:b,username:nt})};wn.useEffect(()=>{if(!We)return;const k=ru(nu,`slides/${We}/currentPage`),b=W0(k,w=>{w.exists()&&c(w.val())});return()=>b()},[We]),wn.useEffect(()=>{if(!We)return;const k=ru(nu,`slides/${We}/notes/${t}`),b=W0(k,w=>{if(!w.exists()||w.val()===_)return;const N=w.val();N.sender!==nt&&ee(JSON.parse(N.elements))});return()=>b()},[We,t,_,nt]);const n=async k=>{const b=ru(nu,`slides/${We}/notes/${t}`);await zf(b,{elements:JSON.stringify(k),sender:nt})},r=()=>{if(!(!o||!o.pages)&&t<o.pages.length-1){const k=t+1;c(k);const b=ru(nu,`slides/${We}/currentPage`);zf(b,k)}},A=()=>{if(!(!o||!o.pages)&&t>0){const k=t-1;c(k);const b=ru(nu,`slides/${We}/currentPage`);zf(b,k)}};return!o||!o.pages||!o.pages[t]||we?ss.jsx("div",{children:"Loading..."}):ss.jsx("div",{children:ss.jsxs("div",{style:{position:"relative",width:"100vw",height:"100vh",backgroundColor:"gray"},children:[ss.jsxs("div",{style:{display:"block",position:"absolute",width:"960px",height:"640px"},children:[ss.jsx("img",{src:o.pages[t].content,alt:"投影片",style:{width:"960px",height:"640px",position:"absolute",zIndex:0}}),ss.jsx(v7,{note:_,collaborators:yt,onMouseMove:ue,onChange:k=>n(k)})]}),ss.jsxs("div",{style:{position:"absolute",width:"960px",top:"650px",left:"0px"},children:[ss.jsx("button",{style:{position:"absolute",top:"0px",left:"0px"},onClick:A,disabled:t===0,children:"上一頁"}),ss.jsx("button",{style:{position:"absolute",top:"0px",right:"0px"},onClick:r,disabled:t===o.pages.length-1,children:"下一頁"})]})]})})};function y7(){return ss.jsx(Nw,{children:ss.jsx(cb,{path:"/at-slides/:id",element:ss.jsx(b7,{})})})}Vx.createRoot(document.getElementById("root")).render(ss.jsx(zx.StrictMode,{children:ss.jsx(a3,{children:ss.jsx(y7,{})})}));
